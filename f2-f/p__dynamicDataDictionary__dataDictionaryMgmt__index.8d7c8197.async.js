"use strict";(self.webpackChunkf2=self.webpackChunkf2||[]).push([[170],{67254:function(ve,N,a){var z=a(26068),s=a.n(z),Y=a(67825),_=a.n(Y),o=a(53649),p=a.n(o),T=a(99503),n=a(77777),U=a(88230),ee=a(75271),V=a(52676),ae=["children","extra","ghost","title"],H,te,X=(0,U.kc)(function(re){var J=re.css;return{pageContainer:{"& .ant-page-header-heading":J(H||(H=p()([`
      margin-bottom: -50px;
    `]))),"& .ant-page-header-heading-extra":J(te||(te=p()([`
      position: absolute;
      top: 17px;
      right: 20px;
    `])))}}}),ne=function(J){var I=J.children,le=J.extra,se=le===void 0?(0,V.jsx)(T.er,{}):le,b=J.ghost,he=b===void 0?!1:b,Q=J.title,Se=Q===void 0?!1:Q,Fe=_()(J,ae),_e=X(),Ie=_e.styles;return(0,V.jsx)(n._z,s()(s()({ghost:he,extra:se,className:Ie.pageContainer,title:Se},Fe),{},{children:I}))};N.Z=ne},78474:function(ve,N,a){a.d(N,{j:function(){return Y},t:function(){return _}});var z=a(54388),s=a(87300);function Y(o,p,T,n,U,ee){var V=U!=null?U:s.ZP,ae=(0,z.useRequest)(o(p,T),{manual:!0,onSuccess:function(ne){if(ne.code!==0?V.error(ne.msg):V.success(ne.msg),ee)ee();else{var re;n==null||(re=n.current)===null||re===void 0||re.reload(!1)}},onError:function(){V.error("\u64CD\u4F5C\u5931\u8D25")}}),H=ae.run,te=ae.loading;return{runOpt:H,loading:te}}function _(o){var p=o.optMethod,T=o.optType,n=o.method,U=o.actionRef,ee=o.messageApi,V=o.onSuccessCallback,ae=o.showSuccessMessage,H=ae===void 0?!0:ae,te=ee!=null?ee:s.ZP,X=(0,z.useRequest)(p(T,n),{manual:!0,onSuccess:function(I){var le=typeof I.msg=="string"?I.msg:JSON.stringify(I.msg);if(I.code!==0)te.error(le);else if(V)V(I);else{var se;H&&te.success(le),U==null||(se=U.current)===null||se===void 0||se.reload(!1)}},onError:function(){te.error("\u64CD\u4F5C\u5931\u8D25")}}),ne=X.run,re=X.loading;return{runOpt:ne,loading:re}}},30168:function(ve,N,a){a.d(N,{OV:function(){return s}});var z=a(60164),s=function(o,p){var T=(0,z.ac)({minWidth:p||1700}),n=T?o.wide:o.small;return{isWideScreen:T,width:n}},Y=function(o){var p=useMediaQuery({minWidth:1700}),T=useMediaQuery({maxWidth:1699});return p?{type:"wide",width:o.wide}:T?{type:"small",width:o.small}:{type:"small",width:o.small}};N.ZP=s},59471:function(ve,N,a){a.d(N,{RP:function(){return z},r0:function(){return Y},uL:function(){return s}});var z=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return{validator:function(T,n){if(!n)return o?Promise.resolve():Promise.reject("\u53C2\u6570\u4E0D\u80FD\u4E3A\u7A7A");try{return JSON.parse(n),Promise.resolve()}catch(U){return Promise.reject("\u8BF7\u8F93\u5165\u5408\u6CD5\u7684JSON\u683C\u5F0F")}},validateTrigger:["onChange","onBlur"]}},s={validator:function(o,p){if(!p)return Promise.resolve();var T=/^[^:]+:[^:]+$/;return T.test(p)?Promise.resolve():Promise.reject("\u683C\u5F0F\u5FC5\u987B\u4E3A: {username}:{password}")},validateTrigger:["onChange","onBlur"]},Y={validator:function(o,p){if(!p)return Promise.resolve();try{var T=new URL(p);return["http:","https:"].includes(T.protocol)?p.endsWith("/")?Promise.reject('URL\u8BF7\u52FF\u4EE5"/"\u7ED3\u5C3E'):Promise.resolve():Promise.reject("URL\u5FC5\u987B\u4EE5http://\u6216https://\u5F00\u5934")}catch(n){return Promise.reject("\u8BF7\u8F93\u5165\u5408\u6CD5\u7684URL\u683C\u5F0F")}},validateTrigger:["onChange","onBlur"]}},92566:function(ve,N,a){a.r(N),a.d(N,{default:function(){return Va}});var z=a(90228),s=a.n(z),Y=a(26068),_=a.n(Y),o=a(87999),p=a.n(o),T=a(48305),n=a.n(T),U=a(53649),ee=a.n(U),V=a(99503),ae=a(67254),H=a(78474),te=a(30168),X=a(54388),ne=a(19048),re=a(65496),J=a(84297),I=a(82715),le=a(90254),se=a(37665),b=a(87300),he=a(80921),Q=a(38902),Se=a(50876),Fe=a(47113),_e=a(64085),Ie=a(67870),j=a(84249),C=a(41901),ba=a(88230),v=a(75271),Pa=a(67825),Sa=a.n(Pa),Fa=a(335),Ea=a.n(Fa),na=a(54805),q=a(1544),Ia=a(44725),xe=a(20877),Re=a(59471),e=a(52676),Ca=function(w){var W=w.value,x=Ia.Z.useForm(),Ce=n()(x,1),ge=Ce[0];return(0,v.useEffect)(function(){W&&ge.setFieldsValue(W)},[W]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(na.Z.Group,{name:["dataInfo","remote_auth_type"],label:"\u8BA4\u8BC1\u65B9\u5F0F",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u8BA4\u8BC1\u65B9\u5F0F"}],options:[{label:"\u533F\u540D",value:"no_auth"},{label:"basic_auth",value:"basic_auth"},{label:"headers",value:"headers"},{label:"codo",value:"codo"}]}),(0,e.jsx)(q.Z,{noStyle:!0,shouldUpdate:function(O,P){var k,B;return(O==null||(k=O.dataInfo)===null||k===void 0?void 0:k.remote_auth_type)!==(P==null||(B=P.dataInfo)===null||B===void 0?void 0:B.remote_auth_type)},children:function(O){var P=O.getFieldValue(["dataInfo","remote_auth_type"]);return P==="basic_auth"?(0,e.jsxs)(q.Z,{label:"Basic Auth",required:!0,style:{marginBottom:"0px"},children:[(0,e.jsx)("div",{style:{marginBottom:8},children:(0,e.jsx)(xe.Z,{type:"info",showIcon:!0,message:"\u683C\u5F0F\u4E3A: {username}:{password}\uFF0C\u793A\u4F8B: codo:123456"})}),(0,e.jsx)(I.Z.Password,{name:["dataInfo","remote_auth_basic_info"],rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u8BA4\u8BC1\u4FE1\u606F"},Re.uL],fieldProps:{maxLength:200,placeholder:"\u8BF7\u8F93\u5165\u8BA4\u8BC1\u4FE1\u606F"}})]}):P==="headers"?(0,e.jsx)(q.Z,{name:["dataInfo","remote_auth_headers"],label:"Headers",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u8BA4\u8BC1\u4FE1\u606F"},(0,Re.RP)(!1)],children:(0,e.jsx)(j.Z.Password,{maxLength:500,placeholder:"\u9700\u8981json\u683C\u5F0F"})}):null}}),(0,e.jsx)(q.Z,{noStyle:!0,shouldUpdate:function(O,P){var k,B;return(O==null||(k=O.dataInfo)===null||k===void 0?void 0:k.remote_auth_type)!==(P==null||(B=P.dataInfo)===null||B===void 0?void 0:B.remote_auth_type)},children:function(O){var P=O.getFieldValue(["dataInfo","remote_auth_type"]);return(0,e.jsx)(I.Z,{name:["dataInfo","remote_url"],label:"\u63A5\u53E3\u5730\u5740",fieldProps:{maxLength:200,placeholder:P==="codo"?"\u4F8B\u5982\uFF1A/api/v2/xxx/":"\u4F8B\u5982\uFF1Ahttps://xxx/api/v2/xxx/"},rules:[{required:!0,message:"\u63A5\u53E3\u5730\u5740\u4E0D\u80FD\u4E3A\u7A7A"},P==="codo"?{validator:function(B,pe){if(!pe)return Promise.resolve();var be=/^\/[a-zA-Z0-9\-._~%!$&'()*+,;=:@/]*$/;return be.test(pe)?Promise.resolve():Promise.reject("\u8BF7\u8F93\u5165\u5408\u6CD5\u7684URL\u8DEF\u5F84\uFF0C\u5FC5\u987B\u4EE5/\u5F00\u5934")},validateTrigger:["onChange","onBlur"]}:Re.r0]})}}),(0,e.jsx)(na.Z.Group,{name:["dataInfo","remote_http_method"],radioType:"button",label:"\u8BF7\u6C42\u65B9\u6CD5",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u8BF7\u6C42\u65B9\u6CD5"}],style:{minHeight:"32px"},options:[{label:"GET",value:"GET"},{label:"POST",value:"POST"},{label:"PUT",value:"PUT"},{label:"PATCH",value:"PATCH"},{label:"DELETE",value:"DELETE"},{label:"HEAD",value:"HEAD"},{label:"OPTIONS",value:"OPTIONS"}]}),(0,e.jsx)(q.Z,{noStyle:!0,shouldUpdate:function(O,P){var k,B;return(O==null||(k=O.dataInfo)===null||k===void 0?void 0:k.remote_http_method)!==(P==null||(B=P.dataInfo)===null||B===void 0?void 0:B.remote_http_method)},children:function(O){var P=O.getFieldValue(["dataInfo","remote_http_method"]);return(0,e.jsxs)(q.Z,{name:["dataInfo","remote_req_body"],label:"\u53C2\u6570",rules:[(0,Re.RP)(!1)],children:[(0,e.jsx)("div",{style:{marginBottom:8},children:(0,e.jsx)(xe.Z,{type:"info",showIcon:!0,message:P==="GET"?'GET \u8BF7\u6C42\u7684params\u6570\u636E\uFF0C\u5FC5\u987Bjson\u683C\u5F0F\uFF0C\u4E00\u5B9A\u8981\u4F7F\u7528\u53CC\u5F15\u53F7\uFF0C\u4F8B\u5982\uFF1A{"list_id": 88}\u3002\u5185\u7F6E\u53D8\u91CF\u5F53\u524D\u8BA2\u5355\u53F7 FLOW_ID \u5F53\u524D\u8FD0\u884C\u8282\u70B9\u7F16\u53F7 NODE_ID \u53EF\u4EE5\u76F4\u63A5\u5728\u53C2\u6570\u4E2D\u4F7F\u7528\u3002':'requset\u8BF7\u6C42\u7684body\u6570\u636E\uFF0C\u5FC5\u987Bjson\u683C\u5F0F\uFF0C\u4E00\u5B9A\u8981\u4F7F\u7528\u53CC\u5F15\u53F7\uFF0C\u4F8B\u5982\uFF1A{"list_id": 88}\u3002\u5185\u7F6E\u53D8\u91CF\u5F53\u524D\u8BA2\u5355\u53F7 FLOW_ID \u5F53\u524D\u8FD0\u884C\u8282\u70B9\u7F16\u53F7 NODE_ID \u53EF\u4EE5\u76F4\u63A5\u5728\u53C2\u6570\u4E2D\u4F7F\u7528\u3002'})}),(0,e.jsx)(V.ML,{height:"100px",defaultLanguage:"json",theme:"vs-dark",value:O.getFieldValue(["dataInfo","remote_req_body"]),onChange:function(B){return O.setFieldValue(["dataInfo","remote_req_body"],B)},options:{minimap:{enabled:!1},scrollBeyondLastLine:!1,wordWrap:"on",formatOnPaste:!0,formatOnType:!0,autoClosingBrackets:"always",autoClosingQuotes:"always",tabSize:2,bracketPairColorization:{enabled:!0}}})]})}}),(0,e.jsxs)(q.Z,{label:"JSONPath\u89E3\u6790",children:[(0,e.jsx)("div",{style:{marginBottom:8},children:(0,e.jsx)(xe.Z,{type:"info",showIcon:!0,message:"\u8BF7\u8F93\u5165JSONPath\u89E3\u6790\u7684\u6807\u7B7E\u8DEF\u5F84\u548C\u503C\u8DEF\u5F84\uFF0C\u4F8B\u5982\uFF1A$.data.list[*].label \u548C $.data.list[*].value"})}),(0,e.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,e.jsx)("div",{style:{flex:1},children:(0,e.jsx)(I.Z,{name:["dataInfo","remote_label_query_json_path"],label:"\u6807\u7B7E\u8DEF\u5F84",placeholder:"\u8BF7\u8F93\u5165\u6807\u7B7E\u8DEF\u5F84",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6807\u7B7E\u8DEF\u5F84"}]})}),(0,e.jsx)("div",{style:{flex:1},children:(0,e.jsx)(I.Z,{name:["dataInfo","remote_value_query_json_path"],label:"\u503C\u8DEF\u5F84",placeholder:"\u8BF7\u8F93\u5165\u503C\u8DEF\u5F84",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u503C\u8DEF\u5F84"}]})})]})]})]})},wa=Ca,Oa=a(60200),Ba=a(23261),ua=a(58930),Ta=a(14443),Za=a(68749),xa=a(56247),Ra=a(66130),La=a(21433),Ma=a(74922),la=a(81912),oe=a(96347),ka=["id","index"],Aa=function(){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(I.Z,{name:["dataInfo","git_repo_url"],label:"Git URL",placeholder:"\u8BF7\u8F93\u5165Git\u4ED3\u5E93\u5730\u5740",rules:[{required:!0,message:"Git URL\u4E0D\u80FD\u4E3A\u7A7A"}]}),(0,e.jsx)(I.Z.Password,{name:["dataInfo","git_repo_token"],label:"Token",placeholder:"\u8BF7\u8F93\u5165Git Token",rules:[{required:!0,message:"Token\u4E0D\u80FD\u4E3A\u7A7A"}]})]})},Ua={true:"enable",false:"disable",enable:!0,disable:!1},ja=function(w){return Ua[w]},Wa=function(w){var W=w.drawerData,x=w.formData,Ce=w.onVisibleChange,ge=w.onSubmit,G=(0,v.useRef)([]),O=(0,v.useState)(0),P=n()(O,2),k=P[0],B=P[1],pe=(0,v.useState)([]),be=n()(pe,2),Le=be[0],fe=be[1],sa=(0,v.useState)([]),Me=n()(sa,2),ie=Me[0],de=Me[1],oa=(0,v.useState)(!1),ke=n()(oa,2),Ae=ke[0],Ee=ke[1],je=(0,v.useState)(!1),Ue=n()(je,2),We=Ue[0],ue=Ue[1],we=(0,v.useState)(!1),Ge=n()(we,2),Ke=Ge[0],De=Ge[1],ia=(0,v.useState)(!1),$e=n()(ia,2),Oe=$e[0],Ne=$e[1],da=(0,v.useState)(!1),Ve=n()(da,2),Be=Ve[0],Te=Ve[1],Ze=(0,v.useState)(!1),ze=n()(Ze,2),He=ze[0],Je=ze[1],ca=(0,v.useRef)(),ma=(0,v.useState)([]),Qe=n()(ma,2),Ye=Qe[0],Xe=Qe[1],pa=(0,v.useState)([]),qe=n()(pa,2),fa=qe[0],va=qe[1],ha=(0,v.useState)([]),ea=n()(ha,2),_a=ea[0],f=ea[1],m=[{title:"\u5B57\u5178\u9879\u540D\u79F0",dataIndex:"label",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]}},{title:"\u5B57\u5178\u9879\u503C",dataIndex:"value",formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]}},{title:"\u64CD\u4F5C",valueType:"option",width:100,render:function(d,t){return[(0,e.jsx)(Q.Z.Link,{onClick:function(){de(ie.filter(function(E){return E.id!==t.id}))},children:"\u5220\u9664"},"delete")]}}],r=[{title:"\u5B57\u5178\u9879\u540D\u79F0",dataIndex:"label",key:"label"},{title:"\u5B57\u5178\u9879\u503C",dataIndex:"value",key:"value"}],R=b.ZP.useMessage(),i=n()(R,2),L=i[0],aa=i[1],A=(0,X.useRequest)(function(){return(0,oe.Y7)({name:x==null?void 0:x.name})},{manual:!0,formatResult:function(d){return d.data}}),D=A.data,za=A.run,Ha=(0,H.j)(oe.O1,"create","POST",ca,L),ga=Ha.runOpt;(0,v.useEffect)(function(){W.show&&(B(0),x!=null&&x.name&&za())},[W.show]),(0,v.useEffect)(function(){if(W.show){var M,d,t,S,E,Z,g;B(0);var F=x!=null&&x.name?{basicInfo:_()({status:!0},D!=null&&D.item?_()(_()({},D.item),{},{status:ja(D.item.status)}):{}),dataInfo:_()(_()(_()({source_type:"static",remote_auth_type:"no_auth"},(D==null||(M=D.item)===null||M===void 0?void 0:M.data_source_cfg)||{}),D!=null&&(d=D.item)!==null&&d!==void 0&&(d=d.data_source_cfg)!==null&&d!==void 0&&d.remote_auth_headers?{remote_auth_headers:JSON.stringify(D.item.data_source_cfg.remote_auth_headers)}:{}),{},{remote_http_method:(D==null||(t=D.item)===null||t===void 0||(t=t.data_source_cfg)===null||t===void 0?void 0:t.remote_http_method)||"POST",lark_sheet_app_id:(D==null||(S=D.item)===null||S===void 0||(S=S.data_source_cfg)===null||S===void 0?void 0:S.lark_sheet_app_id)||"",lark_sheet_app_secret:(D==null||(E=D.item)===null||E===void 0||(E=E.data_source_cfg)===null||E===void 0?void 0:E.lark_sheet_app_secret)||""})}:{basicInfo:{status:!0},dataInfo:{source_type:"static",remote_auth_type:"no_auth",remote_http_method:"POST"}};if(G==null||(Z=G.current)===null||Z===void 0||Z.forEach(function(u){var K;u==null||(K=u.current)===null||K===void 0||K.setFieldsValue(F)}),x!=null&&x.name&&D!==null&&D!==void 0&&(g=D.item)!==null&&g!==void 0&&(g=g.data_source_cfg)!==null&&g!==void 0&&g.static_data){var y=D.item.data_source_cfg.static_data.map(function(u){return _()(_()({},u),{},{id:Date.now()+Math.random()})});de(y),fe(y.map(function(u){return u.id}))}else de([]),fe([])}},[W.show,D]);var Ja={name:"file",customRequest:function(){var M=p()(s()().mark(function t(S){var E,Z,g,F;return s()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return E=S.file,Z=S.onError,u.prev=1,u.next=4,(0,oe.$r)(E);case 4:g=u.sent,g.code===0?(F=g.data.items.map(function(K){return _()(_()({},K),{},{id:Date.now()+Math.random()})}),de(F),fe(F.map(function(K){return K.id})),g.data.conflict_tips?b.ZP.warning(g.data.conflict_tips):b.ZP.success("\u89E3\u6790\u6210\u529F")):(b.ZP.error(g.msg||"\u4E0A\u4F20\u5931\u8D25"),Z==null||Z(new Error(g.msg))),u.next=12;break;case 8:u.prev=8,u.t0=u.catch(1),b.ZP.error("".concat(E.name," \u4E0A\u4F20\u5931\u8D25")),Z==null||Z(u.t0);case 12:case"end":return u.stop()}},t,null,[[1,8]])}));function d(t){return M.apply(this,arguments)}return d}(),showUploadList:!1},Qa=function(d){d||(Ee(!1),ue(!1),De(!1)),Ce(d)};return(0,e.jsxs)(ua.L0,{onFinish:function(){var M=p()(s()().mark(function d(t){var S,E,Z,g,F,y,u,K,l,ye,Pe;return s()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(t.dataInfo.source_type!=="static"){c.next=45;break}if(ie.length!==0){c.next=4;break}return b.ZP.error("\u8BF7\u81F3\u5C11\u6DFB\u52A0\u4E00\u6761\u6570\u636E"),c.abrupt("return",!1);case 4:S=Ea()(ie),c.prev=5,S.s();case 7:if((E=S.n()).done){c.next=17;break}if(F=E.value,(Z=F.label)!==null&&Z!==void 0&&Z.trim()){c.next=12;break}return b.ZP.error("\u5B57\u5178\u9879\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"),c.abrupt("return",!1);case 12:if((g=F.value)!==null&&g!==void 0&&g.trim()){c.next=15;break}return b.ZP.error("\u5B57\u5178\u9879\u503C\u4E0D\u80FD\u4E3A\u7A7A"),c.abrupt("return",!1);case 15:c.next=7;break;case 17:c.next=22;break;case 19:c.prev=19,c.t0=c.catch(5),S.e(c.t0);case 22:return c.prev=22,S.f(),c.finish(22);case 25:y=new Map,u=Ea()(ie),c.prev=27,u.s();case 29:if((K=u.n()).done){c.next=37;break}if(l=K.value,!y.has(l.label)){c.next=34;break}return b.ZP.error("\u5B58\u5728\u91CD\u590D\u7684\u5B57\u5178\u9879\u540D\u79F0\uFF1A".concat(l.label)),c.abrupt("return",!1);case 34:y.set(l.label,!0);case 35:c.next=29;break;case 37:c.next=42;break;case 39:c.prev=39,c.t1=c.catch(27),u.e(c.t1);case 42:return c.prev=42,u.f(),c.finish(42);case 45:return ye=function(h){return h.map(function(ce){var Ya=ce.id,$=ce.index,Xa=Sa()(ce,ka);return Xa})},Pe=_()(_()(_()({},x!=null&&x.id?{id:x.id}:{}),t.basicInfo),{},{status:ja(t.basicInfo.status),data_source_cfg:{source_type:t.dataInfo.source_type,static_data:t.dataInfo.source_type==="static"?ye(ie):void 0,remote_url:t.dataInfo.remote_url,remote_http_method:t.dataInfo.remote_http_method,remote_auth_type:t.dataInfo.remote_auth_type,remote_auth_basic_info:t.dataInfo.remote_auth_basic_info,remote_auth_headers:t.dataInfo.remote_auth_headers?JSON.parse(t.dataInfo.remote_auth_headers):void 0,remote_req_body:t.dataInfo.remote_req_body,remote_label_query_json_path:t.dataInfo.remote_label_query_json_path,remote_value_query_json_path:t.dataInfo.remote_value_query_json_path,git_repo_url:t.dataInfo.git_repo_url,git_repo_token:t.dataInfo.git_repo_token,lark_sheet_url:t.dataInfo.lark_sheet_url,lark_sheet_label_col_name:t.dataInfo.lark_sheet_label_col_name,lark_sheet_value_col_name:t.dataInfo.lark_sheet_value_col_name,lark_sheet_app_id:t.dataInfo.lark_sheet_app_id,lark_sheet_app_secret:t.dataInfo.lark_sheet_app_secret}}),ge(Pe),c.abrupt("return",!0);case 49:case"end":return c.stop()}},d,null,[[5,19,22,25],[27,39,42,45]])}));return function(d){return M.apply(this,arguments)}}(),current:k,onCurrentChange:B,containerStyle:{width:"90%"},formMapRef:G,stepsFormRender:function(d,t){return(0,e.jsx)(Ta.a,{title:W.title,open:W.show,onOpenChange:Qa,width:"75%",style:{},layout:"horizontal",drawerProps:{maskClosable:!1,destroyOnClose:!0},submitter:{render:function(){return t}},children:d})},children:[(0,e.jsxs)(ua.L0.StepForm,{name:"step1",title:"\u6570\u636E\u5B57\u5178\u914D\u7F6E",onFinish:p()(s()().mark(function M(){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},M)})),layout:"horizontal",labelCol:{span:3},children:[(0,e.jsx)(I.Z,{name:["basicInfo","name"],label:"\u6570\u636E\u5B57\u5178\u540D\u79F0",placeholder:"\u8BF7\u8F93\u5165\u6570\u636E\u5B57\u5178\u540D\u79F0",fieldProps:{maxLength:25},rules:[{required:!0}]}),(0,e.jsx)(Za.Z,{name:["basicInfo","status"],label:"\u72B6\u6001",initialValue:!1,rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u72B6\u6001"}],fieldProps:{checkedChildren:"\u542F\u7528",unCheckedChildren:"\u7981\u7528"}}),(0,e.jsx)(xa.Z,{name:["basicInfo","remark"],label:"\u5907\u6CE8",placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8\u4FE1\u606F",fieldProps:{maxLength:200,rows:4}}),(0,e.jsx)(Ra.Z,{name:["basicInfo","maintainers"],label:"\u7EF4\u62A4\u4EBA",placeholder:"\u8BF7\u9009\u62E9\u7EF4\u62A4\u4EBA",mode:"multiple",debounceTime:300,rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u7EF4\u62A4\u4EBA"}],request:p()(s()().mark(function M(){var d,t;return s()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,(0,Oa.lE)({page:1,limit:301});case 2:return t=E.sent,E.abrupt("return",(t==null||(d=t.data)===null||d===void 0?void 0:d.map(function(Z){return{label:"".concat(Z.username,"(").concat(Z.nickname,")"),value:Z.id}}))||[]);case 4:case"end":return E.stop()}},M)}))})]}),(0,e.jsxs)(ua.L0.StepForm,{name:"step2",title:"\u6DFB\u52A0\u6570\u636E\u8868",onFinish:p()(s()().mark(function M(){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},M)})),layout:"horizontal",labelCol:{span:3},children:[(0,e.jsx)(na.Z.Group,{name:["dataInfo","source_type"],label:"\u6570\u636E\u6E90",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u6570\u636E\u6E90"}],options:[{label:"\u9759\u6001\u6570\u636E",value:"static"},{label:"\u8FDC\u7A0BURL\u6570\u636E",value:"remote"},{label:"Git\u4ED3\u5E93\u5206\u652F",value:"git_branch"},{label:"\u98DE\u4E66\u8868\u683C",value:"lark_sheet"}]}),(0,e.jsx)(q.Z,{noStyle:!0,shouldUpdate:function(d,t){var S,E;return(d==null||(S=d.dataInfo)===null||S===void 0?void 0:S.source_type)!==(t==null||(E=t.dataInfo)===null||E===void 0?void 0:E.source_type)},children:function(d){var t=d.getFieldValue(["dataInfo","source_type"]);if(t==="git_branch"){var S=function(){var g=p()(s()().mark(function F(){var y,u;return s()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,Ne(!0),l.next=4,d.validateFields([["dataInfo","git_repo_url"],["dataInfo","git_repo_token"]]);case 4:return y=d.getFieldsValue(),l.next=7,ga({source_type:"git_branch",git_repo_url:y.dataInfo.git_repo_url,git_repo_token:y.dataInfo.git_repo_token});case 7:u=l.sent,u.code===0?(Ee(!0),va(u.data.items),b.ZP.success("\u9884\u89C8\u6210\u529F")):(Ee(!1),b.ZP.error(u.msg||"\u9884\u89C8\u5931\u8D25")),l.next=15;break;case 11:l.prev=11,l.t0=l.catch(0),Ee(!1),l.t0 instanceof Error?b.ZP.error(l.t0.message):b.ZP.error("\u8BF7\u5148\u586B\u5199\u6B63\u786E\u7684Git\u4FE1\u606F");case 15:return l.prev=15,Ne(!1),l.finish(15);case 18:case"end":return l.stop()}},F,null,[[0,11,15,18]])}));return function(){return g.apply(this,arguments)}}();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Aa,{}),(0,e.jsxs)(q.Z,{label:"\u6570\u636E\u8868",children:[(0,e.jsx)(C.ZP,{type:"primary",style:{marginBottom:16},onClick:S,loading:Oe,children:"\u9884\u89C8\u6570\u636E\u8868"}),Ae&&(0,e.jsx)(la.Z,{columns:r,dataSource:fa,pagination:!1,size:"small",loading:Oe})]})]})}if(t==="remote"){var E=function(){var g=p()(s()().mark(function F(){var y,u,K,l,ye,Pe,ta,c,ra,h,ce;return s()().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.prev=0,Te(!0),$.next=4,d.validateFields([["dataInfo","remote_http_method"],["dataInfo","remote_auth_type"],["dataInfo","remote_url"],["dataInfo","remote_auth_basic_info"],["dataInfo","remote_auth_headers"],["dataInfo","remote_req_body"],["dataInfo","remote_label_query_json_path"],["dataInfo","remote_value_query_json_path"]]);case 4:return h=d.getFieldsValue(),$.next=7,ga({source_type:"remote",remote_url:h==null||(y=h.dataInfo)===null||y===void 0?void 0:y.remote_url,remote_http_method:h==null||(u=h.dataInfo)===null||u===void 0?void 0:u.remote_http_method,remote_auth_type:h==null||(K=h.dataInfo)===null||K===void 0?void 0:K.remote_auth_type,remote_auth_basic_info:h==null||(l=h.dataInfo)===null||l===void 0?void 0:l.remote_auth_basic_info,remote_auth_headers:h!=null&&(ye=h.dataInfo)!==null&&ye!==void 0&&ye.remote_auth_headers?JSON.parse(h==null||(Pe=h.dataInfo)===null||Pe===void 0?void 0:Pe.remote_auth_headers):void 0,remote_req_body:h==null||(ta=h.dataInfo)===null||ta===void 0?void 0:ta.remote_req_body,remote_label_query_json_path:h==null||(c=h.dataInfo)===null||c===void 0?void 0:c.remote_label_query_json_path,remote_value_query_json_path:h==null||(ra=h.dataInfo)===null||ra===void 0?void 0:ra.remote_value_query_json_path});case 7:ce=$.sent,ce.code===0?(ue(!0),Xe(ce.data.items),b.ZP.success("\u9884\u89C8\u6210\u529F")):(ue(!1),b.ZP.error(ce.msg||"\u9884\u89C8\u5931\u8D25")),$.next=15;break;case 11:$.prev=11,$.t0=$.catch(0),ue(!1),$.t0 instanceof Error&&b.ZP.error($.t0.message);case 15:return $.prev=15,Te(!1),$.finish(15);case 18:case"end":return $.stop()}},F,null,[[0,11,15,18]])}));return function(){return g.apply(this,arguments)}}();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(wa,{}),(0,e.jsxs)(q.Z,{label:"\u6570\u636E\u8868",children:[(0,e.jsx)(C.ZP,{type:"primary",style:{marginBottom:16},onClick:E,loading:Be,children:"\u9884\u89C8\u6570\u636E\u8868"}),We&&(0,e.jsx)(la.Z,{columns:r,dataSource:Ye,pagination:!1,size:"small",loading:Be})]})]})}if(t==="static")return(0,e.jsxs)(q.Z,{label:"\u6570\u636E\u8868",required:!0,children:[(0,e.jsxs)(he.Z,{align:"center",gap:10,children:[(0,e.jsx)(La.Z,{name:["dataInfo","file"],title:"\u4E0A\u4F20\u6587\u4EF6",fieldProps:_()({},Ja)}),(0,e.jsx)(xe.Z,{style:{height:32,marginTop:-24},message:(0,e.jsxs)("span",{children:["\u6CE8\u610F\uFF1A\u652F\u6301csv\u6587\u4EF6\u683C\u5F0F\uFF0C\u53EF\u4E0B\u8F7D"," ",(0,e.jsx)(Q.Z.Link,{onClick:function(){var F=`\u5B57\u5178\u6807\u7B7E,\u5B57\u5178\u503C
label-1,value-1`;(0,Ba.Sv)(F,"\u6570\u636E\u5B57\u5178\u6A21\u677F.csv","text/csv")},children:"\u6807\u51C6\u6A21\u677F"}),"\u586B\u5199\u540E\u4E0A\u4F20\uFF0C\u4E0A\u4F20\u540E\u5C06\u8986\u76D6\u5F53\u524D\u6570\u636E\u8868\u5DF2\u6DFB\u52A0\u5185\u5BB9"]}),type:"info",showIcon:!0})]}),(0,e.jsx)(Ma.Z,{style:{marginTop:16},size:"small",rowKey:"id",maxLength:20,columns:m,value:ie,onChange:de,recordCreatorProps:{newRecordType:"dataSource",record:function(){return{id:Date.now(),value:"",label:""}}},editable:{type:"multiple",editableKeys:Le,actionRender:function(F,y,u){return[u.delete]},onValuesChange:function(F,y){de(y)},onChange:fe}})]});if(t==="lark_sheet"){var Z=function(){var g=p()(s()().mark(function F(){var y,u;return s()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,Je(!0),l.next=4,d.validateFields([["dataInfo","lark_sheet_url"],["dataInfo","lark_sheet_label_col_name"],["dataInfo","lark_sheet_value_col_name"],["dataInfo","lark_sheet_app_id"],["dataInfo","lark_sheet_app_secret"]]);case 4:return y=d.getFieldsValue(),l.next=7,ga({source_type:"lark_sheet",lark_sheet_url:y.dataInfo.lark_sheet_url,lark_sheet_label_col_name:y.dataInfo.lark_sheet_label_col_name,lark_sheet_value_col_name:y.dataInfo.lark_sheet_value_col_name,lark_sheet_app_id:y.dataInfo.lark_sheet_app_id,lark_sheet_app_secret:y.dataInfo.lark_sheet_app_secret});case 7:u=l.sent,u.code===0?(De(!0),f(u.data.items),b.ZP.success("\u9884\u89C8\u6210\u529F")):(De(!1),b.ZP.error(u.msg||"\u9884\u89C8\u5931\u8D25")),l.next=15;break;case 11:l.prev=11,l.t0=l.catch(0),De(!1),l.t0 instanceof Error?b.ZP.error(l.t0.message):b.ZP.error("\u8BF7\u5148\u586B\u5199\u6B63\u786E\u7684\u98DE\u4E66\u8868\u683C\u4FE1\u606F");case 15:return l.prev=15,Je(!1),l.finish(15);case 18:case"end":return l.stop()}},F,null,[[0,11,15,18]])}));return function(){return g.apply(this,arguments)}}();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(I.Z,{name:["dataInfo","lark_sheet_url"],label:"\u98DE\u4E66\u8868\u683C\u914D\u7F6EURL",placeholder:"\u8BF7\u8F93\u5165\u98DE\u4E66\u8868\u683C\u914D\u7F6EURL",rules:[{required:!0,message:"\u98DE\u4E66\u8868\u683C\u914D\u7F6EURL\u4E0D\u80FD\u4E3A\u7A7A"}]}),(0,e.jsx)(I.Z,{name:["dataInfo","lark_sheet_label_col_name"],label:"\u98DE\u4E66\u8868\u683Clabel\u5217",placeholder:"\u8BF7\u8F93\u5165\u98DE\u4E66\u8868\u683Clabel\u5217\u540D\u79F0",rules:[{required:!0,message:"\u98DE\u4E66\u8868\u683Clabel\u5217\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"}]}),(0,e.jsx)(I.Z,{name:["dataInfo","lark_sheet_value_col_name"],label:"\u98DE\u4E66\u8868\u683Cvalue\u5217",placeholder:"\u8BF7\u8F93\u5165\u98DE\u4E66\u8868\u683Cvalue\u5217\u540D\u79F0",rules:[{required:!0,message:"\u98DE\u4E66\u8868\u683Cvalue\u5217\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"}]}),(0,e.jsx)(I.Z,{name:["dataInfo","lark_sheet_app_id"],label:"\u98DE\u4E66\u673A\u5668\u4EBAapp_id",placeholder:"\u8BF7\u8F93\u5165\u98DE\u4E66\u673A\u5668\u4EBAapp_id",rules:[{required:!0,message:"\u98DE\u4E66\u673A\u5668\u4EBAapp_id\u4E0D\u80FD\u4E3A\u7A7A"}]}),(0,e.jsx)(I.Z.Password,{name:["dataInfo","lark_sheet_app_secret"],label:"\u98DE\u4E66\u673A\u5668\u4EBAapp_secret",placeholder:"\u8BF7\u8F93\u5165\u98DE\u4E66\u673A\u5668\u4EBAapp_secret",rules:[{required:!0,message:"\u98DE\u4E66\u673A\u5668\u4EBAapp_secret\u4E0D\u80FD\u4E3A\u7A7A"}]}),(0,e.jsxs)(q.Z,{label:"\u6570\u636E\u8868",children:[(0,e.jsx)(C.ZP,{type:"primary",style:{marginBottom:16},onClick:Z,loading:He,children:"\u9884\u89C8\u6570\u636E\u8868"}),Ke&&(0,e.jsx)(la.Z,{rowKey:function(F){return F.label},columns:r,dataSource:_a,pagination:!1,size:"small",loading:He})]})]})}return null}})]})]})},Ga=Wa,Ka=a(25770),Da,ya,$a=(0,ba.kc)(function(me){var w=me.css,W=me.token;return{ellipsisText:w(Da||(Da=ee()([`
    overflow: hidden;
    text-overflow: ellipsis;
    display: inline-block;
    white-space: nowrap;
  `]))),pageContainer:{"& .ant-page-header-heading-extra":w(ya||(ya=ee()([`
      position: absolute;
      top: 17px;
      right: 44px;
    `])))},settingItem:{marginBlock:0,marginInline:4,color:W.colorIconHover,fontSize:W.fontSizeLG,cursor:"pointer","> span":{display:"block",width:"100%",height:"100%"},"&:hover":{color:W.colorPrimary}}}}),Na=function(){var w=(0,v.useRef)(),W=$a(),x=W.styles,Ce=b.ZP.useMessage(),ge=n()(Ce,2),G=ge[0],O=ge[1],P=(0,v.useState)([]),k=n()(P,2),B=k[0],pe=k[1],be=(0,v.useState)(""),Le=n()(be,2),fe=Le[0],sa=Le[1],Me=(0,se.Z)(fe,{wait:300}),ie=(0,X.useSearchParams)(),de=n()(ie,1),oa=de[0],ke=(0,v.useState)(!1),Ae=n()(ke,2),Ee=Ae[0],je=Ae[1],Ue=(0,v.useState)(null),We=n()(Ue,2),ue=We[0],we=We[1],Ge=(0,v.useState)("update_time"),Ke=n()(Ge,2),De=Ke[0],ia=Ke[1],$e=(0,v.useState)("descend"),Oe=n()($e,2),Ne=Oe[0],da=Oe[1],Ve=(0,v.useState)(),Be=n()(Ve,2),Te=Be[0],Ze=Be[1],ze=(0,H.j)(oe.oW,"create","POST",w,G,function(){var f,m;(f=w.current)===null||f===void 0||(m=f.reloadAndRest)===null||m===void 0||m.call(f)}),He=ze.runOpt,Je=(0,H.j)(oe.oW,"update","PUT",w,G,function(){var f,m;(f=w.current)===null||f===void 0||(m=f.reloadAndRest)===null||m===void 0||m.call(f)}),ca=Je.runOpt,ma=(0,H.j)(oe.uJ,void 0,"POST",w,G),Qe=ma.runOpt,Ye=(0,H.j)(oe.oW,"delete","DELETE",w,G),Xe=Ye.runOpt,pa=Ye.loading,qe=(0,H.j)(oe.oW,"clone","POST",w,G),fa=qe.runOpt;(0,v.useEffect)(function(){var f;(f=w.current)===null||f===void 0||f.reload()},[oa]);var va=function(){var f=p()(s()().mark(function m(r){return s()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,!(ue!=null&&ue.id)){i.next=6;break}return i.next=4,ca(_()({},r));case 4:i.next=8;break;case 6:return i.next=8,He(_()({},r));case 8:je(!1),we(null),i.next=16;break;case 12:i.prev=12,i.t0=i.catch(0),console.error("\u64CD\u4F5C\u5931\u8D25:",i.t0),b.ZP.error("\u64CD\u4F5C\u5931\u8D25");case 16:case"end":return i.stop()}},m,null,[[0,12]])}));return function(r){return f.apply(this,arguments)}}(),ha=function(){var f=p()(s()().mark(function m(r){var R;return s()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.prev=0,L.next=3,Xe({id_list:[r]});case 3:(R=w.current)===null||R===void 0||R.reload(),L.next=9;break;case 6:L.prev=6,L.t0=L.catch(0),console.error("\u5220\u9664\u5931\u8D25:",L.t0);case 9:case"end":return L.stop()}},m,null,[[0,6]])}));return function(r){return f.apply(this,arguments)}}(),ea=function(){var f=p()(s()().mark(function m(){var r;return s()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Xe({id_list:B.map(function(L){return L.id})});case 3:pe([]),(r=w.current)===null||r===void 0||r.reload(),i.next=10;break;case 7:i.prev=7,i.t0=i.catch(0),console.error("\u6279\u91CF\u5220\u9664\u5931\u8D25:",i.t0);case 10:case"end":return i.stop()}},m,null,[[0,7]])}));return function(){return f.apply(this,arguments)}}(),_a=[{title:"\u540D\u79F0",dataIndex:"name",width:180,fixed:"left",render:function(m,r){return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(he.Z,{vertical:!0,gap:1,children:[(0,e.jsx)(Q.Z.Link,{disabled:!r.editable,onClick:function(){r.editable&&X.history.push("/dynamicDataDictionary/dataDictionaryMgmt/".concat(r.name))},children:m}),(0,e.jsx)(Se.Z,{title:r.remark,placement:"topLeft",children:(0,e.jsx)(Q.Z.Text,{className:x.ellipsisText,type:"secondary",children:r.remark})})]})})}},{title:"\u6570\u636E\u6E90\u7C7B\u578B",dataIndex:"source_type",width:100,render:function(m,r){return(0,Ka.a)(r.source_type)}},{title:"\u72B6\u6001",dataIndex:"status",width:100,filters:[{text:"\u5168\u90E8",value:"all"},{text:"\u542F\u7528",value:"enable"},{text:"\u7981\u7528",value:"disable"}],filterMultiple:!1,render:function(m,r){return(0,e.jsx)(Fe.Z,{disabled:!r.editable,checkedChildren:"\u542F\u7528",unCheckedChildren:"\u7981\u7528",checked:r.status==="enable",onChange:function(){var R=p()(s()().mark(function i(L){return s()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,A.next=3,Qe({id_list:[r.id],enabled:L});case 3:A.next=8;break;case 5:A.prev=5,A.t0=A.catch(0),b.ZP.error("\u72B6\u6001\u66F4\u65B0\u5931\u8D25");case 8:case"end":return A.stop()}},i,null,[[0,5]])}));return function(i){return R.apply(this,arguments)}}()})}},{title:"\u6700\u8FD1\u66F4\u65B0\u4EBA",dataIndex:"update_by",width:80},{title:"\u7EF4\u62A4\u4EBA",dataIndex:"maintainers",width:120,render:function(m,r){return(0,e.jsx)(V.lx,{tags:r.maintainers,lineClamp:1})}},{title:"\u6700\u8FD1\u66F4\u65B0\u65F6\u95F4",dataIndex:"update_time",width:150,valueType:"dateTime",sorter:function(m,r){return m.update_time.localeCompare(r.update_time)},defaultSortOrder:"descend"},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",width:(0,te.OV)({small:170,wide:120}).width,fixed:"right",render:function(m,r){return[(0,e.jsx)(Q.Z.Link,{onClick:function(){r.editable&&X.history.push("/dynamicDataDictionary/dataDictionaryMgmt/".concat(r.name),{activeTab:"permission"})},disabled:!r.editable,children:"\u6743\u9650\u914D\u7F6E"},"permission"),(0,e.jsx)(Q.Z.Link,{onClick:function(){we(r),je(!0)},disabled:!r.editable,children:"\u7F16\u8F91"},"edit"),(0,e.jsx)(J.Y,{width:600,title:"\u514B\u9686\u6570\u636E\u5B57\u5178\u2014".concat(r.name),layout:"horizontal",trigger:(0,e.jsx)(Q.Z.Link,{disabled:!r.editable,children:"\u514B\u9686"}),autoFocusFirstInput:!0,modalProps:{destroyOnClose:!0},submitTimeout:2e3,onFinish:function(){var R=p()(s()().mark(function i(L){return s()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,fa({name:L.name,id:r.id});case 2:return A.abrupt("return",!0);case 3:case"end":return A.stop()}},i)}));return function(i){return R.apply(this,arguments)}}(),children:(0,e.jsx)(I.Z,{name:"name",label:"\u6570\u636E\u5B57\u5178\u540D\u79F0",tooltip:"\u6570\u636E\u5B57\u5178\u540D\u79F0\u662F\u552F\u4E00\u503C\uFF0C\u4E0D\u80FD\u91CD\u590D",rules:[{required:!0,message:"\u65B0\u6570\u636E\u5B57\u5178\u7684\u540D\u5B57\u4E0D\u80FD\u4E3A\u7A7A!"}]})},"clone"),(0,e.jsx)(_e.Z,{title:"\u5220\u9664\u6570\u636E\u5B57\u5178",description:(0,e.jsxs)(e.Fragment,{children:["\u5220\u9664\u6570\u636E\u5B57\u5178\u300A",r.name,"\u300B\u4E4B\u540E\u65E0\u6CD5\u627E\u56DE\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C\uFF01"]}),onConfirm:function(){return ha(r.id)},okButtonProps:{loading:pa},children:(0,e.jsx)(Q.Z.Link,{type:"danger",disabled:!r.editable,children:"\u5220\u9664"})},"delete")]}}];return(0,e.jsxs)(ae.Z,{header:{title:"\u6570\u636E\u5B57\u5178"},extra:(0,e.jsx)(V.er,{disabled:!0}),children:[O,(0,e.jsx)(le.Z,{actionRef:w,params:_()({searchValue:Me,order_by:De||"update_time",order:Ne},Te&&{filter_map:Te}),rowKey:"id",search:!1,request:(0,oe.TU)(),columns:_a,onChange:function(m,r,R){var i,L=R.field,aa=R.order;ia(L),da(aa),(i=r.status)!==null&&i!==void 0&&i[0]?r.status[0]==="all"?Ze(void 0):Ze({status:r.status[0]}):Ze(void 0)},scroll:{x:1100},rowSelection:{onChange:function(m,r){pe(r)}},tableAlertRender:function(m){var r=m.selectedRowKeys,R=m.onCleanSelected;return(0,e.jsx)(Ie.Z,{size:24,children:(0,e.jsxs)("span",{children:["\u5DF2\u9009 ",r.length," \u9879",(0,e.jsx)("a",{style:{marginInlineStart:8},onClick:R,children:"\u53D6\u6D88\u9009\u62E9"})]})})},pagination:{defaultPageSize:10,showSizeChanger:!0},toolbar:{search:(0,e.jsx)(j.Z,{prefix:(0,e.jsx)(ne.Z,{}),style:{width:400},placeholder:"\u8BF7\u8F93\u5165\u5173\u952E\u5B57\u641C\u7D22",allowClear:!0,value:fe,onChange:function(m){return sa(m.target.value)}}),actions:[(0,e.jsx)(C.ZP,{type:"primary",icon:(0,e.jsx)(re.Z,{}),onClick:function(){return je(!0)},children:"\u65B0\u589E\u6570\u636E\u5B57\u5178"},"addDict")]},tableAlertOptionRender:function(){return(B==null?void 0:B.length)>0&&(0,e.jsx)(_e.Z,{title:"\u6279\u91CF\u5220\u9664\u6570\u636E\u5B57\u5178",description:"\u5220\u9664\u9009\u4E2D\u7684\u6570\u636E\u5B57\u5178\u540E\u5C06\u65E0\u6CD5\u627E\u56DE\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C\uFF01",onConfirm:ea,children:(0,e.jsx)(C.ZP,{danger:!0,type:"primary",children:"\u6279\u91CF\u5220\u9664"})})}}),(0,e.jsx)(Ga,{drawerData:{show:Ee,title:ue?"\u7F16\u8F91\u6570\u636E\u5B57\u5178":"\u65B0\u589E\u6570\u636E\u5B57\u5178"},formData:ue,onVisibleChange:function(m){je(m),m||we(null)},onSubmit:va})]})},Va=Na},96347:function(ve,N,a){a.d(N,{$r:function(){return b},DN:function(){return _e},FV:function(){return se},O1:function(){return he},TU:function(){return le},Y7:function(){return Se},Z3:function(){return Q},Zt:function(){return Ie},dp:function(){return Fe},oW:function(){return V},pZ:function(){return I},uJ:function(){return ae}});var z=a(90228),s=a.n(z),Y=a(87999),_=a.n(Y),o=a(23261),p=a(54388);function T(){return commonGetListForTable("/api/job/v1/flow/design/draft/")}function n(j){return U.apply(this,arguments)}function U(){return U=_asyncToGenerator(_regeneratorRuntime().mark(function j(C){return _regeneratorRuntime().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",commonGetList("/api/job/v1/flow/design/draft/",C));case 1:case"end":return v.stop()}},j)})),U.apply(this,arguments)}function ee(j){return commonGetObj("/api/job/v1/flow/design/draft/",{id:j})}function V(j,C){return j==="clone"?(0,o.S_)("/api/job/v1/flow/dict/clone/",C):(0,o.S_)("/api/job/v1/flow/dict/manage/",C)}function ae(j,C){return(0,o.S_)("/api/job/v1/flow/dict/status/",C)}function H(){return commonGetList("/api/job/v1/executive/script/list/",{page:1,limit:310})}function te(){return commonGetList("/api/job/v1/executive/api/list/",{page:1,limit:310})}function X(){return commonGetList("/api/job/v1/flow/design/version/prod/",{})}function ne(j,C){return commonOperationApi("/api/job/v1/flow/design/version/",C)}function re(){return commonGetList("/api/job/v1/executive/cloudnativetask/list/",{page:1,limit:310})}function J(j){return commonGetList("/api/job/v1/task/cnt_agent/list/",j)}function I(j){return(0,o.eg)("/api/job/v1/flow/dict/perm/",j)}function le(){return(0,o.eg)("/api/job/v1/flow/dict/list/")}function se(){return(0,o.W8)("/api/job/v1/flow/dict/list/",{page_number:1,page_size:310})}function b(j){var C=new FormData;return C.append("file",j),(0,p.request)("/api/job/v1/flow/dict/excel-template/",{method:"POST",data:C,requestType:"form"})}function he(j,C){return(0,o.S_)("/api/job/v1/flow/dict/datasource/preview/",C)}function Q(j,C){return(0,o.S_)("/api/job/v1/flow/dict/datasource/refresh/",C)}function Se(j){return(0,o.B2)("/api/job/v1/flow/dict/manage/",j)}function Fe(j){return(0,o.dT)("/api/job/v1/flow/dict/schema/",j)}function _e(j,C){return(0,o.S_)("/api/job/v1/flow/dict/perm/",C)}function Ie(j){return(0,o.B2)("/api/job/v1/flow/dict/options/",j)}},25770:function(ve,N,a){a.d(N,{a:function(){return o}});var z=a(84338),s=a(75271),Y=a(52676),_={static:{label:"\u9759\u6001\u6570\u636E",color:"blue"},remote:{label:"\u8FDC\u7A0B\u63A5\u53E3",color:"green"},git_branch:{label:"Git\u5206\u652F",color:"purple"},lark_sheet:{label:"\u98DE\u4E66\u8868\u683C",color:"orange"}},o=function(T){var n=_[T];return n?(0,Y.jsx)(z.Z,{color:n.color,children:n.label}):T}}}]);
