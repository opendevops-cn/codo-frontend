"use strict";(self.webpackChunkf2=self.webpackChunkf2||[]).push([[4568],{7317:function(q,p){var n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"};p.Z=n},68749:function(q,p,n){var E=n(98037),h=n(58006),x=n(75271),C=n(34832),K=n(52676),r=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],b=x.forwardRef(function(R,O){var f=R.fieldProps,U=R.unCheckedChildren,W=R.checkedChildren,M=R.proFieldProps,A=(0,h.Z)(R,r);return(0,K.jsx)(C.Z,(0,E.Z)({valueType:"switch",fieldProps:(0,E.Z)({unCheckedChildren:U,checkedChildren:W},f),ref:O,valuePropName:"checked",proFieldProps:M,filedConfig:{valuePropName:"checked",ignoreWidth:!0,customLightMode:!0}},A))});p.Z=b},82715:function(q,p,n){var E=n(99459),h=n(98037),x=n(58006),C=n(18542),K=n(44725),r=n(86432),b=n(71770),R=n(75271),O=n(34832),f=n(52676),U=["fieldProps","proFieldProps"],W=["fieldProps","proFieldProps"],M="text",A=function(u){var t=u.fieldProps,D=u.proFieldProps,l=(0,x.Z)(u,U);return(0,f.jsx)(O.Z,(0,h.Z)({valueType:M,fieldProps:t,filedConfig:{valueType:M},proFieldProps:D},l))},ee=function(u){var t=(0,C.Z)(u.open||!1,{value:u.open,onChange:u.onOpenChange}),D=(0,E.Z)(t,2),l=D[0],_=D[1];return(0,f.jsx)(K.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(H){var m,F=H.getFieldValue(u.name||[]);return(0,f.jsx)(r.Z,(0,h.Z)((0,h.Z)({getPopupContainer:function(e){return e&&e.parentNode?e.parentNode:e},onOpenChange:function(e){return _(e)},content:(0,f.jsxs)("div",{style:{padding:"4px 0"},children:[(m=u.statusRender)===null||m===void 0?void 0:m.call(u,F),u.strengthText?(0,f.jsx)("div",{style:{marginTop:10},children:(0,f.jsx)("span",{children:u.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},u.popoverProps),{},{open:l,children:u.children}))}})},ne=function(u){var t=u.fieldProps,D=u.proFieldProps,l=(0,x.Z)(u,W),_=(0,R.useState)(!1),z=(0,E.Z)(_,2),H=z[0],m=z[1];return t!=null&&t.statusRender&&l.name?(0,f.jsx)(ee,{name:l.name,statusRender:t==null?void 0:t.statusRender,popoverProps:t==null?void 0:t.popoverProps,strengthText:t==null?void 0:t.strengthText,open:H,onOpenChange:m,children:(0,f.jsx)("div",{children:(0,f.jsx)(O.Z,(0,h.Z)({valueType:"password",fieldProps:(0,h.Z)((0,h.Z)({},(0,b.Z)(t,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(y){var e;t==null||(e=t.onBlur)===null||e===void 0||e.call(t,y),m(!1)},onClick:function(y){var e;t==null||(e=t.onClick)===null||e===void 0||e.call(t,y),m(!0)}}),proFieldProps:D,filedConfig:{valueType:M}},l))})}):(0,f.jsx)(O.Z,(0,h.Z)({valueType:"password",fieldProps:t,proFieldProps:D,filedConfig:{valueType:M}},l))},J=A;J.Password=ne,J.displayName="ProFormComponent",p.Z=J},56247:function(q,p,n){var E=n(98037),h=n(58006),x=n(75271),C=n(34832),K=n(52676),r=["fieldProps","proFieldProps"],b=function(O,f){var U=O.fieldProps,W=O.proFieldProps,M=(0,h.Z)(O,r);return(0,K.jsx)(C.Z,(0,E.Z)({ref:f,valueType:"textarea",fieldProps:U,proFieldProps:W},M))};p.Z=x.forwardRef(b)},21433:function(q,p,n){n.d(p,{Z:function(){return w}});var E=n(98037),h=n(58006),x=n(52003),C=n(75271),K=n(7317),r=n(73706),b=function(t,D){return C.createElement(r.Z,(0,x.Z)({},t,{ref:D,icon:K.Z}))},R=C.forwardRef(b),O=R,f=n(30955),U=n(41901),W=n(88530),M=n(79153),A=n(52676),ee=["fieldProps","action","accept","listType","title","max","icon","buttonProps","disabled","proFieldProps"],ne=function(t,D){var l,_=t.fieldProps,z=t.action,H=t.accept,m=t.listType,F=t.title,y=F===void 0?"\u5355\u51FB\u4E0A\u4F20":F,e=t.max,T=t.icon,j=T===void 0?(0,A.jsx)(O,{}):T,G=t.buttonProps,Y=t.disabled,Z=t.proFieldProps,I=(0,h.Z)(t,ee),B=(0,C.useMemo)(function(){var S;return(S=I.fileList)!==null&&S!==void 0?S:I.value},[I.fileList,I.value]),V=(0,C.useContext)(W.A),te=(Z==null?void 0:Z.mode)||V.mode||"edit",re=(e===void 0||!B||(B==null?void 0:B.length)<e)&&te!=="read",k=(m!=null?m:_==null?void 0:_.listType)==="picture-card";return(0,A.jsx)(f.Z,(0,E.Z)((0,E.Z)({action:z,accept:H,ref:D,listType:m||"picture",fileList:B},_),{},{name:(l=_==null?void 0:_.name)!==null&&l!==void 0?l:"file",onChange:function($){var L;_==null||(L=_.onChange)===null||L===void 0||L.call(_,$)},children:re&&(k?(0,A.jsxs)("span",{children:[j," ",y]}):(0,A.jsxs)(U.ZP,(0,E.Z)((0,E.Z)({disabled:Y||(_==null?void 0:_.disabled)},G),{},{children:[j,y]})))}))},J=(0,M.G)(C.forwardRef(ne),{getValueFromEvent:function(t){return t.fileList}}),w=J},74922:function(q,p,n){var E=n(57904),h=n(99459),x=n(58006),C=n(69501),K=n(81517),r=n(98037),b=n(19555),R=n(14201),O=n(50205),f=n(76404),U=n(5119),W=n(90544),M=n(48606),A=n(29888),ee=n(41901),ne=n(44725),J=n(18542),w=n(68872),u=n(47679),t=n(75271),D=n(90254),l=n(52676),_=["onTableChange","maxLength","formItemProps","recordCreatorProps","rowKey","controlled","defaultValue","onChange","editableFormRef"],z=["record","position","creatorButtonText","newRecordType","parentKey","style"],H=t.createContext(void 0);function m(e){var T=e.children,j=e.record,G=e.position,Y=e.newRecordType,Z=e.parentKey,I=(0,t.useContext)(H);return t.cloneElement(T,(0,r.Z)((0,r.Z)({},T.props),{},{onClick:function(){var B=(0,K.Z)((0,C.Z)().mark(function te(re){var k,S,$,L;return(0,C.Z)().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,(k=(S=T.props).onClick)===null||k===void 0?void 0:k.call(S,re);case 2:if(L=P.sent,L!==!1){P.next=5;break}return P.abrupt("return");case 5:I==null||($=I.current)===null||$===void 0||$.addEditRecord(j,{position:G,newRecordType:Y,parentKey:Z});case 6:case"end":return P.stop()}},te)}));function V(te){return B.apply(this,arguments)}return V}()}))}function F(e){var T,j,G=(0,f.YB)(),Y=e.onTableChange,Z=e.maxLength,I=e.formItemProps,B=e.recordCreatorProps,V=e.rowKey,te=e.controlled,re=e.defaultValue,k=e.onChange,S=e.editableFormRef,$=(0,x.Z)(e,_),L=(0,t.useRef)(void 0),le=(0,t.useRef)(),P=(0,t.useRef)();(0,t.useImperativeHandle)($.actionRef,function(){return le.current},[le.current]);var ce=(0,J.Z)(function(){return e.value||re||[]},{value:e.value,onChange:e.onChange}),se=(0,h.Z)(ce,2),s=se[0],_e=se[1],Q=t.useMemo(function(){return typeof V=="function"?V:function(o,c){return o[V]||c}},[V]),ie=(0,U.J)(function(o){if(typeof o=="number"&&!e.name){if(o>=s.length)return o;var c=s&&s[o];return Q==null?void 0:Q(c,o)}if((typeof o=="string"||o>=s.length)&&e.name){var a=s.findIndex(function(i,d){var v;return(Q==null||(v=Q(i,d))===null||v===void 0?void 0:v.toString())===(o==null?void 0:o.toString())});if(a!==-1)return a}return o});(0,t.useImperativeHandle)(S,function(){var o=function(i){var d,v;if(i==null)throw new Error("rowIndex is required");var g=ie(i),N=[e.name,(d=g==null?void 0:g.toString())!==null&&d!==void 0?d:""].flat(1).filter(Boolean);return(v=P.current)===null||v===void 0?void 0:v.getFieldValue(N)},c=function(){var i,d=[e.name].flat(1).filter(Boolean);if(Array.isArray(d)&&d.length===0){var v,g=(v=P.current)===null||v===void 0?void 0:v.getFieldsValue();return Array.isArray(g)?g:Object.keys(g).map(function(N){return g[N]})}return(i=P.current)===null||i===void 0?void 0:i.getFieldValue(d)};return(0,r.Z)((0,r.Z)({},P.current),{},{getRowData:o,getRowsData:c,setRowData:function(i,d){var v,g;if(i==null)throw new Error("rowIndex is required");var N=ie(i),ae=[e.name,(v=N==null?void 0:N.toString())!==null&&v!==void 0?v:""].flat(1).filter(Boolean),Me=Object.assign({},(0,r.Z)((0,r.Z)({},o(i)),d||{})),De=(0,u.Z)({},ae,Me);return(g=P.current)===null||g===void 0||g.setFieldsValue(De),!0}})},[ie,e.name,P.current]),(0,t.useEffect)(function(){e.controlled&&(s||[]).forEach(function(o,c){var a;(a=P.current)===null||a===void 0||a.setFieldsValue((0,E.Z)({},"".concat(Q(o,c)),o))},{})},[(0,W.ZP)(s),e.controlled]),(0,t.useEffect)(function(){if(e.name){var o;P.current=e==null||(o=e.editable)===null||o===void 0?void 0:o.form}},[(T=e.editable)===null||T===void 0?void 0:T.form,e.name]);var X=B||{},fe=X.record,de=X.position,Pe=X.creatorButtonText,he=X.newRecordType,me=X.parentKey,Ee=X.style,Ce=(0,x.Z)(X,z),ve=de==="top",oe=(0,t.useMemo)(function(){return typeof Z=="number"&&Z<=(s==null?void 0:s.length)?!1:B!==!1&&(0,l.jsx)(m,{record:(0,M.h)(fe,s==null?void 0:s.length,s)||{},position:de,parentKey:(0,M.h)(me,s==null?void 0:s.length,s),newRecordType:he,children:(0,l.jsx)(ee.ZP,(0,r.Z)((0,r.Z)({type:"dashed",style:(0,r.Z)({display:"block",margin:"10px 0",width:"100%"},Ee),icon:(0,l.jsx)(b.Z,{})},Ce),{},{children:Pe||G.getMessage("editableTable.action.add","\u6DFB\u52A0\u4E00\u884C\u6570\u636E")}))})},[B,Z,s==null?void 0:s.length]),ge=(0,t.useMemo)(function(){return oe?ve?{components:{header:{wrapper:function(c){var a,i=c.className,d=c.children;return(0,l.jsxs)("thead",{className:i,children:[d,(0,l.jsxs)("tr",{style:{position:"relative"},children:[(0,l.jsx)("td",{colSpan:0,style:{visibility:"hidden"},children:oe}),(0,l.jsx)("td",{style:{position:"absolute",left:0,width:"100%"},colSpan:(a=$.columns)===null||a===void 0?void 0:a.length,children:oe})]})]})}}}}:{tableViewRender:function(c,a){var i,d;return(0,l.jsxs)(l.Fragment,{children:[(i=(d=e.tableViewRender)===null||d===void 0?void 0:d.call(e,c,a))!==null&&i!==void 0?i:a,oe]})}}:{}},[ve,oe]),ue=(0,r.Z)({},e.editable),Oe=(0,U.J)(function(o,c){var a,i,d;if((a=e.editable)===null||a===void 0||(i=a.onValuesChange)===null||i===void 0||i.call(a,o,c),(d=e.onValuesChange)===null||d===void 0||d.call(e,c,o),e.controlled){var v;e==null||(v=e.onChange)===null||v===void 0||v.call(e,c)}});return(e!=null&&e.onValuesChange||(j=e.editable)!==null&&j!==void 0&&j.onValuesChange||e.controlled&&e!==null&&e!==void 0&&e.onChange)&&(ue.onValuesChange=Oe),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(H.Provider,{value:le,children:(0,l.jsx)(D.Z,(0,r.Z)((0,r.Z)((0,r.Z)({search:!1,options:!1,pagination:!1,rowKey:V,revalidateOnFocus:!1},$),ge),{},{tableLayout:"fixed",actionRef:le,onChange:Y,editable:(0,r.Z)((0,r.Z)({},ue),{},{formProps:(0,r.Z)({formRef:P},ue.formProps)}),dataSource:s,onDataSourceChange:function(c){if(_e(c),e.name&&de==="top"){var a,i=(0,u.Z)({},[e.name].flat(1).filter(Boolean),c);(a=P.current)===null||a===void 0||a.setFieldsValue(i)}}}))}),e.name?(0,l.jsx)(R.Z,{name:[e.name],children:function(c){var a,i;if(!L.current)return L.current=s,null;var d=(0,w.Z)(c,[e.name].flat(1)),v=d==null?void 0:d.find(function(g,N){var ae;return!(0,A.A)(g,(ae=L.current)===null||ae===void 0?void 0:ae[N])});return L.current=s,v&&(e==null||(a=e.editable)===null||a===void 0||(i=a.onValuesChange)===null||i===void 0||i.call(a,v,d)),null}}):null]})}function y(e){var T=O.ZP.useFormInstance();return e.name?(0,l.jsx)(ne.Z.Item,(0,r.Z)((0,r.Z)({style:{maxWidth:"100%"}},e==null?void 0:e.formItemProps),{},{name:e.name,shouldUpdate:function(G,Y){var Z=[e.name].flat(1);try{return JSON.stringify((0,w.Z)(G,Z))!==JSON.stringify((0,w.Z)(Y,Z))}catch(I){return!0}},children:(0,l.jsx)(F,(0,r.Z)((0,r.Z)({tableLayout:"fixed",scroll:{x:"max-content"}},e),{},{editable:(0,r.Z)((0,r.Z)({},e.editable),{},{form:T})}))})):(0,l.jsx)(F,(0,r.Z)({tableLayout:"fixed",scroll:{x:"max-content"}},e))}y.RecordCreator=m,p.Z=y}}]);
