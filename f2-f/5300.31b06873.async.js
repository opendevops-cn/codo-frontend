!(function(){var Xu=Object.defineProperty,qu=Object.defineProperties;var eh=Object.getOwnPropertyDescriptors;var ba=Object.getOwnPropertySymbols,th=Object.getPrototypeOf,cd=Object.prototype.hasOwnProperty,ud=Object.prototype.propertyIsEnumerable,ih=Reflect.get;var Kr=(et,Le)=>(Le=Symbol[et])?Le:Symbol.for("Symbol."+et),nh=et=>{throw TypeError(et)},Ao=Math.pow,dd=(et,Le,e)=>Le in et?Xu(et,Le,{enumerable:!0,configurable:!0,writable:!0,value:e}):et[Le]=e,vi=(et,Le)=>{for(var e in Le||(Le={}))cd.call(Le,e)&&dd(et,e,Le[e]);if(ba)for(var e of ba(Le))ud.call(Le,e)&&dd(et,e,Le[e]);return et},Ki=(et,Le)=>qu(et,eh(Le));var hd=(et,Le)=>{var e={};for(var o in et)cd.call(et,o)&&Le.indexOf(o)<0&&(e[o]=et[o]);if(et!=null&&ba)for(var o of ba(et))Le.indexOf(o)<0&&ud.call(et,o)&&(e[o]=et[o]);return e};var pl=(et,Le,e)=>ih(th(et),e,Le);var Ft=(et,Le,e)=>new Promise((o,B)=>{var x=p=>{try{S(e.next(p))}catch(E){B(E)}},O=p=>{try{S(e.throw(p))}catch(E){B(E)}},S=p=>p.done?o(p.value):Promise.resolve(p.value).then(x,O);S((e=e.apply(et,Le)).next())}),sh=function(et,Le){this[0]=et,this[1]=Le};var Sa=et=>{var Le=et[Kr("asyncIterator")],e=!1,o,B={};return Le==null?(Le=et[Kr("iterator")](),o=x=>B[x]=O=>Le[x](O)):(Le=Le.call(et),o=x=>B[x]=O=>{if(e){if(e=!1,x==="throw")throw O;return O}return e=!0,{done:!1,value:new sh(new Promise(S=>{var p=Le[x](O);p instanceof Object||nh("Object expected"),S(p)}),1)}}),B[Kr("iterator")]=()=>B,o("next"),"throw"in Le?o("throw"):B.throw=x=>{throw x},"return"in Le&&o("return"),B},bo=(et,Le,e)=>(Le=et[Kr("asyncIterator")])?Le.call(et):(et=et[Kr("iterator")](),Le={},e=(o,B)=>(B=et[o])&&(Le[o]=x=>new Promise((O,S,p)=>(x=B.call(et,x),p=x.done,Promise.resolve(x.value).then(E=>O({value:E,done:p}),S)))),e("next"),e("return"),Le);(self.webpackChunkf2=self.webpackChunkf2||[]).push([[5300],{19048:function(et,Le,e){"use strict";var o=e(98037),B=e(75271),x=e(69019),O=e(17002),S=function(R,w){return B.createElement(O.Z,(0,o.Z)((0,o.Z)({},R),{},{ref:w,icon:x.Z}))},p=B.forwardRef(S);Le.Z=p},54805:function(et,Le,e){"use strict";var o=e(98037),B=e(58006),x=e(48606),O=e(95104),S=e(75271),p=e(79153),E=e(34832),R=e(52676),w=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],m=S.forwardRef(function(i,n){var c=i.fieldProps,u=i.options,l=i.radioType,D=i.layout,f=i.proFieldProps,y=i.valueEnum,C=(0,B.Z)(i,w);return(0,R.jsx)(E.Z,(0,o.Z)((0,o.Z)({valueType:l==="button"?"radioButton":"radio",ref:n,valueEnum:(0,x.h)(y,void 0)},C),{},{fieldProps:(0,o.Z)({options:u,layout:D},c),proFieldProps:f,filedConfig:{customLightMode:!0}}))}),g=S.forwardRef(function(i,n){var c=i.fieldProps,u=i.children;return(0,R.jsx)(O.ZP,(0,o.Z)((0,o.Z)({},c),{},{ref:n,children:u}))}),a=(0,p.G)(g,{valuePropName:"checked",ignoreWidth:!0}),r=a;r.Group=m,r.Button=O.ZP.Button,r.displayName="ProFormComponent",Le.Z=r},66130:function(et,Le,e){"use strict";var o=e(98037),B=e(58006),x=e(48606),O=e(75271),S=e(76272),p=e(34832),E=e(52676),R=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],w=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],m=function(c,u){var l=c.fieldProps,D=c.children,f=c.params,y=c.proFieldProps,C=c.mode,_=c.valueEnum,N=c.request,b=c.showSearch,k=c.options,V=(0,B.Z)(c,R),K=(0,O.useContext)(S.Z);return(0,E.jsx)(p.Z,(0,o.Z)((0,o.Z)({valueEnum:(0,x.h)(_),request:N,params:f,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,o.Z)({options:k,mode:C,showSearch:b,getPopupContainer:K.getPopupContainer},l),ref:u,proFieldProps:y},V),{},{children:D}))},g=O.forwardRef(function(n,c){var u=n.fieldProps,l=n.children,D=n.params,f=n.proFieldProps,y=n.mode,C=n.valueEnum,_=n.request,N=n.options,b=(0,B.Z)(n,w),k=(0,o.Z)({options:N,mode:y||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},u),V=(0,O.useContext)(S.Z);return(0,E.jsx)(p.Z,(0,o.Z)((0,o.Z)({valueEnum:(0,x.h)(C),request:_,params:D,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,o.Z)({getPopupContainer:V.getPopupContainer},k),ref:c,proFieldProps:f},b),{},{children:l}))}),a=O.forwardRef(m),r=g,i=a;i.SearchSelect=r,i.displayName="ProFormComponent",Le.Z=i},82398:function(et,Le,e){"use strict";var o=e(98037),B=e(58006),x=e(75271),O=e(34832),S=e(52676),p=["fieldProps","request","params","proFieldProps"],E=function(m,g){var a=m.fieldProps,r=m.request,i=m.params,n=m.proFieldProps,c=(0,B.Z)(m,p);return(0,S.jsx)(O.Z,(0,o.Z)({valueType:"treeSelect",fieldProps:a,ref:g,request:r,params:i,filedConfig:{customLightMode:!0},proFieldProps:n},c))},R=x.forwardRef(E);Le.Z=R},12351:function(et,Le,e){"use strict";var o=e(75271),B=e(77558);Le.Z=(0,B.a1)("full-screen",!1,function(x){return o.createElement("svg",{width:x.size,height:x.size,viewBox:"0 0 48 48",fill:"none"},o.createElement("path",{d:"M33 6H42V15",stroke:x.colors[0],strokeWidth:x.strokeWidth,strokeLinecap:x.strokeLinecap,strokeLinejoin:x.strokeLinejoin}),o.createElement("path",{d:"M42 33V42H33",stroke:x.colors[0],strokeWidth:x.strokeWidth,strokeLinecap:x.strokeLinecap,strokeLinejoin:x.strokeLinejoin}),o.createElement("path",{d:"M15 42H6V33",stroke:x.colors[0],strokeWidth:x.strokeWidth,strokeLinecap:x.strokeLinecap,strokeLinejoin:x.strokeLinejoin}),o.createElement("path",{d:"M6 15V6H15",stroke:x.colors[0],strokeWidth:x.strokeWidth,strokeLinecap:x.strokeLinecap,strokeLinejoin:x.strokeLinejoin}))})},37757:function(et,Le,e){"use strict";var o=e(75271),B=e(77558);Le.Z=(0,B.a1)("off-screen-one",!1,function(x){return o.createElement("svg",{width:x.size,height:x.size,viewBox:"0 0 48 48",fill:"none"},o.createElement("path",{d:"M6 6L16 15.8995",stroke:x.colors[0],strokeWidth:x.strokeWidth,strokeLinecap:x.strokeLinecap,strokeLinejoin:x.strokeLinejoin}),o.createElement("path",{d:"M6 41.8995L16 32",stroke:x.colors[0],strokeWidth:x.strokeWidth,strokeLinecap:x.strokeLinecap,strokeLinejoin:x.strokeLinejoin}),o.createElement("path",{d:"M42.0001 41.8995L32.1006 32",stroke:x.colors[0],strokeWidth:x.strokeWidth,strokeLinecap:x.strokeLinecap,strokeLinejoin:x.strokeLinejoin}),o.createElement("path",{d:"M41.8995 6L32 15.8995",stroke:x.colors[0],strokeWidth:x.strokeWidth,strokeLinecap:x.strokeLinecap,strokeLinejoin:x.strokeLinejoin}),o.createElement("path",{d:"M32 7V16H41",stroke:x.colors[0],strokeWidth:x.strokeWidth,strokeLinecap:x.strokeLinecap,strokeLinejoin:x.strokeLinejoin}),o.createElement("path",{d:"M16 7V16H7",stroke:x.colors[0],strokeWidth:x.strokeWidth,strokeLinecap:x.strokeLinecap,strokeLinejoin:x.strokeLinejoin}),o.createElement("path",{d:"M16 41V32H7",stroke:x.colors[0],strokeWidth:x.strokeWidth,strokeLinecap:x.strokeLinecap,strokeLinejoin:x.strokeLinejoin}),o.createElement("path",{d:"M32 41V32H40.8995",stroke:x.colors[0],strokeWidth:x.strokeWidth,strokeLinecap:x.strokeLinecap,strokeLinejoin:x.strokeLinejoin}))})},77558:function(et,Le,e){"use strict";e.d(Le,{a1:function(){return r}});var o=e(75271),B=["size","strokeWidth","strokeLinecap","strokeLinejoin","theme","fill","className","spin"];function x(i,n){var c=Object.keys(i);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);n&&(u=u.filter(function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})),c.push.apply(c,u)}return c}function O(i){for(var n=1;n<arguments.length;n++){var c=arguments[n]!=null?arguments[n]:{};n%2?x(Object(c),!0).forEach(function(u){S(i,u,c[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(c)):x(Object(c)).forEach(function(u){Object.defineProperty(i,u,Object.getOwnPropertyDescriptor(c,u))})}return i}function S(i,n,c){return n in i?Object.defineProperty(i,n,{value:c,enumerable:!0,configurable:!0,writable:!0}):i[n]=c,i}function p(i,n){if(i==null)return{};var c=E(i,n),u,l;if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(i);for(l=0;l<D.length;l++)u=D[l],!(n.indexOf(u)>=0)&&Object.prototype.propertyIsEnumerable.call(i,u)&&(c[u]=i[u])}return c}function E(i,n){if(i==null)return{};var c={},u=Object.keys(i),l,D;for(D=0;D<u.length;D++)l=u[D],!(n.indexOf(l)>=0)&&(c[l]=i[l]);return c}var R={size:"1em",strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round",rtl:!1,theme:"outline",colors:{outline:{fill:"#333",background:"transparent"},filled:{fill:"#333",background:"#FFF"},twoTone:{fill:"#333",twoTone:"#2F88FF"},multiColor:{outStrokeColor:"#333",outFillColor:"#2F88FF",innerStrokeColor:"#FFF",innerFillColor:"#43CCF8"}},prefix:"i"};function w(){return"icon-"+((1+Math.random())*4294967296|0).toString(16).substring(1)}function m(i,n,c){var u=typeof n.fill=="string"?[n.fill]:n.fill||[],l=[],D=n.theme||c.theme;switch(D){case"outline":l.push(typeof u[0]=="string"?u[0]:"currentColor"),l.push("none"),l.push(typeof u[0]=="string"?u[0]:"currentColor"),l.push("none");break;case"filled":l.push(typeof u[0]=="string"?u[0]:"currentColor"),l.push(typeof u[0]=="string"?u[0]:"currentColor"),l.push("#FFF"),l.push("#FFF");break;case"two-tone":l.push(typeof u[0]=="string"?u[0]:"currentColor"),l.push(typeof u[1]=="string"?u[1]:c.colors.twoTone.twoTone),l.push(typeof u[0]=="string"?u[0]:"currentColor"),l.push(typeof u[1]=="string"?u[1]:c.colors.twoTone.twoTone);break;case"multi-color":l.push(typeof u[0]=="string"?u[0]:"currentColor"),l.push(typeof u[1]=="string"?u[1]:c.colors.multiColor.outFillColor),l.push(typeof u[2]=="string"?u[2]:c.colors.multiColor.innerStrokeColor),l.push(typeof u[3]=="string"?u[3]:c.colors.multiColor.innerFillColor);break}return{size:n.size||c.size,strokeWidth:n.strokeWidth||c.strokeWidth,strokeLinecap:n.strokeLinecap||c.strokeLinecap,strokeLinejoin:n.strokeLinejoin||c.strokeLinejoin,colors:l,id:i}}var g=(0,o.createContext)(R),a=g.Provider;function r(i,n,c){return function(u){var l=u.size,D=u.strokeWidth,f=u.strokeLinecap,y=u.strokeLinejoin,C=u.theme,_=u.fill,N=u.className,b=u.spin,k=p(u,B),V=(0,o.useContext)(g),K=(0,o.useMemo)(w,[]),Z=m(K,{size:l,strokeWidth:D,strokeLinecap:f,strokeLinejoin:y,theme:C,fill:_},V),z=[V.prefix+"-icon"];return z.push(V.prefix+"-icon-"+i),n&&V.rtl&&z.push(V.prefix+"-icon-rtl"),b&&z.push(V.prefix+"-icon-spin"),N&&z.push(N),o.createElement("span",O(O({},k),{},{className:z.join(" ")}),c(Z))}}},2456:function(){"use strict"},12261:function(){"use strict"},38588:function(){"use strict"},90503:function(){"use strict"},87146:function(){"use strict"},37665:function(et,Le,e){"use strict";var o=e(15767),B=e(75271),x=e(71676);function O(S,p){var E=(0,o.CR)((0,B.useState)(S),2),R=E[0],w=E[1],m=(0,x.Z)(function(){w(S)},p).run;return(0,B.useEffect)(function(){m()},[S]),R}Le.Z=O},71676:function(et,Le,e){"use strict";var o=e(15767),B=e(66292),x=e.n(B),O=e(75271),S=e(83708),p=e(43051),E=e(48915),R=e(79386);function w(m,g){var a;R.Z&&((0,E.mf)(m)||console.error("useDebounceFn expected parameter is a function, got ".concat(typeof m)));var r=(0,S.Z)(m),i=(a=g==null?void 0:g.wait)!==null&&a!==void 0?a:1e3,n=(0,O.useMemo)(function(){return x()(function(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];return r.current.apply(r,(0,o.ev)([],(0,o.CR)(c),!1))},i,g)},[]);return(0,p.Z)(function(){n.cancel()}),{run:n,cancel:n.cancel,flush:n.flush}}Le.Z=w},83708:function(et,Le,e){"use strict";var o=e(75271);function B(x){var O=(0,o.useRef)(x);return O.current=x,O}Le.Z=B},90328:function(et,Le,e){"use strict";e.d(Le,{Z:function(){return f}});var o=e(15767),B=e(75271),x=e(83708),O=e(48915),S=e(29466);function p(y,C){if(S.Z){if(!y)return C;var _;return(0,O.mf)(y)?_=y():"current"in y?_=y.current:_=y,_}}var E=e(43051),R=e(96134),w=function(y){var C=function(_,N,b){var k=(0,B.useRef)(!1),V=(0,B.useRef)([]),K=(0,B.useRef)([]),Z=(0,B.useRef)();y(function(){var z,A=Array.isArray(b)?b:[b],P=A.map(function(I){return p(I)});if(!k.current){k.current=!0,V.current=P,K.current=N,Z.current=_();return}(P.length!==V.current.length||!(0,R.Z)(V.current,P)||!(0,R.Z)(K.current,N))&&((z=Z.current)===null||z===void 0||z.call(Z),V.current=P,K.current=N,Z.current=_())}),(0,E.Z)(function(){var z;(z=Z.current)===null||z===void 0||z.call(Z),k.current=!1})};return C},m=w,g=m(B.useEffect),a=g;function r(y,C,_){_===void 0&&(_={});var N=_.enable,b=N===void 0?!0:N,k=(0,x.Z)(C);a(function(){if(b){var V=p(_.target,window);if(V!=null&&V.addEventListener){var K=function(z){return k.current(z)},Z=Array.isArray(y)?y:[y];return Z.forEach(function(z){V.addEventListener(z,K,{capture:_.capture,once:_.once,passive:_.passive})}),function(){Z.forEach(function(z){V.removeEventListener(z,K,{capture:_.capture})})}}}},[y,_.capture,_.once,_.passive,b],_.target)}var i=r,n=e(72170),c=e(27554),u="AHOOKS_SYNC_STORAGE_EVENT_NAME";function l(y){function C(_,N){N===void 0&&(N={});var b,k=N.listenStorageChange,V=k===void 0?!1:k,K=N.onError,Z=K===void 0?function(Q){console.error(Q)}:K;try{b=y()}catch(Q){Z(Q)}var z=function(Q){return N.serializer?N.serializer(Q):JSON.stringify(Q)},A=function(Q){return N.deserializer?N.deserializer(Q):JSON.parse(Q)};function P(){try{var Q=b==null?void 0:b.getItem(_);if(Q)return A(Q)}catch(ie){Z(ie)}return(0,O.mf)(N.defaultValue)?N.defaultValue():N.defaultValue}var I=(0,o.CR)((0,B.useState)(P),2),W=I[0],G=I[1];(0,c.Z)(function(){G(P())},[_]);var j=function(Q){var ie=(0,O.mf)(Q)?Q(W):Q;V||G(ie);try{var te=void 0,se=b==null?void 0:b.getItem(_);(0,O.G7)(ie)?(te=null,b==null||b.removeItem(_)):(te=z(ie),b==null||b.setItem(_,te)),dispatchEvent(new CustomEvent(u,{detail:{key:_,newValue:te,oldValue:se,storageArea:b}}))}catch(ne){Z(ne)}},Y=function(Q){Q.key!==_||Q.storageArea!==b||G(P())},H=function(Q){Y(Q.detail)};return i("storage",Y,{enable:V}),i(u,H,{enable:V}),[W,(0,n.Z)(j)]}return C}var D=l(function(){return S.Z?localStorage:void 0}),f=D},72170:function(et,Le,e){"use strict";var o=e(75271),B=e(48915),x=e(79386);function O(S){x.Z&&((0,B.mf)(S)||console.error("useMemoizedFn expected parameter is a function, got ".concat(typeof S)));var p=(0,o.useRef)(S);p.current=(0,o.useMemo)(function(){return S},[S]);var E=(0,o.useRef)();return E.current||(E.current=function(){for(var R=[],w=0;w<arguments.length;w++)R[w]=arguments[w];return p.current.apply(this,R)}),E.current}Le.Z=O},43051:function(et,Le,e){"use strict";var o=e(75271),B=e(83708),x=e(48915),O=e(79386),S=function(p){O.Z&&((0,x.mf)(p)||console.error("useUnmount expected parameter is a function, got ".concat(typeof p)));var E=(0,B.Z)(p);(0,o.useEffect)(function(){return function(){E.current()}},[])};Le.Z=S},27554:function(et,Le,e){"use strict";e.d(Le,{Z:function(){return O}});var o=e(75271),B=function(S){return function(p,E){var R=(0,o.useRef)(!1);S(function(){return function(){R.current=!1}},[]),S(function(){if(!R.current)R.current=!0;else return p()},E)}},x=null,O=B(o.useEffect)},96134:function(et,Le,e){"use strict";e.d(Le,{Z:function(){return o}});function o(B,x){if(B===x)return!0;for(var O=0;O<B.length;O++)if(!Object.is(B[O],x[O]))return!1;return!0}},48915:function(et,Le,e){"use strict";e.d(Le,{G7:function(){return p},hj:function(){return S},mf:function(){return B}});var o=function(E){return E!==null&&typeof E=="object"},B=function(E){return typeof E=="function"},x=function(E){return typeof E=="string"},O=function(E){return typeof E=="boolean"},S=function(E){return typeof E=="number"},p=function(E){return typeof E=="undefined"}},29466:function(et,Le){"use strict";var e=!!(typeof window!="undefined"&&window.document&&window.document.createElement);Le.Z=e},79386:function(et,Le){"use strict";var e=!1;Le.Z=e},20877:function(et,Le,e){"use strict";e.d(Le,{Z:function(){return Q}});var o=e(75271),B=e(43688),x=e(84156),O=e(58825),S=e(13294),p=e(97694),E=e(82187),R=e.n(E),w=e(76591),m=e(39894),g=e(72405),a=e(21407),r=e(31834),i=e(28151),n=e(89423),c=e(94377);const u=(ie,te,se,ne,ee)=>({background:ie,border:`${(0,i.bf)(ne.lineWidth)} ${ne.lineType} ${te}`,[`${ee}-icon`]:{color:se}}),l=ie=>{const{componentCls:te,motionDurationSlow:se,marginXS:ne,marginSM:ee,fontSize:re,fontSizeLG:he,lineHeight:M,borderRadiusLG:we,motionEaseInOutCirc:We,withDescriptionIconSize:ye,colorText:X,colorTextHeading:ve,withDescriptionPadding:Ee,defaultPadding:Oe}=ie;return{[te]:Object.assign(Object.assign({},(0,n.Wf)(ie)),{position:"relative",display:"flex",alignItems:"center",padding:Oe,wordWrap:"break-word",borderRadius:we,[`&${te}-rtl`]:{direction:"rtl"},[`${te}-content`]:{flex:1,minWidth:0},[`${te}-icon`]:{marginInlineEnd:ne,lineHeight:0},"&-description":{display:"none",fontSize:re,lineHeight:M},"&-message":{color:ve},[`&${te}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${se} ${We}, opacity ${se} ${We},
        padding-top ${se} ${We}, padding-bottom ${se} ${We},
        margin-bottom ${se} ${We}`},[`&${te}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${te}-with-description`]:{alignItems:"flex-start",padding:Ee,[`${te}-icon`]:{marginInlineEnd:ee,fontSize:ye,lineHeight:0},[`${te}-message`]:{display:"block",marginBottom:ne,color:ve,fontSize:he},[`${te}-description`]:{display:"block",color:X}},[`${te}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},D=ie=>{const{componentCls:te,colorSuccess:se,colorSuccessBorder:ne,colorSuccessBg:ee,colorWarning:re,colorWarningBorder:he,colorWarningBg:M,colorError:we,colorErrorBorder:We,colorErrorBg:ye,colorInfo:X,colorInfoBorder:ve,colorInfoBg:Ee}=ie;return{[te]:{"&-success":u(ee,ne,se,ie,te),"&-info":u(Ee,ve,X,ie,te),"&-warning":u(M,he,re,ie,te),"&-error":Object.assign(Object.assign({},u(ye,We,we,ie,te)),{[`${te}-description > pre`]:{margin:0,padding:0}})}}},f=ie=>{const{componentCls:te,iconCls:se,motionDurationMid:ne,marginXS:ee,fontSizeIcon:re,colorIcon:he,colorIconHover:M}=ie;return{[te]:{"&-action":{marginInlineStart:ee},[`${te}-close-icon`]:{marginInlineStart:ee,padding:0,overflow:"hidden",fontSize:re,lineHeight:(0,i.bf)(re),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${se}-close`]:{color:he,transition:`color ${ne}`,"&:hover":{color:M}}},"&-close-text":{color:he,transition:`color ${ne}`,"&:hover":{color:M}}}}},y=ie=>({withDescriptionIconSize:ie.fontSizeHeading3,defaultPadding:`${ie.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${ie.paddingMD}px ${ie.paddingContentHorizontalLG}px`});var C=(0,c.I$)("Alert",ie=>[l(ie),D(ie),f(ie)],y),_=function(ie,te){var se={};for(var ne in ie)Object.prototype.hasOwnProperty.call(ie,ne)&&te.indexOf(ne)<0&&(se[ne]=ie[ne]);if(ie!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ee=0,ne=Object.getOwnPropertySymbols(ie);ee<ne.length;ee++)te.indexOf(ne[ee])<0&&Object.prototype.propertyIsEnumerable.call(ie,ne[ee])&&(se[ne[ee]]=ie[ne[ee]]);return se};const N={success:B.Z,info:p.Z,error:x.Z,warning:S.Z},b=ie=>{const{icon:te,prefixCls:se,type:ne}=ie,ee=N[ne]||null;return te?(0,a.wm)(te,o.createElement("span",{className:`${se}-icon`},te),()=>({className:R()(`${se}-icon`,te.props.className)})):o.createElement(ee,{className:`${se}-icon`})},k=ie=>{const{isClosable:te,prefixCls:se,closeIcon:ne,handleClose:ee,ariaProps:re}=ie,he=ne===!0||ne===void 0?o.createElement(O.Z,null):ne;return te?o.createElement("button",Object.assign({type:"button",onClick:ee,className:`${se}-close-icon`,tabIndex:0},re),he):null};var K=o.forwardRef((ie,te)=>{const{description:se,prefixCls:ne,message:ee,banner:re,className:he,rootClassName:M,style:we,onMouseEnter:We,onMouseLeave:ye,onClick:X,afterClose:ve,showIcon:Ee,closable:Oe,closeText:Ke,closeIcon:Qe,action:fe,id:$}=ie,le=_(ie,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[De,xe]=o.useState(!1),Ce=o.useRef(null);o.useImperativeHandle(te,()=>({nativeElement:Ce.current}));const{getPrefixCls:me,direction:be,alert:oe}=o.useContext(r.E_),ue=me("alert",ne),[de,Se,Te]=C(ue),Ae=it=>{var yt;xe(!0),(yt=ie.onClose)===null||yt===void 0||yt.call(ie,it)},pe=o.useMemo(()=>ie.type!==void 0?ie.type:re?"warning":"info",[ie.type,re]),je=o.useMemo(()=>typeof Oe=="object"&&Oe.closeIcon||Ke?!0:typeof Oe=="boolean"?Oe:Qe!==!1&&Qe!==null&&Qe!==void 0?!0:!!(oe!=null&&oe.closable),[Ke,Qe,Oe,oe==null?void 0:oe.closable]),ot=re&&Ee===void 0?!0:Ee,xt=R()(ue,`${ue}-${pe}`,{[`${ue}-with-description`]:!!se,[`${ue}-no-icon`]:!ot,[`${ue}-banner`]:!!re,[`${ue}-rtl`]:be==="rtl"},oe==null?void 0:oe.className,he,M,Te,Se),jt=(0,m.Z)(le,{aria:!0,data:!0}),oi=o.useMemo(()=>{var it,yt;return typeof Oe=="object"&&Oe.closeIcon?Oe.closeIcon:Ke||(Qe!==void 0?Qe:typeof(oe==null?void 0:oe.closable)=="object"&&(!((it=oe==null?void 0:oe.closable)===null||it===void 0)&&it.closeIcon)?(yt=oe==null?void 0:oe.closable)===null||yt===void 0?void 0:yt.closeIcon:oe==null?void 0:oe.closeIcon)},[Qe,Oe,Ke,oe==null?void 0:oe.closeIcon]),ti=o.useMemo(()=>{const it=Oe!=null?Oe:oe==null?void 0:oe.closable;if(typeof it=="object"){const{closeIcon:yt}=it;return _(it,["closeIcon"])}return{}},[Oe,oe==null?void 0:oe.closable]);return de(o.createElement(w.ZP,{visible:!De,motionName:`${ue}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:it=>({maxHeight:it.offsetHeight}),onLeaveEnd:ve},(it,yt)=>{let{className:$t,style:Nt}=it;return o.createElement("div",Object.assign({id:$,ref:(0,g.sQ)(Ce,yt),"data-show":!De,className:R()(xt,$t),style:Object.assign(Object.assign(Object.assign({},oe==null?void 0:oe.style),we),Nt),onMouseEnter:We,onMouseLeave:ye,onClick:X,role:"alert"},jt),ot?o.createElement(b,{description:se,icon:ie.icon,prefixCls:ue,type:pe}):null,o.createElement("div",{className:`${ue}-content`},ee?o.createElement("div",{className:`${ue}-message`},ee):null,se?o.createElement("div",{className:`${ue}-description`},se):null),fe?o.createElement("div",{className:`${ue}-action`},fe):null,o.createElement(k,{isClosable:je,prefixCls:ue,closeIcon:oi,handleClose:Ae,ariaProps:ti}))}))}),Z=e(73779),z=e(71374),A=e(52601),P=e(95531),I=e(57520);function W(ie,te,se){return te=(0,A.Z)(te),(0,I.Z)(ie,(0,P.Z)()?Reflect.construct(te,se||[],(0,A.Z)(ie).constructor):te.apply(ie,se))}var G=e(45675),Y=function(ie){function te(){var se;return(0,Z.Z)(this,te),se=W(this,te,arguments),se.state={error:void 0,info:{componentStack:""}},se}return(0,G.Z)(te,ie),(0,z.Z)(te,[{key:"componentDidCatch",value:function(ne,ee){this.setState({error:ne,info:ee})}},{key:"render",value:function(){const{message:ne,description:ee,id:re,children:he}=this.props,{error:M,info:we}=this.state,We=(we==null?void 0:we.componentStack)||null,ye=typeof ne=="undefined"?(M||"").toString():ne,X=typeof ee=="undefined"?We:ee;return M?o.createElement(K,{id:re,type:"error",message:ye,description:o.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},X)}):he}}])}(o.Component);const H=K;H.ErrorBoundary=Y;var Q=H},52654:function(et,Le,e){"use strict";e.r(Le),e.d(Le,{CancellationTokenSource:function(){return Ql},Emitter:function(){return Yl},KeyCode:function(){return Jl},KeyMod:function(){return Xl},MarkerSeverity:function(){return nd},MarkerTag:function(){return sd},Position:function(){return ql},Range:function(){return ed},Selection:function(){return td},SelectionDirection:function(){return id},Token:function(){return rd},Uri:function(){return od},default:function(){return Ju},editor:function(){return ad},languages:function(){return ld}});var o={};e.r(o),e.d(o,{CancellationTokenSource:function(){return Ql},Emitter:function(){return Yl},KeyCode:function(){return Jl},KeyMod:function(){return Xl},MarkerSeverity:function(){return nd},MarkerTag:function(){return sd},Position:function(){return ql},Range:function(){return ed},Selection:function(){return td},SelectionDirection:function(){return id},Token:function(){return rd},Uri:function(){return od},editor:function(){return ad},languages:function(){return ld}});var B=e(39583),x=e(10451),O=e(2048),S=e(3398),p=e(60013),E=e(90678),R=e(47097),w=e(79150),m=e(28445),g=e(17570),a=e(76327),r=e(17564),i=e(4917),n=e(69305),c=e(63947),u=e(98013),l=e(52148),D=e(65790),f=e(65254),y=e(27528),C=e(62032),_=e(29329),N=e(32202),b=e(14585),k=e(21070),V=e(69025),K=e(43527),Z=e(5227),z=e(65959),A=e(31658),P=e(56263),I=e(68094),W=e(40466),G=e(4500),j=e(17440),Y=e(27226),H=e(95218),Q=e(38246),ie=e(87288),te=e(54766),se=e(51830),ne=e(74792),ee=e(58693),re=e(52293),he=e(90604),M=e(33811),we=e(68926),We=e(96335),ye=e(39729),X=e(19712),ve=e(16193),Ee=e(64792),Oe=e(34281),Ke=e(43142),Qe=e(50020),fe=e(78956),$=e(86811),le=e(95127),De=e(74950),xe=e(16271),Ce=e(44089),me=e(20436),be=e(21682),oe=e(60290),ue=e(1263),de=e(46281),Se=e(75625),Te=e(27942),Ae=e(44454),pe=e(45029),je=e(30144),ot=e(10058),xt=e(10298),jt=e(92635),oi=e(89226),ti=e(94920),it=e(12408);function yt(Pe,s,v){return new $t(Pe,s,v)}class $t extends it.Q8{constructor(s,v,F){super(s,F.keepIdleModels||!1,F.label,v),this._foreignModuleId=F.moduleId,this._foreignModuleCreateData=F.createData||null,this._foreignModuleHost=F.host||null,this._foreignProxy=null}fhr(s,v){if(!this._foreignModuleHost||typeof this._foreignModuleHost[s]!="function")return Promise.reject(new Error("Missing method "+s+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[s].apply(this._foreignModuleHost,v))}catch(F){return Promise.reject(F)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(s=>{const v=this._foreignModuleHost?(0,ti.$E)(this._foreignModuleHost):[];return s.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,v).then(F=>{this._foreignModuleCreateData=null;const ae=(Fe,ct)=>s.fmr(Fe,ct),ge=(Fe,ct)=>function(){const Lt=Array.prototype.slice.call(arguments,0);return ct(Fe,Lt)},Ie={};for(const Fe of F)Ie[Fe]=ge(Fe,ae);return Ie})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(s){return this._withSyncedResources(s).then(v=>this.getProxy())}}var Nt=e(58001),qt=e(33525),Ht=e(51525),He=e(91895),Ct=e(50131),Gt=e(81275),Di=e(13057),$i=e(91187),Bi=e(57204),Vi=e(12692),Ji=e(91266),wn=e(73275),yn=e(25114),Cn=e(65158),an=e(57822);function Rn(Pe){return Array.isArray(Pe)}function kn(Pe){return!Rn(Pe)}function fn(Pe){return typeof Pe=="string"}function On(Pe){return!fn(Pe)}function xn(Pe){return!Pe}function An(Pe,s){return Pe.ignoreCase&&s?s.toLowerCase():s}function Zt(Pe){return Pe.replace(/[&<>'"_]/g,"-")}function ci(Pe,s){console.log(`${Pe.languageId}: ${s}`)}function _i(Pe,s){return new Error(`${Pe.languageId}: ${s}`)}function Ri(Pe,s,v,F,ae){const ge=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let Ie=null;return s.replace(ge,function(Fe,ct,Lt,Ut,li,wi,Ti,en,En){return xn(Lt)?xn(Ut)?!xn(li)&&li<F.length?An(Pe,F[li]):!xn(Ti)&&Pe&&typeof Pe[Ti]=="string"?Pe[Ti]:(Ie===null&&(Ie=ae.split("."),Ie.unshift(ae)),!xn(wi)&&wi<Ie.length?An(Pe,Ie[wi]):""):An(Pe,v):"$"})}function Zi(Pe,s,v){const F=/\$[sS](\d\d?)/g;let ae=null;return s.replace(F,function(ge,Ie){return ae===null&&(ae=v.split("."),ae.unshift(v)),!xn(Ie)&&Ie<ae.length?An(Pe,ae[Ie]):""})}function gi(Pe,s){let v=s;for(;v&&v.length>0;){const F=Pe.tokenizer[v];if(F)return F;const ae=v.lastIndexOf(".");ae<0?v=null:v=v.substr(0,ae)}return null}function Ze(Pe,s){let v=s;for(;v&&v.length>0;){if(Pe.stateNames[v])return!0;const ae=v.lastIndexOf(".");ae<0?v=null:v=v.substr(0,ae)}return!1}var dt=e(48774),Ue=function(Pe,s,v,F){var ae=arguments.length,ge=ae<3?s:F===null?F=Object.getOwnPropertyDescriptor(s,v):F,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ge=Reflect.decorate(Pe,s,v,F);else for(var Fe=Pe.length-1;Fe>=0;Fe--)(Ie=Pe[Fe])&&(ge=(ae<3?Ie(ge):ae>3?Ie(s,v,ge):Ie(s,v))||ge);return ae>3&&ge&&Object.defineProperty(s,v,ge),ge},$e=function(Pe,s){return function(v,F){s(v,F,Pe)}},bt;const ft=5;class Ye{static create(s,v){return this._INSTANCE.create(s,v)}constructor(s){this._maxCacheDepth=s,this._entries=Object.create(null)}create(s,v){if(s!==null&&s.depth>=this._maxCacheDepth)return new vt(s,v);let F=vt.getStackElementId(s);F.length>0&&(F+="|"),F+=v;let ae=this._entries[F];return ae||(ae=new vt(s,v),this._entries[F]=ae,ae)}}Ye._INSTANCE=new Ye(ft);class vt{constructor(s,v){this.parent=s,this.state=v,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(s){let v="";for(;s!==null;)v.length>0&&(v+="|"),v+=s.state,s=s.parent;return v}static _equals(s,v){for(;s!==null&&v!==null;){if(s===v)return!0;if(s.state!==v.state)return!1;s=s.parent,v=v.parent}return s===null&&v===null}equals(s){return vt._equals(this,s)}push(s){return Ye.create(this,s)}pop(){return this.parent}popall(){let s=this;for(;s.parent;)s=s.parent;return s}switchTo(s){return Ye.create(this.parent,s)}}class nt{constructor(s,v){this.languageId=s,this.state=v}equals(s){return this.languageId===s.languageId&&this.state.equals(s.state)}clone(){return this.state.clone()===this.state?this:new nt(this.languageId,this.state)}}class Ge{static create(s,v){return this._INSTANCE.create(s,v)}constructor(s){this._maxCacheDepth=s,this._entries=Object.create(null)}create(s,v){if(v!==null)return new rt(s,v);if(s!==null&&s.depth>=this._maxCacheDepth)return new rt(s,v);const F=vt.getStackElementId(s);let ae=this._entries[F];return ae||(ae=new rt(s,null),this._entries[F]=ae,ae)}}Ge._INSTANCE=new Ge(ft);class rt{constructor(s,v){this.stack=s,this.embeddedLanguageData=v}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:Ge.create(this.stack,this.embeddedLanguageData)}equals(s){return!(s instanceof rt)||!this.stack.equals(s.stack)?!1:this.embeddedLanguageData===null&&s.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||s.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(s.embeddedLanguageData)}}class st{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(s){this._languageId=s}emit(s,v){this._lastTokenType===v&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=v,this._lastTokenLanguage=this._languageId,this._tokens.push(new He.WU(s,v,this._languageId)))}nestedLanguageTokenize(s,v,F,ae){const ge=F.languageId,Ie=F.state,Fe=He.RW.get(ge);if(!Fe)return this.enterLanguage(ge),this.emit(ae,""),Ie;const ct=Fe.tokenize(s,v,Ie);if(ae!==0)for(const Lt of ct.tokens)this._tokens.push(new He.WU(Lt.offset+ae,Lt.type,Lt.language));else this._tokens=this._tokens.concat(ct.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,ct.endState}finalize(s){return new He.hG(this._tokens,s)}}class tt{constructor(s,v){this._languageService=s,this._theme=v,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(s){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(s)}emit(s,v){const F=this._theme.match(this._currentLanguageId,v)|1024;this._lastTokenMetadata!==F&&(this._lastTokenMetadata=F,this._tokens.push(s),this._tokens.push(F))}static _merge(s,v,F){const ae=s!==null?s.length:0,ge=v.length,Ie=F!==null?F.length:0;if(ae===0&&ge===0&&Ie===0)return new Uint32Array(0);if(ae===0&&ge===0)return F;if(ge===0&&Ie===0)return s;const Fe=new Uint32Array(ae+ge+Ie);s!==null&&Fe.set(s);for(let ct=0;ct<ge;ct++)Fe[ae+ct]=v[ct];return F!==null&&Fe.set(F,ae+ge),Fe}nestedLanguageTokenize(s,v,F,ae){const ge=F.languageId,Ie=F.state,Fe=He.RW.get(ge);if(!Fe)return this.enterLanguage(ge),this.emit(ae,""),Ie;const ct=Fe.tokenizeEncoded(s,v,Ie);if(ae!==0)for(let Lt=0,Ut=ct.tokens.length;Lt<Ut;Lt+=2)ct.tokens[Lt]+=ae;return this._prependTokens=tt._merge(this._prependTokens,this._tokens,ct.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,ct.endState}finalize(s){return new He.DI(tt._merge(this._prependTokens,this._tokens,null),s)}}let _t=bt=class extends pe.JT{constructor(s,v,F,ae,ge){super(),this._configurationService=ge,this._languageService=s,this._standaloneThemeService=v,this._languageId=F,this._lexer=ae,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let Ie=!1;this._register(He.RW.onDidChange(Fe=>{if(Ie)return;let ct=!1;for(let Lt=0,Ut=Fe.changedLanguages.length;Lt<Ut;Lt++){const li=Fe.changedLanguages[Lt];if(this._embeddedLanguages[li]){ct=!0;break}}ct&&(Ie=!0,He.RW.handleChange([this._languageId]),Ie=!1)})),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._register(this._configurationService.onDidChangeConfiguration(Fe=>{Fe.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))}))}getLoadStatus(){const s=[];for(const v in this._embeddedLanguages){const F=He.RW.get(v);if(F){if(F instanceof bt){const ae=F.getLoadStatus();ae.loaded===!1&&s.push(ae.promise)}continue}He.RW.isResolved(v)||s.push(He.RW.getOrCreate(v))}return s.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(s).then(v=>{})}}getInitialState(){const s=Ye.create(null,this._lexer.start);return Ge.create(s,null)}tokenize(s,v,F){if(s.length>=this._maxTokenizationLineLength)return(0,$i.Ri)(this._languageId,F);const ae=new st,ge=this._tokenize(s,v,F,ae);return ae.finalize(ge)}tokenizeEncoded(s,v,F){if(s.length>=this._maxTokenizationLineLength)return(0,$i.Dy)(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),F);const ae=new tt(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),ge=this._tokenize(s,v,F,ae);return ae.finalize(ge)}_tokenize(s,v,F,ae){return F.embeddedLanguageData?this._nestedTokenize(s,v,F,0,ae):this._myTokenize(s,v,F,0,ae)}_findLeavingNestedLanguageOffset(s,v){let F=this._lexer.tokenizer[v.stack.state];if(!F&&(F=gi(this._lexer,v.stack.state),!F))throw _i(this._lexer,"tokenizer state is not defined: "+v.stack.state);let ae=-1,ge=!1;for(const Ie of F){if(!On(Ie.action)||Ie.action.nextEmbedded!=="@pop")continue;ge=!0;let Fe=Ie.resolveRegex(v.stack.state);const ct=Fe.source;if(ct.substr(0,4)==="^(?:"&&ct.substr(ct.length-1,1)===")"){const Ut=(Fe.ignoreCase?"i":"")+(Fe.unicode?"u":"");Fe=new RegExp(ct.substr(4,ct.length-5),Ut)}const Lt=s.search(Fe);Lt===-1||Lt!==0&&Ie.matchOnlyAtLineStart||(ae===-1||Lt<ae)&&(ae=Lt)}if(!ge)throw _i(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+v.stack.state);return ae}_nestedTokenize(s,v,F,ae,ge){const Ie=this._findLeavingNestedLanguageOffset(s,F);if(Ie===-1){const Lt=ge.nestedLanguageTokenize(s,v,F.embeddedLanguageData,ae);return Ge.create(F.stack,new nt(F.embeddedLanguageData.languageId,Lt))}const Fe=s.substring(0,Ie);Fe.length>0&&ge.nestedLanguageTokenize(Fe,!1,F.embeddedLanguageData,ae);const ct=s.substring(Ie);return this._myTokenize(ct,v,F,ae+Ie,ge)}_safeRuleName(s){return s?s.name:"(unknown)"}_myTokenize(s,v,F,ae,ge){ge.enterLanguage(this._languageId);const Ie=s.length,Fe=v&&this._lexer.includeLF?s+`
`:s,ct=Fe.length;let Lt=F.embeddedLanguageData,Ut=F.stack,li=0,wi=null,Ti=!0;for(;Ti||li<ct;){const en=li,En=Ut.depth,Fn=wi?wi.groups.length:0,Tn=Ut.state;let Un=null,Wn=null,vn=null,$n=null,ms=null;if(wi){Un=wi.matches;const Yn=wi.groups.shift();Wn=Yn.matched,vn=Yn.action,$n=wi.rule,wi.groups.length===0&&(wi=null)}else{if(!Ti&&li>=ct)break;Ti=!1;let Yn=this._lexer.tokenizer[Tn];if(!Yn&&(Yn=gi(this._lexer,Tn),!Yn))throw _i(this._lexer,"tokenizer state is not defined: "+Tn);const Ss=Fe.substr(li);for(const ys of Yn)if((li===0||!ys.matchOnlyAtLineStart)&&(Un=Ss.match(ys.resolveRegex(Tn)),Un)){Wn=Un[0],vn=ys.action;break}}if(Un||(Un=[""],Wn=""),vn||(li<ct&&(Un=[Fe.charAt(li)],Wn=Un[0]),vn=this._lexer.defaultToken),Wn===null)break;for(li+=Wn.length;kn(vn)&&On(vn)&&vn.test;)vn=vn.test(Wn,Un,Tn,li===ct);let ss=null;if(typeof vn=="string"||Array.isArray(vn))ss=vn;else if(vn.group)ss=vn.group;else if(vn.token!==null&&vn.token!==void 0){if(vn.tokenSubst?ss=Ri(this._lexer,vn.token,Wn,Un,Tn):ss=vn.token,vn.nextEmbedded)if(vn.nextEmbedded==="@pop"){if(!Lt)throw _i(this._lexer,"cannot pop embedded language if not inside one");Lt=null}else{if(Lt)throw _i(this._lexer,"cannot enter embedded language from within an embedded language");ms=Ri(this._lexer,vn.nextEmbedded,Wn,Un,Tn)}if(vn.goBack&&(li=Math.max(0,li-vn.goBack)),vn.switchTo&&typeof vn.switchTo=="string"){let Yn=Ri(this._lexer,vn.switchTo,Wn,Un,Tn);if(Yn[0]==="@"&&(Yn=Yn.substr(1)),gi(this._lexer,Yn))Ut=Ut.switchTo(Yn);else throw _i(this._lexer,"trying to switch to a state '"+Yn+"' that is undefined in rule: "+this._safeRuleName($n))}else{if(vn.transform&&typeof vn.transform=="function")throw _i(this._lexer,"action.transform not supported");if(vn.next)if(vn.next==="@push"){if(Ut.depth>=this._lexer.maxStack)throw _i(this._lexer,"maximum tokenizer stack size reached: ["+Ut.state+","+Ut.parent.state+",...]");Ut=Ut.push(Tn)}else if(vn.next==="@pop"){if(Ut.depth<=1)throw _i(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName($n));Ut=Ut.pop()}else if(vn.next==="@popall")Ut=Ut.popall();else{let Yn=Ri(this._lexer,vn.next,Wn,Un,Tn);if(Yn[0]==="@"&&(Yn=Yn.substr(1)),gi(this._lexer,Yn))Ut=Ut.push(Yn);else throw _i(this._lexer,"trying to set a next state '"+Yn+"' that is undefined in rule: "+this._safeRuleName($n))}}vn.log&&typeof vn.log=="string"&&ci(this._lexer,this._lexer.languageId+": "+Ri(this._lexer,vn.log,Wn,Un,Tn))}if(ss===null)throw _i(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName($n));const Ro=Yn=>{const Ss=this._languageService.getLanguageIdByLanguageName(Yn)||this._languageService.getLanguageIdByMimeType(Yn)||Yn,ys=this._getNestedEmbeddedLanguageData(Ss);if(li<ct){const va=s.substr(li);return this._nestedTokenize(va,v,Ge.create(Ut,ys),ae+li,ge)}else return Ge.create(Ut,ys)};if(Array.isArray(ss)){if(wi&&wi.groups.length>0)throw _i(this._lexer,"groups cannot be nested: "+this._safeRuleName($n));if(Un.length!==ss.length+1)throw _i(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName($n));let Yn=0;for(let Ss=1;Ss<Un.length;Ss++)Yn+=Un[Ss].length;if(Yn!==Wn.length)throw _i(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName($n));wi={rule:$n,matches:Un,groups:[]};for(let Ss=0;Ss<ss.length;Ss++)wi.groups[Ss]={action:ss[Ss],matched:Un[Ss+1]};li-=Wn.length;continue}else{if(ss==="@rematch"&&(li-=Wn.length,Wn="",Un=null,ss="",ms!==null))return Ro(ms);if(Wn.length===0){if(ct===0||En!==Ut.depth||Tn!==Ut.state||(wi?wi.groups.length:0)!==Fn)continue;throw _i(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName($n))}let Yn=null;if(fn(ss)&&ss.indexOf("@brackets")===0){const Ss=ss.substr(9),ys=kt(this._lexer,Wn);if(!ys)throw _i(this._lexer,"@brackets token returned but no bracket defined as: "+Wn);Yn=Zt(ys.token+Ss)}else{const Ss=ss===""?"":ss+this._lexer.tokenPostfix;Yn=Zt(Ss)}en<Ie&&ge.emit(en+ae,Yn)}if(ms!==null)return Ro(ms)}return Ge.create(Ut,Lt)}_getNestedEmbeddedLanguageData(s){if(!this._languageService.isRegisteredLanguageId(s))return new nt(s,$i.TJ);s!==this._languageId&&(this._languageService.requestBasicLanguageFeatures(s),He.RW.getOrCreate(s),this._embeddedLanguages[s]=!0);const v=He.RW.get(s);return v?new nt(s,v.getInitialState()):new nt(s,$i.TJ)}};_t=bt=Ue([$e(4,dt.Ui)],_t);function kt(Pe,s){if(!s)return null;s=An(Pe,s);const v=Pe.brackets;for(const F of v){if(F.open===s)return{token:F.token,bracketType:1};if(F.close===s)return{token:F.token,bracketType:-1}}return null}const at=(0,wn.Z)("standaloneColorizer",{createHTML:Pe=>Pe});class ht{static colorizeElement(s,v,F,ae){ae=ae||{};const ge=ae.theme||"vs",Ie=ae.mimeType||F.getAttribute("lang")||F.getAttribute("data-lang");if(!Ie)return console.error("Mode not detected"),Promise.resolve();const Fe=v.getLanguageIdByMimeType(Ie)||Ie;s.setTheme(ge);const ct=F.firstChild?F.firstChild.nodeValue:"";F.className+=" "+ge;const Lt=Ut=>{var li;const wi=(li=at==null?void 0:at.createHTML(Ut))!==null&&li!==void 0?li:Ut;F.innerHTML=wi};return this.colorize(v,ct||"",Fe,ae).then(Lt,Ut=>console.error(Ut))}static colorize(s,v,F,ae){return Ft(this,null,function*(){const ge=s.languageIdCodec;let Ie=4;ae&&typeof ae.tabSize=="number"&&(Ie=ae.tabSize),je.uS(v)&&(v=v.substr(1));const Fe=je.uq(v);if(!s.isRegisteredLanguageId(F))return ut(Fe,Ie,ge);const ct=yield He.RW.getOrCreate(F);return ct?Mt(Fe,Ie,ct,ge):ut(Fe,Ie,ge)})}static colorizeLine(s,v,F,ae,ge=4){const Ie=an.wA.isBasicASCII(s,v),Fe=an.wA.containsRTL(s,Ie,F);return(0,Cn.tF)(new Cn.IJ(!1,!0,s,!1,Ie,Fe,0,ae,[],ge,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(s,v,F=4){const ae=s.getLineContent(v);s.tokenization.forceTokenization(v);const Ie=s.tokenization.getLineTokens(v).inflate();return this.colorizeLine(ae,s.mightContainNonBasicASCII(),s.mightContainRTL(),Ie,F)}}function Mt(Pe,s,v,F){return new Promise((ae,ge)=>{const Ie=()=>{const Fe=ke(Pe,s,v,F);if(v instanceof _t){const ct=v.getLoadStatus();if(ct.loaded===!1){ct.promise.then(Ie,ge);return}}ae(Fe)};Ie()})}function ut(Pe,s,v){let F=[];const ge=new Uint32Array(2);ge[0]=0,ge[1]=33587200;for(let Ie=0,Fe=Pe.length;Ie<Fe;Ie++){const ct=Pe[Ie];ge[0]=ct.length;const Lt=new yn.A(ge,ct,v),Ut=an.wA.isBasicASCII(ct,!0),li=an.wA.containsRTL(ct,Ut,!0),wi=(0,Cn.tF)(new Cn.IJ(!1,!0,ct,!1,Ut,li,0,Lt,[],s,0,0,0,0,-1,"none",!1,!1,null));F=F.concat(wi.html),F.push("<br/>")}return F.join("")}function ke(Pe,s,v,F){let ae=[],ge=v.getInitialState();for(let Ie=0,Fe=Pe.length;Ie<Fe;Ie++){const ct=Pe[Ie],Lt=v.tokenizeEncoded(ct,!0,ge);yn.A.convertToEndOffset(Lt.tokens,ct.length);const Ut=new yn.A(Lt.tokens,ct,F),li=an.wA.isBasicASCII(ct,!0),wi=an.wA.containsRTL(ct,li,!0),Ti=(0,Cn.tF)(new Cn.IJ(!1,!0,ct,!1,li,wi,0,Ut.inflate(),[],s,0,0,0,0,-1,"none",!1,!1,null));ae=ae.concat(Ti.html),ae.push("<br/>"),ge=Lt.endState}return ae.join("")}var lt=e(91333),mt=e(70654),Ve=e(91540),Tt=e(91649),At=e(79329),Qt=e(50138),mi=e(63279),Ci=function(Pe,s,v,F){var ae=arguments.length,ge=ae<3?s:F===null?F=Object.getOwnPropertyDescriptor(s,v):F,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ge=Reflect.decorate(Pe,s,v,F);else for(var Fe=Pe.length-1;Fe>=0;Fe--)(Ie=Pe[Fe])&&(ge=(ae<3?Ie(ge):ae>3?Ie(s,v,ge):Ie(s,v))||ge);return ae>3&&ge&&Object.defineProperty(s,v,ge),ge},Oi=function(Pe,s){return function(v,F){s(v,F,Pe)}};let Ii=class extends pe.JT{constructor(s){super(),this._themeService=s,this._onWillCreateCodeEditor=this._register(new At.Q5),this._onCodeEditorAdd=this._register(new At.Q5),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new At.Q5),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onWillCreateDiffEditor=this._register(new At.Q5),this._onDiffEditorAdd=this._register(new At.Q5),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new At.Q5),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new Qt.S,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}willCreateCodeEditor(){this._onWillCreateCodeEditor.fire()}addCodeEditor(s){this._codeEditors[s.getId()]=s,this._onCodeEditorAdd.fire(s)}removeCodeEditor(s){delete this._codeEditors[s.getId()]&&this._onCodeEditorRemove.fire(s)}listCodeEditors(){return Object.keys(this._codeEditors).map(s=>this._codeEditors[s])}willCreateDiffEditor(){this._onWillCreateDiffEditor.fire()}addDiffEditor(s){this._diffEditors[s.getId()]=s,this._onDiffEditorAdd.fire(s)}listDiffEditors(){return Object.keys(this._diffEditors).map(s=>this._diffEditors[s])}getFocusedCodeEditor(){let s=null;const v=this.listCodeEditors();for(const F of v){if(F.hasTextFocus())return F;F.hasWidgetFocus()&&(s=F)}return s}removeDecorationType(s){const v=this._decorationOptionProviders.get(s);v&&(v.refCount--,v.refCount<=0&&(this._decorationOptionProviders.delete(s),v.dispose(),this.listCodeEditors().forEach(F=>F.removeDecorationsByType(s))))}setModelProperty(s,v,F){const ae=s.toString();let ge;this._modelProperties.has(ae)?ge=this._modelProperties.get(ae):(ge=new Map,this._modelProperties.set(ae,ge)),ge.set(v,F)}getModelProperty(s,v){const F=s.toString();if(this._modelProperties.has(F))return this._modelProperties.get(F).get(v)}openCodeEditor(s,v,F){return Ft(this,null,function*(){for(const ae of this._codeEditorOpenHandlers){const ge=yield ae(s,v,F);if(ge!==null)return ge}return null})}registerCodeEditorOpenHandler(s){const v=this._codeEditorOpenHandlers.unshift(s);return(0,pe.OF)(v)}};Ii=Ci([Oi(0,mi.XE)],Ii);class Qi{constructor(s){this._styleSheet=s}}var Wi=e(80568),Jt=e(98352),Ne=function(Pe,s,v,F){var ae=arguments.length,ge=ae<3?s:F===null?F=Object.getOwnPropertyDescriptor(s,v):F,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ge=Reflect.decorate(Pe,s,v,F);else for(var Fe=Pe.length-1;Fe>=0;Fe--)(Ie=Pe[Fe])&&(ge=(ae<3?Ie(ge):ae>3?Ie(s,v,ge):Ie(s,v))||ge);return ae>3&&ge&&Object.defineProperty(s,v,ge),ge},gt=function(Pe,s){return function(v,F){s(v,F,Pe)}};let Bt=class extends Ii{constructor(s,v){super(v),this._register(this.onCodeEditorAdd(()=>this._checkContextKey())),this._register(this.onCodeEditorRemove(()=>this._checkContextKey())),this._editorIsOpen=s.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this._register(this.registerCodeEditorOpenHandler((F,ae,ge)=>Ft(this,null,function*(){return ae?this.doOpenEditor(ae,F):null})))}_checkContextKey(){let s=!1;for(const v of this.listCodeEditors())if(!v.isSimpleWidget){s=!0;break}this._editorIsOpen.set(s)}setActiveCodeEditor(s){this._activeCodeEditor=s}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor(s,v){if(!this.findModel(s,v.resource)){if(v.resource){const ge=v.resource.scheme;if(ge===Tt.lg.http||ge===Tt.lg.https)return(0,Ve.V3)(v.resource.toString()),s}return null}const ae=v.options?v.options.selection:null;if(ae)if(typeof ae.endLineNumber=="number"&&typeof ae.endColumn=="number")s.setSelection(ae),s.revealRangeInCenter(ae,1);else{const ge={lineNumber:ae.startLineNumber,column:ae.startColumn};s.setPosition(ge),s.revealPositionInCenter(ge,1)}return s}findModel(s,v){const F=s.getModel();return F&&F.uri.toString()!==v.toString()?null:F}};Bt=Ne([gt(0,Wi.i6),gt(1,mi.XE)],Bt),(0,Jt.z)(oi.$,Bt,0);var di=e(71221),hi=e(87058);const Ni=(0,hi.yh)("layoutService");var zi=function(Pe,s,v,F){var ae=arguments.length,ge=ae<3?s:F===null?F=Object.getOwnPropertyDescriptor(s,v):F,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ge=Reflect.decorate(Pe,s,v,F);else for(var Fe=Pe.length-1;Fe>=0;Fe--)(Ie=Pe[Fe])&&(ge=(ae<3?Ie(ge):ae>3?Ie(s,v,ge):Ie(s,v))||ge);return ae>3&&ge&&Object.defineProperty(s,v,ge),ge},Gi=function(Pe,s){return function(v,F){s(v,F,Pe)}};let ln=class{get mainContainer(){var s,v;return(v=(s=(0,di.Xh)(this._codeEditorService.listCodeEditors()))===null||s===void 0?void 0:s.getContainerDomNode())!==null&&v!==void 0?v:Ae.E.document.body}get activeContainer(){var s,v;const F=(s=this._codeEditorService.getFocusedCodeEditor())!==null&&s!==void 0?s:this._codeEditorService.getActiveCodeEditor();return(v=F==null?void 0:F.getContainerDomNode())!==null&&v!==void 0?v:this.mainContainer}get mainContainerDimension(){return Ve.D6(this.mainContainer)}get activeContainerDimension(){return Ve.D6(this.activeContainer)}get containers(){return(0,di.kX)(this._codeEditorService.listCodeEditors().map(s=>s.getContainerDomNode()))}getContainer(){return this.activeContainer}whenContainerStylesLoaded(){}focus(){var s;(s=this._codeEditorService.getFocusedCodeEditor())===null||s===void 0||s.focus()}constructor(s){this._codeEditorService=s,this.onDidLayoutMainContainer=At.ju.None,this.onDidLayoutActiveContainer=At.ju.None,this.onDidLayoutContainer=At.ju.None,this.onDidChangeActiveContainer=At.ju.None,this.onDidAddContainer=At.ju.None,this.mainContainerOffset={top:0,quickPickTop:0},this.activeContainerOffset={top:0,quickPickTop:0}}};ln=zi([Gi(0,oi.$)],ln);let ji=class extends ln{get mainContainer(){return this._container}constructor(s,v){super(v),this._container=s}};ji=zi([Gi(1,oi.$)],ji),(0,Jt.z)(Ni,ln,1);var dn=e(25602),tn=e(25632),Hi=e(61652),rn=e(21821),sn=e(52994),fi=e(60031),Je=function(Pe,s,v,F){var ae=arguments.length,ge=ae<3?s:F===null?F=Object.getOwnPropertyDescriptor(s,v):F,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ge=Reflect.decorate(Pe,s,v,F);else for(var Fe=Pe.length-1;Fe>=0;Fe--)(Ie=Pe[Fe])&&(ge=(ae<3?Ie(ge):ae>3?Ie(s,v,ge):Ie(s,v))||ge);return ae>3&&ge&&Object.defineProperty(s,v,ge),ge},Pt=function(Pe,s){return function(v,F){s(v,F,Pe)}};const Wt=!1;function Yt(Pe){return Pe.scheme===Tt.lg.file?Pe.fsPath:Pe.path}let Vt=0;class St{constructor(s,v,F,ae,ge,Ie,Fe){this.id=++Vt,this.type=0,this.actual=s,this.label=s.label,this.confirmBeforeUndo=s.confirmBeforeUndo||!1,this.resourceLabel=v,this.strResource=F,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=ae,this.groupOrder=ge,this.sourceId=Ie,this.sourceOrder=Fe,this.isValid=!0}setValid(s){this.isValid=s}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class Kt{constructor(s,v){this.resourceLabel=s,this.reason=v}}class ei{constructor(){this.elements=new Map}createMessage(){const s=[],v=[];for(const[,ae]of this.elements)(ae.reason===0?s:v).push(ae.resourceLabel);const F=[];return s.length>0&&F.push(Hi.NC({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",s.join(", "))),v.length>0&&F.push(Hi.NC({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",v.join(", "))),F.join(`
`)}get size(){return this.elements.size}has(s){return this.elements.has(s)}set(s,v){this.elements.set(s,v)}delete(s){return this.elements.delete(s)}}class Ei{constructor(s,v,F,ae,ge,Ie,Fe){this.id=++Vt,this.type=1,this.actual=s,this.label=s.label,this.confirmBeforeUndo=s.confirmBeforeUndo||!1,this.resourceLabels=v,this.strResources=F,this.groupId=ae,this.groupOrder=ge,this.sourceId=Ie,this.sourceOrder=Fe,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(s,v,F){this.removedResources||(this.removedResources=new ei),this.removedResources.has(v)||this.removedResources.set(v,new Kt(s,F))}setValid(s,v,F){F?this.invalidatedResources&&(this.invalidatedResources.delete(v),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new ei),this.invalidatedResources.has(v)||this.invalidatedResources.set(v,new Kt(s,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class Li{constructor(s,v){this.resourceLabel=s,this.strResource=v,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const s of this._past)s.type===1&&s.removeResource(this.resourceLabel,this.strResource,0);for(const s of this._future)s.type===1&&s.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const s=[];s.push(`* ${this.strResource}:`);for(let v=0;v<this._past.length;v++)s.push(`   * [UNDO] ${this._past[v]}`);for(let v=this._future.length-1;v>=0;v--)s.push(`   * [REDO] ${this._future[v]}`);return s.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(s,v){s.type===1?s.setValid(this.resourceLabel,this.strResource,v):s.setValid(v)}setElementsValidFlag(s,v){for(const F of this._past)v(F.actual)&&this._setElementValidFlag(F,s);for(const F of this._future)v(F.actual)&&this._setElementValidFlag(F,s)}pushElement(s){for(const v of this._future)v.type===1&&v.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(s),this.versionId++}createSnapshot(s){const v=[];for(let F=0,ae=this._past.length;F<ae;F++)v.push(this._past[F].id);for(let F=this._future.length-1;F>=0;F--)v.push(this._future[F].id);return new fi.YO(s,v)}restoreSnapshot(s){const v=s.elements.length;let F=!0,ae=0,ge=-1;for(let Fe=0,ct=this._past.length;Fe<ct;Fe++,ae++){const Lt=this._past[Fe];F&&(ae>=v||Lt.id!==s.elements[ae])&&(F=!1,ge=0),!F&&Lt.type===1&&Lt.removeResource(this.resourceLabel,this.strResource,0)}let Ie=-1;for(let Fe=this._future.length-1;Fe>=0;Fe--,ae++){const ct=this._future[Fe];F&&(ae>=v||ct.id!==s.elements[ae])&&(F=!1,Ie=Fe),!F&&ct.type===1&&ct.removeResource(this.resourceLabel,this.strResource,0)}ge!==-1&&(this._past=this._past.slice(0,ge)),Ie!==-1&&(this._future=this._future.slice(Ie+1)),this.versionId++}getElements(){const s=[],v=[];for(const F of this._past)s.push(F.actual);for(const F of this._future)v.push(F.actual);return{past:s,future:v}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(s,v){for(let F=this._past.length-1;F>=0;F--)if(this._past[F]===s){v.has(this.strResource)?this._past[F]=v.get(this.strResource):this._past.splice(F,1);break}this.versionId++}splitFutureWorkspaceElement(s,v){for(let F=this._future.length-1;F>=0;F--)if(this._future[F]===s){v.has(this.strResource)?this._future[F]=v.get(this.strResource):this._future.splice(F,1);break}this.versionId++}moveBackward(s){this._past.pop(),this._future.push(s),this.versionId++}moveForward(s){this._future.pop(),this._past.push(s),this.versionId++}}class yi{constructor(s){this.editStacks=s,this._versionIds=[];for(let v=0,F=this.editStacks.length;v<F;v++)this._versionIds[v]=this.editStacks[v].versionId}isValid(){for(let s=0,v=this.editStacks.length;s<v;s++)if(this._versionIds[s]!==this.editStacks[s].versionId)return!1;return!0}}const bi=new Li("","");bi.locked=!0;let Ui=class{constructor(s,v){this._dialogService=s,this._notificationService=v,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(s){for(const v of this._uriComparisonKeyComputers)if(v[0]===s.scheme)return v[1].getComparisonKey(s);return s.toString()}_print(s){console.log("------------------------------------"),console.log(`AFTER ${s}: `);const v=[];for(const F of this._editStacks)v.push(F[1].toString());console.log(v.join(`
`))}pushElement(s,v=fi.Xt.None,F=fi.gJ.None){if(s.type===0){const ae=Yt(s.resource),ge=this.getUriComparisonKey(s.resource);this._pushElement(new St(s,ae,ge,v.id,v.nextOrder(),F.id,F.nextOrder()))}else{const ae=new Set,ge=[],Ie=[];for(const Fe of s.resources){const ct=Yt(Fe),Lt=this.getUriComparisonKey(Fe);ae.has(Lt)||(ae.add(Lt),ge.push(ct),Ie.push(Lt))}ge.length===1?this._pushElement(new St(s,ge[0],Ie[0],v.id,v.nextOrder(),F.id,F.nextOrder())):this._pushElement(new Ei(s,ge,Ie,v.id,v.nextOrder(),F.id,F.nextOrder()))}Wt&&this._print("pushElement")}_pushElement(s){for(let v=0,F=s.strResources.length;v<F;v++){const ae=s.resourceLabels[v],ge=s.strResources[v];let Ie;this._editStacks.has(ge)?Ie=this._editStacks.get(ge):(Ie=new Li(ae,ge),this._editStacks.set(ge,Ie)),Ie.pushElement(s)}}getLastElement(s){const v=this.getUriComparisonKey(s);if(this._editStacks.has(v)){const F=this._editStacks.get(v);if(F.hasFutureElements())return null;const ae=F.getClosestPastElement();return ae?ae.actual:null}return null}_splitPastWorkspaceElement(s,v){const F=s.actual.split(),ae=new Map;for(const ge of F){const Ie=Yt(ge.resource),Fe=this.getUriComparisonKey(ge.resource),ct=new St(ge,Ie,Fe,0,0,0,0);ae.set(ct.strResource,ct)}for(const ge of s.strResources){if(v&&v.has(ge))continue;this._editStacks.get(ge).splitPastWorkspaceElement(s,ae)}}_splitFutureWorkspaceElement(s,v){const F=s.actual.split(),ae=new Map;for(const ge of F){const Ie=Yt(ge.resource),Fe=this.getUriComparisonKey(ge.resource),ct=new St(ge,Ie,Fe,0,0,0,0);ae.set(ct.strResource,ct)}for(const ge of s.strResources){if(v&&v.has(ge))continue;this._editStacks.get(ge).splitFutureWorkspaceElement(s,ae)}}removeElements(s){const v=typeof s=="string"?s:this.getUriComparisonKey(s);this._editStacks.has(v)&&(this._editStacks.get(v).dispose(),this._editStacks.delete(v)),Wt&&this._print("removeElements")}setElementsValidFlag(s,v,F){const ae=this.getUriComparisonKey(s);this._editStacks.has(ae)&&this._editStacks.get(ae).setElementsValidFlag(v,F),Wt&&this._print("setElementsValidFlag")}createSnapshot(s){const v=this.getUriComparisonKey(s);return this._editStacks.has(v)?this._editStacks.get(v).createSnapshot(s):new fi.YO(s,[])}restoreSnapshot(s){const v=this.getUriComparisonKey(s.resource);if(this._editStacks.has(v)){const F=this._editStacks.get(v);F.restoreSnapshot(s),!F.hasPastElements()&&!F.hasFutureElements()&&(F.dispose(),this._editStacks.delete(v))}Wt&&this._print("restoreSnapshot")}getElements(s){const v=this.getUriComparisonKey(s);return this._editStacks.has(v)?this._editStacks.get(v).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(s){if(!s)return[null,null];let v=null,F=null;for(const[ae,ge]of this._editStacks){const Ie=ge.getClosestPastElement();Ie&&Ie.sourceId===s&&(!v||Ie.sourceOrder>v.sourceOrder)&&(v=Ie,F=ae)}return[v,F]}canUndo(s){if(s instanceof fi.gJ){const[,F]=this._findClosestUndoElementWithSource(s.id);return!!F}const v=this.getUriComparisonKey(s);return this._editStacks.has(v)?this._editStacks.get(v).hasPastElements():!1}_onError(s,v){(0,dn.dL)(s);for(const F of v.strResources)this.removeElements(F);this._notificationService.error(s)}_acquireLocks(s){for(const v of s.editStacks)if(v.locked)throw new Error("Cannot acquire edit stack lock");for(const v of s.editStacks)v.locked=!0;return()=>{for(const v of s.editStacks)v.locked=!1}}_safeInvokeWithLocks(s,v,F,ae,ge){const Ie=this._acquireLocks(F);let Fe;try{Fe=v()}catch(ct){return Ie(),ae.dispose(),this._onError(ct,s)}return Fe?Fe.then(()=>(Ie(),ae.dispose(),ge()),ct=>(Ie(),ae.dispose(),this._onError(ct,s))):(Ie(),ae.dispose(),ge())}_invokeWorkspacePrepare(s){return Ft(this,null,function*(){if(typeof s.actual.prepareUndoRedo=="undefined")return pe.JT.None;const v=s.actual.prepareUndoRedo();return typeof v=="undefined"?pe.JT.None:v})}_invokeResourcePrepare(s,v){if(s.actual.type!==1||typeof s.actual.prepareUndoRedo=="undefined")return v(pe.JT.None);const F=s.actual.prepareUndoRedo();return F?(0,pe.Wf)(F)?v(F):F.then(ae=>v(ae)):v(pe.JT.None)}_getAffectedEditStacks(s){const v=[];for(const F of s.strResources)v.push(this._editStacks.get(F)||bi);return new yi(v)}_tryToSplitAndUndo(s,v,F,ae){if(v.canSplit())return this._splitPastWorkspaceElement(v,F),this._notificationService.warn(ae),new Pi(this._undo(s,0,!0));for(const ge of v.strResources)this.removeElements(ge);return this._notificationService.warn(ae),new Pi}_checkWorkspaceUndo(s,v,F,ae){if(v.removedResources)return this._tryToSplitAndUndo(s,v,v.removedResources,Hi.NC({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",v.label,v.removedResources.createMessage()));if(ae&&v.invalidatedResources)return this._tryToSplitAndUndo(s,v,v.invalidatedResources,Hi.NC({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",v.label,v.invalidatedResources.createMessage()));const ge=[];for(const Fe of F.editStacks)Fe.getClosestPastElement()!==v&&ge.push(Fe.resourceLabel);if(ge.length>0)return this._tryToSplitAndUndo(s,v,null,Hi.NC({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",v.label,ge.join(", ")));const Ie=[];for(const Fe of F.editStacks)Fe.locked&&Ie.push(Fe.resourceLabel);return Ie.length>0?this._tryToSplitAndUndo(s,v,null,Hi.NC({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",v.label,Ie.join(", "))):F.isValid()?null:this._tryToSplitAndUndo(s,v,null,Hi.NC({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",v.label))}_workspaceUndo(s,v,F){const ae=this._getAffectedEditStacks(v),ge=this._checkWorkspaceUndo(s,v,ae,!1);return ge?ge.returnValue:this._confirmAndExecuteWorkspaceUndo(s,v,ae,F)}_isPartOfUndoGroup(s){if(!s.groupId)return!1;for(const[,v]of this._editStacks){const F=v.getClosestPastElement();if(F){if(F===s){const ae=v.getSecondClosestPastElement();if(ae&&ae.groupId===s.groupId)return!0}if(F.groupId===s.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(s,v,F,ae){return Ft(this,null,function*(){if(v.canSplit()&&!this._isPartOfUndoGroup(v)){let Fe;(function(Ut){Ut[Ut.All=0]="All",Ut[Ut.This=1]="This",Ut[Ut.Cancel=2]="Cancel"})(Fe||(Fe={}));const{result:ct}=yield this._dialogService.prompt({type:tn.Z.Info,message:Hi.NC("confirmWorkspace","Would you like to undo '{0}' across all files?",v.label),buttons:[{label:Hi.NC({key:"ok",comment:["{0} denotes a number that is > 1, && denotes a mnemonic"]},"&&Undo in {0} Files",F.editStacks.length),run:()=>Fe.All},{label:Hi.NC({key:"nok",comment:["&& denotes a mnemonic"]},"Undo this &&File"),run:()=>Fe.This}],cancelButton:{run:()=>Fe.Cancel}});if(ct===Fe.Cancel)return;if(ct===Fe.This)return this._splitPastWorkspaceElement(v,null),this._undo(s,0,!0);const Lt=this._checkWorkspaceUndo(s,v,F,!1);if(Lt)return Lt.returnValue;ae=!0}let ge;try{ge=yield this._invokeWorkspacePrepare(v)}catch(Fe){return this._onError(Fe,v)}const Ie=this._checkWorkspaceUndo(s,v,F,!0);if(Ie)return ge.dispose(),Ie.returnValue;for(const Fe of F.editStacks)Fe.moveBackward(v);return this._safeInvokeWithLocks(v,()=>v.actual.undo(),F,ge,()=>this._continueUndoInGroup(v.groupId,ae))})}_resourceUndo(s,v,F){if(!v.isValid){s.flushAllElements();return}if(s.locked){const ae=Hi.NC({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",v.label);this._notificationService.warn(ae);return}return this._invokeResourcePrepare(v,ae=>(s.moveBackward(v),this._safeInvokeWithLocks(v,()=>v.actual.undo(),new yi([s]),ae,()=>this._continueUndoInGroup(v.groupId,F))))}_findClosestUndoElementInGroup(s){if(!s)return[null,null];let v=null,F=null;for(const[ae,ge]of this._editStacks){const Ie=ge.getClosestPastElement();Ie&&Ie.groupId===s&&(!v||Ie.groupOrder>v.groupOrder)&&(v=Ie,F=ae)}return[v,F]}_continueUndoInGroup(s,v){if(!s)return;const[,F]=this._findClosestUndoElementInGroup(s);if(F)return this._undo(F,0,v)}undo(s){if(s instanceof fi.gJ){const[,v]=this._findClosestUndoElementWithSource(s.id);return v?this._undo(v,s.id,!1):void 0}return typeof s=="string"?this._undo(s,0,!1):this._undo(this.getUriComparisonKey(s),0,!1)}_undo(s,v=0,F){if(!this._editStacks.has(s))return;const ae=this._editStacks.get(s),ge=ae.getClosestPastElement();if(!ge)return;if(ge.groupId){const[Fe,ct]=this._findClosestUndoElementInGroup(ge.groupId);if(ge!==Fe&&ct)return this._undo(ct,v,F)}if((ge.sourceId!==v||ge.confirmBeforeUndo)&&!F)return this._confirmAndContinueUndo(s,v,ge);try{return ge.type===1?this._workspaceUndo(s,ge,F):this._resourceUndo(ae,ge,F)}finally{Wt&&this._print("undo")}}_confirmAndContinueUndo(s,v,F){return Ft(this,null,function*(){if((yield this._dialogService.confirm({message:Hi.NC("confirmDifferentSource","Would you like to undo '{0}'?",F.label),primaryButton:Hi.NC({key:"confirmDifferentSource.yes",comment:["&& denotes a mnemonic"]},"&&Yes"),cancelButton:Hi.NC("confirmDifferentSource.no","No")})).confirmed)return this._undo(s,v,!0)})}_findClosestRedoElementWithSource(s){if(!s)return[null,null];let v=null,F=null;for(const[ae,ge]of this._editStacks){const Ie=ge.getClosestFutureElement();Ie&&Ie.sourceId===s&&(!v||Ie.sourceOrder<v.sourceOrder)&&(v=Ie,F=ae)}return[v,F]}canRedo(s){if(s instanceof fi.gJ){const[,F]=this._findClosestRedoElementWithSource(s.id);return!!F}const v=this.getUriComparisonKey(s);return this._editStacks.has(v)?this._editStacks.get(v).hasFutureElements():!1}_tryToSplitAndRedo(s,v,F,ae){if(v.canSplit())return this._splitFutureWorkspaceElement(v,F),this._notificationService.warn(ae),new Pi(this._redo(s));for(const ge of v.strResources)this.removeElements(ge);return this._notificationService.warn(ae),new Pi}_checkWorkspaceRedo(s,v,F,ae){if(v.removedResources)return this._tryToSplitAndRedo(s,v,v.removedResources,Hi.NC({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",v.label,v.removedResources.createMessage()));if(ae&&v.invalidatedResources)return this._tryToSplitAndRedo(s,v,v.invalidatedResources,Hi.NC({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",v.label,v.invalidatedResources.createMessage()));const ge=[];for(const Fe of F.editStacks)Fe.getClosestFutureElement()!==v&&ge.push(Fe.resourceLabel);if(ge.length>0)return this._tryToSplitAndRedo(s,v,null,Hi.NC({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",v.label,ge.join(", ")));const Ie=[];for(const Fe of F.editStacks)Fe.locked&&Ie.push(Fe.resourceLabel);return Ie.length>0?this._tryToSplitAndRedo(s,v,null,Hi.NC({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",v.label,Ie.join(", "))):F.isValid()?null:this._tryToSplitAndRedo(s,v,null,Hi.NC({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",v.label))}_workspaceRedo(s,v){const F=this._getAffectedEditStacks(v),ae=this._checkWorkspaceRedo(s,v,F,!1);return ae?ae.returnValue:this._executeWorkspaceRedo(s,v,F)}_executeWorkspaceRedo(s,v,F){return Ft(this,null,function*(){let ae;try{ae=yield this._invokeWorkspacePrepare(v)}catch(Ie){return this._onError(Ie,v)}const ge=this._checkWorkspaceRedo(s,v,F,!0);if(ge)return ae.dispose(),ge.returnValue;for(const Ie of F.editStacks)Ie.moveForward(v);return this._safeInvokeWithLocks(v,()=>v.actual.redo(),F,ae,()=>this._continueRedoInGroup(v.groupId))})}_resourceRedo(s,v){if(!v.isValid){s.flushAllElements();return}if(s.locked){const F=Hi.NC({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",v.label);this._notificationService.warn(F);return}return this._invokeResourcePrepare(v,F=>(s.moveForward(v),this._safeInvokeWithLocks(v,()=>v.actual.redo(),new yi([s]),F,()=>this._continueRedoInGroup(v.groupId))))}_findClosestRedoElementInGroup(s){if(!s)return[null,null];let v=null,F=null;for(const[ae,ge]of this._editStacks){const Ie=ge.getClosestFutureElement();Ie&&Ie.groupId===s&&(!v||Ie.groupOrder<v.groupOrder)&&(v=Ie,F=ae)}return[v,F]}_continueRedoInGroup(s){if(!s)return;const[,v]=this._findClosestRedoElementInGroup(s);if(v)return this._redo(v)}redo(s){if(s instanceof fi.gJ){const[,v]=this._findClosestRedoElementWithSource(s.id);return v?this._redo(v):void 0}return typeof s=="string"?this._redo(s):this._redo(this.getUriComparisonKey(s))}_redo(s){if(!this._editStacks.has(s))return;const v=this._editStacks.get(s),F=v.getClosestFutureElement();if(F){if(F.groupId){const[ae,ge]=this._findClosestRedoElementInGroup(F.groupId);if(F!==ae&&ge)return this._redo(ge)}try{return F.type===1?this._workspaceRedo(s,F):this._resourceRedo(v,F)}finally{Wt&&this._print("redo")}}}};Ui=Je([Pt(0,rn.S),Pt(1,sn.lT)],Ui);class Pi{constructor(s){this.returnValue=s}}(0,Jt.z)(fi.tJ,Ui,1);var Xi=e(81580),nn=e(61629),Sn=e(39185),Mn=e(19552),wt=function(Pe,s,v,F){var ae=arguments.length,ge=ae<3?s:F===null?F=Object.getOwnPropertyDescriptor(s,v):F,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ge=Reflect.decorate(Pe,s,v,F);else for(var Fe=Pe.length-1;Fe>=0;Fe--)(Ie=Pe[Fe])&&(ge=(ae<3?Ie(ge):ae>3?Ie(s,v,ge):Ie(s,v))||ge);return ae>3&&ge&&Object.defineProperty(s,v,ge),ge},T=function(Pe,s){return function(v,F){s(v,F,Pe)}};let J=class extends pe.JT{constructor(s,v,F){super(),this._themeService=s,this._logService=v,this._languageService=F,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}getStyling(s){return this._caches.has(s)||this._caches.set(s,new Sn.$(s.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(s)}};J=wt([T(0,mi.XE),T(1,nn.VZ),T(2,Ct.O)],J),(0,Jt.z)(Mn.s,J,1);var ce=e(84695);function Re(Pe){return typeof Pe=="string"?!1:Array.isArray(Pe)?Pe.every(Re):!!Pe.exclusive}class Be{constructor(s,v,F,ae){this.uri=s,this.languageId=v,this.notebookUri=F,this.notebookType=ae}equals(s){var v,F;return this.notebookType===s.notebookType&&this.languageId===s.languageId&&this.uri.toString()===s.uri.toString()&&((v=this.notebookUri)===null||v===void 0?void 0:v.toString())===((F=s.notebookUri)===null||F===void 0?void 0:F.toString())}}class Xe{constructor(s){this._notebookInfoResolver=s,this._clock=0,this._entries=[],this._onDidChange=new At.Q5,this.onDidChange=this._onDidChange.event}register(s,v){let F={selector:s,provider:v,_score:-1,_time:this._clock++};return this._entries.push(F),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,pe.OF)(()=>{if(F){const ae=this._entries.indexOf(F);ae>=0&&(this._entries.splice(ae,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),F=void 0)}})}has(s){return this.all(s).length>0}all(s){if(!s)return[];this._updateScores(s);const v=[];for(const F of this._entries)F._score>0&&v.push(F.provider);return v}ordered(s){const v=[];return this._orderedForEach(s,F=>v.push(F.provider)),v}orderedGroups(s){const v=[];let F,ae;return this._orderedForEach(s,ge=>{F&&ae===ge._score?F.push(ge.provider):(ae=ge._score,F=[ge.provider],v.push(F))}),v}_orderedForEach(s,v){this._updateScores(s);for(const F of this._entries)F._score>0&&v(F)}_updateScores(s){var v,F;const ae=(v=this._notebookInfoResolver)===null||v===void 0?void 0:v.call(this,s.uri),ge=ae?new Be(s.uri,s.getLanguageId(),ae.uri,ae.type):new Be(s.uri,s.getLanguageId(),void 0,void 0);if(!(!((F=this._lastCandidate)===null||F===void 0)&&F.equals(ge))){this._lastCandidate=ge;for(const Ie of this._entries)if(Ie._score=(0,ce.G)(Ie.selector,ge.uri,ge.languageId,(0,Bi.pt)(s),ge.notebookUri,ge.notebookType),Re(Ie.selector)&&Ie._score>0){for(const Fe of this._entries)Fe._score=0;Ie._score=1e3;break}this._entries.sort(Xe._compareByScoreAndTime)}}static _compareByScoreAndTime(s,v){return s._score<v._score?1:s._score>v._score?-1:Et(s.selector)&&!Et(v.selector)?1:!Et(s.selector)&&Et(v.selector)?-1:s._time<v._time?1:s._time>v._time?-1:0}}function Et(Pe){return typeof Pe=="string"?!1:Array.isArray(Pe)?Pe.some(Et):!!Pe.isBuiltin}var It=e(70546);class ni{constructor(){this.referenceProvider=new Xe(this._score.bind(this)),this.renameProvider=new Xe(this._score.bind(this)),this.newSymbolNamesProvider=new Xe(this._score.bind(this)),this.codeActionProvider=new Xe(this._score.bind(this)),this.definitionProvider=new Xe(this._score.bind(this)),this.typeDefinitionProvider=new Xe(this._score.bind(this)),this.declarationProvider=new Xe(this._score.bind(this)),this.implementationProvider=new Xe(this._score.bind(this)),this.documentSymbolProvider=new Xe(this._score.bind(this)),this.inlayHintsProvider=new Xe(this._score.bind(this)),this.colorProvider=new Xe(this._score.bind(this)),this.codeLensProvider=new Xe(this._score.bind(this)),this.documentFormattingEditProvider=new Xe(this._score.bind(this)),this.documentRangeFormattingEditProvider=new Xe(this._score.bind(this)),this.onTypeFormattingEditProvider=new Xe(this._score.bind(this)),this.signatureHelpProvider=new Xe(this._score.bind(this)),this.hoverProvider=new Xe(this._score.bind(this)),this.documentHighlightProvider=new Xe(this._score.bind(this)),this.multiDocumentHighlightProvider=new Xe(this._score.bind(this)),this.selectionRangeProvider=new Xe(this._score.bind(this)),this.foldingRangeProvider=new Xe(this._score.bind(this)),this.linkProvider=new Xe(this._score.bind(this)),this.inlineCompletionsProvider=new Xe(this._score.bind(this)),this.inlineEditProvider=new Xe(this._score.bind(this)),this.completionProvider=new Xe(this._score.bind(this)),this.linkedEditingRangeProvider=new Xe(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new Xe(this._score.bind(this)),this.documentSemanticTokensProvider=new Xe(this._score.bind(this)),this.documentDropEditProvider=new Xe(this._score.bind(this)),this.documentPasteEditProvider=new Xe(this._score.bind(this))}_score(s){var v;return(v=this._notebookTypeResolver)===null||v===void 0?void 0:v.call(this,s)}}(0,Jt.z)(It.p,ni,1);var si=e(97341),Xt=e(78307),ri=e(31949),ui=e(66070),xi=e(74481),Mi=e(60833),Fi=e(27473),Yi=e(63038),mn=e(60473),hn=e(15122),Pn=e(84935),ts=function(Pe,s,v,F){var ae=arguments.length,ge=ae<3?s:F===null?F=Object.getOwnPropertyDescriptor(s,v):F,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ge=Reflect.decorate(Pe,s,v,F);else for(var Fe=Pe.length-1;Fe>=0;Fe--)(Ie=Pe[Fe])&&(ge=(ae<3?Ie(ge):ae>3?Ie(s,v,ge):Ie(s,v))||ge);return ae>3&&ge&&Object.defineProperty(s,v,ge),ge},is=function(Pe,s){return function(v,F){s(v,F,Pe)}};const Gn=Ve.$;let Vn=class extends Mi.${get _targetWindow(){return Ve.Jj(this._target.targetElements[0])}get _targetDocumentElement(){return Ve.Jj(this._target.targetElements[0]).document.documentElement}get isDisposed(){return this._isDisposed}get isMouseIn(){return this._lockMouseTracker.isMouseIn}get domNode(){return this._hover.containerDomNode}get onDispose(){return this._onDispose.event}get onRequestLayout(){return this._onRequestLayout.event}get anchor(){return this._hoverPosition===2?0:1}get x(){return this._x}get y(){return this._y}get isLocked(){return this._isLocked}set isLocked(s){this._isLocked!==s&&(this._isLocked=s,this._hoverContainer.classList.toggle("locked",this._isLocked))}constructor(s,v,F,ae,ge,Ie){var Fe,ct,Lt,Ut,li,wi,Ti,en;super(),this._keybindingService=v,this._configurationService=F,this._openerService=ae,this._instantiationService=ge,this._accessibilityService=Ie,this._messageListeners=new pe.SL,this._isDisposed=!1,this._forcePosition=!1,this._x=0,this._y=0,this._isLocked=!1,this._enableFocusTraps=!1,this._addedFocusTrap=!1,this._onDispose=this._register(new At.Q5),this._onRequestLayout=this._register(new At.Q5),this._linkHandler=s.linkHandler||(vn=>(0,Yi.N)(this._openerService,vn,(0,mn.Fr)(s.content)?s.content.isTrusted:void 0)),this._target="targetElements"in s.target?s.target:new Cs(s.target),this._hoverPointer=!((Fe=s.appearance)===null||Fe===void 0)&&Fe.showPointer?Gn("div.workbench-hover-pointer"):void 0,this._hover=this._register(new xi.c8),this._hover.containerDomNode.classList.add("workbench-hover","fadeIn"),!((ct=s.appearance)===null||ct===void 0)&&ct.compact&&this._hover.containerDomNode.classList.add("workbench-hover","compact"),!((Lt=s.appearance)===null||Lt===void 0)&&Lt.skipFadeInAnimation&&this._hover.containerDomNode.classList.add("skip-fade-in"),s.additionalClasses&&this._hover.containerDomNode.classList.add(...s.additionalClasses),!((Ut=s.position)===null||Ut===void 0)&&Ut.forcePosition&&(this._forcePosition=!0),s.trapFocus&&(this._enableFocusTraps=!0),this._hoverPosition=(wi=(li=s.position)===null||li===void 0?void 0:li.hoverPosition)!==null&&wi!==void 0?wi:3,this.onmousedown(this._hover.containerDomNode,vn=>vn.stopPropagation()),this.onkeydown(this._hover.containerDomNode,vn=>{vn.equals(9)&&this.dispose()}),this._register(Ve.nm(this._targetWindow,"blur",()=>this.dispose()));const En=Gn("div.hover-row.markdown-hover"),Fn=Gn("div.hover-contents");if(typeof s.content=="string")Fn.textContent=s.content,Fn.style.whiteSpace="pre-wrap";else if(s.content instanceof HTMLElement)Fn.appendChild(s.content),Fn.classList.add("html-hover-contents");else{const vn=s.content,$n=this._instantiationService.createInstance(Yi.$,{codeBlockFontFamily:this._configurationService.getValue("editor").fontFamily||Se.hL.fontFamily}),{element:ms}=$n.render(vn,{actionHandler:{callback:ss=>this._linkHandler(ss),disposables:this._messageListeners},asyncRenderCallback:()=>{Fn.classList.add("code-hover-contents"),this.layout(),this._onRequestLayout.fire()}});Fn.appendChild(ms)}if(En.appendChild(Fn),this._hover.contentsDomNode.appendChild(En),s.actions&&s.actions.length>0){const vn=Gn("div.hover-row.status-bar"),$n=Gn("div.actions");s.actions.forEach(ms=>{const ss=this._keybindingService.lookupKeybinding(ms.commandId),Ro=ss?ss.getLabel():null;xi.Sr.render($n,{label:ms.label,commandId:ms.commandId,run:Yn=>{ms.run(Yn),this.dispose()},iconClass:ms.iconClass},Ro)}),vn.appendChild($n),this._hover.containerDomNode.appendChild(vn)}this._hoverContainer=Gn("div.workbench-hover-container"),this._hoverPointer&&this._hoverContainer.appendChild(this._hoverPointer),this._hoverContainer.appendChild(this._hover.containerDomNode);let Tn;if(s.actions&&s.actions.length>0?Tn=!1:((Ti=s.persistence)===null||Ti===void 0?void 0:Ti.hideOnHover)===void 0?Tn=typeof s.content=="string"||(0,mn.Fr)(s.content)&&!s.content.value.includes("](")&&!s.content.value.includes("</a>"):Tn=s.persistence.hideOnHover,Tn&&(!((en=s.appearance)===null||en===void 0)&&en.showHoverHint)){const vn=Gn("div.hover-row.status-bar"),$n=Gn("div.info");$n.textContent=(0,Hi.NC)("hoverhint","Hold {0} key to mouse over",hn.dz?"Option":"Alt"),vn.appendChild($n),this._hover.containerDomNode.appendChild(vn)}const Un=[...this._target.targetElements];Tn||Un.push(this._hoverContainer);const Wn=this._register(new Xn(Un));if(this._register(Wn.onMouseOut(()=>{this._isLocked||this.dispose()})),Tn){const vn=[...this._target.targetElements,this._hoverContainer];this._lockMouseTracker=this._register(new Xn(vn)),this._register(this._lockMouseTracker.onMouseOut(()=>{this._isLocked||this.dispose()}))}else this._lockMouseTracker=Wn}addFocusTrap(){if(!this._enableFocusTraps||this._addedFocusTrap)return;this._addedFocusTrap=!0;const s=this._hover.containerDomNode,v=this.findLastFocusableChild(this._hover.containerDomNode);if(v){const F=Ve.Ce(this._hoverContainer,Gn("div")),ae=Ve.R3(this._hoverContainer,Gn("div"));F.tabIndex=0,ae.tabIndex=0,this._register(Ve.nm(ae,"focus",ge=>{s.focus(),ge.preventDefault()})),this._register(Ve.nm(F,"focus",ge=>{v.focus(),ge.preventDefault()}))}}findLastFocusableChild(s){if(s.hasChildNodes())for(let v=0;v<s.childNodes.length;v++){const F=s.childNodes.item(s.childNodes.length-v-1);if(F.nodeType===F.ELEMENT_NODE){const ge=F;if(typeof ge.tabIndex=="number"&&ge.tabIndex>=0)return ge}const ae=this.findLastFocusableChild(F);if(ae)return ae}}render(s){var v;s.appendChild(this._hoverContainer);const ae=this._hoverContainer.contains(this._hoverContainer.ownerDocument.activeElement)&&(0,xi.uX)(this._configurationService.getValue("accessibility.verbosity.hover")===!0&&this._accessibilityService.isScreenReaderOptimized(),(v=this._keybindingService.lookupKeybinding("editor.action.accessibleView"))===null||v===void 0?void 0:v.getAriaLabel());ae&&(0,lt.i7)(ae),this.layout(),this.addFocusTrap()}layout(){this._hover.containerDomNode.classList.remove("right-aligned"),this._hover.contentsDomNode.style.maxHeight="";const s=Ut=>{const li=Ve.I8(Ut),wi=Ut.getBoundingClientRect();return{top:wi.top*li,bottom:wi.bottom*li,right:wi.right*li,left:wi.left*li}},v=this._target.targetElements.map(Ut=>s(Ut)),{top:F,right:ae,bottom:ge,left:Ie}=v[0],Fe=ae-Ie,ct=ge-F,Lt={top:F,right:ae,bottom:ge,left:Ie,width:Fe,height:ct,center:{x:Ie+Fe/2,y:F+ct/2}};if(this.adjustHorizontalHoverPosition(Lt),this.adjustVerticalHoverPosition(Lt),this.adjustHoverMaxHeight(Lt),this._hoverContainer.style.padding="",this._hoverContainer.style.margin="",this._hoverPointer){switch(this._hoverPosition){case 1:Lt.left+=3,Lt.right+=3,this._hoverContainer.style.paddingLeft="3px",this._hoverContainer.style.marginLeft="-3px";break;case 0:Lt.left-=3,Lt.right-=3,this._hoverContainer.style.paddingRight="3px",this._hoverContainer.style.marginRight="-3px";break;case 2:Lt.top+=3,Lt.bottom+=3,this._hoverContainer.style.paddingTop="3px",this._hoverContainer.style.marginTop="-3px";break;case 3:Lt.top-=3,Lt.bottom-=3,this._hoverContainer.style.paddingBottom="3px",this._hoverContainer.style.marginBottom="-3px";break}Lt.center.x=Lt.left+Fe/2,Lt.center.y=Lt.top+ct/2}this.computeXCordinate(Lt),this.computeYCordinate(Lt),this._hoverPointer&&(this._hoverPointer.classList.remove("top"),this._hoverPointer.classList.remove("left"),this._hoverPointer.classList.remove("right"),this._hoverPointer.classList.remove("bottom"),this.setHoverPointerPosition(Lt)),this._hover.onContentsChanged()}computeXCordinate(s){const v=this._hover.containerDomNode.clientWidth+2;this._target.x!==void 0?this._x=this._target.x:this._hoverPosition===1?this._x=s.right:this._hoverPosition===0?this._x=s.left-v:(this._hoverPointer?this._x=s.center.x-this._hover.containerDomNode.clientWidth/2:this._x=s.left,this._x+v>=this._targetDocumentElement.clientWidth&&(this._hover.containerDomNode.classList.add("right-aligned"),this._x=Math.max(this._targetDocumentElement.clientWidth-v-2,this._targetDocumentElement.clientLeft))),this._x<this._targetDocumentElement.clientLeft&&(this._x=s.left+2)}computeYCordinate(s){this._target.y!==void 0?this._y=this._target.y:this._hoverPosition===3?this._y=s.top:this._hoverPosition===2?this._y=s.bottom-2:this._hoverPointer?this._y=s.center.y+this._hover.containerDomNode.clientHeight/2:this._y=s.bottom,this._y>this._targetWindow.innerHeight&&(this._y=s.bottom)}adjustHorizontalHoverPosition(s){if(this._target.x!==void 0)return;const v=this._hoverPointer?3:0;if(this._forcePosition){const F=v+2;this._hoverPosition===1?this._hover.containerDomNode.style.maxWidth=`${this._targetDocumentElement.clientWidth-s.right-F}px`:this._hoverPosition===0&&(this._hover.containerDomNode.style.maxWidth=`${s.left-F}px`);return}this._hoverPosition===1?this._targetDocumentElement.clientWidth-s.right<this._hover.containerDomNode.clientWidth+v&&(s.left>=this._hover.containerDomNode.clientWidth+v?this._hoverPosition=0:this._hoverPosition=2):this._hoverPosition===0&&(s.left<this._hover.containerDomNode.clientWidth+v&&(this._targetDocumentElement.clientWidth-s.right>=this._hover.containerDomNode.clientWidth+v?this._hoverPosition=1:this._hoverPosition=2),s.left-this._hover.containerDomNode.clientWidth-v<=this._targetDocumentElement.clientLeft&&(this._hoverPosition=1))}adjustVerticalHoverPosition(s){if(this._target.y!==void 0||this._forcePosition)return;const v=this._hoverPointer?3:0;this._hoverPosition===3?s.top-this._hover.containerDomNode.clientHeight-v<0&&(this._hoverPosition=2):this._hoverPosition===2&&s.bottom+this._hover.containerDomNode.clientHeight+v>this._targetWindow.innerHeight&&(this._hoverPosition=3)}adjustHoverMaxHeight(s){let v=this._targetWindow.innerHeight/2;if(this._forcePosition){const F=(this._hoverPointer?3:0)+2;this._hoverPosition===3?v=Math.min(v,s.top-F):this._hoverPosition===2&&(v=Math.min(v,this._targetWindow.innerHeight-s.bottom-F))}if(this._hover.containerDomNode.style.maxHeight=`${v}px`,this._hover.contentsDomNode.clientHeight<this._hover.contentsDomNode.scrollHeight){const F=`${this._hover.scrollbar.options.verticalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingRight!==F&&(this._hover.contentsDomNode.style.paddingRight=F)}}setHoverPointerPosition(s){if(this._hoverPointer)switch(this._hoverPosition){case 0:case 1:{this._hoverPointer.classList.add(this._hoverPosition===0?"right":"left");const v=this._hover.containerDomNode.clientHeight;v>s.height?this._hoverPointer.style.top=`${s.center.y-(this._y-v)-3}px`:this._hoverPointer.style.top=`${Math.round(v/2)-3}px`;break}case 3:case 2:{this._hoverPointer.classList.add(this._hoverPosition===3?"bottom":"top");const v=this._hover.containerDomNode.clientWidth;let F=Math.round(v/2)-3;const ae=this._x+F;(ae<s.left||ae>s.right)&&(F=s.center.x-this._x-3),this._hoverPointer.style.left=`${F}px`;break}}}focus(){this._hover.containerDomNode.focus()}dispose(){this._isDisposed||(this._onDispose.fire(),this._hoverContainer.remove(),this._messageListeners.dispose(),this._target.dispose(),super.dispose()),this._isDisposed=!0}};Vn=ts([is(1,ui.d),is(2,dt.Ui),is(3,Fi.v),is(4,hi.TG),is(5,Pn.F)],Vn);class Xn extends Mi.${get onMouseOut(){return this._onMouseOut.event}get isMouseIn(){return this._isMouseIn}constructor(s){super(),this._elements=s,this._isMouseIn=!0,this._onMouseOut=this._register(new At.Q5),this._elements.forEach(v=>this.onmouseover(v,()=>this._onTargetMouseOver(v))),this._elements.forEach(v=>this.onmouseleave(v,()=>this._onTargetMouseLeave(v)))}_onTargetMouseOver(s){this._isMouseIn=!0,this._clearEvaluateMouseStateTimeout(s)}_onTargetMouseLeave(s){this._isMouseIn=!1,this._evaluateMouseState(s)}_evaluateMouseState(s){this._clearEvaluateMouseStateTimeout(s),this._mouseTimeout=Ve.Jj(s).setTimeout(()=>this._fireIfMouseOutside(),0)}_clearEvaluateMouseStateTimeout(s){this._mouseTimeout&&(Ve.Jj(s).clearTimeout(this._mouseTimeout),this._mouseTimeout=void 0)}_fireIfMouseOutside(){this._isMouseIn||this._onMouseOut.fire()}}class Cs{constructor(s){this._element=s,this.targetElements=[this._element]}dispose(){}}var ns=e(50908),Rs=e(8435),ps=e(86666);function _s(Pe){const s=Pe;return!!s&&typeof s.x=="number"&&typeof s.y=="number"}var rs;(function(Pe){Pe[Pe.AVOID=0]="AVOID",Pe[Pe.ALIGN=1]="ALIGN"})(rs||(rs={}));function Ns(Pe,s,v){const F=v.mode===rs.ALIGN?v.offset:v.offset+v.size,ae=v.mode===rs.ALIGN?v.offset+v.size:v.offset;return v.position===0?s<=Pe-F?F:s<=ae?ae-s:Math.max(Pe-s,0):s<=ae?ae-s:s<=Pe-F?F:0}class qn extends pe.JT{constructor(s,v){super(),this.container=null,this.useFixedPosition=!1,this.useShadowDOM=!1,this.delegate=null,this.toDisposeOnClean=pe.JT.None,this.toDisposeOnSetContainer=pe.JT.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=Ve.$(".context-view"),Ve.Cp(this.view),this.setContainer(s,v),this._register((0,pe.OF)(()=>this.setContainer(null,1)))}setContainer(s,v){var F;this.useFixedPosition=v!==1;const ae=this.useShadowDOM;if(this.useShadowDOM=v===3,!(s===this.container&&ae===this.useShadowDOM)&&(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(F=this.shadowRootHostElement)===null||F===void 0||F.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),s)){if(this.container=s,this.useShadowDOM){this.shadowRootHostElement=Ve.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const Ie=document.createElement("style");Ie.textContent=Vs,this.shadowRoot.appendChild(Ie),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(Ve.$("slot"))}else this.container.appendChild(this.view);const ge=new pe.SL;qn.BUBBLE_UP_EVENTS.forEach(Ie=>{ge.add(Ve.mu(this.container,Ie,Fe=>{this.onDOMEvent(Fe,!1)}))}),qn.BUBBLE_DOWN_EVENTS.forEach(Ie=>{ge.add(Ve.mu(this.container,Ie,Fe=>{this.onDOMEvent(Fe,!0)},!0))}),this.toDisposeOnSetContainer=ge}}show(s){var v,F,ae;this.isVisible()&&this.hide(),Ve.PO(this.view),this.view.className="context-view monaco-component",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex=`${2575+((v=s.layer)!==null&&v!==void 0?v:0)}`,this.view.style.position=this.useFixedPosition?"fixed":"absolute",Ve.$Z(this.view),this.toDisposeOnClean=s.render(this.view)||pe.JT.None,this.delegate=s,this.doLayout(),(ae=(F=this.delegate).focus)===null||ae===void 0||ae.call(F)}getViewElement(){return this.view}layout(){var s,v;if(this.isVisible()){if(this.delegate.canRelayout===!1&&!(hn.gn&&Rs.D.pointerEvents)){this.hide();return}(v=(s=this.delegate)===null||s===void 0?void 0:s.layout)===null||v===void 0||v.call(s),this.doLayout()}}doLayout(){if(!this.isVisible())return;const s=this.delegate.getAnchor();let v;if(s instanceof HTMLElement){const wi=Ve.i(s),Ti=Ve.I8(s);v={top:wi.top*Ti,left:wi.left*Ti,width:wi.width*Ti,height:wi.height*Ti}}else _s(s)?v={top:s.y,left:s.x,width:s.width||1,height:s.height||2}:v={top:s.posy,left:s.posx,width:2,height:2};const F=Ve.w(this.view),ae=Ve.wn(this.view),ge=this.delegate.anchorPosition||0,Ie=this.delegate.anchorAlignment||0,Fe=this.delegate.anchorAxisAlignment||0;let ct,Lt;const Ut=Ve.WN();if(Fe===0){const wi={offset:v.top-Ut.pageYOffset,size:v.height,position:ge===0?0:1},Ti={offset:v.left,size:v.width,position:Ie===0?0:1,mode:rs.ALIGN};ct=Ns(Ut.innerHeight,ae,wi)+Ut.pageYOffset,ps.e.intersects({start:ct,end:ct+ae},{start:wi.offset,end:wi.offset+wi.size})&&(Ti.mode=rs.AVOID),Lt=Ns(Ut.innerWidth,F,Ti)}else{const wi={offset:v.left,size:v.width,position:Ie===0?0:1},Ti={offset:v.top,size:v.height,position:ge===0?0:1,mode:rs.ALIGN};Lt=Ns(Ut.innerWidth,F,wi),ps.e.intersects({start:Lt,end:Lt+F},{start:wi.offset,end:wi.offset+wi.size})&&(Ti.mode=rs.AVOID),ct=Ns(Ut.innerHeight,ae,Ti)+Ut.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(ge===0?"bottom":"top"),this.view.classList.add(Ie===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const li=Ve.i(this.container);this.view.style.top=`${ct-(this.useFixedPosition?Ve.i(this.view).top:li.top)}px`,this.view.style.left=`${Lt-(this.useFixedPosition?Ve.i(this.view).left:li.left)}px`,this.view.style.width="initial"}hide(s){const v=this.delegate;this.delegate=null,v!=null&&v.onHide&&v.onHide(s),this.toDisposeOnClean.dispose(),Ve.Cp(this.view)}isVisible(){return!!this.delegate}onDOMEvent(s,v){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(s,Ve.Jj(s).document.activeElement):v&&!Ve.jg(s.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}qn.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],qn.BUBBLE_DOWN_EVENTS=["click"];const Vs=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`;var jo=function(Pe,s,v,F){var ae=arguments.length,ge=ae<3?s:F===null?F=Object.getOwnPropertyDescriptor(s,v):F,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ge=Reflect.decorate(Pe,s,v,F);else for(var Fe=Pe.length-1;Fe>=0;Fe--)(Ie=Pe[Fe])&&(ge=(ae<3?Ie(ge):ae>3?Ie(s,v,ge):Ie(s,v))||ge);return ae>3&&ge&&Object.defineProperty(s,v,ge),ge},Js=function(Pe,s){return function(v,F){s(v,F,Pe)}};let ws=class extends pe.JT{constructor(s){super(),this.layoutService=s,this.contextView=this._register(new qn(this.layoutService.mainContainer,1)),this.layout(),this._register(s.onDidLayoutContainer(()=>this.layout()))}showContextView(s,v,F){let ae;v?v===this.layoutService.getContainer((0,Ve.Jj)(v))?ae=1:F?ae=3:ae=2:ae=1,this.contextView.setContainer(v!=null?v:this.layoutService.activeContainer,ae),this.contextView.show(s);const ge={close:()=>{this.openContextView===ge&&this.hideContextView()}};return this.openContextView=ge,ge}layout(){this.contextView.layout()}hideContextView(s){this.contextView.hide(s),this.openContextView=void 0}};ws=jo([Js(0,Ni)],ws);class Es extends ws{getContextViewElement(){return this.contextView.getViewElement()}}var zs=e(65642),to=e(26974);class hr{constructor(s,v,F){this.hoverDelegate=s,this.target=v,this.fadeInAnimation=F}update(s,v,F){return Ft(this,null,function*(){var ae;if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let ge;if(s===void 0||(0,to.HD)(s)||s instanceof HTMLElement)ge=s;else if(!(0,to.mf)(s.markdown))ge=(ae=s.markdown)!==null&&ae!==void 0?ae:s.markdownNotSupportedFallback;else{this._hoverWidget||this.show((0,Hi.NC)("iconLabel.loading","Loading..."),v),this._cancellationTokenSource=new zs.AU;const Ie=this._cancellationTokenSource.token;if(ge=yield s.markdown(Ie),ge===void 0&&(ge=s.markdownNotSupportedFallback),this.isDisposed||Ie.isCancellationRequested)return}this.show(ge,v,F)})}show(s,v,F){const ae=this._hoverWidget;if(this.hasContent(s)){const ge=vi({content:s,target:this.target,appearance:{showPointer:this.hoverDelegate.placement==="element",skipFadeInAnimation:!this.fadeInAnimation||!!ae},position:{hoverPosition:2}},F);this._hoverWidget=this.hoverDelegate.showHover(ge,v)}ae==null||ae.dispose()}hasContent(s){return s?(0,mn.Fr)(s)?!!s.value:!0:!1}get isDisposed(){var s;return(s=this._hoverWidget)===null||s===void 0?void 0:s.isDisposed}dispose(){var s,v;(s=this._hoverWidget)===null||s===void 0||s.dispose(),(v=this._cancellationTokenSource)===null||v===void 0||v.dispose(!0),this._cancellationTokenSource=void 0}}var Ms=e(74696),fr=function(Pe,s,v,F){var ae=arguments.length,ge=ae<3?s:F===null?F=Object.getOwnPropertyDescriptor(s,v):F,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ge=Reflect.decorate(Pe,s,v,F);else for(var Fe=Pe.length-1;Fe>=0;Fe--)(Ie=Pe[Fe])&&(ge=(ae<3?Ie(ge):ae>3?Ie(s,v,ge):Ie(s,v))||ge);return ae>3&&ge&&Object.defineProperty(s,v,ge),ge},Xs=function(Pe,s){return function(v,F){s(v,F,Pe)}};let lo=class extends pe.JT{constructor(s,v,F,ae,ge){super(),this._instantiationService=s,this._keybindingService=F,this._layoutService=ae,this._accessibilityService=ge,v.onDidShowContextMenu(()=>this.hideHover()),this._contextViewHandler=this._register(new ws(this._layoutService))}showHover(s,v,F){var ae,ge,Ie,Fe;if($o(this._currentHoverOptions)===$o(s)||this._currentHover&&(!((ge=(ae=this._currentHoverOptions)===null||ae===void 0?void 0:ae.persistence)===null||ge===void 0)&&ge.sticky))return;this._currentHoverOptions=s,this._lastHoverOptions=s;const ct=s.trapFocus||this._accessibilityService.isScreenReaderOptimized(),Lt=(0,Ve.vY)();F||(ct&&Lt?this._lastFocusedElementBeforeOpen=Lt:this._lastFocusedElementBeforeOpen=void 0);const Ut=new pe.SL,li=this._instantiationService.createInstance(Vn,s);if(!((Ie=s.persistence)===null||Ie===void 0)&&Ie.sticky&&(li.isLocked=!0),li.onDispose(()=>{var wi,Ti;((wi=this._currentHover)===null||wi===void 0?void 0:wi.domNode)&&(0,Ve.b5)(this._currentHover.domNode)&&((Ti=this._lastFocusedElementBeforeOpen)===null||Ti===void 0||Ti.focus()),this._currentHoverOptions===s&&(this._currentHoverOptions=void 0),Ut.dispose()},void 0,Ut),!s.container){const wi=s.target instanceof HTMLElement?s.target:s.target.targetElements[0];s.container=this._layoutService.getContainer((0,Ve.Jj)(wi))}if(this._contextViewHandler.showContextView(new gr(li,v),s.container),li.onRequestLayout(()=>this._contextViewHandler.layout(),void 0,Ut),!((Fe=s.persistence)===null||Fe===void 0)&&Fe.sticky)Ut.add((0,Ve.nm)((0,Ve.Jj)(s.container).document,Ve.tw.MOUSE_DOWN,wi=>{(0,Ve.jg)(wi.target,li.domNode)||this.doHideHover()}));else{if("targetElements"in s.target)for(const Ti of s.target.targetElements)Ut.add((0,Ve.nm)(Ti,Ve.tw.CLICK,()=>this.hideHover()));else Ut.add((0,Ve.nm)(s.target,Ve.tw.CLICK,()=>this.hideHover()));const wi=(0,Ve.vY)();if(wi){const Ti=(0,Ve.Jj)(wi).document;Ut.add((0,Ve.nm)(wi,Ve.tw.KEY_DOWN,en=>{var En;return this._keyDown(en,li,!!(!((En=s.persistence)===null||En===void 0)&&En.hideOnKeyDown))})),Ut.add((0,Ve.nm)(Ti,Ve.tw.KEY_DOWN,en=>{var En;return this._keyDown(en,li,!!(!((En=s.persistence)===null||En===void 0)&&En.hideOnKeyDown))})),Ut.add((0,Ve.nm)(wi,Ve.tw.KEY_UP,en=>this._keyUp(en,li))),Ut.add((0,Ve.nm)(Ti,Ve.tw.KEY_UP,en=>this._keyUp(en,li)))}}if("IntersectionObserver"in Ae.E){const wi=new IntersectionObserver(en=>this._intersectionChange(en,li),{threshold:0}),Ti="targetElements"in s.target?s.target.targetElements[0]:s.target;wi.observe(Ti),Ut.add((0,pe.OF)(()=>wi.disconnect()))}return this._currentHover=li,li}hideHover(){var s;!((s=this._currentHover)===null||s===void 0)&&s.isLocked||!this._currentHoverOptions||this.doHideHover()}doHideHover(){this._currentHover=void 0,this._currentHoverOptions=void 0,this._contextViewHandler.hideContextView()}_intersectionChange(s,v){s[s.length-1].isIntersecting||v.dispose()}showAndFocusLastHover(){this._lastHoverOptions&&this.showHover(this._lastHoverOptions,!0,!0)}_keyDown(s,v,F){var ae,ge;if(s.key==="Alt"){v.isLocked=!0;return}const Ie=new ns.y(s);this._keybindingService.resolveKeyboardEvent(Ie).getSingleModifierDispatchChords().some(ct=>!!ct)||this._keybindingService.softDispatch(Ie,Ie.target).kind!==0||F&&(!(!((ae=this._currentHoverOptions)===null||ae===void 0)&&ae.trapFocus)||s.key!=="Tab")&&(this.hideHover(),(ge=this._lastFocusedElementBeforeOpen)===null||ge===void 0||ge.focus())}_keyUp(s,v){var F;s.key==="Alt"&&(v.isLocked=!1,v.isMouseIn||(this.hideHover(),(F=this._lastFocusedElementBeforeOpen)===null||F===void 0||F.focus()))}setupUpdatableHover(s,v,F,ae){v.setAttribute("custom-hover","true"),v.title!==""&&(console.warn("HTML element already has a title attribute, which will conflict with the custom hover. Please remove the title attribute."),console.trace("Stack trace:",v.title),v.title="");let ge,Ie;const Fe=(Wn,vn)=>{var $n;const ms=Ie!==void 0;Wn&&(Ie==null||Ie.dispose(),Ie=void 0),vn&&(ge==null||ge.dispose(),ge=void 0),ms&&(($n=s.onDidHideHover)===null||$n===void 0||$n.call(s),Ie=void 0)},ct=(Wn,vn,$n)=>new Ms._F(()=>Ft(this,null,function*(){(!Ie||Ie.isDisposed)&&(Ie=new hr(s,$n||v,Wn>0),yield Ie.update(typeof F=="function"?F():F,vn,ae))}),Wn);let Lt=!1;const Ut=(0,Ve.nm)(v,Ve.tw.MOUSE_DOWN,()=>{Lt=!0,Fe(!0,!0)},!0),li=(0,Ve.nm)(v,Ve.tw.MOUSE_UP,()=>{Lt=!1},!0),wi=(0,Ve.nm)(v,Ve.tw.MOUSE_LEAVE,Wn=>{Lt=!1,Fe(!1,Wn.fromElement===v)},!0),Ti=Wn=>{if(ge)return;const vn=new pe.SL,$n={targetElements:[v],dispose:()=>{}};if(s.placement===void 0||s.placement==="mouse"){const ms=ss=>{$n.x=ss.x+10,ss.target instanceof HTMLElement&&io(ss.target,v)!==v&&Fe(!0,!0)};vn.add((0,Ve.nm)(v,Ve.tw.MOUSE_MOVE,ms,!0))}ge=vn,!(Wn.target instanceof HTMLElement&&io(Wn.target,v)!==v)&&vn.add(ct(s.delay,!1,$n))},en=(0,Ve.nm)(v,Ve.tw.MOUSE_OVER,Ti,!0),En=()=>{if(Lt||ge)return;const Wn={targetElements:[v],dispose:()=>{}},vn=new pe.SL,$n=()=>Fe(!0,!0);vn.add((0,Ve.nm)(v,Ve.tw.BLUR,$n,!0)),vn.add(ct(s.delay,!1,Wn)),ge=vn};let Fn;const Tn=v.tagName.toLowerCase();return Tn!=="input"&&Tn!=="textarea"&&(Fn=(0,Ve.nm)(v,Ve.tw.FOCUS,En,!0)),{show:Wn=>{Fe(!1,!0),ct(0,Wn)},hide:()=>{Fe(!0,!0)},update:(Wn,vn)=>Ft(this,null,function*(){F=Wn,yield Ie==null?void 0:Ie.update(F,void 0,vn)}),dispose:()=>{en.dispose(),wi.dispose(),Ut.dispose(),li.dispose(),Fn==null||Fn.dispose(),Fe(!0,!0)}}}};lo=fr([Xs(0,hi.TG),Xs(1,ri.i),Xs(2,ui.d),Xs(3,Ni),Xs(4,Pn.F)],lo);function $o(Pe){var s;if(Pe!==void 0)return(s=Pe==null?void 0:Pe.id)!==null&&s!==void 0?s:Pe}class gr{get anchorPosition(){return this._hover.anchor}constructor(s,v=!1){this._hover=s,this._focus=v,this.layer=1}render(s){return this._hover.render(s),this._focus&&this._hover.focus(),this._hover}getAnchor(){return{x:this._hover.x,y:this._hover.y}}layout(){this._hover.layout()}}function io(Pe,s){for(s=s!=null?s:(0,Ve.Jj)(Pe).document.body;!Pe.hasAttribute("custom-hover")&&Pe!==s;)Pe=Pe.parentElement;return Pe}(0,Jt.z)(Xt.Bs,lo,1),(0,mi.Ic)((Pe,s)=>{const v=Pe.getColor(si.CNo);v&&(s.addRule(`.monaco-workbench .workbench-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${v.transparent(.5)}; }`),s.addRule(`.monaco-workbench .workbench-hover hr { border-top: 1px solid ${v.transparent(.5)}; }`))});var no=e(13804),Zn=e(11724),mr=e(57587),pr=e(44316),_r=e(93895),qs=e(4694),ko=e(21592),Fo=e(15628),bs=e(83349),xs=e(79138),Us=e(18567),$s=e(2816);function Gs(Pe){return Object.isFrozen(Pe)?Pe:ti._A(Pe)}class as{static createEmptyModel(s){return new as({},[],[],void 0,s)}constructor(s,v,F,ae,ge){this._contents=s,this._keys=v,this._overrides=F,this.raw=ae,this.logService=ge,this.overrideConfigurations=new Map}get rawConfiguration(){var s;if(!this._rawConfiguration)if(!((s=this.raw)===null||s===void 0)&&s.length){const v=this.raw.map(F=>{if(F instanceof as)return F;const ae=new Bo("",this.logService);return ae.parseRaw(F),ae.configurationModel});this._rawConfiguration=v.reduce((F,ae)=>ae===F?ae:F.merge(ae),v[0])}else this._rawConfiguration=this;return this._rawConfiguration}get contents(){return this._contents}get overrides(){return this._overrides}get keys(){return this._keys}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(s){return s?(0,dt.Mt)(this.contents,s):this.contents}inspect(s,v){const F=this;return{get value(){return Gs(F.rawConfiguration.getValue(s))},get override(){return v?Gs(F.rawConfiguration.getOverrideValue(s,v)):void 0},get merged(){return Gs(v?F.rawConfiguration.override(v).getValue(s):F.rawConfiguration.getValue(s))},get overrides(){const ae=[];for(const{contents:ge,identifiers:Ie,keys:Fe}of F.rawConfiguration.overrides){const ct=new as(ge,Fe,[],void 0,F.logService).getValue(s);ct!==void 0&&ae.push({identifiers:Ie,value:ct})}return ae.length?Gs(ae):void 0}}}getOverrideValue(s,v){const F=this.getContentsForOverrideIdentifer(v);return F?s?(0,dt.Mt)(F,s):F:void 0}override(s){let v=this.overrideConfigurations.get(s);return v||(v=this.createOverrideConfigurationModel(s),this.overrideConfigurations.set(s,v)),v}merge(...s){var v,F;const ae=ti.I8(this.contents),ge=ti.I8(this.overrides),Ie=[...this.keys],Fe=!((v=this.raw)===null||v===void 0)&&v.length?[...this.raw]:[this];for(const ct of s)if(Fe.push(...!((F=ct.raw)===null||F===void 0)&&F.length?ct.raw:[ct]),!ct.isEmpty()){this.mergeContents(ae,ct.contents);for(const Lt of ct.overrides){const[Ut]=ge.filter(li=>di.fS(li.identifiers,Lt.identifiers));Ut?(this.mergeContents(Ut.contents,Lt.contents),Ut.keys.push(...Lt.keys),Ut.keys=di.EB(Ut.keys)):ge.push(ti.I8(Lt))}for(const Lt of ct.keys)Ie.indexOf(Lt)===-1&&Ie.push(Lt)}return new as(ae,Ie,ge,Fe.every(ct=>ct instanceof as)?void 0:Fe,this.logService)}createOverrideConfigurationModel(s){const v=this.getContentsForOverrideIdentifer(s);if(!v||typeof v!="object"||!Object.keys(v).length)return this;const F={};for(const ae of di.EB([...Object.keys(this.contents),...Object.keys(v)])){let ge=this.contents[ae];const Ie=v[ae];Ie&&(typeof ge=="object"&&typeof Ie=="object"?(ge=ti.I8(ge),this.mergeContents(ge,Ie)):ge=Ie),F[ae]=ge}return new as(F,this.keys,this.overrides,void 0,this.logService)}mergeContents(s,v){for(const F of Object.keys(v)){if(F in s&&to.Kn(s[F])&&to.Kn(v[F])){this.mergeContents(s[F],v[F]);continue}s[F]=ti.I8(v[F])}}getContentsForOverrideIdentifer(s){let v=null,F=null;const ae=ge=>{ge&&(F?this.mergeContents(F,ge):F=ti.I8(ge))};for(const ge of this.overrides)ge.identifiers.length===1&&ge.identifiers[0]===s?v=ge.contents:ge.identifiers.includes(s)&&ae(ge.contents);return ae(v),F}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}addValue(s,v){this.updateValue(s,v,!0)}setValue(s,v){this.updateValue(s,v,!1)}removeValue(s){const v=this.keys.indexOf(s);v!==-1&&(this.keys.splice(v,1),(0,dt.xL)(this.contents,s),Us.eU.test(s)&&this.overrides.splice(this.overrides.findIndex(F=>di.fS(F.identifiers,(0,Us.ny)(s))),1))}updateValue(s,v,F){(0,dt.KV)(this.contents,s,v,ae=>this.logService.error(ae)),F=F||this.keys.indexOf(s)===-1,F&&this.keys.push(s),Us.eU.test(s)&&this.overrides.push({identifiers:(0,Us.ny)(s),keys:Object.keys(this.contents[s]),contents:(0,dt.Od)(this.contents[s],ae=>this.logService.error(ae))})}}class Bo{constructor(s,v){this._name=s,this.logService=v,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[]}get configurationModel(){return this._configurationModel||as.createEmptyModel(this.logService)}parseRaw(s,v){this._raw=s;const{contents:F,keys:ae,overrides:ge,restricted:Ie,hasExcludedProperties:Fe}=this.doParseRaw(s,v);this._configurationModel=new as(F,ae,ge,Fe?[s]:void 0,this.logService),this._restrictedConfigurations=Ie||[]}doParseRaw(s,v){const F=$s.B.as(Us.IP.Configuration).getConfigurationProperties(),ae=this.filter(s,F,!0,v);s=ae.raw;const ge=(0,dt.Od)(s,ct=>this.logService.error(`Conflict in settings file ${this._name}: ${ct}`)),Ie=Object.keys(s),Fe=this.toOverrides(s,ct=>this.logService.error(`Conflict in settings file ${this._name}: ${ct}`));return{contents:ge,keys:Ie,overrides:Fe,restricted:ae.restricted,hasExcludedProperties:ae.hasExcludedProperties}}filter(s,v,F,ae){var ge,Ie,Fe;let ct=!1;if(!(ae!=null&&ae.scopes)&&!(ae!=null&&ae.skipRestricted)&&!(!((ge=ae==null?void 0:ae.exclude)===null||ge===void 0)&&ge.length))return{raw:s,restricted:[],hasExcludedProperties:ct};const Lt={},Ut=[];for(const li in s)if(Us.eU.test(li)&&F){const wi=this.filter(s[li],v,!1,ae);Lt[li]=wi.raw,ct=ct||wi.hasExcludedProperties,Ut.push(...wi.restricted)}else{const wi=v[li],Ti=wi?typeof wi.scope!="undefined"?wi.scope:3:void 0;wi!=null&&wi.restricted&&Ut.push(li),!(!((Ie=ae.exclude)===null||Ie===void 0)&&Ie.includes(li))&&(!((Fe=ae.include)===null||Fe===void 0)&&Fe.includes(li)||(Ti===void 0||ae.scopes===void 0||ae.scopes.includes(Ti))&&!(ae.skipRestricted&&(wi!=null&&wi.restricted)))?Lt[li]=s[li]:ct=!0}return{raw:Lt,restricted:Ut,hasExcludedProperties:ct}}toOverrides(s,v){const F=[];for(const ae of Object.keys(s))if(Us.eU.test(ae)){const ge={};for(const Ie in s[ae])ge[Ie]=s[ae][Ie];F.push({identifiers:(0,Us.ny)(ae),keys:Object.keys(ge),contents:(0,dt.Od)(ge,v)})}return F}}class Go{constructor(s,v,F,ae,ge,Ie,Fe,ct,Lt,Ut,li,wi,Ti){this.key=s,this.overrides=v,this._value=F,this.overrideIdentifiers=ae,this.defaultConfiguration=ge,this.policyConfiguration=Ie,this.applicationConfiguration=Fe,this.userConfiguration=ct,this.localUserConfiguration=Lt,this.remoteUserConfiguration=Ut,this.workspaceConfiguration=li,this.folderConfigurationModel=wi,this.memoryConfigurationModel=Ti}toInspectValue(s){return(s==null?void 0:s.value)!==void 0||(s==null?void 0:s.override)!==void 0||(s==null?void 0:s.overrides)!==void 0?s:void 0}get userInspectValue(){return this._userInspectValue||(this._userInspectValue=this.userConfiguration.inspect(this.key,this.overrides.overrideIdentifier)),this._userInspectValue}get user(){return this.toInspectValue(this.userInspectValue)}}class co{constructor(s,v,F,ae,ge,Ie,Fe,ct,Lt,Ut){this._defaultConfiguration=s,this._policyConfiguration=v,this._applicationConfiguration=F,this._localUserConfiguration=ae,this._remoteUserConfiguration=ge,this._workspaceConfiguration=Ie,this._folderConfigurations=Fe,this._memoryConfiguration=ct,this._memoryConfigurationByResource=Lt,this.logService=Ut,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new xs.Y9,this._userConfiguration=null}getValue(s,v,F){return this.getConsolidatedConfigurationModel(s,v,F).getValue(s)}updateValue(s,v,F={}){let ae;F.resource?(ae=this._memoryConfigurationByResource.get(F.resource),ae||(ae=as.createEmptyModel(this.logService),this._memoryConfigurationByResource.set(F.resource,ae))):ae=this._memoryConfiguration,v===void 0?ae.removeValue(s):ae.setValue(s,v),F.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(s,v,F){const ae=this.getConsolidatedConfigurationModel(s,v,F),ge=this.getFolderConfigurationModelForResource(v.resource,F),Ie=v.resource?this._memoryConfigurationByResource.get(v.resource)||this._memoryConfiguration:this._memoryConfiguration,Fe=new Set;for(const ct of ae.overrides)for(const Lt of ct.identifiers)ae.getOverrideValue(s,Lt)!==void 0&&Fe.add(Lt);return new Go(s,v,ae.getValue(s),Fe.size?[...Fe]:void 0,this._defaultConfiguration,this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,F?this._workspaceConfiguration:void 0,ge||void 0,Ie)}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration)),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(s,v,F){let ae=this.getConsolidatedConfigurationModelForResource(v,F);return v.overrideIdentifier&&(ae=ae.override(v.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&this._policyConfiguration.getValue(s)!==void 0&&(ae=ae.merge(this._policyConfiguration)),ae}getConsolidatedConfigurationModelForResource({resource:s},v){let F=this.getWorkspaceConsolidatedConfiguration();if(v&&s){const ae=v.getFolder(s);ae&&(F=this.getFolderConsolidatedConfiguration(ae.uri)||F);const ge=this._memoryConfigurationByResource.get(s);ge&&(F=F.merge(ge))}return F}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration)),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(s){let v=this._foldersConsolidatedConfigurations.get(s);if(!v){const F=this.getWorkspaceConsolidatedConfiguration(),ae=this._folderConfigurations.get(s);ae?(v=F.merge(ae),this._foldersConsolidatedConfigurations.set(s,v)):v=F}return v}getFolderConfigurationModelForResource(s,v){if(v&&s){const F=v.getFolder(s);if(F)return this._folderConfigurations.get(F.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((s,v)=>{const{contents:F,overrides:ae,keys:ge}=this._folderConfigurations.get(v);return s.push([v,{contents:F,overrides:ae,keys:ge}]),s},[])}}static parse(s,v){const F=this.parseConfigurationModel(s.defaults,v),ae=this.parseConfigurationModel(s.policy,v),ge=this.parseConfigurationModel(s.application,v),Ie=this.parseConfigurationModel(s.user,v),Fe=this.parseConfigurationModel(s.workspace,v),ct=s.folders.reduce((Lt,Ut)=>(Lt.set(ot.o.revive(Ut[0]),this.parseConfigurationModel(Ut[1],v)),Lt),new xs.Y9);return new co(F,ae,ge,Ie,as.createEmptyModel(v),Fe,ct,as.createEmptyModel(v),new xs.Y9,v)}static parseConfigurationModel(s,v){return new as(s.contents,s.keys,s.overrides,void 0,v)}}class ls{constructor(s,v,F,ae,ge){this.change=s,this.previous=v,this.currentConfiguraiton=F,this.currentWorkspace=ae,this.logService=ge,this._marker=`
`,this._markerCode1=this._marker.charCodeAt(0),this._markerCode2=46,this.affectedKeys=new Set,this._previousConfiguration=void 0;for(const Ie of s.keys)this.affectedKeys.add(Ie);for(const[,Ie]of s.overrides)for(const Fe of Ie)this.affectedKeys.add(Fe);this._affectsConfigStr=this._marker;for(const Ie of this.affectedKeys)this._affectsConfigStr+=Ie+this._marker}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=co.parse(this.previous.data,this.logService)),this._previousConfiguration}affectsConfiguration(s,v){var F;const ae=this._marker+s,ge=this._affectsConfigStr.indexOf(ae);if(ge<0)return!1;const Ie=ge+ae.length;if(Ie>=this._affectsConfigStr.length)return!1;const Fe=this._affectsConfigStr.charCodeAt(Ie);if(Fe!==this._markerCode1&&Fe!==this._markerCode2)return!1;if(v){const ct=this.previousConfiguration?this.previousConfiguration.getValue(s,v,(F=this.previous)===null||F===void 0?void 0:F.workspace):void 0,Lt=this.currentConfiguraiton.getValue(s,v,this.currentWorkspace);return!ti.fS(ct,Lt)}return!0}}var so=e(5764);const uo={kind:0},Zo={kind:1};function vr(Pe,s,v){return{kind:2,commandId:Pe,commandArgs:s,isBubble:v}}class Fs{constructor(s,v,F){var ae;this._log=F,this._defaultKeybindings=s,this._defaultBoundCommands=new Map;for(const ge of s){const Ie=ge.command;Ie&&Ie.charAt(0)!=="-"&&this._defaultBoundCommands.set(Ie,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=Fs.handleRemovals([].concat(s).concat(v));for(let ge=0,Ie=this._keybindings.length;ge<Ie;ge++){const Fe=this._keybindings[ge];if(Fe.chords.length===0)continue;const ct=(ae=Fe.when)===null||ae===void 0?void 0:ae.substituteConstants();ct&&ct.type===0||this._addKeyPress(Fe.chords[0],Fe)}}static _isTargetedForRemoval(s,v,F){if(v){for(let ae=0;ae<v.length;ae++)if(v[ae]!==s.chords[ae])return!1}return!(F&&F.type!==1&&(!s.when||!(0,Wi.Fb)(F,s.when)))}static handleRemovals(s){const v=new Map;for(let ae=0,ge=s.length;ae<ge;ae++){const Ie=s[ae];if(Ie.command&&Ie.command.charAt(0)==="-"){const Fe=Ie.command.substring(1);v.has(Fe)?v.get(Fe).push(Ie):v.set(Fe,[Ie])}}if(v.size===0)return s;const F=[];for(let ae=0,ge=s.length;ae<ge;ae++){const Ie=s[ae];if(!Ie.command||Ie.command.length===0){F.push(Ie);continue}if(Ie.command.charAt(0)==="-")continue;const Fe=v.get(Ie.command);if(!Fe||!Ie.isDefault){F.push(Ie);continue}let ct=!1;for(const Lt of Fe){const Ut=Lt.when;if(this._isTargetedForRemoval(Ie,Lt.chords,Ut)){ct=!0;break}}if(!ct){F.push(Ie);continue}}return F}_addKeyPress(s,v){const F=this._map.get(s);if(typeof F=="undefined"){this._map.set(s,[v]),this._addToLookupMap(v);return}for(let ae=F.length-1;ae>=0;ae--){const ge=F[ae];if(ge.command===v.command)continue;let Ie=!0;for(let Fe=1;Fe<ge.chords.length&&Fe<v.chords.length;Fe++)if(ge.chords[Fe]!==v.chords[Fe]){Ie=!1;break}Ie&&Fs.whenIsEntirelyIncluded(ge.when,v.when)&&this._removeFromLookupMap(ge)}F.push(v),this._addToLookupMap(v)}_addToLookupMap(s){if(!s.command)return;let v=this._lookupMap.get(s.command);typeof v=="undefined"?(v=[s],this._lookupMap.set(s.command,v)):v.push(s)}_removeFromLookupMap(s){if(!s.command)return;const v=this._lookupMap.get(s.command);if(typeof v!="undefined"){for(let F=0,ae=v.length;F<ae;F++)if(v[F]===s){v.splice(F,1);return}}}static whenIsEntirelyIncluded(s,v){return!v||v.type===1?!0:!s||s.type===1?!1:(0,Wi.K8)(s,v)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(s,v){const F=this._lookupMap.get(s);if(typeof F=="undefined"||F.length===0)return null;if(F.length===1)return F[0];for(let ae=F.length-1;ae>=0;ae--){const ge=F[ae];if(v.contextMatchesRules(ge.when))return ge}return F[F.length-1]}resolve(s,v,F){const ae=[...v,F];this._log(`| Resolving ${ae}`);const ge=this._map.get(ae[0]);if(ge===void 0)return this._log("\\ No keybinding entries."),uo;let Ie=null;if(ae.length<2)Ie=ge;else{Ie=[];for(let ct=0,Lt=ge.length;ct<Lt;ct++){const Ut=ge[ct];if(ae.length>Ut.chords.length)continue;let li=!0;for(let wi=1;wi<ae.length;wi++)if(Ut.chords[wi]!==ae[wi]){li=!1;break}li&&Ie.push(Ut)}}const Fe=this._findCommand(s,Ie);return Fe?ae.length<Fe.chords.length?(this._log(`\\ From ${Ie.length} keybinding entries, awaiting ${Fe.chords.length-ae.length} more chord(s), when: ${Qo(Fe.when)}, source: ${Yo(Fe)}.`),Zo):(this._log(`\\ From ${Ie.length} keybinding entries, matched ${Fe.command}, when: ${Qo(Fe.when)}, source: ${Yo(Fe)}.`),vr(Fe.command,Fe.commandArgs,Fe.bubble)):(this._log(`\\ From ${Ie.length} keybinding entries, no when clauses matched the context.`),uo)}_findCommand(s,v){for(let F=v.length-1;F>=0;F--){const ae=v[F];if(Fs._contextMatchesRules(s,ae.when))return ae}return null}static _contextMatchesRules(s,v){return v?v.evaluate(s):!0}}function Qo(Pe){return Pe?`${Pe.serialize()}`:"no when condition"}function Yo(Pe){return Pe.extensionId?Pe.isBuiltinExtension?`built-in extension ${Pe.extensionId}`:`user extension ${Pe.extensionId}`:Pe.isDefault?"built-in":"user"}const Cr=/^(cursor|delete|undo|redo|tab|editor\.action\.clipboard)/;class br extends pe.JT{get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:At.ju.None}get inChordMode(){return this._currentChords.length>0}constructor(s,v,F,ae,ge){super(),this._contextKeyService=s,this._commandService=v,this._telemetryService=F,this._notificationService=ae,this._logService=ge,this._onDidUpdateKeybindings=this._register(new At.Q5),this._currentChords=[],this._currentChordChecker=new Ms.zh,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=Ts.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new Ms._F,this._currentlyDispatchingCommandId=null,this._logging=!1}dispose(){super.dispose()}_log(s){this._logging&&this._logService.info(`[KeybindingService]: ${s}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(s,v){const F=this._getResolver().lookupPrimaryKeybinding(s,v||this._contextKeyService);if(F)return F.resolvedKeybinding}dispatchEvent(s,v){return this._dispatch(s,v)}softDispatch(s,v){this._log("/ Soft dispatching keyboard event");const F=this.resolveKeyboardEvent(s);if(F.hasMultipleChords())return console.warn("keyboard event should not be mapped to multiple chords"),uo;const[ae]=F.getDispatchChords();if(ae===null)return this._log("\\ Keyboard event cannot be dispatched"),uo;const ge=this._contextKeyService.getContext(v),Ie=this._currentChords.map(({keypress:Fe})=>Fe);return this._getResolver().resolve(ge,Ie,ae)}_scheduleLeaveChordMode(){const s=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-s>5e3&&this._leaveChordMode()},500)}_expectAnotherChord(s,v){switch(this._currentChords.push({keypress:s,label:v}),this._currentChords.length){case 0:throw(0,dn.L6)("impossible");case 1:this._currentChordStatusMessage=this._notificationService.status(Hi.NC("first.chord","({0}) was pressed. Waiting for second key of chord...",v));break;default:{const F=this._currentChords.map(({label:ae})=>ae).join(", ");this._currentChordStatusMessage=this._notificationService.status(Hi.NC("next.chord","({0}) was pressed. Waiting for next key of chord...",F))}}this._scheduleLeaveChordMode(),so.F.enabled&&so.F.disable()}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChords=[],so.F.enable()}_dispatch(s,v){return this._doDispatch(this.resolveKeyboardEvent(s),v,!1)}_singleModifierDispatch(s,v){const F=this.resolveKeyboardEvent(s),[ae]=F.getSingleModifierDispatchChords();if(ae)return this._ignoreSingleModifiers.has(ae)?(this._log(`+ Ignoring single modifier ${ae} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=Ts.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=Ts.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${ae}.`),this._currentSingleModifier=ae,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):ae===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${ae} ${ae}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(F,v,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${ae}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[ge]=F.getChords();return this._ignoreSingleModifiers=new Ts(ge),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(s,v,F=!1){var ae;let ge=!1;if(s.hasMultipleChords())return console.warn("Unexpected keyboard event mapped to multiple chords"),!1;let Ie=null,Fe=null;if(F){const[li]=s.getSingleModifierDispatchChords();Ie=li,Fe=li?[li]:[]}else[Ie]=s.getDispatchChords(),Fe=this._currentChords.map(({keypress:li})=>li);if(Ie===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),ge;const ct=this._contextKeyService.getContext(v),Lt=s.getLabel(),Ut=this._getResolver().resolve(ct,Fe,Ie);switch(Ut.kind){case 0:{if(this._logService.trace("KeybindingService#dispatch",Lt,"[ No matching keybinding ]"),this.inChordMode){const li=this._currentChords.map(({label:wi})=>wi).join(", ");this._log(`+ Leaving multi-chord mode: Nothing bound to "${li}, ${Lt}".`),this._notificationService.status(Hi.NC("missing.chord","The key combination ({0}, {1}) is not a command.",li,Lt),{hideAfter:10*1e3}),this._leaveChordMode(),ge=!0}return ge}case 1:return this._logService.trace("KeybindingService#dispatch",Lt,"[ Several keybindings match - more chords needed ]"),ge=!0,this._expectAnotherChord(Ie,Lt),this._log(this._currentChords.length===1?"+ Entering multi-chord mode...":"+ Continuing multi-chord mode..."),ge;case 2:{if(this._logService.trace("KeybindingService#dispatch",Lt,`[ Will dispatch command ${Ut.commandId} ]`),Ut.commandId===null||Ut.commandId===""){if(this.inChordMode){const li=this._currentChords.map(({label:wi})=>wi).join(", ");this._log(`+ Leaving chord mode: Nothing bound to "${li}, ${Lt}".`),this._notificationService.status(Hi.NC("missing.chord","The key combination ({0}, {1}) is not a command.",li,Lt),{hideAfter:10*1e3}),this._leaveChordMode(),ge=!0}}else{this.inChordMode&&this._leaveChordMode(),Ut.isBubble||(ge=!0),this._log(`+ Invoking command ${Ut.commandId}.`),this._currentlyDispatchingCommandId=Ut.commandId;try{typeof Ut.commandArgs=="undefined"?this._commandService.executeCommand(Ut.commandId).then(void 0,li=>this._notificationService.warn(li)):this._commandService.executeCommand(Ut.commandId,Ut.commandArgs).then(void 0,li=>this._notificationService.warn(li))}finally{this._currentlyDispatchingCommandId=null}Cr.test(Ut.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:Ut.commandId,from:"keybinding",detail:(ae=s.getUserSettingsLabel())!==null&&ae!==void 0?ae:void 0})}return ge}}}mightProducePrintableCharacter(s){return s.ctrlKey||s.metaKey?!1:s.keyCode>=31&&s.keyCode<=56||s.keyCode>=21&&s.keyCode<=30}}class Ts{constructor(s){this._ctrlKey=s?s.ctrlKey:!1,this._shiftKey=s?s.shiftKey:!1,this._altKey=s?s.altKey:!1,this._metaKey=s?s.metaKey:!1}has(s){switch(s){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}Ts.EMPTY=new Ts(null);var So=e(803);class Jo{constructor(s,v,F,ae,ge,Ie,Fe){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=s,this.chords=s?Wo(s.getDispatchChords()):[],s&&this.chords.length===0&&(this.chords=Wo(s.getSingleModifierDispatchChords())),this.bubble=v?v.charCodeAt(0)===94:!1,this.command=this.bubble?v.substr(1):v,this.commandArgs=F,this.when=ae,this.isDefault=ge,this.extensionId=Ie,this.isBuiltinExtension=Fe}}function Wo(Pe){const s=[];for(let v=0,F=Pe.length;v<F;v++){const ae=Pe[v];if(!ae)return[];s.push(ae)}return s}var Zs=e(173),yo=e(16287);class Xo extends no.f1{constructor(s,v){if(super(),v.length===0)throw(0,dn.b1)("chords");this._os=s,this._chords=v}getLabel(){return yo.xo.toLabel(this._os,this._chords,s=>this._getLabel(s))}getAriaLabel(){return yo.X4.toLabel(this._os,this._chords,s=>this._getAriaLabel(s))}getElectronAccelerator(){return this._chords.length>1||this._chords[0].isDuplicateModifierCase()?null:yo.jC.toLabel(this._os,this._chords,s=>this._getElectronAccelerator(s))}getUserSettingsLabel(){return yo.r6.toLabel(this._os,this._chords,s=>this._getUserSettingsLabel(s))}hasMultipleChords(){return this._chords.length>1}getChords(){return this._chords.map(s=>this._getChord(s))}_getChord(s){return new no.aZ(s.ctrlKey,s.shiftKey,s.altKey,s.metaKey,this._getLabel(s),this._getAriaLabel(s))}getDispatchChords(){return this._chords.map(s=>this._getChordDispatch(s))}getSingleModifierDispatchChords(){return this._chords.map(s=>this._getSingleModifierChordDispatch(s))}}class In extends Xo{constructor(s,v){super(v,s)}_keyCodeToUILabel(s){if(this._os===2)switch(s){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return Zs.kL.toString(s)}_getLabel(s){return s.isDuplicateModifierCase()?"":this._keyCodeToUILabel(s.keyCode)}_getAriaLabel(s){return s.isDuplicateModifierCase()?"":Zs.kL.toString(s.keyCode)}_getElectronAccelerator(s){return Zs.kL.toElectronAccelerator(s.keyCode)}_getUserSettingsLabel(s){if(s.isDuplicateModifierCase())return"";const v=Zs.kL.toUserSettingsUS(s.keyCode);return v&&v.toLowerCase()}_getChordDispatch(s){return In.getDispatchStr(s)}static getDispatchStr(s){if(s.isModifierKey())return null;let v="";return s.ctrlKey&&(v+="ctrl+"),s.shiftKey&&(v+="shift+"),s.altKey&&(v+="alt+"),s.metaKey&&(v+="meta+"),v+=Zs.kL.toString(s.keyCode),v}_getSingleModifierChordDispatch(s){return s.keyCode===5&&!s.shiftKey&&!s.altKey&&!s.metaKey?"ctrl":s.keyCode===4&&!s.ctrlKey&&!s.altKey&&!s.metaKey?"shift":s.keyCode===6&&!s.ctrlKey&&!s.shiftKey&&!s.metaKey?"alt":s.keyCode===57&&!s.ctrlKey&&!s.shiftKey&&!s.altKey?"meta":null}static _scanCodeToKeyCode(s){const v=Zs.Vd[s];if(v!==-1)return v;switch(s){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 88;case 52:return 86;case 53:return 92;case 54:return 94;case 55:return 93;case 56:return 0;case 57:return 85;case 58:return 95;case 59:return 91;case 60:return 87;case 61:return 89;case 62:return 90;case 106:return 97}return 0}static _toKeyCodeChord(s){if(!s)return null;if(s instanceof no.$M)return s;const v=this._scanCodeToKeyCode(s.scanCode);return v===0?null:new no.$M(s.ctrlKey,s.shiftKey,s.altKey,s.metaKey,v)}static resolveKeybinding(s,v){const F=Wo(s.chords.map(ae=>this._toKeyCodeChord(ae)));return F.length>0?[new In(F,v)]:[]}}var Bn=e(26039),ds=e(80731),cs=e(79553),Ls=e(48983),Os=e(85096),Ds=e(2644),As=e(81773),ya=e(17868),ho=e(56742),qo=e(99620);let oo=[],Sr=[],jr=[];function fo(Pe,s=!1){wa(Pe,!1,s)}function wa(Pe,s,v){const F=La(Pe,s);oo.push(F),F.userConfigured?jr.push(F):Sr.push(F),v&&!F.userConfigured&&oo.forEach(ae=>{ae.mime===F.mime||ae.userConfigured||(F.extension&&ae.extension===F.extension&&console.warn(`Overwriting extension <<${F.extension}>> to now point to mime <<${F.mime}>>`),F.filename&&ae.filename===F.filename&&console.warn(`Overwriting filename <<${F.filename}>> to now point to mime <<${F.mime}>>`),F.filepattern&&ae.filepattern===F.filepattern&&console.warn(`Overwriting filepattern <<${F.filepattern}>> to now point to mime <<${F.mime}>>`),F.firstline&&ae.firstline===F.firstline&&console.warn(`Overwriting firstline <<${F.firstline}>> to now point to mime <<${F.mime}>>`))})}function La(Pe,s){return{id:Pe.id,mime:Pe.mime,filename:Pe.filename,extension:Pe.extension,filepattern:Pe.filepattern,firstline:Pe.firstline,userConfigured:s,filenameLowercase:Pe.filename?Pe.filename.toLowerCase():void 0,extensionLowercase:Pe.extension?Pe.extension.toLowerCase():void 0,filepatternLowercase:Pe.filepattern?(0,ya.Qc)(Pe.filepattern.toLowerCase()):void 0,filepatternOnPath:Pe.filepattern?Pe.filepattern.indexOf(qo.KR.sep)>=0:!1}}function Da(){oo=oo.filter(Pe=>Pe.userConfigured),Sr=[]}function Ea(Pe,s){return xa(Pe,s).map(v=>v.id)}function xa(Pe,s){let v;if(Pe)switch(Pe.scheme){case Tt.lg.file:v=Pe.fsPath;break;case Tt.lg.data:{v=Ds.Vb.parseMetaData(Pe).get(Ds.Vb.META_DATA_LABEL);break}case Tt.lg.vscodeNotebookCell:v=void 0;break;default:v=Pe.path}if(!v)return[{id:"unknown",mime:ho.v.unknown}];v=v.toLowerCase();const F=(0,qo.EZ)(v),ae=$r(v,F,jr);if(ae)return[ae,{id:Di.bd,mime:ho.v.text}];const ge=$r(v,F,Sr);if(ge)return[ge,{id:Di.bd,mime:ho.v.text}];if(s){const Ie=Ia(s);if(Ie)return[Ie,{id:Di.bd,mime:ho.v.text}]}return[{id:"unknown",mime:ho.v.unknown}]}function $r(Pe,s,v){var F;let ae,ge,Ie;for(let Fe=v.length-1;Fe>=0;Fe--){const ct=v[Fe];if(s===ct.filenameLowercase){ae=ct;break}if(ct.filepattern&&(!ge||ct.filepattern.length>ge.filepattern.length)){const Lt=ct.filepatternOnPath?Pe:s;!((F=ct.filepatternLowercase)===null||F===void 0)&&F.call(ct,Lt)&&(ge=ct)}ct.extension&&(!Ie||ct.extension.length>Ie.extension.length)&&s.endsWith(ct.extensionLowercase)&&(Ie=ct)}if(ae)return ae;if(ge)return ge;if(Ie)return Ie}function Ia(Pe){if((0,je.uS)(Pe)&&(Pe=Pe.substr(1)),Pe.length>0)for(let s=oo.length-1;s>=0;s--){const v=oo[s];if(!v.firstline)continue;const F=Pe.match(v.firstline);if(F&&F.length>0)return v}}const er=Object.prototype.hasOwnProperty,wo="vs.editor.nullLanguage";class Gr{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(wo,0),this._register(Di.bd,1),this._nextLanguageId=2}_register(s,v){this._languageIdToLanguage[v]=s,this._languageToLanguageId.set(s,v)}register(s){if(this._languageToLanguageId.has(s))return;const v=this._nextLanguageId++;this._register(s,v)}encodeLanguageId(s){return this._languageToLanguageId.get(s)||0}decodeLanguageId(s){return this._languageIdToLanguage[s]||wo}}class Ho extends pe.JT{constructor(s=!0,v=!1){super(),this._onDidChange=this._register(new At.Q5),this.onDidChange=this._onDidChange.event,Ho.instanceCount++,this._warnOnOverwrite=v,this.languageIdCodec=new Gr,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},s&&(this._initializeFromRegistry(),this._register(Di.dQ.onDidChangeLanguages(F=>{this._initializeFromRegistry()})))}dispose(){Ho.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Da();const s=[].concat(Di.dQ.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(s)}_registerLanguages(s){for(const v of s)this._registerLanguage(v);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(v=>{const F=this._languages[v];F.name&&(this._nameMap[F.name]=F.identifier),F.aliases.forEach(ae=>{this._lowercaseNameMap[ae.toLowerCase()]=F.identifier}),F.mimetypes.forEach(ae=>{this._mimeTypesMap[ae]=F.identifier})}),$s.B.as(Us.IP.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(s){const v=s.id;let F;er.call(this._languages,v)?F=this._languages[v]:(this.languageIdCodec.register(v),F={identifier:v,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[v]=F),this._mergeLanguage(F,s)}_mergeLanguage(s,v){const F=v.id;let ae=null;if(Array.isArray(v.mimetypes)&&v.mimetypes.length>0&&(s.mimetypes.push(...v.mimetypes),ae=v.mimetypes[0]),ae||(ae=`text/x-${F}`,s.mimetypes.push(ae)),Array.isArray(v.extensions)){v.configuration?s.extensions=v.extensions.concat(s.extensions):s.extensions=s.extensions.concat(v.extensions);for(const Fe of v.extensions)fo({id:F,mime:ae,extension:Fe},this._warnOnOverwrite)}if(Array.isArray(v.filenames))for(const Fe of v.filenames)fo({id:F,mime:ae,filename:Fe},this._warnOnOverwrite),s.filenames.push(Fe);if(Array.isArray(v.filenamePatterns))for(const Fe of v.filenamePatterns)fo({id:F,mime:ae,filepattern:Fe},this._warnOnOverwrite);if(typeof v.firstLine=="string"&&v.firstLine.length>0){let Fe=v.firstLine;Fe.charAt(0)!=="^"&&(Fe="^"+Fe);try{const ct=new RegExp(Fe);(0,je.IO)(ct)||fo({id:F,mime:ae,firstline:ct},this._warnOnOverwrite)}catch(ct){console.warn(`[${v.id}]: Invalid regular expression \`${Fe}\`: `,ct)}}s.aliases.push(F);let ge=null;if(typeof v.aliases!="undefined"&&Array.isArray(v.aliases)&&(v.aliases.length===0?ge=[null]:ge=v.aliases),ge!==null)for(const Fe of ge)!Fe||Fe.length===0||s.aliases.push(Fe);const Ie=ge!==null&&ge.length>0;if(!(Ie&&ge[0]===null)){const Fe=(Ie?ge[0]:null)||F;(Ie||!s.name)&&(s.name=Fe)}v.configuration&&s.configurationFiles.push(v.configuration),v.icon&&s.icons.push(v.icon)}isRegisteredLanguageId(s){return s?er.call(this._languages,s):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(s){const v=s.toLowerCase();return er.call(this._lowercaseNameMap,v)?this._lowercaseNameMap[v]:null}getLanguageIdByMimeType(s){return s&&er.call(this._mimeTypesMap,s)?this._mimeTypesMap[s]:null}guessLanguageIdByFilepathOrFirstLine(s,v){return!s&&!v?[]:Ea(s,v)}}Ho.instanceCount=0;class Vo extends pe.JT{constructor(s=!1){super(),this._onDidRequestBasicLanguageFeatures=this._register(new At.Q5),this.onDidRequestBasicLanguageFeatures=this._onDidRequestBasicLanguageFeatures.event,this._onDidRequestRichLanguageFeatures=this._register(new At.Q5),this.onDidRequestRichLanguageFeatures=this._onDidRequestRichLanguageFeatures.event,this._onDidChange=this._register(new At.Q5({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,this._requestedBasicLanguages=new Set,this._requestedRichLanguages=new Set,Vo.instanceCount++,this._registry=this._register(new Ho(!0,s)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){Vo.instanceCount--,super.dispose()}isRegisteredLanguageId(s){return this._registry.isRegisteredLanguageId(s)}getLanguageIdByLanguageName(s){return this._registry.getLanguageIdByLanguageName(s)}getLanguageIdByMimeType(s){return this._registry.getLanguageIdByMimeType(s)}guessLanguageIdByFilepathOrFirstLine(s,v){const F=this._registry.guessLanguageIdByFilepathOrFirstLine(s,v);return(0,di.Xh)(F,null)}createById(s){return new Lo(this.onDidChange,()=>this._createAndGetLanguageIdentifier(s))}createByFilepathOrFirstLine(s,v){return new Lo(this.onDidChange,()=>{const F=this.guessLanguageIdByFilepathOrFirstLine(s,v);return this._createAndGetLanguageIdentifier(F)})}_createAndGetLanguageIdentifier(s){return(!s||!this.isRegisteredLanguageId(s))&&(s=Di.bd),s}requestBasicLanguageFeatures(s){this._requestedBasicLanguages.has(s)||(this._requestedBasicLanguages.add(s),this._onDidRequestBasicLanguageFeatures.fire(s))}requestRichLanguageFeatures(s){this._requestedRichLanguages.has(s)||(this._requestedRichLanguages.add(s),this.requestBasicLanguageFeatures(s),He.RW.getOrCreate(s),this._onDidRequestRichLanguageFeatures.fire(s))}}Vo.instanceCount=0;class Lo{constructor(s,v){this._onDidChangeLanguages=s,this._selector=v,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new At.Q5({onDidRemoveLastListener:()=>{this._dispose()}})),this._emitter.event}_evaluate(){var s;const v=this._selector();v!==this.languageId&&(this.languageId=v,(s=this._emitter)===null||s===void 0||s.fire(this.languageId))}}var ro=e(43263),Zr=e(88595),eo=e(69713),Qr=e(65512),yr=e(18119),Qs=e(8098),tr=e(318),Do=e(75405),Yr=e(16846),go=e(24752),Na=e(43313),wr=e(68777),Ws=e(15641);const Lr=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,Eo=/(&amp;)?(&amp;)([^\s&])/g;var mo;(function(Pe){Pe[Pe.Right=0]="Right",Pe[Pe.Left=1]="Left"})(mo||(mo={}));var zo;(function(Pe){Pe[Pe.Above=0]="Above",Pe[Pe.Below=1]="Below"})(zo||(zo={}));class po extends tr.o{constructor(s,v,F,ae){s.classList.add("monaco-menu-container"),s.setAttribute("role","presentation");const ge=document.createElement("div");ge.classList.add("monaco-menu"),ge.setAttribute("role","presentation"),super(ge,{orientation:1,actionViewItemProvider:Lt=>this.doGetActionViewItem(Lt,F,Ie),context:F.context,actionRunner:F.actionRunner,ariaLabel:F.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...hn.dz||hn.IJ?[10]:[]],keyDown:!0}}),this.menuStyles=ae,this.menuElement=ge,this.actionsList.tabIndex=0,this.initializeOrUpdateStyleSheet(s,ae),this._register(Qs.o.addTarget(ge)),this._register((0,Ve.nm)(ge,Ve.tw.KEY_DOWN,Lt=>{new ns.y(Lt).equals(2)&&Lt.preventDefault()})),F.enableMnemonics&&this._register((0,Ve.nm)(ge,Ve.tw.KEY_DOWN,Lt=>{const Ut=Lt.key.toLocaleLowerCase();if(this.mnemonics.has(Ut)){Ve.zB.stop(Lt,!0);const li=this.mnemonics.get(Ut);if(li.length===1&&(li[0]instanceof Xr&&li[0].container&&this.focusItemByElement(li[0].container),li[0].onClick(Lt)),li.length>1){const wi=li.shift();wi&&wi.container&&(this.focusItemByElement(wi.container),li.push(wi)),this.mnemonics.set(Ut,li)}}})),hn.IJ&&this._register((0,Ve.nm)(ge,Ve.tw.KEY_DOWN,Lt=>{const Ut=new ns.y(Lt);Ut.equals(14)||Ut.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),Ve.zB.stop(Lt,!0)):(Ut.equals(13)||Ut.equals(12))&&(this.focusedItem=0,this.focusPrevious(),Ve.zB.stop(Lt,!0))})),this._register((0,Ve.nm)(this.domNode,Ve.tw.MOUSE_OUT,Lt=>{const Ut=Lt.relatedTarget;(0,Ve.jg)(Ut,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),Lt.stopPropagation())})),this._register((0,Ve.nm)(this.actionsList,Ve.tw.MOUSE_OVER,Lt=>{let Ut=Lt.target;if(!(!Ut||!(0,Ve.jg)(Ut,this.actionsList)||Ut===this.actionsList)){for(;Ut.parentElement!==this.actionsList&&Ut.parentElement!==null;)Ut=Ut.parentElement;if(Ut.classList.contains("action-item")){const li=this.focusedItem;this.setFocusedItem(Ut),li!==this.focusedItem&&this.updateFocus()}}})),this._register(Qs.o.addTarget(this.actionsList)),this._register((0,Ve.nm)(this.actionsList,Qs.t.Tap,Lt=>{let Ut=Lt.initialTarget;if(!(!Ut||!(0,Ve.jg)(Ut,this.actionsList)||Ut===this.actionsList)){for(;Ut.parentElement!==this.actionsList&&Ut.parentElement!==null;)Ut=Ut.parentElement;if(Ut.classList.contains("action-item")){const li=this.focusedItem;this.setFocusedItem(Ut),li!==this.focusedItem&&this.updateFocus()}}}));const Ie={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new Yr.s$(ge,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const Fe=this.scrollableElement.getDomNode();Fe.style.position="",this.styleScrollElement(Fe,ae),this._register((0,Ve.nm)(ge,Qs.t.Change,Lt=>{Ve.zB.stop(Lt,!0);const Ut=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:Ut-Lt.translationY})})),this._register((0,Ve.nm)(Fe,Ve.tw.MOUSE_UP,Lt=>{Lt.preventDefault()}));const ct=(0,Ve.Jj)(s);ge.style.maxHeight=`${Math.max(10,ct.innerHeight-s.getBoundingClientRect().top-35)}px`,v=v.filter((Lt,Ut)=>{var li;return!((li=F.submenuIds)===null||li===void 0)&&li.has(Lt.id)?(console.warn(`Found submenu cycle: ${Lt.id}`),!1):!(Lt instanceof ro.Z0&&(Ut===v.length-1||Ut===0||v[Ut-1]instanceof ro.Z0))}),this.push(v,{icon:!0,label:!0,isMenu:!0}),s.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(Lt=>!(Lt instanceof qr)).forEach((Lt,Ut,li)=>{Lt.updatePositionInSet(Ut+1,li.length)})}initializeOrUpdateStyleSheet(s,v){this.styleSheet||((0,Ve.OO)(s)?this.styleSheet=(0,Ve.dS)(s):(po.globalStyleSheet||(po.globalStyleSheet=(0,Ve.dS)()),this.styleSheet=po.globalStyleSheet)),this.styleSheet.textContent=ea(v,(0,Ve.OO)(s))}styleScrollElement(s,v){var F,ae;const ge=(F=v.foregroundColor)!==null&&F!==void 0?F:"",Ie=(ae=v.backgroundColor)!==null&&ae!==void 0?ae:"",Fe=v.borderColor?`1px solid ${v.borderColor}`:"",ct="5px",Lt=v.shadowColor?`0 2px 8px ${v.shadowColor}`:"";s.style.outline=Fe,s.style.borderRadius=ct,s.style.color=ge,s.style.backgroundColor=Ie,s.style.boxShadow=Lt}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(s){const v=this.focusedItem;this.setFocusedItem(s),v!==this.focusedItem&&this.updateFocus()}setFocusedItem(s){for(let v=0;v<this.actionsList.children.length;v++){const F=this.actionsList.children[v];if(s===F){this.focusedItem=v;break}}}updateFocus(s){super.updateFocus(s,!0,!0),typeof this.focusedItem!="undefined"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(s,v,F){if(s instanceof ro.Z0)return new qr(v.context,s,{icon:!0},this.menuStyles);if(s instanceof ro.wY){const ae=new Xr(s,s.actions,F,Ki(vi({},v),{submenuIds:new Set([...v.submenuIds||[],s.id])}),this.menuStyles);if(v.enableMnemonics){const ge=ae.getMnemonic();if(ge&&ae.isEnabled()){let Ie=[];this.mnemonics.has(ge)&&(Ie=this.mnemonics.get(ge)),Ie.push(ae),this.mnemonics.set(ge,Ie)}}return ae}else{const ae={enableMnemonics:v.enableMnemonics,useEventAsContext:v.useEventAsContext};if(v.getKeyBinding){const Ie=v.getKeyBinding(s);if(Ie){const Fe=Ie.getLabel();Fe&&(ae.keybinding=Fe)}}const ge=new Jr(v.context,s,ae,this.menuStyles);if(v.enableMnemonics){const Ie=ge.getMnemonic();if(Ie&&ge.isEnabled()){let Fe=[];this.mnemonics.has(Ie)&&(Fe=this.mnemonics.get(Ie)),Fe.push(ge),this.mnemonics.set(Ie,Fe)}}return ge}}}class Jr extends Do.YH{constructor(s,v,F,ae){if(F.isMenu=!0,super(v,v,F),this.menuStyle=ae,this.options=F,this.options.icon=F.icon!==void 0?F.icon:!1,this.options.label=F.label!==void 0?F.label:!0,this.cssClass="",this.options.label&&F.enableMnemonics){const ge=this.action.label;if(ge){const Ie=Lr.exec(ge);Ie&&(this.mnemonic=(Ie[1]?Ie[1]:Ie[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new Ms.pY(()=>{this.element&&(this._register((0,Ve.nm)(this.element,Ve.tw.MOUSE_UP,ge=>{if(Ve.zB.stop(ge,!0),yr.vU){if(new Qr.n((0,Ve.Jj)(this.element),ge).rightButton)return;this.onClick(ge)}else setTimeout(()=>{this.onClick(ge)},0)})),this._register((0,Ve.nm)(this.element,Ve.tw.CONTEXT_MENU,ge=>{Ve.zB.stop(ge,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(s){super.render(s),this.element&&(this.container=s,this.item=(0,Ve.R3)(this.element,(0,Ve.$)("a.action-menu-item")),this._action.id===ro.Z0.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,Ve.R3)(this.item,(0,Ve.$)("span.menu-item-check"+wr.k.asCSSSelector(go.l.menuSelection))),this.check.setAttribute("role","none"),this.label=(0,Ve.R3)(this.item,(0,Ve.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,Ve.R3)(this.item,(0,Ve.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked(),this.applyStyle())}blur(){super.blur(),this.applyStyle()}focus(){var s;super.focus(),(s=this.item)===null||s===void 0||s.focus(),this.applyStyle()}updatePositionInSet(s,v){this.item&&(this.item.setAttribute("aria-posinset",`${s}`),this.item.setAttribute("aria-setsize",`${v}`))}updateLabel(){var s;if(this.label&&this.options.label){(0,Ve.PO)(this.label);let v=(0,Ws.x$)(this.action.label);if(v){const F=Ma(v);this.options.enableMnemonics||(v=F),this.label.setAttribute("aria-label",F.replace(/&&/g,"&"));const ae=Lr.exec(v);if(ae){v=je.YU(v),Eo.lastIndex=0;let ge=Eo.exec(v);for(;ge&&ge[1];)ge=Eo.exec(v);const Ie=Fe=>Fe.replace(/&amp;&amp;/g,"&amp;");ge?this.label.append(je.j3(Ie(v.substr(0,ge.index))," "),(0,Ve.$)("u",{"aria-hidden":"true"},ge[3]),je.oL(Ie(v.substr(ge.index+ge[0].length))," ")):this.label.innerText=Ie(v).trim(),(s=this.item)===null||s===void 0||s.setAttribute("aria-keyshortcuts",(ae[1]?ae[1]:ae[3]).toLocaleLowerCase())}else this.label.innerText=v.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.action.class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.action.enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const s=this.action.checked;this.item.classList.toggle("checked",!!s),s!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",s?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){const s=this.element&&this.element.classList.contains("focused"),v=s&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,F=s&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,ae=s&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",ge=s&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=v!=null?v:"",this.item.style.backgroundColor=F!=null?F:"",this.item.style.outline=ae,this.item.style.outlineOffset=ge),this.check&&(this.check.style.color=v!=null?v:"")}}class Xr extends Jr{constructor(s,v,F,ae,ge){super(s,s,ae,ge),this.submenuActions=v,this.parentData=F,this.submenuOptions=ae,this.mysubmenu=null,this.submenuDisposables=this._register(new pe.SL),this.mouseOver=!1,this.expandDirection=ae&&ae.expandDirection!==void 0?ae.expandDirection:{horizontal:mo.Right,vertical:zo.Below},this.showScheduler=new Ms.pY(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new Ms.pY(()=>{this.element&&!(0,Ve.jg)((0,Ve.vY)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(s){super.render(s),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,Ve.R3)(this.item,(0,Ve.$)("span.submenu-indicator"+wr.k.asCSSSelector(go.l.menuSubmenu))),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,Ve.nm)(this.element,Ve.tw.KEY_UP,v=>{const F=new ns.y(v);(F.equals(17)||F.equals(3))&&(Ve.zB.stop(v,!0),this.createSubmenu(!0))})),this._register((0,Ve.nm)(this.element,Ve.tw.KEY_DOWN,v=>{const F=new ns.y(v);(0,Ve.vY)()===this.item&&(F.equals(17)||F.equals(3))&&Ve.zB.stop(v,!0)})),this._register((0,Ve.nm)(this.element,Ve.tw.MOUSE_OVER,v=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,Ve.nm)(this.element,Ve.tw.MOUSE_LEAVE,v=>{this.mouseOver=!1})),this._register((0,Ve.nm)(this.element,Ve.tw.FOCUS_OUT,v=>{this.element&&!(0,Ve.jg)((0,Ve.vY)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(s){Ve.zB.stop(s,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(s){if(this.parentData.submenu&&(s||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(v){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(s,v,F,ae){const ge={top:0,left:0};return ge.left=Ns(s.width,v.width,{position:ae.horizontal===mo.Right?0:1,offset:F.left,size:F.width}),ge.left>=F.left&&ge.left<F.left+F.width&&(F.left+10+v.width<=s.width&&(ge.left=F.left+10),F.top+=10,F.height=0),ge.top=Ns(s.height,v.height,{position:0,offset:F.top,size:0}),ge.top+v.height===F.top&&ge.top+F.height+v.height<=s.height&&(ge.top+=F.height),ge}createSubmenu(s=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,Ve.R3)(this.element,(0,Ve.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const v=(0,Ve.Jj)(this.parentData.parent.domNode).getComputedStyle(this.parentData.parent.domNode),F=parseFloat(v.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new po(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new ro.eZ],this.submenuOptions,this.menuStyle);const ae=this.element.getBoundingClientRect(),ge={top:ae.top-F,left:ae.left,height:ae.height+2*F,width:ae.width},Ie=this.submenuContainer.getBoundingClientRect(),Fe=(0,Ve.Jj)(this.element),{top:ct,left:Lt}=this.calculateSubmenuMenuLayout(new Ve.Ro(Fe.innerWidth,Fe.innerHeight),Ve.Ro.lift(Ie),ge,this.expandDirection);this.submenuContainer.style.left=`${Lt-Ie.left}px`,this.submenuContainer.style.top=`${ct-Ie.top}px`,this.submenuDisposables.add((0,Ve.nm)(this.submenuContainer,Ve.tw.KEY_UP,Ut=>{new ns.y(Ut).equals(15)&&(Ve.zB.stop(Ut,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,Ve.nm)(this.submenuContainer,Ve.tw.KEY_DOWN,Ut=>{new ns.y(Ut).equals(15)&&Ve.zB.stop(Ut,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(s),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(s){var v;this.item&&((v=this.item)===null||v===void 0||v.setAttribute("aria-expanded",s))}applyStyle(){super.applyStyle();const v=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=v!=null?v:"")}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class qr extends Do.gU{constructor(s,v,F,ae){super(s,v,F),this.menuStyles=ae}render(s){super.render(s),this.label&&(this.label.style.borderBottomColor=this.menuStyles.separatorColor?`${this.menuStyles.separatorColor}`:"")}}function Ma(Pe){const s=Lr,v=s.exec(Pe);if(!v)return Pe;const F=!v[1];return Pe.replace(s,F?"$2$3":"").trim()}function Dr(Pe){const s=(0,Na.u)()[Pe.id];return`.codicon-${Pe.id}:before { content: '\\${s.toString(16)}'; }`}function ea(Pe,s){let v=`
.monaco-menu {
	font-size: 13px;
	border-radius: 5px;
	min-width: 160px;
}

${Dr(go.l.menuSelection)}
${Dr(go.l.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	color: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid var(--vscode-menu-separatorBackground);
	padding-top: 1px;
	padding: 30px;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
	margin: 0 4px;
	border-radius: 4px;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {
	opacity: unset;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	width: 100%;
	height: 0px !important;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.hc-black .context-view.monaco-menu-container,
.hc-light .context-view.monaco-menu-container,
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
	box-shadow: none;
}

.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,
.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: 4px 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
	max-height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	margin: 5px 0 !important;
	padding: 0;
	border-radius: 0;
}

.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if(s){v+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;const F=Pe.scrollbarShadow;F&&(v+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${F} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${F} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${F} 6px 6px 6px -6px inset;
				}
			`);const ae=Pe.scrollbarSliderBackground;ae&&(v+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${ae};
				}
			`);const ge=Pe.scrollbarSliderHoverBackground;ge&&(v+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${ge};
				}
			`);const Ie=Pe.scrollbarSliderActiveBackground;Ie&&(v+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${Ie};
				}
			`)}return v}var ao=e(26179);class Ta{constructor(s,v,F,ae){this.contextViewService=s,this.telemetryService=v,this.notificationService=F,this.keybindingService=ae,this.focusToReturn=null,this.lastContainer=null,this.block=null,this.blockDisposable=null,this.options={blockMouse:!0}}configure(s){this.options=s}showContextMenu(s){const v=s.getActions();if(!v.length)return;this.focusToReturn=(0,Ve.vY)();let F;const ae=s.domForShadowRoot instanceof HTMLElement?s.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>s.getAnchor(),canRelayout:!1,anchorAlignment:s.anchorAlignment,anchorAxisAlignment:s.anchorAxisAlignment,render:ge=>{var Ie;this.lastContainer=ge;const Fe=s.getMenuClassName?s.getMenuClassName():"";Fe&&(ge.className+=" "+Fe),this.options.blockMouse&&(this.block=ge.appendChild((0,Ve.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(Ie=this.blockDisposable)===null||Ie===void 0||Ie.dispose(),this.blockDisposable=(0,Ve.nm)(this.block,Ve.tw.MOUSE_DOWN,li=>li.stopPropagation()));const ct=new pe.SL,Lt=s.actionRunner||new ro.Wi;Lt.onWillRun(li=>this.onActionRun(li,!s.skipTelemetry),this,ct),Lt.onDidRun(this.onDidActionRun,this,ct),F=new po(ge,v,{actionViewItemProvider:s.getActionViewItem,context:s.getActionsContext?s.getActionsContext():null,actionRunner:Lt,getKeyBinding:s.getKeyBinding?s.getKeyBinding:li=>this.keybindingService.lookupKeybinding(li.id)},ao.ZR),F.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,ct),F.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,ct);const Ut=(0,Ve.Jj)(ge);return ct.add((0,Ve.nm)(Ut,Ve.tw.BLUR,()=>this.contextViewService.hideContextView(!0))),ct.add((0,Ve.nm)(Ut,Ve.tw.MOUSE_DOWN,li=>{if(li.defaultPrevented)return;const wi=new Qr.n(Ut,li);let Ti=wi.target;if(!wi.rightButton){for(;Ti;){if(Ti===ge)return;Ti=Ti.parentElement}this.contextViewService.hideContextView(!0)}})),(0,pe.F8)(ct,F)},focus:()=>{F==null||F.focus(!!s.autoSelectFirstItem)},onHide:ge=>{var Ie,Fe,ct;(Ie=s.onHide)===null||Ie===void 0||Ie.call(s,!!ge),this.block&&(this.block.remove(),this.block=null),(Fe=this.blockDisposable)===null||Fe===void 0||Fe.dispose(),this.blockDisposable=null,this.lastContainer&&((0,Ve.vY)()===this.lastContainer||(0,Ve.jg)((0,Ve.vY)(),this.lastContainer))&&((ct=this.focusToReturn)===null||ct===void 0||ct.focus()),this.lastContainer=null}},ae,!!ae)}onActionRun(s,v){v&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:s.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1)}onDidActionRun(s){s.error&&!(0,dn.n2)(s.error)&&this.notificationService.error(s.error)}}var Pa=function(Pe,s,v,F){var ae=arguments.length,ge=ae<3?s:F===null?F=Object.getOwnPropertyDescriptor(s,v):F,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ge=Reflect.decorate(Pe,s,v,F);else for(var Fe=Pe.length-1;Fe>=0;Fe--)(Ie=Pe[Fe])&&(ge=(ae<3?Ie(ge):ae>3?Ie(s,v,ge):Ie(s,v))||ge);return ae>3&&ge&&Object.defineProperty(s,v,ge),ge},Hs=function(Pe,s){return function(v,F){s(v,F,Pe)}};let Er=class extends pe.JT{get contextMenuHandler(){return this._contextMenuHandler||(this._contextMenuHandler=new Ta(this.contextViewService,this.telemetryService,this.notificationService,this.keybindingService)),this._contextMenuHandler}constructor(s,v,F,ae,ge,Ie){super(),this.telemetryService=s,this.notificationService=v,this.contextViewService=F,this.keybindingService=ae,this.menuService=ge,this.contextKeyService=Ie,this._contextMenuHandler=void 0,this._onDidShowContextMenu=this._store.add(new At.Q5),this.onDidShowContextMenu=this._onDidShowContextMenu.event,this._onDidHideContextMenu=this._store.add(new At.Q5)}configure(s){this.contextMenuHandler.configure(s)}showContextMenu(s){s=xr.transform(s,this.menuService,this.contextKeyService),this.contextMenuHandler.showContextMenu(Ki(vi({},s),{onHide:v=>{var F;(F=s.onHide)===null||F===void 0||F.call(s,v),this._onDidHideContextMenu.fire()}})),Ve._q.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};Er=Pa([Hs(0,cs.b),Hs(1,sn.lT),Hs(2,ri.u),Hs(3,ui.d),Hs(4,eo.co),Hs(5,Wi.i6)],Er);var xr;(function(Pe){function s(F){return F&&F.menuId instanceof eo.eH}function v(F,ae,ge){if(!s(F))return F;const{menuId:Ie,menuActionOptions:Fe,contextKeyService:ct}=F;return Ki(vi({},F),{getActions:()=>{const Lt=[];if(Ie){const Ut=ae.createMenu(Ie,ct!=null?ct:ge);(0,Zr.LJ)(Ut,Fe,Lt),Ut.dispose()}return F.getActions?ro.Z0.join(F.getActions(),Lt):Lt}})}Pe.transform=v})(xr||(xr={}));var ta=e(66492),xo;(function(Pe){Pe[Pe.API=0]="API",Pe[Pe.USER=1]="USER"})(xo||(xo={}));var Ir=function(Pe,s,v,F){var ae=arguments.length,ge=ae<3?s:F===null?F=Object.getOwnPropertyDescriptor(s,v):F,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ge=Reflect.decorate(Pe,s,v,F);else for(var Fe=Pe.length-1;Fe>=0;Fe--)(Ie=Pe[Fe])&&(ge=(ae<3?Ie(ge):ae>3?Ie(s,v,ge):Ie(s,v))||ge);return ae>3&&ge&&Object.defineProperty(s,v,ge),ge},ir=function(Pe,s){return function(v,F){s(v,F,Pe)}};let Nr=class{constructor(s){this._commandService=s}open(s,v){return Ft(this,null,function*(){if(!(0,Tt.xn)(s,Tt.lg.command))return!1;if(!(v!=null&&v.allowCommands)||(typeof s=="string"&&(s=ot.o.parse(s)),Array.isArray(v.allowCommands)&&!v.allowCommands.includes(s.path)))return!0;let F=[];try{F=(0,ta.Qc)(decodeURIComponent(s.query))}catch(ae){try{F=(0,ta.Qc)(s.query)}catch(ge){}}return Array.isArray(F)||(F=[F]),yield this._commandService.executeCommand(s.path,...F),!0})}};Nr=Ir([ir(0,bs.H)],Nr);let nr=class{constructor(s){this._editorService=s}open(s,v){return Ft(this,null,function*(){typeof s=="string"&&(s=ot.o.parse(s));const{selection:F,uri:ae}=(0,Fi.x)(s);return s=ae,s.scheme===Tt.lg.file&&(s=(0,Ds.AH)(s)),yield this._editorService.openCodeEditor({resource:s,options:vi({selection:F,source:v!=null&&v.fromUserGesture?xo.USER:xo.API},v==null?void 0:v.editorOptions)},this._editorService.getFocusedCodeEditor(),v==null?void 0:v.openToSide),!0})}};nr=Ir([ir(0,oi.$)],nr);let sr=class{constructor(s,v){this._openers=new Qt.S,this._validators=new Qt.S,this._resolvers=new Qt.S,this._resolvedUriTargets=new xs.Y9(F=>F.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new Qt.S,this._defaultExternalOpener={openExternal:F=>Ft(this,null,function*(){return(0,Tt.Gs)(F,Tt.lg.http,Tt.lg.https)?Ve.V3(F):Ae.E.location.href=F,!0})},this._openers.push({open:(F,ae)=>Ft(this,null,function*(){return ae!=null&&ae.openExternal||(0,Tt.Gs)(F,Tt.lg.mailto,Tt.lg.http,Tt.lg.https,Tt.lg.vsls)?(yield this._doOpenExternal(F,ae),!0):!1})}),this._openers.push(new Nr(v)),this._openers.push(new nr(s))}registerOpener(s){return{dispose:this._openers.unshift(s)}}open(s,v){return Ft(this,null,function*(){var F;const ae=typeof s=="string"?ot.o.parse(s):s,ge=(F=this._resolvedUriTargets.get(ae))!==null&&F!==void 0?F:s;for(const Ie of this._validators)if(!(yield Ie.shouldOpen(ge,v)))return!1;for(const Ie of this._openers)if(yield Ie.open(s,v))return!0;return!1})}resolveExternalUri(s,v){return Ft(this,null,function*(){for(const F of this._resolvers)try{const ae=yield F.resolveExternalUri(s,v);if(ae)return this._resolvedUriTargets.has(ae.resolved)||this._resolvedUriTargets.set(ae.resolved,s),ae}catch(ae){}throw new Error("Could not resolve external URI: "+s.toString())})}_doOpenExternal(s,v){return Ft(this,null,function*(){const F=typeof s=="string"?ot.o.parse(s):s;let ae;try{ae=(yield this.resolveExternalUri(F,v)).resolved}catch(Ie){ae=F}let ge;if(typeof s=="string"&&F.toString()===ae.toString()?ge=s:ge=encodeURI(ae.toString(!0)),v!=null&&v.allowContributedOpeners){const Ie=typeof(v==null?void 0:v.allowContributedOpeners)=="string"?v==null?void 0:v.allowContributedOpeners:void 0;for(const Fe of this._externalOpeners)if(yield Fe.openExternal(ge,{sourceUri:F,preferredOpenerId:Ie},zs.Ts.None))return!0}return this._defaultExternalOpener.openExternal(ge,{sourceUri:F},zs.Ts.None)})}dispose(){this._validators.clear()}};sr=Ir([ir(0,oi.$),ir(1,bs.H)],sr);var Ra=e(29256),Is=e(91466),Mr=e(44444),ia=e(35081),na=function(Pe,s,v,F){var ae=arguments.length,ge=ae<3?s:F===null?F=Object.getOwnPropertyDescriptor(s,v):F,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ge=Reflect.decorate(Pe,s,v,F);else for(var Fe=Pe.length-1;Fe>=0;Fe--)(Ie=Pe[Fe])&&(ge=(ae<3?Ie(ge):ae>3?Ie(s,v,ge):Ie(s,v))||ge);return ae>3&&ge&&Object.defineProperty(s,v,ge),ge},sa=function(Pe,s){return function(v,F){s(v,F,Pe)}};let Ks=class extends pe.JT{constructor(s,v){super(),this._markerService=v,this._onDidChangeMarker=this._register(new At.Q5),this._markerDecorations=new xs.Y9,s.getModels().forEach(F=>this._onModelAdded(F)),this._register(s.onModelAdded(this._onModelAdded,this)),this._register(s.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(s=>s.dispose()),this._markerDecorations.clear()}getMarker(s,v){const F=this._markerDecorations.get(s);return F&&F.getMarker(v)||null}_handleMarkerChange(s){s.forEach(v=>{const F=this._markerDecorations.get(v);F&&this._updateDecorations(F)})}_onModelAdded(s){const v=new _o(s);this._markerDecorations.set(s.uri,v),this._updateDecorations(v)}_onModelRemoved(s){var v;const F=this._markerDecorations.get(s.uri);F&&(F.dispose(),this._markerDecorations.delete(s.uri)),(s.uri.scheme===Tt.lg.inMemory||s.uri.scheme===Tt.lg.internal||s.uri.scheme===Tt.lg.vscode)&&((v=this._markerService)===null||v===void 0||v.read({resource:s.uri}).map(ae=>ae.owner).forEach(ae=>this._markerService.remove(ae,[s.uri])))}_updateDecorations(s){const v=this._markerService.read({resource:s.model.uri,take:500});s.update(v)&&this._onDidChangeMarker.fire(s.model)}};Ks=na([sa(0,Vi.q),sa(1,Is.lT)],Ks);class _o extends pe.JT{constructor(s){super(),this.model=s,this._map=new xs.YQ,this._register((0,pe.OF)(()=>{this.model.deltaDecorations([...this._map.values()],[]),this._map.clear()}))}update(s){const{added:v,removed:F}=(0,ia.q)(new Set(this._map.keys()),new Set(s));if(v.length===0&&F.length===0)return!1;const ae=F.map(Fe=>this._map.get(Fe)),ge=v.map(Fe=>({range:this._createDecorationRange(this.model,Fe),options:this._createDecorationOption(Fe)})),Ie=this.model.deltaDecorations(ae,ge);for(const Fe of F)this._map.delete(Fe);for(let Fe=0;Fe<Ie.length;Fe++)this._map.set(v[Fe],Ie[Fe]);return!0}getMarker(s){return this._map.getKey(s.id)}_createDecorationRange(s,v){let F=qs.e.lift(v);if(v.severity===Is.ZL.Hint&&!this._hasMarkerTag(v,1)&&!this._hasMarkerTag(v,2)&&(F=F.setEndPosition(F.startLineNumber,F.startColumn+2)),F=s.validateRange(F),F.isEmpty()){const ae=s.getLineLastNonWhitespaceColumn(F.startLineNumber)||s.getLineMaxColumn(F.startLineNumber);if(ae===1||F.endColumn>=ae)return F;const ge=s.getWordAtPosition(F.getStartPosition());ge&&(F=new qs.e(F.startLineNumber,ge.startColumn,F.endLineNumber,ge.endColumn))}else if(v.endColumn===Number.MAX_VALUE&&v.startColumn===1&&F.startLineNumber===F.endLineNumber){const ae=s.getLineFirstNonWhitespaceColumn(v.startLineNumber);ae<F.endColumn&&(F=new qs.e(F.startLineNumber,ae,F.endLineNumber,F.endColumn),v.startColumn=ae)}return F}_createDecorationOption(s){let v,F,ae,ge,Ie;switch(s.severity){case Is.ZL.Hint:this._hasMarkerTag(s,2)?v=void 0:this._hasMarkerTag(s,1)?v="squiggly-unnecessary":v="squiggly-hint",ae=0;break;case Is.ZL.Info:v="squiggly-info",F=(0,mi.EN)(Mr.eS),ae=10,Ie={color:(0,mi.EN)(si.Gvr),position:1};break;case Is.ZL.Warning:v="squiggly-warning",F=(0,mi.EN)(Mr.Re),ae=20,Ie={color:(0,mi.EN)(si.Ivo),position:1};break;case Is.ZL.Error:default:v="squiggly-error",F=(0,mi.EN)(Mr.lK),ae=30,Ie={color:(0,mi.EN)(si.Gj_),position:1};break}return s.tags&&(s.tags.indexOf(1)!==-1&&(ge="squiggly-inline-unnecessary"),s.tags.indexOf(2)!==-1&&(ge="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:v,showIfCollapsed:!0,overviewRuler:{color:F,position:Bi.sh.Right},minimap:Ie,zIndex:ae,inlineClassName:ge}}_hasMarkerTag(s,v){return s.tags?s.tags.indexOf(v)>=0:!1}}var or=e(43066),Oa=e(93059),Io=e(99022),Tr=e(95948),us=e(79788),Aa=function(Pe,s,v,F){var ae=arguments.length,ge=ae<3?s:F===null?F=Object.getOwnPropertyDescriptor(s,v):F,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ge=Reflect.decorate(Pe,s,v,F);else for(var Fe=Pe.length-1;Fe>=0;Fe--)(Ie=Pe[Fe])&&(ge=(ae<3?Ie(ge):ae>3?Ie(s,v,ge):Ie(s,v))||ge);return ae>3&&ge&&Object.defineProperty(s,v,ge),ge},Uo=function(Pe,s){return function(v,F){s(v,F,Pe)}},No;function vo(Pe){return Pe.toString()}class ka{constructor(s,v,F){this.model=s,this._modelEventListeners=new pe.SL,this.model=s,this._modelEventListeners.add(s.onWillDispose(()=>v(s))),this._modelEventListeners.add(s.onDidChangeLanguage(ae=>F(s,ae)))}dispose(){this._modelEventListeners.dispose()}}const Fa=hn.IJ||hn.dz?1:2;class Pr{constructor(s,v,F,ae,ge,Ie,Fe,ct){this.uri=s,this.initialUndoRedoSnapshot=v,this.time=F,this.sharesUndoRedoStack=ae,this.heapSize=ge,this.sha1=Ie,this.versionId=Fe,this.alternativeVersionId=ct}}let rr=No=class extends pe.JT{constructor(s,v,F,ae,ge){super(),this._configurationService=s,this._resourcePropertiesService=v,this._undoRedoService=F,this._languageService=ae,this._languageConfigurationService=ge,this._onModelAdded=this._register(new At.Q5),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new At.Q5),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new At.Q5),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._register(this._configurationService.onDidChangeConfiguration(Ie=>this._updateModelOptions(Ie))),this._updateModelOptions(void 0)}static _readModelOptions(s,v){var F;let ae=Io.D.tabSize;if(s.editor&&typeof s.editor.tabSize!="undefined"){const Ti=parseInt(s.editor.tabSize,10);isNaN(Ti)||(ae=Ti),ae<1&&(ae=1)}let ge="tabSize";if(s.editor&&typeof s.editor.indentSize!="undefined"&&s.editor.indentSize!=="tabSize"){const Ti=parseInt(s.editor.indentSize,10);isNaN(Ti)||(ge=Math.max(Ti,1))}let Ie=Io.D.insertSpaces;s.editor&&typeof s.editor.insertSpaces!="undefined"&&(Ie=s.editor.insertSpaces==="false"?!1:!!s.editor.insertSpaces);let Fe=Fa;const ct=s.eol;ct===`\r
`?Fe=2:ct===`
`&&(Fe=1);let Lt=Io.D.trimAutoWhitespace;s.editor&&typeof s.editor.trimAutoWhitespace!="undefined"&&(Lt=s.editor.trimAutoWhitespace==="false"?!1:!!s.editor.trimAutoWhitespace);let Ut=Io.D.detectIndentation;s.editor&&typeof s.editor.detectIndentation!="undefined"&&(Ut=s.editor.detectIndentation==="false"?!1:!!s.editor.detectIndentation);let li=Io.D.largeFileOptimizations;s.editor&&typeof s.editor.largeFileOptimizations!="undefined"&&(li=s.editor.largeFileOptimizations==="false"?!1:!!s.editor.largeFileOptimizations);let wi=Io.D.bracketPairColorizationOptions;return!((F=s.editor)===null||F===void 0)&&F.bracketPairColorization&&typeof s.editor.bracketPairColorization=="object"&&(wi={enabled:!!s.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!s.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:v,tabSize:ae,indentSize:ge,insertSpaces:Ie,detectIndentation:Ut,defaultEOL:Fe,trimAutoWhitespace:Lt,largeFileOptimizations:li,bracketPairColorizationOptions:wi}}_getEOL(s,v){if(s)return this._resourcePropertiesService.getEOL(s,v);const F=this._configurationService.getValue("files.eol",{overrideIdentifier:v});return F&&typeof F=="string"&&F!=="auto"?F:hn.OS===3||hn.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const s=this._configurationService.getValue("files.restoreUndoStack");return typeof s=="boolean"?s:!0}getCreationOptions(s,v,F){const ae=typeof s=="string"?s:s.languageId;let ge=this._modelCreationOptionsByLanguageAndResource[ae+v];if(!ge){const Ie=this._configurationService.getValue("editor",{overrideIdentifier:ae,resource:v}),Fe=this._getEOL(v,ae);ge=No._readModelOptions({editor:Ie,eol:Fe},F),this._modelCreationOptionsByLanguageAndResource[ae+v]=ge}return ge}_updateModelOptions(s){const v=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const F=Object.keys(this._models);for(let ae=0,ge=F.length;ae<ge;ae++){const Ie=F[ae],Fe=this._models[Ie],ct=Fe.model.getLanguageId(),Lt=Fe.model.uri;if(s&&!s.affectsConfiguration("editor",{overrideIdentifier:ct,resource:Lt})&&!s.affectsConfiguration("files.eol",{overrideIdentifier:ct,resource:Lt}))continue;const Ut=v[ct+Lt],li=this.getCreationOptions(ct,Lt,Fe.model.isForSimpleWidget);No._setModelOptionsForModel(Fe.model,li,Ut)}}static _setModelOptionsForModel(s,v,F){F&&F.defaultEOL!==v.defaultEOL&&s.getLineCount()===1&&s.setEOL(v.defaultEOL===1?0:1),!(F&&F.detectIndentation===v.detectIndentation&&F.insertSpaces===v.insertSpaces&&F.tabSize===v.tabSize&&F.indentSize===v.indentSize&&F.trimAutoWhitespace===v.trimAutoWhitespace&&(0,ti.fS)(F.bracketPairColorizationOptions,v.bracketPairColorizationOptions))&&(v.detectIndentation?(s.detectIndentation(v.insertSpaces,v.tabSize),s.updateOptions({trimAutoWhitespace:v.trimAutoWhitespace,bracketColorizationOptions:v.bracketPairColorizationOptions})):s.updateOptions({insertSpaces:v.insertSpaces,tabSize:v.tabSize,indentSize:v.indentSize,trimAutoWhitespace:v.trimAutoWhitespace,bracketColorizationOptions:v.bracketPairColorizationOptions}))}_insertDisposedModel(s){this._disposedModels.set(vo(s.uri),s),this._disposedModelsHeapSize+=s.heapSize}_removeDisposedModel(s){const v=this._disposedModels.get(vo(s));return v&&(this._disposedModelsHeapSize-=v.heapSize),this._disposedModels.delete(vo(s)),v}_ensureDisposedModelsHeapSize(s){if(this._disposedModelsHeapSize>s){const v=[];for(this._disposedModels.forEach(F=>{F.sharesUndoRedoStack||v.push(F)}),v.sort((F,ae)=>F.time-ae.time);v.length>0&&this._disposedModelsHeapSize>s;){const F=v.shift();this._removeDisposedModel(F.uri),F.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(F.initialUndoRedoSnapshot)}}}_createModelData(s,v,F,ae){const ge=this.getCreationOptions(v,F,ae),Ie=new Oa.yO(s,v,ge,F,this._undoRedoService,this._languageService,this._languageConfigurationService);if(F&&this._disposedModels.has(vo(F))){const Lt=this._removeDisposedModel(F),Ut=this._undoRedoService.getElements(F),li=this._getSHA1Computer(),wi=li.canComputeSHA1(Ie)?li.computeSHA1(Ie)===Lt.sha1:!1;if(wi||Lt.sharesUndoRedoStack){for(const Ti of Ut.past)(0,us.e9)(Ti)&&Ti.matchesResource(F)&&Ti.setModel(Ie);for(const Ti of Ut.future)(0,us.e9)(Ti)&&Ti.matchesResource(F)&&Ti.setModel(Ie);this._undoRedoService.setElementsValidFlag(F,!0,Ti=>(0,us.e9)(Ti)&&Ti.matchesResource(F)),wi&&(Ie._overwriteVersionId(Lt.versionId),Ie._overwriteAlternativeVersionId(Lt.alternativeVersionId),Ie._overwriteInitialUndoRedoSnapshot(Lt.initialUndoRedoSnapshot))}else Lt.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(Lt.initialUndoRedoSnapshot)}const Fe=vo(Ie.uri);if(this._models[Fe])throw new Error("ModelService: Cannot add model because it already exists!");const ct=new ka(Ie,Lt=>this._onWillDispose(Lt),(Lt,Ut)=>this._onDidChangeLanguage(Lt,Ut));return this._models[Fe]=ct,ct}createModel(s,v,F,ae=!1){let ge;return v?ge=this._createModelData(s,v,F,ae):ge=this._createModelData(s,Di.bd,F,ae),this._onModelAdded.fire(ge.model),ge.model}getModels(){const s=[],v=Object.keys(this._models);for(let F=0,ae=v.length;F<ae;F++){const ge=v[F];s.push(this._models[ge].model)}return s}getModel(s){const v=vo(s),F=this._models[v];return F?F.model:null}_schemaShouldMaintainUndoRedoElements(s){return s.scheme===Tt.lg.file||s.scheme===Tt.lg.vscodeRemote||s.scheme===Tt.lg.vscodeUserData||s.scheme===Tt.lg.vscodeNotebookCell||s.scheme==="fake-fs"}_onWillDispose(s){const v=vo(s.uri),F=this._models[v],ae=this._undoRedoService.getUriComparisonKey(s.uri)!==s.uri.toString();let ge=!1,Ie=0;if(ae||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(s.uri)){const Lt=this._undoRedoService.getElements(s.uri);if(Lt.past.length>0||Lt.future.length>0){for(const Ut of Lt.past)(0,us.e9)(Ut)&&Ut.matchesResource(s.uri)&&(ge=!0,Ie+=Ut.heapSize(s.uri),Ut.setModel(s.uri));for(const Ut of Lt.future)(0,us.e9)(Ut)&&Ut.matchesResource(s.uri)&&(ge=!0,Ie+=Ut.heapSize(s.uri),Ut.setModel(s.uri))}}const Fe=No.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK,ct=this._getSHA1Computer();if(ge)if(!ae&&(Ie>Fe||!ct.canComputeSHA1(s))){const Lt=F.model.getInitialUndoRedoSnapshot();Lt!==null&&this._undoRedoService.restoreSnapshot(Lt)}else this._ensureDisposedModelsHeapSize(Fe-Ie),this._undoRedoService.setElementsValidFlag(s.uri,!1,Lt=>(0,us.e9)(Lt)&&Lt.matchesResource(s.uri)),this._insertDisposedModel(new Pr(s.uri,F.model.getInitialUndoRedoSnapshot(),Date.now(),ae,Ie,ct.computeSHA1(s),s.getVersionId(),s.getAlternativeVersionId()));else if(!ae){const Lt=F.model.getInitialUndoRedoSnapshot();Lt!==null&&this._undoRedoService.restoreSnapshot(Lt)}delete this._models[v],F.dispose(),delete this._modelCreationOptionsByLanguageAndResource[s.getLanguageId()+s.uri],this._onModelRemoved.fire(s)}_onDidChangeLanguage(s,v){const F=v.oldLanguage,ae=s.getLanguageId(),ge=this.getCreationOptions(F,s.uri,s.isForSimpleWidget),Ie=this.getCreationOptions(ae,s.uri,s.isForSimpleWidget);No._setModelOptionsForModel(s,Ie,ge),this._onModelModeChanged.fire({model:s,oldLanguageId:F})}_getSHA1Computer(){return new ar}};rr.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,rr=No=Aa([Uo(0,dt.Ui),Uo(1,Fo.y),Uo(2,fi.tJ),Uo(3,Ct.O),Uo(4,Gt.c_)],rr);class ar{canComputeSHA1(s){return s.getValueLength()<=ar.MAX_MODEL_SIZE}computeSHA1(s){const v=new Tr.yP,F=s.createSnapshot();let ae;for(;ae=F.read();)v.update(ae);return v.digest()}}ar.MAX_MODEL_SIZE=10*1024*1024;var oa=e(1430),Rt=e(86773),t=function(Pe,s,v,F){var ae=arguments.length,ge=ae<3?s:F===null?F=Object.getOwnPropertyDescriptor(s,v):F,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ge=Reflect.decorate(Pe,s,v,F);else for(var Fe=Pe.length-1;Fe>=0;Fe--)(Ie=Pe[Fe])&&(ge=(ae<3?Ie(ge):ae>3?Ie(s,v,ge):Ie(s,v))||ge);return ae>3&&ge&&Object.defineProperty(s,v,ge),ge},d=function(Pe,s){return function(v,F){s(v,F,Pe)}};let L=class extends pe.JT{constructor(s,v){super(),this.quickInputService=s,this.instantiationService=v,this.registry=$s.B.as(oa.IP.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(s="",v){this.doShowOrPick(s,!1,v)}doShowOrPick(s,v,F){var ae,ge,Ie;const[Fe,ct]=this.getOrInstantiateProvider(s),Lt=this.visibleQuickAccess,Ut=Lt==null?void 0:Lt.descriptor;if(Lt&&ct&&Ut===ct){s!==ct.prefix&&!(F!=null&&F.preserveValue)&&(Lt.picker.value=s),this.adjustValueSelection(Lt.picker,ct,F);return}if(ct&&!(F!=null&&F.preserveValue)){let Tn;if(Lt&&Ut&&Ut!==ct){const Un=Lt.value.substr(Ut.prefix.length);Un&&(Tn=`${ct.prefix}${Un}`)}if(!Tn){const Un=Fe==null?void 0:Fe.defaultFilterValue;Un===oa.Ry.LAST?Tn=this.lastAcceptedPickerValues.get(ct):typeof Un=="string"&&(Tn=`${ct.prefix}${Un}`)}typeof Tn=="string"&&(s=Tn)}const li=(ae=Lt==null?void 0:Lt.picker)===null||ae===void 0?void 0:ae.valueSelection,wi=(ge=Lt==null?void 0:Lt.picker)===null||ge===void 0?void 0:ge.value,Ti=new pe.SL,en=Ti.add(this.quickInputService.createQuickPick());en.value=s,this.adjustValueSelection(en,ct,F),en.placeholder=ct==null?void 0:ct.placeholder,en.quickNavigate=F==null?void 0:F.quickNavigateConfiguration,en.hideInput=!!en.quickNavigate&&!Lt,(typeof(F==null?void 0:F.itemActivation)=="number"||F!=null&&F.quickNavigateConfiguration)&&(en.itemActivation=(Ie=F==null?void 0:F.itemActivation)!==null&&Ie!==void 0?Ie:Rt.jG.SECOND),en.contextKey=ct==null?void 0:ct.contextKey,en.filterValue=Tn=>Tn.substring(ct?ct.prefix.length:0);let En;v&&(En=new Ms.CR,Ti.add(At.ju.once(en.onWillAccept)(Tn=>{Tn.veto(),en.hide()}))),Ti.add(this.registerPickerListeners(en,Fe,ct,s,F==null?void 0:F.providerOptions));const Fn=Ti.add(new zs.AU);if(Fe&&Ti.add(Fe.provide(en,Fn.token,F==null?void 0:F.providerOptions)),At.ju.once(en.onDidHide)(()=>{en.selectedItems.length===0&&Fn.cancel(),Ti.dispose(),En==null||En.complete(en.selectedItems.slice(0))}),en.show(),li&&wi===s&&(en.valueSelection=li),v)return En==null?void 0:En.p}adjustValueSelection(s,v,F){var ae;let ge;F!=null&&F.preserveValue?ge=[s.value.length,s.value.length]:ge=[(ae=v==null?void 0:v.prefix.length)!==null&&ae!==void 0?ae:0,s.value.length],s.valueSelection=ge}registerPickerListeners(s,v,F,ae,ge){const Ie=new pe.SL,Fe=this.visibleQuickAccess={picker:s,descriptor:F,value:ae};return Ie.add((0,pe.OF)(()=>{Fe===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),Ie.add(s.onDidChangeValue(ct=>{const[Lt]=this.getOrInstantiateProvider(ct);Lt!==v?this.show(ct,{preserveValue:!0,providerOptions:ge}):Fe.value=ct})),F&&Ie.add(s.onDidAccept(()=>{this.lastAcceptedPickerValues.set(F,s.value)})),Ie}getOrInstantiateProvider(s){const v=this.registry.getQuickAccessProvider(s);if(!v)return[void 0,void 0];let F=this.mapProviderToDescriptor.get(v);return F||(F=this.instantiationService.createInstance(v.ctor),this.mapProviderToDescriptor.set(v,F)),[F,v]}};L=t([d(0,Rt.eJ),d(1,hi.TG)],L);var U=e(62019),q=e(60773),_e=e(60661),Me=e(16525),ze=e(95738),qe=function(Pe,s,v,F){var ae=arguments.length,ge=ae<3?s:F===null?F=Object.getOwnPropertyDescriptor(s,v):F,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ge=Reflect.decorate(Pe,s,v,F);else for(var Fe=Pe.length-1;Fe>=0;Fe--)(Ie=Pe[Fe])&&(ge=(ae<3?Ie(ge):ae>3?Ie(s,v,ge):Ie(s,v))||ge);return ae>3&&ge&&Object.defineProperty(s,v,ge),ge};class pt{constructor(s){this.nodes=s}toString(){return this.nodes.map(s=>typeof s=="string"?s:s.label).join("")}}qe([ze.H],pt.prototype,"toString",null);const Dt=/\[([^\]]+)\]\(((?:https?:\/\/|command:|file:)[^\)\s]+)(?: (["'])(.+?)(\3))?\)/gi;function Ot(Pe){const s=[];let v=0,F;for(;F=Dt.exec(Pe);){F.index-v>0&&s.push(Pe.substring(v,F.index));const[,ae,ge,,Ie]=F;Ie?s.push({label:ae,href:ge,title:Ie}):s.push({label:ae,href:ge}),v=F.index+F[0].length}return v<Pe.length&&s.push(Pe.substring(v)),new pt(s)}const zt={},ii=new Me.R("quick-input-button-icon-");function ai(Pe){if(!Pe)return;let s;const v=Pe.dark.toString();return zt[v]?s=zt[v]:(s=ii.nextId(),Ve.fk(`.${s}, .hc-light .${s}`,`background-image: ${Ve.wY(Pe.light||Pe.dark)}`),Ve.fk(`.vs-dark .${s}, .hc-black .${s}`,`background-image: ${Ve.wY(Pe.dark)}`),zt[v]=s),s}function pi(Pe,s,v){let F=Pe.iconClass||ai(Pe.iconPath);return Pe.alwaysVisible&&(F=F?`${F} always-visible`:"always-visible"),{id:s,label:"",tooltip:Pe.tooltip||"",class:F,enabled:!0,run:v}}function Si(Pe,s,v){Ve.mc(s);const F=Ot(Pe);let ae=0;for(const ge of F.nodes)if(typeof ge=="string")s.append(...(0,_e.T)(ge));else{let Ie=ge.title;!Ie&&ge.href.startsWith("command:")?Ie=(0,Hi.NC)("executeCommand","Click to execute command '{0}'",ge.href.substring(8)):Ie||(Ie=ge.href);const Fe=Ve.$("a",{href:ge.href,title:Ie,tabIndex:ae++},ge.label);Fe.style.textDecoration="underline";const ct=Ti=>{Ve.cl(Ti)&&Ve.zB.stop(Ti,!0),v.callback(ge.href)},Lt=v.disposables.add(new q.Y(Fe,Ve.tw.CLICK)).event,Ut=v.disposables.add(new q.Y(Fe,Ve.tw.KEY_DOWN)).event,li=At.ju.chain(Ut,Ti=>Ti.filter(en=>{const En=new ns.y(en);return En.equals(10)||En.equals(3)}));v.disposables.add(Qs.o.addTarget(Fe));const wi=v.disposables.add(new q.Y(Fe,Qs.t.Tap)).event;At.ju.any(Lt,wi,li)(ct,null,v.disposables),s.appendChild(Fe)}}var ki=e(71088),Ai=e(30655),qi=e(4647),on=e(98618),cn=e(20359);const un=new cn.o(()=>{const Pe=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:Pe,collatorIsNumeric:Pe.resolvedOptions().numeric}}),Ln=new cn.o(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),pn=new cn.o(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));function gn(Pe,s,v=!1){const F=Pe||"",ae=s||"",ge=un.value.collator.compare(F,ae);return un.value.collatorIsNumeric&&ge===0&&F!==ae?F<ae?-1:1:ge}function Dn(Pe,s,v){const F=Pe.toLowerCase(),ae=s.toLowerCase(),ge=bn(Pe,s,v);if(ge)return ge;const Ie=F.endsWith(v),Fe=ae.endsWith(v);if(Ie!==Fe)return Ie?-1:1;const ct=gn(F,ae);return ct!==0?ct:F.localeCompare(ae)}function bn(Pe,s,v){const F=Pe.toLowerCase(),ae=s.toLowerCase(),ge=F.startsWith(v),Ie=ae.startsWith(v);if(ge!==Ie)return ge?-1:1;if(ge&&Ie){if(F.length<ae.length)return-1;if(F.length>ae.length)return 1}return 0}var Nn=e(34803),Qn=function(Pe,s,v,F){var ae=arguments.length,ge=ae<3?s:F===null?F=Object.getOwnPropertyDescriptor(s,v):F,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ge=Reflect.decorate(Pe,s,v,F);else for(var Fe=Pe.length-1;Fe>=0;Fe--)(Ie=Pe[Fe])&&(ge=(ae<3?Ie(ge):ae>3?Ie(s,v,ge):Ie(s,v))||ge);return ae>3&&ge&&Object.defineProperty(s,v,ge),ge},jn=function(Pe,s){return function(v,F){s(v,F,Pe)}},fs;const es=Ve.$;var zn;(function(Pe){Pe[Pe.First=1]="First",Pe[Pe.Second=2]="Second",Pe[Pe.Last=3]="Last",Pe[Pe.Next=4]="Next",Pe[Pe.Previous=5]="Previous",Pe[Pe.NextPage=6]="NextPage",Pe[Pe.PreviousPage=7]="PreviousPage",Pe[Pe.NextSeparator=8]="NextSeparator",Pe[Pe.PreviousSeparator=9]="PreviousSeparator"})(zn||(zn={}));class hs{constructor(s,v,F){this.index=s,this.hasCheckbox=v,this._hidden=!1,this._init=new cn.o(()=>{var ae;const ge=(ae=F.label)!==null&&ae!==void 0?ae:"",Ie=(0,Ws.Ho)(ge).text.trim(),Fe=F.ariaLabel||[ge,this.saneDescription,this.saneDetail].map(ct=>(0,Ws.JL)(ct)).filter(ct=>!!ct).join(", ");return{saneLabel:ge,saneSortLabel:Ie,saneAriaLabel:Fe}}),this._saneDescription=F.description,this._saneTooltip=F.tooltip}get saneLabel(){return this._init.value.saneLabel}get saneSortLabel(){return this._init.value.saneSortLabel}get saneAriaLabel(){return this._init.value.saneAriaLabel}get element(){return this._element}set element(s){this._element=s}get hidden(){return this._hidden}set hidden(s){this._hidden=s}get saneDescription(){return this._saneDescription}set saneDescription(s){this._saneDescription=s}get saneDetail(){return this._saneDetail}set saneDetail(s){this._saneDetail=s}get saneTooltip(){return this._saneTooltip}set saneTooltip(s){this._saneTooltip=s}get labelHighlights(){return this._labelHighlights}set labelHighlights(s){this._labelHighlights=s}get descriptionHighlights(){return this._descriptionHighlights}set descriptionHighlights(s){this._descriptionHighlights=s}get detailHighlights(){return this._detailHighlights}set detailHighlights(s){this._detailHighlights=s}}class Kn extends hs{constructor(s,v,F,ae,ge,Ie){var Fe,ct,Lt;super(s,v,ge),this.fireButtonTriggered=F,this._onChecked=ae,this.item=ge,this._separator=Ie,this._checked=!1,this.onChecked=v?At.ju.map(At.ju.filter(this._onChecked.event,Ut=>Ut.element===this),Ut=>Ut.checked):At.ju.None,this._saneDetail=ge.detail,this._labelHighlights=(Fe=ge.highlights)===null||Fe===void 0?void 0:Fe.label,this._descriptionHighlights=(ct=ge.highlights)===null||ct===void 0?void 0:ct.description,this._detailHighlights=(Lt=ge.highlights)===null||Lt===void 0?void 0:Lt.detail}get separator(){return this._separator}set separator(s){this._separator=s}get checked(){return this._checked}set checked(s){s!==this._checked&&(this._checked=s,this._onChecked.fire({element:this,checked:s}))}get checkboxDisabled(){return!!this.item.disabled}}var gs;(function(Pe){Pe[Pe.NONE=0]="NONE",Pe[Pe.MOUSE_HOVER=1]="MOUSE_HOVER",Pe[Pe.ACTIVE_ITEM=2]="ACTIVE_ITEM"})(gs||(gs={}));class Mo extends hs{constructor(s,v,F){super(s,!1,F),this.fireSeparatorButtonTriggered=v,this.separator=F,this.children=new Array,this.focusInsideSeparator=gs.NONE}}class md{getHeight(s){return s instanceof Mo?30:s.saneDetail?44:22}getTemplateId(s){return s instanceof Kn?Rr.ID:Or.ID}}class pd{getWidgetAriaLabel(){return(0,Hi.NC)("quickInput","Quick Input")}getAriaLabel(s){var v;return!((v=s.separator)===null||v===void 0)&&v.label?`${s.saneAriaLabel}, ${s.separator.label}`:s.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(s){return s.hasCheckbox?"checkbox":"option"}isChecked(s){if(!(!s.hasCheckbox||!(s instanceof Kn)))return{get value(){return s.checked},onDidChange:v=>s.onChecked(()=>v())}}}class _l{constructor(s){this.hoverDelegate=s}renderTemplate(s){const v=Object.create(null);v.toDisposeElement=new pe.SL,v.toDisposeTemplate=new pe.SL,v.entry=Ve.R3(s,es(".quick-input-list-entry"));const F=Ve.R3(v.entry,es("label.quick-input-list-label"));v.toDisposeTemplate.add(Ve.mu(F,Ve.tw.CLICK,Lt=>{v.checkbox.offsetParent||Lt.preventDefault()})),v.checkbox=Ve.R3(F,es("input.quick-input-list-checkbox")),v.checkbox.type="checkbox";const ae=Ve.R3(F,es(".quick-input-list-rows")),ge=Ve.R3(ae,es(".quick-input-list-row")),Ie=Ve.R3(ae,es(".quick-input-list-row"));v.label=new Ai.g(ge,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),v.toDisposeTemplate.add(v.label),v.icon=Ve.Ce(v.label.element,es(".quick-input-list-icon"));const Fe=Ve.R3(ge,es(".quick-input-list-entry-keybinding"));v.keybinding=new qi.e(Fe,hn.OS),v.toDisposeTemplate.add(v.keybinding);const ct=Ve.R3(Ie,es(".quick-input-list-label-meta"));return v.detail=new Ai.g(ct,{supportHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),v.toDisposeTemplate.add(v.detail),v.separator=Ve.R3(v.entry,es(".quick-input-list-separator")),v.actionBar=new tr.o(v.entry,this.hoverDelegate?{hoverDelegate:this.hoverDelegate}:void 0),v.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),v.toDisposeTemplate.add(v.actionBar),v}disposeTemplate(s){s.toDisposeElement.dispose(),s.toDisposeTemplate.dispose()}disposeElement(s,v,F){F.toDisposeElement.clear(),F.actionBar.clear()}}let Rr=fs=class extends _l{constructor(s,v){super(s),this.themeService=v,this._itemsWithSeparatorsFrequency=new Map}get templateId(){return fs.ID}renderTemplate(s){const v=super.renderTemplate(s);return v.toDisposeTemplate.add(Ve.mu(v.checkbox,Ve.tw.CHANGE,F=>{v.element.checked=v.checkbox.checked})),v}renderElement(s,v,F){var ae,ge,Ie;const Fe=s.element;F.element=Fe,Fe.element=(ae=F.entry)!==null&&ae!==void 0?ae:void 0;const ct=Fe.item;F.checkbox.checked=Fe.checked,F.toDisposeElement.add(Fe.onChecked(En=>F.checkbox.checked=En)),F.checkbox.disabled=Fe.checkboxDisabled;const{labelHighlights:Lt,descriptionHighlights:Ut,detailHighlights:li}=Fe;if(ct.iconPath){const En=(0,on._T)(this.themeService.getColorTheme().type)?ct.iconPath.dark:(ge=ct.iconPath.light)!==null&&ge!==void 0?ge:ct.iconPath.dark,Fn=ot.o.revive(En);F.icon.className="quick-input-list-icon",F.icon.style.backgroundImage=Ve.wY(Fn)}else F.icon.style.backgroundImage="",F.icon.className=ct.iconClass?`quick-input-list-icon ${ct.iconClass}`:"";let wi;!Fe.saneTooltip&&Fe.saneDescription&&(wi={markdown:{value:Fe.saneDescription,supportThemeIcons:!0},markdownNotSupportedFallback:Fe.saneDescription});const Ti={matches:Lt||[],descriptionTitle:wi,descriptionMatches:Ut||[],labelEscapeNewLines:!0};if(Ti.extraClasses=ct.iconClasses,Ti.italic=ct.italic,Ti.strikethrough=ct.strikethrough,F.entry.classList.remove("quick-input-list-separator-as-item"),F.label.setLabel(Fe.saneLabel,Fe.saneDescription,Ti),F.keybinding.set(ct.keybinding),Fe.saneDetail){let En;Fe.saneTooltip||(En={markdown:{value:Fe.saneDetail,supportThemeIcons:!0},markdownNotSupportedFallback:Fe.saneDetail}),F.detail.element.style.display="",F.detail.setLabel(Fe.saneDetail,void 0,{matches:li,title:En,labelEscapeNewLines:!0})}else F.detail.element.style.display="none";!((Ie=Fe.separator)===null||Ie===void 0)&&Ie.label?(F.separator.textContent=Fe.separator.label,F.separator.style.display="",this.addItemWithSeparator(Fe)):F.separator.style.display="none",F.entry.classList.toggle("quick-input-list-separator-border",!!Fe.separator);const en=ct.buttons;en&&en.length?(F.actionBar.push(en.map((En,Fn)=>pi(En,`id-${Fn}`,()=>Fe.fireButtonTriggered({button:En,item:Fe.item}))),{icon:!0,label:!1}),F.entry.classList.add("has-actions")):F.entry.classList.remove("has-actions")}disposeElement(s,v,F){this.removeItemWithSeparator(s.element),super.disposeElement(s,v,F)}isItemWithSeparatorVisible(s){return this._itemsWithSeparatorsFrequency.has(s)}addItemWithSeparator(s){this._itemsWithSeparatorsFrequency.set(s,(this._itemsWithSeparatorsFrequency.get(s)||0)+1)}removeItemWithSeparator(s){const v=this._itemsWithSeparatorsFrequency.get(s)||0;v>1?this._itemsWithSeparatorsFrequency.set(s,v-1):this._itemsWithSeparatorsFrequency.delete(s)}};Rr.ID="quickpickitem",Rr=fs=Qn([jn(1,mi.XE)],Rr);class Or extends _l{constructor(){super(...arguments),this._visibleSeparatorsFrequency=new Map}get templateId(){return Or.ID}get visibleSeparators(){return[...this._visibleSeparatorsFrequency.keys()]}isSeparatorVisible(s){return this._visibleSeparatorsFrequency.has(s)}renderElement(s,v,F){var ae;const ge=s.element;F.element=ge,ge.element=(ae=F.entry)!==null&&ae!==void 0?ae:void 0,ge.element.classList.toggle("focus-inside",!!ge.focusInsideSeparator);const Ie=ge.separator,{labelHighlights:Fe,descriptionHighlights:ct,detailHighlights:Lt}=ge;F.icon.style.backgroundImage="",F.icon.className="";let Ut;!ge.saneTooltip&&ge.saneDescription&&(Ut={markdown:{value:ge.saneDescription,supportThemeIcons:!0},markdownNotSupportedFallback:ge.saneDescription});const li={matches:Fe||[],descriptionTitle:Ut,descriptionMatches:ct||[],labelEscapeNewLines:!0};if(F.entry.classList.add("quick-input-list-separator-as-item"),F.label.setLabel(ge.saneLabel,ge.saneDescription,li),ge.saneDetail){let Ti;ge.saneTooltip||(Ti={markdown:{value:ge.saneDetail,supportThemeIcons:!0},markdownNotSupportedFallback:ge.saneDetail}),F.detail.element.style.display="",F.detail.setLabel(ge.saneDetail,void 0,{matches:Lt,title:Ti,labelEscapeNewLines:!0})}else F.detail.element.style.display="none";F.separator.style.display="none",F.entry.classList.add("quick-input-list-separator-border");const wi=Ie.buttons;wi&&wi.length?(F.actionBar.push(wi.map((Ti,en)=>pi(Ti,`id-${en}`,()=>ge.fireSeparatorButtonTriggered({button:Ti,separator:ge.separator}))),{icon:!0,label:!1}),F.entry.classList.add("has-actions")):F.entry.classList.remove("has-actions"),this.addSeparator(ge)}disposeElement(s,v,F){var ae;this.removeSeparator(s.element),this.isSeparatorVisible(s.element)||(ae=s.element.element)===null||ae===void 0||ae.classList.remove("focus-inside"),super.disposeElement(s,v,F)}addSeparator(s){this._visibleSeparatorsFrequency.set(s,(this._visibleSeparatorsFrequency.get(s)||0)+1)}removeSeparator(s){const v=this._visibleSeparatorsFrequency.get(s)||0;v>1?this._visibleSeparatorsFrequency.set(s,v-1):this._visibleSeparatorsFrequency.delete(s)}}Or.ID="quickpickseparator";let Ar=class extends pe.JT{constructor(s,v,F,ae,ge){super(),this.parent=s,this.hoverDelegate=v,this.linkOpenerDelegate=F,this._onKeyDown=new At.Q5,this.onKeyDown=this._onKeyDown.event,this._onLeave=new At.Q5,this.onLeave=this._onLeave.event,this._onChangedAllVisibleChecked=new At.Q5,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new At.Q5,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new At.Q5,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new At.Q5,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new At.Q5,this.onButtonTriggered=this._onButtonTriggered.event,this._onSeparatorButtonTriggered=new At.Q5,this.onSeparatorButtonTriggered=this._onSeparatorButtonTriggered.event,this._onTriggerEmptySelectionOrFocus=new At.Q5,this._elementChecked=new At.Q5,this._inputElements=new Array,this._elementTree=new Array,this._itemElements=new Array,this._elementDisposable=this._register(new pe.SL),this._shouldFireCheckedEvents=!0,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._container=Ve.R3(this.parent,es(".quick-input-list")),this._separatorRenderer=new Or(v),this._itemRenderer=ge.createInstance(Rr,v),this._tree=this._register(ge.createInstance(ki.PF,"QuickInput",this._container,new md,[this._itemRenderer,this._separatorRenderer],{accessibilityProvider:new pd,setRowLineHeight:!1,multipleSelectionSupport:!1,hideTwistiesOfChildlessElements:!0,renderIndentGuides:Nn.E4.None,findWidgetEnabled:!1,indent:0,horizontalScrolling:!1,allowNonCollapsibleParents:!0,identityProvider:{getId:Ie=>{const Fe=Ie.item||Ie.separator;if(Fe===void 0)return"";if(Fe.id!==void 0)return Fe.id;let ct=`label:${Fe.label}`;return ct+=`$$description:${Fe.description}`,Fe.type!=="separator"&&(ct+=`$$detail:${Fe.detail}`),ct}},alwaysConsumeMouseWheel:!0})),this._tree.getHTMLElement().id=ae,this._registerListeners()}get onDidChangeFocus(){return At.ju.map(At.ju.any(this._tree.onDidChangeFocus,this._onTriggerEmptySelectionOrFocus.event),s=>s.elements.filter(v=>v instanceof Kn).map(v=>v.item))}get onDidChangeSelection(){return At.ju.map(At.ju.any(this._tree.onDidChangeSelection,this._onTriggerEmptySelectionOrFocus.event),s=>({items:s.elements.filter(v=>v instanceof Kn).map(v=>v.item),event:s.browserEvent}))}get scrollTop(){return this._tree.scrollTop}set scrollTop(s){this._tree.scrollTop=s}get ariaLabel(){return this._tree.ariaLabel}set ariaLabel(s){this._tree.ariaLabel=s!=null?s:""}set enabled(s){this._tree.getHTMLElement().style.pointerEvents=s?"":"none"}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(s){this._matchOnDescription=s}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(s){this._matchOnDetail=s}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(s){this._matchOnLabel=s}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(s){this._matchOnLabelMode=s}get sortByLabel(){return this._sortByLabel}set sortByLabel(s){this._sortByLabel=s}_registerListeners(){this._registerOnKeyDown(),this._registerOnContainerClick(),this._registerOnMouseMiddleClick(),this._registerOnElementChecked(),this._registerOnContextMenu(),this._registerHoverListeners(),this._registerSelectionChangeListener(),this._registerSeparatorActionShowingListeners()}_registerOnKeyDown(){this._register(this._tree.onKeyDown(s=>{const v=new ns.y(s);switch(v.keyCode){case 10:this.toggleCheckbox();break;case 31:(hn.dz?s.metaKey:s.ctrlKey)&&this._tree.setFocus(this._itemElements);break;case 16:{const F=this._tree.getFocus();F.length===1&&F[0]===this._itemElements[0]&&this._onLeave.fire();break}case 18:{const F=this._tree.getFocus();F.length===1&&F[0]===this._itemElements[this._itemElements.length-1]&&this._onLeave.fire();break}}this._onKeyDown.fire(v)}))}_registerOnContainerClick(){this._register(Ve.nm(this._container,Ve.tw.CLICK,s=>{(s.x||s.y)&&this._onLeave.fire()}))}_registerOnMouseMiddleClick(){this._register(Ve.nm(this._container,Ve.tw.AUXCLICK,s=>{s.button===1&&this._onLeave.fire()}))}_registerOnElementChecked(){this._register(this._elementChecked.event(s=>this._fireCheckedEvents()))}_registerOnContextMenu(){this._register(this._tree.onContextMenu(s=>{s.element&&(s.browserEvent.preventDefault(),this._tree.setSelection([s.element]))}))}_registerHoverListeners(){const s=this._register(new Ms.rH(this.hoverDelegate.delay));this._register(this._tree.onMouseOver(v=>Ft(this,null,function*(){var F;if(v.browserEvent.target instanceof HTMLAnchorElement){s.cancel();return}if(!(!(v.browserEvent.relatedTarget instanceof HTMLAnchorElement)&&Ve.jg(v.browserEvent.relatedTarget,(F=v.element)===null||F===void 0?void 0:F.element)))try{yield s.trigger(()=>Ft(this,null,function*(){v.element instanceof Kn&&this.showHover(v.element)}))}catch(ae){if(!(0,dn.n2)(ae))throw ae}}))),this._register(this._tree.onMouseOut(v=>{var F;Ve.jg(v.browserEvent.relatedTarget,(F=v.element)===null||F===void 0?void 0:F.element)||s.cancel()}))}_registerSeparatorActionShowingListeners(){this._register(this._tree.onDidChangeFocus(s=>{const v=s.elements[0]?this._tree.getParentElement(s.elements[0]):null;for(const F of this._separatorRenderer.visibleSeparators){const ae=F===v;!!(F.focusInsideSeparator&gs.ACTIVE_ITEM)!==ae&&(ae?F.focusInsideSeparator|=gs.ACTIVE_ITEM:F.focusInsideSeparator&=~gs.ACTIVE_ITEM,this._tree.rerender(F))}})),this._register(this._tree.onMouseOver(s=>{const v=s.element?this._tree.getParentElement(s.element):null;for(const F of this._separatorRenderer.visibleSeparators){if(F!==v)continue;!!(F.focusInsideSeparator&gs.MOUSE_HOVER)||(F.focusInsideSeparator|=gs.MOUSE_HOVER,this._tree.rerender(F))}})),this._register(this._tree.onMouseOut(s=>{const v=s.element?this._tree.getParentElement(s.element):null;for(const F of this._separatorRenderer.visibleSeparators){if(F!==v)continue;!!(F.focusInsideSeparator&gs.MOUSE_HOVER)&&(F.focusInsideSeparator&=~gs.MOUSE_HOVER,this._tree.rerender(F))}}))}_registerSelectionChangeListener(){this._register(this._tree.onDidChangeSelection(s=>{const v=s.elements.filter(F=>F instanceof Kn);v.length!==s.elements.length&&(s.elements.length===1&&s.elements[0]instanceof Mo&&(this._tree.setFocus([s.elements[0].children[0]]),this._tree.reveal(s.elements[0],0)),this._tree.setSelection(v))}))}getAllVisibleChecked(){return this._allVisibleChecked(this._itemElements,!1)}getCheckedCount(){return this._itemElements.filter(s=>s.checked).length}getVisibleCount(){return this._itemElements.filter(s=>!s.hidden).length}setAllVisibleChecked(s){try{this._shouldFireCheckedEvents=!1,this._itemElements.forEach(v=>{!v.hidden&&!v.checkboxDisabled&&(v.checked=s)})}finally{this._shouldFireCheckedEvents=!0,this._fireCheckedEvents()}}setElements(s){this._elementDisposable.clear(),this._inputElements=s;const v=this.parent.classList.contains("show-checkboxes");let F;this._itemElements=new Array,this._elementTree=s.reduce((Ie,Fe,ct)=>{let Lt;if(Fe.type==="separator"){if(!Fe.buttons)return Ie;F=new Mo(ct,Ut=>this.fireSeparatorButtonTriggered(Ut),Fe),Lt=F}else{const Ut=ct>0?s[ct-1]:void 0;let li;Ut&&Ut.type==="separator"&&!Ut.buttons&&(F=void 0,li=Ut);const wi=new Kn(ct,v,Ti=>this.fireButtonTriggered(Ti),this._elementChecked,Fe,li);if(this._itemElements.push(wi),F)return F.children.push(wi),Ie;Lt=wi}return Ie.push(Lt),Ie},new Array);const ae=new Array;let ge=0;for(const Ie of this._elementTree)Ie instanceof Mo?(ae.push({element:Ie,collapsible:!1,collapsed:!1,children:Ie.children.map(Fe=>({element:Fe,collapsible:!1,collapsed:!1}))}),ge+=Ie.children.length+1):(ae.push({element:Ie,collapsible:!1,collapsed:!1}),ge++);this._tree.setChildren(null,ae),this._onChangedVisibleCount.fire(ge)}setFocusedElements(s){const v=s.map(F=>this._itemElements.find(ae=>ae.item===F)).filter(F=>!!F);if(this._tree.setFocus(v),s.length>0){const F=this._tree.getFocus()[0];F&&this._tree.reveal(F)}}getActiveDescendant(){return this._tree.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(s){const v=s.map(F=>this._itemElements.find(ae=>ae.item===F)).filter(F=>!!F);this._tree.setSelection(v)}getCheckedElements(){return this._itemElements.filter(s=>s.checked).map(s=>s.item)}setCheckedElements(s){try{this._shouldFireCheckedEvents=!1;const v=new Set;for(const F of s)v.add(F);for(const F of this._itemElements)F.checked=v.has(F.item)}finally{this._shouldFireCheckedEvents=!0,this._fireCheckedEvents()}}focus(s){var v;if(this._itemElements.length)switch(s===zn.Second&&this._itemElements.length<2&&(s=zn.First),s){case zn.First:this._tree.scrollTop=0,this._tree.focusFirst(void 0,F=>F.element instanceof Kn);break;case zn.Second:this._tree.scrollTop=0,this._tree.setFocus([this._itemElements[1]]);break;case zn.Last:this._tree.scrollTop=this._tree.scrollHeight,this._tree.setFocus([this._itemElements[this._itemElements.length-1]]);break;case zn.Next:this._tree.focusNext(void 0,!0,void 0,F=>F.element instanceof Kn?(this._tree.reveal(F.element),!0):!1);break;case zn.Previous:this._tree.focusPrevious(void 0,!0,void 0,F=>{if(!(F.element instanceof Kn))return!1;const ae=this._tree.getParentElement(F.element);return ae===null||ae.children[0]!==F.element?this._tree.reveal(F.element):this._tree.reveal(ae),!0});break;case zn.NextPage:this._tree.focusNextPage(void 0,F=>F.element instanceof Kn?(this._tree.reveal(F.element),!0):!1);break;case zn.PreviousPage:this._tree.focusPreviousPage(void 0,F=>{if(!(F.element instanceof Kn))return!1;const ae=this._tree.getParentElement(F.element);return ae===null||ae.children[0]!==F.element?this._tree.reveal(F.element):this._tree.reveal(ae),!0});break;case zn.NextSeparator:{let F=!1;const ae=this._tree.getFocus()[0];this._tree.focusNext(void 0,!0,void 0,Ie=>{if(F)return!0;if(Ie.element instanceof Mo)F=!0,this._separatorRenderer.isSeparatorVisible(Ie.element)?this._tree.reveal(Ie.element.children[0]):this._tree.reveal(Ie.element,0);else if(Ie.element instanceof Kn){if(Ie.element.separator)return this._itemRenderer.isItemWithSeparatorVisible(Ie.element)?this._tree.reveal(Ie.element):this._tree.reveal(Ie.element,0),!0;if(Ie.element===this._elementTree[0])return this._tree.reveal(Ie.element,0),!0}return!1});const ge=this._tree.getFocus()[0];ae===ge&&(this._tree.scrollTop=this._tree.scrollHeight,this._tree.setFocus([this._itemElements[this._itemElements.length-1]]));break}case zn.PreviousSeparator:{let F,ae=!!(!((v=this._tree.getFocus()[0])===null||v===void 0)&&v.separator);this._tree.focusPrevious(void 0,!0,void 0,ge=>{if(ge.element instanceof Mo)ae?F||(this._separatorRenderer.isSeparatorVisible(ge.element)?this._tree.reveal(ge.element):this._tree.reveal(ge.element,0),F=ge.element.children[0]):ae=!0;else if(ge.element instanceof Kn&&!F){if(ge.element.separator)this._itemRenderer.isItemWithSeparatorVisible(ge.element)?this._tree.reveal(ge.element):this._tree.reveal(ge.element,0),F=ge.element;else if(ge.element===this._elementTree[0])return this._tree.reveal(ge.element,0),!0}return!1}),F&&this._tree.setFocus([F]);break}}}clearFocus(){this._tree.setFocus([])}domFocus(){this._tree.domFocus()}layout(s){this._tree.getHTMLElement().style.maxHeight=s?`${Math.floor(s/44)*44+6}px`:"",this._tree.layout()}filter(s){if(!(this._sortByLabel||this._matchOnLabel||this._matchOnDescription||this._matchOnDetail))return this._tree.layout(),!1;const v=s;if(s=s.trim(),!s||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this._itemElements.forEach(ct=>{ct.labelHighlights=void 0,ct.descriptionHighlights=void 0,ct.detailHighlights=void 0,ct.hidden=!1;const Lt=ct.index&&this._inputElements[ct.index-1];ct.item&&(ct.separator=Lt&&Lt.type==="separator"&&!Lt.buttons?Lt:void 0)});else{let ct;this._elementTree.forEach(Lt=>{var Ut,li,wi,Ti;let en;this.matchOnLabelMode==="fuzzy"?en=this.matchOnLabel&&(Ut=(0,Ws.Gt)(s,(0,Ws.Ho)(Lt.saneLabel)))!==null&&Ut!==void 0?Ut:void 0:en=this.matchOnLabel&&(li=_d(v,(0,Ws.Ho)(Lt.saneLabel)))!==null&&li!==void 0?li:void 0;const En=this.matchOnDescription&&(wi=(0,Ws.Gt)(s,(0,Ws.Ho)(Lt.saneDescription||"")))!==null&&wi!==void 0?wi:void 0,Fn=this.matchOnDetail&&(Ti=(0,Ws.Gt)(s,(0,Ws.Ho)(Lt.saneDetail||"")))!==null&&Ti!==void 0?Ti:void 0;if(en||En||Fn?(Lt.labelHighlights=en,Lt.descriptionHighlights=En,Lt.detailHighlights=Fn,Lt.hidden=!1):(Lt.labelHighlights=void 0,Lt.descriptionHighlights=void 0,Lt.detailHighlights=void 0,Lt.hidden=Lt.item?!Lt.item.alwaysShow:!0),Lt.item?Lt.separator=void 0:Lt.separator&&(Lt.hidden=!0),!this.sortByLabel){const Tn=Lt.index&&this._inputElements[Lt.index-1];ct=Tn&&Tn.type==="separator"?Tn:ct,ct&&!Lt.hidden&&(Lt.separator=ct,ct=void 0)}})}const F=this._elementTree.filter(ct=>!ct.hidden);if(this.sortByLabel&&s){const ct=s.toLowerCase();F.sort((Lt,Ut)=>vd(Lt,Ut,ct))}let ae;const ge=F.reduce((ct,Lt,Ut)=>(Lt instanceof Kn?ae?ae.children.push(Lt):ct.push(Lt):Lt instanceof Mo&&(Lt.children=[],ae=Lt,ct.push(Lt)),ct),new Array),Ie=new Array;for(const ct of ge)ct instanceof Mo?Ie.push({element:ct,collapsible:!1,collapsed:!1,children:ct.children.map(Lt=>({element:Lt,collapsible:!1,collapsed:!1}))}):Ie.push({element:ct,collapsible:!1,collapsed:!1});const Fe=this._tree.getFocus().length;return this._tree.setChildren(null,Ie),Fe>0&&Ie.length===0&&this._onTriggerEmptySelectionOrFocus.fire({elements:[]}),this._tree.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(F.length),!0}toggleCheckbox(){try{this._shouldFireCheckedEvents=!1;const s=this._tree.getFocus().filter(F=>F instanceof Kn),v=this._allVisibleChecked(s);for(const F of s)F.checkboxDisabled||(F.checked=!v)}finally{this._shouldFireCheckedEvents=!0,this._fireCheckedEvents()}}display(s){this._container.style.display=s?"":"none"}isDisplayed(){return this._container.style.display!=="none"}style(s){this._tree.style(s)}toggleHover(){const s=this._tree.getFocus()[0];if(!(s!=null&&s.saneTooltip)||!(s instanceof Kn))return;if(this._lastHover&&!this._lastHover.isDisposed){this._lastHover.dispose();return}this.showHover(s);const v=new pe.SL;v.add(this._tree.onDidChangeFocus(F=>{F.elements[0]instanceof Kn&&this.showHover(F.elements[0])})),this._lastHover&&v.add(this._lastHover),this._elementDisposable.add(v)}_allVisibleChecked(s,v=!0){for(let F=0,ae=s.length;F<ae;F++){const ge=s[F];if(!ge.hidden)if(ge.checked)v=!0;else return!1}return v}_fireCheckedEvents(){this._shouldFireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(s){this._onButtonTriggered.fire(s)}fireSeparatorButtonTriggered(s){this._onSeparatorButtonTriggered.fire(s)}showHover(s){var v,F,ae;this._lastHover&&!this._lastHover.isDisposed&&((F=(v=this.hoverDelegate).onDidHideHover)===null||F===void 0||F.call(v),(ae=this._lastHover)===null||ae===void 0||ae.dispose()),!(!s.element||!s.saneTooltip)&&(this._lastHover=this.hoverDelegate.showHover({content:s.saneTooltip,target:s.element,linkHandler:ge=>{this.linkOpenerDelegate(ge)},appearance:{showPointer:!0},container:this._container,position:{hoverPosition:1}},!1))}};Qn([ze.H],Ar.prototype,"onDidChangeFocus",null),Qn([ze.H],Ar.prototype,"onDidChangeSelection",null),Ar=Qn([jn(4,hi.TG)],Ar);function _d(Pe,s){const{text:v,iconOffsets:F}=s;if(!F||F.length===0)return vl(Pe,v);const ae=(0,je.j3)(v," "),ge=v.length-ae.length,Ie=vl(Pe,ae);if(Ie)for(const Fe of Ie){const ct=F[Fe.start+ge]+ge;Fe.start+=ct,Fe.end+=ct}return Ie}function vl(Pe,s){const v=s.toLowerCase().indexOf(Pe.toLowerCase());return v!==-1?[{start:v,end:v+Pe.length}]:null}function vd(Pe,s,v){const F=Pe.labelHighlights||[],ae=s.labelHighlights||[];return F.length&&!ae.length?-1:!F.length&&ae.length?1:F.length===0&&ae.length===0?0:Dn(Pe.saneSortLabel,s.saneSortLabel,v)}var Cd=function(Pe,s,v,F){var ae=arguments.length,ge=ae<3?s:F===null?F=Object.getOwnPropertyDescriptor(s,v):F,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ge=Reflect.decorate(Pe,s,v,F);else for(var Fe=Pe.length-1;Fe>=0;Fe--)(Ie=Pe[Fe])&&(ge=(ae<3?Ie(ge):ae>3?Ie(s,v,ge):Ie(s,v))||ge);return ae>3&&ge&&Object.defineProperty(s,v,ge),ge},Cl=function(Pe,s){return function(v,F){s(v,F,Pe)}};const Ba={iconClass:wr.k.asClassName(go.l.quickInputBack),tooltip:(0,Hi.NC)("quickInput.back","Back"),handle:-1};class kr extends pe.JT{constructor(s){super(),this.ui=s,this._widgetUpdated=!1,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.buttonsUpdated=!1,this._toggles=[],this.togglesUpdated=!1,this.noValidationMessage=kr.noPromptMessage,this._severity=tn.Z.Ignore,this.onDidTriggerButtonEmitter=this._register(new At.Q5),this.onDidHideEmitter=this._register(new At.Q5),this.onWillHideEmitter=this._register(new At.Q5),this.onDisposeEmitter=this._register(new At.Q5),this.visibleDisposables=this._register(new pe.SL),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(s){this._title=s,this.update()}get description(){return this._description}set description(s){this._description=s,this.update()}get step(){return this._steps}set step(s){this._steps=s,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(s){this._totalSteps=s,this.update()}get enabled(){return this._enabled}set enabled(s){this._enabled=s,this.update()}get contextKey(){return this._contextKey}set contextKey(s){this._contextKey=s,this.update()}get busy(){return this._busy}set busy(s){this._busy=s,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(s){const v=this._ignoreFocusOut!==s&&!hn.gn;this._ignoreFocusOut=s&&!hn.gn,v&&this.update()}get buttons(){return this._buttons}set buttons(s){this._buttons=s,this.buttonsUpdated=!0,this.update()}get toggles(){return this._toggles}set toggles(s){this._toggles=s!=null?s:[],this.togglesUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(s){this._validationMessage=s,this.update()}get severity(){return this._severity}set severity(s){this._severity=s,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(s=>{this.buttons.indexOf(s)!==-1&&this.onDidTriggerButtonEmitter.fire(s)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.toggles.length&&(this.togglesUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(s=Rt.Jq.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:s})}willHide(s=Rt.Jq.Other){this.onWillHideEmitter.fire({reason:s})}update(){var s,v;if(!this.visible)return;const F=this.getTitle();F&&this.ui.title.textContent!==F?this.ui.title.textContent=F:!F&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");const ae=this.getDescription();if(this.ui.description1.textContent!==ae&&(this.ui.description1.textContent=ae),this.ui.description2.textContent!==ae&&(this.ui.description2.textContent=ae),this._widgetUpdated&&(this._widgetUpdated=!1,this._widget?Ve.mc(this.ui.widget,this._widget):Ve.mc(this.ui.widget)),this.busy&&!this.busyDelay&&(this.busyDelay=new Ms._F,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const Ie=this.buttons.filter(ct=>ct===Ba).map((ct,Lt)=>pi(ct,`id-${Lt}`,()=>Ft(this,null,function*(){return this.onDidTriggerButtonEmitter.fire(ct)})));this.ui.leftActionBar.push(Ie,{icon:!0,label:!1}),this.ui.rightActionBar.clear();const Fe=this.buttons.filter(ct=>ct!==Ba).map((ct,Lt)=>pi(ct,`id-${Lt}`,()=>Ft(this,null,function*(){return this.onDidTriggerButtonEmitter.fire(ct)})));this.ui.rightActionBar.push(Fe,{icon:!0,label:!1})}if(this.togglesUpdated){this.togglesUpdated=!1;const Ie=(v=(s=this.toggles)===null||s===void 0?void 0:s.filter(Fe=>Fe instanceof U.Z))!==null&&v!==void 0?v:[];this.ui.inputBox.toggles=Ie}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const ge=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==ge&&(this._lastValidationMessage=ge,Ve.mc(this.ui.message),Si(ge,this.ui.message,{callback:Ie=>{this.ui.linkOpenerDelegate(Ie)},disposables:this.visibleDisposables})),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,Hi.NC)("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(s){if(this.ui.inputBox.showDecoration(s),s!==tn.Z.Ignore){const v=this.ui.inputBox.stylesForType(s);this.ui.message.style.color=v.foreground?`${v.foreground}`:"",this.ui.message.style.backgroundColor=v.background?`${v.background}`:"",this.ui.message.style.border=v.border?`1px solid ${v.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}kr.noPromptMessage=(0,Hi.NC)("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");class Fr extends kr{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new At.Q5),this.onWillAcceptEmitter=this._register(new At.Q5),this.onDidAcceptEmitter=this._register(new At.Q5),this.onDidCustomEmitter=this._register(new At.Q5),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._keepScrollPosition=!1,this._itemActivation=Rt.jG.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new At.Q5),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new At.Q5),this.onDidTriggerItemButtonEmitter=this._register(new At.Q5),this.onDidTriggerSeparatorButtonEmitter=this._register(new At.Q5),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=s=>s,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event,this.onDidTriggerSeparatorButton=this.onDidTriggerSeparatorButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(s){this._quickNavigate=s,this.update()}get value(){return this._value}set value(s){this.doSetValue(s)}doSetValue(s,v){this._value!==s&&(this._value=s,v||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(s){this._ariaLabel=s,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(s){this._placeholder=s,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(s){this.ui.list.scrollTop=s}set items(s){this._items=s,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(s){this._canSelectMany=s,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(s){this._canAcceptInBackground=s}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(s){this._matchOnDescription=s,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(s){this._matchOnDetail=s,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(s){this._matchOnLabel=s,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(s){this._matchOnLabelMode=s,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(s){this._sortByLabel=s,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(s){this._keepScrollPosition=s}get itemActivation(){return this._itemActivation}set itemActivation(s){this._itemActivation=s}get activeItems(){return this._activeItems}set activeItems(s){this._activeItems=s,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(s){this._selectedItems=s,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?Rt.X5:this.ui.keyMods}get valueSelection(){const s=this.ui.inputBox.getSelection();if(s)return[s.start,s.end]}set valueSelection(s){this._valueSelection=s,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(s){this._customButton=s,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(s){this._customButtonLabel=s,this.update()}get customHover(){return this._customButtonHover}set customHover(s){this._customButtonHover=s,this.update()}get ok(){return this._ok}set ok(s){this._ok=s,this.update()}get hideInput(){return!!this._hideInput}set hideInput(s){this._hideInput=s,this.update()}trySelectFirst(){this.canSelectMany||this.ui.list.focus(zn.First)}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(s=>{this.doSetValue(s,!0)})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(s=>{switch(s.keyCode){case 18:this.quickNavigate===void 0&&(hn.dz?s.metaKey:s.altKey)?this.ui.list.focus(zn.NextSeparator):this.ui.list.focus(zn.Next),this.canSelectMany&&this.ui.list.domFocus(),Ve.zB.stop(s,!0);break;case 16:this.quickNavigate===void 0&&(hn.dz?s.metaKey:s.altKey)?this.ui.list.focus(zn.PreviousSeparator):this.ui.list.focus(zn.Previous),this.canSelectMany&&this.ui.list.domFocus(),Ve.zB.stop(s,!0);break;case 12:this.ui.list.focus(zn.NextPage),this.canSelectMany&&this.ui.list.domFocus(),Ve.zB.stop(s,!0);break;case 11:this.ui.list.focus(zn.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),Ve.zB.stop(s,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(s.ctrlKey||s.metaKey)&&!s.shiftKey&&!s.altKey&&(this.ui.list.focus(zn.First),Ve.zB.stop(s,!0));break;case 13:(s.ctrlKey||s.metaKey)&&!s.shiftKey&&!s.altKey&&(this.ui.list.focus(zn.Last),Ve.zB.stop(s,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(s=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,di.fS)(s,this._activeItems,(v,F)=>v===F)||(this._activeItems=s,this.onDidChangeActiveEmitter.fire(s))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:s,event:v})=>{if(this.canSelectMany){s.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&(0,di.fS)(s,this._selectedItems,(F,ae)=>F===ae)||(this._selectedItems=s,this.onDidChangeSelectionEmitter.fire(s),s.length&&this.handleAccept(Ve.N5(v)&&v.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(s=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&(0,di.fS)(s,this._selectedItems,(v,F)=>v===F)||(this._selectedItems=s,this.onDidChangeSelectionEmitter.fire(s)))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(s=>this.onDidTriggerItemButtonEmitter.fire(s))),this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered(s=>this.onDidTriggerSeparatorButtonEmitter.fire(s))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(s){let v=!1;this.onWillAcceptEmitter.fire({veto:()=>v=!0}),v||this.onDidAcceptEmitter.fire({inBackground:s})}registerQuickNavigation(){return Ve.nm(this.ui.container,Ve.tw.KEY_UP,s=>{if(this.canSelectMany||!this._quickNavigate)return;const v=new ns.y(s),F=v.keyCode;this._quickNavigate.keybindings.some(Ie=>{const Fe=Ie.getChords();return Fe.length>1?!1:Fe[0].shiftKey&&F===4?!(v.ctrlKey||v.altKey||v.metaKey):!!(Fe[0].altKey&&F===6||Fe[0].ctrlKey&&F===5||Fe[0].metaKey&&F===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const s=this.keepScrollPosition?this.scrollTop:0,v=!!this.description,F={title:!!this.title||!!this.step||!!this.buttons.length,description:v,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!this._hideInput,progressBar:!this._hideInput||v,visibleCount:!0,count:this.canSelectMany&&!this._hideCountBadge,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(F),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let ae=this.ariaLabel;if(!ae&&F.inputBox&&(ae=this.placeholder||Fr.DEFAULT_ARIA_LABEL,this.title&&(ae+=` - ${this.title}`)),this.ui.list.ariaLabel!==ae&&(this.ui.list.ariaLabel=ae!=null?ae:null),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated){this.itemsUpdated=!1;const ge=this._activeItems;switch(this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case Rt.jG.NONE:ge.length>0&&(this._activeItems=[],this.onDidChangeActiveEmitter.fire(this._activeItems)),this._itemActivation=Rt.jG.FIRST;break;case Rt.jG.SECOND:this.ui.list.focus(zn.Second),this._itemActivation=Rt.jG.FIRST;break;case Rt.jG.LAST:this.ui.list.focus(zn.Last),this._itemActivation=Rt.jG.FIRST;break;default:this.trySelectFirst();break}}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",F.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(zn.First)),this.keepScrollPosition&&(this.scrollTop=s)}}Fr.DEFAULT_ARIA_LABEL=(0,Hi.NC)("quickInputBox.ariaLabel","Type to narrow down results.");class bd extends kr{constructor(){super(...arguments),this._value="",this.valueSelectionUpdated=!0,this._password=!1,this.onDidValueChangeEmitter=this._register(new At.Q5),this.onDidAcceptEmitter=this._register(new At.Q5),this.onDidChangeValue=this.onDidValueChangeEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event}get value(){return this._value}set value(s){this._value=s||"",this.update()}get placeholder(){return this._placeholder}set placeholder(s){this._placeholder=s,this.update()}get password(){return this._password}set password(s){this._password=s,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(s=>{s!==this.value&&(this._value=s,this.onDidValueChangeEmitter.fire(s))})),this.visibleDisposables.add(this.ui.onDidAccept(()=>this.onDidAcceptEmitter.fire())),this.valueSelectionUpdated=!0),super.show()}update(){if(!this.visible)return;this.ui.container.classList.remove("hidden-input");const s={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description||!!this.step,inputBox:!0,message:!0,progressBar:!0};this.ui.setVisibilities(s),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),this.ui.inputBox.password!==this.password&&(this.ui.inputBox.password=this.password)}}let Wa=class extends Xt.mQ{constructor(s,v){super("element",!1,F=>this.getOverrideOptions(F),s,v)}getOverrideOptions(s){var v;const F=(s.content instanceof HTMLElement?(v=s.content.textContent)!==null&&v!==void 0?v:"":typeof s.content=="string"?s.content:s.content.value).includes(`
`);return{persistence:{hideOnKeyDown:!1},appearance:{showHoverHint:F,skipFadeInAnimation:!0}}}};Wa=Cd([Cl(0,dt.Ui),Cl(1,Xt.Bs)],Wa);var Ha=e(89527),bl=e(40667);const Sl="done",yl="active",Va="infinite",za="infinite-long-running",wl="discrete";class ra extends pe.JT{constructor(s,v){super(),this.progressSignal=this._register(new pe.XK),this.workedVal=0,this.showDelayedScheduler=this._register(new Ms.pY(()=>(0,Ve.$Z)(this.element),0)),this.longRunningScheduler=this._register(new Ms.pY(()=>this.infiniteLongRunning(),ra.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(s,v)}create(s,v){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),s.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.bit.style.backgroundColor=(v==null?void 0:v.progressBarBackground)||"#0E70C0",this.element.appendChild(this.bit)}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(yl,Va,za,wl),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel(),this.progressSignal.clear()}stop(){return this.doDone(!1)}doDone(s){return this.element.classList.add(Sl),this.element.classList.contains(Va)?(this.bit.style.opacity="0",s?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",s?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(wl,Sl,za),this.element.classList.add(yl,Va),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(za)}getContainer(){return this.element}}ra.LONG_RUNNING_INFINITE_THRESHOLD=1e4;var Sd=e(55748);const yd=Ve.$;class wd extends pe.JT{constructor(s,v,F){super(),this.parent=s,this.onKeyDown=ge=>Ve.mu(this.findInput.inputBox.inputElement,Ve.tw.KEY_DOWN,ge),this.onDidChange=ge=>this.findInput.onDidChange(ge),this.container=Ve.R3(this.parent,yd(".quick-input-box")),this.findInput=this._register(new Sd.V(this.container,void 0,{label:"",inputBoxStyles:v,toggleStyles:F}));const ae=this.findInput.inputBox.inputElement;ae.role="combobox",ae.ariaHasPopup="menu",ae.ariaAutoComplete="list",ae.ariaExpanded="true"}get value(){return this.findInput.getValue()}set value(s){this.findInput.setValue(s)}select(s=null){this.findInput.inputBox.select(s)}getSelection(){return this.findInput.inputBox.getSelection()}isSelectionAtEnd(){return this.findInput.inputBox.isSelectionAtEnd()}get placeholder(){return this.findInput.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(s){this.findInput.inputBox.setPlaceHolder(s)}get password(){return this.findInput.inputBox.inputElement.type==="password"}set password(s){this.findInput.inputBox.inputElement.type=s?"password":"text"}set enabled(s){this.findInput.inputBox.inputElement.toggleAttribute("readonly",!s)}set toggles(s){this.findInput.setAdditionalToggles(s)}setAttribute(s,v){this.findInput.inputBox.inputElement.setAttribute(s,v)}showDecoration(s){s===tn.Z.Ignore?this.findInput.clearMessage():this.findInput.showMessage({type:s===tn.Z.Info?1:s===tn.Z.Warning?2:3,content:""})}stylesForType(s){return this.findInput.inputBox.stylesForType(s===tn.Z.Info?1:s===tn.Z.Warning?2:3)}setFocus(){this.findInput.focus()}layout(){this.findInput.inputBox.layout()}}var Ld=function(Pe,s,v,F){var ae=arguments.length,ge=ae<3?s:F===null?F=Object.getOwnPropertyDescriptor(s,v):F,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ge=Reflect.decorate(Pe,s,v,F);else for(var Fe=Pe.length-1;Fe>=0;Fe--)(Ie=Pe[Fe])&&(ge=(ae<3?Ie(ge):ae>3?Ie(s,v,ge):Ie(s,v))||ge);return ae>3&&ge&&Object.defineProperty(s,v,ge),ge},Ll=function(Pe,s){return function(v,F){s(v,F,Pe)}},Ua;const Bs=Ve.$;let aa=Ua=class extends pe.JT{get container(){return this._container}constructor(s,v,F){super(),this.options=s,this.layoutService=v,this.instantiationService=F,this.enabled=!0,this.onDidAcceptEmitter=this._register(new At.Q5),this.onDidCustomEmitter=this._register(new At.Q5),this.onDidTriggerButtonEmitter=this._register(new At.Q5),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new At.Q5),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new At.Q5),this.onHide=this.onHideEmitter.event,this.idPrefix=s.idPrefix,this._container=s.container,this.styles=s.styles,this._register(At.ju.runAndSubscribe(Ve.Xo,({window:ae,disposables:ge})=>this.registerKeyModsListeners(ae,ge),{window:Ae.E,disposables:this._store})),this._register(Ve.Jc(ae=>{this.ui&&Ve.Jj(this.ui.container)===ae&&(this.reparentUI(this.layoutService.mainContainer),this.layout(this.layoutService.mainContainerDimension,this.layoutService.mainContainerOffset.quickPickTop))}))}registerKeyModsListeners(s,v){const F=ae=>{this.keyMods.ctrlCmd=ae.ctrlKey||ae.metaKey,this.keyMods.alt=ae.altKey};for(const ae of[Ve.tw.KEY_DOWN,Ve.tw.KEY_UP,Ve.tw.MOUSE_DOWN])v.add(Ve.nm(s,ae,F,!0))}getUI(s){if(this.ui)return s&&Ve.Jj(this._container)!==Ve.Jj(this.layoutService.activeContainer)&&(this.reparentUI(this.layoutService.activeContainer),this.layout(this.layoutService.activeContainerDimension,this.layoutService.activeContainerOffset.quickPickTop)),this.ui;const v=Ve.R3(this._container,Bs(".quick-input-widget.show-file-icons"));v.tabIndex=-1,v.style.display="none";const F=Ve.dS(v),ae=Ve.R3(v,Bs(".quick-input-titlebar")),ge=this._register(new tr.o(ae,{hoverDelegate:this.options.hoverDelegate}));ge.domNode.classList.add("quick-input-left-action-bar");const Ie=Ve.R3(ae,Bs(".quick-input-title")),Fe=this._register(new tr.o(ae,{hoverDelegate:this.options.hoverDelegate}));Fe.domNode.classList.add("quick-input-right-action-bar");const ct=Ve.R3(v,Bs(".quick-input-header")),Lt=Ve.R3(ct,Bs("input.quick-input-check-all"));Lt.type="checkbox",Lt.setAttribute("aria-label",(0,Hi.NC)("quickInput.checkAll","Toggle all checkboxes")),this._register(Ve.mu(Lt,Ve.tw.CHANGE,Hn=>{const Oo=Lt.checked;ys.setAllVisibleChecked(Oo)})),this._register(Ve.nm(Lt,Ve.tw.CLICK,Hn=>{(Hn.x||Hn.y)&&Ti.setFocus()}));const Ut=Ve.R3(ct,Bs(".quick-input-description")),li=Ve.R3(ct,Bs(".quick-input-and-message")),wi=Ve.R3(li,Bs(".quick-input-filter")),Ti=this._register(new wd(wi,this.styles.inputBox,this.styles.toggle));Ti.setAttribute("aria-describedby",`${this.idPrefix}message`);const en=Ve.R3(wi,Bs(".quick-input-visible-count"));en.setAttribute("aria-live","polite"),en.setAttribute("aria-atomic","true");const En=new bl.Z(en,{countFormat:(0,Hi.NC)({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")},this.styles.countBadge),Fn=Ve.R3(wi,Bs(".quick-input-count"));Fn.setAttribute("aria-live","polite");const Tn=new bl.Z(Fn,{countFormat:(0,Hi.NC)({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")},this.styles.countBadge),Un=Ve.R3(ct,Bs(".quick-input-action")),Wn=this._register(new Ha.z(Un,this.styles.button));Wn.label=(0,Hi.NC)("ok","OK"),this._register(Wn.onDidClick(Hn=>{this.onDidAcceptEmitter.fire()}));const vn=Ve.R3(ct,Bs(".quick-input-action")),$n=this._register(new Ha.z(vn,Ki(vi({},this.styles.button),{supportIcons:!0})));$n.label=(0,Hi.NC)("custom","Custom"),this._register($n.onDidClick(Hn=>{this.onDidCustomEmitter.fire()}));const ms=Ve.R3(li,Bs(`#${this.idPrefix}message.quick-input-message`)),ss=this._register(new ra(v,this.styles.progressBar));ss.getContainer().classList.add("quick-input-progress");const Ro=Ve.R3(v,Bs(".quick-input-html-widget"));Ro.tabIndex=-1;const Yn=Ve.R3(v,Bs(".quick-input-description")),Ss=this.idPrefix+"list",ys=this._register(this.instantiationService.createInstance(Ar,v,this.options.hoverDelegate,this.options.linkOpenerDelegate,Ss));Ti.setAttribute("aria-controls",Ss),this._register(ys.onDidChangeFocus(()=>{var Hn;Ti.setAttribute("aria-activedescendant",(Hn=ys.getActiveDescendant())!==null&&Hn!==void 0?Hn:"")})),this._register(ys.onChangedAllVisibleChecked(Hn=>{Lt.checked=Hn})),this._register(ys.onChangedVisibleCount(Hn=>{En.setCount(Hn)})),this._register(ys.onChangedCheckedCount(Hn=>{Tn.setCount(Hn)})),this._register(ys.onLeave(()=>{setTimeout(()=>{this.controller&&(Ti.setFocus(),this.controller instanceof Fr&&this.controller.canSelectMany&&ys.clearFocus())},0)}));const va=Ve.go(v);return this._register(va),this._register(Ve.nm(v,Ve.tw.FOCUS,Hn=>{Ve.jg(Hn.relatedTarget,v)||(this.previousFocusElement=Hn.relatedTarget instanceof HTMLElement?Hn.relatedTarget:void 0)},!0)),this._register(va.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(Rt.Jq.Blur),this.previousFocusElement=void 0})),this._register(Ve.nm(v,Ve.tw.FOCUS,Hn=>{Ti.setFocus()})),this._register(Ve.mu(v,Ve.tw.KEY_DOWN,Hn=>{if(!Ve.jg(Hn.target,Ro))switch(Hn.keyCode){case 3:Ve.zB.stop(Hn,!0),this.enabled&&this.onDidAcceptEmitter.fire();break;case 9:Ve.zB.stop(Hn,!0),this.hide(Rt.Jq.Gesture);break;case 2:if(!Hn.altKey&&!Hn.ctrlKey&&!Hn.metaKey){const Oo=[".quick-input-list .monaco-action-bar .always-visible",".quick-input-list-entry:hover .monaco-action-bar",".monaco-list-row.focused .monaco-action-bar"];if(v.classList.contains("show-checkboxes")?Oo.push("input"):Oo.push("input[type=text]"),this.getUI().list.isDisplayed()&&Oo.push(".monaco-list"),this.getUI().message&&Oo.push(".quick-input-message a"),this.getUI().widget){if(Ve.jg(Hn.target,this.getUI().widget))break;Oo.push(".quick-input-html-widget")}const Ca=v.querySelectorAll(Oo.join(", "));Hn.shiftKey&&Hn.target===Ca[0]?(Ve.zB.stop(Hn,!0),ys.clearFocus()):!Hn.shiftKey&&Ve.jg(Hn.target,Ca[Ca.length-1])&&(Ve.zB.stop(Hn,!0),Ca[0].focus())}break;case 10:Hn.ctrlKey&&(Ve.zB.stop(Hn,!0),this.getUI().list.toggleHover());break}})),this.ui={container:v,styleSheet:F,leftActionBar:ge,titleBar:ae,title:Ie,description1:Yn,description2:Ut,widget:Ro,rightActionBar:Fe,checkAll:Lt,inputContainer:li,filterContainer:wi,inputBox:Ti,visibleCountContainer:en,visibleCount:En,countContainer:Fn,count:Tn,okContainer:Un,ok:Wn,message:ms,customButtonContainer:vn,customButton:$n,list:ys,progressBar:ss,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,show:Hn=>this.show(Hn),hide:()=>this.hide(),setVisibilities:Hn=>this.setVisibilities(Hn),setEnabled:Hn=>this.setEnabled(Hn),setContextKey:Hn=>this.options.setContextKey(Hn),linkOpenerDelegate:Hn=>this.options.linkOpenerDelegate(Hn)},this.updateStyles(),this.ui}reparentUI(s){this.ui&&(this._container=s,Ve.R3(this._container,this.ui.container))}pick(s,v={},F=zs.Ts.None){return new Promise((ae,ge)=>{let Ie=Ut=>{var li;Ie=ae,(li=v.onKeyMods)===null||li===void 0||li.call(v,Fe.keyMods),ae(Ut)};if(F.isCancellationRequested){Ie(void 0);return}const Fe=this.createQuickPick();let ct;const Lt=[Fe,Fe.onDidAccept(()=>{if(Fe.canSelectMany)Ie(Fe.selectedItems.slice()),Fe.hide();else{const Ut=Fe.activeItems[0];Ut&&(Ie(Ut),Fe.hide())}}),Fe.onDidChangeActive(Ut=>{const li=Ut[0];li&&v.onDidFocus&&v.onDidFocus(li)}),Fe.onDidChangeSelection(Ut=>{if(!Fe.canSelectMany){const li=Ut[0];li&&(Ie(li),Fe.hide())}}),Fe.onDidTriggerItemButton(Ut=>v.onDidTriggerItemButton&&v.onDidTriggerItemButton(Ki(vi({},Ut),{removeItem:()=>{const li=Fe.items.indexOf(Ut.item);if(li!==-1){const wi=Fe.items.slice(),Ti=wi.splice(li,1),en=Fe.activeItems.filter(Fn=>Fn!==Ti[0]),En=Fe.keepScrollPosition;Fe.keepScrollPosition=!0,Fe.items=wi,en&&(Fe.activeItems=en),Fe.keepScrollPosition=En}}}))),Fe.onDidTriggerSeparatorButton(Ut=>{var li;return(li=v.onDidTriggerSeparatorButton)===null||li===void 0?void 0:li.call(v,Ut)}),Fe.onDidChangeValue(Ut=>{ct&&!Ut&&(Fe.activeItems.length!==1||Fe.activeItems[0]!==ct)&&(Fe.activeItems=[ct])}),F.onCancellationRequested(()=>{Fe.hide()}),Fe.onDidHide(()=>{(0,pe.B9)(Lt),Ie(void 0)})];Fe.title=v.title,Fe.canSelectMany=!!v.canPickMany,Fe.placeholder=v.placeHolder,Fe.ignoreFocusOut=!!v.ignoreFocusLost,Fe.matchOnDescription=!!v.matchOnDescription,Fe.matchOnDetail=!!v.matchOnDetail,Fe.matchOnLabel=v.matchOnLabel===void 0||v.matchOnLabel,Fe.quickNavigate=v.quickNavigate,Fe.hideInput=!!v.hideInput,Fe.contextKey=v.contextKey,Fe.busy=!0,Promise.all([s,v.activeItem]).then(([Ut,li])=>{ct=li,Fe.busy=!1,Fe.items=Ut,Fe.canSelectMany&&(Fe.selectedItems=Ut.filter(wi=>wi.type!=="separator"&&wi.picked)),ct&&(Fe.activeItems=[ct])}),Fe.show(),Promise.resolve(s).then(void 0,Ut=>{ge(Ut),Fe.hide()})})}createQuickPick(){const s=this.getUI(!0);return new Fr(s)}createInputBox(){const s=this.getUI(!0);return new bd(s)}show(s){const v=this.getUI(!0);this.onShowEmitter.fire();const F=this.controller;this.controller=s,F==null||F.didHide(),this.setEnabled(!0),v.leftActionBar.clear(),v.title.textContent="",v.description1.textContent="",v.description2.textContent="",Ve.mc(v.widget),v.rightActionBar.clear(),v.checkAll.checked=!1,v.inputBox.placeholder="",v.inputBox.password=!1,v.inputBox.showDecoration(tn.Z.Ignore),v.visibleCount.setCount(0),v.count.setCount(0),Ve.mc(v.message),v.progressBar.stop(),v.list.setElements([]),v.list.matchOnDescription=!1,v.list.matchOnDetail=!1,v.list.matchOnLabel=!0,v.list.sortByLabel=!0,v.ignoreFocusOut=!1,v.inputBox.toggles=void 0;const ae=this.options.backKeybindingLabel();Ba.tooltip=ae?(0,Hi.NC)("quickInput.backWithKeybinding","Back ({0})",ae):(0,Hi.NC)("quickInput.back","Back"),v.container.style.display="",this.updateLayout(),v.inputBox.setFocus()}isVisible(){return!!this.ui&&this.ui.container.style.display!=="none"}setVisibilities(s){const v=this.getUI();v.title.style.display=s.title?"":"none",v.description1.style.display=s.description&&(s.inputBox||s.checkAll)?"":"none",v.description2.style.display=s.description&&!(s.inputBox||s.checkAll)?"":"none",v.checkAll.style.display=s.checkAll?"":"none",v.inputContainer.style.display=s.inputBox?"":"none",v.filterContainer.style.display=s.inputBox?"":"none",v.visibleCountContainer.style.display=s.visibleCount?"":"none",v.countContainer.style.display=s.count?"":"none",v.okContainer.style.display=s.ok?"":"none",v.customButtonContainer.style.display=s.customButton?"":"none",v.message.style.display=s.message?"":"none",v.progressBar.getContainer().style.display=s.progressBar?"":"none",v.list.display(!!s.list),v.container.classList.toggle("show-checkboxes",!!s.checkBox),v.container.classList.toggle("hidden-input",!s.inputBox&&!s.description),this.updateLayout()}setEnabled(s){if(s!==this.enabled){this.enabled=s;for(const v of this.getUI().leftActionBar.viewItems)v.action.enabled=s;for(const v of this.getUI().rightActionBar.viewItems)v.action.enabled=s;this.getUI().checkAll.disabled=!s,this.getUI().inputBox.enabled=s,this.getUI().ok.enabled=s,this.getUI().list.enabled=s}}hide(s){var v,F;const ae=this.controller;if(!ae)return;ae.willHide(s);const ge=(v=this.ui)===null||v===void 0?void 0:v.container,Ie=ge&&!Ve.b5(ge);if(this.controller=null,this.onHideEmitter.fire(),ge&&(ge.style.display="none"),!Ie){let Fe=this.previousFocusElement;for(;Fe&&!Fe.offsetParent;)Fe=(F=Fe.parentElement)!==null&&F!==void 0?F:void 0;Fe!=null&&Fe.offsetParent?(Fe.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}ae.didHide(s)}layout(s,v){this.dimension=s,this.titleBarOffset=v,this.updateLayout()}updateLayout(){if(this.ui&&this.isVisible()){this.ui.container.style.top=`${this.titleBarOffset}px`;const s=this.ui.container.style,v=Math.min(this.dimension.width*.62,Ua.MAX_WIDTH);s.width=v+"px",s.marginLeft="-"+v/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(s){this.styles=s,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:s,quickInputBackground:v,quickInputForeground:F,widgetBorder:ae,widgetShadow:ge}=this.styles.widget;this.ui.titleBar.style.backgroundColor=s!=null?s:"",this.ui.container.style.backgroundColor=v!=null?v:"",this.ui.container.style.color=F!=null?F:"",this.ui.container.style.border=ae?`1px solid ${ae}`:"",this.ui.container.style.boxShadow=ge?`0 0 8px 2px ${ge}`:"",this.ui.list.style(this.styles.list);const Ie=[];this.styles.pickerGroup.pickerGroupBorder&&Ie.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.pickerGroup.pickerGroupBorder}; }`),this.styles.pickerGroup.pickerGroupForeground&&Ie.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`),this.styles.pickerGroup.pickerGroupForeground&&Ie.push(".quick-input-list .quick-input-list-separator-as-item { color: var(--vscode-descriptionForeground); }"),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(Ie.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&Ie.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&Ie.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&Ie.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&Ie.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&Ie.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),Ie.push("}"));const Fe=Ie.join(`
`);Fe!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=Fe)}}};aa.MAX_WIDTH=600,aa=Ua=Ld([Ll(1,Ni),Ll(2,hi.TG)],aa);var Dd=function(Pe,s,v,F){var ae=arguments.length,ge=ae<3?s:F===null?F=Object.getOwnPropertyDescriptor(s,v):F,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ge=Reflect.decorate(Pe,s,v,F);else for(var Fe=Pe.length-1;Fe>=0;Fe--)(Ie=Pe[Fe])&&(ge=(ae<3?Ie(ge):ae>3?Ie(s,v,ge):Ie(s,v))||ge);return ae>3&&ge&&Object.defineProperty(s,v,ge),ge},Br=function(Pe,s){return function(v,F){s(v,F,Pe)}};let Ka=class extends mi.bB{get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get hasController(){return!!this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(L))),this._quickAccess}constructor(s,v,F,ae,ge){super(F),this.instantiationService=s,this.contextKeyService=v,this.layoutService=ae,this.configurationService=ge,this._onShow=this._register(new At.Q5),this._onHide=this._register(new At.Q5),this.contexts=new Map}createController(s=this.layoutService,v){const F={idPrefix:"quickInput_",container:s.activeContainer,ignoreFocusOut:()=>!1,backKeybindingLabel:()=>{},setContextKey:ge=>this.setContextKey(ge),linkOpenerDelegate:ge=>{this.instantiationService.invokeFunction(Ie=>{Ie.get(Fi.v).open(ge,{allowCommands:!0,fromUserGesture:!0})})},returnFocus:()=>s.focus(),styles:this.computeStyles(),hoverDelegate:this._register(this.instantiationService.createInstance(Wa))},ae=this._register(this.instantiationService.createInstance(aa,vi(vi({},F),v)));return ae.layout(s.activeContainerDimension,s.activeContainerOffset.quickPickTop),this._register(s.onDidLayoutActiveContainer(ge=>{(0,Ve.Jj)(s.activeContainer)===(0,Ve.Jj)(ae.container)&&ae.layout(ge,s.activeContainerOffset.quickPickTop)})),this._register(s.onDidChangeActiveContainer(()=>{ae.isVisible()||ae.layout(s.activeContainerDimension,s.activeContainerOffset.quickPickTop)})),this._register(ae.onShow(()=>{this.resetContextKeys(),this._onShow.fire()})),this._register(ae.onHide(()=>{this.resetContextKeys(),this._onHide.fire()})),ae}setContextKey(s){let v;s&&(v=this.contexts.get(s),v||(v=new Wi.uy(s,!1).bindTo(this.contextKeyService),this.contexts.set(s,v))),!(v&&v.get())&&(this.resetContextKeys(),v==null||v.set(!0))}resetContextKeys(){this.contexts.forEach(s=>{s.get()&&s.reset()})}pick(s,v={},F=zs.Ts.None){return this.controller.pick(s,v,F)}createQuickPick(){return this.controller.createQuickPick()}createInputBox(){return this.controller.createInputBox()}updateStyles(){this.hasController&&this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:{quickInputBackground:(0,si.n_1)(si.zKr),quickInputForeground:(0,si.n_1)(si.tZ6),quickInputTitleBackground:(0,si.n_1)(si.loF),widgetBorder:(0,si.n_1)(si.A42),widgetShadow:(0,si.n_1)(si.rh)},inputBox:ao.Hc,toggle:ao.pl,countBadge:ao.ku,button:ao.wG,progressBar:ao.b5,keybindingLabel:ao.eO,list:(0,ao.TU)({listBackground:si.zKr,listFocusBackground:si.Vqd,listFocusForeground:si.NPS,listInactiveFocusForeground:si.NPS,listInactiveSelectionIconForeground:si.cbQ,listInactiveFocusBackground:si.Vqd,listFocusOutline:si.xL1,listInactiveFocusOutline:si.xL1}),pickerGroup:{pickerGroupBorder:(0,si.n_1)(si.opG),pickerGroupForeground:(0,si.n_1)(si.kJk)}}}};Ka=Dd([Br(0,hi.TG),Br(1,Wi.i6),Br(2,mi.XE),Br(3,Ni),Br(4,dt.Ui)],Ka);var Ed=e(77303),Dl=function(Pe,s,v,F){var ae=arguments.length,ge=ae<3?s:F===null?F=Object.getOwnPropertyDescriptor(s,v):F,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ge=Reflect.decorate(Pe,s,v,F);else for(var Fe=Pe.length-1;Fe>=0;Fe--)(Ie=Pe[Fe])&&(ge=(ae<3?Ie(ge):ae>3?Ie(s,v,ge):Ie(s,v))||ge);return ae>3&&ge&&Object.defineProperty(s,v,ge),ge},Ko=function(Pe,s){return function(v,F){s(v,F,Pe)}};let ja=class extends Ka{constructor(s,v,F,ae,ge,Ie){super(v,F,ae,new ji(s.getContainerDomNode(),ge),Ie),this.host=void 0;const Fe=lr.get(s);if(Fe){const ct=Fe.widget;this.host={_serviceBrand:void 0,get mainContainer(){return ct.getDomNode()},getContainer(){return ct.getDomNode()},whenContainerStylesLoaded(){},get containers(){return[ct.getDomNode()]},get activeContainer(){return ct.getDomNode()},get mainContainerDimension(){return s.getLayoutInfo()},get activeContainerDimension(){return s.getLayoutInfo()},get onDidLayoutMainContainer(){return s.onDidLayoutChange},get onDidLayoutActiveContainer(){return s.onDidLayoutChange},get onDidLayoutContainer(){return At.ju.map(s.onDidLayoutChange,Lt=>({container:ct.getDomNode(),dimension:Lt}))},get onDidChangeActiveContainer(){return At.ju.None},get onDidAddContainer(){return At.ju.None},get mainContainerOffset(){return{top:0,quickPickTop:0}},get activeContainerOffset(){return{top:0,quickPickTop:0}},focus:()=>s.focus()}}else this.host=void 0}createController(){return super.createController(this.host)}};ja=Dl([Ko(1,hi.TG),Ko(2,Wi.i6),Ko(3,mi.XE),Ko(4,oi.$),Ko(5,dt.Ui)],ja);let $a=class{get activeService(){const s=this.codeEditorService.getFocusedCodeEditor();if(!s)throw new Error("Quick input service needs a focused editor to work.");let v=this.mapEditorToService.get(s);if(!v){const F=v=this.instantiationService.createInstance(ja,s);this.mapEditorToService.set(s,v),(0,Ed.M)(s.onDidDispose)(()=>{F.dispose(),this.mapEditorToService.delete(s)})}return v}get quickAccess(){return this.activeService.quickAccess}constructor(s,v){this.instantiationService=s,this.codeEditorService=v,this.mapEditorToService=new Map}pick(s,v={},F=zs.Ts.None){return this.activeService.pick(s,v,F)}createQuickPick(){return this.activeService.createQuickPick()}createInputBox(){return this.activeService.createInputBox()}};$a=Dl([Ko(0,hi.TG),Ko(1,oi.$)],$a);class lr{static get(s){return s.getContribution(lr.ID)}constructor(s){this.editor=s,this.widget=new la(this.editor)}dispose(){this.widget.dispose()}}lr.ID="editor.controller.quickInput";class la{constructor(s){this.codeEditor=s,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return la.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}la.ID="editor.contrib.quickInputWidget",(0,jt._K)(lr.ID,lr,4);var xd=e(11093),Ys=e(64657),Id=function(Pe,s,v,F){var ae=arguments.length,ge=ae<3?s:F===null?F=Object.getOwnPropertyDescriptor(s,v):F,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ge=Reflect.decorate(Pe,s,v,F);else for(var Fe=Pe.length-1;Fe>=0;Fe--)(Ie=Pe[Fe])&&(ge=(ae<3?Ie(ge):ae>3?Ie(s,v,ge):Ie(s,v))||ge);return ae>3&&ge&&Object.defineProperty(s,v,ge),ge},Ga=function(Pe,s){return function(v,F){s(v,F,Pe)}};let Za=class extends pe.JT{constructor(s,v,F){super(),this._contextKeyService=s,this._layoutService=v,this._configurationService=F,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new At.Q5,this._onDidChangeReducedMotion=new At.Q5,this._accessibilityModeEnabledContext=Pn.U.bindTo(this._contextKeyService);const ae=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(Ie=>{Ie.affectsConfiguration("editor.accessibilitySupport")&&(ae(),this._onDidChangeScreenReaderOptimized.fire()),Ie.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())})),ae(),this._register(this.onDidChangeScreenReaderOptimized(()=>ae()));const ge=Ae.E.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=ge.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(ge)}initReducedMotionListeners(s){this._register((0,Ve.nm)(s,"change",()=>{this._systemMotionReduced=s.matches,this._configMotionReduced==="auto"&&this._onDidChangeReducedMotion.fire()}));const v=()=>{const F=this.isMotionReduced();this._layoutService.mainContainer.classList.toggle("reduce-motion",F),this._layoutService.mainContainer.classList.toggle("enable-motion",!F)};v(),this._register(this.onDidChangeReducedMotion(()=>v()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const s=this._configurationService.getValue("editor.accessibilitySupport");return s==="on"||s==="auto"&&this._accessibilitySupport===2}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const s=this._configMotionReduced;return s==="on"||s==="auto"&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};Za=Id([Ga(0,Wi.i6),Ga(1,Ni),Ga(2,dt.Ui)],Za);var Nd=e(85542),Md=function(Pe,s,v,F){var ae=arguments.length,ge=ae<3?s:F===null?F=Object.getOwnPropertyDescriptor(s,v):F,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ge=Reflect.decorate(Pe,s,v,F);else for(var Fe=Pe.length-1;Fe>=0;Fe--)(Ie=Pe[Fe])&&(ge=(ae<3?Ie(ge):ae>3?Ie(s,v,ge):Ie(s,v))||ge);return ae>3&&ge&&Object.defineProperty(s,v,ge),ge},El=function(Pe,s){return function(v,F){s(v,F,Pe)}},Qa;let da=Qa=class extends pe.JT{constructor(s,v){super(),this.layoutService=s,this.logService=v,this.mapTextToType=new Map,this.findText="",this.resources=[],this.resourcesStateHash=void 0,(yr.G6||yr.MG)&&this.installWebKitWriteTextWorkaround(),this._register(At.ju.runAndSubscribe(Ve.Xo,({window:F,disposables:ae})=>{ae.add((0,Ve.nm)(F.document,"copy",()=>this.clearResources()))},{window:Ae.E,disposables:this._store}))}installWebKitWriteTextWorkaround(){const s=()=>{const v=new Ms.CR;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=v,navigator.clipboard.write([new ClipboardItem({"text/plain":v.p})]).catch(F=>Ft(this,null,function*(){(!(F instanceof Error)||F.name!=="NotAllowedError"||!v.isRejected)&&this.logService.error(F)}))};this._register(At.ju.runAndSubscribe(this.layoutService.onDidAddContainer,({container:v,disposables:F})=>{F.add((0,Ve.nm)(v,"click",s)),F.add((0,Ve.nm)(v,"keydown",s))},{container:this.layoutService.mainContainer,disposables:this._store}))}writeText(s,v){return Ft(this,null,function*(){if(this.writeResources([]),v){this.mapTextToType.set(v,s);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(s);try{return yield navigator.clipboard.writeText(s)}catch(F){console.error(F)}this.fallbackWriteText(s)})}fallbackWriteText(s){const v=(0,Ve.uP)(),F=v.activeElement,ae=v.body.appendChild((0,Ve.$)("textarea",{"aria-hidden":!0}));ae.style.height="1px",ae.style.width="1px",ae.style.position="absolute",ae.value=s,ae.focus(),ae.select(),v.execCommand("copy"),F instanceof HTMLElement&&F.focus(),v.body.removeChild(ae)}readText(s){return Ft(this,null,function*(){if(s)return this.mapTextToType.get(s)||"";try{return yield navigator.clipboard.readText()}catch(v){console.error(v)}return""})}readFindText(){return Ft(this,null,function*(){return this.findText})}writeFindText(s){return Ft(this,null,function*(){this.findText=s})}writeResources(s){return Ft(this,null,function*(){s.length===0?this.clearResources():(this.resources=s,this.resourcesStateHash=yield this.computeResourcesStateHash())})}readResources(){return Ft(this,null,function*(){const s=yield this.computeResourcesStateHash();return this.resourcesStateHash!==s&&this.clearResources(),this.resources})}computeResourcesStateHash(){return Ft(this,null,function*(){if(this.resources.length===0)return;const s=yield this.readText();return(0,Tr.vp)(s.substring(0,Qa.MAX_RESOURCE_STATE_SOURCE_LENGTH))})}clearResources(){this.resources=[],this.resourcesStateHash=void 0}};da.MAX_RESOURCE_STATE_SOURCE_LENGTH=1e3,da=Qa=Md([El(0,Ni),El(1,nn.VZ)],da);var xl=e(11796),dr=e(852),Td=e(8848),Pd=function(Pe,s,v,F){var ae=arguments.length,ge=ae<3?s:F===null?F=Object.getOwnPropertyDescriptor(s,v):F,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ge=Reflect.decorate(Pe,s,v,F);else for(var Fe=Pe.length-1;Fe>=0;Fe--)(Ie=Pe[Fe])&&(ge=(ae<3?Ie(ge):ae>3?Ie(s,v,ge):Ie(s,v))||ge);return ae>3&&ge&&Object.defineProperty(s,v,ge),ge},Rd=function(Pe,s){return function(v,F){s(v,F,Pe)}};const Wr="data-keybinding-context";class Ya{constructor(s,v){this._id=s,this._parent=v,this._value=Object.create(null),this._value._contextId=s}get value(){return vi({},this._value)}setValue(s,v){return this._value[s]!==v?(this._value[s]=v,!0):!1}removeValue(s){return s in this._value?(delete this._value[s],!0):!1}getValue(s){const v=this._value[s];return typeof v=="undefined"&&this._parent?this._parent.getValue(s):v}}class cr extends Ya{constructor(){super(-1,null)}setValue(s,v){return!1}removeValue(s){return!1}getValue(s){}}cr.INSTANCE=new cr;class Hr extends Ya{constructor(s,v,F){super(s,null),this._configurationService=v,this._values=Td.Id.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(ae=>{if(ae.source===7){const ge=Array.from(this._values,([Ie])=>Ie);this._values.clear(),F.fire(new Nl(ge))}else{const ge=[];for(const Ie of ae.affectedKeys){const Fe=`config.${Ie}`,ct=this._values.findSuperstr(Fe);ct!==void 0&&(ge.push(...dr.$.map(ct,([Lt])=>Lt)),this._values.deleteSuperstr(Fe)),this._values.has(Fe)&&(ge.push(Fe),this._values.delete(Fe))}F.fire(new Nl(ge))}})}dispose(){this._listener.dispose()}getValue(s){if(s.indexOf(Hr._keyPrefix)!==0)return super.getValue(s);if(this._values.has(s))return this._values.get(s);const v=s.substr(Hr._keyPrefix.length),F=this._configurationService.getValue(v);let ae;switch(typeof F){case"number":case"boolean":case"string":ae=F;break;default:Array.isArray(F)?ae=JSON.stringify(F):ae=F}return this._values.set(s,ae),ae}setValue(s,v){return super.setValue(s,v)}removeValue(s){return super.removeValue(s)}}Hr._keyPrefix="config.";class Od{constructor(s,v,F){this._service=s,this._key=v,this._defaultValue=F,this.reset()}set(s){this._service.setContext(this._key,s)}reset(){typeof this._defaultValue=="undefined"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class Il{constructor(s){this.key=s}affectsSome(s){return s.has(this.key)}allKeysContainedIn(s){return this.affectsSome(s)}}class Nl{constructor(s){this.keys=s}affectsSome(s){for(const v of this.keys)if(s.has(v))return!0;return!1}allKeysContainedIn(s){return this.keys.every(v=>s.has(v))}}class Ad{constructor(s){this.events=s}affectsSome(s){for(const v of this.events)if(v.affectsSome(s))return!0;return!1}allKeysContainedIn(s){return this.events.every(v=>v.allKeysContainedIn(s))}}function kd(Pe,s){return Pe.allKeysContainedIn(new Set(Object.keys(s)))}class Ml extends pe.JT{constructor(s){super(),this._onDidChangeContext=this._register(new At.K3({merge:v=>new Ad(v)})),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=s}createKey(s,v){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Od(this,s,v)}bufferChangeEvents(s){this._onDidChangeContext.pause();try{s()}finally{this._onDidChangeContext.resume()}}createScoped(s){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Fd(this,s)}contextMatchesRules(s){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const v=this.getContextValuesContainer(this._myContextId);return s?s.evaluate(v):!0}getContextKeyValue(s){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(s)}setContext(s,v){if(this._isDisposed)return;const F=this.getContextValuesContainer(this._myContextId);F&&F.setValue(s,v)&&this._onDidChangeContext.fire(new Il(s))}removeContext(s){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(s)&&this._onDidChangeContext.fire(new Il(s))}getContext(s){return this._isDisposed?cr.INSTANCE:this.getContextValuesContainer(Bd(s))}dispose(){super.dispose(),this._isDisposed=!0}}let Ja=class extends Ml{constructor(s){super(0),this._contexts=new Map,this._lastContextId=0;const v=this._register(new Hr(this._myContextId,s,this._onDidChangeContext));this._contexts.set(this._myContextId,v)}getContextValuesContainer(s){return this._isDisposed?cr.INSTANCE:this._contexts.get(s)||cr.INSTANCE}createChildContext(s=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const v=++this._lastContextId;return this._contexts.set(v,new Ya(v,this.getContextValuesContainer(s))),v}disposeContext(s){this._isDisposed||this._contexts.delete(s)}};Ja=Pd([Rd(0,dt.Ui)],Ja);class Fd extends Ml{constructor(s,v){if(super(s.createChildContext()),this._parentChangeListener=this._register(new pe.XK),this._parent=s,this._updateParentChangeListener(),this._domNode=v,this._domNode.hasAttribute(Wr)){let F="";this._domNode.classList&&(F=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${F?": "+F:""}`)}this._domNode.setAttribute(Wr,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(s=>{const F=this._parent.getContextValuesContainer(this._myContextId).value;kd(s,F)||this._onDidChangeContext.fire(s)})}dispose(){this._isDisposed||(this._parent.disposeContext(this._myContextId),this._domNode.removeAttribute(Wr),super.dispose())}getContextValuesContainer(s){return this._isDisposed?cr.INSTANCE:this._parent.getContextValuesContainer(s)}createChildContext(s=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(s)}disposeContext(s){this._isDisposed||this._parent.disposeContext(s)}}function Bd(Pe){for(;Pe;){if(Pe.hasAttribute(Wr)){const s=Pe.getAttribute(Wr);return s?parseInt(s,10):NaN}Pe=Pe.parentElement}return 0}function Wd(Pe,s,v){Pe.get(Wi.i6).createKey(String(s),Hd(v))}function Hd(Pe){return(0,ti.rs)(Pe,s=>{if(typeof s=="object"&&s.$mid===1)return ot.o.revive(s).toString();if(s instanceof ot.o)return s.toString()})}bs.P.registerCommand("_setContext",Wd),bs.P.registerCommand({id:"getContextKeyInfo",handler(){return[...Wi.uy.all()].sort((Pe,s)=>Pe.key.localeCompare(s.key))},metadata:{description:(0,Hi.NC)("getContextKeyInfo","A command that returns information about context keys"),args:[]}}),bs.P.registerCommand("_generateContextKeyInfo",function(){const Pe=[],s=new Set;for(const v of Wi.uy.all())s.has(v.key)||(s.add(v.key),Pe.push(v));Pe.sort((v,F)=>v.key.localeCompare(F.key)),console.log(JSON.stringify(Pe,void 0,2))});var To=e(56730);class Vd{constructor(s,v){this.key=s,this.data=v,this.incoming=new Map,this.outgoing=new Map}}class Tl{constructor(s){this._hashFn=s,this._nodes=new Map}roots(){const s=[];for(const v of this._nodes.values())v.outgoing.size===0&&s.push(v);return s}insertEdge(s,v){const F=this.lookupOrInsertNode(s),ae=this.lookupOrInsertNode(v);F.outgoing.set(ae.key,ae),ae.incoming.set(F.key,F)}removeNode(s){const v=this._hashFn(s);this._nodes.delete(v);for(const F of this._nodes.values())F.outgoing.delete(v),F.incoming.delete(v)}lookupOrInsertNode(s){const v=this._hashFn(s);let F=this._nodes.get(v);return F||(F=new Vd(v,s),this._nodes.set(v,F)),F}isEmpty(){return this._nodes.size===0}toString(){const s=[];for(const[v,F]of this._nodes)s.push(`${v}
	(-> incoming)[${[...F.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...F.outgoing.keys()].join(",")}]
`);return s.join(`
`)}findCycleSlow(){for(const[s,v]of this._nodes){const F=new Set([s]),ae=this._findCycle(v,F);if(ae)return ae}}_findCycle(s,v){for(const[F,ae]of s.outgoing){if(v.has(F))return[...v,F].join(" -> ");v.add(F);const ge=this._findCycle(ae,v);if(ge)return ge;v.delete(F)}}}var Xa=e(44969);const zd=!1;class Pl extends Error{constructor(s){var v;super("cyclic dependency between services"),this.message=(v=s.findCycleSlow())!==null&&v!==void 0?v:`UNABLE to detect cycle, dumping graph: 
${s.toString()}`}}class ca{constructor(s=new Xa.y,v=!1,F,ae=zd){var ge;this._services=s,this._strict=v,this._parent=F,this._enableTracing=ae,this._isDisposed=!1,this._servicesToMaybeDispose=new Set,this._children=new Set,this._activeInstantiations=new Set,this._services.set(hi.TG,this),this._globalGraph=ae?(ge=F==null?void 0:F._globalGraph)!==null&&ge!==void 0?ge:new Tl(Ie=>Ie):void 0}dispose(){if(!this._isDisposed){this._isDisposed=!0,(0,pe.B9)(this._children),this._children.clear();for(const s of this._servicesToMaybeDispose)(0,pe.Wf)(s)&&s.dispose();this._servicesToMaybeDispose.clear()}}_throwIfDisposed(){if(this._isDisposed)throw new Error("InstantiationService has been disposed")}createChild(s){this._throwIfDisposed();const v=new class extends ca{dispose(){this._children.delete(v),super.dispose()}}(s,this._strict,this,this._enableTracing);return this._children.add(v),v}invokeFunction(s,...v){this._throwIfDisposed();const F=ks.traceInvocation(this._enableTracing,s);let ae=!1;try{return s({get:Ie=>{if(ae)throw(0,dn.L6)("service accessor is only valid during the invocation of its target method");const Fe=this._getOrCreateServiceInstance(Ie,F);if(!Fe)throw new Error(`[invokeFunction] unknown service '${Ie}'`);return Fe}},...v)}finally{ae=!0,F.stop()}}createInstance(s,...v){this._throwIfDisposed();let F,ae;return s instanceof To.M?(F=ks.traceCreation(this._enableTracing,s.ctor),ae=this._createInstance(s.ctor,s.staticArguments.concat(v),F)):(F=ks.traceCreation(this._enableTracing,s),ae=this._createInstance(s,v,F)),F.stop(),ae}_createInstance(s,v=[],F){const ae=hi.I8.getServiceDependencies(s).sort((Fe,ct)=>Fe.index-ct.index),ge=[];for(const Fe of ae){const ct=this._getOrCreateServiceInstance(Fe.id,F);ct||this._throwIfStrict(`[createInstance] ${s.name} depends on UNKNOWN service ${Fe.id}.`,!1),ge.push(ct)}const Ie=ae.length>0?ae[0].index:v.length;if(v.length!==Ie){console.trace(`[createInstance] First service dependency of ${s.name} at position ${Ie+1} conflicts with ${v.length} static arguments`);const Fe=Ie-v.length;Fe>0?v=v.concat(new Array(Fe)):v=v.slice(0,Ie)}return Reflect.construct(s,v.concat(ge))}_setCreatedServiceInstance(s,v){if(this._services.get(s)instanceof To.M)this._services.set(s,v);else if(this._parent)this._parent._setCreatedServiceInstance(s,v);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(s){const v=this._services.get(s);return!v&&this._parent?this._parent._getServiceInstanceOrDescriptor(s):v}_getOrCreateServiceInstance(s,v){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(s));const F=this._getServiceInstanceOrDescriptor(s);return F instanceof To.M?this._safeCreateAndCacheServiceInstance(s,F,v.branch(s,!0)):(v.branch(s,!1),F)}_safeCreateAndCacheServiceInstance(s,v,F){if(this._activeInstantiations.has(s))throw new Error(`illegal state - RECURSIVELY instantiating service '${s}'`);this._activeInstantiations.add(s);try{return this._createAndCacheServiceInstance(s,v,F)}finally{this._activeInstantiations.delete(s)}}_createAndCacheServiceInstance(s,v,F){var ae;const ge=new Tl(ct=>ct.id.toString());let Ie=0;const Fe=[{id:s,desc:v,_trace:F}];for(;Fe.length;){const ct=Fe.pop();if(ge.lookupOrInsertNode(ct),Ie++>1e3)throw new Pl(ge);for(const Lt of hi.I8.getServiceDependencies(ct.desc.ctor)){const Ut=this._getServiceInstanceOrDescriptor(Lt.id);if(Ut||this._throwIfStrict(`[createInstance] ${s} depends on ${Lt.id} which is NOT registered.`,!0),(ae=this._globalGraph)===null||ae===void 0||ae.insertEdge(String(ct.id),String(Lt.id)),Ut instanceof To.M){const li={id:Lt.id,desc:Ut,_trace:ct._trace.branch(Lt.id,!0)};ge.insertEdge(ct,li),Fe.push(li)}}}for(;;){const ct=ge.roots();if(ct.length===0){if(!ge.isEmpty())throw new Pl(ge);break}for(const{data:Lt}of ct){if(this._getServiceInstanceOrDescriptor(Lt.id)instanceof To.M){const li=this._createServiceInstanceWithOwner(Lt.id,Lt.desc.ctor,Lt.desc.staticArguments,Lt.desc.supportsDelayedInstantiation,Lt._trace);this._setCreatedServiceInstance(Lt.id,li)}ge.removeNode(Lt)}}return this._getServiceInstanceOrDescriptor(s)}_createServiceInstanceWithOwner(s,v,F=[],ae,ge){if(this._services.get(s)instanceof To.M)return this._createServiceInstance(s,v,F,ae,ge,this._servicesToMaybeDispose);if(this._parent)return this._parent._createServiceInstanceWithOwner(s,v,F,ae,ge);throw new Error(`illegalState - creating UNKNOWN service instance ${v.name}`)}_createServiceInstance(s,v,F=[],ae,ge,Ie){if(ae){const Fe=new ca(void 0,this._strict,this,this._enableTracing);Fe._globalGraphImplicitDependency=String(s);const ct=new Map,Lt=new Ms.R5(()=>{const Ut=Fe._createInstance(v,F,ge);for(const[li,wi]of ct){const Ti=Ut[li];if(typeof Ti=="function")for(const en of wi)en.disposable=Ti.apply(Ut,en.listener)}return ct.clear(),Ie.add(Ut),Ut});return new Proxy(Object.create(null),{get(Ut,li){if(!Lt.isInitialized&&typeof li=="string"&&(li.startsWith("onDid")||li.startsWith("onWill"))){let en=ct.get(li);return en||(en=new Qt.S,ct.set(li,en)),(Fn,Tn,Un)=>{if(Lt.isInitialized)return Lt.value[li](Fn,Tn,Un);{const Wn={listener:[Fn,Tn,Un],disposable:void 0},vn=en.push(Wn);return(0,pe.OF)(()=>{var ms;vn(),(ms=Wn.disposable)===null||ms===void 0||ms.dispose()})}}}if(li in Ut)return Ut[li];const wi=Lt.value;let Ti=wi[li];return typeof Ti!="function"||(Ti=Ti.bind(wi),Ut[li]=Ti),Ti},set(Ut,li,wi){return Lt.value[li]=wi,!0},getPrototypeOf(Ut){return v.prototype}})}else{const Fe=this._createInstance(v,F,ge);return Ie.add(Fe),Fe}}_throwIfStrict(s,v){if(v&&console.warn(s),this._strict)throw new Error(s)}}class ks{static traceInvocation(s,v){return s?new ks(2,v.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):ks._None}static traceCreation(s,v){return s?new ks(1,v.name):ks._None}constructor(s,v){this.type=s,this.name=v,this._start=Date.now(),this._dep=[]}branch(s,v){const F=new ks(3,s.toString());return this._dep.push([s,v,F]),F}stop(){const s=Date.now()-this._start;ks._totals+=s;let v=!1;function F(ge,Ie){const Fe=[],ct=new Array(ge+1).join("	");for(const[Lt,Ut,li]of Ie._dep)if(Ut&&li){v=!0,Fe.push(`${ct}CREATES -> ${Lt}`);const wi=F(ge+1,li);wi&&Fe.push(wi)}else Fe.push(`${ct}uses -> ${Lt}`);return Fe.join(`
`)}const ae=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${F(1,this)}`,`DONE, took ${s.toFixed(2)}ms (grand total ${ks._totals.toFixed(2)}ms)`];(s>2||v)&&ks.all.add(ae.join(`
`))}}ks.all=new Set,ks._None=new class extends ks{constructor(){super(0,null)}stop(){}branch(){return this}},ks._totals=0;const Ud=new Set([Tt.lg.inMemory,Tt.lg.vscodeSourceControl,Tt.lg.walkThrough,Tt.lg.walkThroughSnippet,Tt.lg.vscodeChatCodeBlock]);class Kd{constructor(){this._byResource=new xs.Y9,this._byOwner=new Map}set(s,v,F){let ae=this._byResource.get(s);ae||(ae=new Map,this._byResource.set(s,ae)),ae.set(v,F);let ge=this._byOwner.get(v);ge||(ge=new xs.Y9,this._byOwner.set(v,ge)),ge.set(s,F)}get(s,v){const F=this._byResource.get(s);return F==null?void 0:F.get(v)}delete(s,v){let F=!1,ae=!1;const ge=this._byResource.get(s);ge&&(F=ge.delete(v));const Ie=this._byOwner.get(v);if(Ie&&(ae=Ie.delete(s)),F!==ae)throw new Error("illegal state");return F&&ae}values(s){var v,F,ae,ge;return typeof s=="string"?(F=(v=this._byOwner.get(s))===null||v===void 0?void 0:v.values())!==null&&F!==void 0?F:dr.$.empty():ot.o.isUri(s)?(ge=(ae=this._byResource.get(s))===null||ae===void 0?void 0:ae.values())!==null&&ge!==void 0?ge:dr.$.empty():dr.$.map(dr.$.concat(...this._byOwner.values()),Ie=>Ie[1])}}class jd{constructor(s){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new xs.Y9,this._service=s,this._subscription=s.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(s){for(const v of s){const F=this._data.get(v);F&&this._substract(F);const ae=this._resourceStats(v);this._add(ae),this._data.set(v,ae)}}_resourceStats(s){const v={errors:0,warnings:0,infos:0,unknowns:0};if(Ud.has(s.scheme))return v;for(const{severity:F}of this._service.read({resource:s}))F===Is.ZL.Error?v.errors+=1:F===Is.ZL.Warning?v.warnings+=1:F===Is.ZL.Info?v.infos+=1:v.unknowns+=1;return v}_substract(s){this.errors-=s.errors,this.warnings-=s.warnings,this.infos-=s.infos,this.unknowns-=s.unknowns}_add(s){this.errors+=s.errors,this.warnings+=s.warnings,this.infos+=s.infos,this.unknowns+=s.unknowns}}class Po{constructor(){this._onMarkerChanged=new At.D0({delay:0,merge:Po._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new Kd,this._stats=new jd(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(s,v){for(const F of v||[])this.changeOne(s,F,[])}changeOne(s,v,F){if((0,di.XY)(F))this._data.delete(v,s)&&this._onMarkerChanged.fire([v]);else{const ae=[];for(const ge of F){const Ie=Po._toMarker(s,v,ge);Ie&&ae.push(Ie)}this._data.set(v,s,ae),this._onMarkerChanged.fire([v])}}static _toMarker(s,v,F){let{code:ae,severity:ge,message:Ie,source:Fe,startLineNumber:ct,startColumn:Lt,endLineNumber:Ut,endColumn:li,relatedInformation:wi,tags:Ti}=F;if(Ie)return ct=ct>0?ct:1,Lt=Lt>0?Lt:1,Ut=Ut>=ct?Ut:ct,li=li>0?li:Lt,{resource:v,owner:s,code:ae,severity:ge,message:Ie,source:Fe,startLineNumber:ct,startColumn:Lt,endLineNumber:Ut,endColumn:li,relatedInformation:wi,tags:Ti}}changeAll(s,v){const F=[],ae=this._data.values(s);if(ae)for(const ge of ae){const Ie=dr.$.first(ge);Ie&&(F.push(Ie.resource),this._data.delete(Ie.resource,s))}if((0,di.Of)(v)){const ge=new xs.Y9;for(const{resource:Ie,marker:Fe}of v){const ct=Po._toMarker(s,Ie,Fe);if(!ct)continue;const Lt=ge.get(Ie);Lt?Lt.push(ct):(ge.set(Ie,[ct]),F.push(Ie))}for(const[Ie,Fe]of ge)this._data.set(Ie,s,Fe)}F.length>0&&this._onMarkerChanged.fire(F)}read(s=Object.create(null)){let{owner:v,resource:F,severities:ae,take:ge}=s;if((!ge||ge<0)&&(ge=-1),v&&F){const Ie=this._data.get(F,v);if(Ie){const Fe=[];for(const ct of Ie)if(Po._accept(ct,ae)){const Lt=Fe.push(ct);if(ge>0&&Lt===ge)break}return Fe}else return[]}else if(!v&&!F){const Ie=[];for(const Fe of this._data.values())for(const ct of Fe)if(Po._accept(ct,ae)){const Lt=Ie.push(ct);if(ge>0&&Lt===ge)return Ie}return Ie}else{const Ie=this._data.values(F!=null?F:v),Fe=[];for(const ct of Ie)for(const Lt of ct)if(Po._accept(Lt,ae)){const Ut=Fe.push(Lt);if(ge>0&&Ut===ge)return Fe}return Fe}}static _accept(s,v){return v===void 0||(v&s.severity)===s.severity}static _merge(s){const v=new xs.Y9;for(const F of s)for(const ae of F)v.set(ae,!0);return Array.from(v.keys())}}var Rl=e(10783);class $d extends pe.JT{get configurationModel(){return this._configurationModel}constructor(s){super(),this.logService=s,this._configurationModel=as.createEmptyModel(this.logService)}reload(){return this.resetConfigurationModel(),this.configurationModel}getConfigurationDefaultOverrides(){return{}}resetConfigurationModel(){this._configurationModel=as.createEmptyModel(this.logService);const s=$s.B.as(Us.IP.Configuration).getConfigurationProperties();this.updateConfigurationModel(Object.keys(s),s)}updateConfigurationModel(s,v){const F=this.getConfigurationDefaultOverrides();for(const ae of s){const ge=F[ae],Ie=v[ae];ge!==void 0?this._configurationModel.addValue(ae,ge):Ie?this._configurationModel.addValue(ae,Ie.default):this._configurationModel.removeValue(ae)}}}var Ol=e(75881);class Gd extends pe.JT{constructor(s,v=[]){super(),this.logger=new nn.qA([s,...v]),this._register(s.onDidChangeLogLevel(F=>this.setLevel(F)))}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(s){this.logger.setLevel(s)}getLevel(){return this.logger.getLevel()}trace(s,...v){this.logger.trace(s,...v)}debug(s,...v){this.logger.debug(s,...v)}info(s,...v){this.logger.info(s,...v)}warn(s,...v){this.logger.warn(s,...v)}error(s,...v){this.logger.error(s,...v)}}var Zd=e(52709),Qd=e(39356),Co=function(Pe,s,v,F){var ae=arguments.length,ge=ae<3?s:F===null?F=Object.getOwnPropertyDescriptor(s,v):F,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ge=Reflect.decorate(Pe,s,v,F);else for(var Fe=Pe.length-1;Fe>=0;Fe--)(Ie=Pe[Fe])&&(ge=(ae<3?Ie(ge):ae>3?Ie(s,v,ge):Ie(s,v))||ge);return ae>3&&ge&&Object.defineProperty(s,v,ge),ge},vs=function(Pe,s){return function(v,F){s(v,F,Pe)}};class Yd{constructor(s){this.disposed=!1,this.model=s,this._onWillDispose=new At.Q5}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let qa=class{constructor(s){this.modelService=s}createModelReference(s){const v=this.modelService.getModel(s);return v?Promise.resolve(new pe.Jz(new Yd(v))):Promise.reject(new Error("Model not found"))}};qa=Co([vs(0,Vi.q)],qa);class ua{show(){return ua.NULL_PROGRESS_RUNNER}showWhile(s,v){return Ft(this,null,function*(){yield s})}}ua.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class Jd{withProgress(s,v,F){return v({report:()=>{}})}}class Xd{constructor(){this.isExtensionDevelopment=!1,this.isBuilt=!1}}class qd{confirm(s){return Ft(this,null,function*(){return{confirmed:this.doConfirm(s.message,s.detail),checkboxChecked:!1}})}doConfirm(s,v){let F=s;return v&&(F=F+`

`+v),Ae.E.confirm(F)}prompt(s){return Ft(this,null,function*(){var v,F;let ae;if(this.doConfirm(s.message,s.detail)){const Ie=[...(v=s.buttons)!==null&&v!==void 0?v:[]];s.cancelButton&&typeof s.cancelButton!="string"&&typeof s.cancelButton!="boolean"&&Ie.push(s.cancelButton),ae=yield(F=Ie[0])===null||F===void 0?void 0:F.run({checkboxChecked:!1})}return{result:ae}})}error(s,v){return Ft(this,null,function*(){yield this.prompt({type:tn.Z.Error,message:s,detail:v})})}}class Vr{info(s){return this.notify({severity:tn.Z.Info,message:s})}warn(s){return this.notify({severity:tn.Z.Warning,message:s})}error(s){return this.notify({severity:tn.Z.Error,message:s})}notify(s){switch(s.severity){case tn.Z.Error:console.error(s.message);break;case tn.Z.Warning:console.warn(s.message);break;default:console.log(s.message);break}return Vr.NO_OP}prompt(s,v,F,ae){return Vr.NO_OP}status(s,v){return pe.JT.None}}Vr.NO_OP=new sn.EO;let el=class{constructor(s){this._onWillExecuteCommand=new At.Q5,this._onDidExecuteCommand=new At.Q5,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=s}executeCommand(s,...v){const F=bs.P.getCommand(s);if(!F)return Promise.reject(new Error(`command '${s}' not found`));try{this._onWillExecuteCommand.fire({commandId:s,args:v});const ae=this._instantiationService.invokeFunction.apply(this._instantiationService,[F.handler,...v]);return this._onDidExecuteCommand.fire({commandId:s,args:v}),Promise.resolve(ae)}catch(ae){return Promise.reject(ae)}}};el=Co([vs(0,hi.TG)],el);let ur=class extends br{constructor(s,v,F,ae,ge,Ie){super(s,v,F,ae,ge),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const Fe=Ti=>{const en=new pe.SL;en.add(Ve.nm(Ti,Ve.tw.KEY_DOWN,En=>{const Fn=new ns.y(En);this._dispatch(Fn,Fn.target)&&(Fn.preventDefault(),Fn.stopPropagation())})),en.add(Ve.nm(Ti,Ve.tw.KEY_UP,En=>{const Fn=new ns.y(En);this._singleModifierDispatch(Fn,Fn.target)&&Fn.preventDefault()})),this._domNodeListeners.push(new ec(Ti,en))},ct=Ti=>{for(let en=0;en<this._domNodeListeners.length;en++){const En=this._domNodeListeners[en];En.domNode===Ti&&(this._domNodeListeners.splice(en,1),En.dispose())}},Lt=Ti=>{Ti.getOption(61)||Fe(Ti.getContainerDomNode())},Ut=Ti=>{Ti.getOption(61)||ct(Ti.getContainerDomNode())};this._register(Ie.onCodeEditorAdd(Lt)),this._register(Ie.onCodeEditorRemove(Ut)),Ie.listCodeEditors().forEach(Lt);const li=Ti=>{Fe(Ti.getContainerDomNode())},wi=Ti=>{ct(Ti.getContainerDomNode())};this._register(Ie.onDiffEditorAdd(li)),this._register(Ie.onDiffEditorRemove(wi)),Ie.listDiffEditors().forEach(li)}addDynamicKeybinding(s,v,F,ae){return(0,pe.F8)(bs.P.registerCommand(s,F),this.addDynamicKeybindings([{keybinding:v,command:s,when:ae}]))}addDynamicKeybindings(s){const v=s.map(F=>{var ae;return{keybinding:(0,no.Z9)(F.keybinding,hn.OS),command:(ae=F.command)!==null&&ae!==void 0?ae:null,commandArgs:F.commandArgs,when:F.when,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}});return this._dynamicKeybindings=this._dynamicKeybindings.concat(v),this.updateResolver(),(0,pe.OF)(()=>{for(let F=0;F<this._dynamicKeybindings.length;F++)if(this._dynamicKeybindings[F]===v[0]){this._dynamicKeybindings.splice(F,v.length),this.updateResolver();return}})}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const s=this._toNormalizedKeybindingItems(So.W.getDefaultKeybindings(),!0),v=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new Fs(s,v,F=>this._log(F))}return this._cachedResolver}_documentHasFocus(){return Ae.E.document.hasFocus()}_toNormalizedKeybindingItems(s,v){const F=[];let ae=0;for(const ge of s){const Ie=ge.when||void 0,Fe=ge.keybinding;if(!Fe)F[ae++]=new Jo(void 0,ge.command,ge.commandArgs,Ie,v,null,!1);else{const ct=In.resolveKeybinding(Fe,hn.OS);for(const Lt of ct)F[ae++]=new Jo(Lt,ge.command,ge.commandArgs,Ie,v,null,!1)}}return F}resolveKeyboardEvent(s){const v=new no.$M(s.ctrlKey,s.shiftKey,s.altKey,s.metaKey,s.keyCode);return new In([v],hn.OS)}};ur=Co([vs(0,Wi.i6),vs(1,bs.H),vs(2,cs.b),vs(3,sn.lT),vs(4,nn.VZ),vs(5,oi.$)],ur);class ec extends pe.JT{constructor(s,v){super(),this.domNode=s,this._register(v)}}function Al(Pe){return Pe&&typeof Pe=="object"&&(!Pe.overrideIdentifier||typeof Pe.overrideIdentifier=="string")&&(!Pe.resource||Pe.resource instanceof ot.o)}let ha=class{constructor(s){this.logService=s,this._onDidChangeConfiguration=new At.Q5,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event;const v=new $d(s);this._configuration=new co(v.reload(),as.createEmptyModel(s),as.createEmptyModel(s),as.createEmptyModel(s),as.createEmptyModel(s),as.createEmptyModel(s),new xs.Y9,as.createEmptyModel(s),new xs.Y9,s),v.dispose()}getValue(s,v){const F=typeof s=="string"?s:void 0,ae=Al(s)?s:Al(v)?v:{};return this._configuration.getValue(F,ae,void 0)}updateValues(s){const v={data:this._configuration.toData()},F=[];for(const ae of s){const[ge,Ie]=ae;this.getValue(ge)!==Ie&&(this._configuration.updateValue(ge,Ie),F.push(ge))}if(F.length>0){const ae=new ls({keys:F,overrides:[]},v,this._configuration,void 0,this.logService);ae.source=8,this._onDidChangeConfiguration.fire(ae)}return Promise.resolve()}updateValue(s,v,F,ae){return this.updateValues([[s,v]])}inspect(s,v={}){return this._configuration.inspect(s,v,void 0)}};ha=Co([vs(0,nn.VZ)],ha);let tl=class{constructor(s,v,F){this.configurationService=s,this.modelService=v,this.languageService=F,this._onDidChangeConfiguration=new At.Q5,this.configurationService.onDidChangeConfiguration(ae=>{this._onDidChangeConfiguration.fire({affectedKeys:ae.affectedKeys,affectsConfiguration:(ge,Ie)=>ae.affectsConfiguration(Ie)})})}getValue(s,v,F){const ae=_r.L.isIPosition(v)?v:null,ge=ae?typeof F=="string"?F:void 0:typeof v=="string"?v:void 0,Ie=s?this.getLanguage(s,ae):void 0;return typeof ge=="undefined"?this.configurationService.getValue({resource:s,overrideIdentifier:Ie}):this.configurationService.getValue(ge,{resource:s,overrideIdentifier:Ie})}getLanguage(s,v){const F=this.modelService.getModel(s);return F?v?F.getLanguageIdAtPosition(v.lineNumber,v.column):F.getLanguageId():this.languageService.guessLanguageIdByFilepathOrFirstLine(s)}};tl=Co([vs(0,dt.Ui),vs(1,Vi.q),vs(2,Ct.O)],tl);let il=class{constructor(s){this.configurationService=s}getEOL(s,v){const F=this.configurationService.getValue("files.eol",{overrideIdentifier:v,resource:s});return F&&typeof F=="string"&&F!=="auto"?F:hn.IJ||hn.dz?`
`:`\r
`}};il=Co([vs(0,dt.Ui)],il);class tc{publicLog2(){}}class zr{constructor(){const s=ot.o.from({scheme:zr.SCHEME,authority:"model",path:"/"});this.workspace={id:Ls.p$,folders:[new Ls.md({uri:s,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(s){return s&&s.scheme===zr.SCHEME?this.workspace.folders[0]:null}}zr.SCHEME="inmemory";function fa(Pe,s,v){if(!s||!(Pe instanceof ha))return;const F=[];Object.keys(s).forEach(ae=>{(0,mr.ei)(ae)&&F.push([`editor.${ae}`,s[ae]]),v&&(0,mr.Pe)(ae)&&F.push([`diffEditor.${ae}`,s[ae]])}),F.length>0&&Pe.updateValues(F)}let nl=class{constructor(s){this._modelService=s}hasPreviewHandler(){return!1}apply(s,v){return Ft(this,null,function*(){const F=Array.isArray(s)?s:Zn.fo.convert(s),ae=new Map;for(const Fe of F){if(!(Fe instanceof Zn.Gl))throw new Error("bad edit - only text edits are supported");const ct=this._modelService.getModel(Fe.resource);if(!ct)throw new Error("bad edit - model not found");if(typeof Fe.versionId=="number"&&ct.getVersionId()!==Fe.versionId)throw new Error("bad state - model changed in the meantime");let Lt=ae.get(ct);Lt||(Lt=[],ae.set(ct,Lt)),Lt.push(pr.h.replaceMove(qs.e.lift(Fe.textEdit.range),Fe.textEdit.text))}let ge=0,Ie=0;for(const[Fe,ct]of ae)Fe.pushStackElement(),Fe.pushEditOperations([],ct,()=>[]),Fe.pushStackElement(),Ie+=1,ge+=ct.length;return{ariaSummary:je.WU(Os.iN.bulkEditServiceSummary,ge,Ie),isApplied:ge>0}})}};nl=Co([vs(0,Vi.q)],nl);class ic{getUriLabel(s,v){return s.scheme==="file"?s.fsPath:s.path}getUriBasenameLabel(s){return(0,Ds.EZ)(s)}}let sl=class extends Es{constructor(s,v){super(s),this._codeEditorService=v}showContextView(s,v,F){if(!v){const ae=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();ae&&(v=ae.getContainerDomNode())}return super.showContextView(s,v,F)}};sl=Co([vs(0,Ni),vs(1,oi.$)],sl);class nc{constructor(){this._neverEmitter=new At.Q5,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}class sc extends Vo{constructor(){super()}}class oc extends Gd{constructor(){super(new nn.kw)}}let ol=class extends Er{constructor(s,v,F,ae,ge,Ie){super(s,v,F,ae,ge,Ie),this.configure({blockMouse:!1})}};ol=Co([vs(0,cs.b),vs(1,sn.lT),vs(2,ri.u),vs(3,ui.d),vs(4,eo.co),vs(5,Wi.i6)],ol);class rc{playSignal(s,v){return Ft(this,null,function*(){})}}(0,Jt.z)(nn.VZ,oc,0),(0,Jt.z)(dt.Ui,ha,0),(0,Jt.z)(Fo.V,tl,0),(0,Jt.z)(Fo.y,il,0),(0,Jt.z)(Ls.ec,zr,0),(0,Jt.z)(Bn.e,ic,0),(0,Jt.z)(cs.b,tc,0),(0,Jt.z)(rn.S,qd,0),(0,Jt.z)(Qd.Y,Xd,0),(0,Jt.z)(sn.lT,Vr,0),(0,Jt.z)(Is.lT,Po,0),(0,Jt.z)(Ct.O,sc,0),(0,Jt.z)(Ys.Z,xd.nI,0),(0,Jt.z)(Vi.q,rr,0),(0,Jt.z)(or.i,Ks,0),(0,Jt.z)(Wi.i6,Ja,0),(0,Jt.z)(ds.R9,Jd,0),(0,Jt.z)(ds.ek,ua,0),(0,Jt.z)(Rl.Uy,Rl.vm,0),(0,Jt.z)(Ra.p,it.eu,0),(0,Jt.z)(Zn.vu,nl,0),(0,Jt.z)(As.Y,nc,0),(0,Jt.z)(ko.S,qa,0),(0,Jt.z)(Pn.F,Za,0),(0,Jt.z)(ki.Lw,ki.XN,0),(0,Jt.z)(bs.H,el,0),(0,Jt.z)(ui.d,ur,0),(0,Jt.z)(Rt.eJ,$a,0),(0,Jt.z)(ri.u,sl,0),(0,Jt.z)(Fi.v,sr,0),(0,Jt.z)(xl.p,da,0),(0,Jt.z)(ri.i,ol,0),(0,Jt.z)(eo.co,Nd.h,0),(0,Jt.z)(Ol.IV,rc,0);var _n;(function(Pe){const s=new Xa.y;for(const[ct,Lt]of(0,Jt.d)())s.set(ct,Lt);const v=new ca(s,!0);s.set(hi.TG,v);function F(ct){ae||Ie({});const Lt=s.get(ct);if(!Lt)throw new Error("Missing service "+ct);return Lt instanceof To.M?v.invokeFunction(Ut=>Ut.get(ct)):Lt}Pe.get=F;let ae=!1;const ge=new At.Q5;function Ie(ct){if(ae)return v;ae=!0;for(const[Ut,li]of(0,Jt.d)())s.get(Ut)||s.set(Ut,li);for(const Ut in ct)if(ct.hasOwnProperty(Ut)){const li=(0,hi.yh)(Ut);s.get(li)instanceof To.M&&s.set(li,ct[Ut])}const Lt=(0,Zd.n)();for(const Ut of Lt)try{v.createInstance(Ut)}catch(li){(0,dn.dL)(li)}return ge.fire(),v}Pe.initialize=Ie;function Fe(ct){if(ae)return ct();const Lt=new pe.SL,Ut=Lt.add(ge.event(()=>{Ut.dispose(),Lt.add(ct())}));return Lt}Pe.withServices=Fe})(_n||(_n={}));var kl=e(21149),ac=e(66503),lc=e(66388),rl=function(Pe,s,v,F){var ae=arguments.length,ge=ae<3?s:F===null?F=Object.getOwnPropertyDescriptor(s,v):F,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ge=Reflect.decorate(Pe,s,v,F);else for(var Fe=Pe.length-1;Fe>=0;Fe--)(Ie=Pe[Fe])&&(ge=(ae<3?Ie(ge):ae>3?Ie(s,v,ge):Ie(s,v))||ge);return ae>3&&ge&&Object.defineProperty(s,v,ge),ge},Jn=function(Pe,s){return function(v,F){s(v,F,Pe)}};let dc=0,Fl=!1;function cc(Pe){if(!Pe){if(Fl)return;Fl=!0}lt.wW(Pe||Ae.E.document.body)}let ga=class extends w.Gm{constructor(s,v,F,ae,ge,Ie,Fe,ct,Lt,Ut,li,wi,Ti){const en=vi({},v);en.ariaLabel=en.ariaLabel||Os.B8.editorViewAccessibleLabel,en.ariaLabel=en.ariaLabel+";"+Os.B8.accessibilityHelpMessage,super(s,en,{},F,ae,ge,Ie,Lt,Ut,li,wi,Ti),ct instanceof ur?this._standaloneKeybindingService=ct:this._standaloneKeybindingService=null,cc(en.ariaContainerElement),(0,ac.rM)((En,Fn)=>F.createInstance(Xt.mQ,En,Fn,{})),(0,lc.r)(Fe)}addCommand(s,v,F){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const ae="DYNAMIC_"+ ++dc,ge=Wi.Ao.deserialize(F);return this._standaloneKeybindingService.addDynamicKeybinding(ae,s,v,ge),ae}createContextKey(s,v){return this._contextKeyService.createKey(s,v)}addAction(s){if(typeof s.id!="string"||typeof s.label!="string"||typeof s.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),pe.JT.None;const v=s.id,F=s.label,ae=Wi.Ao.and(Wi.Ao.equals("editorId",this.getId()),Wi.Ao.deserialize(s.precondition)),ge=s.keybindings,Ie=Wi.Ao.and(ae,Wi.Ao.deserialize(s.keybindingContext)),Fe=s.contextMenuGroupId||null,ct=s.contextMenuOrder||0,Lt=(Ti,...en)=>Promise.resolve(s.run(this,...en)),Ut=new pe.SL,li=this.getId()+":"+v;if(Ut.add(bs.P.registerCommand(li,Lt)),Fe){const Ti={command:{id:li,title:F},when:ae,group:Fe,order:ct};Ut.add(eo.BH.appendMenuItem(eo.eH.EditorContext,Ti))}if(Array.isArray(ge))for(const Ti of ge)Ut.add(this._standaloneKeybindingService.addDynamicKeybinding(li,Ti,Lt,Ie));const wi=new mt.p(li,F,F,void 0,ae,(...Ti)=>Promise.resolve(s.run(this,...Ti)),this._contextKeyService);return this._actions.set(v,wi),Ut.add((0,pe.OF)(()=>{this._actions.delete(v)})),Ut}_triggerCommand(s,v){if(this._codeEditorService instanceof Bt)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(s,v)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(s,v)}};ga=rl([Jn(2,hi.TG),Jn(3,oi.$),Jn(4,bs.H),Jn(5,Wi.i6),Jn(6,Xt.Bs),Jn(7,ui.d),Jn(8,mi.XE),Jn(9,sn.lT),Jn(10,Pn.F),Jn(11,Gt.c_),Jn(12,It.p)],ga);let al=class extends ga{constructor(s,v,F,ae,ge,Ie,Fe,ct,Lt,Ut,li,wi,Ti,en,En,Fn){const Tn=vi({},v);fa(li,Tn,!1);const Un=Lt.registerEditorContainer(s);typeof Tn.theme=="string"&&Lt.setTheme(Tn.theme),typeof Tn.autoDetectHighContrast!="undefined"&&Lt.setAutoDetectHighContrast(!!Tn.autoDetectHighContrast);const Wn=Tn.model;delete Tn.model,super(s,Tn,F,ae,ge,Ie,Fe,ct,Lt,Ut,wi,En,Fn),this._configurationService=li,this._standaloneThemeService=Lt,this._register(Un);let vn;if(typeof Wn=="undefined"){const $n=en.getLanguageIdByMimeType(Tn.language)||Tn.language||Di.bd;vn=Bl(Ti,en,Tn.value||"",$n,void 0),this._ownsModel=!0}else vn=Wn,this._ownsModel=!1;if(this._attachModel(vn),vn){const $n={oldModelUrl:null,newModelUrl:vn.uri};this._onDidChangeModel.fire($n)}}dispose(){super.dispose()}updateOptions(s){fa(this._configurationService,s,!1),typeof s.theme=="string"&&this._standaloneThemeService.setTheme(s.theme),typeof s.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(!!s.autoDetectHighContrast),super.updateOptions(s)}_postDetachModelCleanup(s){super._postDetachModelCleanup(s),s&&this._ownsModel&&(s.dispose(),this._ownsModel=!1)}};al=rl([Jn(2,hi.TG),Jn(3,oi.$),Jn(4,bs.H),Jn(5,Wi.i6),Jn(6,Xt.Bs),Jn(7,ui.d),Jn(8,Ys.Z),Jn(9,sn.lT),Jn(10,dt.Ui),Jn(11,Pn.F),Jn(12,Vi.q),Jn(13,Ct.O),Jn(14,Gt.c_),Jn(15,It.p)],al);let ll=class extends kl.p{constructor(s,v,F,ae,ge,Ie,Fe,ct,Lt,Ut,li,wi){const Ti=vi({},v);fa(ct,Ti,!0);const en=Ie.registerEditorContainer(s);typeof Ti.theme=="string"&&Ie.setTheme(Ti.theme),typeof Ti.autoDetectHighContrast!="undefined"&&Ie.setAutoDetectHighContrast(!!Ti.autoDetectHighContrast),super(s,Ti,{},ae,F,ge,wi,Ut),this._configurationService=ct,this._standaloneThemeService=Ie,this._register(en)}dispose(){super.dispose()}updateOptions(s){fa(this._configurationService,s,!0),typeof s.theme=="string"&&this._standaloneThemeService.setTheme(s.theme),typeof s.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(!!s.autoDetectHighContrast),super.updateOptions(s)}_createInnerEditor(s,v,F){return s.createInstance(ga,v,F)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(s,v,F){return this.getModifiedEditor().addCommand(s,v,F)}createContextKey(s,v){return this.getModifiedEditor().createContextKey(s,v)}addAction(s){return this.getModifiedEditor().addAction(s)}};ll=rl([Jn(2,hi.TG),Jn(3,Wi.i6),Jn(4,oi.$),Jn(5,Ys.Z),Jn(6,sn.lT),Jn(7,dt.Ui),Jn(8,ri.i),Jn(9,ds.ek),Jn(10,xl.p),Jn(11,Ol.IV)],ll);function Bl(Pe,s,v,F,ae){if(v=v||"",!F){const ge=v.indexOf(`
`);let Ie=v;return ge!==-1&&(Ie=v.substring(0,ge)),Wl(Pe,v,s.createByFilepathOrFirstLine(ae||null,Ie),ae)}return Wl(Pe,v,s.createById(F),ae)}function Wl(Pe,s,v,F){return Pe.createModel(s,v,F)}var os=e(17009),dl=e(75605),uc=e(15864),js=e(60668),hc=e(65869),ma=e(98718),fc=e(14149),Hl=e(22706),gc=e(78937),mc=e(73861),pc=function(Pe,s,v,F){var ae=arguments.length,ge=ae<3?s:F===null?F=Object.getOwnPropertyDescriptor(s,v):F,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ge=Reflect.decorate(Pe,s,v,F);else for(var Fe=Pe.length-1;Fe>=0;Fe--)(Ie=Pe[Fe])&&(ge=(ae<3?Ie(ge):ae>3?Ie(s,v,ge):Ie(s,v))||ge);return ae>3&&ge&&Object.defineProperty(s,v,ge),ge},_c=function(Pe,s){return function(v,F){s(v,F,Pe)}};class vc{constructor(s,v){this.viewModel=s,this.deltaScrollVertical=v}getId(){return this.viewModel}}let pa=class extends pe.JT{constructor(s,v,F,ae){super(),this._container=s,this._overflowWidgetsDomNode=v,this._workbenchUIElementFactory=F,this._instantiationService=ae,this._viewModel=(0,js.uh)(this,void 0),this._collapsed=(0,os.nK)(this,Ie=>{var Fe;return(Fe=this._viewModel.read(Ie))===null||Fe===void 0?void 0:Fe.collapsed.read(Ie)}),this._editorContentHeight=(0,js.uh)(this,500),this.contentHeight=(0,os.nK)(this,Ie=>(this._collapsed.read(Ie)?0:this._editorContentHeight.read(Ie))+this._outerEditorHeight),this._modifiedContentWidth=(0,js.uh)(this,0),this._modifiedWidth=(0,js.uh)(this,0),this._originalContentWidth=(0,js.uh)(this,0),this._originalWidth=(0,js.uh)(this,0),this.maxScroll=(0,os.nK)(this,Ie=>{const Fe=this._modifiedContentWidth.read(Ie)-this._modifiedWidth.read(Ie),ct=this._originalContentWidth.read(Ie)-this._originalWidth.read(Ie);return Fe>ct?{maxScroll:Fe,width:this._modifiedWidth.read(Ie)}:{maxScroll:ct,width:this._originalWidth.read(Ie)}}),this._elements=(0,Ve.h)("div.multiDiffEntry",[(0,Ve.h)("div.header@header",[(0,Ve.h)("div.header-content",[(0,Ve.h)("div.collapse-button@collapseButton"),(0,Ve.h)("div.file-path",[(0,Ve.h)("div.title.modified.show-file-icons@primaryPath",[]),(0,Ve.h)("div.status.deleted@status",["R"]),(0,Ve.h)("div.title.original.show-file-icons@secondaryPath",[])]),(0,Ve.h)("div.actions@actions")])]),(0,Ve.h)("div.editorParent",[(0,Ve.h)("div.editorContainer@editor")])]),this.editor=this._register(this._instantiationService.createInstance(kl.p,this._elements.editor,{overflowWidgetsDomNode:this._overflowWidgetsDomNode},{})),this.isModifedFocused=Vl(this.editor.getModifiedEditor()),this.isOriginalFocused=Vl(this.editor.getOriginalEditor()),this.isFocused=(0,os.nK)(this,Ie=>this.isModifedFocused.read(Ie)||this.isOriginalFocused.read(Ie)),this._resourceLabel=this._workbenchUIElementFactory.createResourceLabel?this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.primaryPath)):void 0,this._resourceLabel2=this._workbenchUIElementFactory.createResourceLabel?this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.secondaryPath)):void 0,this._dataStore=new pe.SL,this._headerHeight=40,this._lastScrollTop=-1,this._isSettingScrollTop=!1;const ge=new Ha.z(this._elements.collapseButton,{});this._register((0,os.EH)(Ie=>{ge.element.className="",ge.icon=this._collapsed.read(Ie)?go.l.chevronRight:go.l.chevronDown})),this._register(ge.onDidClick(()=>{var Ie;(Ie=this._viewModel.get())===null||Ie===void 0||Ie.collapsed.set(!this._collapsed.get(),void 0)})),this._register((0,os.EH)(Ie=>{this._elements.editor.style.display=this._collapsed.read(Ie)?"none":"block"})),this._register(this.editor.getModifiedEditor().onDidLayoutChange(Ie=>{const Fe=this.editor.getModifiedEditor().getLayoutInfo().contentWidth;this._modifiedWidth.set(Fe,void 0)})),this._register(this.editor.getOriginalEditor().onDidLayoutChange(Ie=>{const Fe=this.editor.getOriginalEditor().getLayoutInfo().contentWidth;this._originalWidth.set(Fe,void 0)})),this._register(this.editor.onDidContentSizeChange(Ie=>{(0,js.Bl)(Fe=>{this._editorContentHeight.set(Ie.contentHeight,Fe),this._modifiedContentWidth.set(this.editor.getModifiedEditor().getContentWidth(),Fe),this._originalContentWidth.set(this.editor.getOriginalEditor().getContentWidth(),Fe)})})),this._register(this.editor.getOriginalEditor().onDidScrollChange(Ie=>{if(this._isSettingScrollTop||!Ie.scrollTopChanged||!this._data)return;const Fe=Ie.scrollTop-this._lastScrollTop;this._data.deltaScrollVertical(Fe)})),this._register((0,os.EH)(Ie=>{var Fe;const ct=(Fe=this._viewModel.read(Ie))===null||Fe===void 0?void 0:Fe.isActive.read(Ie);this._elements.root.classList.toggle("active",ct)})),this._container.appendChild(this._elements.root),this._outerEditorHeight=this._headerHeight,this._register(this._instantiationService.createInstance(gc.r,this._elements.actions,eo.eH.MultiDiffEditorFileToolbar,{actionRunner:this._register(new mc.D(()=>{var Ie;return(Ie=this._viewModel.get())===null||Ie===void 0?void 0:Ie.modifiedUri})),menuOptions:{shouldForwardArgs:!0},toolbarOptions:{primaryGroup:Ie=>Ie.startsWith("navigation")},actionViewItemProvider:(Ie,Fe)=>(0,Zr.Id)(ae,Ie,Fe)}))}setScrollLeft(s){this._modifiedContentWidth.get()-this._modifiedWidth.get()>this._originalContentWidth.get()-this._originalWidth.get()?this.editor.getModifiedEditor().setScrollLeft(s):this.editor.getOriginalEditor().setScrollLeft(s)}setData(s){this._data=s;function v(ae){return Ki(vi({},ae),{scrollBeyondLastLine:!1,hideUnchangedRegions:{enabled:!0},scrollbar:{vertical:"hidden",horizontal:"hidden",handleMouseWheel:!1,useShadows:!1},renderOverviewRuler:!1,fixedOverflowWidgets:!0,overviewRulerBorder:!1})}const F=s.viewModel.entry.value;F.onOptionsDidChange&&this._dataStore.add(F.onOptionsDidChange(()=>{var ae;this.editor.updateOptions(v((ae=F.options)!==null&&ae!==void 0?ae:{}))})),(0,js.Bl)(ae=>{var ge,Ie,Fe,ct;(ge=this._resourceLabel)===null||ge===void 0||ge.setUri((Ie=s.viewModel.modifiedUri)!==null&&Ie!==void 0?Ie:s.viewModel.originalUri,{strikethrough:s.viewModel.modifiedUri===void 0});let Lt=!1,Ut=!1,li=!1,wi="";s.viewModel.modifiedUri&&s.viewModel.originalUri&&s.viewModel.modifiedUri.path!==s.viewModel.originalUri.path?(wi="R",Lt=!0):s.viewModel.modifiedUri?s.viewModel.originalUri||(wi="A",li=!0):(wi="D",Ut=!0),this._elements.status.classList.toggle("renamed",Lt),this._elements.status.classList.toggle("deleted",Ut),this._elements.status.classList.toggle("added",li),this._elements.status.innerText=wi,(Fe=this._resourceLabel2)===null||Fe===void 0||Fe.setUri(Lt?s.viewModel.originalUri:void 0,{strikethrough:!0}),this._dataStore.clear(),this._viewModel.set(s.viewModel,ae),this.editor.setModel(s.viewModel.diffEditorViewModel,ae),this.editor.updateOptions(v((ct=F.options)!==null&&ct!==void 0?ct:{}))})}render(s,v,F,ae){this._elements.root.style.visibility="visible",this._elements.root.style.top=`${s.start}px`,this._elements.root.style.height=`${s.length}px`,this._elements.root.style.width=`${v}px`,this._elements.root.style.position="absolute";const ge=s.length-this._headerHeight,Ie=Math.max(0,Math.min(ae.start-s.start,ge));this._elements.header.style.transform=`translateY(${Ie}px)`,(0,js.Bl)(Fe=>{this.editor.layout({width:v-2*8-2*1,height:s.length-this._outerEditorHeight})});try{this._isSettingScrollTop=!0,this._lastScrollTop=F,this.editor.getOriginalEditor().setScrollTop(F)}finally{this._isSettingScrollTop=!1}this._elements.header.classList.toggle("shadow",Ie>0||F>0),this._elements.header.classList.toggle("collapsed",Ie===ge)}hide(){this._elements.root.style.top="-100000px",this._elements.root.style.visibility="hidden"}};pa=pc([_c(3,hi.TG)],pa);function Vl(Pe){return(0,os.rD)(s=>{const v=new pe.SL;return v.add(Pe.onDidFocusEditorWidget(()=>s(!0))),v.add(Pe.onDidBlurEditorWidget(()=>s(!1))),v},()=>Pe.hasTextFocus())}class Cc{constructor(s){this._create=s,this._unused=new Set,this._used=new Set,this._itemData=new Map}getUnusedObj(s){var v;let F;if(this._unused.size===0)F=this._create(s),this._itemData.set(F,s);else{const ae=[...this._unused.values()];F=(v=ae.find(ge=>this._itemData.get(ge).getId()===s.getId()))!==null&&v!==void 0?v:ae[0],this._unused.delete(F),this._itemData.set(F,s),F.setData(s)}return this._used.add(F),{object:F,dispose:()=>{this._used.delete(F),this._unused.size>5?F.dispose():this._unused.add(F)}}}dispose(){for(const s of this._used)s.dispose();for(const s of this._unused)s.dispose();this._used.clear(),this._unused.clear()}}var bc=function(Pe,s,v,F){var ae=arguments.length,ge=ae<3?s:F===null?F=Object.getOwnPropertyDescriptor(s,v):F,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ge=Reflect.decorate(Pe,s,v,F);else for(var Fe=Pe.length-1;Fe>=0;Fe--)(Ie=Pe[Fe])&&(ge=(ae<3?Ie(ge):ae>3?Ie(s,v,ge):Ie(s,v))||ge);return ae>3&&ge&&Object.defineProperty(s,v,ge),ge},zl=function(Pe,s){return function(v,F){s(v,F,Pe)}};let cl=class extends pe.JT{constructor(s,v,F,ae,ge,Ie){super(),this._element=s,this._dimension=v,this._viewModel=F,this._workbenchUIElementFactory=ae,this._parentContextKeyService=ge,this._parentInstantiationService=Ie,this._elements=(0,Ve.h)("div.monaco-component.multiDiffEditor",[(0,Ve.h)("div@content",{style:{overflow:"hidden"}}),(0,Ve.h)("div.monaco-editor@overflowWidgetsDomNode",{})]),this._sizeObserver=this._register(new dl.DU(this._element,void 0)),this._objectPool=this._register(new Cc(ct=>{const Lt=this._instantiationService.createInstance(pa,this._elements.content,this._elements.overflowWidgetsDomNode,this._workbenchUIElementFactory);return Lt.setData(ct),Lt})),this._scrollable=this._register(new hc.Rm({forceIntegerValues:!1,scheduleAtNextAnimationFrame:ct=>(0,Ve.jL)((0,Ve.Jj)(this._element),ct),smoothScrollDuration:100})),this._scrollableElement=this._register(new Yr.$Z(this._elements.root,{vertical:1,horizontal:1,useShadows:!1},this._scrollable)),this.scrollTop=(0,os.rD)(this._scrollableElement.onScroll,()=>this._scrollableElement.getScrollPosition().scrollTop),this.scrollLeft=(0,os.rD)(this._scrollableElement.onScroll,()=>this._scrollableElement.getScrollPosition().scrollLeft),this._viewItemsInfo=(0,os.Be)(this,(ct,Lt)=>{const Ut=this._viewModel.read(ct);if(!Ut)return{items:[],getItem:en=>{throw new dn.he}};const li=Ut.items.read(ct),wi=new Map;return{items:li.map(en=>{var En;const Fn=Lt.add(new Sc(en,this._objectPool,this.scrollLeft,Un=>{this._scrollableElement.setScrollPosition({scrollTop:this._scrollableElement.getScrollPosition().scrollTop+Un})})),Tn=(En=this._lastDocStates)===null||En===void 0?void 0:En[Fn.getKey()];return Tn&&(0,js.PS)(Un=>{Fn.setViewState(Tn,Un)}),wi.set(en,Fn),Fn}),getItem:en=>wi.get(en)}}),this._viewItems=this._viewItemsInfo.map(this,ct=>ct.items),this._spaceBetweenPx=0,this._totalHeight=this._viewItems.map(this,(ct,Lt)=>ct.reduce((Ut,li)=>Ut+li.contentHeight.read(Lt)+this._spaceBetweenPx,0)),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._element)),this._instantiationService=this._parentInstantiationService.createChild(new Xa.y([Wi.i6,this._contextKeyService])),this._lastDocStates={},this._contextKeyService.createKey(Hl.u.inMultiDiffEditor.key,!0),this._register((0,os.gp)((ct,Lt)=>{const Ut=this._viewModel.read(ct);if(Ut&&Ut.contextKeys)for(const[li,wi]of Object.entries(Ut.contextKeys)){const Ti=this._contextKeyService.createKey(li,void 0);Ti.set(wi),Lt.add((0,pe.OF)(()=>Ti.reset()))}}));const Fe=this._parentContextKeyService.createKey(Hl.u.multiDiffEditorAllCollapsed.key,!1);this._register((0,os.EH)(ct=>{const Lt=this._viewModel.read(ct);if(Lt){const Ut=Lt.items.read(ct).every(li=>li.collapsed.read(ct));Fe.set(Ut)}})),this._register((0,os.EH)(ct=>{const Lt=this._dimension.read(ct);this._sizeObserver.observe(Lt)})),this._elements.content.style.position="relative",this._register((0,os.EH)(ct=>{const Lt=this._sizeObserver.height.read(ct);this._elements.root.style.height=`${Lt}px`;const Ut=this._totalHeight.read(ct);this._elements.content.style.height=`${Ut}px`;const li=this._sizeObserver.width.read(ct);let wi=li;const Ti=this._viewItems.read(ct),en=(0,uc.hV)(Ti,(0,di.tT)(En=>En.maxScroll.read(ct).maxScroll,di.fv));if(en){const En=en.maxScroll.read(ct);wi=li+En.maxScroll}this._scrollableElement.setScrollDimensions({width:li,height:Lt,scrollHeight:Ut,scrollWidth:wi})})),s.replaceChildren(this._scrollableElement.getDomNode()),this._register((0,pe.OF)(()=>{s.replaceChildren()})),this._register(this._register((0,os.EH)(ct=>{(0,js.Bl)(Lt=>{this.render(ct)})})))}render(s){const v=this.scrollTop.read(s);let F=0,ae=0,ge=0;const Ie=this._sizeObserver.height.read(s),Fe=ma.q.ofStartAndLength(v,Ie),ct=this._sizeObserver.width.read(s);for(const Lt of this._viewItems.read(s)){const Ut=Lt.contentHeight.read(s),li=Math.min(Ut,Ie),wi=ma.q.ofStartAndLength(ae,li),Ti=ma.q.ofStartAndLength(ge,Ut);if(Ti.isBefore(Fe))F-=Ut-li,Lt.hide();else if(Ti.isAfter(Fe))Lt.hide();else{const en=Math.max(0,Math.min(Fe.start-Ti.start,Ut-li));F-=en;const En=ma.q.ofStartAndLength(v+F,Ie);Lt.render(wi,en,ct,En)}ae+=li+this._spaceBetweenPx,ge+=Ut+this._spaceBetweenPx}this._elements.content.style.transform=`translateY(${-(v+F)}px)`}};cl=bc([zl(4,Wi.i6),zl(5,hi.TG)],cl);class Sc extends pe.JT{constructor(s,v,F,ae){super(),this.viewModel=s,this._objectPool=v,this._scrollLeft=F,this._deltaScrollVertical=ae,this._templateRef=this._register((0,js.DN)(this,void 0)),this.contentHeight=(0,os.nK)(this,ge=>{var Ie,Fe,ct;return(ct=(Fe=(Ie=this._templateRef.read(ge))===null||Ie===void 0?void 0:Ie.object.contentHeight)===null||Fe===void 0?void 0:Fe.read(ge))!==null&&ct!==void 0?ct:this.viewModel.lastTemplateData.read(ge).contentHeight}),this.maxScroll=(0,os.nK)(this,ge=>{var Ie,Fe;return(Fe=(Ie=this._templateRef.read(ge))===null||Ie===void 0?void 0:Ie.object.maxScroll.read(ge))!==null&&Fe!==void 0?Fe:{maxScroll:0,scrollWidth:0}}),this.template=(0,os.nK)(this,ge=>{var Ie;return(Ie=this._templateRef.read(ge))===null||Ie===void 0?void 0:Ie.object}),this._isHidden=(0,os.uh)(this,!1),this._isFocused=(0,os.nK)(this,ge=>{var Ie,Fe;return(Fe=(Ie=this.template.read(ge))===null||Ie===void 0?void 0:Ie.isFocused.read(ge))!==null&&Fe!==void 0?Fe:!1}),this.viewModel.setIsFocused(this._isFocused,void 0),this._register((0,os.EH)(ge=>{var Ie;const Fe=this._scrollLeft.read(ge);(Ie=this._templateRef.read(ge))===null||Ie===void 0||Ie.object.setScrollLeft(Fe)})),this._register((0,os.EH)(ge=>{const Ie=this._templateRef.read(ge);!Ie||!this._isHidden.read(ge)||Ie.object.isFocused.read(ge)||this._clear()}))}dispose(){this._clear(),super.dispose()}toString(){var s;return`VirtualViewItem(${(s=this.viewModel.entry.value.modified)===null||s===void 0?void 0:s.uri.toString()})`}getKey(){return this.viewModel.getKey()}setViewState(s,v){var F;this.viewModel.collapsed.set(s.collapsed,v),this._updateTemplateData(v);const ae=this.viewModel.lastTemplateData.get(),ge=(F=s.selections)===null||F===void 0?void 0:F.map(fc.Y.liftSelection);this.viewModel.lastTemplateData.set(Ki(vi({},ae),{selections:ge}),v);const Ie=this._templateRef.get();Ie&&ge&&Ie.object.editor.setSelections(ge)}_updateTemplateData(s){var v;const F=this._templateRef.get();F&&this.viewModel.lastTemplateData.set({contentHeight:F.object.contentHeight.get(),selections:(v=F.object.editor.getSelections())!==null&&v!==void 0?v:void 0},s)}_clear(){const s=this._templateRef.get();s&&(0,js.PS)(v=>{this._updateTemplateData(v),s.object.hide(),this._templateRef.set(void 0,v)})}hide(){this._isHidden.set(!0,void 0)}render(s,v,F,ae){this._isHidden.set(!1,void 0);let ge=this._templateRef.get();if(!ge){ge=this._objectPool.getUnusedObj(new vc(this.viewModel,this._deltaScrollVertical)),this._templateRef.set(ge,void 0);const Ie=this.viewModel.lastTemplateData.get().selections;Ie&&ge.object.editor.setSelections(Ie)}ge.object.render(s,F,v,ae)}}const oh=(0,si.P6G)("multiDiffEditor.headerBackground",{dark:"#262626",light:"tab.inactiveBackground",hcDark:"tab.inactiveBackground",hcLight:"tab.inactiveBackground"},(0,Hi.NC)("multiDiffEditor.headerBackground","The background color of the diff editor's header")),rh=(0,si.P6G)("multiDiffEditor.background",{dark:"editorBackground",light:"editorBackground",hcDark:"editorBackground",hcLight:"editorBackground"},(0,Hi.NC)("multiDiffEditor.background","The background color of the multi file diff editor")),ah=(0,si.P6G)("multiDiffEditor.border",{dark:"sideBarSectionHeader.border",light:"#cccccc",hcDark:"sideBarSectionHeader.border",hcLight:"#cccccc"},(0,Hi.NC)("multiDiffEditor.border","The border color of the multi file diff editor"));var yc=function(Pe,s,v,F){var ae=arguments.length,ge=ae<3?s:F===null?F=Object.getOwnPropertyDescriptor(s,v):F,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ge=Reflect.decorate(Pe,s,v,F);else for(var Fe=Pe.length-1;Fe>=0;Fe--)(Ie=Pe[Fe])&&(ge=(ae<3?Ie(ge):ae>3?Ie(s,v,ge):Ie(s,v))||ge);return ae>3&&ge&&Object.defineProperty(s,v,ge),ge},wc=function(Pe,s){return function(v,F){s(v,F,Pe)}};let ul=class extends pe.JT{constructor(s,v,F){super(),this._element=s,this._workbenchUIElementFactory=v,this._instantiationService=F,this._dimension=(0,os.uh)(this,void 0),this._viewModel=(0,os.uh)(this,void 0),this._widgetImpl=(0,os.Be)(this,(ae,ge)=>((0,dl.NW)(pa,ae),ge.add(this._instantiationService.createInstance((0,dl.NW)(cl,ae),this._element,this._dimension,this._viewModel,this._workbenchUIElementFactory)))),this._register((0,os.jx)(this._widgetImpl))}};ul=yc([wc(2,hi.TG)],ul);function Lc(Pe,s,v){return _n.initialize(v||{}).createInstance(al,Pe,s)}function Dc(Pe){return _n.get(oi.$).onCodeEditorAdd(v=>{Pe(v)})}function Ec(Pe){return _n.get(oi.$).onDiffEditorAdd(v=>{Pe(v)})}function xc(){return _n.get(oi.$).listCodeEditors()}function Ic(){return _n.get(oi.$).listDiffEditors()}function Nc(Pe,s,v){return _n.initialize(v||{}).createInstance(ll,Pe,s)}function Mc(Pe,s){const v=_n.initialize(s||{});return new ul(Pe,{},v)}function Tc(Pe){if(typeof Pe.id!="string"||typeof Pe.run!="function")throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return bs.P.registerCommand(Pe.id,Pe.run)}function Pc(Pe){if(typeof Pe.id!="string"||typeof Pe.label!="string"||typeof Pe.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");const s=Wi.Ao.deserialize(Pe.precondition),v=(ae,...ge)=>jt._l.runEditorCommand(ae,ge,s,(Ie,Fe,ct)=>Promise.resolve(Pe.run(Fe,...ct))),F=new pe.SL;if(F.add(bs.P.registerCommand(Pe.id,v)),Pe.contextMenuGroupId){const ae={command:{id:Pe.id,title:Pe.label},when:s,group:Pe.contextMenuGroupId,order:Pe.contextMenuOrder||0};F.add(eo.BH.appendMenuItem(eo.eH.EditorContext,ae))}if(Array.isArray(Pe.keybindings)){const ae=_n.get(ui.d);if(!(ae instanceof ur))console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService");else{const ge=Wi.Ao.and(s,Wi.Ao.deserialize(Pe.keybindingContext));F.add(ae.addDynamicKeybindings(Pe.keybindings.map(Ie=>({keybinding:Ie,command:Pe.id,when:ge}))))}}return F}function Rc(Pe){return Ul([Pe])}function Ul(Pe){const s=_n.get(ui.d);return s instanceof ur?s.addDynamicKeybindings(Pe.map(v=>({keybinding:v.keybinding,command:v.command,commandArgs:v.commandArgs,when:Wi.Ao.deserialize(v.when)}))):(console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),pe.JT.None)}function Oc(Pe,s,v){const F=_n.get(Ct.O),ae=F.getLanguageIdByMimeType(s)||s;return Bl(_n.get(Vi.q),F,Pe,ae,v)}function Ac(Pe,s){const v=_n.get(Ct.O),F=v.getLanguageIdByMimeType(s)||s||Di.bd;Pe.setLanguage(v.createById(F))}function kc(Pe,s,v){Pe&&_n.get(Is.lT).changeOne(s,Pe.uri,v)}function Fc(Pe){_n.get(Is.lT).changeAll(Pe,[])}function Bc(Pe){return _n.get(Is.lT).read(Pe)}function Wc(Pe){return _n.get(Is.lT).onMarkerChanged(Pe)}function Hc(Pe){return _n.get(Vi.q).getModel(Pe)}function Vc(){return _n.get(Vi.q).getModels()}function zc(Pe){return _n.get(Vi.q).onModelAdded(Pe)}function Uc(Pe){return _n.get(Vi.q).onModelRemoved(Pe)}function Kc(Pe){return _n.get(Vi.q).onModelLanguageChanged(v=>{Pe({model:v.model,oldLanguage:v.oldLanguageId})})}function jc(Pe){return yt(_n.get(Vi.q),_n.get(Gt.c_),Pe)}function $c(Pe,s){const v=_n.get(Ct.O),F=_n.get(Ys.Z);return ht.colorizeElement(F,v,Pe,s).then(()=>{F.registerEditorContainer(Pe)})}function Gc(Pe,s,v){const F=_n.get(Ct.O);return _n.get(Ys.Z).registerEditorContainer(Ae.E.document.body),ht.colorize(F,Pe,s,v)}function Zc(Pe,s,v=4){return _n.get(Ys.Z).registerEditorContainer(Ae.E.document.body),ht.colorizeModelLine(Pe,s,v)}function Qc(Pe){const s=He.RW.get(Pe);return s||{getInitialState:()=>$i.TJ,tokenize:(v,F,ae)=>(0,$i.Ri)(Pe,ae)}}function Yc(Pe,s){He.RW.getOrCreate(s);const v=Qc(s),F=(0,je.uq)(Pe),ae=[];let ge=v.getInitialState();for(let Ie=0,Fe=F.length;Ie<Fe;Ie++){const ct=F[Ie],Lt=v.tokenize(ct,!0,ge);ae[Ie]=Lt.tokens,ge=Lt.endState}return ae}function Jc(Pe,s){_n.get(Ys.Z).defineTheme(Pe,s)}function Xc(Pe){_n.get(Ys.Z).setTheme(Pe)}function qc(){xt.g.clearAllFontInfos()}function eu(Pe,s){return bs.P.registerCommand({id:Pe,handler:s})}function tu(Pe){return _n.get(Fi.v).registerOpener({open(F){return Ft(this,null,function*(){return typeof F=="string"&&(F=ot.o.parse(F)),Pe.open(F)})}})}function iu(Pe){return _n.get(oi.$).registerCodeEditorOpenHandler((v,F,ae)=>Ft(this,null,function*(){var ge;if(!F)return null;const Ie=(ge=v.options)===null||ge===void 0?void 0:ge.selection;let Fe;return Ie&&typeof Ie.endLineNumber=="number"&&typeof Ie.endColumn=="number"?Fe=Ie:Ie&&(Fe={lineNumber:Ie.startLineNumber,column:Ie.startColumn}),(yield Pe.openCodeEditor(F,v.resource,Fe))?F:null}))}function nu(){return{create:Lc,getEditors:xc,getDiffEditors:Ic,onDidCreateEditor:Dc,onDidCreateDiffEditor:Ec,createDiffEditor:Nc,addCommand:Tc,addEditorAction:Pc,addKeybindingRule:Rc,addKeybindingRules:Ul,createModel:Oc,setModelLanguage:Ac,setModelMarkers:kc,getModelMarkers:Bc,removeAllMarkers:Fc,onDidChangeMarkers:Wc,getModels:Vc,getModel:Hc,onDidCreateModel:zc,onWillDisposeModel:Uc,onDidChangeModelLanguage:Kc,createWebWorker:jc,colorizeElement:$c,colorize:Gc,colorizeModelLine:Zc,tokenize:Yc,defineTheme:Jc,setTheme:Xc,remeasureFonts:qc,registerCommand:eu,registerLinkOpener:tu,registerEditorOpener:iu,AccessibilitySupport:Ji.ao,ContentWidgetPositionPreference:Ji.r3,CursorChangeReason:Ji.Vi,DefaultEndOfLine:Ji._x,EditorAutoIndentStrategy:Ji.rf,EditorOption:Ji.wT,EndOfLinePreference:Ji.gm,EndOfLineSequence:Ji.jl,MinimapPosition:Ji.F5,MinimapSectionHeaderStyle:Ji.WG,MouseTargetType:Ji.MG,OverlayWidgetPositionPreference:Ji.E$,OverviewRulerLane:Ji.sh,GlyphMarginLane:Ji.U,RenderLineNumbersType:Ji.Lu,RenderMinimap:Ji.vQ,ScrollbarVisibility:Ji.g_,ScrollType:Ji.g4,TextEditorCursorBlinkingStyle:Ji.In,TextEditorCursorStyle:Ji.d2,TrackedRangeStickiness:Ji.OI,WrappingIndent:Ji.up,InjectedTextCursorStops:Ji.RM,PositionAffinity:Ji.py,ShowLightbulbIconMode:Ji.$r,ConfigurationChangedEvent:Se.Bb,BareFontInfo:qt.E4,FontInfo:qt.pR,TextModelResolvedOptions:Bi.dJ,FindMatch:Bi.tk,ApplyUpdateResult:Se.rk,EditorZoom:Nt.C,createMultiFileDiffEditor:Mc,EditorType:Ht.g,EditorOptions:Se.BH}}var su=e(64707);function ou(Pe,s){if(!s||!Array.isArray(s))return!1;for(const v of s)if(!Pe(v))return!1;return!0}function _a(Pe,s){return typeof Pe=="boolean"?Pe:s}function Kl(Pe,s){return typeof Pe=="string"?Pe:s}function ru(Pe){const s={};for(const v of Pe)s[v]=!0;return s}function jl(Pe,s=!1){s&&(Pe=Pe.map(function(F){return F.toLowerCase()}));const v=ru(Pe);return s?function(F){return v[F.toLowerCase()]!==void 0&&v.hasOwnProperty(F.toLowerCase())}:function(F){return v[F]!==void 0&&v.hasOwnProperty(F)}}function hl(Pe,s,v){s=s.replace(/@@/g,"");let F=0,ae;do ae=!1,s=s.replace(/@(\w+)/g,function(Ie,Fe){ae=!0;let ct="";if(typeof Pe[Fe]=="string")ct=Pe[Fe];else if(Pe[Fe]&&Pe[Fe]instanceof RegExp)ct=Pe[Fe].source;else throw Pe[Fe]===void 0?_i(Pe,"language definition does not contain attribute '"+Fe+"', used at: "+s):_i(Pe,"attribute reference '"+Fe+"' must be a string, used at: "+s);return xn(ct)?"":"(?:"+ct+")"}),F++;while(ae&&F<5);s=s.replace(/\x01/g,"@");const ge=(Pe.ignoreCase?"i":"")+(Pe.unicode?"u":"");if(v&&s.match(/\$[sS](\d\d?)/g)){let Fe=null,ct=null;return Lt=>(ct&&Fe===Lt||(Fe=Lt,ct=new RegExp(Zi(Pe,s,Lt),ge)),ct)}return new RegExp(s,ge)}function au(Pe,s,v,F){if(F<0)return Pe;if(F<s.length)return s[F];if(F>=100){F=F-100;const ae=v.split(".");if(ae.unshift(v),F<ae.length)return ae[F]}return null}function lu(Pe,s,v,F){let ae=-1,ge=v,Ie=v.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);Ie&&(Ie[3]&&(ae=parseInt(Ie[3]),Ie[2]&&(ae=ae+100)),ge=Ie[4]);let Fe="~",ct=ge;!ge||ge.length===0?(Fe="!=",ct=""):/^\w*$/.test(ct)?Fe="==":(Ie=ge.match(/^(@|!@|~|!~|==|!=)(.*)$/),Ie&&(Fe=Ie[1],ct=Ie[2]));let Lt;if((Fe==="~"||Fe==="!~")&&/^(\w|\|)*$/.test(ct)){const Ut=jl(ct.split("|"),Pe.ignoreCase);Lt=function(li){return Fe==="~"?Ut(li):!Ut(li)}}else if(Fe==="@"||Fe==="!@"){const Ut=Pe[ct];if(!Ut)throw _i(Pe,"the @ match target '"+ct+"' is not defined, in rule: "+s);if(!ou(function(wi){return typeof wi=="string"},Ut))throw _i(Pe,"the @ match target '"+ct+"' must be an array of strings, in rule: "+s);const li=jl(Ut,Pe.ignoreCase);Lt=function(wi){return Fe==="@"?li(wi):!li(wi)}}else if(Fe==="~"||Fe==="!~")if(ct.indexOf("$")<0){const Ut=hl(Pe,"^"+ct+"$",!1);Lt=function(li){return Fe==="~"?Ut.test(li):!Ut.test(li)}}else Lt=function(Ut,li,wi,Ti){return hl(Pe,"^"+Ri(Pe,ct,li,wi,Ti)+"$",!1).test(Ut)};else if(ct.indexOf("$")<0){const Ut=An(Pe,ct);Lt=function(li){return Fe==="=="?li===Ut:li!==Ut}}else{const Ut=An(Pe,ct);Lt=function(li,wi,Ti,en,En){const Fn=Ri(Pe,Ut,wi,Ti,en);return Fe==="=="?li===Fn:li!==Fn}}return ae===-1?{name:v,value:F,test:function(Ut,li,wi,Ti){return Lt(Ut,Ut,li,wi,Ti)}}:{name:v,value:F,test:function(Ut,li,wi,Ti){const en=au(Ut,li,wi,ae);return Lt(en||"",Ut,li,wi,Ti)}}}function fl(Pe,s,v){if(v){if(typeof v=="string")return v;if(v.token||v.token===""){if(typeof v.token!="string")throw _i(Pe,"a 'token' attribute must be of type string, in rule: "+s);{const F={token:v.token};if(v.token.indexOf("$")>=0&&(F.tokenSubst=!0),typeof v.bracket=="string")if(v.bracket==="@open")F.bracket=1;else if(v.bracket==="@close")F.bracket=-1;else throw _i(Pe,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+s);if(v.next){if(typeof v.next!="string")throw _i(Pe,"the next state must be a string value in rule: "+s);{let ae=v.next;if(!/^(@pop|@push|@popall)$/.test(ae)&&(ae[0]==="@"&&(ae=ae.substr(1)),ae.indexOf("$")<0&&!Ze(Pe,Ri(Pe,ae,"",[],""))))throw _i(Pe,"the next state '"+v.next+"' is not defined in rule: "+s);F.next=ae}}return typeof v.goBack=="number"&&(F.goBack=v.goBack),typeof v.switchTo=="string"&&(F.switchTo=v.switchTo),typeof v.log=="string"&&(F.log=v.log),typeof v.nextEmbedded=="string"&&(F.nextEmbedded=v.nextEmbedded,Pe.usesEmbedded=!0),F}}else if(Array.isArray(v)){const F=[];for(let ae=0,ge=v.length;ae<ge;ae++)F[ae]=fl(Pe,s,v[ae]);return{group:F}}else if(v.cases){const F=[];for(const ge in v.cases)if(v.cases.hasOwnProperty(ge)){const Ie=fl(Pe,s,v.cases[ge]);ge==="@default"||ge==="@"||ge===""?F.push({test:void 0,value:Ie,name:ge}):ge==="@eos"?F.push({test:function(Fe,ct,Lt,Ut){return Ut},value:Ie,name:ge}):F.push(lu(Pe,s,ge,Ie))}const ae=Pe.defaultToken;return{test:function(ge,Ie,Fe,ct){for(const Lt of F)if(!Lt.test||Lt.test(ge,Ie,Fe,ct))return Lt.value;return ae}}}else throw _i(Pe,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+s)}else return{token:""}}class du{constructor(s){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=s}setRegex(s,v){let F;if(typeof v=="string")F=v;else if(v instanceof RegExp)F=v.source;else throw _i(s,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=F.length>0&&F[0]==="^",this.name=this.name+": "+F,this.regex=hl(s,"^(?:"+(this.matchOnlyAtLineStart?F.substr(1):F)+")",!0)}setAction(s,v){this.action=fl(s,this.name,v)}resolveRegex(s){return this.regex instanceof RegExp?this.regex:this.regex(s)}}function $l(Pe,s){if(!s||typeof s!="object")throw new Error("Monarch: expecting a language definition object");const v={};v.languageId=Pe,v.includeLF=_a(s.includeLF,!1),v.noThrow=!1,v.maxStack=100,v.start=typeof s.start=="string"?s.start:null,v.ignoreCase=_a(s.ignoreCase,!1),v.unicode=_a(s.unicode,!1),v.tokenPostfix=Kl(s.tokenPostfix,"."+v.languageId),v.defaultToken=Kl(s.defaultToken,"source"),v.usesEmbedded=!1;const F=s;F.languageId=Pe,F.includeLF=v.includeLF,F.ignoreCase=v.ignoreCase,F.unicode=v.unicode,F.noThrow=v.noThrow,F.usesEmbedded=v.usesEmbedded,F.stateNames=s.tokenizer,F.defaultToken=v.defaultToken;function ae(Ie,Fe,ct){for(const Lt of ct){let Ut=Lt.include;if(Ut){if(typeof Ut!="string")throw _i(v,"an 'include' attribute must be a string at: "+Ie);if(Ut[0]==="@"&&(Ut=Ut.substr(1)),!s.tokenizer[Ut])throw _i(v,"include target '"+Ut+"' is not defined at: "+Ie);ae(Ie+"."+Ut,Fe,s.tokenizer[Ut])}else{const li=new du(Ie);if(Array.isArray(Lt)&&Lt.length>=1&&Lt.length<=3)if(li.setRegex(F,Lt[0]),Lt.length>=3)if(typeof Lt[1]=="string")li.setAction(F,{token:Lt[1],next:Lt[2]});else if(typeof Lt[1]=="object"){const wi=Lt[1];wi.next=Lt[2],li.setAction(F,wi)}else throw _i(v,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+Ie);else li.setAction(F,Lt[1]);else{if(!Lt.regex)throw _i(v,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+Ie);Lt.name&&typeof Lt.name=="string"&&(li.name=Lt.name),Lt.matchOnlyAtStart&&(li.matchOnlyAtLineStart=_a(Lt.matchOnlyAtLineStart,!1)),li.setRegex(F,Lt.regex),li.setAction(F,Lt.action)}Fe.push(li)}}}if(!s.tokenizer||typeof s.tokenizer!="object")throw _i(v,"a language definition must define the 'tokenizer' attribute as an object");v.tokenizer=[];for(const Ie in s.tokenizer)if(s.tokenizer.hasOwnProperty(Ie)){v.start||(v.start=Ie);const Fe=s.tokenizer[Ie];v.tokenizer[Ie]=new Array,ae("tokenizer."+Ie,v.tokenizer[Ie],Fe)}if(v.usesEmbedded=F.usesEmbedded,s.brackets){if(!Array.isArray(s.brackets))throw _i(v,"the 'brackets' attribute must be defined as an array")}else s.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const ge=[];for(const Ie of s.brackets){let Fe=Ie;if(Fe&&Array.isArray(Fe)&&Fe.length===3&&(Fe={token:Fe[2],open:Fe[0],close:Fe[1]}),Fe.open===Fe.close)throw _i(v,"open and close brackets in a 'brackets' attribute must be different: "+Fe.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof Fe.open=="string"&&typeof Fe.token=="string"&&typeof Fe.close=="string")ge.push({token:Fe.token+v.tokenPostfix,open:An(v,Fe.open),close:An(v,Fe.close)});else throw _i(v,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return v.brackets=ge,v.noThrow=!0,v}function cu(Pe){Di.dQ.registerLanguage(Pe)}function uu(){let Pe=[];return Pe=Pe.concat(Di.dQ.getLanguages()),Pe}function hu(Pe){return _n.get(Ct.O).languageIdCodec.encodeLanguageId(Pe)}function fu(Pe,s){return _n.withServices(()=>{const F=_n.get(Ct.O).onDidRequestRichLanguageFeatures(ae=>{ae===Pe&&(F.dispose(),s())});return F})}function gu(Pe,s){return _n.withServices(()=>{const F=_n.get(Ct.O).onDidRequestBasicLanguageFeatures(ae=>{ae===Pe&&(F.dispose(),s())});return F})}function mu(Pe,s){if(!_n.get(Ct.O).isRegisteredLanguageId(Pe))throw new Error(`Cannot set configuration for unknown language ${Pe}`);return _n.get(Gt.c_).register(Pe,s,100)}class pu{constructor(s,v){this._languageId=s,this._actual=v}dispose(){}getInitialState(){return this._actual.getInitialState()}tokenize(s,v,F){if(typeof this._actual.tokenize=="function")return Ur.adaptTokenize(this._languageId,this._actual,s,F);throw new Error("Not supported!")}tokenizeEncoded(s,v,F){const ae=this._actual.tokenizeEncoded(s,F);return new He.DI(ae.tokens,ae.endState)}}class Ur{constructor(s,v,F,ae){this._languageId=s,this._actual=v,this._languageService=F,this._standaloneThemeService=ae}dispose(){}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(s,v){const F=[];let ae=0;for(let ge=0,Ie=s.length;ge<Ie;ge++){const Fe=s[ge];let ct=Fe.startIndex;ge===0?ct=0:ct<ae&&(ct=ae),F[ge]=new He.WU(ct,Fe.scopes,v),ae=ct}return F}static adaptTokenize(s,v,F,ae){const ge=v.tokenize(F,ae),Ie=Ur._toClassicTokens(ge.tokens,s);let Fe;return ge.endState.equals(ae)?Fe=ae:Fe=ge.endState,new He.hG(Ie,Fe)}tokenize(s,v,F){return Ur.adaptTokenize(this._languageId,this._actual,s,F)}_toBinaryTokens(s,v){const F=s.encodeLanguageId(this._languageId),ae=this._standaloneThemeService.getColorTheme().tokenTheme,ge=[];let Ie=0,Fe=0;for(let Lt=0,Ut=v.length;Lt<Ut;Lt++){const li=v[Lt],wi=ae.match(F,li.scopes)|1024;if(Ie>0&&ge[Ie-1]===wi)continue;let Ti=li.startIndex;Lt===0?Ti=0:Ti<Fe&&(Ti=Fe),ge[Ie++]=Ti,ge[Ie++]=wi,Fe=Ti}const ct=new Uint32Array(Ie);for(let Lt=0;Lt<Ie;Lt++)ct[Lt]=ge[Lt];return ct}tokenizeEncoded(s,v,F){const ae=this._actual.tokenize(s,F),ge=this._toBinaryTokens(this._languageService.languageIdCodec,ae.tokens);let Ie;return ae.endState.equals(F)?Ie=F:Ie=ae.endState,new He.DI(ge,Ie)}}function _u(Pe){return typeof Pe.getInitialState=="function"}function vu(Pe){return"tokenizeEncoded"in Pe}function Gl(Pe){return Pe&&typeof Pe.then=="function"}function Cu(Pe){const s=_n.get(Ys.Z);if(Pe){const v=[null];for(let F=1,ae=Pe.length;F<ae;F++)v[F]=su.Il.fromHex(Pe[F]);s.setColorMapOverride(v)}else s.setColorMapOverride(null)}function Zl(Pe,s){return vu(s)?new pu(Pe,s):new Ur(Pe,s,_n.get(Ct.O),_n.get(Ys.Z))}function gl(Pe,s){const v=new He.MO(()=>Ft(this,null,function*(){const F=yield Promise.resolve(s.create());return F?_u(F)?Zl(Pe,F):new _t(_n.get(Ct.O),_n.get(Ys.Z),Pe,$l(Pe,F),_n.get(dt.Ui)):null}));return He.RW.registerFactory(Pe,v)}function bu(Pe,s){if(!_n.get(Ct.O).isRegisteredLanguageId(Pe))throw new Error(`Cannot set tokens provider for unknown language ${Pe}`);return Gl(s)?gl(Pe,{create:()=>s}):He.RW.register(Pe,Zl(Pe,s))}function Su(Pe,s){const v=F=>new _t(_n.get(Ct.O),_n.get(Ys.Z),Pe,$l(Pe,F),_n.get(dt.Ui));return Gl(s)?gl(Pe,{create:()=>s}):He.RW.register(Pe,v(s))}function yu(Pe,s){return _n.get(It.p).referenceProvider.register(Pe,s)}function wu(Pe,s){return _n.get(It.p).renameProvider.register(Pe,s)}function Lu(Pe,s){return _n.get(It.p).newSymbolNamesProvider.register(Pe,s)}function Du(Pe,s){return _n.get(It.p).signatureHelpProvider.register(Pe,s)}function Eu(Pe,s){return _n.get(It.p).hoverProvider.register(Pe,{provideHover:(F,ae,ge,Ie)=>Ft(this,null,function*(){const Fe=F.getWordAtPosition(ae);return Promise.resolve(s.provideHover(F,ae,ge,Ie)).then(ct=>{if(ct)return!ct.range&&Fe&&(ct.range=new qs.e(ae.lineNumber,Fe.startColumn,ae.lineNumber,Fe.endColumn)),ct.range||(ct.range=new qs.e(ae.lineNumber,ae.column,ae.lineNumber,ae.column)),ct})})})}function xu(Pe,s){return _n.get(It.p).documentSymbolProvider.register(Pe,s)}function Iu(Pe,s){return _n.get(It.p).documentHighlightProvider.register(Pe,s)}function Nu(Pe,s){return _n.get(It.p).linkedEditingRangeProvider.register(Pe,s)}function Mu(Pe,s){return _n.get(It.p).definitionProvider.register(Pe,s)}function Tu(Pe,s){return _n.get(It.p).implementationProvider.register(Pe,s)}function Pu(Pe,s){return _n.get(It.p).typeDefinitionProvider.register(Pe,s)}function Ru(Pe,s){return _n.get(It.p).codeLensProvider.register(Pe,s)}function Ou(Pe,s,v){return _n.get(It.p).codeActionProvider.register(Pe,{providedCodeActionKinds:v==null?void 0:v.providedCodeActionKinds,documentation:v==null?void 0:v.documentation,provideCodeActions:(ae,ge,Ie,Fe)=>{const Lt=_n.get(Is.lT).read({resource:ae.uri}).filter(Ut=>qs.e.areIntersectingOrTouching(Ut,ge));return s.provideCodeActions(ae,ge,{markers:Lt,only:Ie.only,trigger:Ie.trigger},Fe)},resolveCodeAction:s.resolveCodeAction})}function Au(Pe,s){return _n.get(It.p).documentFormattingEditProvider.register(Pe,s)}function ku(Pe,s){return _n.get(It.p).documentRangeFormattingEditProvider.register(Pe,s)}function Fu(Pe,s){return _n.get(It.p).onTypeFormattingEditProvider.register(Pe,s)}function Bu(Pe,s){return _n.get(It.p).linkProvider.register(Pe,s)}function Wu(Pe,s){return _n.get(It.p).completionProvider.register(Pe,s)}function Hu(Pe,s){return _n.get(It.p).colorProvider.register(Pe,s)}function Vu(Pe,s){return _n.get(It.p).foldingRangeProvider.register(Pe,s)}function zu(Pe,s){return _n.get(It.p).declarationProvider.register(Pe,s)}function Uu(Pe,s){return _n.get(It.p).selectionRangeProvider.register(Pe,s)}function Ku(Pe,s){return _n.get(It.p).documentSemanticTokensProvider.register(Pe,s)}function ju(Pe,s){return _n.get(It.p).documentRangeSemanticTokensProvider.register(Pe,s)}function $u(Pe,s){return _n.get(It.p).inlineCompletionsProvider.register(Pe,s)}function Gu(Pe,s){return _n.get(It.p).inlineEditProvider.register(Pe,s)}function Zu(Pe,s){return _n.get(It.p).inlayHintsProvider.register(Pe,s)}function Qu(){return{register:cu,getLanguages:uu,onLanguage:fu,onLanguageEncountered:gu,getEncodedLanguageId:hu,setLanguageConfiguration:mu,setColorMap:Cu,registerTokensProviderFactory:gl,setTokensProvider:bu,setMonarchTokensProvider:Su,registerReferenceProvider:yu,registerRenameProvider:wu,registerNewSymbolNameProvider:Lu,registerCompletionItemProvider:Wu,registerSignatureHelpProvider:Du,registerHoverProvider:Eu,registerDocumentSymbolProvider:xu,registerDocumentHighlightProvider:Iu,registerLinkedEditingRangeProvider:Nu,registerDefinitionProvider:Mu,registerImplementationProvider:Tu,registerTypeDefinitionProvider:Pu,registerCodeLensProvider:Ru,registerCodeActionProvider:Ou,registerDocumentFormattingEditProvider:Au,registerDocumentRangeFormattingEditProvider:ku,registerOnTypeFormattingEditProvider:Fu,registerLinkProvider:Bu,registerColorProvider:Hu,registerFoldingRangeProvider:Vu,registerDeclarationProvider:zu,registerSelectionRangeProvider:Uu,registerDocumentSemanticTokensProvider:Ku,registerDocumentRangeSemanticTokensProvider:ju,registerInlineCompletionsProvider:$u,registerInlineEditProvider:Gu,registerInlayHintsProvider:Zu,DocumentHighlightKind:Ji.MY,CompletionItemKind:Ji.cm,CompletionItemTag:Ji.we,CompletionItemInsertTextRule:Ji.a7,SymbolKind:Ji.cR,SymbolTag:Ji.r4,IndentAction:Ji.wU,CompletionTriggerKind:Ji.Ij,SignatureHelpTriggerKind:Ji.WW,InlayHintKind:Ji.gl,InlineCompletionTriggerKind:Ji.bw,InlineEditTriggerKind:Ji.rn,CodeActionTriggerType:Ji.np,NewSymbolNameTag:Ji.w,NewSymbolNameTriggerKind:Ji.Ll,PartialAcceptTriggerKind:Ji.NA,HoverVerbosityAction:Ji.bq,FoldingRangeKind:He.AD,SelectedSuggestionInfo:He.ln}}var Yu=e(86284);Se.BH.wrappingIndent.defaultValue=0,Se.BH.glyphMargin.defaultValue=!1,Se.BH.autoIndent.defaultValue=3,Se.BH.overviewRulerLanes.defaultValue=2,Yu.xC.setFormatterSelector((Pe,s,v)=>Promise.resolve(Pe[0]));const Ps=(0,Te.O)();Ps.editor=nu(),Ps.languages=Qu();const Ql=Ps.CancellationTokenSource,Yl=Ps.Emitter,Jl=Ps.KeyCode,Xl=Ps.KeyMod,ql=Ps.Position,ed=Ps.Range,td=Ps.Selection,id=Ps.SelectionDirection,nd=Ps.MarkerSeverity,sd=Ps.MarkerTag,od=Ps.Uri,rd=Ps.Token,ad=Ps.editor,ld=Ps.languages,ml=globalThis.MonacoEnvironment;(ml!=null&&ml.globalAPI||typeof define=="function"&&e.amdO)&&(globalThis.monaco=Ps),typeof globalThis.require!="undefined"&&typeof globalThis.require.config=="function"&&globalThis.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]});var lh=e(48437),dh=e(79889),ch=e(23551),uh=e(75533),hh=e(68644),fh=e(40114),gh=e(47192),mh=e(49312),ph=e(29902),_h=e(85574),vh=e(51227),Ch=e(57224),bh=e(8252),Sh=e(37033),yh=e(67611),wh=e(64676),Lh=e(2808),Dh=e(45885),Eh=e(21373),xh=e(5384),Ih=e(35455),Nh=e(21338),Mh=e(29418),Th=e(28580),Ph=e(22500),Rh=e(16211),Oh=e(41443),Ah=e(86456),kh=e(84733),Fh=e(3684),Bh=e(4050),Wh=e(57819),Hh=e(28694),Vh=e(40294),zh=e(27119),Uh=e(27368),Kh=e(73471),jh=e(35513),$h=e(82504),Gh=e(59462),Zh=e(38429),Qh=e(83615),Yh=e(51814),Jh=e(34365),Xh=e(82112),qh=e(51255),ef=e(94343),tf=e(63827),nf=e(1894),sf=e(40339),of=e(61946),rf=e(39040),af=e(30562),lf=e(67902),df=e(47877),cf=e(16970),uf=e(75792),hf=e(49827),ff=e(4380),gf=e(46778),mf=e(85607),pf=e(93336),_f=e(45015),vf=e(48948),Cf=e(89393),bf=e(69889),Sf=e(51331),yf=e(3380),wf=e(36563),Lf=e(14874),Df=e(68149),Ef=e(41214),xf=e(67752),If=e(32797),Nf=e(2837),Mf=e(75493),Tf=e(44784),Pf=e(43778),Rf=e(7443),Of=e(76381),Af=e(68498),kf=e(60067),Ff=e(30970),Bf=e(16855),Wf=e(62800);self.MonacoEnvironment=function(Pe){function s(v){return v.replace(/\/$/,"")}return{globalAPI:!1,getWorkerUrl:function(v,F){var ae=e.p,ge=(ae?s(ae)+"/":"")+Pe[F];if(/^((http:)|(https:)|(file:)|(\/\/))/.test(ge)){var Ie=String(window.location),Fe=Ie.substr(0,Ie.length-window.location.hash.length-window.location.search.length-window.location.pathname.length);if(ge.substring(0,Fe.length)!==Fe){/^(\/\/)/.test(ge)&&(ge=window.location.protocol+ge);var ct="/*"+F+'*/importScripts("'+ge+'");',Lt=new Blob([ct],{type:"application/javascript"});return URL.createObjectURL(Lt)}}return ge}}}({editorWorkerService:"editor.worker.js",css:"css.worker.js",html:"html.worker.js",json:"json.worker.js",typescript:"ts.worker.js",javascript:"ts.worker.js",less:"css.worker.js",scss:"css.worker.js",handlebars:"html.worker.js",razor:"html.worker.js"});var Ju=o},78602:function(et,Le,e){"use strict";e.r(Le),e.d(Le,{CancellationTokenSource:function(){return Se.CancellationTokenSource},Emitter:function(){return Se.Emitter},KeyCode:function(){return Se.KeyCode},KeyMod:function(){return Se.KeyMod},MarkerSeverity:function(){return Se.MarkerSeverity},MarkerTag:function(){return Se.MarkerTag},Position:function(){return Se.Position},Range:function(){return Se.Range},Selection:function(){return Se.Selection},SelectionDirection:function(){return Se.SelectionDirection},Token:function(){return Se.Token},Uri:function(){return Se.Uri},default:function(){return fi},editor:function(){return Se.editor},languages:function(){return Se.languages}});var o={};e.r(o),e.d(o,{CancellationTokenSource:function(){return Se.CancellationTokenSource},Emitter:function(){return Se.Emitter},KeyCode:function(){return Se.KeyCode},KeyMod:function(){return Se.KeyMod},MarkerSeverity:function(){return Se.MarkerSeverity},MarkerTag:function(){return Se.MarkerTag},Position:function(){return Se.Position},Range:function(){return Se.Range},Selection:function(){return Se.Selection},SelectionDirection:function(){return Se.SelectionDirection},Token:function(){return Se.Token},Uri:function(){return Se.Uri},editor:function(){return Se.editor},languages:function(){return Se.languages}});var B=e(39583),x=e(10451),O=e(2048),S=e(3398),p=e(60013),E=e(90678),R=e(47097),w=e(79150),m=e(28445),g=e(17570),a=e(76327),r=e(17564),i=e(4917),n=e(69305),c=e(63947),u=e(98013),l=e(52148),D=e(65790),f=e(65254),y=e(27528),C=e(62032),_=e(29329),N=e(32202),b=e(14585),k=e(21070),V=e(69025),K=e(43527),Z=e(5227),z=e(65959),A=e(31658),P=e(56263),I=e(68094),W=e(40466),G=e(4500),j=e(17440),Y=e(27226),H=e(95218),Q=e(38246),ie=e(87288),te=e(54766),se=e(51830),ne=e(74792),ee=e(58693),re=e(52293),he=e(90604),M=e(33811),we=e(68926),We=e(96335),ye=e(39729),X=e(19712),ve=e(16193),Ee=e(64792),Oe=e(34281),Ke=e(43142),Qe=e(50020),fe=e(78956),$=e(86811),le=e(95127),De=e(74950),xe=e(16271),Ce=e(44089),me=e(20436),be=e(21682),oe=e(60290),ue=e(1263),de=e(46281),Se=e(52654),Te=e(48437),Ae=e(79889),pe=e(23551),je=e(75533),ot=e(68644),xt=e(40114),jt=e(47192),oi=e(49312),ti=e(29902),it=e(85574),yt=e(51227),$t=e(57224),Nt=e(37033),qt=e(67611),Ht=e(64676),He=e(2808),Ct=e(45885),Gt=e(21373),Di=e(35455),$i=e(5384),Bi=e(21338),Vi=e(29418),Ji=e(28580),wn=e(22500),yn=e(16211),Cn=e(86456),an=e(84733),Rn=e(3684),kn=e(57819),fn=e(28694),On=e(40294),xn=e(27119),An=e(73471),Zt=e(27368),ci=e(35513),_i=e(82504),Ri=e(59462),Zi=e(38429),gi=e(83615),Ze=e(51814),dt=e(34365),Ue=e(82112),$e=e(51255),bt=e(94343),ft=e(63827),Ye=e(1894),vt=e(40339),nt=e(61946),Ge=e(39040),rt=e(30562),st=e(67902),tt=e(47877),_t=e(16970),kt=e(75792),at=e(49827),ht=e(4380),Mt=e(46778),ut=e(85607),ke=e(93336),lt=e(45015),mt=e(48948),Ve=e(89393),Tt=e(69889),At=e(51331),Qt=e(3380),mi=e(36563),Ci=e(14874),Oi=e(68149),Ii=e(41214),Qi=e(67752),Wi=e(32797),Jt=e(2837),Ne=e(75493),gt=e(44784),Bt=e(43778),di=e(7443),hi=e(68498),Ni=e(60067),zi=e(30970),Gi=e(16855),ln=e(62800);var ji=e(8252),dn=e(41443),tn=e(4050),Hi=e(76381),rn=e(85096),sn=e(58411);self.MonacoEnvironment=function(Je){function Pt(Wt){return Wt.replace(/\/$/,"")}return{globalAPI:!1,getWorkerUrl:function(Wt,Yt){var Vt=e.p,St=(Vt?Pt(Vt)+"/":"")+Je[Yt];if(/^((http:)|(https:)|(file:)|(\/\/))/.test(St)){var Kt=String(window.location),ei=Kt.substr(0,Kt.length-window.location.hash.length-window.location.search.length-window.location.pathname.length);if(St.substring(0,ei.length)!==ei){/^(\/\/)/.test(St)&&(St=window.location.protocol+St);var Ei="/*"+Yt+'*/importScripts("'+St+'");',Li=new Blob([Ei],{type:"application/javascript"});return URL.createObjectURL(Li)}}return St}}}({editorWorkerService:"editor.worker.js",css:"css.worker.js",html:"html.worker.js",json:"json.worker.js",typescript:"ts.worker.js",javascript:"ts.worker.js",less:"css.worker.js",scss:"css.worker.js",handlebars:"html.worker.js",razor:"html.worker.js"});var fi=o},18119:function(et,Le,e){"use strict";e.d(Le,{$W:function(){return i},Dt:function(){return a},G6:function(){return w},MG:function(){return m},Pf:function(){return E},i7:function(){return R},ie:function(){return O},uB:function(){return x},vU:function(){return p}});var o=e(44454);class B{constructor(){this.mapWindowIdToZoomFactor=new Map}getZoomFactor(c){var u;return(u=this.mapWindowIdToZoomFactor.get(this.getWindowId(c)))!==null&&u!==void 0?u:1}getWindowId(c){return c.vscodeWindowId}}B.INSTANCE=new B;function x(n,c,u){typeof c=="string"&&(c=n.matchMedia(c)),c.addEventListener("change",u)}function O(n){return B.INSTANCE.getZoomFactor(n)}const S=navigator.userAgent,p=S.indexOf("Firefox")>=0,E=S.indexOf("AppleWebKit")>=0,R=S.indexOf("Chrome")>=0,w=!R&&S.indexOf("Safari")>=0,m=!R&&!w&&E,g=S.indexOf("Electron/")>=0,a=S.indexOf("Android")>=0;let r=!1;if(typeof o.E.matchMedia=="function"){const n=o.E.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),c=o.E.matchMedia("(display-mode: fullscreen)");r=n.matches,x(o.E,n,({matches:u})=>{r&&c.matches||(r=u)})}function i(){return r}},8435:function(et,Le,e){"use strict";e.d(Le,{D:function(){return O}});var o=e(18119),B=e(44454),x=e(15122);const O={clipboard:{writeText:x.tY||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:x.tY||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:x.tY||o.$W()?0:navigator.keyboard||o.G6?1:2,touch:"ontouchstart"in B.E||navigator.maxTouchPoints>0,pointerEvents:B.E.PointerEvent&&("ontouchstart"in B.E||navigator.maxTouchPoints>0)}},92613:function(et,Le,e){"use strict";e.d(Le,{g:function(){return B}});var o=e(56742);const B={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:o.v.text,INTERNAL_URI_LIST:"application/vnd.code.uri-list"}},91540:function(et,Le,e){"use strict";e.d(Le,{$:function(){return wn},$Z:function(){return Cn},Ay:function(){return $},Ce:function(){return Di},Cp:function(){return an},D6:function(){return se},Dx:function(){return te},FK:function(){return ye},GQ:function(){return A},H9:function(){return De},I8:function(){return we},If:function(){return X},Jc:function(){return _},Jj:function(){return n},N5:function(){return oi},OO:function(){return fe},PO:function(){return b},R3:function(){return Gt},Ro:function(){return ee},Uh:function(){return Rn},V3:function(){return kn},WN:function(){return me},XT:function(){return An},Xo:function(){return C},ZY:function(){return D},_0:function(){return qt},_F:function(){return Zt},_h:function(){return xn},_q:function(){return Ri},aU:function(){return oe},b5:function(){return xe},cl:function(){return yt},dS:function(){return de},dp:function(){return he},e4:function(){return Ct},ed:function(){return f},eg:function(){return Zi},ey:function(){return N},fk:function(){return ot},go:function(){return He},h:function(){return Ze},i:function(){return M},iJ:function(){return yn},jL:function(){return H},jg:function(){return Ee},jt:function(){return fn},lI:function(){return Y},mc:function(){return $i},mu:function(){return z},ne:function(){return Q},nm:function(){return V},sQ:function(){return ci},se:function(){return G},tw:function(){return it},uN:function(){return xt},uP:function(){return Ce},uU:function(){return Ke},vL:function(){return Nt},vY:function(){return le},vd:function(){return ti},vx:function(){return j},w:function(){return We},wY:function(){return On},wn:function(){return ve},xQ:function(){return re},zB:function(){return $t}});var o=e(18119),B=e(8435),x=e(50908),O=e(65512),S=e(74696),p=e(25602),E=e(79329),R=e(95937),w=e(45029),m=e(91649),g=e(15122),a=e(95948),r=e(44454);const{registerWindow:i,getWindow:n,getDocument:c,getWindows:u,getWindowsCount:l,getWindowId:D,getWindowById:f,hasWindow:y,onDidRegisterWindow:C,onWillUnregisterWindow:_,onDidUnregisterWindow:N}=function(){const Ue=new Map;(0,r.H)(r.E,1);const $e={window:r.E,disposables:new w.SL};Ue.set(r.E.vscodeWindowId,$e);const bt=new E.Q5,ft=new E.Q5,Ye=new E.Q5;function vt(nt,Ge){const rt=typeof nt=="number"?Ue.get(nt):void 0;return rt!=null?rt:Ge?$e:void 0}return{onDidRegisterWindow:bt.event,onWillUnregisterWindow:Ye.event,onDidUnregisterWindow:ft.event,registerWindow(nt){if(Ue.has(nt.vscodeWindowId))return w.JT.None;const Ge=new w.SL,rt={window:nt,disposables:Ge.add(new w.SL)};return Ue.set(nt.vscodeWindowId,rt),Ge.add((0,w.OF)(()=>{Ue.delete(nt.vscodeWindowId),ft.fire(nt)})),Ge.add(V(nt,it.BEFORE_UNLOAD,()=>{Ye.fire(nt)})),bt.fire(rt),Ge},getWindows(){return Ue.values()},getWindowsCount(){return Ue.size},getWindowId(nt){return nt.vscodeWindowId},hasWindow(nt){return Ue.has(nt)},getWindowById:vt,getWindow(nt){var Ge;const rt=nt;if(!((Ge=rt==null?void 0:rt.ownerDocument)===null||Ge===void 0)&&Ge.defaultView)return rt.ownerDocument.defaultView.window;const st=nt;return st!=null&&st.view?st.view.window:r.E},getDocument(nt){return n(nt).document}}}();function b(Ue){for(;Ue.firstChild;)Ue.firstChild.remove()}class k{constructor($e,bt,ft,Ye){this._node=$e,this._type=bt,this._handler=ft,this._options=Ye||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function V(Ue,$e,bt,ft){return new k(Ue,$e,bt,ft)}function K(Ue,$e){return function(bt){return $e(new O.n(Ue,bt))}}function Z(Ue){return function($e){return Ue(new x.y($e))}}const z=function($e,bt,ft,Ye){let vt=ft;return bt==="click"||bt==="mousedown"?vt=K(n($e),ft):(bt==="keydown"||bt==="keypress"||bt==="keyup")&&(vt=Z(ft)),V($e,bt,vt,Ye)},A=function($e,bt,ft){const Ye=K(n($e),bt);return I($e,Ye,ft)},P=function($e,bt,ft){const Ye=K(n($e),bt);return W($e,Ye,ft)};function I(Ue,$e,bt){return V(Ue,g.gn&&B.D.pointerEvents?it.POINTER_DOWN:it.MOUSE_DOWN,$e,bt)}function W(Ue,$e,bt){return V(Ue,platform.isIOS&&BrowserFeatures.pointerEvents?it.POINTER_UP:it.MOUSE_UP,$e,bt)}function G(Ue,$e,bt){return(0,S.y5)(Ue,$e,bt)}class j extends S.hF{constructor($e,bt){super($e,bt)}}let Y,H;class Q extends S.zh{constructor($e){super(),this.defaultTarget=$e&&n($e)}cancelAndSet($e,bt,ft){return super.cancelAndSet($e,bt,ft!=null?ft:this.defaultTarget)}}class ie{constructor($e,bt=0){this._runner=$e,this.priority=bt,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch($e){(0,p.dL)($e)}}static sort($e,bt){return bt.priority-$e.priority}}(function(){const Ue=new Map,$e=new Map,bt=new Map,ft=new Map,Ye=vt=>{var nt;bt.set(vt,!1);const Ge=(nt=Ue.get(vt))!==null&&nt!==void 0?nt:[];for($e.set(vt,Ge),Ue.set(vt,[]),ft.set(vt,!0);Ge.length>0;)Ge.sort(ie.sort),Ge.shift().execute();ft.set(vt,!1)};H=(vt,nt,Ge=0)=>{const rt=D(vt),st=new ie(nt,Ge);let tt=Ue.get(rt);return tt||(tt=[],Ue.set(rt,tt)),tt.push(st),bt.get(rt)||(bt.set(rt,!0),vt.requestAnimationFrame(()=>Ye(rt))),st},Y=(vt,nt,Ge)=>{const rt=D(vt);if(ft.get(rt)){const st=new ie(nt,Ge);let tt=$e.get(rt);return tt||(tt=[],$e.set(rt,tt)),tt.push(st),st}else return H(vt,nt,Ge)}})();function te(Ue){return n(Ue).getComputedStyle(Ue,null)}function se(Ue,$e){const bt=n(Ue),ft=bt.document;if(Ue!==ft.body)return new ee(Ue.clientWidth,Ue.clientHeight);if(g.gn&&(bt!=null&&bt.visualViewport))return new ee(bt.visualViewport.width,bt.visualViewport.height);if(bt!=null&&bt.innerWidth&&bt.innerHeight)return new ee(bt.innerWidth,bt.innerHeight);if(ft.body&&ft.body.clientWidth&&ft.body.clientHeight)return new ee(ft.body.clientWidth,ft.body.clientHeight);if(ft.documentElement&&ft.documentElement.clientWidth&&ft.documentElement.clientHeight)return new ee(ft.documentElement.clientWidth,ft.documentElement.clientHeight);if($e)return se($e);throw new Error("Unable to figure out browser width and height")}class ne{static convertToPixels($e,bt){return parseFloat(bt)||0}static getDimension($e,bt,ft){const Ye=te($e),vt=Ye?Ye.getPropertyValue(bt):"0";return ne.convertToPixels($e,vt)}static getBorderLeftWidth($e){return ne.getDimension($e,"border-left-width","borderLeftWidth")}static getBorderRightWidth($e){return ne.getDimension($e,"border-right-width","borderRightWidth")}static getBorderTopWidth($e){return ne.getDimension($e,"border-top-width","borderTopWidth")}static getBorderBottomWidth($e){return ne.getDimension($e,"border-bottom-width","borderBottomWidth")}static getPaddingLeft($e){return ne.getDimension($e,"padding-left","paddingLeft")}static getPaddingRight($e){return ne.getDimension($e,"padding-right","paddingRight")}static getPaddingTop($e){return ne.getDimension($e,"padding-top","paddingTop")}static getPaddingBottom($e){return ne.getDimension($e,"padding-bottom","paddingBottom")}static getMarginLeft($e){return ne.getDimension($e,"margin-left","marginLeft")}static getMarginTop($e){return ne.getDimension($e,"margin-top","marginTop")}static getMarginRight($e){return ne.getDimension($e,"margin-right","marginRight")}static getMarginBottom($e){return ne.getDimension($e,"margin-bottom","marginBottom")}}class ee{constructor($e,bt){this.width=$e,this.height=bt}with($e=this.width,bt=this.height){return $e!==this.width||bt!==this.height?new ee($e,bt):this}static is($e){return typeof $e=="object"&&typeof $e.height=="number"&&typeof $e.width=="number"}static lift($e){return $e instanceof ee?$e:new ee($e.width,$e.height)}static equals($e,bt){return $e===bt?!0:!$e||!bt?!1:$e.width===bt.width&&$e.height===bt.height}}ee.None=new ee(0,0);function re(Ue){let $e=Ue.offsetParent,bt=Ue.offsetTop,ft=Ue.offsetLeft;for(;(Ue=Ue.parentNode)!==null&&Ue!==Ue.ownerDocument.body&&Ue!==Ue.ownerDocument.documentElement;){bt-=Ue.scrollTop;const Ye=Qe(Ue)?null:te(Ue);Ye&&(ft-=Ye.direction!=="rtl"?Ue.scrollLeft:-Ue.scrollLeft),Ue===$e&&(ft+=ne.getBorderLeftWidth(Ue),bt+=ne.getBorderTopWidth(Ue),bt+=Ue.offsetTop,ft+=Ue.offsetLeft,$e=Ue.offsetParent)}return{left:ft,top:bt}}function he(Ue,$e,bt){typeof $e=="number"&&(Ue.style.width=`${$e}px`),typeof bt=="number"&&(Ue.style.height=`${bt}px`)}function M(Ue){const $e=Ue.getBoundingClientRect(),bt=n(Ue);return{left:$e.left+bt.scrollX,top:$e.top+bt.scrollY,width:$e.width,height:$e.height}}function we(Ue){let $e=Ue,bt=1;do{const ft=te($e).zoom;ft!=null&&ft!=="1"&&(bt*=ft),$e=$e.parentElement}while($e!==null&&$e!==$e.ownerDocument.documentElement);return bt}function We(Ue){const $e=ne.getMarginLeft(Ue)+ne.getMarginRight(Ue);return Ue.offsetWidth+$e}function ye(Ue){const $e=ne.getBorderLeftWidth(Ue)+ne.getBorderRightWidth(Ue),bt=ne.getPaddingLeft(Ue)+ne.getPaddingRight(Ue);return Ue.offsetWidth-$e-bt}function X(Ue){const $e=ne.getBorderTopWidth(Ue)+ne.getBorderBottomWidth(Ue),bt=ne.getPaddingTop(Ue)+ne.getPaddingBottom(Ue);return Ue.offsetHeight-$e-bt}function ve(Ue){const $e=ne.getMarginTop(Ue)+ne.getMarginBottom(Ue);return Ue.offsetHeight+$e}function Ee(Ue,$e){return!!($e!=null&&$e.contains(Ue))}function Oe(Ue,$e,bt){for(;Ue&&Ue.nodeType===Ue.ELEMENT_NODE;){if(Ue.classList.contains($e))return Ue;if(bt){if(typeof bt=="string"){if(Ue.classList.contains(bt))return null}else if(Ue===bt)return null}Ue=Ue.parentNode}return null}function Ke(Ue,$e,bt){return!!Oe(Ue,$e,bt)}function Qe(Ue){return Ue&&!!Ue.host&&!!Ue.mode}function fe(Ue){return!!$(Ue)}function $(Ue){for(var $e;Ue.parentNode;){if(Ue===(($e=Ue.ownerDocument)===null||$e===void 0?void 0:$e.body))return null;Ue=Ue.parentNode}return Qe(Ue)?Ue:null}function le(){let Ue=Ce().activeElement;for(;Ue!=null&&Ue.shadowRoot;)Ue=Ue.shadowRoot.activeElement;return Ue}function De(Ue){return le()===Ue}function xe(Ue){return Ee(le(),Ue)}function Ce(){var Ue;return l()<=1?r.E.document:(Ue=Array.from(u()).map(({window:bt})=>bt.document).find(bt=>bt.hasFocus()))!==null&&Ue!==void 0?Ue:r.E.document}function me(){var Ue,$e;return($e=(Ue=Ce().defaultView)===null||Ue===void 0?void 0:Ue.window)!==null&&$e!==void 0?$e:r.E}const be=new Map;function oe(){return new ue}class ue{constructor(){this._currentCssStyle="",this._styleSheet=void 0}setStyle($e){$e!==this._currentCssStyle&&(this._currentCssStyle=$e,this._styleSheet?this._styleSheet.innerText=$e:this._styleSheet=de(r.E.document.head,bt=>bt.innerText=$e))}dispose(){this._styleSheet&&(this._styleSheet.remove(),this._styleSheet=void 0)}}function de(Ue=r.E.document.head,$e,bt){const ft=document.createElement("style");if(ft.type="text/css",ft.media="screen",$e==null||$e(ft),Ue.appendChild(ft),bt&&bt.add((0,w.OF)(()=>Ue.removeChild(ft))),Ue===r.E.document.head){const Ye=new Set;be.set(ft,Ye);for(const{window:vt,disposables:nt}of u()){if(vt===r.E)continue;const Ge=nt.add(Se(ft,Ye,vt));bt==null||bt.add(Ge)}}return ft}function Se(Ue,$e,bt){var ft,Ye;const vt=new w.SL,nt=Ue.cloneNode(!0);bt.document.head.appendChild(nt),vt.add((0,w.OF)(()=>bt.document.head.removeChild(nt)));for(const Ge of je(Ue))(ft=nt.sheet)===null||ft===void 0||ft.insertRule(Ge.cssText,(Ye=nt.sheet)===null||Ye===void 0?void 0:Ye.cssRules.length);return vt.add(Te.observe(Ue,vt,{childList:!0})(()=>{nt.textContent=Ue.textContent})),$e.add(nt),vt.add((0,w.OF)(()=>$e.delete(nt))),vt}const Te=new class{constructor(){this.mutationObservers=new Map}observe(Ue,$e,bt){let ft=this.mutationObservers.get(Ue);ft||(ft=new Map,this.mutationObservers.set(Ue,ft));const Ye=(0,a.vp)(bt);let vt=ft.get(Ye);if(vt)vt.users+=1;else{const nt=new E.Q5,Ge=new MutationObserver(st=>nt.fire(st));Ge.observe(Ue,bt);const rt=vt={users:1,observer:Ge,onDidMutate:nt.event};$e.add((0,w.OF)(()=>{rt.users-=1,rt.users===0&&(nt.dispose(),Ge.disconnect(),ft==null||ft.delete(Ye),(ft==null?void 0:ft.size)===0&&this.mutationObservers.delete(Ue))})),ft.set(Ye,vt)}return vt.onDidMutate}};let Ae=null;function pe(){return Ae||(Ae=de()),Ae}function je(Ue){var $e,bt;return!(($e=Ue==null?void 0:Ue.sheet)===null||$e===void 0)&&$e.rules?Ue.sheet.rules:!((bt=Ue==null?void 0:Ue.sheet)===null||bt===void 0)&&bt.cssRules?Ue.sheet.cssRules:[]}function ot(Ue,$e,bt=pe()){var ft,Ye;if(!(!bt||!$e)){(ft=bt.sheet)===null||ft===void 0||ft.insertRule(`${Ue} {${$e}}`,0);for(const vt of(Ye=be.get(bt))!==null&&Ye!==void 0?Ye:[])ot(Ue,$e,vt)}}function xt(Ue,$e=pe()){var bt,ft;if(!$e)return;const Ye=je($e),vt=[];for(let nt=0;nt<Ye.length;nt++){const Ge=Ye[nt];jt(Ge)&&Ge.selectorText.indexOf(Ue)!==-1&&vt.push(nt)}for(let nt=vt.length-1;nt>=0;nt--)(bt=$e.sheet)===null||bt===void 0||bt.deleteRule(vt[nt]);for(const nt of(ft=be.get($e))!==null&&ft!==void 0?ft:[])xt(Ue,nt)}function jt(Ue){return typeof Ue.selectorText=="string"}function oi(Ue){return Ue instanceof MouseEvent||Ue instanceof n(Ue).MouseEvent}function ti(Ue){return Ue instanceof KeyboardEvent||Ue instanceof n(Ue).KeyboardEvent}const it={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",PASTE:"paste",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:o.Pf?"webkitAnimationStart":"animationstart",ANIMATION_END:o.Pf?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:o.Pf?"webkitAnimationIteration":"animationiteration"};function yt(Ue){const $e=Ue;return!!($e&&typeof $e.preventDefault=="function"&&typeof $e.stopPropagation=="function")}const $t={stop:(Ue,$e)=>(Ue.preventDefault(),$e&&Ue.stopPropagation(),Ue)};function Nt(Ue){const $e=[];for(let bt=0;Ue&&Ue.nodeType===Ue.ELEMENT_NODE;bt++)$e[bt]=Ue.scrollTop,Ue=Ue.parentNode;return $e}function qt(Ue,$e){for(let bt=0;Ue&&Ue.nodeType===Ue.ELEMENT_NODE;bt++)Ue.scrollTop!==$e[bt]&&(Ue.scrollTop=$e[bt]),Ue=Ue.parentNode}class Ht extends w.JT{static hasFocusWithin($e){if($e instanceof HTMLElement){const bt=$($e),ft=bt?bt.activeElement:$e.ownerDocument.activeElement;return Ee(ft,$e)}else{const bt=$e;return Ee(bt.document.activeElement,bt.document)}}constructor($e){super(),this._onDidFocus=this._register(new E.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new E.Q5),this.onDidBlur=this._onDidBlur.event;let bt=Ht.hasFocusWithin($e),ft=!1;const Ye=()=>{ft=!1,bt||(bt=!0,this._onDidFocus.fire())},vt=()=>{bt&&(ft=!0,($e instanceof HTMLElement?n($e):$e).setTimeout(()=>{ft&&(ft=!1,bt=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{Ht.hasFocusWithin($e)!==bt&&(bt?vt():Ye())},this._register(V($e,it.FOCUS,Ye,!0)),this._register(V($e,it.BLUR,vt,!0)),$e instanceof HTMLElement&&(this._register(V($e,it.FOCUS_IN,()=>this._refreshStateHandler())),this._register(V($e,it.FOCUS_OUT,()=>this._refreshStateHandler())))}}function He(Ue){return new Ht(Ue)}function Ct(Ue,$e){return Ue.after($e),$e}function Gt(Ue,...$e){if(Ue.append(...$e),$e.length===1&&typeof $e[0]!="string")return $e[0]}function Di(Ue,$e){return Ue.insertBefore($e,Ue.firstChild),$e}function $i(Ue,...$e){Ue.innerText="",Gt(Ue,...$e)}const Bi=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var Vi;(function(Ue){Ue.HTML="http://www.w3.org/1999/xhtml",Ue.SVG="http://www.w3.org/2000/svg"})(Vi||(Vi={}));function Ji(Ue,$e,bt,...ft){const Ye=Bi.exec($e);if(!Ye)throw new Error("Bad use of emmet");const vt=Ye[1]||"div";let nt;return Ue!==Vi.HTML?nt=document.createElementNS(Ue,vt):nt=document.createElement(vt),Ye[3]&&(nt.id=Ye[3]),Ye[4]&&(nt.className=Ye[4].replace(/\./g," ").trim()),bt&&Object.entries(bt).forEach(([Ge,rt])=>{typeof rt!="undefined"&&(/^on\w+$/.test(Ge)?nt[Ge]=rt:Ge==="selected"?rt&&nt.setAttribute(Ge,"true"):nt.setAttribute(Ge,rt))}),nt.append(...ft),nt}function wn(Ue,$e,...bt){return Ji(Vi.HTML,Ue,$e,...bt)}wn.SVG=function(Ue,$e,...bt){return Ji(Vi.SVG,Ue,$e,...bt)};function yn(Ue,...$e){Ue?Cn(...$e):an(...$e)}function Cn(...Ue){for(const $e of Ue)$e.style.display="",$e.removeAttribute("aria-hidden")}function an(...Ue){for(const $e of Ue)$e.style.display="none",$e.setAttribute("aria-hidden","true")}function Rn(Ue,$e){const bt=Ue.devicePixelRatio*$e;return Math.max(1,Math.floor(bt))/Ue.devicePixelRatio}function kn(Ue){r.E.open(Ue,"_blank","noopener")}function fn(Ue,$e){const bt=()=>{$e(),ft=H(Ue,bt)};let ft=H(Ue,bt);return(0,w.OF)(()=>ft.dispose())}m.WX.setPreferredWebSchema(/^https:/.test(r.E.location.href)?"https":"http");function On(Ue){return Ue?`url('${m.Gi.uriToBrowserUri(Ue).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function xn(Ue){return`'${Ue.replace(/'/g,"%27")}'`}function An(Ue,$e){if(Ue!==void 0){const bt=Ue.match(/^\s*var\((.+)\)$/);if(bt){const ft=bt[1].split(",",2);return ft.length===2&&($e=An(ft[1].trim(),$e)),`var(${ft[0]}, ${$e})`}return Ue}return $e}function Zt(Ue,$e=!1){const bt=document.createElement("a");return R.v5("afterSanitizeAttributes",ft=>{for(const Ye of["href","src"])if(ft.hasAttribute(Ye)){const vt=ft.getAttribute(Ye);if(Ye==="href"&&vt.startsWith("#"))continue;if(bt.href=vt,!Ue.includes(bt.protocol.replace(/:$/,""))){if($e&&Ye==="src"&&bt.href.startsWith("data:"))continue;ft.removeAttribute(Ye)}}}),(0,w.OF)(()=>{R.ok("afterSanitizeAttributes")})}const ci=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]),_i=Object.freeze({ALLOWED_TAGS:["a","button","blockquote","code","div","h1","h2","h3","h4","h5","h6","hr","input","label","li","p","pre","select","small","span","strong","textarea","ul","ol"],ALLOWED_ATTR:["href","data-href","data-command","target","title","name","src","alt","class","id","role","tabindex","style","data-code","width","height","align","x-dispatch","required","checked","placeholder","type","start"],RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1,RETURN_TRUSTED_TYPE:!0});class Ri extends E.Q5{constructor(){super(),this._subscriptions=new w.SL,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(E.ju.runAndSubscribe(C,({window:$e,disposables:bt})=>this.registerListeners($e,bt),{window:r.E,disposables:this._subscriptions}))}registerListeners($e,bt){bt.add(V($e,"keydown",ft=>{if(ft.defaultPrevented)return;const Ye=new x.y(ft);if(!(Ye.keyCode===6&&ft.repeat)){if(ft.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(ft.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(ft.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(ft.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(Ye.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=ft.altKey,this._keyStatus.ctrlKey=ft.ctrlKey,this._keyStatus.metaKey=ft.metaKey,this._keyStatus.shiftKey=ft.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=ft,this.fire(this._keyStatus))}},!0)),bt.add(V($e,"keyup",ft=>{ft.defaultPrevented||(!ft.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!ft.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!ft.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!ft.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=ft.altKey,this._keyStatus.ctrlKey=ft.ctrlKey,this._keyStatus.metaKey=ft.metaKey,this._keyStatus.shiftKey=ft.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=ft,this.fire(this._keyStatus)))},!0)),bt.add(V($e.document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),bt.add(V($e.document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),bt.add(V($e.document.body,"mousemove",ft=>{ft.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),bt.add(V($e,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return Ri.instance||(Ri.instance=new Ri),Ri.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}class Zi extends w.JT{constructor($e,bt){super(),this.element=$e,this.callbacks=bt,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this.callbacks.onDragStart&&this._register(V(this.element,it.DRAG_START,$e=>{var bt,ft;(ft=(bt=this.callbacks).onDragStart)===null||ft===void 0||ft.call(bt,$e)})),this.callbacks.onDrag&&this._register(V(this.element,it.DRAG,$e=>{var bt,ft;(ft=(bt=this.callbacks).onDrag)===null||ft===void 0||ft.call(bt,$e)})),this._register(V(this.element,it.DRAG_ENTER,$e=>{var bt,ft;this.counter++,this.dragStartTime=$e.timeStamp,(ft=(bt=this.callbacks).onDragEnter)===null||ft===void 0||ft.call(bt,$e)})),this._register(V(this.element,it.DRAG_OVER,$e=>{var bt,ft;$e.preventDefault(),(ft=(bt=this.callbacks).onDragOver)===null||ft===void 0||ft.call(bt,$e,$e.timeStamp-this.dragStartTime)})),this._register(V(this.element,it.DRAG_LEAVE,$e=>{var bt,ft;this.counter--,this.counter===0&&(this.dragStartTime=0,(ft=(bt=this.callbacks).onDragLeave)===null||ft===void 0||ft.call(bt,$e))})),this._register(V(this.element,it.DRAG_END,$e=>{var bt,ft;this.counter=0,this.dragStartTime=0,(ft=(bt=this.callbacks).onDragEnd)===null||ft===void 0||ft.call(bt,$e)})),this._register(V(this.element,it.DROP,$e=>{var bt,ft;this.counter=0,this.dragStartTime=0,(ft=(bt=this.callbacks).onDrop)===null||ft===void 0||ft.call(bt,$e)}))}}const gi=new RegExp("(?<tag>[\\w\\-]+)?(?:#(?<id>[\\w\\-]+))?(?<class>(?:\\.(?:[\\w\\-]+))*)(?:@(?<name>(?:[\\w\\_])+))?");function Ze(Ue,...$e){let bt,ft;Array.isArray($e[0])?(bt={},ft=$e[0]):(bt=$e[0]||{},ft=$e[1]);const Ye=gi.exec(Ue);if(!Ye||!Ye.groups)throw new Error("Bad use of h");const vt=Ye.groups.tag||"div",nt=document.createElement(vt);Ye.groups.id&&(nt.id=Ye.groups.id);const Ge=[];if(Ye.groups.class)for(const st of Ye.groups.class.split("."))st!==""&&Ge.push(st);if(bt.className!==void 0)for(const st of bt.className.split("."))st!==""&&Ge.push(st);Ge.length>0&&(nt.className=Ge.join(" "));const rt={};if(Ye.groups.name&&(rt[Ye.groups.name]=nt),ft)for(const st of ft)st instanceof HTMLElement?nt.appendChild(st):typeof st=="string"?nt.append(st):"root"in st&&(Object.assign(rt,st),nt.appendChild(st.root));for(const[st,tt]of Object.entries(bt))if(st!=="className")if(st==="style")for(const[_t,kt]of Object.entries(tt))nt.style.setProperty(dt(_t),typeof kt=="number"?kt+"px":""+kt);else st==="tabIndex"?nt.tabIndex=tt:nt.setAttribute(dt(st),tt.toString());return rt.root=nt,rt}function dt(Ue){return Ue.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}},95937:function(et,Le,e){"use strict";e.d(Le,{Nw:function(){return Ke},ok:function(){return De},v5:function(){return le}});const{entries:o,setPrototypeOf:B,isFrozen:x,getPrototypeOf:O,getOwnPropertyDescriptor:S}=Object;let{freeze:p,seal:E,create:R}=Object,{apply:w,construct:m}=typeof Reflect!="undefined"&&Reflect;w||(w=function(be,oe,ue){return be.apply(oe,ue)}),p||(p=function(be){return be}),E||(E=function(be){return be}),m||(m=function(be,oe){return new be(...oe)});const g=C(Array.prototype.forEach),a=C(Array.prototype.pop),r=C(Array.prototype.push),i=C(String.prototype.toLowerCase),n=C(String.prototype.toString),c=C(String.prototype.match),u=C(String.prototype.replace),l=C(String.prototype.indexOf),D=C(String.prototype.trim),f=C(RegExp.prototype.test),y=_(TypeError);function C(me){return function(be){for(var oe=arguments.length,ue=new Array(oe>1?oe-1:0),de=1;de<oe;de++)ue[de-1]=arguments[de];return w(me,be,ue)}}function _(me){return function(){for(var be=arguments.length,oe=new Array(be),ue=0;ue<be;ue++)oe[ue]=arguments[ue];return m(me,oe)}}function N(me,be,oe){var ue;oe=(ue=oe)!==null&&ue!==void 0?ue:i,B&&B(me,null);let de=be.length;for(;de--;){let Se=be[de];if(typeof Se=="string"){const Te=oe(Se);Te!==Se&&(x(be)||(be[de]=Te),Se=Te)}me[Se]=!0}return me}function b(me){const be=R(null);for(const[oe,ue]of o(me))be[oe]=ue;return be}function k(me,be){for(;me!==null;){const ue=S(me,be);if(ue){if(ue.get)return C(ue.get);if(typeof ue.value=="function")return C(ue.value)}me=O(me)}function oe(ue){return console.warn("fallback value for",ue),null}return oe}const V=p(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),K=p(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Z=p(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),z=p(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),A=p(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),P=p(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),I=p(["#text"]),W=p(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),G=p(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),j=p(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Y=p(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),H=E(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Q=E(/<%[\w\W]*|[\w\W]*%>/gm),ie=E(/\${[\w\W]*}/gm),te=E(/^data-[\-\w.\u00B7-\uFFFF]/),se=E(/^aria-[\-\w]+$/),ne=E(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ee=E(/^(?:\w+script|data):/i),re=E(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),he=E(/^html$/i);var M=Object.freeze({__proto__:null,MUSTACHE_EXPR:H,ERB_EXPR:Q,TMPLIT_EXPR:ie,DATA_ATTR:te,ARIA_ATTR:se,IS_ALLOWED_URI:ne,IS_SCRIPT_OR_DATA:ee,ATTR_WHITESPACE:re,DOCTYPE_NAME:he});const we=()=>typeof window=="undefined"?null:window,We=function(be,oe){if(typeof be!="object"||typeof be.createPolicy!="function")return null;let ue=null;const de="data-tt-policy-suffix";oe&&oe.hasAttribute(de)&&(ue=oe.getAttribute(de));const Se="dompurify"+(ue?"#"+ue:"");try{return be.createPolicy(Se,{createHTML(Te){return Te},createScriptURL(Te){return Te}})}catch(Te){return console.warn("TrustedTypes policy "+Se+" could not be created."),null}};function ye(){let me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:we();const be=Vt=>ye(Vt);if(be.version="3.0.5",be.removed=[],!me||!me.document||me.document.nodeType!==9)return be.isSupported=!1,be;const oe=me.document,ue=oe.currentScript;let{document:de}=me;const{DocumentFragment:Se,HTMLTemplateElement:Te,Node:Ae,Element:pe,NodeFilter:je,NamedNodeMap:ot=me.NamedNodeMap||me.MozNamedAttrMap,HTMLFormElement:xt,DOMParser:jt,trustedTypes:oi}=me,ti=pe.prototype,it=k(ti,"cloneNode"),yt=k(ti,"nextSibling"),$t=k(ti,"childNodes"),Nt=k(ti,"parentNode");if(typeof Te=="function"){const Vt=de.createElement("template");Vt.content&&Vt.content.ownerDocument&&(de=Vt.content.ownerDocument)}let qt,Ht="";const{implementation:He,createNodeIterator:Ct,createDocumentFragment:Gt,getElementsByTagName:Di}=de,{importNode:$i}=oe;let Bi={};be.isSupported=typeof o=="function"&&typeof Nt=="function"&&He&&He.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Vi,ERB_EXPR:Ji,TMPLIT_EXPR:wn,DATA_ATTR:yn,ARIA_ATTR:Cn,IS_SCRIPT_OR_DATA:an,ATTR_WHITESPACE:Rn}=M;let{IS_ALLOWED_URI:kn}=M,fn=null;const On=N({},[...V,...K,...Z,...A,...I]);let xn=null;const An=N({},[...W,...G,...j,...Y]);let Zt=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ci=null,_i=null,Ri=!0,Zi=!0,gi=!1,Ze=!0,dt=!1,Ue=!1,$e=!1,bt=!1,ft=!1,Ye=!1,vt=!1,nt=!0,Ge=!1;const rt="user-content-";let st=!0,tt=!1,_t={},kt=null;const at=N({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ht=null;const Mt=N({},["audio","video","img","source","image","track"]);let ut=null;const ke=N({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),lt="http://www.w3.org/1998/Math/MathML",mt="http://www.w3.org/2000/svg",Ve="http://www.w3.org/1999/xhtml";let Tt=Ve,At=!1,Qt=null;const mi=N({},[lt,mt,Ve],n);let Ci;const Oi=["application/xhtml+xml","text/html"],Ii="text/html";let Qi,Wi=null;const Jt=de.createElement("form"),Ne=function(St){return St instanceof RegExp||St instanceof Function},gt=function(St){if(!(Wi&&Wi===St)){if((!St||typeof St!="object")&&(St={}),St=b(St),Ci=Oi.indexOf(St.PARSER_MEDIA_TYPE)===-1?Ci=Ii:Ci=St.PARSER_MEDIA_TYPE,Qi=Ci==="application/xhtml+xml"?n:i,fn="ALLOWED_TAGS"in St?N({},St.ALLOWED_TAGS,Qi):On,xn="ALLOWED_ATTR"in St?N({},St.ALLOWED_ATTR,Qi):An,Qt="ALLOWED_NAMESPACES"in St?N({},St.ALLOWED_NAMESPACES,n):mi,ut="ADD_URI_SAFE_ATTR"in St?N(b(ke),St.ADD_URI_SAFE_ATTR,Qi):ke,ht="ADD_DATA_URI_TAGS"in St?N(b(Mt),St.ADD_DATA_URI_TAGS,Qi):Mt,kt="FORBID_CONTENTS"in St?N({},St.FORBID_CONTENTS,Qi):at,ci="FORBID_TAGS"in St?N({},St.FORBID_TAGS,Qi):{},_i="FORBID_ATTR"in St?N({},St.FORBID_ATTR,Qi):{},_t="USE_PROFILES"in St?St.USE_PROFILES:!1,Ri=St.ALLOW_ARIA_ATTR!==!1,Zi=St.ALLOW_DATA_ATTR!==!1,gi=St.ALLOW_UNKNOWN_PROTOCOLS||!1,Ze=St.ALLOW_SELF_CLOSE_IN_ATTR!==!1,dt=St.SAFE_FOR_TEMPLATES||!1,Ue=St.WHOLE_DOCUMENT||!1,ft=St.RETURN_DOM||!1,Ye=St.RETURN_DOM_FRAGMENT||!1,vt=St.RETURN_TRUSTED_TYPE||!1,bt=St.FORCE_BODY||!1,nt=St.SANITIZE_DOM!==!1,Ge=St.SANITIZE_NAMED_PROPS||!1,st=St.KEEP_CONTENT!==!1,tt=St.IN_PLACE||!1,kn=St.ALLOWED_URI_REGEXP||ne,Tt=St.NAMESPACE||Ve,Zt=St.CUSTOM_ELEMENT_HANDLING||{},St.CUSTOM_ELEMENT_HANDLING&&Ne(St.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Zt.tagNameCheck=St.CUSTOM_ELEMENT_HANDLING.tagNameCheck),St.CUSTOM_ELEMENT_HANDLING&&Ne(St.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Zt.attributeNameCheck=St.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),St.CUSTOM_ELEMENT_HANDLING&&typeof St.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Zt.allowCustomizedBuiltInElements=St.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),dt&&(Zi=!1),Ye&&(ft=!0),_t&&(fn=N({},[...I]),xn=[],_t.html===!0&&(N(fn,V),N(xn,W)),_t.svg===!0&&(N(fn,K),N(xn,G),N(xn,Y)),_t.svgFilters===!0&&(N(fn,Z),N(xn,G),N(xn,Y)),_t.mathMl===!0&&(N(fn,A),N(xn,j),N(xn,Y))),St.ADD_TAGS&&(fn===On&&(fn=b(fn)),N(fn,St.ADD_TAGS,Qi)),St.ADD_ATTR&&(xn===An&&(xn=b(xn)),N(xn,St.ADD_ATTR,Qi)),St.ADD_URI_SAFE_ATTR&&N(ut,St.ADD_URI_SAFE_ATTR,Qi),St.FORBID_CONTENTS&&(kt===at&&(kt=b(kt)),N(kt,St.FORBID_CONTENTS,Qi)),st&&(fn["#text"]=!0),Ue&&N(fn,["html","head","body"]),fn.table&&(N(fn,["tbody"]),delete ci.tbody),St.TRUSTED_TYPES_POLICY){if(typeof St.TRUSTED_TYPES_POLICY.createHTML!="function")throw y('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof St.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw y('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');qt=St.TRUSTED_TYPES_POLICY,Ht=qt.createHTML("")}else qt===void 0&&(qt=We(oi,ue)),qt!==null&&typeof Ht=="string"&&(Ht=qt.createHTML(""));p&&p(St),Wi=St}},Bt=N({},["mi","mo","mn","ms","mtext"]),di=N({},["foreignobject","desc","title","annotation-xml"]),hi=N({},["title","style","font","a","script"]),Ni=N({},K);N(Ni,Z),N(Ni,z);const zi=N({},A);N(zi,P);const Gi=function(St){let Kt=Nt(St);(!Kt||!Kt.tagName)&&(Kt={namespaceURI:Tt,tagName:"template"});const ei=i(St.tagName),Ei=i(Kt.tagName);return Qt[St.namespaceURI]?St.namespaceURI===mt?Kt.namespaceURI===Ve?ei==="svg":Kt.namespaceURI===lt?ei==="svg"&&(Ei==="annotation-xml"||Bt[Ei]):!!Ni[ei]:St.namespaceURI===lt?Kt.namespaceURI===Ve?ei==="math":Kt.namespaceURI===mt?ei==="math"&&di[Ei]:!!zi[ei]:St.namespaceURI===Ve?Kt.namespaceURI===mt&&!di[Ei]||Kt.namespaceURI===lt&&!Bt[Ei]?!1:!zi[ei]&&(hi[ei]||!Ni[ei]):!!(Ci==="application/xhtml+xml"&&Qt[St.namespaceURI]):!1},ln=function(St){r(be.removed,{element:St});try{St.parentNode.removeChild(St)}catch(Kt){St.remove()}},ji=function(St,Kt){try{r(be.removed,{attribute:Kt.getAttributeNode(St),from:Kt})}catch(ei){r(be.removed,{attribute:null,from:Kt})}if(Kt.removeAttribute(St),St==="is"&&!xn[St])if(ft||Ye)try{ln(Kt)}catch(ei){}else try{Kt.setAttribute(St,"")}catch(ei){}},dn=function(St){let Kt,ei;if(bt)St="<remove></remove>"+St;else{const yi=c(St,/^[\r\n\t ]+/);ei=yi&&yi[0]}Ci==="application/xhtml+xml"&&Tt===Ve&&(St='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+St+"</body></html>");const Ei=qt?qt.createHTML(St):St;if(Tt===Ve)try{Kt=new jt().parseFromString(Ei,Ci)}catch(yi){}if(!Kt||!Kt.documentElement){Kt=He.createDocument(Tt,"template",null);try{Kt.documentElement.innerHTML=At?Ht:Ei}catch(yi){}}const Li=Kt.body||Kt.documentElement;return St&&ei&&Li.insertBefore(de.createTextNode(ei),Li.childNodes[0]||null),Tt===Ve?Di.call(Kt,Ue?"html":"body")[0]:Ue?Kt.documentElement:Li},tn=function(St){return Ct.call(St.ownerDocument||St,St,je.SHOW_ELEMENT|je.SHOW_COMMENT|je.SHOW_TEXT,null,!1)},Hi=function(St){return St instanceof xt&&(typeof St.nodeName!="string"||typeof St.textContent!="string"||typeof St.removeChild!="function"||!(St.attributes instanceof ot)||typeof St.removeAttribute!="function"||typeof St.setAttribute!="function"||typeof St.namespaceURI!="string"||typeof St.insertBefore!="function"||typeof St.hasChildNodes!="function")},rn=function(St){return typeof Ae=="object"?St instanceof Ae:St&&typeof St=="object"&&typeof St.nodeType=="number"&&typeof St.nodeName=="string"},sn=function(St,Kt,ei){Bi[St]&&g(Bi[St],Ei=>{Ei.call(be,Kt,ei,Wi)})},fi=function(St){let Kt;if(sn("beforeSanitizeElements",St,null),Hi(St))return ln(St),!0;const ei=Qi(St.nodeName);if(sn("uponSanitizeElement",St,{tagName:ei,allowedTags:fn}),St.hasChildNodes()&&!rn(St.firstElementChild)&&(!rn(St.content)||!rn(St.content.firstElementChild))&&f(/<[/\w]/g,St.innerHTML)&&f(/<[/\w]/g,St.textContent))return ln(St),!0;if(!fn[ei]||ci[ei]){if(!ci[ei]&&Pt(ei)&&(Zt.tagNameCheck instanceof RegExp&&f(Zt.tagNameCheck,ei)||Zt.tagNameCheck instanceof Function&&Zt.tagNameCheck(ei)))return!1;if(st&&!kt[ei]){const Ei=Nt(St)||St.parentNode,Li=$t(St)||St.childNodes;if(Li&&Ei){const yi=Li.length;for(let bi=yi-1;bi>=0;--bi)Ei.insertBefore(it(Li[bi],!0),yt(St))}}return ln(St),!0}return St instanceof pe&&!Gi(St)||(ei==="noscript"||ei==="noembed"||ei==="noframes")&&f(/<\/no(script|embed|frames)/i,St.innerHTML)?(ln(St),!0):(dt&&St.nodeType===3&&(Kt=St.textContent,Kt=u(Kt,Vi," "),Kt=u(Kt,Ji," "),Kt=u(Kt,wn," "),St.textContent!==Kt&&(r(be.removed,{element:St.cloneNode()}),St.textContent=Kt)),sn("afterSanitizeElements",St,null),!1)},Je=function(St,Kt,ei){if(nt&&(Kt==="id"||Kt==="name")&&(ei in de||ei in Jt))return!1;if(!(Zi&&!_i[Kt]&&f(yn,Kt))){if(!(Ri&&f(Cn,Kt))){if(!xn[Kt]||_i[Kt]){if(!(Pt(St)&&(Zt.tagNameCheck instanceof RegExp&&f(Zt.tagNameCheck,St)||Zt.tagNameCheck instanceof Function&&Zt.tagNameCheck(St))&&(Zt.attributeNameCheck instanceof RegExp&&f(Zt.attributeNameCheck,Kt)||Zt.attributeNameCheck instanceof Function&&Zt.attributeNameCheck(Kt))||Kt==="is"&&Zt.allowCustomizedBuiltInElements&&(Zt.tagNameCheck instanceof RegExp&&f(Zt.tagNameCheck,ei)||Zt.tagNameCheck instanceof Function&&Zt.tagNameCheck(ei))))return!1}else if(!ut[Kt]){if(!f(kn,u(ei,Rn,""))){if(!((Kt==="src"||Kt==="xlink:href"||Kt==="href")&&St!=="script"&&l(ei,"data:")===0&&ht[St])){if(!(gi&&!f(an,u(ei,Rn,"")))){if(ei)return!1}}}}}}return!0},Pt=function(St){return St.indexOf("-")>0},Wt=function(St){let Kt,ei,Ei,Li;sn("beforeSanitizeAttributes",St,null);const{attributes:yi}=St;if(!yi)return;const bi={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:xn};for(Li=yi.length;Li--;){Kt=yi[Li];const{name:Ui,namespaceURI:Pi}=Kt;if(ei=Ui==="value"?Kt.value:D(Kt.value),Ei=Qi(Ui),bi.attrName=Ei,bi.attrValue=ei,bi.keepAttr=!0,bi.forceKeepAttr=void 0,sn("uponSanitizeAttribute",St,bi),ei=bi.attrValue,bi.forceKeepAttr||(ji(Ui,St),!bi.keepAttr))continue;if(!Ze&&f(/\/>/i,ei)){ji(Ui,St);continue}dt&&(ei=u(ei,Vi," "),ei=u(ei,Ji," "),ei=u(ei,wn," "));const Xi=Qi(St.nodeName);if(Je(Xi,Ei,ei)){if(Ge&&(Ei==="id"||Ei==="name")&&(ji(Ui,St),ei=rt+ei),qt&&typeof oi=="object"&&typeof oi.getAttributeType=="function"&&!Pi)switch(oi.getAttributeType(Xi,Ei)){case"TrustedHTML":{ei=qt.createHTML(ei);break}case"TrustedScriptURL":{ei=qt.createScriptURL(ei);break}}try{Pi?St.setAttributeNS(Pi,Ui,ei):St.setAttribute(Ui,ei),a(be.removed)}catch(nn){}}}sn("afterSanitizeAttributes",St,null)},Yt=function Vt(St){let Kt;const ei=tn(St);for(sn("beforeSanitizeShadowDOM",St,null);Kt=ei.nextNode();)sn("uponSanitizeShadowNode",Kt,null),!fi(Kt)&&(Kt.content instanceof Se&&Vt(Kt.content),Wt(Kt));sn("afterSanitizeShadowDOM",St,null)};return be.sanitize=function(Vt){let St=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Kt,ei,Ei,Li;if(At=!Vt,At&&(Vt="<!-->"),typeof Vt!="string"&&!rn(Vt))if(typeof Vt.toString=="function"){if(Vt=Vt.toString(),typeof Vt!="string")throw y("dirty is not a string, aborting")}else throw y("toString is not a function");if(!be.isSupported)return Vt;if($e||gt(St),be.removed=[],typeof Vt=="string"&&(tt=!1),tt){if(Vt.nodeName){const Ui=Qi(Vt.nodeName);if(!fn[Ui]||ci[Ui])throw y("root node is forbidden and cannot be sanitized in-place")}}else if(Vt instanceof Ae)Kt=dn("<!---->"),ei=Kt.ownerDocument.importNode(Vt,!0),ei.nodeType===1&&ei.nodeName==="BODY"||ei.nodeName==="HTML"?Kt=ei:Kt.appendChild(ei);else{if(!ft&&!dt&&!Ue&&Vt.indexOf("<")===-1)return qt&&vt?qt.createHTML(Vt):Vt;if(Kt=dn(Vt),!Kt)return ft?null:vt?Ht:""}Kt&&bt&&ln(Kt.firstChild);const yi=tn(tt?Vt:Kt);for(;Ei=yi.nextNode();)fi(Ei)||(Ei.content instanceof Se&&Yt(Ei.content),Wt(Ei));if(tt)return Vt;if(ft){if(Ye)for(Li=Gt.call(Kt.ownerDocument);Kt.firstChild;)Li.appendChild(Kt.firstChild);else Li=Kt;return(xn.shadowroot||xn.shadowrootmode)&&(Li=$i.call(oe,Li,!0)),Li}let bi=Ue?Kt.outerHTML:Kt.innerHTML;return Ue&&fn["!doctype"]&&Kt.ownerDocument&&Kt.ownerDocument.doctype&&Kt.ownerDocument.doctype.name&&f(he,Kt.ownerDocument.doctype.name)&&(bi="<!DOCTYPE "+Kt.ownerDocument.doctype.name+`>
`+bi),dt&&(bi=u(bi,Vi," "),bi=u(bi,Ji," "),bi=u(bi,wn," ")),qt&&vt?qt.createHTML(bi):bi},be.setConfig=function(Vt){gt(Vt),$e=!0},be.clearConfig=function(){Wi=null,$e=!1},be.isValidAttribute=function(Vt,St,Kt){Wi||gt({});const ei=Qi(Vt),Ei=Qi(St);return Je(ei,Ei,Kt)},be.addHook=function(Vt,St){typeof St=="function"&&(Bi[Vt]=Bi[Vt]||[],r(Bi[Vt],St))},be.removeHook=function(Vt){if(Bi[Vt])return a(Bi[Vt])},be.removeHooks=function(Vt){Bi[Vt]&&(Bi[Vt]=[])},be.removeAllHooks=function(){Bi={}},be}var X=ye(),ve=null;const Ee=X.version,Oe=X.isSupported,Ke=X.sanitize,Qe=X.setConfig,fe=X.clearConfig,$=X.isValidAttribute,le=X.addHook,De=X.removeHook,xe=X.removeHooks,Ce=X.removeAllHooks},60773:function(et,Le,e){"use strict";e.d(Le,{Y:function(){return B}});var o=e(79329);class B{get event(){return this.emitter.event}constructor(O,S,p){const E=R=>this.emitter.fire(R);this.emitter=new o.Q5({onWillAddFirstListener:()=>O.addEventListener(S,E,p),onDidRemoveLastListener:()=>O.removeEventListener(S,E,p)})}dispose(){this.emitter.dispose()}}},76204:function(et,Le,e){"use strict";e.d(Le,{X:function(){return x},Z:function(){return o}});class o{constructor(S){this.domNode=S,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingLeft="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(S){const p=B(S);this._maxWidth!==p&&(this._maxWidth=p,this.domNode.style.maxWidth=this._maxWidth)}setWidth(S){const p=B(S);this._width!==p&&(this._width=p,this.domNode.style.width=this._width)}setHeight(S){const p=B(S);this._height!==p&&(this._height=p,this.domNode.style.height=this._height)}setTop(S){const p=B(S);this._top!==p&&(this._top=p,this.domNode.style.top=this._top)}setLeft(S){const p=B(S);this._left!==p&&(this._left=p,this.domNode.style.left=this._left)}setBottom(S){const p=B(S);this._bottom!==p&&(this._bottom=p,this.domNode.style.bottom=this._bottom)}setRight(S){const p=B(S);this._right!==p&&(this._right=p,this.domNode.style.right=this._right)}setPaddingLeft(S){const p=B(S);this._paddingLeft!==p&&(this._paddingLeft=p,this.domNode.style.paddingLeft=this._paddingLeft)}setFontFamily(S){this._fontFamily!==S&&(this._fontFamily=S,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(S){this._fontWeight!==S&&(this._fontWeight=S,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(S){const p=B(S);this._fontSize!==p&&(this._fontSize=p,this.domNode.style.fontSize=this._fontSize)}setFontStyle(S){this._fontStyle!==S&&(this._fontStyle=S,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(S){this._fontFeatureSettings!==S&&(this._fontFeatureSettings=S,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(S){this._fontVariationSettings!==S&&(this._fontVariationSettings=S,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(S){this._textDecoration!==S&&(this._textDecoration=S,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(S){const p=B(S);this._lineHeight!==p&&(this._lineHeight=p,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(S){const p=B(S);this._letterSpacing!==p&&(this._letterSpacing=p,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(S){this._className!==S&&(this._className=S,this.domNode.className=this._className)}toggleClassName(S,p){this.domNode.classList.toggle(S,p),this._className=this.domNode.className}setDisplay(S){this._display!==S&&(this._display=S,this.domNode.style.display=this._display)}setPosition(S){this._position!==S&&(this._position=S,this.domNode.style.position=this._position)}setVisibility(S){this._visibility!==S&&(this._visibility=S,this.domNode.style.visibility=this._visibility)}setColor(S){this._color!==S&&(this._color=S,this.domNode.style.color=this._color)}setBackgroundColor(S){this._backgroundColor!==S&&(this._backgroundColor=S,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(S){this._layerHint!==S&&(this._layerHint=S,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(S){this._boxShadow!==S&&(this._boxShadow=S,this.domNode.style.boxShadow=S)}setContain(S){this._contain!==S&&(this._contain=S,this.domNode.style.contain=this._contain)}setAttribute(S,p){this.domNode.setAttribute(S,p)}removeAttribute(S){this.domNode.removeAttribute(S)}appendChild(S){this.domNode.appendChild(S.domNode)}removeChild(S){this.domNode.removeChild(S.domNode)}}function B(O){return typeof O=="number"?`${O}px`:O}function x(O){return new o(O)}},49818:function(et,Le,e){"use strict";e.d(Le,{BO:function(){return x},IY:function(){return B},az:function(){return O}});var o=e(91540);function B(m,g={}){const a=O(g);return a.textContent=m,a}function x(m,g={}){const a=O(g);return p(a,E(m,!!g.renderCodeSegments),g.actionHandler,g.renderCodeSegments),a}function O(m){const g=m.inline?"span":"div",a=document.createElement(g);return m.className&&(a.className=m.className),a}class S{constructor(g){this.source=g,this.index=0}eos(){return this.index>=this.source.length}next(){const g=this.peek();return this.advance(),g}peek(){return this.source[this.index]}advance(){this.index++}}function p(m,g,a,r){let i;if(g.type===2)i=document.createTextNode(g.content||"");else if(g.type===3)i=document.createElement("b");else if(g.type===4)i=document.createElement("i");else if(g.type===7&&r)i=document.createElement("code");else if(g.type===5&&a){const n=document.createElement("a");a.disposables.add(o.mu(n,"click",c=>{a.callback(String(g.index),c)})),i=n}else g.type===8?i=document.createElement("br"):g.type===1&&(i=m);i&&m!==i&&m.appendChild(i),i&&Array.isArray(g.children)&&g.children.forEach(n=>{p(i,n,a,r)})}function E(m,g){const a={type:1,children:[]};let r=0,i=a;const n=[],c=new S(m);for(;!c.eos();){let u=c.next();const l=u==="\\"&&w(c.peek(),g)!==0;if(l&&(u=c.next()),!l&&R(u,g)&&u===c.peek()){c.advance(),i.type===2&&(i=n.pop());const D=w(u,g);if(i.type===D||i.type===5&&D===6)i=n.pop();else{const f={type:D,children:[]};D===5&&(f.index=r,r++),i.children.push(f),n.push(i),i=f}}else if(u===`
`)i.type===2&&(i=n.pop()),i.children.push({type:8});else if(i.type!==2){const D={type:2,content:u};i.children.push(D),n.push(i),i=D}else i.content+=u}return i.type===2&&(i=n.pop()),n.length,a}function R(m,g){return w(m,g)!==0}function w(m,g){switch(m){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return g?7:0;default:return 0}}},43446:function(et,Le,e){"use strict";e.d(Le,{C:function(){return x}});var o=e(91540),B=e(45029);class x{constructor(){this._hooks=new B.SL,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(S,p){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const E=this._onStopCallback;this._onStopCallback=null,S&&E&&E(p)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(S,p,E,R,w){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=R,this._onStopCallback=w;let m=S;try{S.setPointerCapture(p),this._hooks.add((0,B.OF)(()=>{try{S.releasePointerCapture(p)}catch(g){}}))}catch(g){m=o.Jj(S)}this._hooks.add(o.nm(m,o.tw.POINTER_MOVE,g=>{if(g.buttons!==E){this.stopMonitoring(!0);return}g.preventDefault(),this._pointerMoveCallback(g)})),this._hooks.add(o.nm(m,o.tw.POINTER_UP,g=>this.stopMonitoring(!0)))}}},50908:function(et,Le,e){"use strict";e.d(Le,{y:function(){return m}});var o=e(18119),B=e(173),x=e(13804),O=e(15122);function S(g){if(g.charCode){const r=String.fromCharCode(g.charCode).toUpperCase();return B.kL.fromString(r)}const a=g.keyCode;if(a===3)return 7;if(o.vU)switch(a){case 59:return 85;case 60:if(O.IJ)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(O.dz)return 57;break}else if(o.Pf){if(O.dz&&a===93)return 57;if(!O.dz&&a===92)return 57}return B.H_[a]||0}const p=O.dz?256:2048,E=512,R=1024,w=O.dz?2048:256;class m{constructor(a){var r;this._standardKeyboardEventBrand=!0;const i=a;this.browserEvent=i,this.target=i.target,this.ctrlKey=i.ctrlKey,this.shiftKey=i.shiftKey,this.altKey=i.altKey,this.metaKey=i.metaKey,this.altGraphKey=(r=i.getModifierState)===null||r===void 0?void 0:r.call(i,"AltGraph"),this.keyCode=S(i),this.code=i.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(a){return this._asKeybinding===a}_computeKeybinding(){let a=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(a=this.keyCode);let r=0;return this.ctrlKey&&(r|=p),this.altKey&&(r|=E),this.shiftKey&&(r|=R),this.metaKey&&(r|=w),r|=a,r}_computeKeyCodeChord(){let a=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(a=this.keyCode),new x.$M(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,a)}}},60906:function(et,Le,e){"use strict";e.d(Le,{ap:function(){return Q},et:function(){return re}});var o=e(91540),B=e(95937),x=e(60773),O=e(49818),S=e(50908),p=e(65512),E=e(60661),R=e(25602),w=e(79329),m=e(60473),g=e(15641),a=e(16525),r=e(20359),i=e(45029);let n={};(function(){function be(oe,ue){ue(n)}be.amd=!0,function(oe,ue){typeof be=="function"&&be.amd?be(["exports"],ue):typeof exports=="object"?ue(exports):(oe=typeof globalThis!="undefined"?globalThis:oe||self,ue(oe.marked={}))}(this,function(oe){"use strict";function ue(tt,_t){for(var kt=0;kt<_t.length;kt++){var at=_t[kt];at.enumerable=at.enumerable||!1,at.configurable=!0,"value"in at&&(at.writable=!0),Object.defineProperty(tt,at.key,at)}}function de(tt,_t,kt){return _t&&ue(tt.prototype,_t),kt&&ue(tt,kt),Object.defineProperty(tt,"prototype",{writable:!1}),tt}function Se(tt,_t){if(tt){if(typeof tt=="string")return Te(tt,_t);var kt=Object.prototype.toString.call(tt).slice(8,-1);if(kt==="Object"&&tt.constructor&&(kt=tt.constructor.name),kt==="Map"||kt==="Set")return Array.from(tt);if(kt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(kt))return Te(tt,_t)}}function Te(tt,_t){(_t==null||_t>tt.length)&&(_t=tt.length);for(var kt=0,at=new Array(_t);kt<_t;kt++)at[kt]=tt[kt];return at}function Ae(tt,_t){var kt=typeof Symbol!="undefined"&&tt[Symbol.iterator]||tt["@@iterator"];if(kt)return(kt=kt.call(tt)).next.bind(kt);if(Array.isArray(tt)||(kt=Se(tt))||_t&&tt&&typeof tt.length=="number"){kt&&(tt=kt);var at=0;return function(){return at>=tt.length?{done:!0}:{done:!1,value:tt[at++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pe(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}oe.defaults=pe();function je(tt){oe.defaults=tt}var ot=/[&<>"']/,xt=/[&<>"']/g,jt=/[<>"']|&(?!#?\w+;)/,oi=/[<>"']|&(?!#?\w+;)/g,ti={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},it=function(_t){return ti[_t]};function yt(tt,_t){if(_t){if(ot.test(tt))return tt.replace(xt,it)}else if(jt.test(tt))return tt.replace(oi,it);return tt}var $t=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Nt(tt){return tt.replace($t,function(_t,kt){return kt=kt.toLowerCase(),kt==="colon"?":":kt.charAt(0)==="#"?kt.charAt(1)==="x"?String.fromCharCode(parseInt(kt.substring(2),16)):String.fromCharCode(+kt.substring(1)):""})}var qt=/(^|[^\[])\^/g;function Ht(tt,_t){tt=typeof tt=="string"?tt:tt.source,_t=_t||"";var kt={replace:function(ht,Mt){return Mt=Mt.source||Mt,Mt=Mt.replace(qt,"$1"),tt=tt.replace(ht,Mt),kt},getRegex:function(){return new RegExp(tt,_t)}};return kt}var He=/[^\w:]/g,Ct=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Gt(tt,_t,kt){if(tt){var at;try{at=decodeURIComponent(Nt(kt)).replace(He,"").toLowerCase()}catch(ht){return null}if(at.indexOf("javascript:")===0||at.indexOf("vbscript:")===0||at.indexOf("data:")===0)return null}_t&&!Ct.test(kt)&&(kt=Ji(_t,kt));try{kt=encodeURI(kt).replace(/%25/g,"%")}catch(ht){return null}return kt}var Di={},$i=/^[^:]+:\/*[^/]*$/,Bi=/^([^:]+:)[\s\S]*$/,Vi=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Ji(tt,_t){Di[" "+tt]||($i.test(tt)?Di[" "+tt]=tt+"/":Di[" "+tt]=an(tt,"/",!0)),tt=Di[" "+tt];var kt=tt.indexOf(":")===-1;return _t.substring(0,2)==="//"?kt?_t:tt.replace(Bi,"$1")+_t:_t.charAt(0)==="/"?kt?_t:tt.replace(Vi,"$1")+_t:tt+_t}var wn={exec:function(){}};function yn(tt){for(var _t=1,kt,at;_t<arguments.length;_t++){kt=arguments[_t];for(at in kt)Object.prototype.hasOwnProperty.call(kt,at)&&(tt[at]=kt[at])}return tt}function Cn(tt,_t){var kt=tt.replace(/\|/g,function(Mt,ut,ke){for(var lt=!1,mt=ut;--mt>=0&&ke[mt]==="\\";)lt=!lt;return lt?"|":" |"}),at=kt.split(/ \|/),ht=0;if(at[0].trim()||at.shift(),at.length>0&&!at[at.length-1].trim()&&at.pop(),at.length>_t)at.splice(_t);else for(;at.length<_t;)at.push("");for(;ht<at.length;ht++)at[ht]=at[ht].trim().replace(/\\\|/g,"|");return at}function an(tt,_t,kt){var at=tt.length;if(at===0)return"";for(var ht=0;ht<at;){var Mt=tt.charAt(at-ht-1);if(Mt===_t&&!kt)ht++;else if(Mt!==_t&&kt)ht++;else break}return tt.slice(0,at-ht)}function Rn(tt,_t){if(tt.indexOf(_t[1])===-1)return-1;for(var kt=tt.length,at=0,ht=0;ht<kt;ht++)if(tt[ht]==="\\")ht++;else if(tt[ht]===_t[0])at++;else if(tt[ht]===_t[1]&&(at--,at<0))return ht;return-1}function kn(tt){tt&&tt.sanitize&&!tt.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function fn(tt,_t){if(_t<1)return"";for(var kt="";_t>1;)_t&1&&(kt+=tt),_t>>=1,tt+=tt;return kt+tt}function On(tt,_t,kt,at){var ht=_t.href,Mt=_t.title?yt(_t.title):null,ut=tt[1].replace(/\\([\[\]])/g,"$1");if(tt[0].charAt(0)!=="!"){at.state.inLink=!0;var ke={type:"link",raw:kt,href:ht,title:Mt,text:ut,tokens:at.inlineTokens(ut)};return at.state.inLink=!1,ke}return{type:"image",raw:kt,href:ht,title:Mt,text:yt(ut)}}function xn(tt,_t){var kt=tt.match(/^(\s+)(?:```)/);if(kt===null)return _t;var at=kt[1];return _t.split(`
`).map(function(ht){var Mt=ht.match(/^\s+/);if(Mt===null)return ht;var ut=Mt[0];return ut.length>=at.length?ht.slice(at.length):ht}).join(`
`)}var An=function(){function tt(kt){this.options=kt||oe.defaults}var _t=tt.prototype;return _t.space=function(at){var ht=this.rules.block.newline.exec(at);if(ht&&ht[0].length>0)return{type:"space",raw:ht[0]}},_t.code=function(at){var ht=this.rules.block.code.exec(at);if(ht){var Mt=ht[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:ht[0],codeBlockStyle:"indented",text:this.options.pedantic?Mt:an(Mt,`
`)}}},_t.fences=function(at){var ht=this.rules.block.fences.exec(at);if(ht){var Mt=ht[0],ut=xn(Mt,ht[3]||"");return{type:"code",raw:Mt,lang:ht[2]?ht[2].trim():ht[2],text:ut}}},_t.heading=function(at){var ht=this.rules.block.heading.exec(at);if(ht){var Mt=ht[2].trim();if(/#$/.test(Mt)){var ut=an(Mt,"#");(this.options.pedantic||!ut||/ $/.test(ut))&&(Mt=ut.trim())}return{type:"heading",raw:ht[0],depth:ht[1].length,text:Mt,tokens:this.lexer.inline(Mt)}}},_t.hr=function(at){var ht=this.rules.block.hr.exec(at);if(ht)return{type:"hr",raw:ht[0]}},_t.blockquote=function(at){var ht=this.rules.block.blockquote.exec(at);if(ht){var Mt=ht[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:ht[0],tokens:this.lexer.blockTokens(Mt,[]),text:Mt}}},_t.list=function(at){var ht=this.rules.block.list.exec(at);if(ht){var Mt,ut,ke,lt,mt,Ve,Tt,At,Qt,mi,Ci,Oi,Ii=ht[1].trim(),Qi=Ii.length>1,Wi={type:"list",raw:"",ordered:Qi,start:Qi?+Ii.slice(0,-1):"",loose:!1,items:[]};Ii=Qi?"\\d{1,9}\\"+Ii.slice(-1):"\\"+Ii,this.options.pedantic&&(Ii=Qi?Ii:"[*+-]");for(var Jt=new RegExp("^( {0,3}"+Ii+")((?:[	 ][^\\n]*)?(?:\\n|$))");at&&(Oi=!1,!(!(ht=Jt.exec(at))||this.rules.block.hr.test(at)));){if(Mt=ht[0],at=at.substring(Mt.length),At=ht[2].split(`
`,1)[0],Qt=at.split(`
`,1)[0],this.options.pedantic?(lt=2,Ci=At.trimLeft()):(lt=ht[2].search(/[^ ]/),lt=lt>4?1:lt,Ci=At.slice(lt),lt+=ht[1].length),Ve=!1,!At&&/^ *$/.test(Qt)&&(Mt+=Qt+`
`,at=at.substring(Qt.length+1),Oi=!0),!Oi)for(var Ne=new RegExp("^ {0,"+Math.min(3,lt-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),gt=new RegExp("^ {0,"+Math.min(3,lt-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),Bt=new RegExp("^ {0,"+Math.min(3,lt-1)+"}(?:```|~~~)"),di=new RegExp("^ {0,"+Math.min(3,lt-1)+"}#");at&&(mi=at.split(`
`,1)[0],At=mi,this.options.pedantic&&(At=At.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Bt.test(At)||di.test(At)||Ne.test(At)||gt.test(at)));){if(At.search(/[^ ]/)>=lt||!At.trim())Ci+=`
`+At.slice(lt);else if(!Ve)Ci+=`
`+At;else break;!Ve&&!At.trim()&&(Ve=!0),Mt+=mi+`
`,at=at.substring(mi.length+1)}Wi.loose||(Tt?Wi.loose=!0:/\n *\n *$/.test(Mt)&&(Tt=!0)),this.options.gfm&&(ut=/^\[[ xX]\] /.exec(Ci),ut&&(ke=ut[0]!=="[ ] ",Ci=Ci.replace(/^\[[ xX]\] +/,""))),Wi.items.push({type:"list_item",raw:Mt,task:!!ut,checked:ke,loose:!1,text:Ci}),Wi.raw+=Mt}Wi.items[Wi.items.length-1].raw=Mt.trimRight(),Wi.items[Wi.items.length-1].text=Ci.trimRight(),Wi.raw=Wi.raw.trimRight();var hi=Wi.items.length;for(mt=0;mt<hi;mt++){this.lexer.state.top=!1,Wi.items[mt].tokens=this.lexer.blockTokens(Wi.items[mt].text,[]);var Ni=Wi.items[mt].tokens.filter(function(Gi){return Gi.type==="space"}),zi=Ni.every(function(Gi){for(var ln=Gi.raw.split(""),ji=0,dn=Ae(ln),tn;!(tn=dn()).done;){var Hi=tn.value;if(Hi===`
`&&(ji+=1),ji>1)return!0}return!1});!Wi.loose&&Ni.length&&zi&&(Wi.loose=!0,Wi.items[mt].loose=!0)}return Wi}},_t.html=function(at){var ht=this.rules.block.html.exec(at);if(ht){var Mt={type:"html",raw:ht[0],pre:!this.options.sanitizer&&(ht[1]==="pre"||ht[1]==="script"||ht[1]==="style"),text:ht[0]};if(this.options.sanitize){var ut=this.options.sanitizer?this.options.sanitizer(ht[0]):yt(ht[0]);Mt.type="paragraph",Mt.text=ut,Mt.tokens=this.lexer.inline(ut)}return Mt}},_t.def=function(at){var ht=this.rules.block.def.exec(at);if(ht){ht[3]&&(ht[3]=ht[3].substring(1,ht[3].length-1));var Mt=ht[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:Mt,raw:ht[0],href:ht[2],title:ht[3]}}},_t.table=function(at){var ht=this.rules.block.table.exec(at);if(ht){var Mt={type:"table",header:Cn(ht[1]).map(function(Tt){return{text:Tt}}),align:ht[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:ht[3]&&ht[3].trim()?ht[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(Mt.header.length===Mt.align.length){Mt.raw=ht[0];var ut=Mt.align.length,ke,lt,mt,Ve;for(ke=0;ke<ut;ke++)/^ *-+: *$/.test(Mt.align[ke])?Mt.align[ke]="right":/^ *:-+: *$/.test(Mt.align[ke])?Mt.align[ke]="center":/^ *:-+ *$/.test(Mt.align[ke])?Mt.align[ke]="left":Mt.align[ke]=null;for(ut=Mt.rows.length,ke=0;ke<ut;ke++)Mt.rows[ke]=Cn(Mt.rows[ke],Mt.header.length).map(function(Tt){return{text:Tt}});for(ut=Mt.header.length,lt=0;lt<ut;lt++)Mt.header[lt].tokens=this.lexer.inline(Mt.header[lt].text);for(ut=Mt.rows.length,lt=0;lt<ut;lt++)for(Ve=Mt.rows[lt],mt=0;mt<Ve.length;mt++)Ve[mt].tokens=this.lexer.inline(Ve[mt].text);return Mt}}},_t.lheading=function(at){var ht=this.rules.block.lheading.exec(at);if(ht)return{type:"heading",raw:ht[0],depth:ht[2].charAt(0)==="="?1:2,text:ht[1],tokens:this.lexer.inline(ht[1])}},_t.paragraph=function(at){var ht=this.rules.block.paragraph.exec(at);if(ht){var Mt=ht[1].charAt(ht[1].length-1)===`
`?ht[1].slice(0,-1):ht[1];return{type:"paragraph",raw:ht[0],text:Mt,tokens:this.lexer.inline(Mt)}}},_t.text=function(at){var ht=this.rules.block.text.exec(at);if(ht)return{type:"text",raw:ht[0],text:ht[0],tokens:this.lexer.inline(ht[0])}},_t.escape=function(at){var ht=this.rules.inline.escape.exec(at);if(ht)return{type:"escape",raw:ht[0],text:yt(ht[1])}},_t.tag=function(at){var ht=this.rules.inline.tag.exec(at);if(ht)return!this.lexer.state.inLink&&/^<a /i.test(ht[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(ht[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(ht[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(ht[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:ht[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ht[0]):yt(ht[0]):ht[0]}},_t.link=function(at){var ht=this.rules.inline.link.exec(at);if(ht){var Mt=ht[2].trim();if(!this.options.pedantic&&/^</.test(Mt)){if(!/>$/.test(Mt))return;var ut=an(Mt.slice(0,-1),"\\");if((Mt.length-ut.length)%2===0)return}else{var ke=Rn(ht[2],"()");if(ke>-1){var lt=ht[0].indexOf("!")===0?5:4,mt=lt+ht[1].length+ke;ht[2]=ht[2].substring(0,ke),ht[0]=ht[0].substring(0,mt).trim(),ht[3]=""}}var Ve=ht[2],Tt="";if(this.options.pedantic){var At=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Ve);At&&(Ve=At[1],Tt=At[3])}else Tt=ht[3]?ht[3].slice(1,-1):"";return Ve=Ve.trim(),/^</.test(Ve)&&(this.options.pedantic&&!/>$/.test(Mt)?Ve=Ve.slice(1):Ve=Ve.slice(1,-1)),On(ht,{href:Ve&&Ve.replace(this.rules.inline._escapes,"$1"),title:Tt&&Tt.replace(this.rules.inline._escapes,"$1")},ht[0],this.lexer)}},_t.reflink=function(at,ht){var Mt;if((Mt=this.rules.inline.reflink.exec(at))||(Mt=this.rules.inline.nolink.exec(at))){var ut=(Mt[2]||Mt[1]).replace(/\s+/g," ");if(ut=ht[ut.toLowerCase()],!ut||!ut.href){var ke=Mt[0].charAt(0);return{type:"text",raw:ke,text:ke}}return On(Mt,ut,Mt[0],this.lexer)}},_t.emStrong=function(at,ht,Mt){Mt===void 0&&(Mt="");var ut=this.rules.inline.emStrong.lDelim.exec(at);if(ut&&!(ut[3]&&Mt.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var ke=ut[1]||ut[2]||"";if(!ke||ke&&(Mt===""||this.rules.inline.punctuation.exec(Mt))){var lt=ut[0].length-1,mt,Ve,Tt=lt,At=0,Qt=ut[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Qt.lastIndex=0,ht=ht.slice(-1*at.length+lt);(ut=Qt.exec(ht))!=null;)if(mt=ut[1]||ut[2]||ut[3]||ut[4]||ut[5]||ut[6],!!mt){if(Ve=mt.length,ut[3]||ut[4]){Tt+=Ve;continue}else if((ut[5]||ut[6])&&lt%3&&!((lt+Ve)%3)){At+=Ve;continue}if(Tt-=Ve,!(Tt>0)){if(Ve=Math.min(Ve,Ve+Tt+At),Math.min(lt,Ve)%2){var mi=at.slice(1,lt+ut.index+Ve);return{type:"em",raw:at.slice(0,lt+ut.index+Ve+1),text:mi,tokens:this.lexer.inlineTokens(mi)}}var Ci=at.slice(2,lt+ut.index+Ve-1);return{type:"strong",raw:at.slice(0,lt+ut.index+Ve+1),text:Ci,tokens:this.lexer.inlineTokens(Ci)}}}}}},_t.codespan=function(at){var ht=this.rules.inline.code.exec(at);if(ht){var Mt=ht[2].replace(/\n/g," "),ut=/[^ ]/.test(Mt),ke=/^ /.test(Mt)&&/ $/.test(Mt);return ut&&ke&&(Mt=Mt.substring(1,Mt.length-1)),Mt=yt(Mt,!0),{type:"codespan",raw:ht[0],text:Mt}}},_t.br=function(at){var ht=this.rules.inline.br.exec(at);if(ht)return{type:"br",raw:ht[0]}},_t.del=function(at){var ht=this.rules.inline.del.exec(at);if(ht)return{type:"del",raw:ht[0],text:ht[2],tokens:this.lexer.inlineTokens(ht[2])}},_t.autolink=function(at,ht){var Mt=this.rules.inline.autolink.exec(at);if(Mt){var ut,ke;return Mt[2]==="@"?(ut=yt(this.options.mangle?ht(Mt[1]):Mt[1]),ke="mailto:"+ut):(ut=yt(Mt[1]),ke=ut),{type:"link",raw:Mt[0],text:ut,href:ke,tokens:[{type:"text",raw:ut,text:ut}]}}},_t.url=function(at,ht){var Mt;if(Mt=this.rules.inline.url.exec(at)){var ut,ke;if(Mt[2]==="@")ut=yt(this.options.mangle?ht(Mt[0]):Mt[0]),ke="mailto:"+ut;else{var lt;do lt=Mt[0],Mt[0]=this.rules.inline._backpedal.exec(Mt[0])[0];while(lt!==Mt[0]);ut=yt(Mt[0]),Mt[1]==="www."?ke="http://"+ut:ke=ut}return{type:"link",raw:Mt[0],text:ut,href:ke,tokens:[{type:"text",raw:ut,text:ut}]}}},_t.inlineText=function(at,ht){var Mt=this.rules.inline.text.exec(at);if(Mt){var ut;return this.lexer.state.inRawBlock?ut=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Mt[0]):yt(Mt[0]):Mt[0]:ut=yt(this.options.smartypants?ht(Mt[0]):Mt[0]),{type:"text",raw:Mt[0],text:ut}}},tt}(),Zt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:wn,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Zt._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Zt._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,Zt.def=Ht(Zt.def).replace("label",Zt._label).replace("title",Zt._title).getRegex(),Zt.bullet=/(?:[*+-]|\d{1,9}[.)])/,Zt.listItemStart=Ht(/^( *)(bull) */).replace("bull",Zt.bullet).getRegex(),Zt.list=Ht(Zt.list).replace(/bull/g,Zt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Zt.def.source+")").getRegex(),Zt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Zt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Zt.html=Ht(Zt.html,"i").replace("comment",Zt._comment).replace("tag",Zt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Zt.paragraph=Ht(Zt._paragraph).replace("hr",Zt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Zt._tag).getRegex(),Zt.blockquote=Ht(Zt.blockquote).replace("paragraph",Zt.paragraph).getRegex(),Zt.normal=yn({},Zt),Zt.gfm=yn({},Zt.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Zt.gfm.table=Ht(Zt.gfm.table).replace("hr",Zt.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Zt._tag).getRegex(),Zt.gfm.paragraph=Ht(Zt._paragraph).replace("hr",Zt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Zt.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Zt._tag).getRegex(),Zt.pedantic=yn({},Zt.normal,{html:Ht(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Zt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:wn,paragraph:Ht(Zt.normal._paragraph).replace("hr",Zt.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Zt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var ci={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:wn,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:wn,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};ci._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",ci.punctuation=Ht(ci.punctuation).replace(/punctuation/g,ci._punctuation).getRegex(),ci.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,ci.escapedEmSt=/\\\*|\\_/g,ci._comment=Ht(Zt._comment).replace("(?:-->|$)","-->").getRegex(),ci.emStrong.lDelim=Ht(ci.emStrong.lDelim).replace(/punct/g,ci._punctuation).getRegex(),ci.emStrong.rDelimAst=Ht(ci.emStrong.rDelimAst,"g").replace(/punct/g,ci._punctuation).getRegex(),ci.emStrong.rDelimUnd=Ht(ci.emStrong.rDelimUnd,"g").replace(/punct/g,ci._punctuation).getRegex(),ci._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,ci._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,ci._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,ci.autolink=Ht(ci.autolink).replace("scheme",ci._scheme).replace("email",ci._email).getRegex(),ci._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,ci.tag=Ht(ci.tag).replace("comment",ci._comment).replace("attribute",ci._attribute).getRegex(),ci._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ci._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,ci._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,ci.link=Ht(ci.link).replace("label",ci._label).replace("href",ci._href).replace("title",ci._title).getRegex(),ci.reflink=Ht(ci.reflink).replace("label",ci._label).replace("ref",Zt._label).getRegex(),ci.nolink=Ht(ci.nolink).replace("ref",Zt._label).getRegex(),ci.reflinkSearch=Ht(ci.reflinkSearch,"g").replace("reflink",ci.reflink).replace("nolink",ci.nolink).getRegex(),ci.normal=yn({},ci),ci.pedantic=yn({},ci.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Ht(/^!?\[(label)\]\((.*?)\)/).replace("label",ci._label).getRegex(),reflink:Ht(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ci._label).getRegex()}),ci.gfm=yn({},ci.normal,{escape:Ht(ci.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),ci.gfm.url=Ht(ci.gfm.url,"i").replace("email",ci.gfm._extended_email).getRegex(),ci.breaks=yn({},ci.gfm,{br:Ht(ci.br).replace("{2,}","*").getRegex(),text:Ht(ci.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function _i(tt){return tt.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function Ri(tt){var _t="",kt,at,ht=tt.length;for(kt=0;kt<ht;kt++)at=tt.charCodeAt(kt),Math.random()>.5&&(at="x"+at.toString(16)),_t+="&#"+at+";";return _t}var Zi=function(){function tt(kt){this.tokens=[],this.tokens.links=Object.create(null),this.options=kt||oe.defaults,this.options.tokenizer=this.options.tokenizer||new An,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var at={block:Zt.normal,inline:ci.normal};this.options.pedantic?(at.block=Zt.pedantic,at.inline=ci.pedantic):this.options.gfm&&(at.block=Zt.gfm,this.options.breaks?at.inline=ci.breaks:at.inline=ci.gfm),this.tokenizer.rules=at}tt.lex=function(at,ht){var Mt=new tt(ht);return Mt.lex(at)},tt.lexInline=function(at,ht){var Mt=new tt(ht);return Mt.inlineTokens(at)};var _t=tt.prototype;return _t.lex=function(at){at=at.replace(/\r\n|\r/g,`
`),this.blockTokens(at,this.tokens);for(var ht;ht=this.inlineQueue.shift();)this.inlineTokens(ht.src,ht.tokens);return this.tokens},_t.blockTokens=function(at,ht){var Mt=this;ht===void 0&&(ht=[]),this.options.pedantic?at=at.replace(/\t/g,"    ").replace(/^ +$/gm,""):at=at.replace(/^( *)(\t+)/gm,function(Tt,At,Qt){return At+"    ".repeat(Qt.length)});for(var ut,ke,lt,mt;at;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(Tt){return(ut=Tt.call({lexer:Mt},at,ht))?(at=at.substring(ut.raw.length),ht.push(ut),!0):!1}))){if(ut=this.tokenizer.space(at)){at=at.substring(ut.raw.length),ut.raw.length===1&&ht.length>0?ht[ht.length-1].raw+=`
`:ht.push(ut);continue}if(ut=this.tokenizer.code(at)){at=at.substring(ut.raw.length),ke=ht[ht.length-1],ke&&(ke.type==="paragraph"||ke.type==="text")?(ke.raw+=`
`+ut.raw,ke.text+=`
`+ut.text,this.inlineQueue[this.inlineQueue.length-1].src=ke.text):ht.push(ut);continue}if(ut=this.tokenizer.fences(at)){at=at.substring(ut.raw.length),ht.push(ut);continue}if(ut=this.tokenizer.heading(at)){at=at.substring(ut.raw.length),ht.push(ut);continue}if(ut=this.tokenizer.hr(at)){at=at.substring(ut.raw.length),ht.push(ut);continue}if(ut=this.tokenizer.blockquote(at)){at=at.substring(ut.raw.length),ht.push(ut);continue}if(ut=this.tokenizer.list(at)){at=at.substring(ut.raw.length),ht.push(ut);continue}if(ut=this.tokenizer.html(at)){at=at.substring(ut.raw.length),ht.push(ut);continue}if(ut=this.tokenizer.def(at)){at=at.substring(ut.raw.length),ke=ht[ht.length-1],ke&&(ke.type==="paragraph"||ke.type==="text")?(ke.raw+=`
`+ut.raw,ke.text+=`
`+ut.raw,this.inlineQueue[this.inlineQueue.length-1].src=ke.text):this.tokens.links[ut.tag]||(this.tokens.links[ut.tag]={href:ut.href,title:ut.title});continue}if(ut=this.tokenizer.table(at)){at=at.substring(ut.raw.length),ht.push(ut);continue}if(ut=this.tokenizer.lheading(at)){at=at.substring(ut.raw.length),ht.push(ut);continue}if(lt=at,this.options.extensions&&this.options.extensions.startBlock&&function(){var Tt=1/0,At=at.slice(1),Qt=void 0;Mt.options.extensions.startBlock.forEach(function(mi){Qt=mi.call({lexer:this},At),typeof Qt=="number"&&Qt>=0&&(Tt=Math.min(Tt,Qt))}),Tt<1/0&&Tt>=0&&(lt=at.substring(0,Tt+1))}(),this.state.top&&(ut=this.tokenizer.paragraph(lt))){ke=ht[ht.length-1],mt&&ke.type==="paragraph"?(ke.raw+=`
`+ut.raw,ke.text+=`
`+ut.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ke.text):ht.push(ut),mt=lt.length!==at.length,at=at.substring(ut.raw.length);continue}if(ut=this.tokenizer.text(at)){at=at.substring(ut.raw.length),ke=ht[ht.length-1],ke&&ke.type==="text"?(ke.raw+=`
`+ut.raw,ke.text+=`
`+ut.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ke.text):ht.push(ut);continue}if(at){var Ve="Infinite loop on byte: "+at.charCodeAt(0);if(this.options.silent){console.error(Ve);break}else throw new Error(Ve)}}return this.state.top=!0,ht},_t.inline=function(at,ht){return ht===void 0&&(ht=[]),this.inlineQueue.push({src:at,tokens:ht}),ht},_t.inlineTokens=function(at,ht){var Mt=this;ht===void 0&&(ht=[]);var ut,ke,lt,mt=at,Ve,Tt,At;if(this.tokens.links){var Qt=Object.keys(this.tokens.links);if(Qt.length>0)for(;(Ve=this.tokenizer.rules.inline.reflinkSearch.exec(mt))!=null;)Qt.includes(Ve[0].slice(Ve[0].lastIndexOf("[")+1,-1))&&(mt=mt.slice(0,Ve.index)+"["+fn("a",Ve[0].length-2)+"]"+mt.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(Ve=this.tokenizer.rules.inline.blockSkip.exec(mt))!=null;)mt=mt.slice(0,Ve.index)+"["+fn("a",Ve[0].length-2)+"]"+mt.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(Ve=this.tokenizer.rules.inline.escapedEmSt.exec(mt))!=null;)mt=mt.slice(0,Ve.index)+"++"+mt.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;at;)if(Tt||(At=""),Tt=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(Ci){return(ut=Ci.call({lexer:Mt},at,ht))?(at=at.substring(ut.raw.length),ht.push(ut),!0):!1}))){if(ut=this.tokenizer.escape(at)){at=at.substring(ut.raw.length),ht.push(ut);continue}if(ut=this.tokenizer.tag(at)){at=at.substring(ut.raw.length),ke=ht[ht.length-1],ke&&ut.type==="text"&&ke.type==="text"?(ke.raw+=ut.raw,ke.text+=ut.text):ht.push(ut);continue}if(ut=this.tokenizer.link(at)){at=at.substring(ut.raw.length),ht.push(ut);continue}if(ut=this.tokenizer.reflink(at,this.tokens.links)){at=at.substring(ut.raw.length),ke=ht[ht.length-1],ke&&ut.type==="text"&&ke.type==="text"?(ke.raw+=ut.raw,ke.text+=ut.text):ht.push(ut);continue}if(ut=this.tokenizer.emStrong(at,mt,At)){at=at.substring(ut.raw.length),ht.push(ut);continue}if(ut=this.tokenizer.codespan(at)){at=at.substring(ut.raw.length),ht.push(ut);continue}if(ut=this.tokenizer.br(at)){at=at.substring(ut.raw.length),ht.push(ut);continue}if(ut=this.tokenizer.del(at)){at=at.substring(ut.raw.length),ht.push(ut);continue}if(ut=this.tokenizer.autolink(at,Ri)){at=at.substring(ut.raw.length),ht.push(ut);continue}if(!this.state.inLink&&(ut=this.tokenizer.url(at,Ri))){at=at.substring(ut.raw.length),ht.push(ut);continue}if(lt=at,this.options.extensions&&this.options.extensions.startInline&&function(){var Ci=1/0,Oi=at.slice(1),Ii=void 0;Mt.options.extensions.startInline.forEach(function(Qi){Ii=Qi.call({lexer:this},Oi),typeof Ii=="number"&&Ii>=0&&(Ci=Math.min(Ci,Ii))}),Ci<1/0&&Ci>=0&&(lt=at.substring(0,Ci+1))}(),ut=this.tokenizer.inlineText(lt,_i)){at=at.substring(ut.raw.length),ut.raw.slice(-1)!=="_"&&(At=ut.raw.slice(-1)),Tt=!0,ke=ht[ht.length-1],ke&&ke.type==="text"?(ke.raw+=ut.raw,ke.text+=ut.text):ht.push(ut);continue}if(at){var mi="Infinite loop on byte: "+at.charCodeAt(0);if(this.options.silent){console.error(mi);break}else throw new Error(mi)}}return ht},de(tt,null,[{key:"rules",get:function(){return{block:Zt,inline:ci}}}]),tt}(),gi=function(){function tt(kt){this.options=kt||oe.defaults}var _t=tt.prototype;return _t.code=function(at,ht,Mt){var ut=(ht||"").match(/\S*/)[0];if(this.options.highlight){var ke=this.options.highlight(at,ut);ke!=null&&ke!==at&&(Mt=!0,at=ke)}return at=at.replace(/\n$/,"")+`
`,ut?'<pre><code class="'+this.options.langPrefix+yt(ut,!0)+'">'+(Mt?at:yt(at,!0))+`</code></pre>
`:"<pre><code>"+(Mt?at:yt(at,!0))+`</code></pre>
`},_t.blockquote=function(at){return`<blockquote>
`+at+`</blockquote>
`},_t.html=function(at){return at},_t.heading=function(at,ht,Mt,ut){if(this.options.headerIds){var ke=this.options.headerPrefix+ut.slug(Mt);return"<h"+ht+' id="'+ke+'">'+at+"</h"+ht+`>
`}return"<h"+ht+">"+at+"</h"+ht+`>
`},_t.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},_t.list=function(at,ht,Mt){var ut=ht?"ol":"ul",ke=ht&&Mt!==1?' start="'+Mt+'"':"";return"<"+ut+ke+`>
`+at+"</"+ut+`>
`},_t.listitem=function(at){return"<li>"+at+`</li>
`},_t.checkbox=function(at){return"<input "+(at?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},_t.paragraph=function(at){return"<p>"+at+`</p>
`},_t.table=function(at,ht){return ht&&(ht="<tbody>"+ht+"</tbody>"),`<table>
<thead>
`+at+`</thead>
`+ht+`</table>
`},_t.tablerow=function(at){return`<tr>
`+at+`</tr>
`},_t.tablecell=function(at,ht){var Mt=ht.header?"th":"td",ut=ht.align?"<"+Mt+' align="'+ht.align+'">':"<"+Mt+">";return ut+at+("</"+Mt+`>
`)},_t.strong=function(at){return"<strong>"+at+"</strong>"},_t.em=function(at){return"<em>"+at+"</em>"},_t.codespan=function(at){return"<code>"+at+"</code>"},_t.br=function(){return this.options.xhtml?"<br/>":"<br>"},_t.del=function(at){return"<del>"+at+"</del>"},_t.link=function(at,ht,Mt){if(at=Gt(this.options.sanitize,this.options.baseUrl,at),at===null)return Mt;var ut='<a href="'+yt(at)+'"';return ht&&(ut+=' title="'+ht+'"'),ut+=">"+Mt+"</a>",ut},_t.image=function(at,ht,Mt){if(at=Gt(this.options.sanitize,this.options.baseUrl,at),at===null)return Mt;var ut='<img src="'+at+'" alt="'+Mt+'"';return ht&&(ut+=' title="'+ht+'"'),ut+=this.options.xhtml?"/>":">",ut},_t.text=function(at){return at},tt}(),Ze=function(){function tt(){}var _t=tt.prototype;return _t.strong=function(at){return at},_t.em=function(at){return at},_t.codespan=function(at){return at},_t.del=function(at){return at},_t.html=function(at){return at},_t.text=function(at){return at},_t.link=function(at,ht,Mt){return""+Mt},_t.image=function(at,ht,Mt){return""+Mt},_t.br=function(){return""},tt}(),dt=function(){function tt(){this.seen={}}var _t=tt.prototype;return _t.serialize=function(at){return at.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},_t.getNextSafeSlug=function(at,ht){var Mt=at,ut=0;if(this.seen.hasOwnProperty(Mt)){ut=this.seen[at];do ut++,Mt=at+"-"+ut;while(this.seen.hasOwnProperty(Mt))}return ht||(this.seen[at]=ut,this.seen[Mt]=0),Mt},_t.slug=function(at,ht){ht===void 0&&(ht={});var Mt=this.serialize(at);return this.getNextSafeSlug(Mt,ht.dryrun)},tt}(),Ue=function(){function tt(kt){this.options=kt||oe.defaults,this.options.renderer=this.options.renderer||new gi,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Ze,this.slugger=new dt}tt.parse=function(at,ht){var Mt=new tt(ht);return Mt.parse(at)},tt.parseInline=function(at,ht){var Mt=new tt(ht);return Mt.parseInline(at)};var _t=tt.prototype;return _t.parse=function(at,ht){ht===void 0&&(ht=!0);var Mt="",ut,ke,lt,mt,Ve,Tt,At,Qt,mi,Ci,Oi,Ii,Qi,Wi,Jt,Ne,gt,Bt,di,hi=at.length;for(ut=0;ut<hi;ut++){if(Ci=at[ut],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Ci.type]&&(di=this.options.extensions.renderers[Ci.type].call({parser:this},Ci),di!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Ci.type))){Mt+=di||"";continue}switch(Ci.type){case"space":continue;case"hr":{Mt+=this.renderer.hr();continue}case"heading":{Mt+=this.renderer.heading(this.parseInline(Ci.tokens),Ci.depth,Nt(this.parseInline(Ci.tokens,this.textRenderer)),this.slugger);continue}case"code":{Mt+=this.renderer.code(Ci.text,Ci.lang,Ci.escaped);continue}case"table":{for(Qt="",At="",mt=Ci.header.length,ke=0;ke<mt;ke++)At+=this.renderer.tablecell(this.parseInline(Ci.header[ke].tokens),{header:!0,align:Ci.align[ke]});for(Qt+=this.renderer.tablerow(At),mi="",mt=Ci.rows.length,ke=0;ke<mt;ke++){for(Tt=Ci.rows[ke],At="",Ve=Tt.length,lt=0;lt<Ve;lt++)At+=this.renderer.tablecell(this.parseInline(Tt[lt].tokens),{header:!1,align:Ci.align[lt]});mi+=this.renderer.tablerow(At)}Mt+=this.renderer.table(Qt,mi);continue}case"blockquote":{mi=this.parse(Ci.tokens),Mt+=this.renderer.blockquote(mi);continue}case"list":{for(Oi=Ci.ordered,Ii=Ci.start,Qi=Ci.loose,mt=Ci.items.length,mi="",ke=0;ke<mt;ke++)Jt=Ci.items[ke],Ne=Jt.checked,gt=Jt.task,Wi="",Jt.task&&(Bt=this.renderer.checkbox(Ne),Qi?Jt.tokens.length>0&&Jt.tokens[0].type==="paragraph"?(Jt.tokens[0].text=Bt+" "+Jt.tokens[0].text,Jt.tokens[0].tokens&&Jt.tokens[0].tokens.length>0&&Jt.tokens[0].tokens[0].type==="text"&&(Jt.tokens[0].tokens[0].text=Bt+" "+Jt.tokens[0].tokens[0].text)):Jt.tokens.unshift({type:"text",text:Bt}):Wi+=Bt),Wi+=this.parse(Jt.tokens,Qi),mi+=this.renderer.listitem(Wi,gt,Ne);Mt+=this.renderer.list(mi,Oi,Ii);continue}case"html":{Mt+=this.renderer.html(Ci.text);continue}case"paragraph":{Mt+=this.renderer.paragraph(this.parseInline(Ci.tokens));continue}case"text":{for(mi=Ci.tokens?this.parseInline(Ci.tokens):Ci.text;ut+1<hi&&at[ut+1].type==="text";)Ci=at[++ut],mi+=`
`+(Ci.tokens?this.parseInline(Ci.tokens):Ci.text);Mt+=ht?this.renderer.paragraph(mi):mi;continue}default:{var Ni='Token with "'+Ci.type+'" type was not found.';if(this.options.silent){console.error(Ni);return}else throw new Error(Ni)}}}return Mt},_t.parseInline=function(at,ht){ht=ht||this.renderer;var Mt="",ut,ke,lt,mt=at.length;for(ut=0;ut<mt;ut++){if(ke=at[ut],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ke.type]&&(lt=this.options.extensions.renderers[ke.type].call({parser:this},ke),lt!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(ke.type))){Mt+=lt||"";continue}switch(ke.type){case"escape":{Mt+=ht.text(ke.text);break}case"html":{Mt+=ht.html(ke.text);break}case"link":{Mt+=ht.link(ke.href,ke.title,this.parseInline(ke.tokens,ht));break}case"image":{Mt+=ht.image(ke.href,ke.title,ke.text);break}case"strong":{Mt+=ht.strong(this.parseInline(ke.tokens,ht));break}case"em":{Mt+=ht.em(this.parseInline(ke.tokens,ht));break}case"codespan":{Mt+=ht.codespan(ke.text);break}case"br":{Mt+=ht.br();break}case"del":{Mt+=ht.del(this.parseInline(ke.tokens,ht));break}case"text":{Mt+=ht.text(ke.text);break}default:{var Ve='Token with "'+ke.type+'" type was not found.';if(this.options.silent){console.error(Ve);return}else throw new Error(Ve)}}}return Mt},tt}();function $e(tt,_t,kt){if(typeof tt=="undefined"||tt===null)throw new Error("marked(): input parameter is undefined or null");if(typeof tt!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(tt)+", string expected");if(typeof _t=="function"&&(kt=_t,_t=null),_t=yn({},$e.defaults,_t||{}),kn(_t),kt){var at=_t.highlight,ht;try{ht=Zi.lex(tt,_t)}catch(mt){return kt(mt)}var Mt=function(Ve){var Tt;if(!Ve)try{_t.walkTokens&&$e.walkTokens(ht,_t.walkTokens),Tt=Ue.parse(ht,_t)}catch(At){Ve=At}return _t.highlight=at,Ve?kt(Ve):kt(null,Tt)};if(!at||at.length<3||(delete _t.highlight,!ht.length))return Mt();var ut=0;$e.walkTokens(ht,function(mt){mt.type==="code"&&(ut++,setTimeout(function(){at(mt.text,mt.lang,function(Ve,Tt){if(Ve)return Mt(Ve);Tt!=null&&Tt!==mt.text&&(mt.text=Tt,mt.escaped=!0),ut--,ut===0&&Mt()})},0))}),ut===0&&Mt();return}function ke(mt){if(mt.message+=`
Please report this to https://github.com/markedjs/marked.`,_t.silent)return"<p>An error occurred:</p><pre>"+yt(mt.message+"",!0)+"</pre>";throw mt}try{var lt=Zi.lex(tt,_t);if(_t.walkTokens){if(_t.async)return Promise.all($e.walkTokens(lt,_t.walkTokens)).then(function(){return Ue.parse(lt,_t)}).catch(ke);$e.walkTokens(lt,_t.walkTokens)}return Ue.parse(lt,_t)}catch(mt){ke(mt)}}$e.options=$e.setOptions=function(tt){return yn($e.defaults,tt),je($e.defaults),$e},$e.getDefaults=pe,$e.defaults=oe.defaults,$e.use=function(){for(var tt=arguments.length,_t=new Array(tt),kt=0;kt<tt;kt++)_t[kt]=arguments[kt];var at=yn.apply(void 0,[{}].concat(_t)),ht=$e.defaults.extensions||{renderers:{},childTokens:{}},Mt;_t.forEach(function(ut){if(ut.extensions&&(Mt=!0,ut.extensions.forEach(function(lt){if(!lt.name)throw new Error("extension name required");if(lt.renderer){var mt=ht.renderers?ht.renderers[lt.name]:null;mt?ht.renderers[lt.name]=function(){for(var Ve=arguments.length,Tt=new Array(Ve),At=0;At<Ve;At++)Tt[At]=arguments[At];var Qt=lt.renderer.apply(this,Tt);return Qt===!1&&(Qt=mt.apply(this,Tt)),Qt}:ht.renderers[lt.name]=lt.renderer}if(lt.tokenizer){if(!lt.level||lt.level!=="block"&&lt.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");ht[lt.level]?ht[lt.level].unshift(lt.tokenizer):ht[lt.level]=[lt.tokenizer],lt.start&&(lt.level==="block"?ht.startBlock?ht.startBlock.push(lt.start):ht.startBlock=[lt.start]:lt.level==="inline"&&(ht.startInline?ht.startInline.push(lt.start):ht.startInline=[lt.start]))}lt.childTokens&&(ht.childTokens[lt.name]=lt.childTokens)})),ut.renderer&&function(){var lt=$e.defaults.renderer||new gi,mt=function(At){var Qt=lt[At];lt[At]=function(){for(var mi=arguments.length,Ci=new Array(mi),Oi=0;Oi<mi;Oi++)Ci[Oi]=arguments[Oi];var Ii=ut.renderer[At].apply(lt,Ci);return Ii===!1&&(Ii=Qt.apply(lt,Ci)),Ii}};for(var Ve in ut.renderer)mt(Ve);at.renderer=lt}(),ut.tokenizer&&function(){var lt=$e.defaults.tokenizer||new An,mt=function(At){var Qt=lt[At];lt[At]=function(){for(var mi=arguments.length,Ci=new Array(mi),Oi=0;Oi<mi;Oi++)Ci[Oi]=arguments[Oi];var Ii=ut.tokenizer[At].apply(lt,Ci);return Ii===!1&&(Ii=Qt.apply(lt,Ci)),Ii}};for(var Ve in ut.tokenizer)mt(Ve);at.tokenizer=lt}(),ut.walkTokens){var ke=$e.defaults.walkTokens;at.walkTokens=function(lt){var mt=[];return mt.push(ut.walkTokens.call(this,lt)),ke&&(mt=mt.concat(ke.call(this,lt))),mt}}Mt&&(at.extensions=ht),$e.setOptions(at)})},$e.walkTokens=function(tt,_t){for(var kt=[],at=function(){var ke=Mt.value;switch(kt=kt.concat(_t.call($e,ke)),ke.type){case"table":{for(var lt=Ae(ke.header),mt;!(mt=lt()).done;){var Ve=mt.value;kt=kt.concat($e.walkTokens(Ve.tokens,_t))}for(var Tt=Ae(ke.rows),At;!(At=Tt()).done;)for(var Qt=At.value,mi=Ae(Qt),Ci;!(Ci=mi()).done;){var Oi=Ci.value;kt=kt.concat($e.walkTokens(Oi.tokens,_t))}break}case"list":{kt=kt.concat($e.walkTokens(ke.items,_t));break}default:$e.defaults.extensions&&$e.defaults.extensions.childTokens&&$e.defaults.extensions.childTokens[ke.type]?$e.defaults.extensions.childTokens[ke.type].forEach(function(Ii){kt=kt.concat($e.walkTokens(ke[Ii],_t))}):ke.tokens&&(kt=kt.concat($e.walkTokens(ke.tokens,_t)))}},ht=Ae(tt),Mt;!(Mt=ht()).done;)at();return kt},$e.parseInline=function(tt,_t){if(typeof tt=="undefined"||tt===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof tt!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(tt)+", string expected");_t=yn({},$e.defaults,_t||{}),kn(_t);try{var kt=Zi.lexInline(tt,_t);return _t.walkTokens&&$e.walkTokens(kt,_t.walkTokens),Ue.parseInline(kt,_t)}catch(at){if(at.message+=`
Please report this to https://github.com/markedjs/marked.`,_t.silent)return"<p>An error occurred:</p><pre>"+yt(at.message+"",!0)+"</pre>";throw at}},$e.Parser=Ue,$e.parser=Ue.parse,$e.Renderer=gi,$e.TextRenderer=Ze,$e.Lexer=Zi,$e.lexer=Zi.lex,$e.Tokenizer=An,$e.Slugger=dt,$e.parse=$e;var bt=$e.options,ft=$e.setOptions,Ye=$e.use,vt=$e.walkTokens,nt=$e.parseInline,Ge=$e,rt=Ue.parse,st=Zi.lex;oe.Lexer=Zi,oe.Parser=Ue,oe.Renderer=gi,oe.Slugger=dt,oe.TextRenderer=Ze,oe.Tokenizer=An,oe.getDefaults=pe,oe.lexer=st,oe.marked=$e,oe.options=bt,oe.parse=Ge,oe.parseInline=nt,oe.parser=rt,oe.setOptions=ft,oe.use=Ye,oe.walkTokens=vt,Object.defineProperty(oe,"__esModule",{value:!0})})})();var c=n.Lexer||exports.Lexer,u=n.Parser||exports.Parser,l=n.Renderer||exports.Renderer,D=n.Slugger||exports.Slugger,f=n.TextRenderer||exports.TextRenderer,y=n.Tokenizer||exports.Tokenizer,C=n.getDefaults||exports.getDefaults,_=n.lexer||exports.lexer,N=n.marked||exports.marked,b=n.options||exports.options,k=n.parse||exports.parse,V=n.parseInline||exports.parseInline,K=n.parser||exports.parser,Z=n.setOptions||exports.setOptions,z=n.use||exports.use,A=n.walkTokens||exports.walkTokens,P=e(66492),I=e(91649),W=e(94920),G=e(2644),j=e(30144),Y=e(10058);const H=Object.freeze({image:(be,oe,ue)=>{let de=[],Se=[];return be&&({href:be,dimensions:de}=(0,m.v1)(be),Se.push(`src="${(0,m.d9)(be)}"`)),ue&&Se.push(`alt="${(0,m.d9)(ue)}"`),oe&&Se.push(`title="${(0,m.d9)(oe)}"`),de.length&&(Se=Se.concat(de)),"<img "+Se.join(" ")+">"},paragraph:be=>`<p>${be}</p>`,link:(be,oe,ue)=>typeof be!="string"?"":(be===ue&&(ue=(0,m.oR)(ue)),oe=typeof oe=="string"?(0,m.d9)((0,m.oR)(oe)):"",be=(0,m.oR)(be),be=be.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${be}" title="${oe||be}" draggable="false">${ue}</a>`)});function Q(be,oe={},ue={}){var de,Se;const Te=new i.SL;let Ae=!1;const pe=(0,O.az)(oe),je=function(Nt){let qt;try{qt=(0,P.Qc)(decodeURIComponent(Nt))}catch(Ht){}return qt?(qt=(0,W.rs)(qt,Ht=>{if(be.uris&&be.uris[Ht])return Y.o.revive(be.uris[Ht])}),encodeURIComponent(JSON.stringify(qt))):Nt},ot=function(Nt,qt){const Ht=be.uris&&be.uris[Nt];let He=Y.o.revive(Ht);return qt?Nt.startsWith(I.lg.data+":")?Nt:(He||(He=Y.o.parse(Nt)),I.Gi.uriToBrowserUri(He).toString(!0)):!He||Y.o.parse(Nt).toString()===He.toString()?Nt:(He.query&&(He=He.with({query:je(He.query)})),He.toString())},xt=new N.Renderer;xt.image=H.image,xt.link=H.link,xt.paragraph=H.paragraph;const jt=[],oi=[];if(oe.codeBlockRendererSync?xt.code=(Nt,qt)=>{const Ht=a.a.nextId(),He=oe.codeBlockRendererSync(ie(qt),Nt);return oi.push([Ht,He]),`<div class="code" data-code="${Ht}">${(0,j.YU)(Nt)}</div>`}:oe.codeBlockRenderer&&(xt.code=(Nt,qt)=>{const Ht=a.a.nextId(),He=oe.codeBlockRenderer(ie(qt),Nt);return jt.push(He.then(Ct=>[Ht,Ct])),`<div class="code" data-code="${Ht}">${(0,j.YU)(Nt)}</div>`}),oe.actionHandler){const Nt=function(He){let Ct=He.target;if(!(Ct.tagName!=="A"&&(Ct=Ct.parentElement,!Ct||Ct.tagName!=="A")))try{let Gt=Ct.dataset.href;Gt&&(be.baseUri&&(Gt=te(Y.o.from(be.baseUri),Gt)),oe.actionHandler.callback(Gt,He))}catch(Gt){(0,R.dL)(Gt)}finally{He.preventDefault()}},qt=oe.actionHandler.disposables.add(new x.Y(pe,"click")),Ht=oe.actionHandler.disposables.add(new x.Y(pe,"auxclick"));oe.actionHandler.disposables.add(w.ju.any(qt.event,Ht.event)(He=>{const Ct=new p.n(o.Jj(pe),He);!Ct.leftButton&&!Ct.middleButton||Nt(Ct)})),oe.actionHandler.disposables.add(o.nm(pe,"keydown",He=>{const Ct=new S.y(He);!Ct.equals(10)&&!Ct.equals(3)||Nt(Ct)}))}be.supportHtml||(ue.sanitizer=Nt=>(be.isTrusted?Nt.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?Nt:"",ue.sanitize=!0,ue.silent=!0),ue.renderer=xt;let ti=(de=be.value)!==null&&de!==void 0?de:"";ti.length>1e5&&(ti=`${ti.substr(0,1e5)}\u2026`),be.supportThemeIcons&&(ti=(0,g.f$)(ti));let it;if(oe.fillInIncompleteTokens){const Nt=vi(vi({},N.defaults),ue),qt=N.lexer(ti,Nt),Ht=ve(qt);it=N.parser(Ht,Nt)}else it=N.parse(ti,ue);be.supportThemeIcons&&(it=(0,E.T)(it).map(qt=>typeof qt=="string"?qt:qt.outerHTML).join(""));const $t=new DOMParser().parseFromString(se(be,it),"text/html");if($t.body.querySelectorAll("img, audio, video, source").forEach(Nt=>{const qt=Nt.getAttribute("src");if(qt){let Ht=qt;try{be.baseUri&&(Ht=te(Y.o.from(be.baseUri),Ht))}catch(He){}if(Nt.setAttribute("src",ot(Ht,!0)),oe.disallowRemoteImages){const He=Y.o.parse(Ht).scheme;He!==I.lg.file&&He!==I.lg.data&&Nt.replaceWith(o.$("",void 0,Nt.outerHTML))}}}),$t.body.querySelectorAll("a").forEach(Nt=>{const qt=Nt.getAttribute("href");if(Nt.setAttribute("href",""),!qt||/^data:|javascript:/i.test(qt)||/^command:/i.test(qt)&&!be.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(qt))Nt.replaceWith(...Nt.childNodes);else{let Ht=ot(qt,!1);be.baseUri&&(Ht=te(Y.o.from(be.baseUri),qt)),Nt.dataset.href=Ht}}),pe.innerHTML=se(be,$t.body.innerHTML),jt.length>0)Promise.all(jt).then(Nt=>{var qt,Ht;if(Ae)return;const He=new Map(Nt),Ct=pe.querySelectorAll("div[data-code]");for(const Gt of Ct){const Di=He.get((qt=Gt.dataset.code)!==null&&qt!==void 0?qt:"");Di&&o.mc(Gt,Di)}(Ht=oe.asyncRenderCallback)===null||Ht===void 0||Ht.call(oe)});else if(oi.length>0){const Nt=new Map(oi),qt=pe.querySelectorAll("div[data-code]");for(const Ht of qt){const He=Nt.get((Se=Ht.dataset.code)!==null&&Se!==void 0?Se:"");He&&o.mc(Ht,He)}}if(oe.asyncRenderCallback)for(const Nt of pe.getElementsByTagName("img")){const qt=Te.add(o.nm(Nt,"load",()=>{qt.dispose(),oe.asyncRenderCallback()}))}return{element:pe,dispose:()=>{Ae=!0,Te.dispose()}}}function ie(be){if(!be)return"";const oe=be.split(/[\s+|:|,|\{|\?]/,1);return oe.length?oe[0]:be}function te(be,oe){return/^\w[\w\d+.-]*:/.test(oe)?oe:be.path.endsWith("/")?(0,G.i3)(be,oe).toString():(0,G.i3)((0,G.XX)(be),oe).toString()}function se(be,oe){const{config:ue,allowedSchemes:de}=ee(be);B.v5("uponSanitizeAttribute",(Te,Ae)=>{var pe;if(Ae.attrName==="style"||Ae.attrName==="class"){if(Te.tagName==="SPAN"){if(Ae.attrName==="style"){Ae.keepAttr=/^(color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?(background-color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?$/.test(Ae.attrValue);return}else if(Ae.attrName==="class"){Ae.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(Ae.attrValue);return}}Ae.keepAttr=!1;return}else if(Te.tagName==="INPUT"&&((pe=Te.attributes.getNamedItem("type"))===null||pe===void 0?void 0:pe.value)==="checkbox"){if(Ae.attrName==="type"&&Ae.attrValue==="checkbox"||Ae.attrName==="disabled"||Ae.attrName==="checked"){Ae.keepAttr=!0;return}Ae.keepAttr=!1}}),B.v5("uponSanitizeElement",(Te,Ae)=>{var pe,je;Ae.tagName==="input"&&(((pe=Te.attributes.getNamedItem("type"))===null||pe===void 0?void 0:pe.value)==="checkbox"?Te.setAttribute("disabled",""):(je=Te.parentElement)===null||je===void 0||je.removeChild(Te))});const Se=o._F(de);try{return B.Nw(oe,Ki(vi({},ue),{RETURN_TRUSTED_TYPE:!0}))}finally{B.ok("uponSanitizeAttribute"),Se.dispose()}}const ne=["align","autoplay","alt","checked","class","controls","data-code","data-href","disabled","draggable","height","href","loop","muted","playsinline","poster","src","style","target","title","type","width","start"];function ee(be){const oe=[I.lg.http,I.lg.https,I.lg.mailto,I.lg.data,I.lg.file,I.lg.vscodeFileResource,I.lg.vscodeRemote,I.lg.vscodeRemoteResource];return be.isTrusted&&oe.push(I.lg.command),{config:{ALLOWED_TAGS:[...o.sQ],ALLOWED_ATTR:ne,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:oe}}function re(be){return typeof be=="string"?be:he(be)}function he(be){var oe;let ue=(oe=be.value)!==null&&oe!==void 0?oe:"";ue.length>1e5&&(ue=`${ue.substr(0,1e5)}\u2026`);const de=N.parse(ue,{renderer:we.value}).replace(/&(#\d+|[a-zA-Z]+);/g,Se=>{var Te;return(Te=M.get(Se))!==null&&Te!==void 0?Te:Se});return se({isTrusted:!1},de).toString()}const M=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","'"],["&lt;","<"],["&gt;",">"]]),we=new r.o(()=>{const be=new N.Renderer;return be.code=oe=>oe,be.blockquote=oe=>oe,be.html=oe=>"",be.heading=(oe,ue,de)=>oe+`
`,be.hr=()=>"",be.list=(oe,ue)=>oe,be.listitem=oe=>oe+`
`,be.paragraph=oe=>oe+`
`,be.table=(oe,ue)=>oe+ue+`
`,be.tablerow=oe=>oe,be.tablecell=(oe,ue)=>oe+" ",be.strong=oe=>oe,be.em=oe=>oe,be.codespan=oe=>oe,be.br=()=>`
`,be.del=oe=>oe,be.image=(oe,ue,de)=>"",be.text=oe=>oe,be.link=(oe,ue,de)=>de,be});function We(be){let oe="";return be.forEach(ue=>{oe+=ue.raw}),oe}function ye(be){var oe,ue;for(let de=0;de<be.tokens.length;de++){const Se=be.tokens[de];if(Se.type==="text"){const Te=Se.raw.split(`
`),Ae=Te[Te.length-1];if(Ae.includes("`"))return Oe(be);if(Ae.includes("**"))return De(be);if(Ae.match(/\*\w/))return Ke(be);if(Ae.match(/(^|\s)__\w/))return xe(be);if(Ae.match(/(^|\s)_\w/))return Qe(be);if(Ae.match(/(^|\s)\[.*\]\(\w*/)){const pe=be.tokens.slice(de+1);return((oe=pe[0])===null||oe===void 0?void 0:oe.type)==="link"&&((ue=pe[1])===null||ue===void 0?void 0:ue.type)==="text"&&pe[1].raw.match(/^ *"[^"]*$/)?$(be):fe(be)}else{if(X(Ae))return fe(be);if(Ae.match(/(^|\s)\[\w/)&&!be.tokens.slice(de+1).some(pe=>X(pe.raw)))return le(be)}}}}function X(be){return!!be.match(/^[^\[]*\]\([^\)]*$/)}function ve(be){let oe,ue;for(oe=0;oe<be.length;oe++){const de=be[oe];let Se;if(de.type==="paragraph"&&(Se=de.raw.match(/(\n|^)(````*)/))){const Te=Se[2];ue=Ee(be.slice(oe),Te);break}if(de.type==="paragraph"&&de.raw.match(/(\n|^)\|/)){ue=me(be.slice(oe));break}if(oe===be.length-1&&de.type==="paragraph"){const Te=ye(de);if(Te){ue=[Te];break}}}if(ue){const de=[...be.slice(0,oe),...ue];return de.links=be.links,de}return be}function Ee(be,oe){const ue=We(be);return N.lexer(ue+`
${oe}`)}function Oe(be){return Ce(be,"`")}function Ke(be){return Ce(be,"*")}function Qe(be){return Ce(be,"_")}function fe(be){return Ce(be,")")}function $(be){return Ce(be,'")')}function le(be){return Ce(be,"](about:blank)")}function De(be){return Ce(be,"**")}function xe(be){return Ce(be,"__")}function Ce(be,oe){const ue=We(Array.isArray(be)?be:[be]);return N.lexer(ue+oe)[0]}function me(be){const oe=We(be),ue=oe.split(`
`);let de,Se=!1;for(let Te=0;Te<ue.length;Te++){const Ae=ue[Te].trim();if(typeof de=="undefined"&&Ae.match(/^\s*\|/)){const pe=Ae.match(/(\|[^\|]+)(?=\||$)/g);pe&&(de=pe.length)}else if(typeof de=="number")if(Ae.match(/^\s*\|/)){if(Te!==ue.length-1)return;Se=!0}else return}if(typeof de=="number"&&de>0){const Te=Se?ue.slice(0,-1).join(`
`):oe,Ae=!!Te.match(/\|\s*$/),pe=Te+(Ae?"":"|")+`
|${" --- |".repeat(de)}`;return N.lexer(pe)}}},65512:function(et,Le,e){"use strict";e.d(Le,{n:function(){return p},q:function(){return E}});var o=e(18119);const B=new WeakMap;function x(R){if(!R.parent||R.parent===R)return null;try{const w=R.location,m=R.parent.location;if(w.origin!=="null"&&m.origin!=="null"&&w.origin!==m.origin)return null}catch(w){return null}return R.parent}class O{static getSameOriginWindowChain(w){let m=B.get(w);if(!m){m=[],B.set(w,m);let g=w,a;do a=x(g),a?m.push({window:new WeakRef(g),iframeElement:g.frameElement||null}):m.push({window:new WeakRef(g),iframeElement:null}),g=a;while(g)}return m.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(w,m){var g,a;if(!m||w===m)return{top:0,left:0};let r=0,i=0;const n=this.getSameOriginWindowChain(w);for(const c of n){const u=c.window.deref();if(r+=(g=u==null?void 0:u.scrollY)!==null&&g!==void 0?g:0,i+=(a=u==null?void 0:u.scrollX)!==null&&a!==void 0?a:0,u===m||!c.iframeElement)break;const l=c.iframeElement.getBoundingClientRect();r+=l.top,i+=l.left}return{top:r,left:i}}}var S=e(15122);class p{constructor(w,m){this.timestamp=Date.now(),this.browserEvent=m,this.leftButton=m.button===0,this.middleButton=m.button===1,this.rightButton=m.button===2,this.buttons=m.buttons,this.target=m.target,this.detail=m.detail||1,m.type==="dblclick"&&(this.detail=2),this.ctrlKey=m.ctrlKey,this.shiftKey=m.shiftKey,this.altKey=m.altKey,this.metaKey=m.metaKey,typeof m.pageX=="number"?(this.posx=m.pageX,this.posy=m.pageY):(this.posx=m.clientX+this.target.ownerDocument.body.scrollLeft+this.target.ownerDocument.documentElement.scrollLeft,this.posy=m.clientY+this.target.ownerDocument.body.scrollTop+this.target.ownerDocument.documentElement.scrollTop);const g=O.getPositionOfChildWindowRelativeToAncestorWindow(w,m.view);this.posx-=g.left,this.posy-=g.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class E{constructor(w,m=0,g=0){var a;this.browserEvent=w||null,this.target=w?w.target||w.targetNode||w.srcElement:null,this.deltaY=g,this.deltaX=m;let r=!1;if(o.i7){const i=navigator.userAgent.match(/Chrome\/(\d+)/);r=(i?parseInt(i[1]):123)<=122}if(w){const i=w,n=w,c=((a=w.view)===null||a===void 0?void 0:a.devicePixelRatio)||1;if(typeof i.wheelDeltaY!="undefined")r?this.deltaY=i.wheelDeltaY/(120*c):this.deltaY=i.wheelDeltaY/120;else if(typeof n.VERTICAL_AXIS!="undefined"&&n.axis===n.VERTICAL_AXIS)this.deltaY=-n.detail/3;else if(w.type==="wheel"){const u=w;u.deltaMode===u.DOM_DELTA_LINE?o.vU&&!S.dz?this.deltaY=-w.deltaY/3:this.deltaY=-w.deltaY:this.deltaY=-w.deltaY/40}if(typeof i.wheelDeltaX!="undefined")o.G6&&S.ED?this.deltaX=-(i.wheelDeltaX/120):r?this.deltaX=i.wheelDeltaX/(120*c):this.deltaX=i.wheelDeltaX/120;else if(typeof n.HORIZONTAL_AXIS!="undefined"&&n.axis===n.HORIZONTAL_AXIS)this.deltaX=-w.detail/3;else if(w.type==="wheel"){const u=w;u.deltaMode===u.DOM_DELTA_LINE?o.vU&&!S.dz?this.deltaX=-w.deltaX/3:this.deltaX=-w.deltaX:this.deltaX=-w.deltaX/40}this.deltaY===0&&this.deltaX===0&&w.wheelDelta&&(r?this.deltaY=w.wheelDelta/(120*c):this.deltaY=w.wheelDelta/120)}}preventDefault(){var w;(w=this.browserEvent)===null||w===void 0||w.preventDefault()}stopPropagation(){var w;(w=this.browserEvent)===null||w===void 0||w.stopPropagation()}}},93116:function(et,Le,e){"use strict";e.d(Le,{B:function(){return o}});var o;(function(B){const x={total:0,min:Number.MAX_VALUE,max:0},O=vi({},x),S=vi({},x),p=vi({},x);let E=0;const R={keydown:0,input:0,render:0};function w(){D(),performance.mark("inputlatency/start"),performance.mark("keydown/start"),R.keydown=1,queueMicrotask(m)}B.onKeyDown=w;function m(){R.keydown===1&&(performance.mark("keydown/end"),R.keydown=2)}function g(){performance.mark("input/start"),R.input=1,l()}B.onBeforeInput=g;function a(){R.input===0&&g(),queueMicrotask(r)}B.onInput=a;function r(){R.input===1&&(performance.mark("input/end"),R.input=2)}function i(){D()}B.onKeyUp=i;function n(){D()}B.onSelectionChange=n;function c(){R.keydown===2&&R.input===2&&R.render===0&&(performance.mark("render/start"),R.render=1,queueMicrotask(u),l())}B.onRenderStart=c;function u(){R.render===1&&(performance.mark("render/end"),R.render=2)}function l(){setTimeout(D)}function D(){R.keydown===2&&R.input===2&&R.render===2&&(performance.mark("inputlatency/end"),performance.measure("keydown","keydown/start","keydown/end"),performance.measure("input","input/start","input/end"),performance.measure("render","render/start","render/end"),performance.measure("inputlatency","inputlatency/start","inputlatency/end"),f("keydown",x),f("input",O),f("render",S),f("inputlatency",p),E++,y())}function f(b,k){const V=performance.getEntriesByName(b)[0].duration;k.total+=V,k.min=Math.min(k.min,V),k.max=Math.max(k.max,V)}function y(){performance.clearMarks("keydown/start"),performance.clearMarks("keydown/end"),performance.clearMarks("input/start"),performance.clearMarks("input/end"),performance.clearMarks("render/start"),performance.clearMarks("render/end"),performance.clearMarks("inputlatency/start"),performance.clearMarks("inputlatency/end"),performance.clearMeasures("keydown"),performance.clearMeasures("input"),performance.clearMeasures("render"),performance.clearMeasures("inputlatency"),R.keydown=0,R.input=0,R.render=0}function C(){if(E===0)return;const b={keydown:_(x),input:_(O),render:_(S),total:_(p),sampleCount:E};return N(x),N(O),N(S),N(p),E=0,b}B.getAndClearMeasurements=C;function _(b){return{average:b.total/E,max:b.max,min:b.min}}function N(b){b.total=0,b.min=Number.MAX_VALUE,b.max=0}})(o||(o={}))},88245:function(et,Le,e){"use strict";e.d(Le,{T:function(){return E}});var o=e(91540),B=e(79329),x=e(45029);class O extends x.JT{constructor(w){super(),this._onDidChange=this._register(new B.Q5),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(w,!0),this._mediaQueryList=null,this._handleChange(w,!1)}_handleChange(w,m){var g;(g=this._mediaQueryList)===null||g===void 0||g.removeEventListener("change",this._listener),this._mediaQueryList=w.matchMedia(`(resolution: ${w.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),m&&this._onDidChange.fire()}}class S extends x.JT{get value(){return this._value}constructor(w){super(),this._onDidChange=this._register(new B.Q5),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio(w);const m=this._register(new O(w));this._register(m.onDidChange(()=>{this._value=this._getPixelRatio(w),this._onDidChange.fire(this._value)}))}_getPixelRatio(w){const m=document.createElement("canvas").getContext("2d"),g=w.devicePixelRatio||1,a=m.webkitBackingStorePixelRatio||m.mozBackingStorePixelRatio||m.msBackingStorePixelRatio||m.oBackingStorePixelRatio||m.backingStorePixelRatio||1;return g/a}}class p{constructor(){this.mapWindowIdToPixelRatioMonitor=new Map}_getOrCreatePixelRatioMonitor(w){const m=(0,o.ZY)(w);let g=this.mapWindowIdToPixelRatioMonitor.get(m);return g||(g=(0,x.dk)(new S(w)),this.mapWindowIdToPixelRatioMonitor.set(m,g),(0,x.dk)(B.ju.once(o.ey)(({vscodeWindowId:a})=>{a===m&&(g==null||g.dispose(),this.mapWindowIdToPixelRatioMonitor.delete(m))}))),g}getInstance(w){return this._getOrCreatePixelRatioMonitor(w)}}const E=new p},8098:function(et,Le,e){"use strict";e.d(Le,{o:function(){return m},t:function(){return w}});var o=e(91540),B=e(44454),x=e(71221),O=e(95738),S=e(79329),p=e(45029),E=e(50138),R=function(g,a,r,i){var n=arguments.length,c=n<3?a:i===null?i=Object.getOwnPropertyDescriptor(a,r):i,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(g,a,r,i);else for(var l=g.length-1;l>=0;l--)(u=g[l])&&(c=(n<3?u(c):n>3?u(a,r,c):u(a,r))||c);return n>3&&c&&Object.defineProperty(a,r,c),c},w;(function(g){g.Tap="-monaco-gesturetap",g.Change="-monaco-gesturechange",g.Start="-monaco-gesturestart",g.End="-monaco-gesturesend",g.Contextmenu="-monaco-gesturecontextmenu"})(w||(w={}));class m extends p.JT{constructor(){super(),this.dispatched=!1,this.targets=new E.S,this.ignoreTargets=new E.S,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(S.ju.runAndSubscribe(o.Xo,({window:a,disposables:r})=>{r.add(o.nm(a.document,"touchstart",i=>this.onTouchStart(i),{passive:!1})),r.add(o.nm(a.document,"touchend",i=>this.onTouchEnd(a,i))),r.add(o.nm(a.document,"touchmove",i=>this.onTouchMove(i),{passive:!1}))},{window:B.E,disposables:this._store}))}static addTarget(a){if(!m.isTouchDevice())return p.JT.None;m.INSTANCE||(m.INSTANCE=(0,p.dk)(new m));const r=m.INSTANCE.targets.push(a);return(0,p.OF)(r)}static ignoreTarget(a){if(!m.isTouchDevice())return p.JT.None;m.INSTANCE||(m.INSTANCE=(0,p.dk)(new m));const r=m.INSTANCE.ignoreTargets.push(a);return(0,p.OF)(r)}static isTouchDevice(){return"ontouchstart"in B.E||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(a){const r=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let i=0,n=a.targetTouches.length;i<n;i++){const c=a.targetTouches.item(i);this.activeTouches[c.identifier]={id:c.identifier,initialTarget:c.target,initialTimeStamp:r,initialPageX:c.pageX,initialPageY:c.pageY,rollingTimestamps:[r],rollingPageX:[c.pageX],rollingPageY:[c.pageY]};const u=this.newGestureEvent(w.Start,c.target);u.pageX=c.pageX,u.pageY=c.pageY,this.dispatchEvent(u)}this.dispatched&&(a.preventDefault(),a.stopPropagation(),this.dispatched=!1)}onTouchEnd(a,r){const i=Date.now(),n=Object.keys(this.activeTouches).length;for(let c=0,u=r.changedTouches.length;c<u;c++){const l=r.changedTouches.item(c);if(!this.activeTouches.hasOwnProperty(String(l.identifier))){console.warn("move of an UNKNOWN touch",l);continue}const D=this.activeTouches[l.identifier],f=Date.now()-D.initialTimeStamp;if(f<m.HOLD_DELAY&&Math.abs(D.initialPageX-x.Gb(D.rollingPageX))<30&&Math.abs(D.initialPageY-x.Gb(D.rollingPageY))<30){const y=this.newGestureEvent(w.Tap,D.initialTarget);y.pageX=x.Gb(D.rollingPageX),y.pageY=x.Gb(D.rollingPageY),this.dispatchEvent(y)}else if(f>=m.HOLD_DELAY&&Math.abs(D.initialPageX-x.Gb(D.rollingPageX))<30&&Math.abs(D.initialPageY-x.Gb(D.rollingPageY))<30){const y=this.newGestureEvent(w.Contextmenu,D.initialTarget);y.pageX=x.Gb(D.rollingPageX),y.pageY=x.Gb(D.rollingPageY),this.dispatchEvent(y)}else if(n===1){const y=x.Gb(D.rollingPageX),C=x.Gb(D.rollingPageY),_=x.Gb(D.rollingTimestamps)-D.rollingTimestamps[0],N=y-D.rollingPageX[0],b=C-D.rollingPageY[0],k=[...this.targets].filter(V=>D.initialTarget instanceof Node&&V.contains(D.initialTarget));this.inertia(a,k,i,Math.abs(N)/_,N>0?1:-1,y,Math.abs(b)/_,b>0?1:-1,C)}this.dispatchEvent(this.newGestureEvent(w.End,D.initialTarget)),delete this.activeTouches[l.identifier]}this.dispatched&&(r.preventDefault(),r.stopPropagation(),this.dispatched=!1)}newGestureEvent(a,r){const i=document.createEvent("CustomEvent");return i.initEvent(a,!1,!0),i.initialTarget=r,i.tapCount=0,i}dispatchEvent(a){if(a.type===w.Tap){const r=new Date().getTime();let i=0;r-this._lastSetTapCountTime>m.CLEAR_TAP_COUNT_TIME?i=1:i=2,this._lastSetTapCountTime=r,a.tapCount=i}else(a.type===w.Change||a.type===w.Contextmenu)&&(this._lastSetTapCountTime=0);if(a.initialTarget instanceof Node){for(const i of this.ignoreTargets)if(i.contains(a.initialTarget))return;const r=[];for(const i of this.targets)if(i.contains(a.initialTarget)){let n=0,c=a.initialTarget;for(;c&&c!==i;)n++,c=c.parentElement;r.push([n,i])}r.sort((i,n)=>i[0]-n[0]);for(const[i,n]of r)n.dispatchEvent(a),this.dispatched=!0}}inertia(a,r,i,n,c,u,l,D,f){this.handle=o.jL(a,()=>{const y=Date.now(),C=y-i;let _=0,N=0,b=!0;n+=m.SCROLL_FRICTION*C,l+=m.SCROLL_FRICTION*C,n>0&&(b=!1,_=c*n*C),l>0&&(b=!1,N=D*l*C);const k=this.newGestureEvent(w.Change);k.translationX=_,k.translationY=N,r.forEach(V=>V.dispatchEvent(k)),b||this.inertia(a,r,y,n,c,u+_,l,D,f+N)})}onTouchMove(a){const r=Date.now();for(let i=0,n=a.changedTouches.length;i<n;i++){const c=a.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(c.identifier))){console.warn("end of an UNKNOWN touch",c);continue}const u=this.activeTouches[c.identifier],l=this.newGestureEvent(w.Change,u.initialTarget);l.translationX=c.pageX-x.Gb(u.rollingPageX),l.translationY=c.pageY-x.Gb(u.rollingPageY),l.pageX=c.pageX,l.pageY=c.pageY,this.dispatchEvent(l),u.rollingPageX.length>3&&(u.rollingPageX.shift(),u.rollingPageY.shift(),u.rollingTimestamps.shift()),u.rollingPageX.push(c.pageX),u.rollingPageY.push(c.pageY),u.rollingTimestamps.push(r)}this.dispatched&&(a.preventDefault(),a.stopPropagation(),this.dispatched=!1)}}m.SCROLL_FRICTION=-.005,m.HOLD_DELAY=700,m.CLEAR_TAP_COUNT_TIME=400,R([O.H],m,"isTouchDevice",null)},73275:function(et,Le,e){"use strict";e.d(Le,{Z:function(){return x}});var o=e(44454),B=e(25602);function x(O,S){var p;const E=globalThis.MonacoEnvironment;if(E!=null&&E.createTrustedTypesPolicy)try{return E.createTrustedTypesPolicy(O,S)}catch(R){(0,B.dL)(R);return}try{return(p=o.E.trustedTypes)===null||p===void 0?void 0:p.createPolicy(O,S)}catch(R){(0,B.dL)(R);return}}},75405:function(et,Le,e){"use strict";e.d(Le,{gU:function(){return K},YH:function(){return V},Lc:function(){return Z}});var o=e(18119),B=e(92613),x=e(91540),O=e(8098),S=e(66503),p=e(60773),E=e(50908),R=e(60906),w=e(66388),m=e(66074),g=e(71221),a=e(79329),r=e(173),i=e(45029),n=e(15122),c=e(61652);const u=x.$,l="selectOption.entry.template";class D{get templateId(){return l}renderTemplate(A){const P=Object.create(null);return P.root=A,P.text=x.R3(A,u(".option-text")),P.detail=x.R3(A,u(".option-detail")),P.decoratorRight=x.R3(A,u(".option-decorator-right")),P}renderElement(A,P,I){const W=I,G=A.text,j=A.detail,Y=A.decoratorRight,H=A.isDisabled;W.text.textContent=G,W.detail.textContent=j||"",W.decoratorRight.innerText=Y||"",H?W.root.classList.add("option-disabled"):W.root.classList.remove("option-disabled")}disposeTemplate(A){}}class f extends i.JT{constructor(A,P,I,W,G){super(),this.options=[],this._currentSelection=0,this._hasDetails=!1,this._skipLayout=!1,this._sticky=!1,this._isVisible=!1,this.styles=W,this.selectBoxOptions=G||Object.create(null),typeof this.selectBoxOptions.minBottomMargin!="number"?this.selectBoxOptions.minBottomMargin=f.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN:this.selectBoxOptions.minBottomMargin<0&&(this.selectBoxOptions.minBottomMargin=0),this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box monaco-select-box-dropdown-padding",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=new a.Q5,this._register(this._onDidSelect),this.registerListeners(),this.constructSelectDropDown(I),this.selected=P||0,A&&this.setOptions(A,P),this.initStyleSheet()}setTitle(A){!this._hover&&A?this._hover=this._register((0,w.B)().setupUpdatableHover((0,S.tM)("mouse"),this.selectElement,A)):this._hover&&this._hover.update(A)}getHeight(){return 22}getTemplateId(){return l}constructSelectDropDown(A){this.contextViewProvider=A,this.selectDropDownContainer=x.$(".monaco-select-box-dropdown-container"),this.selectDropDownContainer.classList.add("monaco-select-box-dropdown-padding"),this.selectionDetailsPane=x.R3(this.selectDropDownContainer,u(".select-box-details-pane"));const P=x.R3(this.selectDropDownContainer,u(".select-box-dropdown-container-width-control")),I=x.R3(P,u(".width-control-div"));this.widthControlElement=document.createElement("span"),this.widthControlElement.className="option-text-width-control",x.R3(I,this.widthControlElement),this._dropDownPosition=0,this.styleElement=x.dS(this.selectDropDownContainer),this.selectDropDownContainer.setAttribute("draggable","true"),this._register(x.nm(this.selectDropDownContainer,x.tw.DRAG_START,W=>{x.zB.stop(W,!0)}))}registerListeners(){this._register(x.mu(this.selectElement,"change",P=>{this.selected=P.target.selectedIndex,this._onDidSelect.fire({index:P.target.selectedIndex,selected:P.target.value}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)})),this._register(x.nm(this.selectElement,x.tw.CLICK,P=>{x.zB.stop(P),this._isVisible?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(x.nm(this.selectElement,x.tw.MOUSE_DOWN,P=>{x.zB.stop(P)}));let A;this._register(x.nm(this.selectElement,"touchstart",P=>{A=this._isVisible})),this._register(x.nm(this.selectElement,"touchend",P=>{x.zB.stop(P),A?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(x.nm(this.selectElement,x.tw.KEY_DOWN,P=>{const I=new E.y(P);let W=!1;n.dz?(I.keyCode===18||I.keyCode===16||I.keyCode===10||I.keyCode===3)&&(W=!0):(I.keyCode===18&&I.altKey||I.keyCode===16&&I.altKey||I.keyCode===10||I.keyCode===3)&&(W=!0),W&&(this.showSelectDropDown(),x.zB.stop(P,!0))}))}get onDidSelect(){return this._onDidSelect.event}setOptions(A,P){g.fS(this.options,A)||(this.options=A,this.selectElement.options.length=0,this._hasDetails=!1,this._cachedMaxDetailsHeight=void 0,this.options.forEach((I,W)=>{this.selectElement.add(this.createOption(I.text,W,I.isDisabled)),typeof I.description=="string"&&(this._hasDetails=!0)})),P!==void 0&&(this.select(P),this._currentSelection=this.selected)}setOptionsList(){var A;(A=this.selectList)===null||A===void 0||A.splice(0,this.selectList.length,this.options)}select(A){A>=0&&A<this.options.length?this.selected=A:A>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(A){this.selectElement.tabIndex=A?0:-1}render(A){this.container=A,A.classList.add("select-container"),A.appendChild(this.selectElement),this.styleSelectElement()}initStyleSheet(){const A=[];this.styles.listFocusBackground&&A.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ${this.styles.listFocusBackground} !important; }`),this.styles.listFocusForeground&&A.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ${this.styles.listFocusForeground} !important; }`),this.styles.decoratorRightForeground&&A.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ${this.styles.decoratorRightForeground}; }`),this.styles.selectBackground&&this.styles.selectBorder&&this.styles.selectBorder!==this.styles.selectBackground?(A.push(`.monaco-select-box-dropdown-container { border: 1px solid ${this.styles.selectBorder} } `),A.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectBorder} } `),A.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectBorder} } `)):this.styles.selectListBorder&&(A.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectListBorder} } `),A.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectListBorder} } `)),this.styles.listHoverForeground&&A.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ${this.styles.listHoverForeground} !important; }`),this.styles.listHoverBackground&&A.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ${this.styles.listHoverBackground} !important; }`),this.styles.listFocusOutline&&A.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ${this.styles.listFocusOutline} !important; outline-offset: -1.6px !important; }`),this.styles.listHoverOutline&&A.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ${this.styles.listHoverOutline} !important; outline-offset: -1.6px !important; }`),A.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }"),A.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }"),this.styleElement.textContent=A.join(`
`)}styleSelectElement(){var A,P,I;const W=(A=this.styles.selectBackground)!==null&&A!==void 0?A:"",G=(P=this.styles.selectForeground)!==null&&P!==void 0?P:"",j=(I=this.styles.selectBorder)!==null&&I!==void 0?I:"";this.selectElement.style.backgroundColor=W,this.selectElement.style.color=G,this.selectElement.style.borderColor=j}styleList(){var A,P;const I=(A=this.styles.selectBackground)!==null&&A!==void 0?A:"",W=x.XT(this.styles.selectListBackground,I);this.selectDropDownListContainer.style.backgroundColor=W,this.selectionDetailsPane.style.backgroundColor=W;const G=(P=this.styles.focusBorder)!==null&&P!==void 0?P:"";this.selectDropDownContainer.style.outlineColor=G,this.selectDropDownContainer.style.outlineOffset="-1px",this.selectList.style(this.styles)}createOption(A,P,I){const W=document.createElement("option");return W.value=A,W.text=A,W.disabled=!!I,W}showSelectDropDown(){this.selectionDetailsPane.innerText="",!(!this.contextViewProvider||this._isVisible)&&(this.createSelectList(this.selectDropDownContainer),this.setOptionsList(),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:A=>this.renderSelectDropDown(A,!0),layout:()=>{this.layoutSelectDropDown()},onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._isVisible=!0,this.hideSelectDropDown(!1),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:A=>this.renderSelectDropDown(A),layout:()=>this.layoutSelectDropDown(),onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._currentSelection=this.selected,this._isVisible=!0,this.selectElement.setAttribute("aria-expanded","true"))}hideSelectDropDown(A){!this.contextViewProvider||!this._isVisible||(this._isVisible=!1,this.selectElement.setAttribute("aria-expanded","false"),A&&this.selectElement.focus(),this.contextViewProvider.hideContextView())}renderSelectDropDown(A,P){return A.appendChild(this.selectDropDownContainer),this.layoutSelectDropDown(P),{dispose:()=>{try{A.removeChild(this.selectDropDownContainer)}catch(I){}}}}measureMaxDetailsHeight(){let A=0;return this.options.forEach((P,I)=>{this.updateDetail(I),this.selectionDetailsPane.offsetHeight>A&&(A=this.selectionDetailsPane.offsetHeight)}),A}layoutSelectDropDown(A){if(this._skipLayout)return!1;if(this.selectList){this.selectDropDownContainer.classList.add("visible");const P=x.Jj(this.selectElement),I=x.i(this.selectElement),W=x.Jj(this.selectElement).getComputedStyle(this.selectElement),G=parseFloat(W.getPropertyValue("--dropdown-padding-top"))+parseFloat(W.getPropertyValue("--dropdown-padding-bottom")),j=P.innerHeight-I.top-I.height-(this.selectBoxOptions.minBottomMargin||0),Y=I.top-f.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN,H=this.selectElement.offsetWidth,Q=this.setWidthControlElement(this.widthControlElement),ie=Math.max(Q,Math.round(H)).toString()+"px";this.selectDropDownContainer.style.width=ie,this.selectList.getHTMLElement().style.height="",this.selectList.layout();let te=this.selectList.contentHeight;this._hasDetails&&this._cachedMaxDetailsHeight===void 0&&(this._cachedMaxDetailsHeight=this.measureMaxDetailsHeight());const se=this._hasDetails?this._cachedMaxDetailsHeight:0,ne=te+G+se,ee=Math.floor((j-G-se)/this.getHeight()),re=Math.floor((Y-G-se)/this.getHeight());if(A)return I.top+I.height>P.innerHeight-22||I.top<f.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||ee<1&&re<1?!1:(ee<f.DEFAULT_MINIMUM_VISIBLE_OPTIONS&&re>ee&&this.options.length>ee?(this._dropDownPosition=1,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectionDetailsPane.classList.remove("border-top"),this.selectionDetailsPane.classList.add("border-bottom")):(this._dropDownPosition=0,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectionDetailsPane.classList.remove("border-bottom"),this.selectionDetailsPane.classList.add("border-top")),!0);if(I.top+I.height>P.innerHeight-22||I.top<f.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||this._dropDownPosition===0&&ee<1||this._dropDownPosition===1&&re<1)return this.hideSelectDropDown(!0),!1;if(this._dropDownPosition===0){if(this._isVisible&&ee+re<1)return this.hideSelectDropDown(!0),!1;ne>j&&(te=ee*this.getHeight())}else ne>Y&&(te=re*this.getHeight());return this.selectList.layout(te),this.selectList.domFocus(),this.selectList.length>0&&(this.selectList.setFocus([this.selected||0]),this.selectList.reveal(this.selectList.getFocus()[0]||0)),this._hasDetails?(this.selectList.getHTMLElement().style.height=te+G+"px",this.selectDropDownContainer.style.height=""):this.selectDropDownContainer.style.height=te+G+"px",this.updateDetail(this.selected),this.selectDropDownContainer.style.width=ie,this.selectDropDownListContainer.setAttribute("tabindex","0"),this.selectElement.classList.add("synthetic-focus"),this.selectDropDownContainer.classList.add("synthetic-focus"),!0}else return!1}setWidthControlElement(A){let P=0;if(A){let I=0,W=0;this.options.forEach((G,j)=>{const Y=G.detail?G.detail.length:0,H=G.decoratorRight?G.decoratorRight.length:0,Q=G.text.length+Y+H;Q>W&&(I=j,W=Q)}),A.textContent=this.options[I].text+(this.options[I].decoratorRight?this.options[I].decoratorRight+" ":""),P=x.w(A)}return P}createSelectList(A){if(this.selectList)return;this.selectDropDownListContainer=x.R3(A,u(".select-box-dropdown-list-container")),this.listRenderer=new D,this.selectList=new m.aV("SelectBoxCustom",this.selectDropDownListContainer,this,[this.listRenderer],{useShadows:!1,verticalScrollMode:3,keyboardSupport:!1,mouseSupport:!1,accessibilityProvider:{getAriaLabel:W=>{let G=W.text;return W.detail&&(G+=`. ${W.detail}`),W.decoratorRight&&(G+=`. ${W.decoratorRight}`),W.description&&(G+=`. ${W.description}`),G},getWidgetAriaLabel:()=>(0,c.NC)({key:"selectBox",comment:["Behave like native select dropdown element."]},"Select Box"),getRole:()=>n.dz?"":"option",getWidgetRole:()=>"listbox"}}),this.selectBoxOptions.ariaLabel&&(this.selectList.ariaLabel=this.selectBoxOptions.ariaLabel);const P=this._register(new p.Y(this.selectDropDownListContainer,"keydown")),I=a.ju.chain(P.event,W=>W.filter(()=>this.selectList.length>0).map(G=>new E.y(G)));this._register(a.ju.chain(I,W=>W.filter(G=>G.keyCode===3))(this.onEnter,this)),this._register(a.ju.chain(I,W=>W.filter(G=>G.keyCode===2))(this.onEnter,this)),this._register(a.ju.chain(I,W=>W.filter(G=>G.keyCode===9))(this.onEscape,this)),this._register(a.ju.chain(I,W=>W.filter(G=>G.keyCode===16))(this.onUpArrow,this)),this._register(a.ju.chain(I,W=>W.filter(G=>G.keyCode===18))(this.onDownArrow,this)),this._register(a.ju.chain(I,W=>W.filter(G=>G.keyCode===12))(this.onPageDown,this)),this._register(a.ju.chain(I,W=>W.filter(G=>G.keyCode===11))(this.onPageUp,this)),this._register(a.ju.chain(I,W=>W.filter(G=>G.keyCode===14))(this.onHome,this)),this._register(a.ju.chain(I,W=>W.filter(G=>G.keyCode===13))(this.onEnd,this)),this._register(a.ju.chain(I,W=>W.filter(G=>G.keyCode>=21&&G.keyCode<=56||G.keyCode>=85&&G.keyCode<=113))(this.onCharacter,this)),this._register(x.nm(this.selectList.getHTMLElement(),x.tw.POINTER_UP,W=>this.onPointerUp(W))),this._register(this.selectList.onMouseOver(W=>typeof W.index!="undefined"&&this.selectList.setFocus([W.index]))),this._register(this.selectList.onDidChangeFocus(W=>this.onListFocus(W))),this._register(x.nm(this.selectDropDownContainer,x.tw.FOCUS_OUT,W=>{!this._isVisible||x.jg(W.relatedTarget,this.selectDropDownContainer)||this.onListBlur()})),this.selectList.getHTMLElement().setAttribute("aria-label",this.selectBoxOptions.ariaLabel||""),this.selectList.getHTMLElement().setAttribute("aria-expanded","true"),this.styleList()}onPointerUp(A){if(!this.selectList.length)return;x.zB.stop(A);const P=A.target;if(!P||P.classList.contains("slider"))return;const I=P.closest(".monaco-list-row");if(!I)return;const W=Number(I.getAttribute("data-index")),G=I.classList.contains("option-disabled");W>=0&&W<this.options.length&&!G&&(this.selected=W,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)),this.hideSelectDropDown(!0))}onListBlur(){this._sticky||(this.selected!==this._currentSelection&&this.select(this._currentSelection),this.hideSelectDropDown(!1))}renderDescriptionMarkdown(A,P){const I=G=>{for(let j=0;j<G.childNodes.length;j++){const Y=G.childNodes.item(j);(Y.tagName&&Y.tagName.toLowerCase())==="img"?G.removeChild(Y):I(Y)}},W=(0,R.ap)({value:A,supportThemeIcons:!0},{actionHandler:P});return W.element.classList.add("select-box-description-markdown"),I(W.element),W.element}onListFocus(A){!this._isVisible||!this._hasDetails||this.updateDetail(A.indexes[0])}updateDetail(A){var P,I;this.selectionDetailsPane.innerText="";const W=this.options[A],G=(P=W==null?void 0:W.description)!==null&&P!==void 0?P:"",j=(I=W==null?void 0:W.descriptionIsMarkdown)!==null&&I!==void 0?I:!1;if(G){if(j){const Y=W.descriptionMarkdownActionHandler;this.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown(G,Y))}else this.selectionDetailsPane.innerText=G;this.selectionDetailsPane.style.display="block"}else this.selectionDetailsPane.style.display="none";this._skipLayout=!0,this.contextViewProvider.layout(),this._skipLayout=!1}onEscape(A){x.zB.stop(A),this.select(this._currentSelection),this.hideSelectDropDown(!0)}onEnter(A){x.zB.stop(A),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)),this.hideSelectDropDown(!0)}onDownArrow(A){if(this.selected<this.options.length-1){x.zB.stop(A,!0);const P=this.options[this.selected+1].isDisabled;if(P&&this.options.length>this.selected+2)this.selected+=2;else{if(P)return;this.selected++}this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onUpArrow(A){this.selected>0&&(x.zB.stop(A,!0),this.options[this.selected-1].isDisabled&&this.selected>1?this.selected-=2:this.selected--,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]))}onPageUp(A){x.zB.stop(A),this.selectList.focusPreviousPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected<this.options.length-1&&(this.selected++,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onPageDown(A){x.zB.stop(A),this.selectList.focusNextPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected>0&&(this.selected--,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onHome(A){x.zB.stop(A),!(this.options.length<2)&&(this.selected=0,this.options[this.selected].isDisabled&&this.selected>1&&this.selected++,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onEnd(A){x.zB.stop(A),!(this.options.length<2)&&(this.selected=this.options.length-1,this.options[this.selected].isDisabled&&this.selected>1&&this.selected--,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onCharacter(A){const P=r.kL.toString(A.keyCode);let I=-1;for(let W=0;W<this.options.length-1;W++)if(I=(W+this.selected+1)%this.options.length,this.options[I].text.charAt(0).toUpperCase()===P&&!this.options[I].isDisabled){this.select(I),this.selectList.setFocus([I]),this.selectList.reveal(this.selectList.getFocus()[0]),x.zB.stop(A);break}}dispose(){this.hideSelectDropDown(!1),super.dispose()}}f.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN=32,f.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN=2,f.DEFAULT_MINIMUM_VISIBLE_OPTIONS=3;class y extends i.JT{constructor(A,P,I,W){super(),this.selected=0,this.selectBoxOptions=W||Object.create(null),this.options=[],this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=this._register(new a.Q5),this.styles=I,this.registerListeners(),this.setOptions(A,P)}registerListeners(){this._register(O.o.addTarget(this.selectElement)),[O.t.Tap].forEach(A=>{this._register(x.nm(this.selectElement,A,P=>{this.selectElement.focus()}))}),this._register(x.mu(this.selectElement,"click",A=>{x.zB.stop(A,!0)})),this._register(x.mu(this.selectElement,"change",A=>{this.selectElement.title=A.target.value,this._onDidSelect.fire({index:A.target.selectedIndex,selected:A.target.value})})),this._register(x.mu(this.selectElement,"keydown",A=>{let P=!1;n.dz?(A.keyCode===18||A.keyCode===16||A.keyCode===10)&&(P=!0):(A.keyCode===18&&A.altKey||A.keyCode===10||A.keyCode===3)&&(P=!0),P&&A.stopPropagation()}))}get onDidSelect(){return this._onDidSelect.event}setOptions(A,P){(!this.options||!g.fS(this.options,A))&&(this.options=A,this.selectElement.options.length=0,this.options.forEach((I,W)=>{this.selectElement.add(this.createOption(I.text,W,I.isDisabled))})),P!==void 0&&this.select(P)}select(A){this.options.length===0?this.selected=0:A>=0&&A<this.options.length?this.selected=A:A>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.selected<this.options.length&&typeof this.options[this.selected].text=="string"?this.selectElement.title=this.options[this.selected].text:this.selectElement.title=""}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(A){this.selectElement.tabIndex=A?0:-1}render(A){A.classList.add("select-container"),A.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()}applyStyles(){var A,P,I;this.selectElement&&(this.selectElement.style.backgroundColor=(A=this.styles.selectBackground)!==null&&A!==void 0?A:"",this.selectElement.style.color=(P=this.styles.selectForeground)!==null&&P!==void 0?P:"",this.selectElement.style.borderColor=(I=this.styles.selectBorder)!==null&&I!==void 0?I:"")}createOption(A,P,I){const W=document.createElement("option");return W.value=A,W.text=A,W.disabled=!!I,W}}var C=e(60833);class _ extends C.${constructor(A,P,I,W,G){super(),n.dz&&!(G!=null&&G.useCustomDrawn)?this.selectBoxDelegate=new y(A,P,W,G):this.selectBoxDelegate=new f(A,P,I,W,G),this._register(this.selectBoxDelegate)}get onDidSelect(){return this.selectBoxDelegate.onDidSelect}setOptions(A,P){this.selectBoxDelegate.setOptions(A,P)}select(A){this.selectBoxDelegate.select(A)}focus(){this.selectBoxDelegate.focus()}blur(){this.selectBoxDelegate.blur()}setFocusable(A){this.selectBoxDelegate.setFocusable(A)}render(A){this.selectBoxDelegate.render(A)}}var N=e(43263),b=e(26974),k=e(2456);class V extends i.JT{get action(){return this._action}constructor(A,P,I={}){super(),this.options=I,this._context=A||this,this._action=P,P instanceof N.aU&&this._register(P.onDidChange(W=>{this.element&&this.handleActionChangeEvent(W)}))}handleActionChangeEvent(A){A.enabled!==void 0&&this.updateEnabled(),A.checked!==void 0&&this.updateChecked(),A.class!==void 0&&this.updateClass(),A.label!==void 0&&(this.updateLabel(),this.updateTooltip()),A.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new N.Wi)),this._actionRunner}set actionRunner(A){this._actionRunner=A}isEnabled(){return this._action.enabled}setActionContext(A){this._context=A}render(A){const P=this.element=A;this._register(O.o.addTarget(A));const I=this.options&&this.options.draggable;I&&(A.draggable=!0,o.vU&&this._register((0,x.nm)(A,x.tw.DRAG_START,W=>{var G;return(G=W.dataTransfer)===null||G===void 0?void 0:G.setData(B.g.TEXT,this._action.label)}))),this._register((0,x.nm)(P,O.t.Tap,W=>this.onClick(W,!0))),this._register((0,x.nm)(P,x.tw.MOUSE_DOWN,W=>{I||x.zB.stop(W,!0),this._action.enabled&&W.button===0&&P.classList.add("active")})),n.dz&&this._register((0,x.nm)(P,x.tw.CONTEXT_MENU,W=>{W.button===0&&W.ctrlKey===!0&&this.onClick(W)})),this._register((0,x.nm)(P,x.tw.CLICK,W=>{x.zB.stop(W,!0),this.options&&this.options.isMenu||this.onClick(W)})),this._register((0,x.nm)(P,x.tw.DBLCLICK,W=>{x.zB.stop(W,!0)})),[x.tw.MOUSE_UP,x.tw.MOUSE_OUT].forEach(W=>{this._register((0,x.nm)(P,W,G=>{x.zB.stop(G),P.classList.remove("active")}))})}onClick(A,P=!1){var I;x.zB.stop(A,!0);const W=b.Jp(this._context)?!((I=this.options)===null||I===void 0)&&I.useEventAsContext?A:{preserveFocus:P}:this._context;this.actionRunner.run(this._action,W)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(A){this.element&&(this.element.tabIndex=A?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getClass(){return this.action.class}getTooltip(){return this.action.tooltip}updateTooltip(){var A,P,I;if(!this.element)return;const W=(A=this.getTooltip())!==null&&A!==void 0?A:"";if(this.updateAriaLabel(),!((P=this.options.hoverDelegate)===null||P===void 0)&&P.showNativeHover)this.element.title=W;else if(!this.customHover&&W!==""){const G=(I=this.options.hoverDelegate)!==null&&I!==void 0?I:(0,S.tM)("element");this.customHover=this._store.add((0,w.B)().setupUpdatableHover(G,this.element,W))}else this.customHover&&this.customHover.update(W)}updateAriaLabel(){var A;if(this.element){const P=(A=this.getTooltip())!==null&&A!==void 0?A:"";this.element.setAttribute("aria-label",P)}}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),this._context=void 0,super.dispose()}}class K extends V{constructor(A,P,I){super(A,P,I),this.options=I,this.options.icon=I.icon!==void 0?I.icon:!1,this.options.label=I.label!==void 0?I.label:!0,this.cssClass=""}render(A){super.render(A),b.p_(this.element);const P=document.createElement("a");if(P.classList.add("action-label"),P.setAttribute("role",this.getDefaultAriaRole()),this.label=P,this.element.appendChild(P),this.options.label&&this.options.keybinding){const I=document.createElement("span");I.classList.add("keybinding"),I.textContent=this.options.keybinding,this.element.appendChild(I)}this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}getDefaultAriaRole(){return this._action.id===N.Z0.ID?"presentation":this.options.isMenu?"menuitem":"button"}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(A){this.label&&(this.label.tabIndex=A?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.action.label)}getTooltip(){let A=null;return this.action.tooltip?A=this.action.tooltip:!this.options.label&&this.action.label&&this.options.icon&&(A=this.action.label,this.options.keybinding&&(A=c.NC({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",A,this.options.keybinding))),A!=null?A:void 0}updateClass(){var A;this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getClass(),this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):(A=this.label)===null||A===void 0||A.classList.remove("codicon")}updateEnabled(){var A,P;this.action.enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),(A=this.element)===null||A===void 0||A.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),(P=this.element)===null||P===void 0||P.classList.add("disabled"))}updateAriaLabel(){var A;if(this.label){const P=(A=this.getTooltip())!==null&&A!==void 0?A:"";this.label.setAttribute("aria-label",P)}}updateChecked(){this.label&&(this.action.checked!==void 0?(this.label.classList.toggle("checked",this.action.checked),this.label.setAttribute("aria-checked",this.action.checked?"true":"false"),this.label.setAttribute("role","checkbox")):(this.label.classList.remove("checked"),this.label.removeAttribute("aria-checked"),this.label.setAttribute("role",this.getDefaultAriaRole())))}}class Z extends V{constructor(A,P,I,W,G,j,Y){super(A,P),this.selectBox=new _(I,W,G,j,Y),this.selectBox.setFocusable(!1),this._register(this.selectBox),this.registerListeners()}select(A){this.selectBox.select(A)}registerListeners(){this._register(this.selectBox.onDidSelect(A=>this.runAction(A.selected,A.index)))}runAction(A,P){this.actionRunner.run(this._action,this.getActionContext(A,P))}getActionContext(A,P){return A}setFocusable(A){this.selectBox.setFocusable(A)}focus(){var A;(A=this.selectBox)===null||A===void 0||A.focus()}blur(){var A;(A=this.selectBox)===null||A===void 0||A.blur()}render(A){this.selectBox.render(A)}}},318:function(et,Le,e){"use strict";e.d(Le,{o:function(){return m}});var o=e(91540),B=e(50908),x=e(75405),O=e(66503),S=e(43263),p=e(79329),E=e(45029),R=e(26974),w=e(2456);class m extends E.JT{constructor(a,r={}){var i,n,c,u,l,D,f;super(),this._actionRunnerDisposables=this._register(new E.SL),this.viewItemDisposables=this._register(new E.b2),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new p.Q5),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new p.Q5({onWillAddFirstListener:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new p.Q5),this.onDidRun=this._onDidRun.event,this._onWillRun=this._register(new p.Q5),this.onWillRun=this._onWillRun.event,this.options=r,this._context=(i=r.context)!==null&&i!==void 0?i:null,this._orientation=(n=this.options.orientation)!==null&&n!==void 0?n:0,this._triggerKeys={keyDown:(u=(c=this.options.triggerKeys)===null||c===void 0?void 0:c.keyDown)!==null&&u!==void 0?u:!1,keys:(D=(l=this.options.triggerKeys)===null||l===void 0?void 0:l.keys)!==null&&D!==void 0?D:[3,10]},this._hoverDelegate=(f=r.hoverDelegate)!==null&&f!==void 0?f:this._register((0,O.p0)()),this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new S.Wi,this._actionRunnerDisposables.add(this._actionRunner)),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(_=>this._onDidRun.fire(_))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(_=>this._onWillRun.fire(_))),this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar";let y,C;switch(this._orientation){case 0:y=[15],C=[17];break;case 1:y=[16],C=[18],this.domNode.className+=" vertical";break}this._register(o.nm(this.domNode,o.tw.KEY_DOWN,_=>{const N=new B.y(_);let b=!0;const k=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;y&&(N.equals(y[0])||N.equals(y[1]))?b=this.focusPrevious():C&&(N.equals(C[0])||N.equals(C[1]))?b=this.focusNext():N.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():N.equals(14)?b=this.focusFirst():N.equals(13)?b=this.focusLast():N.equals(2)&&k instanceof x.YH&&k.trapsArrowNavigation?b=this.focusNext():this.isTriggerKeyEvent(N)?this._triggerKeys.keyDown?this.doTrigger(N):this.triggerKeyDown=!0:b=!1,b&&(N.preventDefault(),N.stopPropagation())})),this._register(o.nm(this.domNode,o.tw.KEY_UP,_=>{const N=new B.y(_);this.isTriggerKeyEvent(N)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(N)),N.preventDefault(),N.stopPropagation()):(N.equals(2)||N.equals(1026)||N.equals(16)||N.equals(18)||N.equals(15)||N.equals(17))&&this.updateFocusedItem()})),this.focusTracker=this._register(o.go(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(o.vY()===this.domNode||!o.jg(o.vY(),this.domNode))&&(this._onDidBlur.fire(),this.previouslyFocusedItem=this.focusedItem,this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.options.highlightToggledItems&&this.actionsList.classList.add("highlight-toggled"),this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),a.appendChild(this.domNode)}refreshRole(){this.length()>=1?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(a){if(this.focusable=a,this.focusable){const r=this.viewItems.find(i=>i instanceof x.YH&&i.isEnabled());r instanceof x.YH&&r.setFocusable(!0)}else this.viewItems.forEach(r=>{r instanceof x.YH&&r.setFocusable(!1)})}isTriggerKeyEvent(a){let r=!1;return this._triggerKeys.keys.forEach(i=>{r=r||a.equals(i)}),r}updateFocusedItem(){var a,r;for(let i=0;i<this.actionsList.children.length;i++){const n=this.actionsList.children[i];if(o.jg(o.vY(),n)){this.focusedItem=i,(r=(a=this.viewItems[this.focusedItem])===null||a===void 0?void 0:a.showHover)===null||r===void 0||r.call(a);break}}}get context(){return this._context}set context(a){this._context=a,this.viewItems.forEach(r=>r.setActionContext(a))}get actionRunner(){return this._actionRunner}set actionRunner(a){this._actionRunner=a,this._actionRunnerDisposables.clear(),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(r=>this._onDidRun.fire(r))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(r=>this._onWillRun.fire(r))),this.viewItems.forEach(r=>r.actionRunner=a)}getContainer(){return this.domNode}getAction(a){var r;if(typeof a=="number")return(r=this.viewItems[a])===null||r===void 0?void 0:r.action;if(a instanceof HTMLElement){for(;a.parentElement!==this.actionsList;){if(!a.parentElement)return;a=a.parentElement}for(let i=0;i<this.actionsList.childNodes.length;i++)if(this.actionsList.childNodes[i]===a)return this.viewItems[i].action}}push(a,r={}){const i=Array.isArray(a)?a:[a];let n=R.hj(r.index)?r.index:null;i.forEach(c=>{const u=document.createElement("li");u.className="action-item",u.setAttribute("role","presentation");let l;const D=vi({hoverDelegate:this._hoverDelegate},r);this.options.actionViewItemProvider&&(l=this.options.actionViewItemProvider(c,D)),l||(l=new x.gU(this.context,c,D)),this.options.allowContextMenu||this.viewItemDisposables.set(l,o.nm(u,o.tw.CONTEXT_MENU,f=>{o.zB.stop(f,!0)})),l.actionRunner=this._actionRunner,l.setActionContext(this.context),l.render(u),this.focusable&&l instanceof x.YH&&this.viewItems.length===0&&l.setFocusable(!0),n===null||n<0||n>=this.actionsList.children.length?(this.actionsList.appendChild(u),this.viewItems.push(l)):(this.actionsList.insertBefore(u,this.actionsList.children[n]),this.viewItems.splice(n,0,l),n++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}clear(){this.isEmpty()||(this.viewItems=(0,E.B9)(this.viewItems),this.viewItemDisposables.clearAndDisposeAll(),o.PO(this.actionsList),this.refreshRole())}length(){return this.viewItems.length}isEmpty(){return this.viewItems.length===0}focus(a){let r=!1,i;if(a===void 0?r=!0:typeof a=="number"?i=a:typeof a=="boolean"&&(r=a),r&&typeof this.focusedItem=="undefined"){const n=this.viewItems.findIndex(c=>c.isEnabled());this.focusedItem=n===-1?void 0:n,this.updateFocus(void 0,void 0,!0)}else i!==void 0&&(this.focusedItem=i),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(a){if(typeof this.focusedItem=="undefined")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const r=this.focusedItem;let i;do{if(!a&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=r,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,i=this.viewItems[this.focusedItem]}while(this.focusedItem!==r&&(this.options.focusOnlyEnabledItems&&!i.isEnabled()||i.action.id===S.Z0.ID));return this.updateFocus(),!0}focusPrevious(a){if(typeof this.focusedItem=="undefined")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const r=this.focusedItem;let i;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!a&&this.options.preventLoopNavigation)return this.focusedItem=r,!1;this.focusedItem=this.viewItems.length-1}i=this.viewItems[this.focusedItem]}while(this.focusedItem!==r&&(this.options.focusOnlyEnabledItems&&!i.isEnabled()||i.action.id===S.Z0.ID));return this.updateFocus(!0),!0}updateFocus(a,r,i=!1){var n,c;typeof this.focusedItem=="undefined"&&this.actionsList.focus({preventScroll:r}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((n=this.viewItems[this.previouslyFocusedItem])===null||n===void 0||n.blur());const u=this.focusedItem!==void 0?this.viewItems[this.focusedItem]:void 0;if(u){let l=!0;R.mf(u.focus)||(l=!1),this.options.focusOnlyEnabledItems&&R.mf(u.isEnabled)&&!u.isEnabled()&&(l=!1),u.action.id===S.Z0.ID&&(l=!1),l?(i||this.previouslyFocusedItem!==this.focusedItem)&&(u.focus(a),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:r}),this.previouslyFocusedItem=void 0),l&&((c=u.showHover)===null||c===void 0||c.call(u))}}doTrigger(a){if(typeof this.focusedItem=="undefined")return;const r=this.viewItems[this.focusedItem];if(r instanceof x.YH){const i=r._context===null||r._context===void 0?a:r._context;this.run(r._action,i)}}run(a,r){return Ft(this,null,function*(){yield this._actionRunner.run(a,r)})}dispose(){this._context=void 0,this.viewItems=(0,E.B9)(this.viewItems),this.getContainer().remove(),super.dispose()}}},91333:function(et,Le,e){"use strict";e.d(Le,{Z9:function(){return w},wW:function(){return R},i7:function(){return m}});var o=e(91540);const B=2e4;let x,O,S,p,E;function R(a){x=document.createElement("div"),x.className="monaco-aria-container";const r=()=>{const n=document.createElement("div");return n.className="monaco-alert",n.setAttribute("role","alert"),n.setAttribute("aria-atomic","true"),x.appendChild(n),n};O=r(),S=r();const i=()=>{const n=document.createElement("div");return n.className="monaco-status",n.setAttribute("aria-live","polite"),n.setAttribute("aria-atomic","true"),x.appendChild(n),n};p=i(),E=i(),a.appendChild(x)}function w(a){x&&(O.textContent!==a?(o.PO(S),g(O,a)):(o.PO(O),g(S,a)))}function m(a){x&&(p.textContent!==a?(o.PO(E),g(p,a)):(o.PO(p),g(E,a)))}function g(a,r){o.PO(a),r.length>B&&(r=r.substr(0,B)),a.textContent=r,a.style.visibility="hidden",a.style.visibility="visible"}},89527:function(et,Le,e){"use strict";e.d(Le,{z:function(){return n}});var o=e(91540),B=e(95937),x=e(50908),O=e(60906),S=e(8098),p=e(66503),E=e(60661),R=e(64707),w=e(79329),m=e(60473),g=e(45029),a=e(68777),r=e(66388);const i={buttonBackground:"#0E639C",buttonHoverBackground:"#006BB3",buttonSeparator:R.Il.white.toString(),buttonForeground:R.Il.white.toString(),buttonBorder:void 0,buttonSecondaryBackground:void 0,buttonSecondaryForeground:void 0,buttonSecondaryHoverBackground:void 0};class n extends g.JT{get onDidClick(){return this._onDidClick.event}constructor(u,l){super(),this._label="",this._onDidClick=this._register(new w.Q5),this._onDidEscape=this._register(new w.Q5),this.options=l,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),this._element.classList.toggle("secondary",!!l.secondary);const D=l.secondary?l.buttonSecondaryBackground:l.buttonBackground,f=l.secondary?l.buttonSecondaryForeground:l.buttonForeground;this._element.style.color=f||"",this._element.style.backgroundColor=D||"",l.supportShortLabel&&(this._labelShortElement=document.createElement("div"),this._labelShortElement.classList.add("monaco-button-label-short"),this._element.appendChild(this._labelShortElement),this._labelElement=document.createElement("div"),this._labelElement.classList.add("monaco-button-label"),this._element.appendChild(this._labelElement),this._element.classList.add("monaco-text-button-with-short-label")),typeof l.title=="string"&&this.setTitle(l.title),typeof l.ariaLabel=="string"&&this._element.setAttribute("aria-label",l.ariaLabel),u.appendChild(this._element),this._register(S.o.addTarget(this._element)),[o.tw.CLICK,S.t.Tap].forEach(y=>{this._register((0,o.nm)(this._element,y,C=>{if(!this.enabled){o.zB.stop(C);return}this._onDidClick.fire(C)}))}),this._register((0,o.nm)(this._element,o.tw.KEY_DOWN,y=>{const C=new x.y(y);let _=!1;this.enabled&&(C.equals(3)||C.equals(10))?(this._onDidClick.fire(y),_=!0):C.equals(9)&&(this._onDidEscape.fire(y),this._element.blur(),_=!0),_&&o.zB.stop(C,!0)})),this._register((0,o.nm)(this._element,o.tw.MOUSE_OVER,y=>{this._element.classList.contains("disabled")||this.updateBackground(!0)})),this._register((0,o.nm)(this._element,o.tw.MOUSE_OUT,y=>{this.updateBackground(!1)})),this.focusTracker=this._register((0,o.go)(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.updateBackground(!0)})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.updateBackground(!1)}))}dispose(){super.dispose(),this._element.remove()}getContentElements(u){const l=[];for(let D of(0,E.T)(u))if(typeof D=="string"){if(D=D.trim(),D==="")continue;const f=document.createElement("span");f.textContent=D,l.push(f)}else l.push(D);return l}updateBackground(u){let l;this.options.secondary?l=u?this.options.buttonSecondaryHoverBackground:this.options.buttonSecondaryBackground:l=u?this.options.buttonHoverBackground:this.options.buttonBackground,l&&(this._element.style.backgroundColor=l)}get element(){return this._element}set label(u){var l;if(this._label===u||(0,m.Fr)(this._label)&&(0,m.Fr)(u)&&(0,m.g_)(this._label,u))return;this._element.classList.add("monaco-text-button");const D=this.options.supportShortLabel?this._labelElement:this._element;if((0,m.Fr)(u)){const y=(0,O.ap)(u,{inline:!0});y.dispose();const C=(l=y.element.querySelector("p"))===null||l===void 0?void 0:l.innerHTML;if(C){const _=(0,B.Nw)(C,{ADD_TAGS:["b","i","u","code","span"],ALLOWED_ATTR:["class"],RETURN_TRUSTED_TYPE:!0});D.innerHTML=_}else(0,o.mc)(D)}else this.options.supportIcons?(0,o.mc)(D,...this.getContentElements(u)):D.textContent=u;let f="";typeof this.options.title=="string"?f=this.options.title:this.options.title&&(f=(0,O.et)(u)),this.setTitle(f),typeof this.options.ariaLabel=="string"?this._element.setAttribute("aria-label",this.options.ariaLabel):this.options.ariaLabel&&this._element.setAttribute("aria-label",f),this._label=u}get label(){return this._label}set icon(u){this._element.classList.add(...a.k.asClassNameArray(u))}set enabled(u){u?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}setTitle(u){var l;!this._hover&&u!==""?this._hover=this._register((0,r.B)().setupUpdatableHover((l=this.options.hoverDelegate)!==null&&l!==void 0?l:(0,p.tM)("mouse"),this._element,u)):this._hover&&this._hover.update(u)}}},58411:function(){"use strict"},40667:function(et,Le,e){"use strict";e.d(Le,{Z:function(){return x}});var o=e(91540),B=e(30144);class x{constructor(S,p,E){this.options=p,this.styles=E,this.count=0,this.element=(0,o.R3)(S,(0,o.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(S){this.count=S,this.render()}setTitleFormat(S){this.titleFormat=S,this.render()}render(){var S,p;this.element.textContent=(0,B.WU)(this.countFormat,this.count),this.element.title=(0,B.WU)(this.titleFormat,this.count),this.element.style.backgroundColor=(S=this.styles.badgeBackground)!==null&&S!==void 0?S:"",this.element.style.color=(p=this.styles.badgeForeground)!==null&&p!==void 0?p:"",this.styles.badgeBorder&&(this.element.style.border=`1px solid ${this.styles.badgeBorder}`)}}},27884:function(et,Le,e){"use strict";e.d(Le,{C:function(){return g}});var o=e(91540),B=e(75405),x=e(50908),O=e(8098),S=e(43263),p=e(79329);class E extends S.Wi{constructor(r,i){super(),this._onDidChangeVisibility=this._register(new p.Q5),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,o.R3)(r,(0,o.$)(".monaco-dropdown")),this._label=(0,o.R3)(this._element,(0,o.$)(".dropdown-label"));let n=i.labelRenderer;n||(n=u=>(u.textContent=i.label||"",null));for(const u of[o.tw.CLICK,o.tw.MOUSE_DOWN,O.t.Tap])this._register((0,o.nm)(this.element,u,l=>o.zB.stop(l,!0)));for(const u of[o.tw.MOUSE_DOWN,O.t.Tap])this._register((0,o.nm)(this._label,u,l=>{(0,o.N5)(l)&&(l.detail>1||l.button!==0)||(this.visible?this.hide():this.show())}));this._register((0,o.nm)(this._label,o.tw.KEY_UP,u=>{const l=new x.y(u);(l.equals(3)||l.equals(10))&&(o.zB.stop(u,!0),this.visible?this.hide():this.show())}));const c=n(this._label);c&&this._register(c),this._register(O.o.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class R extends E{constructor(r,i){super(r,i),this._options=i,this._actions=[],this.actions=i.actions||[]}set menuOptions(r){this._menuOptions=r}get menuOptions(){return this._menuOptions}get actions(){return this._options.actionProvider?this._options.actionProvider.getActions():this._actions}set actions(r){this._actions=r}show(){super.show(),this.element.classList.add("active"),this._options.contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:(r,i)=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(r,i):void 0,getKeyBinding:r=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(r):void 0,getMenuClassName:()=>this._options.menuClassName||"",onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this._options.menuAsChild?this.element:void 0,skipTelemetry:this._options.skipTelemetry})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}var w=e(66503),m=e(66388);class g extends B.YH{constructor(r,i,n,c=Object.create(null)){super(null,r,c),this.actionItem=null,this._onDidChangeVisibility=this._register(new p.Q5),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.menuActionsOrProvider=i,this.contextMenuProvider=n,this.options=c,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(r){this.actionItem=r;const i=u=>{var l;this.element=(0,o.R3)(u,(0,o.$)("a.action-label"));let D=[];return typeof this.options.classNames=="string"?D=this.options.classNames.split(/\s+/g).filter(f=>!!f):this.options.classNames&&(D=this.options.classNames),D.find(f=>f==="icon")||D.push("codicon"),this.element.classList.add(...D),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this._action.label&&this._register((0,m.B)().setupUpdatableHover((l=this.options.hoverDelegate)!==null&&l!==void 0?l:(0,w.tM)("mouse"),this.element,this._action.label)),this.element.ariaLabel=this._action.label||"",null},n=Array.isArray(this.menuActionsOrProvider),c={contextMenuProvider:this.contextMenuProvider,labelRenderer:i,menuAsChild:this.options.menuAsChild,actions:n?this.menuActionsOrProvider:void 0,actionProvider:n?void 0:this.menuActionsOrProvider,skipTelemetry:this.options.skipTelemetry};if(this.dropdownMenu=this._register(new R(r,c)),this._register(this.dropdownMenu.onDidChangeVisibility(u=>{var l;(l=this.element)===null||l===void 0||l.setAttribute("aria-expanded",`${u}`),this._onDidChangeVisibility.fire(u)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const u=this;this.dropdownMenu.menuOptions=Ki(vi({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return u.options.anchorAlignmentProvider()}})}this.updateTooltip(),this.updateEnabled()}getTooltip(){let r=null;return this.action.tooltip?r=this.action.tooltip:this.action.label&&(r=this.action.label),r!=null?r:void 0}setActionContext(r){super.setActionContext(r),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=r:this.dropdownMenu.menuOptions={context:r})}show(){var r;(r=this.dropdownMenu)===null||r===void 0||r.show()}updateEnabled(){var r,i;const n=!this.action.enabled;(r=this.actionItem)===null||r===void 0||r.classList.toggle("disabled",n),(i=this.element)===null||i===void 0||i.classList.toggle("disabled",n)}}},55748:function(et,Le,e){"use strict";e.d(Le,{V:function(){return g}});var o=e(91540),B=e(19071),x=e(79418),O=e(60833),S=e(79329),p=e(12261),E=e(61652),R=e(45029),w=e(66503);const m=E.NC("defaultLabel","input");class g extends O.${constructor(r,i,n){super(),this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalTogglesDisposables=this._register(new R.XK),this.additionalToggles=[],this._onDidOptionChange=this._register(new S.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new S.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new S.Q5),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new S.Q5),this._onKeyUp=this._register(new S.Q5),this._onCaseSensitiveKeyDown=this._register(new S.Q5),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new S.Q5),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.placeholder=n.placeholder||"",this.validation=n.validation,this.label=n.label||m,this.showCommonFindToggles=!!n.showCommonFindToggles;const c=n.appendCaseSensitiveLabel||"",u=n.appendWholeWordsLabel||"",l=n.appendRegexLabel||"",D=n.history||[],f=!!n.flexibleHeight,y=!!n.flexibleWidth,C=n.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new x.pG(this.domNode,i,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},history:D,showHistoryHint:n.showHistoryHint,flexibleHeight:f,flexibleWidth:y,flexibleMaxHeight:C,inputBoxStyles:n.inputBoxStyles}));const _=this._register((0,w.p0)());if(this.showCommonFindToggles){this.regex=this._register(new B.eH(vi({appendTitle:l,isChecked:!1,hoverDelegate:_},n.toggleStyles))),this._register(this.regex.onChange(b=>{this._onDidOptionChange.fire(b),!b&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(b=>{this._onRegexKeyDown.fire(b)})),this.wholeWords=this._register(new B.Qx(vi({appendTitle:u,isChecked:!1,hoverDelegate:_},n.toggleStyles))),this._register(this.wholeWords.onChange(b=>{this._onDidOptionChange.fire(b),!b&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new B.rk(vi({appendTitle:c,isChecked:!1,hoverDelegate:_},n.toggleStyles))),this._register(this.caseSensitive.onChange(b=>{this._onDidOptionChange.fire(b),!b&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(b=>{this._onCaseSensitiveKeyDown.fire(b)}));const N=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,b=>{if(b.equals(15)||b.equals(17)||b.equals(9)){const k=N.indexOf(this.domNode.ownerDocument.activeElement);if(k>=0){let V=-1;b.equals(17)?V=(k+1)%N.length:b.equals(15)&&(k===0?V=N.length-1:V=k-1),b.equals(9)?(N[k].blur(),this.inputBox.focus()):V>=0&&N[V].focus(),o.zB.stop(b,!0)}}})}this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this.showCommonFindToggles?"":"none",this.caseSensitive&&this.controls.append(this.caseSensitive.domNode),this.wholeWords&&this.controls.appendChild(this.wholeWords.domNode),this.regex&&this.controls.appendChild(this.regex.domNode),this.setAdditionalToggles(n==null?void 0:n.additionalToggles),this.controls&&this.domNode.appendChild(this.controls),r==null||r.appendChild(this.domNode),this._register(o.nm(this.inputBox.inputElement,"compositionstart",N=>{this.imeSessionInProgress=!0})),this._register(o.nm(this.inputBox.inputElement,"compositionend",N=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,N=>this._onKeyDown.fire(N)),this.onkeyup(this.inputBox.inputElement,N=>this._onKeyUp.fire(N)),this.oninput(this.inputBox.inputElement,N=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,N=>this._onMouseDown.fire(N))}get onDidChange(){return this.inputBox.onDidChange}layout(r){this.inputBox.layout(),this.updateInputBoxPadding(r.collapsedFindWidget)}enable(){var r,i,n;this.domNode.classList.remove("disabled"),this.inputBox.enable(),(r=this.regex)===null||r===void 0||r.enable(),(i=this.wholeWords)===null||i===void 0||i.enable(),(n=this.caseSensitive)===null||n===void 0||n.enable();for(const c of this.additionalToggles)c.enable()}disable(){var r,i,n;this.domNode.classList.add("disabled"),this.inputBox.disable(),(r=this.regex)===null||r===void 0||r.disable(),(i=this.wholeWords)===null||i===void 0||i.disable(),(n=this.caseSensitive)===null||n===void 0||n.disable();for(const c of this.additionalToggles)c.disable()}setFocusInputOnOptionClick(r){this.fixFocusOnOptionClickEnabled=r}setEnabled(r){r?this.enable():this.disable()}setAdditionalToggles(r){for(const i of this.additionalToggles)i.domNode.remove();this.additionalToggles=[],this.additionalTogglesDisposables.value=new R.SL;for(const i of r!=null?r:[])this.additionalTogglesDisposables.value.add(i),this.controls.appendChild(i.domNode),this.additionalTogglesDisposables.value.add(i.onChange(n=>{this._onDidOptionChange.fire(n),!n&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(i);this.additionalToggles.length>0&&(this.controls.style.display=""),this.updateInputBoxPadding()}updateInputBoxPadding(r=!1){var i,n,c,u,l,D;r?this.inputBox.paddingRight=0:this.inputBox.paddingRight=((n=(i=this.caseSensitive)===null||i===void 0?void 0:i.width())!==null&&n!==void 0?n:0)+((u=(c=this.wholeWords)===null||c===void 0?void 0:c.width())!==null&&u!==void 0?u:0)+((D=(l=this.regex)===null||l===void 0?void 0:l.width())!==null&&D!==void 0?D:0)+this.additionalToggles.reduce((f,y)=>f+y.width(),0)}getValue(){return this.inputBox.value}setValue(r){this.inputBox.value!==r&&(this.inputBox.value=r)}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){var r,i;return(i=(r=this.caseSensitive)===null||r===void 0?void 0:r.checked)!==null&&i!==void 0?i:!1}setCaseSensitive(r){this.caseSensitive&&(this.caseSensitive.checked=r)}getWholeWords(){var r,i;return(i=(r=this.wholeWords)===null||r===void 0?void 0:r.checked)!==null&&i!==void 0?i:!1}setWholeWords(r){this.wholeWords&&(this.wholeWords.checked=r)}getRegex(){var r,i;return(i=(r=this.regex)===null||r===void 0?void 0:r.checked)!==null&&i!==void 0?i:!1}setRegex(r){this.regex&&(this.regex.checked=r,this.validate())}focusOnCaseSensitive(){var r;(r=this.caseSensitive)===null||r===void 0||r.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(r){this.inputBox.showMessage(r)}clearMessage(){this.inputBox.hideMessage()}}},19071:function(et,Le,e){"use strict";e.d(Le,{Qx:function(){return w},eH:function(){return m},rk:function(){return R}});var o=e(66503),B=e(62019),x=e(24752),O=e(61652);const S=O.NC("caseDescription","Match Case"),p=O.NC("wordsDescription","Match Whole Word"),E=O.NC("regexDescription","Use Regular Expression");class R extends B.Z{constructor(a){var r;super({icon:x.l.caseSensitive,title:S+a.appendTitle,isChecked:a.isChecked,hoverDelegate:(r=a.hoverDelegate)!==null&&r!==void 0?r:(0,o.tM)("element"),inputActiveOptionBorder:a.inputActiveOptionBorder,inputActiveOptionForeground:a.inputActiveOptionForeground,inputActiveOptionBackground:a.inputActiveOptionBackground})}}class w extends B.Z{constructor(a){var r;super({icon:x.l.wholeWord,title:p+a.appendTitle,isChecked:a.isChecked,hoverDelegate:(r=a.hoverDelegate)!==null&&r!==void 0?r:(0,o.tM)("element"),inputActiveOptionBorder:a.inputActiveOptionBorder,inputActiveOptionForeground:a.inputActiveOptionForeground,inputActiveOptionBackground:a.inputActiveOptionBackground})}}class m extends B.Z{constructor(a){var r;super({icon:x.l.regex,title:E+a.appendTitle,isChecked:a.isChecked,hoverDelegate:(r=a.hoverDelegate)!==null&&r!==void 0?r:(0,o.tM)("element"),inputActiveOptionBorder:a.inputActiveOptionBorder,inputActiveOptionForeground:a.inputActiveOptionForeground,inputActiveOptionBackground:a.inputActiveOptionBackground})}}},83008:function(et,Le,e){"use strict";e.d(Le,{q:function(){return E}});var o=e(91540),B=e(66388),x=e(66503),O=e(60661),S=e(45029),p=e(94920);class E extends S.JT{constructor(w,m){var g;super(),this.options=m,this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(g=m==null?void 0:m.supportIcons)!==null&&g!==void 0?g:!1,this.domNode=o.R3(w,o.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(w,m=[],g="",a){w||(w=""),a&&(w=E.escapeNewLines(w,m)),!(this.didEverRender&&this.text===w&&this.title===g&&p.fS(this.highlights,m))&&(this.text=w,this.title=g,this.highlights=m,this.render())}render(){var w,m,g,a;const r=[];let i=0;for(const n of this.highlights){if(n.end===n.start)continue;if(i<n.start){const l=this.text.substring(i,n.start);this.supportIcons?r.push(...(0,O.T)(l)):r.push(l),i=n.start}const c=this.text.substring(i,n.end),u=o.$("span.highlight",void 0,...this.supportIcons?(0,O.T)(c):[c]);n.extraClasses&&u.classList.add(...n.extraClasses),r.push(u),i=n.end}if(i<this.text.length){const n=this.text.substring(i);this.supportIcons?r.push(...(0,O.T)(n)):r.push(n)}if(o.mc(this.domNode,...r),!((m=(w=this.options)===null||w===void 0?void 0:w.hoverDelegate)===null||m===void 0)&&m.showNativeHover)this.domNode.title=this.title;else if(!this.customHover&&this.title!==""){const n=(a=(g=this.options)===null||g===void 0?void 0:g.hoverDelegate)!==null&&a!==void 0?a:(0,x.tM)("mouse");this.customHover=this._register((0,B.B)().setupUpdatableHover(n,this.domNode,this.title))}else this.customHover&&this.customHover.update(this.title);this.didEverRender=!0}static escapeNewLines(w,m){let g=0,a=0;return w.replace(/\r\n|\r|\n/g,(r,i)=>{a=r===`\r
`?-1:0,i+=g;for(const n of m)n.end<=i||(n.start>=i&&(n.start+=a),n.end>=i&&(n.end+=a));return g+=a,"\u23CE"})}}},66388:function(et,Le,e){"use strict";e.d(Le,{B:function(){return x},r:function(){return B}});let o={showHover:()=>{},hideHover:()=>{},showAndFocusLastHover:()=>{},setupUpdatableHover:()=>null};function B(O){o=O}function x(){return o}},66503:function(et,Le,e){"use strict";e.d(Le,{p0:function(){return R},rM:function(){return p},tM:function(){return E}});var o=e(20359);let x=()=>({get delay(){return-1},dispose:()=>{},showHover:()=>{}});const O=new o.o(()=>x("mouse",!1)),S=new o.o(()=>x("element",!1));function p(w){x=w}function E(w){return w==="element"?S.value:O.value}function R(){return x("element",!0)}},74481:function(et,Le,e){"use strict";e.d(Le,{R0:function(){return m},Sr:function(){return R},c8:function(){return E},rb:function(){return g},uX:function(){return w}});var o=e(91540),B=e(50908),x=e(16846),O=e(45029),S=e(61652);const p=o.$;class E extends O.JT{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new x.s$(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}class R extends O.JT{static render(r,i,n){return new R(r,i,n)}constructor(r,i,n){super(),this.actionContainer=o.R3(r,p("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=o.R3(this.actionContainer,p("a.action")),this.action.setAttribute("role","button"),i.iconClass&&o.R3(this.action,p(`span.icon.${i.iconClass}`));const c=o.R3(this.action,p("span"));c.textContent=n?`${i.label} (${n})`:i.label,this._store.add(new m(this.actionContainer,i.run)),this._store.add(new g(this.actionContainer,i.run,[3,10])),this.setEnabled(!0)}setEnabled(r){r?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}function w(a,r){return a&&r?(0,S.NC)("acessibleViewHint","Inspect this in the accessible view with {0}.",r):a?(0,S.NC)("acessibleViewHintNoKbOpen","Inspect this in the accessible view via the command Open Accessible View which is currently not triggerable via keybinding."):""}class m extends O.JT{constructor(r,i){super(),this._register(o.nm(r,o.tw.CLICK,n=>{n.stopPropagation(),n.preventDefault(),i(r)}))}}class g extends O.JT{constructor(r,i,n){super(),this._register(o.nm(r,o.tw.KEY_DOWN,c=>{const u=new B.y(c);n.some(l=>u.equals(l))&&(c.stopPropagation(),c.preventDefault(),i(r))}))}}},30655:function(et,Le,e){"use strict";e.d(Le,{g:function(){return g}});var o=e(91540),B=e(83008),x=e(45029),O=e(94920),S=e(86666),p=e(66503),E=e(66388),R=e(26974),w=e(15641);class m{constructor(c){this._element=c}get element(){return this._element}set textContent(c){this.disposed||c===this._textContent||(this._textContent=c,this._element.textContent=c)}set className(c){this.disposed||c===this._className||(this._className=c,this._element.className=c)}set empty(c){this.disposed||c===this._empty||(this._empty=c,this._element.style.marginLeft=c?"0":"")}dispose(){this.disposed=!0}}class g extends x.JT{constructor(c,u){var l;super(),this.customHovers=new Map,this.creationOptions=u,this.domNode=this._register(new m(o.R3(c,o.$(".monaco-icon-label")))),this.labelContainer=o.R3(this.domNode.element,o.$(".monaco-icon-label-container")),this.nameContainer=o.R3(this.labelContainer,o.$("span.monaco-icon-name-container")),u!=null&&u.supportHighlights||u!=null&&u.supportIcons?this.nameNode=this._register(new i(this.nameContainer,!!u.supportIcons)):this.nameNode=new a(this.nameContainer),this.hoverDelegate=(l=u==null?void 0:u.hoverDelegate)!==null&&l!==void 0?l:(0,p.tM)("mouse")}get element(){return this.domNode.element}setLabel(c,u,l){var D;const f=["monaco-icon-label"],y=["monaco-icon-label-container"];let C="";if(l&&(l.extraClasses&&f.push(...l.extraClasses),l.italic&&f.push("italic"),l.strikethrough&&f.push("strikethrough"),l.disabledCommand&&y.push("disabled"),l.title&&(typeof l.title=="string"?C+=l.title:C+=c)),this.domNode.className=f.join(" "),this.domNode.element.setAttribute("aria-label",C),this.labelContainer.className=y.join(" "),this.setupHover(l!=null&&l.descriptionTitle?this.labelContainer:this.element,l==null?void 0:l.title),this.nameNode.setLabel(c,l),u||this.descriptionNode){const _=this.getOrCreateDescriptionNode();_ instanceof B.q?(_.set(u||"",l?l.descriptionMatches:void 0,void 0,l==null?void 0:l.labelEscapeNewLines),this.setupHover(_.element,l==null?void 0:l.descriptionTitle)):(_.textContent=u&&(l!=null&&l.labelEscapeNewLines)?B.q.escapeNewLines(u,[]):u||"",this.setupHover(_.element,(l==null?void 0:l.descriptionTitle)||""),_.empty=!u)}if(l!=null&&l.suffix||this.suffixNode){const _=this.getOrCreateSuffixNode();_.textContent=(D=l==null?void 0:l.suffix)!==null&&D!==void 0?D:""}}setupHover(c,u){const l=this.customHovers.get(c);if(l&&(l.dispose(),this.customHovers.delete(c)),!u){c.removeAttribute("title");return}if(this.hoverDelegate.showNativeHover)(function(f,y){(0,R.HD)(y)?f.title=(0,w.x$)(y):y!=null&&y.markdownNotSupportedFallback?f.title=y.markdownNotSupportedFallback:f.removeAttribute("title")})(c,u);else{const D=(0,E.B)().setupUpdatableHover(this.hoverDelegate,c,u);D&&this.customHovers.set(c,D)}}dispose(){super.dispose();for(const c of this.customHovers.values())c.dispose();this.customHovers.clear()}getOrCreateSuffixNode(){if(!this.suffixNode){const c=this._register(new m(o.e4(this.nameContainer,o.$("span.monaco-icon-suffix-container"))));this.suffixNode=this._register(new m(o.R3(c.element,o.$("span.label-suffix"))))}return this.suffixNode}getOrCreateDescriptionNode(){var c;if(!this.descriptionNode){const u=this._register(new m(o.R3(this.labelContainer,o.$("span.monaco-icon-description-container"))));!((c=this.creationOptions)===null||c===void 0)&&c.supportDescriptionHighlights?this.descriptionNode=this._register(new B.q(o.R3(u.element,o.$("span.label-description")),{supportIcons:!!this.creationOptions.supportIcons})):this.descriptionNode=this._register(new m(o.R3(u.element,o.$("span.label-description"))))}return this.descriptionNode}}class a{constructor(c){this.container=c,this.label=void 0,this.singleLabel=void 0}setLabel(c,u){if(!(this.label===c&&(0,O.fS)(this.options,u)))if(this.label=c,this.options=u,typeof c=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=o.R3(this.container,o.$("a.label-name",{id:u==null?void 0:u.domId}))),this.singleLabel.textContent=c;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let l=0;l<c.length;l++){const D=c[l],f=(u==null?void 0:u.domId)&&`${u==null?void 0:u.domId}_${l}`;o.R3(this.container,o.$("a.label-name",{id:f,"data-icon-label-count":c.length,"data-icon-label-index":l,role:"treeitem"},D)),l<c.length-1&&o.R3(this.container,o.$("span.label-separator",void 0,(u==null?void 0:u.separator)||"/"))}}}}function r(n,c,u){if(!u)return;let l=0;return n.map(D=>{const f={start:l,end:l+D.length},y=u.map(C=>S.e.intersect(f,C)).filter(C=>!S.e.isEmpty(C)).map(({start:C,end:_})=>({start:C-l,end:_-l}));return l=f.end+c.length,y})}class i extends x.JT{constructor(c,u){super(),this.container=c,this.supportIcons=u,this.label=void 0,this.singleLabel=void 0}setLabel(c,u){if(!(this.label===c&&(0,O.fS)(this.options,u)))if(this.label=c,this.options=u,typeof c=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=this._register(new B.q(o.R3(this.container,o.$("a.label-name",{id:u==null?void 0:u.domId})),{supportIcons:this.supportIcons}))),this.singleLabel.set(c,u==null?void 0:u.matches,void 0,u==null?void 0:u.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const l=(u==null?void 0:u.separator)||"/",D=r(c,l,u==null?void 0:u.matches);for(let f=0;f<c.length;f++){const y=c[f],C=D?D[f]:void 0,_=(u==null?void 0:u.domId)&&`${u==null?void 0:u.domId}_${f}`,N=o.$("a.label-name",{id:_,"data-icon-label-count":c.length,"data-icon-label-index":f,role:"treeitem"});this._register(new B.q(o.R3(this.container,N),{supportIcons:this.supportIcons})).set(y,C,void 0,u==null?void 0:u.labelEscapeNewLines),f<c.length-1&&o.R3(N,o.$("span.label-separator",void 0,l))}}}}},60661:function(et,Le,e){"use strict";e.d(Le,{T:function(){return O},h:function(){return S}});var o=e(91540),B=e(68777);const x=new RegExp(`(\\\\)?\\$\\((${B.k.iconNameExpression}(?:${B.k.iconModifierExpression})?)\\)`,"g");function O(p){const E=new Array;let R,w=0,m=0;for(;(R=x.exec(p))!==null;){m=R.index||0,w<m&&E.push(p.substring(w,m)),w=(R.index||0)+R[0].length;const[,g,a]=R;E.push(g?`$(${a})`:S({id:a}))}return w<p.length&&E.push(p.substring(w)),E}function S(p){const E=o.$("span");return E.classList.add(...B.k.asClassNameArray(p)),E}},79418:function(et,Le,e){"use strict";e.d(Le,{pG:function(){return l},g4:function(){return c}});var o=e(91540),B=e(60773),x=e(49818),O=e(318),S=e(91333),p=e(66388),E=e(66503),R=e(16846),w=e(60833),m=e(79329);class g{constructor(f,y=0,C=f.length,_=y-1){this.items=f,this.start=y,this.end=C,this.index=_}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class a{constructor(f=[],y=10){this._initialize(f),this._limit=y,this._onChange()}getHistory(){return this._elements}add(f){this._history.delete(f),this._history.add(f),this._onChange()}next(){return this._navigator.next()}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}isLast(){return this._currentPosition()>=this._elements.length-1}isNowhere(){return this._navigator.current()===null}has(f){return this._history.has(f)}_onChange(){this._reduceToLimit();const f=this._elements;this._navigator=new g(f,0,f.length,f.length)}_reduceToLimit(){const f=this._elements;f.length>this._limit&&this._initialize(f.slice(f.length-this._limit))}_currentPosition(){const f=this._navigator.current();return f?this._elements.indexOf(f):-1}_initialize(f){this._history=new Set;for(const y of f)this._history.add(y)}get _elements(){const f=[];return this._history.forEach(y=>f.push(y)),f}}var r=e(94920),i=e(61652);const n=o.$,c={inputBackground:"#3C3C3C",inputForeground:"#CCCCCC",inputValidationInfoBorder:"#55AAFF",inputValidationInfoBackground:"#063B49",inputValidationWarningBorder:"#B89500",inputValidationWarningBackground:"#352A05",inputValidationErrorBorder:"#BE1100",inputValidationErrorBackground:"#5A1D1D",inputBorder:void 0,inputValidationErrorForeground:void 0,inputValidationInfoForeground:void 0,inputValidationWarningForeground:void 0};class u extends w.${constructor(f,y,C){var _;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new m.Q5),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new m.Q5),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=y,this.options=C,this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(_=this.options.tooltip)!==null&&_!==void 0?_:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=o.R3(f,n(".monaco-inputbox.idle"));const N=this.options.flexibleHeight?"textarea":"input",b=o.R3(this.element,n(".ibwrapper"));if(this.input=o.R3(b,n(N+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=o.R3(b,n("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new R.NB(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),o.R3(f,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(K=>this.input.scrollTop=K.scrollTop));const k=this._register(new B.Y(f.ownerDocument,"selectionchange")),V=m.ju.filter(k.event,()=>{const K=f.ownerDocument.getSelection();return(K==null?void 0:K.anchorNode)===b});this._register(V(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this._register(this.ignoreGesture(this.input)),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new O.o(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(f){this.placeholder=f,this.input.setAttribute("placeholder",f)}setTooltip(f){this.tooltip=f,this.hover?this.hover.update(f):this.hover=this._register((0,p.B)().setupUpdatableHover((0,E.tM)("mouse"),this.input,f))}get inputElement(){return this.input}get value(){return this.input.value}set value(f){this.input.value!==f&&(this.input.value=f,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:o.wn(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return o.H9(this.input)}select(f=null){this.input.select(),f&&(this.input.setSelectionRange(f.start,f.end),f.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}getSelection(){var f;const y=this.input.selectionStart;if(y===null)return null;const C=(f=this.input.selectionEnd)!==null&&f!==void 0?f:y;return{start:y,end:C}}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}set paddingRight(f){this.input.style.width=`calc(100% - ${f}px)`,this.mirror&&(this.mirror.style.paddingRight=f+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const f=this.cachedContentHeight,y=this.cachedHeight,C=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:f,height:y}),this.scrollableElement.setScrollPosition({scrollTop:C})}showMessage(f,y){if(this.state==="open"&&(0,r.fS)(this.message,f))return;this.message=f,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(f.type));const C=this.stylesForType(this.message.type);this.element.style.border=`1px solid ${o.XT(C.border,"transparent")}`,this.message.content&&(this.hasFocus()||y)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let f=null;return this.validation&&(f=this.validation(this.value),f?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(f)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),f==null?void 0:f.type}stylesForType(f){const y=this.options.inputBoxStyles;switch(f){case 1:return{border:y.inputValidationInfoBorder,background:y.inputValidationInfoBackground,foreground:y.inputValidationInfoForeground};case 2:return{border:y.inputValidationWarningBorder,background:y.inputValidationWarningBackground,foreground:y.inputValidationWarningForeground};default:return{border:y.inputValidationErrorBorder,background:y.inputValidationErrorBackground,foreground:y.inputValidationErrorForeground}}}classForType(f){switch(f){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let f;const y=()=>f.style.width=o.w(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:_=>{var N,b;if(!this.message)return null;f=o.R3(_,n(".monaco-inputbox-container")),y();const k={inline:!0,className:"monaco-inputbox-message"},V=this.message.formatContent?(0,x.BO)(this.message.content,k):(0,x.IY)(this.message.content,k);V.classList.add(this.classForType(this.message.type));const K=this.stylesForType(this.message.type);return V.style.backgroundColor=(N=K.background)!==null&&N!==void 0?N:"",V.style.color=(b=K.foreground)!==null&&b!==void 0?b:"",V.style.border=K.border?`1px solid ${K.border}`:"",o.R3(f,V),null},onHide:()=>{this.state="closed"},layout:y});let C;this.message.type===3?C=i.NC("alertErrorMessage","Error: {0}",this.message.content):this.message.type===2?C=i.NC("alertWarningMessage","Warning: {0}",this.message.content):C=i.NC("alertInfoMessage","Info: {0}",this.message.content),S.Z9(C),this.state="open"}_hideMessage(){this.contextViewProvider&&(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const f=this.value,C=f.charCodeAt(f.length-1)===10?" ":"";(f+C).replace(/\u000c/g,"")?this.mirror.textContent=f+C:this.mirror.innerText="\xA0",this.layout()}applyStyles(){var f,y,C;const _=this.options.inputBoxStyles,N=(f=_.inputBackground)!==null&&f!==void 0?f:"",b=(y=_.inputForeground)!==null&&y!==void 0?y:"",k=(C=_.inputBorder)!==null&&C!==void 0?C:"";this.element.style.backgroundColor=N,this.element.style.color=b,this.input.style.backgroundColor="inherit",this.input.style.color=b,this.element.style.border=`1px solid ${o.XT(k,"transparent")}`}layout(){if(!this.mirror)return;const f=this.cachedContentHeight;this.cachedContentHeight=o.wn(this.mirror),f!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(f){const y=this.inputElement,C=y.selectionStart,_=y.selectionEnd,N=y.value;C!==null&&_!==null&&(this.value=N.substr(0,C)+f+N.substr(_),y.setSelectionRange(C+1,C+1),this.layout())}dispose(){var f;this._hideMessage(),this.message=null,(f=this.actionbar)===null||f===void 0||f.dispose(),super.dispose()}}class l extends u{constructor(f,y,C){const _=i.NC({key:"history.inputbox.hint.suffix.noparens",comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field ends in a closing parenthesis ")", for example "Filter (e.g. text, !exclude)". The character inserted into the final string is \u21C5 to represent the up and down arrow keys.']}," or {0} for history","\u21C5"),N=i.NC({key:"history.inputbox.hint.suffix.inparens",comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field does NOT end in a closing parenthesis (eg. "Find"). The character inserted into the final string is \u21C5 to represent the up and down arrow keys.']}," ({0} for history)","\u21C5");super(f,y,C),this._onDidFocus=this._register(new m.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new m.Q5),this.onDidBlur=this._onDidBlur.event,this.history=new a(C.history,100);const b=()=>{if(C.showHistoryHint&&C.showHistoryHint()&&!this.placeholder.endsWith(_)&&!this.placeholder.endsWith(N)&&this.history.getHistory().length){const k=this.placeholder.endsWith(")")?_:N,V=this.placeholder+k;C.showPlaceholderOnFocus&&!o.H9(this.input)?this.placeholder=V:this.setPlaceHolder(V)}};this.observer=new MutationObserver((k,V)=>{k.forEach(K=>{K.target.textContent||b()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>b()),this.onblur(this.input,()=>{const k=V=>{if(this.placeholder.endsWith(V)){const K=this.placeholder.slice(0,this.placeholder.length-V.length);return C.showPlaceholderOnFocus?this.placeholder=K:this.setPlaceHolder(K),!0}else return!1};k(N)||k(_)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(f){this.value&&(f||this.value!==this.getCurrentValue())&&this.history.add(this.value)}isAtLastInHistory(){return this.history.isLast()}isNowhereInHistory(){return this.history.isNowhere()}showNextValue(){this.history.has(this.value)||this.addToHistory();let f=this.getNextValue();f&&(f=f===this.value?this.getNextValue():f),this.value=f!=null?f:"",S.i7(this.value?this.value:i.NC("clearedInput","Cleared Input"))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let f=this.getPreviousValue();f&&(f=f===this.value?this.getPreviousValue():f),f&&(this.value=f,S.i7(this.value))}setPlaceHolder(f){super.setPlaceHolder(f),this.setTooltip(f)}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let f=this.history.current();return f||(f=this.history.last(),this.history.next()),f}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()}}},4647:function(et,Le,e){"use strict";e.d(Le,{e:function(){return m},F:function(){return w}});var o=e(91540),B=e(66388),x=e(66503),O=e(16287),S=e(45029),p=e(94920),E=e(61652);const R=o.$,w={keybindingLabelBackground:void 0,keybindingLabelForeground:void 0,keybindingLabelBorder:void 0,keybindingLabelBottomBorder:void 0,keybindingLabelShadow:void 0};class m extends S.JT{constructor(a,r,i){super(),this.os=r,this.keyElements=new Set,this.options=i||Object.create(null);const n=this.options.keybindingLabelForeground;this.domNode=o.R3(a,R(".monaco-keybinding")),n&&(this.domNode.style.color=n),this.hover=this._register((0,B.B)().setupUpdatableHover((0,x.tM)("mouse"),this.domNode,"")),this.didEverRender=!1,a.appendChild(this.domNode)}get element(){return this.domNode}set(a,r){this.didEverRender&&this.keybinding===a&&m.areSame(this.matches,r)||(this.keybinding=a,this.matches=r,this.render())}render(){var a;if(this.clear(),this.keybinding){const r=this.keybinding.getChords();r[0]&&this.renderChord(this.domNode,r[0],this.matches?this.matches.firstPart:null);for(let n=1;n<r.length;n++)o.R3(this.domNode,R("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderChord(this.domNode,r[n],this.matches?this.matches.chordPart:null);const i=(a=this.options.disableTitle)!==null&&a!==void 0&&a?void 0:this.keybinding.getAriaLabel()||void 0;this.hover.update(i),this.domNode.setAttribute("aria-label",i||"")}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0}clear(){o.PO(this.domNode),this.keyElements.clear()}renderChord(a,r,i){const n=O.xo.modifierLabels[this.os];r.ctrlKey&&this.renderKey(a,n.ctrlKey,!!(i!=null&&i.ctrlKey),n.separator),r.shiftKey&&this.renderKey(a,n.shiftKey,!!(i!=null&&i.shiftKey),n.separator),r.altKey&&this.renderKey(a,n.altKey,!!(i!=null&&i.altKey),n.separator),r.metaKey&&this.renderKey(a,n.metaKey,!!(i!=null&&i.metaKey),n.separator);const c=r.keyLabel;c&&this.renderKey(a,c,!!(i!=null&&i.keyCode),"")}renderKey(a,r,i,n){o.R3(a,this.createKeyElement(r,i?".highlight":"")),n&&o.R3(a,R("span.monaco-keybinding-key-separator",void 0,n))}renderUnbound(a){o.R3(a,this.createKeyElement((0,E.NC)("unbound","Unbound")))}createKeyElement(a,r=""){const i=R("span.monaco-keybinding-key"+r,void 0,a);return this.keyElements.add(i),this.options.keybindingLabelBackground&&(i.style.backgroundColor=this.options.keybindingLabelBackground),this.options.keybindingLabelBorder&&(i.style.borderColor=this.options.keybindingLabelBorder),this.options.keybindingLabelBottomBorder&&(i.style.borderBottomColor=this.options.keybindingLabelBottomBorder),this.options.keybindingLabelShadow&&(i.style.boxShadow=`inset 0 -1px 0 ${this.options.keybindingLabelShadow}`),i}static areSame(a,r){return a===r||!a&&!r?!0:!!a&&!!r&&(0,p.fS)(a.firstPart,r.firstPart)&&(0,p.fS)(a.chordPart,r.chordPart)}}},38688:function(et,Le,e){"use strict";e.d(Le,{kX:function(){return b},Bv:function(){return z}});var o=e(92613),B=e(91540),x=e(60773),O=e(8098),S=e(16846),p=e(71221),E=e(74696),R=e(95738),w=e(79329),m=e(45029),g=e(86666),a=e(65869);function r(A,P){const I=[];for(const W of P){if(A.start>=W.range.end)continue;if(A.end<W.range.start)break;const G=g.e.intersect(A,W.range);g.e.isEmpty(G)||I.push({range:G,size:W.size})}return I}function i({start:A,end:P},I){return{start:A+I,end:P+I}}function n(A){const P=[];let I=null;for(const W of A){const G=W.range.start,j=W.range.end,Y=W.size;if(I&&Y===I.size){I.range.end=j;continue}I={range:{start:G,end:j},size:Y},P.push(I)}return P}function c(...A){return n(A.reduce((P,I)=>P.concat(I),[]))}class u{get paddingTop(){return this._paddingTop}set paddingTop(P){this._size=this._size+P-this._paddingTop,this._paddingTop=P}constructor(P){this.groups=[],this._size=0,this._paddingTop=0,this._paddingTop=P!=null?P:0,this._size=this._paddingTop}splice(P,I,W=[]){const G=W.length-I,j=r({start:0,end:P},this.groups),Y=r({start:P+I,end:Number.POSITIVE_INFINITY},this.groups).map(Q=>({range:i(Q.range,G),size:Q.size})),H=W.map((Q,ie)=>({range:{start:P+ie,end:P+ie+1},size:Q.size}));this.groups=c(j,H,Y),this._size=this._paddingTop+this.groups.reduce((Q,ie)=>Q+ie.size*(ie.range.end-ie.range.start),0)}get count(){const P=this.groups.length;return P?this.groups[P-1].range.end:0}get size(){return this._size}indexAt(P){if(P<0)return-1;if(P<this._paddingTop)return 0;let I=0,W=this._paddingTop;for(const G of this.groups){const j=G.range.end-G.range.start,Y=W+j*G.size;if(P<Y)return I+Math.floor((P-W)/G.size);I+=j,W=Y}return I}indexAfter(P){return Math.min(this.indexAt(P)+1,this.count)}positionAt(P){if(P<0)return-1;let I=0,W=0;for(const G of this.groups){const j=G.range.end-G.range.start,Y=W+j;if(P<Y)return this._paddingTop+I+(P-W)*G.size;I+=j*G.size,W=Y}return-1}}function l(A){var P;try{(P=A.parentElement)===null||P===void 0||P.removeChild(A)}catch(I){}}class D{constructor(P){this.renderers=P,this.cache=new Map,this.transactionNodesPendingRemoval=new Set,this.inTransaction=!1}alloc(P){let I=this.getTemplateCache(P).pop(),W=!1;if(I)W=this.transactionNodesPendingRemoval.has(I.domNode),W&&this.transactionNodesPendingRemoval.delete(I.domNode);else{const G=(0,B.$)(".monaco-list-row"),Y=this.getRenderer(P).renderTemplate(G);I={domNode:G,templateId:P,templateData:Y}}return{row:I,isReusingConnectedDomNode:W}}release(P){P&&this.releaseRow(P)}transact(P){if(this.inTransaction)throw new Error("Already in transaction");this.inTransaction=!0;try{P()}finally{for(const I of this.transactionNodesPendingRemoval)this.doRemoveNode(I);this.transactionNodesPendingRemoval.clear(),this.inTransaction=!1}}releaseRow(P){const{domNode:I,templateId:W}=P;I&&(this.inTransaction?this.transactionNodesPendingRemoval.add(I):this.doRemoveNode(I)),this.getTemplateCache(W).push(P)}doRemoveNode(P){P.classList.remove("scrolling"),l(P)}getTemplateCache(P){let I=this.cache.get(P);return I||(I=[],this.cache.set(P,I)),I}dispose(){this.cache.forEach((P,I)=>{for(const W of P)this.getRenderer(I).disposeTemplate(W.templateData),W.templateData=null}),this.cache.clear(),this.transactionNodesPendingRemoval.clear()}getRenderer(P){const I=this.renderers.get(P);if(!I)throw new Error(`No renderer found for ${P}`);return I}}var f=e(25602),y=e(12182),C=function(A,P,I,W){var G=arguments.length,j=G<3?P:W===null?W=Object.getOwnPropertyDescriptor(P,I):W,Y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(A,P,I,W);else for(var H=A.length-1;H>=0;H--)(Y=A[H])&&(j=(G<3?Y(j):G>3?Y(P,I,j):Y(P,I))||j);return G>3&&j&&Object.defineProperty(P,I,j),j};const _={CurrentDragAndDropData:void 0},N={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(A){return[A]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class b{constructor(P){this.elements=P}update(){}getData(){return this.elements}}class k{constructor(P){this.elements=P}update(){}getData(){return this.elements}}class V{constructor(){this.types=[],this.files=[]}update(P){if(P.types&&this.types.splice(0,this.types.length,...P.types),P.files){this.files.splice(0,this.files.length);for(let I=0;I<P.files.length;I++){const W=P.files.item(I);W&&(W.size||W.type)&&this.files.push(W)}}}getData(){return{types:this.types,files:this.files}}}function K(A,P){return Array.isArray(A)&&Array.isArray(P)?(0,p.fS)(A,P):A===P}class Z{constructor(P){P!=null&&P.getSetSize?this.getSetSize=P.getSetSize.bind(P):this.getSetSize=(I,W,G)=>G,P!=null&&P.getPosInSet?this.getPosInSet=P.getPosInSet.bind(P):this.getPosInSet=(I,W)=>W+1,P!=null&&P.getRole?this.getRole=P.getRole.bind(P):this.getRole=I=>"listitem",P!=null&&P.isChecked?this.isChecked=P.isChecked.bind(P):this.isChecked=I=>{}}}class z{get contentHeight(){return this.rangeMap.size}get onDidScroll(){return this.scrollableElement.onScroll}get scrollableElementDomNode(){return this.scrollableElement.getDomNode()}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(P){if(P!==this._horizontalScrolling){if(P&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=P,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const I of this.items)this.measureItemWidth(I);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,B.FK)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}constructor(P,I,W,G=N){var j,Y,H,Q,ie,te,se,ne,ee,re,he,M,we;if(this.virtualDelegate=I,this.domId=`list_id_${++z.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new E.vp(50),this.splicing=!1,this.dragOverAnimationStopDisposable=m.JT.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=m.JT.None,this.onDragLeaveTimeout=m.JT.None,this.disposables=new m.SL,this._onDidChangeContentHeight=new w.Q5,this._onDidChangeContentWidth=new w.Q5,this.onDidChangeContentHeight=w.ju.latch(this._onDidChangeContentHeight.event,void 0,this.disposables),this._horizontalScrolling=!1,G.horizontalScrolling&&G.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=this.createRangeMap((j=G.paddingTop)!==null&&j!==void 0?j:0);for(const ye of W)this.renderers.set(ye.templateId,ye);this.cache=this.disposables.add(new D(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof G.mouseSupport=="boolean"?G.mouseSupport:!0),this._horizontalScrolling=(Y=G.horizontalScrolling)!==null&&Y!==void 0?Y:N.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.paddingBottom=typeof G.paddingBottom=="undefined"?0:G.paddingBottom,this.accessibilityProvider=new Z(G.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",((H=G.transformOptimization)!==null&&H!==void 0?H:N.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict"),this.disposables.add(O.o.addTarget(this.rowsContainer)),this.scrollable=this.disposables.add(new a.Rm({forceIntegerValues:!0,smoothScrollDuration:(Q=G.smoothScrolling)!==null&&Q!==void 0&&Q?125:0,scheduleAtNextAnimationFrame:ye=>(0,B.jL)((0,B.Jj)(this.domNode),ye)})),this.scrollableElement=this.disposables.add(new S.$Z(this.rowsContainer,{alwaysConsumeMouseWheel:(ie=G.alwaysConsumeMouseWheel)!==null&&ie!==void 0?ie:N.alwaysConsumeMouseWheel,horizontal:1,vertical:(te=G.verticalScrollMode)!==null&&te!==void 0?te:N.verticalScrollMode,useShadows:(se=G.useShadows)!==null&&se!==void 0?se:N.useShadows,mouseWheelScrollSensitivity:G.mouseWheelScrollSensitivity,fastScrollSensitivity:G.fastScrollSensitivity,scrollByPage:G.scrollByPage},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),P.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,B.nm)(this.rowsContainer,O.t.Change,ye=>this.onTouchChange(ye))),this.disposables.add((0,B.nm)(this.scrollableElement.getDomNode(),"scroll",ye=>ye.target.scrollTop=0)),this.disposables.add((0,B.nm)(this.domNode,"dragover",ye=>this.onDragOver(this.toDragEvent(ye)))),this.disposables.add((0,B.nm)(this.domNode,"drop",ye=>this.onDrop(this.toDragEvent(ye)))),this.disposables.add((0,B.nm)(this.domNode,"dragleave",ye=>this.onDragLeave(this.toDragEvent(ye)))),this.disposables.add((0,B.nm)(this.domNode,"dragend",ye=>this.onDragEnd(ye))),this.setRowLineHeight=(ne=G.setRowLineHeight)!==null&&ne!==void 0?ne:N.setRowLineHeight,this.setRowHeight=(ee=G.setRowHeight)!==null&&ee!==void 0?ee:N.setRowHeight,this.supportDynamicHeights=(re=G.supportDynamicHeights)!==null&&re!==void 0?re:N.supportDynamicHeights,this.dnd=(he=G.dnd)!==null&&he!==void 0?he:this.disposables.add(N.dnd),this.layout((M=G.initialSize)===null||M===void 0?void 0:M.height,(we=G.initialSize)===null||we===void 0?void 0:we.width)}updateOptions(P){P.paddingBottom!==void 0&&(this.paddingBottom=P.paddingBottom,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),P.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(P.smoothScrolling?125:0),P.horizontalScrolling!==void 0&&(this.horizontalScrolling=P.horizontalScrolling);let I;if(P.scrollByPage!==void 0&&(I=Ki(vi({},I!=null?I:{}),{scrollByPage:P.scrollByPage})),P.mouseWheelScrollSensitivity!==void 0&&(I=Ki(vi({},I!=null?I:{}),{mouseWheelScrollSensitivity:P.mouseWheelScrollSensitivity})),P.fastScrollSensitivity!==void 0&&(I=Ki(vi({},I!=null?I:{}),{fastScrollSensitivity:P.fastScrollSensitivity})),I&&this.scrollableElement.updateOptions(I),P.paddingTop!==void 0&&P.paddingTop!==this.rangeMap.paddingTop){const W=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),G=P.paddingTop-this.rangeMap.paddingTop;this.rangeMap.paddingTop=P.paddingTop,this.render(W,Math.max(0,this.lastRenderTop+G),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.lastRenderTop,this.lastRenderHeight)}}createRangeMap(P){return new u(P)}splice(P,I,W=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(P,I,W)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(P,I,W=[]){const G=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),j={start:P,end:P+I},Y=g.e.intersect(G,j),H=new Map;for(let ve=Y.end-1;ve>=Y.start;ve--){const Ee=this.items[ve];if(Ee.dragStartDisposable.dispose(),Ee.checkedDisposable.dispose(),Ee.row){let Oe=H.get(Ee.templateId);Oe||(Oe=[],H.set(Ee.templateId,Oe));const Ke=this.renderers.get(Ee.templateId);Ke&&Ke.disposeElement&&Ke.disposeElement(Ee.element,ve,Ee.row.templateData,Ee.size),Oe.unshift(Ee.row)}Ee.row=null,Ee.stale=!0}const Q={start:P+I,end:this.items.length},ie=g.e.intersect(Q,G),te=g.e.relativeComplement(Q,G),se=W.map(ve=>({id:String(this.itemId++),element:ve,templateId:this.virtualDelegate.getTemplateId(ve),size:this.virtualDelegate.getHeight(ve),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(ve),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:m.JT.None,checkedDisposable:m.JT.None,stale:!1}));let ne;P===0&&I>=this.items.length?(this.rangeMap=this.createRangeMap(this.rangeMap.paddingTop),this.rangeMap.splice(0,0,se),ne=this.items,this.items=se):(this.rangeMap.splice(P,I,se),ne=this.items.splice(P,I,...se));const ee=W.length-I,re=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),he=i(ie,ee),M=g.e.intersect(re,he);for(let ve=M.start;ve<M.end;ve++)this.updateItemInDOM(this.items[ve],ve);const we=g.e.relativeComplement(he,re);for(const ve of we)for(let Ee=ve.start;Ee<ve.end;Ee++)this.removeItemFromDOM(Ee);const We=te.map(ve=>i(ve,ee)),X=[{start:P,end:P+W.length},...We].map(ve=>g.e.intersect(re,ve)).reverse();for(const ve of X)for(let Ee=ve.end-1;Ee>=ve.start;Ee--){const Oe=this.items[Ee],Ke=H.get(Oe.templateId),Qe=Ke==null?void 0:Ke.pop();this.insertItemInDOM(Ee,Qe)}for(const ve of H.values())for(const Ee of ve)this.cache.release(Ee);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),ne.map(ve=>ve.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,B.jL)((0,B.Jj)(this.domNode),()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let P=0;for(const I of this.items)typeof I.width!="undefined"&&(P=Math.max(P,I.width));this.scrollWidth=P,this.scrollableElement.setScrollDimensions({scrollWidth:P===0?0:P+10}),this._onDidChangeContentWidth.fire(this.scrollWidth)}rerender(){if(this.supportDynamicHeights){for(const P of this.items)P.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}get firstVisibleIndex(){return this.getRenderRange(this.lastRenderTop,this.lastRenderHeight).start}element(P){return this.items[P].element}indexOf(P){return this.items.findIndex(I=>I.element===P)}domElement(P){const I=this.items[P].row;return I&&I.domNode}elementHeight(P){return this.items[P].size}elementTop(P){return this.rangeMap.positionAt(P)}indexAt(P){return this.rangeMap.indexAt(P)}indexAfter(P){return this.rangeMap.indexAfter(P)}layout(P,I){const W={height:typeof P=="number"?P:(0,B.If)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,W.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(W),typeof I!="undefined"&&(this.renderWidth=I,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof I=="number"?I:(0,B.FK)(this.domNode)})}render(P,I,W,G,j,Y=!1){const H=this.getRenderRange(I,W),Q=g.e.relativeComplement(H,P).reverse(),ie=g.e.relativeComplement(P,H);if(Y){const te=g.e.intersect(P,H);for(let se=te.start;se<te.end;se++)this.updateItemInDOM(this.items[se],se)}this.cache.transact(()=>{for(const te of ie)for(let se=te.start;se<te.end;se++)this.removeItemFromDOM(se);for(const te of Q)for(let se=te.end-1;se>=te.start;se--)this.insertItemInDOM(se)}),G!==void 0&&(this.rowsContainer.style.left=`-${G}px`),this.rowsContainer.style.top=`-${I}px`,this.horizontalScrolling&&j!==void 0&&(this.rowsContainer.style.width=`${Math.max(j,this.renderWidth)}px`),this.lastRenderTop=I,this.lastRenderHeight=W}insertItemInDOM(P,I){var W,G,j;const Y=this.items[P];if(!Y.row)if(I)Y.row=I,Y.stale=!0;else{const se=this.cache.alloc(Y.templateId);Y.row=se.row,Y.stale||(Y.stale=se.isReusingConnectedDomNode)}const H=this.accessibilityProvider.getRole(Y.element)||"listitem";Y.row.domNode.setAttribute("role",H);const Q=this.accessibilityProvider.isChecked(Y.element);if(typeof Q=="boolean")Y.row.domNode.setAttribute("aria-checked",String(!!Q));else if(Q){const se=ne=>Y.row.domNode.setAttribute("aria-checked",String(!!ne));se(Q.value),Y.checkedDisposable=Q.onDidChange(()=>se(Q.value))}if(Y.stale||!Y.row.domNode.parentElement){const se=(j=(G=(W=this.items.at(P+1))===null||W===void 0?void 0:W.row)===null||G===void 0?void 0:G.domNode)!==null&&j!==void 0?j:null;(Y.row.domNode.parentElement!==this.rowsContainer||Y.row.domNode.nextElementSibling!==se)&&this.rowsContainer.insertBefore(Y.row.domNode,se),Y.stale=!1}this.updateItemInDOM(Y,P);const ie=this.renderers.get(Y.templateId);if(!ie)throw new Error(`No renderer found for template id ${Y.templateId}`);ie==null||ie.renderElement(Y.element,P,Y.row.templateData,Y.size);const te=this.dnd.getDragURI(Y.element);Y.dragStartDisposable.dispose(),Y.row.domNode.draggable=!!te,te&&(Y.dragStartDisposable=(0,B.nm)(Y.row.domNode,"dragstart",se=>this.onDragStart(Y.element,te,se))),this.horizontalScrolling&&(this.measureItemWidth(Y),this.eventuallyUpdateScrollWidth())}measureItemWidth(P){if(!P.row||!P.row.domNode)return;P.row.domNode.style.width="fit-content",P.width=(0,B.FK)(P.row.domNode);const I=(0,B.Jj)(P.row.domNode).getComputedStyle(P.row.domNode);I.paddingLeft&&(P.width+=parseFloat(I.paddingLeft)),I.paddingRight&&(P.width+=parseFloat(I.paddingRight)),P.row.domNode.style.width=""}updateItemInDOM(P,I){P.row.domNode.style.top=`${this.elementTop(I)}px`,this.setRowHeight&&(P.row.domNode.style.height=`${P.size}px`),this.setRowLineHeight&&(P.row.domNode.style.lineHeight=`${P.size}px`),P.row.domNode.setAttribute("data-index",`${I}`),P.row.domNode.setAttribute("data-last-element",I===this.length-1?"true":"false"),P.row.domNode.setAttribute("data-parity",I%2===0?"even":"odd"),P.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(P.element,I,this.length))),P.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(P.element,I))),P.row.domNode.setAttribute("id",this.getElementDomId(I)),P.row.domNode.classList.toggle("drop-target",P.dropTarget)}removeItemFromDOM(P){const I=this.items[P];if(I.dragStartDisposable.dispose(),I.checkedDisposable.dispose(),I.row){const W=this.renderers.get(I.templateId);W&&W.disposeElement&&W.disposeElement(I.element,P,I.row.templateData,I.size),this.cache.release(I.row),I.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(P,I){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:P,reuseAnimation:I})}get scrollTop(){return this.getScrollTop()}set scrollTop(P){this.setScrollTop(P)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.paddingBottom}get onMouseClick(){return w.ju.map(this.disposables.add(new x.Y(this.domNode,"click")).event,P=>this.toMouseEvent(P),this.disposables)}get onMouseDblClick(){return w.ju.map(this.disposables.add(new x.Y(this.domNode,"dblclick")).event,P=>this.toMouseEvent(P),this.disposables)}get onMouseMiddleClick(){return w.ju.filter(w.ju.map(this.disposables.add(new x.Y(this.domNode,"auxclick")).event,P=>this.toMouseEvent(P),this.disposables),P=>P.browserEvent.button===1,this.disposables)}get onMouseDown(){return w.ju.map(this.disposables.add(new x.Y(this.domNode,"mousedown")).event,P=>this.toMouseEvent(P),this.disposables)}get onMouseOver(){return w.ju.map(this.disposables.add(new x.Y(this.domNode,"mouseover")).event,P=>this.toMouseEvent(P),this.disposables)}get onMouseOut(){return w.ju.map(this.disposables.add(new x.Y(this.domNode,"mouseout")).event,P=>this.toMouseEvent(P),this.disposables)}get onContextMenu(){return w.ju.any(w.ju.map(this.disposables.add(new x.Y(this.domNode,"contextmenu")).event,P=>this.toMouseEvent(P),this.disposables),w.ju.map(this.disposables.add(new x.Y(this.domNode,O.t.Contextmenu)).event,P=>this.toGestureEvent(P),this.disposables))}get onTouchStart(){return w.ju.map(this.disposables.add(new x.Y(this.domNode,"touchstart")).event,P=>this.toTouchEvent(P),this.disposables)}get onTap(){return w.ju.map(this.disposables.add(new x.Y(this.rowsContainer,O.t.Tap)).event,P=>this.toGestureEvent(P),this.disposables)}toMouseEvent(P){const I=this.getItemIndexFromEventTarget(P.target||null),W=typeof I=="undefined"?void 0:this.items[I],G=W&&W.element;return{browserEvent:P,index:I,element:G}}toTouchEvent(P){const I=this.getItemIndexFromEventTarget(P.target||null),W=typeof I=="undefined"?void 0:this.items[I],G=W&&W.element;return{browserEvent:P,index:I,element:G}}toGestureEvent(P){const I=this.getItemIndexFromEventTarget(P.initialTarget||null),W=typeof I=="undefined"?void 0:this.items[I],G=W&&W.element;return{browserEvent:P,index:I,element:G}}toDragEvent(P){const I=this.getItemIndexFromEventTarget(P.target||null),W=typeof I=="undefined"?void 0:this.items[I],G=W&&W.element,j=this.getTargetSector(P,I);return{browserEvent:P,index:I,element:G,sector:j}}onScroll(P){try{const I=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(I,P.scrollTop,P.height,P.scrollLeft,P.scrollWidth),this.supportDynamicHeights&&this._rerender(P.scrollTop,P.height,P.inSmoothScrolling)}catch(I){throw console.error("Got bad scroll event:",P),I}}onTouchChange(P){P.preventDefault(),P.stopPropagation(),this.scrollTop-=P.translationY}onDragStart(P,I,W){var G,j;if(!W.dataTransfer)return;const Y=this.dnd.getDragElements(P);if(W.dataTransfer.effectAllowed="copyMove",W.dataTransfer.setData(o.g.TEXT,I),W.dataTransfer.setDragImage){let H;this.dnd.getDragLabel&&(H=this.dnd.getDragLabel(Y,W)),typeof H=="undefined"&&(H=String(Y.length));const Q=(0,B.$)(".monaco-drag-image");Q.textContent=H;const te=(se=>{for(;se&&!se.classList.contains("monaco-workbench");)se=se.parentElement;return se||this.domNode.ownerDocument})(this.domNode);te.appendChild(Q),W.dataTransfer.setDragImage(Q,-10,-10),setTimeout(()=>te.removeChild(Q),0)}this.domNode.classList.add("dragging"),this.currentDragData=new b(Y),_.CurrentDragAndDropData=new k(Y),(j=(G=this.dnd).onDragStart)===null||j===void 0||j.call(G,this.currentDragData,W)}onDragOver(P){var I,W;if(P.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),_.CurrentDragAndDropData&&_.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(P.browserEvent),!P.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(_.CurrentDragAndDropData)this.currentDragData=_.CurrentDragAndDropData;else{if(!P.browserEvent.dataTransfer.types)return!1;this.currentDragData=new V}const G=this.dnd.onDragOver(this.currentDragData,P.element,P.index,P.sector,P.browserEvent);if(this.canDrop=typeof G=="boolean"?G:G.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;P.browserEvent.dataTransfer.dropEffect=typeof G!="boolean"&&((I=G.effect)===null||I===void 0?void 0:I.type)===0?"copy":"move";let j;typeof G!="boolean"&&G.feedback?j=G.feedback:typeof P.index=="undefined"?j=[-1]:j=[P.index],j=(0,p.EB)(j).filter(H=>H>=-1&&H<this.length).sort((H,Q)=>H-Q),j=j[0]===-1?[-1]:j;let Y=typeof G!="boolean"&&G.effect&&G.effect.position?G.effect.position:"drop-target";if(K(this.currentDragFeedback,j)&&this.currentDragFeedbackPosition===Y)return!0;if(this.currentDragFeedback=j,this.currentDragFeedbackPosition=Y,this.currentDragFeedbackDisposable.dispose(),j[0]===-1)this.domNode.classList.add(Y),this.rowsContainer.classList.add(Y),this.currentDragFeedbackDisposable=(0,m.OF)(()=>{this.domNode.classList.remove(Y),this.rowsContainer.classList.remove(Y)});else{if(j.length>1&&Y!=="drop-target")throw new Error("Can't use multiple feedbacks with position different than 'over'");Y==="drop-target-after"&&j[0]<this.length-1&&(j[0]+=1,Y="drop-target-before");for(const H of j){const Q=this.items[H];Q.dropTarget=!0,(W=Q.row)===null||W===void 0||W.domNode.classList.add(Y)}this.currentDragFeedbackDisposable=(0,m.OF)(()=>{var H;for(const Q of j){const ie=this.items[Q];ie.dropTarget=!1,(H=ie.row)===null||H===void 0||H.domNode.classList.remove(Y)}})}return!0}onDragLeave(P){var I,W;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,E.Vg)(()=>this.clearDragOverFeedback(),100,this.disposables),this.currentDragData&&((W=(I=this.dnd).onDragLeave)===null||W===void 0||W.call(I,this.currentDragData,P.element,P.index,P.browserEvent))}onDrop(P){if(!this.canDrop)return;const I=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,_.CurrentDragAndDropData=void 0,!(!I||!P.browserEvent.dataTransfer)&&(P.browserEvent.preventDefault(),I.update(P.browserEvent.dataTransfer),this.dnd.drop(I,P.element,P.index,P.sector,P.browserEvent))}onDragEnd(P){var I,W;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,_.CurrentDragAndDropData=void 0,(W=(I=this.dnd).onDragEnd)===null||W===void 0||W.call(I,P)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackPosition=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=m.JT.None}setupDragAndDropScrollTopAnimation(P){if(!this.dragOverAnimationDisposable){const I=(0,B.xQ)(this.domNode).top;this.dragOverAnimationDisposable=(0,B.jt)((0,B.Jj)(this.domNode),this.animateDragAndDropScrollTop.bind(this,I))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,E.Vg)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3,this.disposables),this.dragOverMouseY=P.pageY}animateDragAndDropScrollTop(P){if(this.dragOverMouseY===void 0)return;const I=this.dragOverMouseY-P,W=this.renderHeight-35;I<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(I-35))):I>W&&(this.scrollTop+=Math.min(14,Math.floor(.3*(I-W))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getTargetSector(P,I){if(I===void 0)return;const W=P.offsetY/this.items[I].size,G=Math.floor(W/.25);return(0,y.uZ)(G,0,3)}getItemIndexFromEventTarget(P){const I=this.scrollableElement.getDomNode();let W=P;for(;W instanceof HTMLElement&&W!==this.rowsContainer&&I.contains(W);){const G=W.getAttribute("data-index");if(G){const j=Number(G);if(!isNaN(j))return j}W=W.parentElement}}getRenderRange(P,I){return{start:this.rangeMap.indexAt(P),end:this.rangeMap.indexAfter(P+I-1)}}_rerender(P,I,W){const G=this.getRenderRange(P,I);let j,Y;P===this.elementTop(G.start)?(j=G.start,Y=0):G.end-G.start>1&&(j=G.start+1,Y=this.elementTop(j)-P);let H=0;for(;;){const Q=this.getRenderRange(P,I);let ie=!1;for(let te=Q.start;te<Q.end;te++){const se=this.probeDynamicHeight(te);se!==0&&this.rangeMap.splice(te,1,[this.items[te]]),H+=se,ie=ie||se!==0}if(!ie){H!==0&&this.eventuallyUpdateScrollDimensions();const te=g.e.relativeComplement(G,Q);for(const ne of te)for(let ee=ne.start;ee<ne.end;ee++)this.items[ee].row&&this.removeItemFromDOM(ee);const se=g.e.relativeComplement(Q,G).reverse();for(const ne of se)for(let ee=ne.end-1;ee>=ne.start;ee--)this.insertItemInDOM(ee);for(let ne=Q.start;ne<Q.end;ne++)this.items[ne].row&&this.updateItemInDOM(this.items[ne],ne);if(typeof j=="number"){const ne=this.scrollable.getFutureScrollPosition().scrollTop-P,ee=this.elementTop(j)-Y+ne;this.setScrollTop(ee,W)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(P){var I,W,G;const j=this.items[P];if(this.virtualDelegate.getDynamicHeight){const ie=this.virtualDelegate.getDynamicHeight(j.element);if(ie!==null){const te=j.size;return j.size=ie,j.lastDynamicHeightWidth=this.renderWidth,ie-te}}if(!j.hasDynamicHeight||j.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(j.element))return 0;const Y=j.size;if(j.row)return j.row.domNode.style.height="",j.size=j.row.domNode.offsetHeight,j.size===0&&!(0,B.jg)(j.row.domNode,(0,B.Jj)(j.row.domNode).document.body)&&console.warn("Measuring item node that is not in DOM! Add ListView to the DOM before measuring row height!"),j.lastDynamicHeightWidth=this.renderWidth,j.size-Y;const{row:H}=this.cache.alloc(j.templateId);H.domNode.style.height="",this.rowsContainer.appendChild(H.domNode);const Q=this.renderers.get(j.templateId);if(!Q)throw new f.he("Missing renderer for templateId: "+j.templateId);return Q.renderElement(j.element,P,H.templateData,void 0),j.size=H.domNode.offsetHeight,(I=Q.disposeElement)===null||I===void 0||I.call(Q,j.element,P,H.templateData,void 0),(G=(W=this.virtualDelegate).setDynamicHeight)===null||G===void 0||G.call(W,j.element,j.size),j.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(H.domNode),this.cache.release(H),j.size-Y}getElementDomId(P){return`${this.domId}_${P}`}dispose(){var P,I;for(const W of this.items)if(W.dragStartDisposable.dispose(),W.checkedDisposable.dispose(),W.row){const G=this.renderers.get(W.row.templateId);G&&((P=G.disposeElement)===null||P===void 0||P.call(G,W.element,-1,W.row.templateData,void 0),G.disposeTemplate(W.row.templateData))}this.items=[],this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(I=this.dragOverAnimationDisposable)===null||I===void 0||I.dispose(),this.disposables.dispose()}}z.InstanceCount=0,C([R.H],z.prototype,"onMouseClick",null),C([R.H],z.prototype,"onMouseDblClick",null),C([R.H],z.prototype,"onMouseMiddleClick",null),C([R.H],z.prototype,"onMouseDown",null),C([R.H],z.prototype,"onMouseOver",null),C([R.H],z.prototype,"onMouseOut",null),C([R.H],z.prototype,"onContextMenu",null),C([R.H],z.prototype,"onTouchStart",null),C([R.H],z.prototype,"onTap",null)},66074:function(et,Le,e){"use strict";e.d(Le,{wD:function(){return he},aV:function(){return Qe},sx:function(){return re},AA:function(){return j},dk:function(){return A},iK:function(){return W},cK:function(){return V},$B:function(){return z},hD:function(){return Z},wn:function(){return se},Zo:function(){return te},xf:function(){return I},Et:function(){return P},uZ:function(){return M}});var o=e(91540),B=e(60773),x=e(50908),O=e(8098),S=e(91333);class p{constructor($){this.spliceables=$}splice($,le,De){this.spliceables.forEach(xe=>xe.splice($,le,De))}}var E=e(71221),R=e(74696),w=e(64707),m=e(95738),g=e(79329),a=e(87100),r=e(45029),i=e(12182),n=e(15122),c=e(26974),u=e(38588);class l extends Error{constructor($,le){super(`ListError [${$}] ${le}`)}}var D=e(38688),f=e(65512),y=e(17009),C=function(fe,$,le,De){var xe=arguments.length,Ce=xe<3?$:De===null?De=Object.getOwnPropertyDescriptor($,le):De,me;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ce=Reflect.decorate(fe,$,le,De);else for(var be=fe.length-1;be>=0;be--)(me=fe[be])&&(Ce=(xe<3?me(Ce):xe>3?me($,le,Ce):me($,le))||Ce);return xe>3&&Ce&&Object.defineProperty($,le,Ce),Ce};class _{constructor($){this.trait=$,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate($){return $}renderElement($,le,De){const xe=this.renderedElements.findIndex(Ce=>Ce.templateData===De);if(xe>=0){const Ce=this.renderedElements[xe];this.trait.unrender(De),Ce.index=le}else{const Ce={index:le,templateData:De};this.renderedElements.push(Ce)}this.trait.renderIndex(le,De)}splice($,le,De){const xe=[];for(const Ce of this.renderedElements)Ce.index<$?xe.push(Ce):Ce.index>=$+le&&xe.push({index:Ce.index+De-le,templateData:Ce.templateData});this.renderedElements=xe}renderIndexes($){for(const{index:le,templateData:De}of this.renderedElements)$.indexOf(le)>-1&&this.trait.renderIndex(le,De)}disposeTemplate($){const le=this.renderedElements.findIndex(De=>De.templateData===$);le<0||this.renderedElements.splice(le,1)}}class N{get name(){return this._trait}get renderer(){return new _(this)}constructor($){this._trait=$,this.indexes=[],this.sortedIndexes=[],this._onChange=new g.Q5,this.onChange=this._onChange.event}splice($,le,De){const xe=De.length-le,Ce=$+le,me=[];let be=0;for(;be<this.sortedIndexes.length&&this.sortedIndexes[be]<$;)me.push(this.sortedIndexes[be++]);for(let oe=0;oe<De.length;oe++)De[oe]&&me.push(oe+$);for(;be<this.sortedIndexes.length&&this.sortedIndexes[be]>=Ce;)me.push(this.sortedIndexes[be++]+xe);this.renderer.splice($,le,De.length),this._set(me,me)}renderIndex($,le){le.classList.toggle(this._trait,this.contains($))}unrender($){$.classList.remove(this._trait)}set($,le){return this._set($,[...$].sort(ve),le)}_set($,le,De){const xe=this.indexes,Ce=this.sortedIndexes;this.indexes=$,this.sortedIndexes=le;const me=ye(Ce,$);return this.renderer.renderIndexes(me),this._onChange.fire({indexes:$,browserEvent:De}),xe}get(){return this.indexes}contains($){return(0,E.ry)(this.sortedIndexes,$,ve)>=0}dispose(){(0,r.B9)(this._onChange)}}C([m.H],N.prototype,"renderer",null);class b extends N{constructor($){super("selected"),this.setAriaSelected=$}renderIndex($,le){super.renderIndex($,le),this.setAriaSelected&&(this.contains($)?le.setAttribute("aria-selected","true"):le.setAttribute("aria-selected","false"))}}class k{constructor($,le,De){this.trait=$,this.view=le,this.identityProvider=De}splice($,le,De){if(!this.identityProvider)return this.trait.splice($,le,new Array(De.length).fill(!1));const xe=this.trait.get().map(be=>this.identityProvider.getId(this.view.element(be)).toString());if(xe.length===0)return this.trait.splice($,le,new Array(De.length).fill(!1));const Ce=new Set(xe),me=De.map(be=>Ce.has(this.identityProvider.getId(be).toString()));this.trait.splice($,le,me)}}function V(fe){return fe.tagName==="INPUT"||fe.tagName==="TEXTAREA"}function K(fe,$){return fe.classList.contains($)?!0:fe.classList.contains("monaco-list")||!fe.parentElement?!1:K(fe.parentElement,$)}function Z(fe){return K(fe,"monaco-editor")}function z(fe){return K(fe,"monaco-custom-toggle")}function A(fe){return K(fe,"action-item")}function P(fe){return K(fe,"monaco-tree-sticky-row")}function I(fe){return fe.classList.contains("monaco-tree-sticky-container")}function W(fe){return fe.tagName==="A"&&fe.classList.contains("monaco-button")||fe.tagName==="DIV"&&fe.classList.contains("monaco-button-dropdown")?!0:fe.classList.contains("monaco-list")||!fe.parentElement?!1:W(fe.parentElement)}class G{get onKeyDown(){return g.ju.chain(this.disposables.add(new B.Y(this.view.domNode,"keydown")).event,$=>$.filter(le=>!V(le.target)).map(le=>new x.y(le)))}constructor($,le,De){this.list=$,this.view=le,this.disposables=new r.SL,this.multipleSelectionDisposables=new r.SL,this.multipleSelectionSupport=De.multipleSelectionSupport,this.disposables.add(this.onKeyDown(xe=>{switch(xe.keyCode){case 3:return this.onEnter(xe);case 16:return this.onUpArrow(xe);case 18:return this.onDownArrow(xe);case 11:return this.onPageUpArrow(xe);case 12:return this.onPageDownArrow(xe);case 9:return this.onEscape(xe);case 31:this.multipleSelectionSupport&&(n.dz?xe.metaKey:xe.ctrlKey)&&this.onCtrlA(xe)}}))}updateOptions($){$.multipleSelectionSupport!==void 0&&(this.multipleSelectionSupport=$.multipleSelectionSupport)}onEnter($){$.preventDefault(),$.stopPropagation(),this.list.setSelection(this.list.getFocus(),$.browserEvent)}onUpArrow($){$.preventDefault(),$.stopPropagation(),this.list.focusPrevious(1,!1,$.browserEvent);const le=this.list.getFocus()[0];this.list.setAnchor(le),this.list.reveal(le),this.view.domNode.focus()}onDownArrow($){$.preventDefault(),$.stopPropagation(),this.list.focusNext(1,!1,$.browserEvent);const le=this.list.getFocus()[0];this.list.setAnchor(le),this.list.reveal(le),this.view.domNode.focus()}onPageUpArrow($){$.preventDefault(),$.stopPropagation(),this.list.focusPreviousPage($.browserEvent);const le=this.list.getFocus()[0];this.list.setAnchor(le),this.list.reveal(le),this.view.domNode.focus()}onPageDownArrow($){$.preventDefault(),$.stopPropagation(),this.list.focusNextPage($.browserEvent);const le=this.list.getFocus()[0];this.list.setAnchor(le),this.list.reveal(le),this.view.domNode.focus()}onCtrlA($){$.preventDefault(),$.stopPropagation(),this.list.setSelection((0,E.w6)(this.list.length),$.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape($){this.list.getSelection().length&&($.preventDefault(),$.stopPropagation(),this.list.setSelection([],$.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}C([m.H],G.prototype,"onKeyDown",null);var j;(function(fe){fe[fe.Automatic=0]="Automatic",fe[fe.Trigger=1]="Trigger"})(j||(j={}));var Y;(function(fe){fe[fe.Idle=0]="Idle",fe[fe.Typing=1]="Typing"})(Y||(Y={}));const H=new class{mightProducePrintableCharacter(fe){return fe.ctrlKey||fe.metaKey||fe.altKey?!1:fe.keyCode>=31&&fe.keyCode<=56||fe.keyCode>=21&&fe.keyCode<=30||fe.keyCode>=98&&fe.keyCode<=107||fe.keyCode>=85&&fe.keyCode<=95}};class Q{constructor($,le,De,xe,Ce){this.list=$,this.view=le,this.keyboardNavigationLabelProvider=De,this.keyboardNavigationEventFilter=xe,this.delegate=Ce,this.enabled=!1,this.state=Y.Idle,this.mode=j.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new r.SL,this.disposables=new r.SL,this.updateOptions($.options)}updateOptions($){var le,De;!((le=$.typeNavigationEnabled)!==null&&le!==void 0)||le?this.enable():this.disable(),this.mode=(De=$.typeNavigationMode)!==null&&De!==void 0?De:j.Automatic}enable(){if(this.enabled)return;let $=!1;const le=g.ju.chain(this.enabledDisposables.add(new B.Y(this.view.domNode,"keydown")).event,Ce=>Ce.filter(me=>!V(me.target)).filter(()=>this.mode===j.Automatic||this.triggered).map(me=>new x.y(me)).filter(me=>$||this.keyboardNavigationEventFilter(me)).filter(me=>this.delegate.mightProducePrintableCharacter(me)).forEach(me=>o.zB.stop(me,!0)).map(me=>me.browserEvent.key)),De=g.ju.debounce(le,()=>null,800,void 0,void 0,void 0,this.enabledDisposables);g.ju.reduce(g.ju.any(le,De),(Ce,me)=>me===null?null:(Ce||"")+me,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),De(this.onClear,this,this.enabledDisposables),le(()=>$=!0,void 0,this.enabledDisposables),De(()=>$=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var $;const le=this.list.getFocus();if(le.length>0&&le[0]===this.previouslyFocused){const De=($=this.list.options.accessibilityProvider)===null||$===void 0?void 0:$.getAriaLabel(this.list.element(le[0]));typeof De=="string"?(0,S.Z9)(De):De&&(0,S.Z9)(De.get())}this.previouslyFocused=-1}onInput($){if(!$){this.state=Y.Idle,this.triggered=!1;return}const le=this.list.getFocus(),De=le.length>0?le[0]:0,xe=this.state===Y.Idle?1:0;this.state=Y.Typing;for(let Ce=0;Ce<this.list.length;Ce++){const me=(De+Ce+xe)%this.list.length,be=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(me)),oe=be&&be.toString();if(this.list.options.typeNavigationEnabled){if(typeof oe!="undefined"){if((0,a.Ji)($,oe)){this.previouslyFocused=De,this.list.setFocus([me]),this.list.reveal(me);return}const ue=(0,a.XU)($,oe);if(ue&&ue[0].end-ue[0].start>1&&ue.length===1){this.previouslyFocused=De,this.list.setFocus([me]),this.list.reveal(me);return}}}else if(typeof oe=="undefined"||(0,a.Ji)($,oe)){this.previouslyFocused=De,this.list.setFocus([me]),this.list.reveal(me);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class ie{constructor($,le){this.list=$,this.view=le,this.disposables=new r.SL;const De=g.ju.chain(this.disposables.add(new B.Y(le.domNode,"keydown")).event,Ce=>Ce.filter(me=>!V(me.target)).map(me=>new x.y(me)));g.ju.chain(De,Ce=>Ce.filter(me=>me.keyCode===2&&!me.ctrlKey&&!me.metaKey&&!me.shiftKey&&!me.altKey))(this.onTab,this,this.disposables)}onTab($){if($.target!==this.view.domNode)return;const le=this.list.getFocus();if(le.length===0)return;const De=this.view.domElement(le[0]);if(!De)return;const xe=De.querySelector("[tabIndex]");if(!xe||!(xe instanceof HTMLElement)||xe.tabIndex===-1)return;const Ce=(0,o.Jj)(xe).getComputedStyle(xe);Ce.visibility==="hidden"||Ce.display==="none"||($.preventDefault(),$.stopPropagation(),xe.focus())}dispose(){this.disposables.dispose()}}function te(fe){return n.dz?fe.browserEvent.metaKey:fe.browserEvent.ctrlKey}function se(fe){return fe.browserEvent.shiftKey}function ne(fe){return(0,o.N5)(fe)&&fe.button===2}const ee={isSelectionSingleChangeEvent:te,isSelectionRangeChangeEvent:se};class re{constructor($){this.list=$,this.disposables=new r.SL,this._onPointer=new g.Q5,this.onPointer=this._onPointer.event,$.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||ee),this.mouseSupport=typeof $.options.mouseSupport=="undefined"||!!$.options.mouseSupport,this.mouseSupport&&($.onMouseDown(this.onMouseDown,this,this.disposables),$.onContextMenu(this.onContextMenu,this,this.disposables),$.onMouseDblClick(this.onDoubleClick,this,this.disposables),$.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(O.o.addTarget($.getHTMLElement()))),g.ju.any($.onMouseClick,$.onMouseMiddleClick,$.onTap)(this.onViewPointer,this,this.disposables)}updateOptions($){$.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,$.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||ee))}isSelectionSingleChangeEvent($){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent($):!1}isSelectionRangeChangeEvent($){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent($):!1}isSelectionChangeEvent($){return this.isSelectionSingleChangeEvent($)||this.isSelectionRangeChangeEvent($)}onMouseDown($){Z($.browserEvent.target)||(0,o.vY)()!==$.browserEvent.target&&this.list.domFocus()}onContextMenu($){if(V($.browserEvent.target)||Z($.browserEvent.target))return;const le=typeof $.index=="undefined"?[]:[$.index];this.list.setFocus(le,$.browserEvent)}onViewPointer($){if(!this.mouseSupport||V($.browserEvent.target)||Z($.browserEvent.target)||$.browserEvent.isHandledByList)return;$.browserEvent.isHandledByList=!0;const le=$.index;if(typeof le=="undefined"){this.list.setFocus([],$.browserEvent),this.list.setSelection([],$.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionChangeEvent($))return this.changeSelection($);this.list.setFocus([le],$.browserEvent),this.list.setAnchor(le),ne($.browserEvent)||this.list.setSelection([le],$.browserEvent),this._onPointer.fire($)}onDoubleClick($){if(V($.browserEvent.target)||Z($.browserEvent.target)||this.isSelectionChangeEvent($)||$.browserEvent.isHandledByList)return;$.browserEvent.isHandledByList=!0;const le=this.list.getFocus();this.list.setSelection(le,$.browserEvent)}changeSelection($){const le=$.index;let De=this.list.getAnchor();if(this.isSelectionRangeChangeEvent($)){if(typeof De=="undefined"){const de=this.list.getFocus()[0];De=de!=null?de:le,this.list.setAnchor(De)}const xe=Math.min(De,le),Ce=Math.max(De,le),me=(0,E.w6)(xe,Ce+1),be=this.list.getSelection(),oe=We(ye(be,[De]),De);if(oe.length===0)return;const ue=ye(me,X(be,oe));this.list.setSelection(ue,$.browserEvent),this.list.setFocus([le],$.browserEvent)}else if(this.isSelectionSingleChangeEvent($)){const xe=this.list.getSelection(),Ce=xe.filter(me=>me!==le);this.list.setFocus([le]),this.list.setAnchor(le),xe.length===Ce.length?this.list.setSelection([...Ce,le],$.browserEvent):this.list.setSelection(Ce,$.browserEvent)}}dispose(){this.disposables.dispose()}}class he{constructor($,le){this.styleElement=$,this.selectorSuffix=le}style($){var le,De;const xe=this.selectorSuffix&&`.${this.selectorSuffix}`,Ce=[];$.listBackground&&Ce.push(`.monaco-list${xe} .monaco-list-rows { background: ${$.listBackground}; }`),$.listFocusBackground&&(Ce.push(`.monaco-list${xe}:focus .monaco-list-row.focused { background-color: ${$.listFocusBackground}; }`),Ce.push(`.monaco-list${xe}:focus .monaco-list-row.focused:hover { background-color: ${$.listFocusBackground}; }`)),$.listFocusForeground&&Ce.push(`.monaco-list${xe}:focus .monaco-list-row.focused { color: ${$.listFocusForeground}; }`),$.listActiveSelectionBackground&&(Ce.push(`.monaco-list${xe}:focus .monaco-list-row.selected { background-color: ${$.listActiveSelectionBackground}; }`),Ce.push(`.monaco-list${xe}:focus .monaco-list-row.selected:hover { background-color: ${$.listActiveSelectionBackground}; }`)),$.listActiveSelectionForeground&&Ce.push(`.monaco-list${xe}:focus .monaco-list-row.selected { color: ${$.listActiveSelectionForeground}; }`),$.listActiveSelectionIconForeground&&Ce.push(`.monaco-list${xe}:focus .monaco-list-row.selected .codicon { color: ${$.listActiveSelectionIconForeground}; }`),$.listFocusAndSelectionBackground&&Ce.push(`
				.monaco-drag-image,
				.monaco-list${xe}:focus .monaco-list-row.selected.focused { background-color: ${$.listFocusAndSelectionBackground}; }
			`),$.listFocusAndSelectionForeground&&Ce.push(`
				.monaco-drag-image,
				.monaco-list${xe}:focus .monaco-list-row.selected.focused { color: ${$.listFocusAndSelectionForeground}; }
			`),$.listInactiveFocusForeground&&(Ce.push(`.monaco-list${xe} .monaco-list-row.focused { color:  ${$.listInactiveFocusForeground}; }`),Ce.push(`.monaco-list${xe} .monaco-list-row.focused:hover { color:  ${$.listInactiveFocusForeground}; }`)),$.listInactiveSelectionIconForeground&&Ce.push(`.monaco-list${xe} .monaco-list-row.focused .codicon { color:  ${$.listInactiveSelectionIconForeground}; }`),$.listInactiveFocusBackground&&(Ce.push(`.monaco-list${xe} .monaco-list-row.focused { background-color:  ${$.listInactiveFocusBackground}; }`),Ce.push(`.monaco-list${xe} .monaco-list-row.focused:hover { background-color:  ${$.listInactiveFocusBackground}; }`)),$.listInactiveSelectionBackground&&(Ce.push(`.monaco-list${xe} .monaco-list-row.selected { background-color:  ${$.listInactiveSelectionBackground}; }`),Ce.push(`.monaco-list${xe} .monaco-list-row.selected:hover { background-color:  ${$.listInactiveSelectionBackground}; }`)),$.listInactiveSelectionForeground&&Ce.push(`.monaco-list${xe} .monaco-list-row.selected { color: ${$.listInactiveSelectionForeground}; }`),$.listHoverBackground&&Ce.push(`.monaco-list${xe}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${$.listHoverBackground}; }`),$.listHoverForeground&&Ce.push(`.monaco-list${xe}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${$.listHoverForeground}; }`);const me=(0,o.XT)($.listFocusAndSelectionOutline,(0,o.XT)($.listSelectionOutline,(le=$.listFocusOutline)!==null&&le!==void 0?le:""));me&&Ce.push(`.monaco-list${xe}:focus .monaco-list-row.focused.selected { outline: 1px solid ${me}; outline-offset: -1px;}`),$.listFocusOutline&&Ce.push(`
				.monaco-drag-image,
				.monaco-list${xe}:focus .monaco-list-row.focused { outline: 1px solid ${$.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${xe}.last-focused .monaco-list-row.focused { outline: 1px solid ${$.listFocusOutline}; outline-offset: -1px; }
			`);const be=(0,o.XT)($.listSelectionOutline,(De=$.listInactiveFocusOutline)!==null&&De!==void 0?De:"");be&&Ce.push(`.monaco-list${xe} .monaco-list-row.focused.selected { outline: 1px dotted ${be}; outline-offset: -1px; }`),$.listSelectionOutline&&Ce.push(`.monaco-list${xe} .monaco-list-row.selected { outline: 1px dotted ${$.listSelectionOutline}; outline-offset: -1px; }`),$.listInactiveFocusOutline&&Ce.push(`.monaco-list${xe} .monaco-list-row.focused { outline: 1px dotted ${$.listInactiveFocusOutline}; outline-offset: -1px; }`),$.listHoverOutline&&Ce.push(`.monaco-list${xe} .monaco-list-row:hover { outline: 1px dashed ${$.listHoverOutline}; outline-offset: -1px; }`),$.listDropOverBackground&&Ce.push(`
				.monaco-list${xe}.drop-target,
				.monaco-list${xe} .monaco-list-rows.drop-target,
				.monaco-list${xe} .monaco-list-row.drop-target { background-color: ${$.listDropOverBackground} !important; color: inherit !important; }
			`),$.listDropBetweenBackground&&(Ce.push(`
			.monaco-list${xe} .monaco-list-rows.drop-target-before .monaco-list-row:first-child::before,
			.monaco-list${xe} .monaco-list-row.drop-target-before::before {
				content: ""; position: absolute; top: 0px; left: 0px; width: 100%; height: 1px;
				background-color: ${$.listDropBetweenBackground};
			}`),Ce.push(`
			.monaco-list${xe} .monaco-list-rows.drop-target-after .monaco-list-row:last-child::after,
			.monaco-list${xe} .monaco-list-row.drop-target-after::after {
				content: ""; position: absolute; bottom: 0px; left: 0px; width: 100%; height: 1px;
				background-color: ${$.listDropBetweenBackground};
			}`)),$.tableColumnsBorder&&Ce.push(`
				.monaco-table > .monaco-split-view2,
				.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${$.tableColumnsBorder};
				}

				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: transparent;
				}
			`),$.tableOddRowsBackgroundColor&&Ce.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${$.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=Ce.join(`
`)}}const M={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropOverBackground:"#383B3D",listDropBetweenBackground:"#EEEEEE",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:w.Il.fromHex("#a9a9a9").transparent(.4).toString(),tableColumnsBorder:w.Il.fromHex("#cccccc").transparent(.2).toString(),tableOddRowsBackgroundColor:w.Il.fromHex("#cccccc").transparent(.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0,treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:void 0},we={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}}};function We(fe,$){const le=fe.indexOf($);if(le===-1)return[];const De=[];let xe=le-1;for(;xe>=0&&fe[xe]===$-(le-xe);)De.push(fe[xe--]);for(De.reverse(),xe=le;xe<fe.length&&fe[xe]===$+(xe-le);)De.push(fe[xe++]);return De}function ye(fe,$){const le=[];let De=0,xe=0;for(;De<fe.length||xe<$.length;)if(De>=fe.length)le.push($[xe++]);else if(xe>=$.length)le.push(fe[De++]);else if(fe[De]===$[xe]){le.push(fe[De]),De++,xe++;continue}else fe[De]<$[xe]?le.push(fe[De++]):le.push($[xe++]);return le}function X(fe,$){const le=[];let De=0,xe=0;for(;De<fe.length||xe<$.length;)if(De>=fe.length)le.push($[xe++]);else if(xe>=$.length)le.push(fe[De++]);else if(fe[De]===$[xe]){De++,xe++;continue}else fe[De]<$[xe]?le.push(fe[De++]):xe++;return le}const ve=(fe,$)=>fe-$;class Ee{constructor($,le){this._templateId=$,this.renderers=le}get templateId(){return this._templateId}renderTemplate($){return this.renderers.map(le=>le.renderTemplate($))}renderElement($,le,De,xe){let Ce=0;for(const me of this.renderers)me.renderElement($,le,De[Ce++],xe)}disposeElement($,le,De,xe){var Ce;let me=0;for(const be of this.renderers)(Ce=be.disposeElement)===null||Ce===void 0||Ce.call(be,$,le,De[me],xe),me+=1}disposeTemplate($){let le=0;for(const De of this.renderers)De.disposeTemplate($[le++])}}class Oe{constructor($){this.accessibilityProvider=$,this.templateId="a18n"}renderTemplate($){return{container:$,disposables:new r.SL}}renderElement($,le,De){const xe=this.accessibilityProvider.getAriaLabel($),Ce=xe&&typeof xe!="string"?xe:(0,y.Dz)(xe);De.disposables.add((0,y.EH)(be=>{this.setAriaLabel(be.readObservable(Ce),De.container)}));const me=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel($);typeof me=="number"?De.container.setAttribute("aria-level",`${me}`):De.container.removeAttribute("aria-level")}setAriaLabel($,le){$?le.setAttribute("aria-label",$):le.removeAttribute("aria-label")}disposeElement($,le,De,xe){De.disposables.clear()}disposeTemplate($){$.disposables.dispose()}}class Ke{constructor($,le){this.list=$,this.dnd=le}getDragElements($){const le=this.list.getSelectedElements();return le.indexOf($)>-1?le:[$]}getDragURI($){return this.dnd.getDragURI($)}getDragLabel($,le){if(this.dnd.getDragLabel)return this.dnd.getDragLabel($,le)}onDragStart($,le){var De,xe;(xe=(De=this.dnd).onDragStart)===null||xe===void 0||xe.call(De,$,le)}onDragOver($,le,De,xe,Ce){return this.dnd.onDragOver($,le,De,xe,Ce)}onDragLeave($,le,De,xe){var Ce,me;(me=(Ce=this.dnd).onDragLeave)===null||me===void 0||me.call(Ce,$,le,De,xe)}onDragEnd($){var le,De;(De=(le=this.dnd).onDragEnd)===null||De===void 0||De.call(le,$)}drop($,le,De,xe,Ce){this.dnd.drop($,le,De,xe,Ce)}dispose(){this.dnd.dispose()}}class Qe{get onDidChangeFocus(){return g.ju.map(this.eventBufferer.wrapEvent(this.focus.onChange),$=>this.toListEvent($),this.disposables)}get onDidChangeSelection(){return g.ju.map(this.eventBufferer.wrapEvent(this.selection.onChange),$=>this.toListEvent($),this.disposables)}get domId(){return this.view.domId}get onDidScroll(){return this.view.onDidScroll}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let $=!1;const le=g.ju.chain(this.disposables.add(new B.Y(this.view.domNode,"keydown")).event,Ce=>Ce.map(me=>new x.y(me)).filter(me=>$=me.keyCode===58||me.shiftKey&&me.keyCode===68).map(me=>o.zB.stop(me,!0)).filter(()=>!1)),De=g.ju.chain(this.disposables.add(new B.Y(this.view.domNode,"keyup")).event,Ce=>Ce.forEach(()=>$=!1).map(me=>new x.y(me)).filter(me=>me.keyCode===58||me.shiftKey&&me.keyCode===68).map(me=>o.zB.stop(me,!0)).map(({browserEvent:me})=>{const be=this.getFocus(),oe=be.length?be[0]:void 0,ue=typeof oe!="undefined"?this.view.element(oe):void 0,de=typeof oe!="undefined"?this.view.domElement(oe):this.view.domNode;return{index:oe,element:ue,anchor:de,browserEvent:me}})),xe=g.ju.chain(this.view.onContextMenu,Ce=>Ce.filter(me=>!$).map(({element:me,index:be,browserEvent:oe})=>({element:me,index:be,anchor:new f.n((0,o.Jj)(this.view.domNode),oe),browserEvent:oe})));return g.ju.any(le,De,xe)}get onKeyDown(){return this.disposables.add(new B.Y(this.view.domNode,"keydown")).event}get onDidFocus(){return g.ju.signal(this.disposables.add(new B.Y(this.view.domNode,"focus",!0)).event)}get onDidBlur(){return g.ju.signal(this.disposables.add(new B.Y(this.view.domNode,"blur",!0)).event)}constructor($,le,De,xe,Ce=we){var me,be,oe,ue;this.user=$,this._options=Ce,this.focus=new N("focused"),this.anchor=new N("anchor"),this.eventBufferer=new g.E7,this._ariaLabel="",this.disposables=new r.SL,this._onDidDispose=new g.Q5,this.onDidDispose=this._onDidDispose.event;const de=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(me=this._options.accessibilityProvider)===null||me===void 0?void 0:me.getWidgetRole():"list";this.selection=new b(de!=="listbox");const Se=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=Ce.accessibilityProvider,this.accessibilityProvider&&(Se.push(new Oe(this.accessibilityProvider)),(oe=(be=this.accessibilityProvider).onDidChangeActiveDescendant)===null||oe===void 0||oe.call(be,this.onDidChangeActiveDescendant,this,this.disposables)),xe=xe.map(Ae=>new Ee(Ae.templateId,[...Se,Ae]));const Te=Ki(vi({},Ce),{dnd:Ce.dnd&&new Ke(this,Ce.dnd)});if(this.view=this.createListView(le,De,xe,Te),this.view.domNode.setAttribute("role",de),Ce.styleController)this.styleController=Ce.styleController(this.view.domId);else{const Ae=(0,o.dS)(this.view.domNode);this.styleController=new he(Ae,this.view.domId)}if(this.spliceable=new p([new k(this.focus,this.view,Ce.identityProvider),new k(this.selection,this.view,Ce.identityProvider),new k(this.anchor,this.view,Ce.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new ie(this,this.view)),(typeof Ce.keyboardSupport!="boolean"||Ce.keyboardSupport)&&(this.keyboardController=new G(this,this.view,Ce),this.disposables.add(this.keyboardController)),Ce.keyboardNavigationLabelProvider){const Ae=Ce.keyboardNavigationDelegate||H;this.typeNavigationController=new Q(this,this.view,Ce.keyboardNavigationLabelProvider,(ue=Ce.keyboardNavigationEventFilter)!==null&&ue!==void 0?ue:()=>!0,Ae),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(Ce),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}createListView($,le,De,xe){return new D.Bv($,le,De,xe)}createMouseController($){return new re(this)}updateOptions($={}){var le,De;this._options=vi(vi({},this._options),$),(le=this.typeNavigationController)===null||le===void 0||le.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions($),(De=this.keyboardController)===null||De===void 0||De.updateOptions($),this.view.updateOptions($)}get options(){return this._options}splice($,le,De=[]){if($<0||$>this.view.length)throw new l(this.user,`Invalid start index: ${$}`);if(le<0)throw new l(this.user,`Invalid delete count: ${le}`);le===0&&De.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice($,le,De))}rerender(){this.view.rerender()}element($){return this.view.element($)}indexOf($){return this.view.indexOf($)}indexAt($){return this.view.indexAt($)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get onDidChangeContentHeight(){return this.view.onDidChangeContentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop($){this.view.setScrollTop($)}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel($){this._ariaLabel=$,this.view.domNode.setAttribute("aria-label",$)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout($,le){this.view.layout($,le)}setSelection($,le){for(const De of $)if(De<0||De>=this.length)throw new l(this.user,`Invalid index ${De}`);this.selection.set($,le)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map($=>this.view.element($))}setAnchor($){if(typeof $=="undefined"){this.anchor.set([]);return}if($<0||$>=this.length)throw new l(this.user,`Invalid index ${$}`);this.anchor.set([$])}getAnchor(){return(0,E.Xh)(this.anchor.get(),void 0)}getAnchorElement(){const $=this.getAnchor();return typeof $=="undefined"?void 0:this.element($)}setFocus($,le){for(const De of $)if(De<0||De>=this.length)throw new l(this.user,`Invalid index ${De}`);this.focus.set($,le)}focusNext($=1,le=!1,De,xe){if(this.length===0)return;const Ce=this.focus.get(),me=this.findNextIndex(Ce.length>0?Ce[0]+$:0,le,xe);me>-1&&this.setFocus([me],De)}focusPrevious($=1,le=!1,De,xe){if(this.length===0)return;const Ce=this.focus.get(),me=this.findPreviousIndex(Ce.length>0?Ce[0]-$:0,le,xe);me>-1&&this.setFocus([me],De)}focusNextPage($,le){return Ft(this,null,function*(){let De=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);De=De===0?0:De-1;const xe=this.getFocus()[0];if(xe!==De&&(xe===void 0||De>xe)){const Ce=this.findPreviousIndex(De,!1,le);Ce>-1&&xe!==Ce?this.setFocus([Ce],$):this.setFocus([De],$)}else{const Ce=this.view.getScrollTop();let me=Ce+this.view.renderHeight;De>xe&&(me-=this.view.elementHeight(De)),this.view.setScrollTop(me),this.view.getScrollTop()!==Ce&&(this.setFocus([]),yield(0,R.Vs)(0),yield this.focusNextPage($,le))}})}focusPreviousPage($,le,De=()=>0){return Ft(this,null,function*(){let xe;const Ce=De(),me=this.view.getScrollTop()+Ce;me===0?xe=this.view.indexAt(me):xe=this.view.indexAfter(me-1);const be=this.getFocus()[0];if(be!==xe&&(be===void 0||be>=xe)){const oe=this.findNextIndex(xe,!1,le);oe>-1&&be!==oe?this.setFocus([oe],$):this.setFocus([xe],$)}else{const oe=me;this.view.setScrollTop(me-this.view.renderHeight-Ce),this.view.getScrollTop()+De()!==oe&&(this.setFocus([]),yield(0,R.Vs)(0),yield this.focusPreviousPage($,le,De))}})}focusLast($,le){if(this.length===0)return;const De=this.findPreviousIndex(this.length-1,!1,le);De>-1&&this.setFocus([De],$)}focusFirst($,le){this.focusNth(0,$,le)}focusNth($,le,De){if(this.length===0)return;const xe=this.findNextIndex($,!1,De);xe>-1&&this.setFocus([xe],le)}findNextIndex($,le=!1,De){for(let xe=0;xe<this.length;xe++){if($>=this.length&&!le)return-1;if($=$%this.length,!De||De(this.element($)))return $;$++}return-1}findPreviousIndex($,le=!1,De){for(let xe=0;xe<this.length;xe++){if($<0&&!le)return-1;if($=(this.length+$%this.length)%this.length,!De||De(this.element($)))return $;$--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map($=>this.view.element($))}reveal($,le,De=0){if($<0||$>=this.length)throw new l(this.user,`Invalid index ${$}`);const xe=this.view.getScrollTop(),Ce=this.view.elementTop($),me=this.view.elementHeight($);if((0,c.hj)(le)){const be=me-this.view.renderHeight+De;this.view.setScrollTop(be*(0,i.uZ)(le,0,1)+Ce-De)}else{const be=Ce+me,oe=xe+this.view.renderHeight;Ce<xe+De&&be>=oe||(Ce<xe+De||be>=oe&&me>=this.view.renderHeight?this.view.setScrollTop(Ce-De):be>=oe&&this.view.setScrollTop(be-this.view.renderHeight))}}getRelativeTop($,le=0){if($<0||$>=this.length)throw new l(this.user,`Invalid index ${$}`);const De=this.view.getScrollTop(),xe=this.view.elementTop($),Ce=this.view.elementHeight($);if(xe<De+le||xe+Ce>De+this.view.renderHeight)return null;const me=Ce-this.view.renderHeight+le;return Math.abs((De+le-xe)/me)}getHTMLElement(){return this.view.domNode}getScrollableElement(){return this.view.scrollableElementDomNode}getElementID($){return this.view.getElementDomId($)}getElementTop($){return this.view.elementTop($)}style($){this.styleController.style($)}toListEvent({indexes:$,browserEvent:le}){return{indexes:$,elements:$.map(De=>this.view.element(De)),browserEvent:le}}_onFocusChange(){const $=this.focus.get();this.view.domNode.classList.toggle("element-focused",$.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var $;const le=this.focus.get();if(le.length>0){let De;!(($=this.accessibilityProvider)===null||$===void 0)&&$.getActiveDescendantId&&(De=this.accessibilityProvider.getActiveDescendantId(this.view.element(le[0]))),this.view.domNode.setAttribute("aria-activedescendant",De||this.view.getElementDomId(le[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const $=this.selection.get();this.view.domNode.classList.toggle("selection-none",$.length===0),this.view.domNode.classList.toggle("selection-single",$.length===1),this.view.domNode.classList.toggle("selection-multiple",$.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}C([m.H],Qe.prototype,"onDidChangeFocus",null),C([m.H],Qe.prototype,"onDidChangeSelection",null),C([m.H],Qe.prototype,"onContextMenu",null),C([m.H],Qe.prototype,"onKeyDown",null),C([m.H],Qe.prototype,"onDidFocus",null),C([m.H],Qe.prototype,"onDidBlur",null)},66699:function(et,Le,e){"use strict";e.d(Le,{f:function(){return S}});var o=e(91540),B=e(15557),x=e(79329),O=e(45029);class S{constructor(){this._onDidWillResize=new x.Q5,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new x.Q5,this.onDidResize=this._onDidResize.event,this._sashListener=new O.SL,this._size=new o.Ro(0,0),this._minSize=new o.Ro(0,0),this._maxSize=new o.Ro(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new B.g(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new B.g(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new B.g(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:B.l.North}),this._southSash=new B.g(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:B.l.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let E,R=0,w=0;this._sashListener.add(x.ju.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{E===void 0&&(this._onDidWillResize.fire(),E=this._size,R=0,w=0)})),this._sashListener.add(x.ju.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{E!==void 0&&(E=void 0,R=0,w=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(m=>{E&&(w=m.currentX-m.startX,this.layout(E.height+R,E.width+w),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(m=>{E&&(w=-(m.currentX-m.startX),this.layout(E.height+R,E.width+w),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(m=>{E&&(R=-(m.currentY-m.startY),this.layout(E.height+R,E.width+w),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(m=>{E&&(R=m.currentY-m.startY,this.layout(E.height+R,E.width+w),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(x.ju.any(this._eastSash.onDidReset,this._westSash.onDidReset)(m=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(x.ju.any(this._northSash.onDidReset,this._southSash.onDidReset)(m=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(E,R,w,m){this._northSash.state=E?3:0,this._eastSash.state=R?3:0,this._southSash.state=w?3:0,this._westSash.state=m?3:0}layout(E=this.size.height,R=this.size.width){const{height:w,width:m}=this._minSize,{height:g,width:a}=this._maxSize;E=Math.max(w,Math.min(g,E)),R=Math.max(m,Math.min(a,R));const r=new o.Ro(R,E);o.Ro.equals(r,this._size)||(this.domNode.style.height=E+"px",this.domNode.style.width=R+"px",this._size=r,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(E){this._maxSize=E}get maxSize(){return this._maxSize}set minSize(E){this._minSize=E}get minSize(){return this._minSize}set preferredSize(E){this._preferredSize=E}get preferredSize(){return this._preferredSize}}},15557:function(et,Le,e){"use strict";e.d(Le,{l:function(){return g},g:function(){return f}});var o=e(91540),B=e(60773),x=e(8098),O=e(74696),S=e(95738),p=e(79329),E=e(45029),R=e(15122),w=function(y,C,_,N){var b=arguments.length,k=b<3?C:N===null?N=Object.getOwnPropertyDescriptor(C,_):N,V;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(y,C,_,N);else for(var K=y.length-1;K>=0;K--)(V=y[K])&&(k=(b<3?V(k):b>3?V(C,_,k):V(C,_))||k);return b>3&&k&&Object.defineProperty(C,_,k),k};const m=!1;var g;(function(y){y.North="north",y.South="south",y.East="east",y.West="west"})(g||(g={}));let a=4;const r=new p.Q5;let i=300;const n=new p.Q5;class c{constructor(C){this.el=C,this.disposables=new E.SL}get onPointerMove(){return this.disposables.add(new B.Y((0,o.Jj)(this.el),"mousemove")).event}get onPointerUp(){return this.disposables.add(new B.Y((0,o.Jj)(this.el),"mouseup")).event}dispose(){this.disposables.dispose()}}w([S.H],c.prototype,"onPointerMove",null),w([S.H],c.prototype,"onPointerUp",null);class u{get onPointerMove(){return this.disposables.add(new B.Y(this.el,x.t.Change)).event}get onPointerUp(){return this.disposables.add(new B.Y(this.el,x.t.End)).event}constructor(C){this.el=C,this.disposables=new E.SL}dispose(){this.disposables.dispose()}}w([S.H],u.prototype,"onPointerMove",null),w([S.H],u.prototype,"onPointerUp",null);class l{get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}constructor(C){this.factory=C}dispose(){}}w([S.H],l.prototype,"onPointerMove",null),w([S.H],l.prototype,"onPointerUp",null);const D="pointer-events-disabled";class f extends E.JT{get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(C){this._state!==C&&(this.el.classList.toggle("disabled",C===0),this.el.classList.toggle("minimum",C===1),this.el.classList.toggle("maximum",C===2),this._state=C,this.onDidEnablementChange.fire(C))}set orthogonalStartSash(C){if(this._orthogonalStartSash!==C){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),C){const _=N=>{this.orthogonalStartDragHandleDisposables.clear(),N!==0&&(this._orthogonalStartDragHandle=(0,o.R3)(this.el,(0,o.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,E.OF)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new B.Y(this._orthogonalStartDragHandle,"mouseenter")).event(()=>f.onMouseEnter(C),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new B.Y(this._orthogonalStartDragHandle,"mouseleave")).event(()=>f.onMouseLeave(C),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(C.onDidEnablementChange.event(_,this)),_(C.state)}this._orthogonalStartSash=C}}set orthogonalEndSash(C){if(this._orthogonalEndSash!==C){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),C){const _=N=>{this.orthogonalEndDragHandleDisposables.clear(),N!==0&&(this._orthogonalEndDragHandle=(0,o.R3)(this.el,(0,o.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,E.OF)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new B.Y(this._orthogonalEndDragHandle,"mouseenter")).event(()=>f.onMouseEnter(C),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new B.Y(this._orthogonalEndDragHandle,"mouseleave")).event(()=>f.onMouseLeave(C),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(C.onDidEnablementChange.event(_,this)),_(C.state)}this._orthogonalEndSash=C}}constructor(C,_,N){super(),this.hoverDelay=i,this.hoverDelayer=this._register(new O.vp(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new p.Q5),this._onDidStart=this._register(new p.Q5),this._onDidChange=this._register(new p.Q5),this._onDidReset=this._register(new p.Q5),this._onDidEnd=this._register(new p.Q5),this.orthogonalStartSashDisposables=this._register(new E.SL),this.orthogonalStartDragHandleDisposables=this._register(new E.SL),this.orthogonalEndSashDisposables=this._register(new E.SL),this.orthogonalEndDragHandleDisposables=this._register(new E.SL),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,o.R3)(C,(0,o.$)(".monaco-sash")),N.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${N.orthogonalEdge}`),R.dz&&this.el.classList.add("mac");const b=this._register(new B.Y(this.el,"mousedown")).event;this._register(b(P=>this.onPointerStart(P,new c(C)),this));const k=this._register(new B.Y(this.el,"dblclick")).event;this._register(k(this.onPointerDoublePress,this));const V=this._register(new B.Y(this.el,"mouseenter")).event;this._register(V(()=>f.onMouseEnter(this)));const K=this._register(new B.Y(this.el,"mouseleave")).event;this._register(K(()=>f.onMouseLeave(this))),this._register(x.o.addTarget(this.el));const Z=this._register(new B.Y(this.el,x.t.Start)).event;this._register(Z(P=>this.onPointerStart(P,new u(this.el)),this));const z=this._register(new B.Y(this.el,x.t.Tap)).event;let A;this._register(z(P=>{if(A){clearTimeout(A),A=void 0,this.onPointerDoublePress(P);return}clearTimeout(A),A=setTimeout(()=>A=void 0,250)},this)),typeof N.size=="number"?(this.size=N.size,N.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=a,this._register(r.event(P=>{this.size=P,this.layout()}))),this._register(n.event(P=>this.hoverDelay=P)),this.layoutProvider=_,this.orthogonalStartSash=N.orthogonalStartSash,this.orthogonalEndSash=N.orthogonalEndSash,this.orientation=N.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",m),this.layout()}onPointerStart(C,_){o.zB.stop(C);let N=!1;if(!C.__orthogonalSashEvent){const G=this.getOrthogonalSash(C);G&&(N=!0,C.__orthogonalSashEvent=!0,G.onPointerStart(C,new l(_)))}if(this.linkedSash&&!C.__linkedSashEvent&&(C.__linkedSashEvent=!0,this.linkedSash.onPointerStart(C,new l(_))),!this.state)return;const b=this.el.ownerDocument.getElementsByTagName("iframe");for(const G of b)G.classList.add(D);const k=C.pageX,V=C.pageY,K=C.altKey,Z={startX:k,currentX:k,startY:V,currentY:V,altKey:K};this.el.classList.add("active"),this._onDidStart.fire(Z);const z=(0,o.dS)(this.el),A=()=>{let G="";N?G="all-scroll":this.orientation===1?this.state===1?G="s-resize":this.state===2?G="n-resize":G=R.dz?"row-resize":"ns-resize":this.state===1?G="e-resize":this.state===2?G="w-resize":G=R.dz?"col-resize":"ew-resize",z.textContent=`* { cursor: ${G} !important; }`},P=new E.SL;A(),N||this.onDidEnablementChange.event(A,null,P);const I=G=>{o.zB.stop(G,!1);const j={startX:k,currentX:G.pageX,startY:V,currentY:G.pageY,altKey:K};this._onDidChange.fire(j)},W=G=>{o.zB.stop(G,!1),this.el.removeChild(z),this.el.classList.remove("active"),this._onDidEnd.fire(),P.dispose();for(const j of b)j.classList.remove(D)};_.onPointerMove(I,null,P),_.onPointerUp(W,null,P),P.add(_)}onPointerDoublePress(C){const _=this.getOrthogonalSash(C);_&&_._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(C,_=!1){C.el.classList.contains("active")?(C.hoverDelayer.cancel(),C.el.classList.add("hover")):C.hoverDelayer.trigger(()=>C.el.classList.add("hover"),C.hoverDelay).then(void 0,()=>{}),!_&&C.linkedSash&&f.onMouseEnter(C.linkedSash,!0)}static onMouseLeave(C,_=!1){C.hoverDelayer.cancel(),C.el.classList.remove("hover"),!_&&C.linkedSash&&f.onMouseLeave(C.linkedSash,!0)}clearSashHoverState(){f.onMouseLeave(this)}layout(){if(this.orientation===0){const C=this.layoutProvider;this.el.style.left=C.getVerticalSashLeft(this)-this.size/2+"px",C.getVerticalSashTop&&(this.el.style.top=C.getVerticalSashTop(this)+"px"),C.getVerticalSashHeight&&(this.el.style.height=C.getVerticalSashHeight(this)+"px")}else{const C=this.layoutProvider;this.el.style.top=C.getHorizontalSashTop(this)-this.size/2+"px",C.getHorizontalSashLeft&&(this.el.style.left=C.getHorizontalSashLeft(this)+"px"),C.getHorizontalSashWidth&&(this.el.style.width=C.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(C){var _;const N=(_=C.initialTarget)!==null&&_!==void 0?_:C.target;if(!(!N||!(N instanceof HTMLElement))&&N.classList.contains("orthogonal-drag-handle"))return N.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}},16846:function(et,Le,e){"use strict";e.d(Le,{s$:function(){return z},Io:function(){return k},NB:function(){return K},$Z:function(){return Z}});var o=e(18119),B=e(91540),x=e(76204),O=e(65512),S=e(43446),p=e(60833),E=e(74696),R=e(68777);const w=11;class m extends p.${constructor(I){super(),this._onActivate=I.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=I.bgWidth+"px",this.bgDomNode.style.height=I.bgHeight+"px",typeof I.top!="undefined"&&(this.bgDomNode.style.top="0px"),typeof I.left!="undefined"&&(this.bgDomNode.style.left="0px"),typeof I.bottom!="undefined"&&(this.bgDomNode.style.bottom="0px"),typeof I.right!="undefined"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=I.className,this.domNode.classList.add(...R.k.asClassNameArray(I.icon)),this.domNode.style.position="absolute",this.domNode.style.width=w+"px",this.domNode.style.height=w+"px",typeof I.top!="undefined"&&(this.domNode.style.top=I.top+"px"),typeof I.left!="undefined"&&(this.domNode.style.left=I.left+"px"),typeof I.bottom!="undefined"&&(this.domNode.style.bottom=I.bottom+"px"),typeof I.right!="undefined"&&(this.domNode.style.right=I.right+"px"),this._pointerMoveMonitor=this._register(new S.C),this._register(B.mu(this.bgDomNode,B.tw.POINTER_DOWN,W=>this._arrowPointerDown(W))),this._register(B.mu(this.domNode,B.tw.POINTER_DOWN,W=>this._arrowPointerDown(W))),this._pointerdownRepeatTimer=this._register(new B.ne),this._pointerdownScheduleRepeatTimer=this._register(new E._F)}_arrowPointerDown(I){if(!I.target||!(I.target instanceof Element))return;const W=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24,B.Jj(I))};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(W,200),this._pointerMoveMonitor.startMonitoring(I.target,I.pointerId,I.buttons,G=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),I.preventDefault()}}var g=e(45029);class a extends g.JT{constructor(I,W,G){super(),this._visibility=I,this._visibleClassName=W,this._invisibleClassName=G,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new E._F)}setVisibility(I){this._visibility!==I&&(this._visibility=I,this._updateShouldBeVisible())}setShouldBeVisible(I){this._rawShouldBeVisible=I,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const I=this._applyVisibilitySetting();this._shouldBeVisible!==I&&(this._shouldBeVisible=I,this.ensureVisibility())}setIsNeeded(I){this._isNeeded!==I&&(this._isNeeded=I,this.ensureVisibility())}setDomNode(I){this._domNode=I,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var I;(I=this._domNode)===null||I===void 0||I.setClassName(this._visibleClassName)},0))}_hide(I){var W;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,(W=this._domNode)===null||W===void 0||W.setClassName(this._invisibleClassName+(I?" fade":"")))}}var r=e(15122);const i=140;class n extends p.${constructor(I){super(),this._lazyRender=I.lazyRender,this._host=I.host,this._scrollable=I.scrollable,this._scrollByPage=I.scrollByPage,this._scrollbarState=I.scrollbarState,this._visibilityController=this._register(new a(I.visibility,"visible scrollbar "+I.extraScrollbarClassName,"invisible scrollbar "+I.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new S.C),this._shouldRender=!0,this.domNode=(0,x.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(B.nm(this.domNode.domNode,B.tw.POINTER_DOWN,W=>this._domNodePointerDown(W)))}_createArrow(I){const W=this._register(new m(I));this.domNode.domNode.appendChild(W.bgDomNode),this.domNode.domNode.appendChild(W.domNode)}_createSlider(I,W,G,j){this.slider=(0,x.X)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(I),this.slider.setLeft(W),typeof G=="number"&&this.slider.setWidth(G),typeof j=="number"&&this.slider.setHeight(j),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(B.nm(this.slider.domNode,B.tw.POINTER_DOWN,Y=>{Y.button===0&&(Y.preventDefault(),this._sliderPointerDown(Y))})),this.onclick(this.slider.domNode,Y=>{Y.leftButton&&Y.stopPropagation()})}_onElementSize(I){return this._scrollbarState.setVisibleSize(I)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(I){return this._scrollbarState.setScrollSize(I)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(I){return this._scrollbarState.setScrollPosition(I)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(I){I.target===this.domNode.domNode&&this._onPointerDown(I)}delegatePointerDown(I){const W=this.domNode.domNode.getClientRects()[0].top,G=W+this._scrollbarState.getSliderPosition(),j=W+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),Y=this._sliderPointerPosition(I);G<=Y&&Y<=j?I.button===0&&(I.preventDefault(),this._sliderPointerDown(I)):this._onPointerDown(I)}_onPointerDown(I){let W,G;if(I.target===this.domNode.domNode&&typeof I.offsetX=="number"&&typeof I.offsetY=="number")W=I.offsetX,G=I.offsetY;else{const Y=B.i(this.domNode.domNode);W=I.pageX-Y.left,G=I.pageY-Y.top}const j=this._pointerDownRelativePosition(W,G);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(j):this._scrollbarState.getDesiredScrollPositionFromOffset(j)),I.button===0&&(I.preventDefault(),this._sliderPointerDown(I))}_sliderPointerDown(I){if(!I.target||!(I.target instanceof Element))return;const W=this._sliderPointerPosition(I),G=this._sliderOrthogonalPointerPosition(I),j=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(I.target,I.pointerId,I.buttons,Y=>{const H=this._sliderOrthogonalPointerPosition(Y),Q=Math.abs(H-G);if(r.ED&&Q>i){this._setDesiredScrollPositionNow(j.getScrollPosition());return}const te=this._sliderPointerPosition(Y)-W;this._setDesiredScrollPositionNow(j.getDesiredScrollPositionFromDelta(te))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(I){const W={};this.writeScrollPosition(W,I),this._scrollable.setScrollPositionNow(W)}updateScrollbarSize(I){this._updateScrollbarSize(I),this._scrollbarState.setScrollbarSize(I),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}var c=e(4374),u=e(24752);class l extends n{constructor(I,W,G){const j=I.getScrollDimensions(),Y=I.getCurrentScrollPosition();if(super({lazyRender:W.lazyRender,host:G,scrollbarState:new c.M(W.horizontalHasArrows?W.arrowSize:0,W.horizontal===2?0:W.horizontalScrollbarSize,W.vertical===2?0:W.verticalScrollbarSize,j.width,j.scrollWidth,Y.scrollLeft),visibility:W.horizontal,extraScrollbarClassName:"horizontal",scrollable:I,scrollByPage:W.scrollByPage}),W.horizontalHasArrows){const H=(W.arrowSize-w)/2,Q=(W.horizontalScrollbarSize-w)/2;this._createArrow({className:"scra",icon:u.l.scrollbarButtonLeft,top:Q,left:H,bottom:void 0,right:void 0,bgWidth:W.arrowSize,bgHeight:W.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new O.q(null,1,0))}),this._createArrow({className:"scra",icon:u.l.scrollbarButtonRight,top:Q,left:void 0,bottom:void 0,right:H,bgWidth:W.arrowSize,bgHeight:W.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new O.q(null,-1,0))})}this._createSlider(Math.floor((W.horizontalScrollbarSize-W.horizontalSliderSize)/2),0,void 0,W.horizontalSliderSize)}_updateSlider(I,W){this.slider.setWidth(I),this.slider.setLeft(W)}_renderDomNode(I,W){this.domNode.setWidth(I),this.domNode.setHeight(W),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(I){return this._shouldRender=this._onElementScrollSize(I.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(I.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(I.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(I,W){return I}_sliderPointerPosition(I){return I.pageX}_sliderOrthogonalPointerPosition(I){return I.pageY}_updateScrollbarSize(I){this.slider.setHeight(I)}writeScrollPosition(I,W){I.scrollLeft=W}updateOptions(I){this.updateScrollbarSize(I.horizontal===2?0:I.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(I.vertical===2?0:I.verticalScrollbarSize),this._visibilityController.setVisibility(I.horizontal),this._scrollByPage=I.scrollByPage}}class D extends n{constructor(I,W,G){const j=I.getScrollDimensions(),Y=I.getCurrentScrollPosition();if(super({lazyRender:W.lazyRender,host:G,scrollbarState:new c.M(W.verticalHasArrows?W.arrowSize:0,W.vertical===2?0:W.verticalScrollbarSize,0,j.height,j.scrollHeight,Y.scrollTop),visibility:W.vertical,extraScrollbarClassName:"vertical",scrollable:I,scrollByPage:W.scrollByPage}),W.verticalHasArrows){const H=(W.arrowSize-w)/2,Q=(W.verticalScrollbarSize-w)/2;this._createArrow({className:"scra",icon:u.l.scrollbarButtonUp,top:H,left:Q,bottom:void 0,right:void 0,bgWidth:W.verticalScrollbarSize,bgHeight:W.arrowSize,onActivate:()=>this._host.onMouseWheel(new O.q(null,0,1))}),this._createArrow({className:"scra",icon:u.l.scrollbarButtonDown,top:void 0,left:Q,bottom:H,right:void 0,bgWidth:W.verticalScrollbarSize,bgHeight:W.arrowSize,onActivate:()=>this._host.onMouseWheel(new O.q(null,0,-1))})}this._createSlider(0,Math.floor((W.verticalScrollbarSize-W.verticalSliderSize)/2),W.verticalSliderSize,void 0)}_updateSlider(I,W){this.slider.setHeight(I),this.slider.setTop(W)}_renderDomNode(I,W){this.domNode.setWidth(W),this.domNode.setHeight(I),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(I){return this._shouldRender=this._onElementScrollSize(I.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(I.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(I.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(I,W){return W}_sliderPointerPosition(I){return I.pageY}_sliderOrthogonalPointerPosition(I){return I.pageX}_updateScrollbarSize(I){this.slider.setWidth(I)}writeScrollPosition(I,W){I.scrollTop=W}updateOptions(I){this.updateScrollbarSize(I.vertical===2?0:I.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(I.vertical),this._scrollByPage=I.scrollByPage}}var f=e(79329),y=e(65869);const C=500,_=50,N=!0;class b{constructor(I,W,G){this.timestamp=I,this.deltaX=W,this.deltaY=G,this.score=0}}class k{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let I=1,W=0,G=1,j=this._rear;do{const Y=j===this._front?I:Math.pow(2,-G);if(I-=Y,W+=this._memory[j].score*Y,j===this._front)break;j=(this._capacity+j-1)%this._capacity,G++}while(!0);return W<=.5}acceptStandardWheelEvent(I){if(o.i7){const W=B.Jj(I.browserEvent),G=(0,o.ie)(W);this.accept(Date.now(),I.deltaX*G,I.deltaY*G)}else this.accept(Date.now(),I.deltaX,I.deltaY)}accept(I,W,G){let j=null;const Y=new b(I,W,G);this._front===-1&&this._rear===-1?(this._memory[0]=Y,this._front=0,this._rear=0):(j=this._memory[this._rear],this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=Y),Y.score=this._computeScore(Y,j)}_computeScore(I,W){if(Math.abs(I.deltaX)>0&&Math.abs(I.deltaY)>0)return 1;let G=.5;if((!this._isAlmostInt(I.deltaX)||!this._isAlmostInt(I.deltaY))&&(G+=.25),W){const j=Math.abs(I.deltaX),Y=Math.abs(I.deltaY),H=Math.abs(W.deltaX),Q=Math.abs(W.deltaY),ie=Math.max(Math.min(j,H),1),te=Math.max(Math.min(Y,Q),1),se=Math.max(j,H),ne=Math.max(Y,Q);se%ie===0&&ne%te===0&&(G-=.5)}return Math.min(Math.max(G,0),1)}_isAlmostInt(I){return Math.abs(Math.round(I)-I)<.01}}k.INSTANCE=new k;class V extends p.${get options(){return this._options}constructor(I,W,G){super(),this._onScroll=this._register(new f.Q5),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new f.Q5),I.style.overflow="hidden",this._options=A(W),this._scrollable=G,this._register(this._scrollable.onScroll(Y=>{this._onWillScroll.fire(Y),this._onDidScroll(Y),this._onScroll.fire(Y)}));const j={onMouseWheel:Y=>this._onMouseWheel(Y),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new D(this._scrollable,this._options,j)),this._horizontalScrollbar=this._register(new l(this._scrollable,this._options,j)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(I),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,x.X)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,x.X)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,x.X)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,Y=>this._onMouseOver(Y)),this.onmouseleave(this._listenOnDomNode,Y=>this._onMouseLeave(Y)),this._hideTimeout=this._register(new E._F),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=(0,g.B9)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(I){this._verticalScrollbar.delegatePointerDown(I)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(I){this._scrollable.setScrollDimensions(I,!1)}updateClassName(I){this._options.className=I,r.dz&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(I){typeof I.handleMouseWheel!="undefined"&&(this._options.handleMouseWheel=I.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof I.mouseWheelScrollSensitivity!="undefined"&&(this._options.mouseWheelScrollSensitivity=I.mouseWheelScrollSensitivity),typeof I.fastScrollSensitivity!="undefined"&&(this._options.fastScrollSensitivity=I.fastScrollSensitivity),typeof I.scrollPredominantAxis!="undefined"&&(this._options.scrollPredominantAxis=I.scrollPredominantAxis),typeof I.horizontal!="undefined"&&(this._options.horizontal=I.horizontal),typeof I.vertical!="undefined"&&(this._options.vertical=I.vertical),typeof I.horizontalScrollbarSize!="undefined"&&(this._options.horizontalScrollbarSize=I.horizontalScrollbarSize),typeof I.verticalScrollbarSize!="undefined"&&(this._options.verticalScrollbarSize=I.verticalScrollbarSize),typeof I.scrollByPage!="undefined"&&(this._options.scrollByPage=I.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}delegateScrollFromMouseWheelEvent(I){this._onMouseWheel(new O.q(I))}_setListeningToMouseWheel(I){if(this._mouseWheelToDispose.length>0!==I&&(this._mouseWheelToDispose=(0,g.B9)(this._mouseWheelToDispose),I)){const G=j=>{this._onMouseWheel(new O.q(j))};this._mouseWheelToDispose.push(B.nm(this._listenOnDomNode,B.tw.MOUSE_WHEEL,G,{passive:!1}))}}_onMouseWheel(I){var W;if(!((W=I.browserEvent)===null||W===void 0)&&W.defaultPrevented)return;const G=k.INSTANCE;N&&G.acceptStandardWheelEvent(I);let j=!1;if(I.deltaY||I.deltaX){let H=I.deltaY*this._options.mouseWheelScrollSensitivity,Q=I.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(this._options.scrollYToX&&Q+H===0?Q=H=0:Math.abs(H)>=Math.abs(Q)?Q=0:H=0),this._options.flipAxes&&([H,Q]=[Q,H]);const ie=!r.dz&&I.browserEvent&&I.browserEvent.shiftKey;(this._options.scrollYToX||ie)&&!Q&&(Q=H,H=0),I.browserEvent&&I.browserEvent.altKey&&(Q=Q*this._options.fastScrollSensitivity,H=H*this._options.fastScrollSensitivity);const te=this._scrollable.getFutureScrollPosition();let se={};if(H){const ne=_*H,ee=te.scrollTop-(ne<0?Math.floor(ne):Math.ceil(ne));this._verticalScrollbar.writeScrollPosition(se,ee)}if(Q){const ne=_*Q,ee=te.scrollLeft-(ne<0?Math.floor(ne):Math.ceil(ne));this._horizontalScrollbar.writeScrollPosition(se,ee)}se=this._scrollable.validateScrollPosition(se),(te.scrollLeft!==se.scrollLeft||te.scrollTop!==se.scrollTop)&&(N&&this._options.mouseWheelSmoothScroll&&G.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(se):this._scrollable.setScrollPositionNow(se),j=!0)}let Y=j;!Y&&this._options.alwaysConsumeMouseWheel&&(Y=!0),!Y&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(Y=!0),Y&&(I.preventDefault(),I.stopPropagation())}_onDidScroll(I){this._shouldRender=this._horizontalScrollbar.onDidScroll(I)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(I)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const I=this._scrollable.getCurrentScrollPosition(),W=I.scrollTop>0,G=I.scrollLeft>0,j=G?" left":"",Y=W?" top":"",H=G||W?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${j}`),this._topShadowDomNode.setClassName(`shadow${Y}`),this._topLeftShadowDomNode.setClassName(`shadow${H}${Y}${j}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(I){this._mouseIsOver=!1,this._hide()}_onMouseOver(I){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),C)}}class K extends V{constructor(I,W){W=W||{},W.mouseWheelSmoothScroll=!1;const G=new y.Rm({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:j=>B.jL(B.Jj(I),j)});super(I,W,G),this._register(G)}setScrollPosition(I){this._scrollable.setScrollPositionNow(I)}}class Z extends V{constructor(I,W,G){super(I,W,G)}setScrollPosition(I){I.reuseAnimation?this._scrollable.setScrollPositionSmooth(I,I.reuseAnimation):this._scrollable.setScrollPositionNow(I)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class z extends V{constructor(I,W){W=W||{},W.mouseWheelSmoothScroll=!1;const G=new y.Rm({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:j=>B.jL(B.Jj(I),j)});super(I,W,G),this._register(G),this._element=I,this._register(this.onScroll(j=>{j.scrollTopChanged&&(this._element.scrollTop=j.scrollTop),j.scrollLeftChanged&&(this._element.scrollLeft=j.scrollLeft)})),this.scanDomNode()}setScrollPosition(I){this._scrollable.setScrollPositionNow(I)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}function A(P){const I={lazyRender:typeof P.lazyRender!="undefined"?P.lazyRender:!1,className:typeof P.className!="undefined"?P.className:"",useShadows:typeof P.useShadows!="undefined"?P.useShadows:!0,handleMouseWheel:typeof P.handleMouseWheel!="undefined"?P.handleMouseWheel:!0,flipAxes:typeof P.flipAxes!="undefined"?P.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof P.consumeMouseWheelIfScrollbarIsNeeded!="undefined"?P.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof P.alwaysConsumeMouseWheel!="undefined"?P.alwaysConsumeMouseWheel:!1,scrollYToX:typeof P.scrollYToX!="undefined"?P.scrollYToX:!1,mouseWheelScrollSensitivity:typeof P.mouseWheelScrollSensitivity!="undefined"?P.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof P.fastScrollSensitivity!="undefined"?P.fastScrollSensitivity:5,scrollPredominantAxis:typeof P.scrollPredominantAxis!="undefined"?P.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof P.mouseWheelSmoothScroll!="undefined"?P.mouseWheelSmoothScroll:!0,arrowSize:typeof P.arrowSize!="undefined"?P.arrowSize:11,listenOnDomNode:typeof P.listenOnDomNode!="undefined"?P.listenOnDomNode:null,horizontal:typeof P.horizontal!="undefined"?P.horizontal:1,horizontalScrollbarSize:typeof P.horizontalScrollbarSize!="undefined"?P.horizontalScrollbarSize:10,horizontalSliderSize:typeof P.horizontalSliderSize!="undefined"?P.horizontalSliderSize:0,horizontalHasArrows:typeof P.horizontalHasArrows!="undefined"?P.horizontalHasArrows:!1,vertical:typeof P.vertical!="undefined"?P.vertical:1,verticalScrollbarSize:typeof P.verticalScrollbarSize!="undefined"?P.verticalScrollbarSize:10,verticalHasArrows:typeof P.verticalHasArrows!="undefined"?P.verticalHasArrows:!1,verticalSliderSize:typeof P.verticalSliderSize!="undefined"?P.verticalSliderSize:0,scrollByPage:typeof P.scrollByPage!="undefined"?P.scrollByPage:!1};return I.horizontalSliderSize=typeof P.horizontalSliderSize!="undefined"?P.horizontalSliderSize:I.horizontalScrollbarSize,I.verticalSliderSize=typeof P.verticalSliderSize!="undefined"?P.verticalSliderSize:I.verticalScrollbarSize,r.dz&&(I.className+=" mac"),I}},4374:function(et,Le,e){"use strict";e.d(Le,{M:function(){return B}});const o=20;class B{constructor(O,S,p,E,R,w){this._scrollbarSize=Math.round(S),this._oppositeScrollbarSize=Math.round(p),this._arrowSize=Math.round(O),this._visibleSize=E,this._scrollSize=R,this._scrollPosition=w,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new B(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(O){const S=Math.round(O);return this._visibleSize!==S?(this._visibleSize=S,this._refreshComputedValues(),!0):!1}setScrollSize(O){const S=Math.round(O);return this._scrollSize!==S?(this._scrollSize=S,this._refreshComputedValues(),!0):!1}setScrollPosition(O){const S=Math.round(O);return this._scrollPosition!==S?(this._scrollPosition=S,this._refreshComputedValues(),!0):!1}setScrollbarSize(O){this._scrollbarSize=Math.round(O)}setOppositeScrollbarSize(O){this._oppositeScrollbarSize=Math.round(O)}static _computeValues(O,S,p,E,R){const w=Math.max(0,p-O),m=Math.max(0,w-2*S),g=E>0&&E>p;if(!g)return{computedAvailableSize:Math.round(w),computedIsNeeded:g,computedSliderSize:Math.round(m),computedSliderRatio:0,computedSliderPosition:0};const a=Math.round(Math.max(o,Math.floor(p*m/E))),r=(m-a)/(E-p),i=R*r;return{computedAvailableSize:Math.round(w),computedIsNeeded:g,computedSliderSize:Math.round(a),computedSliderRatio:r,computedSliderPosition:Math.round(i)}}_refreshComputedValues(){const O=B._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=O.computedAvailableSize,this._computedIsNeeded=O.computedIsNeeded,this._computedSliderSize=O.computedSliderSize,this._computedSliderRatio=O.computedSliderRatio,this._computedSliderPosition=O.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(O){if(!this._computedIsNeeded)return 0;const S=O-this._arrowSize-this._computedSliderSize/2;return Math.round(S/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(O){if(!this._computedIsNeeded)return 0;const S=O-this._arrowSize;let p=this._scrollPosition;return S<this._computedSliderPosition?p-=this._visibleSize:p+=this._visibleSize,p}getDesiredScrollPositionFromDelta(O){if(!this._computedIsNeeded)return 0;const S=this._computedSliderPosition+O;return Math.round(S/this._computedSliderRatio)}}},37510:function(et,Le,e){"use strict";e.d(Le,{M:function(){return u},z:function(){return l}});var o=e(91540),B=e(60773),x=e(15557),O=e(16846),S=e(71221),p=e(64707),E=e(79329),R=e(45029),w=e(12182),m=e(65869),g=e(26974);const a={separatorBorder:p.Il.transparent};class r{set size(f){this._size=f}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize=="undefined"}setVisible(f,y){var C,_;if(f!==this.visible){f?(this.size=(0,w.uZ)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof y=="number"?y:this.size,this.size=0),this.container.classList.toggle("visible",f);try{(_=(C=this.view).setVisible)===null||_===void 0||_.call(C,f)}catch(N){console.error("Splitview: Failed to set visible view"),console.error(N)}}}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get proportionalLayout(){var f;return(f=this.view.proportionalLayout)!==null&&f!==void 0?f:!0}get snap(){return!!this.view.snap}set enabled(f){this.container.style.pointerEvents=f?"":"none"}constructor(f,y,C,_){this.container=f,this.view=y,this.disposable=_,this._cachedVisibleSize=void 0,typeof C=="number"?(this._size=C,this._cachedVisibleSize=void 0,f.classList.add("visible")):(this._size=0,this._cachedVisibleSize=C.cachedVisibleSize)}layout(f,y){this.layoutContainer(f);try{this.view.layout(this.size,f,y)}catch(C){console.error("Splitview: Failed to layout view"),console.error(C)}}dispose(){this.disposable.dispose()}}class i extends r{layoutContainer(f){this.container.style.top=`${f}px`,this.container.style.height=`${this.size}px`}}class n extends r{layoutContainer(f){this.container.style.left=`${f}px`,this.container.style.width=`${this.size}px`}}var c;(function(D){D[D.Idle=0]="Idle",D[D.Busy=1]="Busy"})(c||(c={}));var u;(function(D){D.Distribute={type:"distribute"};function f(_){return{type:"split",index:_}}D.Split=f;function y(_){return{type:"auto",index:_}}D.Auto=y;function C(_){return{type:"invisible",cachedVisibleSize:_}}D.Invisible=C})(u||(u={}));class l extends R.JT{get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(f){for(const y of this.sashItems)y.sash.orthogonalStartSash=f;this._orthogonalStartSash=f}set orthogonalEndSash(f){for(const y of this.sashItems)y.sash.orthogonalEndSash=f;this._orthogonalEndSash=f}set startSnappingEnabled(f){this._startSnappingEnabled!==f&&(this._startSnappingEnabled=f,this.updateSashEnablement())}set endSnappingEnabled(f){this._endSnappingEnabled!==f&&(this._endSnappingEnabled=f,this.updateSashEnablement())}constructor(f,y={}){var C,_,N,b,k;super(),this.size=0,this._contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=c.Idle,this._onDidSashChange=this._register(new E.Q5),this._onDidSashReset=this._register(new E.Q5),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(C=y.orientation)!==null&&C!==void 0?C:0,this.inverseAltBehavior=(_=y.inverseAltBehavior)!==null&&_!==void 0?_:!1,this.proportionalLayout=(N=y.proportionalLayout)!==null&&N!==void 0?N:!0,this.getSashOrthogonalSize=y.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),f.appendChild(this.el),this.sashContainer=(0,o.R3)(this.el,(0,o.$)(".sash-container")),this.viewContainer=(0,o.$)(".split-view-container"),this.scrollable=this._register(new m.Rm({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:K=>(0,o.jL)((0,o.Jj)(this.el),K)})),this.scrollableElement=this._register(new O.$Z(this.viewContainer,{vertical:this.orientation===0?(b=y.scrollbarVisibility)!==null&&b!==void 0?b:1:2,horizontal:this.orientation===1?(k=y.scrollbarVisibility)!==null&&k!==void 0?k:1:2},this.scrollable));const V=this._register(new B.Y(this.viewContainer,"scroll")).event;this._register(V(K=>{const Z=this.scrollableElement.getScrollPosition(),z=Math.abs(this.viewContainer.scrollLeft-Z.scrollLeft)<=1?void 0:this.viewContainer.scrollLeft,A=Math.abs(this.viewContainer.scrollTop-Z.scrollTop)<=1?void 0:this.viewContainer.scrollTop;(z!==void 0||A!==void 0)&&this.scrollableElement.setScrollPosition({scrollLeft:z,scrollTop:A})})),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(K=>{K.scrollTopChanged&&(this.viewContainer.scrollTop=K.scrollTop),K.scrollLeftChanged&&(this.viewContainer.scrollLeft=K.scrollLeft)})),(0,o.R3)(this.el,this.scrollableElement.getDomNode()),this.style(y.styles||a),y.descriptor&&(this.size=y.descriptor.size,y.descriptor.views.forEach((K,Z)=>{const z=g.o8(K.visible)||K.visible?K.size:{type:"invisible",cachedVisibleSize:K.size},A=K.view;this.doAddView(A,z,Z,!0)}),this._contentSize=this.viewItems.reduce((K,Z)=>K+Z.size,0),this.saveProportions())}style(f){f.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",f.separatorBorder.toString()))}addView(f,y,C=this.viewItems.length,_){this.doAddView(f,y,C,_)}layout(f,y){const C=Math.max(this.size,this._contentSize);if(this.size=f,this.layoutContext=y,this.proportions){let _=0;for(let N=0;N<this.viewItems.length;N++){const b=this.viewItems[N],k=this.proportions[N];typeof k=="number"?_+=k:f-=b.size}for(let N=0;N<this.viewItems.length;N++){const b=this.viewItems[N],k=this.proportions[N];typeof k=="number"&&_>0&&(b.size=(0,w.uZ)(Math.round(k*f/_),b.minimumSize,b.maximumSize))}}else{const _=(0,S.w6)(this.viewItems.length),N=_.filter(k=>this.viewItems[k].priority===1),b=_.filter(k=>this.viewItems[k].priority===2);this.resize(this.viewItems.length-1,f-C,void 0,N,b)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this._contentSize>0&&(this.proportions=this.viewItems.map(f=>f.proportionalLayout&&f.visible?f.size/this._contentSize:void 0))}onSashStart({sash:f,start:y,alt:C}){for(const k of this.viewItems)k.enabled=!1;const _=this.sashItems.findIndex(k=>k.sash===f),N=(0,R.F8)((0,o.nm)(this.el.ownerDocument.body,"keydown",k=>b(this.sashDragState.current,k.altKey)),(0,o.nm)(this.el.ownerDocument.body,"keyup",()=>b(this.sashDragState.current,!1))),b=(k,V)=>{const K=this.viewItems.map(I=>I.size);let Z=Number.NEGATIVE_INFINITY,z=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(V=!V),V)if(_===this.sashItems.length-1){const W=this.viewItems[_];Z=(W.minimumSize-W.size)/2,z=(W.maximumSize-W.size)/2}else{const W=this.viewItems[_+1];Z=(W.size-W.maximumSize)/2,z=(W.size-W.minimumSize)/2}let A,P;if(!V){const I=(0,S.w6)(_,-1),W=(0,S.w6)(_+1,this.viewItems.length),G=I.reduce((ne,ee)=>ne+(this.viewItems[ee].minimumSize-K[ee]),0),j=I.reduce((ne,ee)=>ne+(this.viewItems[ee].viewMaximumSize-K[ee]),0),Y=W.length===0?Number.POSITIVE_INFINITY:W.reduce((ne,ee)=>ne+(K[ee]-this.viewItems[ee].minimumSize),0),H=W.length===0?Number.NEGATIVE_INFINITY:W.reduce((ne,ee)=>ne+(K[ee]-this.viewItems[ee].viewMaximumSize),0),Q=Math.max(G,H),ie=Math.min(Y,j),te=this.findFirstSnapIndex(I),se=this.findFirstSnapIndex(W);if(typeof te=="number"){const ne=this.viewItems[te],ee=Math.floor(ne.viewMinimumSize/2);A={index:te,limitDelta:ne.visible?Q-ee:Q+ee,size:ne.size}}if(typeof se=="number"){const ne=this.viewItems[se],ee=Math.floor(ne.viewMinimumSize/2);P={index:se,limitDelta:ne.visible?ie+ee:ie-ee,size:ne.size}}}this.sashDragState={start:k,current:k,index:_,sizes:K,minDelta:Z,maxDelta:z,alt:V,snapBefore:A,snapAfter:P,disposable:N}};b(y,C)}onSashChange({current:f}){const{index:y,start:C,sizes:_,alt:N,minDelta:b,maxDelta:k,snapBefore:V,snapAfter:K}=this.sashDragState;this.sashDragState.current=f;const Z=f-C,z=this.resize(y,Z,_,void 0,void 0,b,k,V,K);if(N){const A=y===this.sashItems.length-1,P=this.viewItems.map(H=>H.size),I=A?y:y+1,W=this.viewItems[I],G=W.size-W.maximumSize,j=W.size-W.minimumSize,Y=A?y-1:y+1;this.resize(Y,-z,P,void 0,void 0,G,j)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(f){this._onDidSashChange.fire(f),this.sashDragState.disposable.dispose(),this.saveProportions();for(const y of this.viewItems)y.enabled=!0}onViewChange(f,y){const C=this.viewItems.indexOf(f);C<0||C>=this.viewItems.length||(y=typeof y=="number"?y:f.size,y=(0,w.uZ)(y,f.minimumSize,f.maximumSize),this.inverseAltBehavior&&C>0?(this.resize(C-1,Math.floor((f.size-y)/2)),this.distributeEmptySpace(),this.layoutViews()):(f.size=y,this.relayout([C],void 0)))}resizeView(f,y){if(!(f<0||f>=this.viewItems.length)){if(this.state!==c.Idle)throw new Error("Cant modify splitview");this.state=c.Busy;try{const C=(0,S.w6)(this.viewItems.length).filter(k=>k!==f),_=[...C.filter(k=>this.viewItems[k].priority===1),f],N=C.filter(k=>this.viewItems[k].priority===2),b=this.viewItems[f];y=Math.round(y),y=(0,w.uZ)(y,b.minimumSize,Math.min(b.maximumSize,this.size)),b.size=y,this.relayout(_,N)}finally{this.state=c.Idle}}}distributeViewSizes(){const f=[];let y=0;for(const k of this.viewItems)k.maximumSize-k.minimumSize>0&&(f.push(k),y+=k.size);const C=Math.floor(y/f.length);for(const k of f)k.size=(0,w.uZ)(C,k.minimumSize,k.maximumSize);const _=(0,S.w6)(this.viewItems.length),N=_.filter(k=>this.viewItems[k].priority===1),b=_.filter(k=>this.viewItems[k].priority===2);this.relayout(N,b)}getViewSize(f){return f<0||f>=this.viewItems.length?-1:this.viewItems[f].size}doAddView(f,y,C=this.viewItems.length,_){if(this.state!==c.Idle)throw new Error("Cant modify splitview");this.state=c.Busy;try{const N=(0,o.$)(".split-view-view");C===this.viewItems.length?this.viewContainer.appendChild(N):this.viewContainer.insertBefore(N,this.viewContainer.children.item(C));const b=f.onDidChange(A=>this.onViewChange(Z,A)),k=(0,R.OF)(()=>this.viewContainer.removeChild(N)),V=(0,R.F8)(b,k);let K;typeof y=="number"?K=y:(y.type==="auto"&&(this.areViewsDistributed()?y={type:"distribute"}:y={type:"split",index:y.index}),y.type==="split"?K=this.getViewSize(y.index)/2:y.type==="invisible"?K={cachedVisibleSize:y.cachedVisibleSize}:K=f.minimumSize);const Z=this.orientation===0?new i(N,f,K,V):new n(N,f,K,V);if(this.viewItems.splice(C,0,Z),this.viewItems.length>1){const A={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},P=this.orientation===0?new x.g(this.sashContainer,{getHorizontalSashTop:ne=>this.getSashPosition(ne),getHorizontalSashWidth:this.getSashOrthogonalSize},Ki(vi({},A),{orientation:1})):new x.g(this.sashContainer,{getVerticalSashLeft:ne=>this.getSashPosition(ne),getVerticalSashHeight:this.getSashOrthogonalSize},Ki(vi({},A),{orientation:0})),I=this.orientation===0?ne=>({sash:P,start:ne.startY,current:ne.currentY,alt:ne.altKey}):ne=>({sash:P,start:ne.startX,current:ne.currentX,alt:ne.altKey}),G=E.ju.map(P.onDidStart,I)(this.onSashStart,this),Y=E.ju.map(P.onDidChange,I)(this.onSashChange,this),Q=E.ju.map(P.onDidEnd,()=>this.sashItems.findIndex(ne=>ne.sash===P))(this.onSashEnd,this),ie=P.onDidReset(()=>{const ne=this.sashItems.findIndex(we=>we.sash===P),ee=(0,S.w6)(ne,-1),re=(0,S.w6)(ne+1,this.viewItems.length),he=this.findFirstSnapIndex(ee),M=this.findFirstSnapIndex(re);typeof he=="number"&&!this.viewItems[he].visible||typeof M=="number"&&!this.viewItems[M].visible||this._onDidSashReset.fire(ne)}),te=(0,R.F8)(G,Y,Q,ie,P),se={sash:P,disposable:te};this.sashItems.splice(C-1,0,se)}N.appendChild(f.element);let z;typeof y!="number"&&y.type==="split"&&(z=[y.index]),_||this.relayout([C],z),!_&&typeof y!="number"&&y.type==="distribute"&&this.distributeViewSizes()}finally{this.state=c.Idle}}relayout(f,y){const C=this.viewItems.reduce((_,N)=>_+N.size,0);this.resize(this.viewItems.length-1,this.size-C,void 0,f,y),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(f,y,C=this.viewItems.map(Z=>Z.size),_,N,b=Number.NEGATIVE_INFINITY,k=Number.POSITIVE_INFINITY,V,K){if(f<0||f>=this.viewItems.length)return 0;const Z=(0,S.w6)(f,-1),z=(0,S.w6)(f+1,this.viewItems.length);if(N)for(const se of N)(0,S.zI)(Z,se),(0,S.zI)(z,se);if(_)for(const se of _)(0,S.al)(Z,se),(0,S.al)(z,se);const A=Z.map(se=>this.viewItems[se]),P=Z.map(se=>C[se]),I=z.map(se=>this.viewItems[se]),W=z.map(se=>C[se]),G=Z.reduce((se,ne)=>se+(this.viewItems[ne].minimumSize-C[ne]),0),j=Z.reduce((se,ne)=>se+(this.viewItems[ne].maximumSize-C[ne]),0),Y=z.length===0?Number.POSITIVE_INFINITY:z.reduce((se,ne)=>se+(C[ne]-this.viewItems[ne].minimumSize),0),H=z.length===0?Number.NEGATIVE_INFINITY:z.reduce((se,ne)=>se+(C[ne]-this.viewItems[ne].maximumSize),0),Q=Math.max(G,H,b),ie=Math.min(Y,j,k);let te=!1;if(V){const se=this.viewItems[V.index],ne=y>=V.limitDelta;te=ne!==se.visible,se.setVisible(ne,V.size)}if(!te&&K){const se=this.viewItems[K.index],ne=y<K.limitDelta;te=ne!==se.visible,se.setVisible(ne,K.size)}if(te)return this.resize(f,y,C,_,N,b,k);y=(0,w.uZ)(y,Q,ie);for(let se=0,ne=y;se<A.length;se++){const ee=A[se],re=(0,w.uZ)(P[se]+ne,ee.minimumSize,ee.maximumSize),he=re-P[se];ne-=he,ee.size=re}for(let se=0,ne=y;se<I.length;se++){const ee=I[se],re=(0,w.uZ)(W[se]-ne,ee.minimumSize,ee.maximumSize),he=re-W[se];ne+=he,ee.size=re}return y}distributeEmptySpace(f){const y=this.viewItems.reduce((k,V)=>k+V.size,0);let C=this.size-y;const _=(0,S.w6)(this.viewItems.length-1,-1),N=_.filter(k=>this.viewItems[k].priority===1),b=_.filter(k=>this.viewItems[k].priority===2);for(const k of b)(0,S.zI)(_,k);for(const k of N)(0,S.al)(_,k);typeof f=="number"&&(0,S.al)(_,f);for(let k=0;C!==0&&k<_.length;k++){const V=this.viewItems[_[k]],K=(0,w.uZ)(V.size+C,V.minimumSize,V.maximumSize),Z=K-V.size;C-=Z,V.size=K}}layoutViews(){this._contentSize=this.viewItems.reduce((y,C)=>y+C.size,0);let f=0;for(const y of this.viewItems)y.layout(f,this.layoutContext),f+=y.size;this.sashItems.forEach(y=>y.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this._contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this._contentSize})}updateSashEnablement(){let f=!1;const y=this.viewItems.map(V=>f=V.size-V.minimumSize>0||f);f=!1;const C=this.viewItems.map(V=>f=V.maximumSize-V.size>0||f),_=[...this.viewItems].reverse();f=!1;const N=_.map(V=>f=V.size-V.minimumSize>0||f).reverse();f=!1;const b=_.map(V=>f=V.maximumSize-V.size>0||f).reverse();let k=0;for(let V=0;V<this.sashItems.length;V++){const{sash:K}=this.sashItems[V],Z=this.viewItems[V];k+=Z.size;const z=!(y[V]&&b[V+1]),A=!(C[V]&&N[V+1]);if(z&&A){const P=(0,S.w6)(V,-1),I=(0,S.w6)(V+1,this.viewItems.length),W=this.findFirstSnapIndex(P),G=this.findFirstSnapIndex(I),j=typeof W=="number"&&!this.viewItems[W].visible,Y=typeof G=="number"&&!this.viewItems[G].visible;j&&N[V]&&(k>0||this.startSnappingEnabled)?K.state=1:Y&&y[V]&&(k<this._contentSize||this.endSnappingEnabled)?K.state=2:K.state=0}else z&&!A?K.state=1:!z&&A?K.state=2:K.state=3}}getSashPosition(f){let y=0;for(let C=0;C<this.sashItems.length;C++)if(y+=this.viewItems[C].size,this.sashItems[C].sash===f)return y;return 0}findFirstSnapIndex(f){for(const y of f){const C=this.viewItems[y];if(C.visible&&C.snap)return y}for(const y of f){const C=this.viewItems[y];if(C.visible&&C.maximumSize-C.minimumSize>0)return;if(!C.visible&&C.snap)return y}}areViewsDistributed(){let f,y;for(const C of this.viewItems)if(f=f===void 0?C.size:Math.min(f,C.size),y=y===void 0?C.size:Math.max(y,C.size),y-f>2)return!1;return!0}dispose(){var f;(f=this.sashDragState)===null||f===void 0||f.disposable.dispose(),(0,R.B9)(this.viewItems),this.viewItems=[],this.sashItems.forEach(y=>y.disposable.dispose()),this.sashItems=[],super.dispose()}}},62019:function(et,Le,e){"use strict";e.d(Le,{Z:function(){return E},D:function(){return p}});var o=e(60833),B=e(68777),x=e(79329),O=e(66503),S=e(66388);const p={inputActiveOptionBorder:"#007ACC00",inputActiveOptionForeground:"#FFFFFF",inputActiveOptionBackground:"#0E639C50"};class E extends o.${constructor(w){var m;super(),this._onChange=this._register(new x.Q5),this.onChange=this._onChange.event,this._onKeyDown=this._register(new x.Q5),this.onKeyDown=this._onKeyDown.event,this._opts=w,this._checked=this._opts.isChecked;const g=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,g.push(...B.k.asClassNameArray(this._icon))),this._opts.actionClassName&&g.push(...this._opts.actionClassName.split(" ")),this._checked&&g.push("checked"),this.domNode=document.createElement("div"),this._hover=this._register((0,S.B)().setupUpdatableHover((m=w.hoverDelegate)!==null&&m!==void 0?m:(0,O.tM)("mouse"),this.domNode,this._opts.title)),this.domNode.classList.add(...g),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,a=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),a.preventDefault())}),this._register(this.ignoreGesture(this.domNode)),this.onkeydown(this.domNode,a=>{if(a.keyCode===10||a.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),a.preventDefault(),a.stopPropagation();return}this._onKeyDown.fire(a)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(w){this._checked=w,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}},34803:function(et,Le,e){"use strict";e.d(Le,{CH:function(){return Ke},cz:function(){return z},E4:function(){return A},Zd:function(){return Q},sZ:function(){return H}});var o=e(91540),B=e(60773),x=e(50908),O=e(318),S=e(55748),p=e(79418),E=e(38688),R=e(66074),w=e(62019),m=e(77121),g=e(74171),a=e(43263),r=e(71221),i=e(74696),n=e(24752),c=e(68777),u=e(79138),l=e(79329),D=e(87100),f=e(45029),y=e(12182),C=e(26974),_=e(61652),N=e(66503),b=e(17009);class k extends E.kX{constructor(fe){super(fe.elements.map($=>$.element)),this.data=fe}}function V(Qe){return Qe instanceof E.kX?new k(Qe):Qe}class K{constructor(fe,$){this.modelProvider=fe,this.dnd=$,this.autoExpandDisposable=f.JT.None,this.disposables=new f.SL}getDragURI(fe){return this.dnd.getDragURI(fe.element)}getDragLabel(fe,$){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(fe.map(le=>le.element),$)}onDragStart(fe,$){var le,De;(De=(le=this.dnd).onDragStart)===null||De===void 0||De.call(le,V(fe),$)}onDragOver(fe,$,le,De,xe,Ce=!0){const me=this.dnd.onDragOver(V(fe),$&&$.element,le,De,xe),be=this.autoExpandNode!==$;if(be&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=$),typeof $=="undefined")return me;if(be&&typeof me!="boolean"&&me.autoExpand&&(this.autoExpandDisposable=(0,i.Vg)(()=>{const Te=this.modelProvider(),Ae=Te.getNodeLocation($);Te.isCollapsed(Ae)&&Te.setCollapsed(Ae,!1),this.autoExpandNode=void 0},500,this.disposables)),typeof me=="boolean"||!me.accept||typeof me.bubble=="undefined"||me.feedback){if(!Ce){const Te=typeof me=="boolean"?me:me.accept,Ae=typeof me=="boolean"?void 0:me.effect;return{accept:Te,effect:Ae,feedback:[le]}}return me}if(me.bubble===1){const Te=this.modelProvider(),Ae=Te.getNodeLocation($),pe=Te.getParentNodeLocation(Ae),je=Te.getNode(pe),ot=pe&&Te.getListIndex(pe);return this.onDragOver(fe,je,ot,De,xe,!1)}const oe=this.modelProvider(),ue=oe.getNodeLocation($),de=oe.getListIndex(ue),Se=oe.getListRenderCount(ue);return Ki(vi({},me),{feedback:(0,r.w6)(de,de+Se)})}drop(fe,$,le,De,xe){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(V(fe),$&&$.element,le,De,xe)}onDragEnd(fe){var $,le;(le=($=this.dnd).onDragEnd)===null||le===void 0||le.call($,fe)}dispose(){this.disposables.dispose(),this.dnd.dispose()}}function Z(Qe,fe){return fe&&Ki(vi({},fe),{identityProvider:fe.identityProvider&&{getId($){return fe.identityProvider.getId($.element)}},dnd:fe.dnd&&new K(Qe,fe.dnd),multipleSelectionController:fe.multipleSelectionController&&{isSelectionSingleChangeEvent($){return fe.multipleSelectionController.isSelectionSingleChangeEvent(Ki(vi({},$),{element:$.element}))},isSelectionRangeChangeEvent($){return fe.multipleSelectionController.isSelectionRangeChangeEvent(Ki(vi({},$),{element:$.element}))}},accessibilityProvider:fe.accessibilityProvider&&Ki(vi({},fe.accessibilityProvider),{getSetSize($){const le=Qe(),De=le.getNodeLocation($),xe=le.getParentNodeLocation(De);return le.getNode(xe).visibleChildrenCount},getPosInSet($){return $.visibleChildIndex+1},isChecked:fe.accessibilityProvider&&fe.accessibilityProvider.isChecked?$=>fe.accessibilityProvider.isChecked($.element):void 0,getRole:fe.accessibilityProvider&&fe.accessibilityProvider.getRole?$=>fe.accessibilityProvider.getRole($.element):()=>"treeitem",getAriaLabel($){return fe.accessibilityProvider.getAriaLabel($.element)},getWidgetAriaLabel(){return fe.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:fe.accessibilityProvider&&fe.accessibilityProvider.getWidgetRole?()=>fe.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:fe.accessibilityProvider&&fe.accessibilityProvider.getAriaLevel?$=>fe.accessibilityProvider.getAriaLevel($.element):$=>$.depth,getActiveDescendantId:fe.accessibilityProvider.getActiveDescendantId&&($=>fe.accessibilityProvider.getActiveDescendantId($.element))}),keyboardNavigationLabelProvider:fe.keyboardNavigationLabelProvider&&Ki(vi({},fe.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel($){return fe.keyboardNavigationLabelProvider.getKeyboardNavigationLabel($.element)}})})}class z{constructor(fe){this.delegate=fe}getHeight(fe){return this.delegate.getHeight(fe.element)}getTemplateId(fe){return this.delegate.getTemplateId(fe.element)}hasDynamicHeight(fe){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(fe.element)}setDynamicHeight(fe,$){var le,De;(De=(le=this.delegate).setDynamicHeight)===null||De===void 0||De.call(le,fe.element,$)}}var A;(function(Qe){Qe.None="none",Qe.OnHover="onHover",Qe.Always="always"})(A||(A={}));class P{get elements(){return this._elements}constructor(fe,$=[]){this._elements=$,this.disposables=new f.SL,this.onDidChange=l.ju.forEach(fe,le=>this._elements=le,this.disposables)}dispose(){this.disposables.dispose()}}class I{constructor(fe,$,le,De,xe,Ce={}){var me;this.renderer=fe,this.modelProvider=$,this.activeNodes=De,this.renderedIndentGuides=xe,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=I.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.activeIndentNodes=new Set,this.indentGuidesDisposable=f.JT.None,this.disposables=new f.SL,this.templateId=fe.templateId,this.updateOptions(Ce),l.ju.map(le,be=>be.node)(this.onDidChangeNodeTwistieState,this,this.disposables),(me=fe.onDidChangeTwistieState)===null||me===void 0||me.call(fe,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(fe={}){if(typeof fe.indent!="undefined"){const $=(0,y.uZ)(fe.indent,0,40);if($!==this.indent){this.indent=$;for(const[le,De]of this.renderedNodes)this.renderTreeElement(le,De)}}if(typeof fe.renderIndentGuides!="undefined"){const $=fe.renderIndentGuides!==A.None;if($!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=$;for(const[le,De]of this.renderedNodes)this._renderIndentGuides(le,De);if(this.indentGuidesDisposable.dispose(),$){const le=new f.SL;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,le),this.indentGuidesDisposable=le,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}typeof fe.hideTwistiesOfChildlessElements!="undefined"&&(this.hideTwistiesOfChildlessElements=fe.hideTwistiesOfChildlessElements)}renderTemplate(fe){const $=(0,o.R3)(fe,(0,o.$)(".monaco-tl-row")),le=(0,o.R3)($,(0,o.$)(".monaco-tl-indent")),De=(0,o.R3)($,(0,o.$)(".monaco-tl-twistie")),xe=(0,o.R3)($,(0,o.$)(".monaco-tl-contents")),Ce=this.renderer.renderTemplate(xe);return{container:fe,indent:le,twistie:De,indentGuidesDisposable:f.JT.None,templateData:Ce}}renderElement(fe,$,le,De){this.renderedNodes.set(fe,le),this.renderedElements.set(fe.element,fe),this.renderTreeElement(fe,le),this.renderer.renderElement(fe,$,le.templateData,De)}disposeElement(fe,$,le,De){var xe,Ce;le.indentGuidesDisposable.dispose(),(Ce=(xe=this.renderer).disposeElement)===null||Ce===void 0||Ce.call(xe,fe,$,le.templateData,De),typeof De=="number"&&(this.renderedNodes.delete(fe),this.renderedElements.delete(fe.element))}disposeTemplate(fe){this.renderer.disposeTemplate(fe.templateData)}onDidChangeTwistieState(fe){const $=this.renderedElements.get(fe);$&&this.onDidChangeNodeTwistieState($)}onDidChangeNodeTwistieState(fe){const $=this.renderedNodes.get(fe);$&&(this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(fe,$))}renderTreeElement(fe,$){const le=I.DefaultIndent+(fe.depth-1)*this.indent;$.twistie.style.paddingLeft=`${le}px`,$.indent.style.width=`${le+this.indent-16}px`,fe.collapsible?$.container.setAttribute("aria-expanded",String(!fe.collapsed)):$.container.removeAttribute("aria-expanded"),$.twistie.classList.remove(...c.k.asClassNameArray(n.l.treeItemExpanded));let De=!1;this.renderer.renderTwistie&&(De=this.renderer.renderTwistie(fe.element,$.twistie)),fe.collapsible&&(!this.hideTwistiesOfChildlessElements||fe.visibleChildrenCount>0)?(De||$.twistie.classList.add(...c.k.asClassNameArray(n.l.treeItemExpanded)),$.twistie.classList.add("collapsible"),$.twistie.classList.toggle("collapsed",fe.collapsed)):$.twistie.classList.remove("collapsible","collapsed"),this._renderIndentGuides(fe,$)}_renderIndentGuides(fe,$){if((0,o.PO)($.indent),$.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const le=new f.SL,De=this.modelProvider();for(;;){const xe=De.getNodeLocation(fe),Ce=De.getParentNodeLocation(xe);if(!Ce)break;const me=De.getNode(Ce),be=(0,o.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(me)&&be.classList.add("active"),$.indent.childElementCount===0?$.indent.appendChild(be):$.indent.insertBefore(be,$.indent.firstElementChild),this.renderedIndentGuides.add(me,be),le.add((0,f.OF)(()=>this.renderedIndentGuides.delete(me,be))),fe=me}$.indentGuidesDisposable=le}_onDidChangeActiveNodes(fe){if(!this.shouldRenderIndentGuides)return;const $=new Set,le=this.modelProvider();fe.forEach(De=>{const xe=le.getNodeLocation(De);try{const Ce=le.getParentNodeLocation(xe);De.collapsible&&De.children.length>0&&!De.collapsed?$.add(De):Ce&&$.add(le.getNode(Ce))}catch(Ce){}}),this.activeIndentNodes.forEach(De=>{$.has(De)||this.renderedIndentGuides.forEach(De,xe=>xe.classList.remove("active"))}),$.forEach(De=>{this.activeIndentNodes.has(De)||this.renderedIndentGuides.forEach(De,xe=>xe.classList.add("active"))}),this.activeIndentNodes=$}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,f.B9)(this.disposables)}}I.DefaultIndent=8;class W{get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}constructor(fe,$,le){this.tree=fe,this.keyboardNavigationLabelProvider=$,this._filter=le,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new f.SL,fe.onWillRefilter(this.reset,this,this.disposables)}filter(fe,$){let le=1;if(this._filter){const Ce=this._filter.filter(fe,$);if(typeof Ce=="boolean"?le=Ce?1:0:(0,m.gB)(Ce)?le=(0,m.aG)(Ce.visibility):le=Ce,le===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:D.CL.Default,visibility:le};const De=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(fe),xe=Array.isArray(De)?De:[De];for(const Ce of xe){const me=Ce&&Ce.toString();if(typeof me=="undefined")return{data:D.CL.Default,visibility:le};let be;if(this.tree.findMatchType===Q.Contiguous){const oe=me.toLowerCase().indexOf(this._lowercasePattern);if(oe>-1){be=[Number.MAX_SAFE_INTEGER,0];for(let ue=this._lowercasePattern.length;ue>0;ue--)be.push(oe+ue-1)}}else be=(0,D.EW)(this._pattern,this._lowercasePattern,0,me,me.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(be)return this._matchCount++,xe.length===1?{data:be,visibility:le}:{data:{label:me,score:be},visibility:le}}return this.tree.findMode===H.Filter?typeof this.tree.options.defaultFindVisibility=="number"?this.tree.options.defaultFindVisibility:this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility(fe):2:{data:D.CL.Default,visibility:le}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,f.B9)(this.disposables)}}class G extends null{constructor(fe){var $,le;super({icon:Codicon.listFilter,title:localize("filter","Filter"),isChecked:($=fe.isChecked)!==null&&$!==void 0?$:!1,hoverDelegate:(le=fe.hoverDelegate)!==null&&le!==void 0?le:getDefaultHoverDelegate("element"),inputActiveOptionBorder:fe.inputActiveOptionBorder,inputActiveOptionForeground:fe.inputActiveOptionForeground,inputActiveOptionBackground:fe.inputActiveOptionBackground})}}class j extends null{constructor(fe){var $,le;super({icon:Codicon.searchFuzzy,title:localize("fuzzySearch","Fuzzy Match"),isChecked:($=fe.isChecked)!==null&&$!==void 0?$:!1,hoverDelegate:(le=fe.hoverDelegate)!==null&&le!==void 0?le:getDefaultHoverDelegate("element"),inputActiveOptionBorder:fe.inputActiveOptionBorder,inputActiveOptionForeground:fe.inputActiveOptionForeground,inputActiveOptionBackground:fe.inputActiveOptionBackground})}}const Y={inputBoxStyles:p.g4,toggleStyles:w.D,listFilterWidgetBackground:void 0,listFilterWidgetNoMatchesOutline:void 0,listFilterWidgetOutline:void 0,listFilterWidgetShadow:void 0};var H;(function(Qe){Qe[Qe.Highlight=0]="Highlight",Qe[Qe.Filter=1]="Filter"})(H||(H={}));var Q;(function(Qe){Qe[Qe.Fuzzy=0]="Fuzzy",Qe[Qe.Contiguous=1]="Contiguous"})(Q||(Q={}));class ie extends null{set mode(fe){this.modeToggle.checked=fe===H.Filter,this.findInput.inputBox.setPlaceHolder(fe===H.Filter?localize("type to filter","Type to filter"):localize("type to search","Type to search"))}set matchType(fe){this.matchTypeToggle.checked=fe===Q.Fuzzy}constructor(fe,$,le,De,xe,Ce){var me;super(),this.tree=$,this.elements=h(".monaco-tree-type-filter",[h(".monaco-tree-type-filter-grab.codicon.codicon-debug-gripper@grab",{tabIndex:0}),h(".monaco-tree-type-filter-input@findInput"),h(".monaco-tree-type-filter-actionbar@actionbar")]),this.width=0,this.right=0,this.top=0,this._onDidDisable=new Emitter,fe.appendChild(this.elements.root),this._register(toDisposable(()=>fe.removeChild(this.elements.root)));const be=(me=Ce==null?void 0:Ce.styles)!==null&&me!==void 0?me:Y;be.listFilterWidgetBackground&&(this.elements.root.style.backgroundColor=be.listFilterWidgetBackground),be.listFilterWidgetShadow&&(this.elements.root.style.boxShadow=`0 0 8px 2px ${be.listFilterWidgetShadow}`);const oe=this._register(createInstantHoverDelegate());this.modeToggle=this._register(new G(Ki(vi({},be.toggleStyles),{isChecked:De===H.Filter,hoverDelegate:oe}))),this.matchTypeToggle=this._register(new j(Ki(vi({},be.toggleStyles),{isChecked:xe===Q.Fuzzy,hoverDelegate:oe}))),this.onDidChangeMode=Event.map(this.modeToggle.onChange,()=>this.modeToggle.checked?H.Filter:H.Highlight,this._store),this.onDidChangeMatchType=Event.map(this.matchTypeToggle.onChange,()=>this.matchTypeToggle.checked?Q.Fuzzy:Q.Contiguous,this._store),this.findInput=this._register(new FindInput(this.elements.findInput,le,{label:localize("type to search","Type to search"),additionalToggles:[this.modeToggle,this.matchTypeToggle],showCommonFindToggles:!1,inputBoxStyles:be.inputBoxStyles,toggleStyles:be.toggleStyles,history:Ce==null?void 0:Ce.history})),this.actionbar=this._register(new ActionBar(this.elements.actionbar)),this.mode=De;const ue=this._register(new DomEmitter(this.findInput.inputBox.inputElement,"keydown")),de=Event.chain(ue.event,pe=>pe.map(je=>new StandardKeyboardEvent(je)));this._register(de(pe=>{if(pe.equals(3)){pe.preventDefault(),pe.stopPropagation(),this.findInput.inputBox.addToHistory(),this.tree.domFocus();return}if(pe.equals(18)){pe.preventDefault(),pe.stopPropagation(),this.findInput.inputBox.isAtLastInHistory()||this.findInput.inputBox.isNowhereInHistory()?(this.findInput.inputBox.addToHistory(),this.tree.domFocus()):this.findInput.inputBox.showNextValue();return}if(pe.equals(16)){pe.preventDefault(),pe.stopPropagation(),this.findInput.inputBox.showPreviousValue();return}}));const Se=this._register(new Action("close",localize("close","Close"),"codicon codicon-close",!0,()=>this.dispose()));this.actionbar.push(Se,{icon:!0,label:!1});const Te=this._register(new DomEmitter(this.elements.grab,"mousedown"));this._register(Te.event(pe=>{const je=new DisposableStore,ot=je.add(new DomEmitter(getWindow(pe),"mousemove")),xt=je.add(new DomEmitter(getWindow(pe),"mouseup")),jt=this.right,oi=pe.pageX,ti=this.top,it=pe.pageY;this.elements.grab.classList.add("grabbing");const yt=this.elements.root.style.transition;this.elements.root.style.transition="unset";const $t=Nt=>{const qt=Nt.pageX-oi;this.right=jt-qt;const Ht=Nt.pageY-it;this.top=ti+Ht,this.layout()};je.add(ot.event($t)),je.add(xt.event(Nt=>{$t(Nt),this.elements.grab.classList.remove("grabbing"),this.elements.root.style.transition=yt,je.dispose()}))}));const Ae=Event.chain(this._register(new DomEmitter(this.elements.grab,"keydown")).event,pe=>pe.map(je=>new StandardKeyboardEvent(je)));this._register(Ae(pe=>{let je,ot;if(pe.keyCode===15?je=Number.POSITIVE_INFINITY:pe.keyCode===17?je=0:pe.keyCode===10&&(je=this.right===0?Number.POSITIVE_INFINITY:0),pe.keyCode===16?ot=0:pe.keyCode===18&&(ot=Number.POSITIVE_INFINITY),je!==void 0&&(pe.preventDefault(),pe.stopPropagation(),this.right=je,this.layout()),ot!==void 0){pe.preventDefault(),pe.stopPropagation(),this.top=ot;const xt=this.elements.root.style.transition;this.elements.root.style.transition="unset",this.layout(),setTimeout(()=>{this.elements.root.style.transition=xt},0)}})),this.onDidChangeValue=this.findInput.onDidChange}layout(fe=this.width){this.width=fe,this.right=clamp(this.right,0,Math.max(0,fe-212)),this.elements.root.style.right=`${this.right}px`,this.top=clamp(this.top,0,24),this.elements.root.style.top=`${this.top}px`}showMessage(fe){this.findInput.showMessage(fe)}clearMessage(){this.findInput.clearMessage()}dispose(){return Ft(this,null,function*(){this._onDidDisable.fire(),this.elements.root.classList.add("disabled"),yield timeout(300),pl(ie.prototype,this,"dispose").call(this)})}}class te{get pattern(){return this._pattern}get mode(){return this._mode}set mode(fe){fe!==this._mode&&(this._mode=fe,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(fe))}get matchType(){return this._matchType}set matchType(fe){fe!==this._matchType&&(this._matchType=fe,this.widget&&(this.widget.matchType=this._matchType),this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(fe))}constructor(fe,$,le,De,xe,Ce={}){var me,be;this.tree=fe,this.view=le,this.filter=De,this.contextViewProvider=xe,this.options=Ce,this._pattern="",this.width=0,this._onDidChangeMode=new l.Q5,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangeMatchType=new l.Q5,this.onDidChangeMatchType=this._onDidChangeMatchType.event,this._onDidChangePattern=new l.Q5,this._onDidChangeOpenState=new l.Q5,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new f.SL,this.disposables=new f.SL,this._mode=(me=fe.options.defaultFindMode)!==null&&me!==void 0?me:H.Highlight,this._matchType=(be=fe.options.defaultFindMatchType)!==null&&be!==void 0?be:Q.Fuzzy,$.onDidSplice(this.onDidSpliceModel,this,this.disposables)}updateOptions(fe={}){fe.defaultFindMode!==void 0&&(this.mode=fe.defaultFindMode),fe.defaultFindMatchType!==void 0&&(this.matchType=fe.defaultFindMatchType)}onDidSpliceModel(){!this.widget||this.pattern.length===0||(this.tree.refilter(),this.render())}render(){var fe,$,le,De;const xe=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&xe?!((fe=this.tree.options.showNotFoundMessage)!==null&&fe!==void 0)||fe?($=this.widget)===null||$===void 0||$.showMessage({type:2,content:(0,_.NC)("not found","No elements found.")}):(le=this.widget)===null||le===void 0||le.showMessage({type:2}):(De=this.widget)===null||De===void 0||De.clearMessage()}shouldAllowFocus(fe){return!this.widget||!this.pattern||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!D.CL.isDefault(fe.filterData)}layout(fe){var $;this.width=fe,($=this.widget)===null||$===void 0||$.layout(fe)}dispose(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}function se(Qe,fe){return Qe.position===fe.position&&ne(Qe,fe)}function ne(Qe,fe){return Qe.node.element===fe.node.element&&Qe.startIndex===fe.startIndex&&Qe.height===fe.height&&Qe.endIndex===fe.endIndex}class ee{constructor(fe=[]){this.stickyNodes=fe}get count(){return this.stickyNodes.length}equal(fe){return(0,r.fS)(this.stickyNodes,fe.stickyNodes,se)}lastNodePartiallyVisible(){if(this.count===0)return!1;const fe=this.stickyNodes[this.count-1];if(this.count===1)return fe.position!==0;const $=this.stickyNodes[this.count-2];return $.position+$.height!==fe.position}animationStateChanged(fe){if(!(0,r.fS)(this.stickyNodes,fe.stickyNodes,ne)||this.count===0)return!1;const $=this.stickyNodes[this.count-1],le=fe.stickyNodes[fe.count-1];return $.position!==le.position}}class re{constrainStickyScrollNodes(fe,$,le){for(let De=0;De<fe.length;De++){const xe=fe[De];if(xe.position+xe.height>le||De>=$)return fe.slice(0,De)}return fe}}class he extends f.JT{constructor(fe,$,le,De,xe,Ce={}){var me;super(),this.tree=fe,this.model=$,this.view=le,this.treeDelegate=xe,this.maxWidgetViewRatio=.4;const be=this.validateStickySettings(Ce);this.stickyScrollMaxItemCount=be.stickyScrollMaxItemCount,this.stickyScrollDelegate=(me=Ce.stickyScrollDelegate)!==null&&me!==void 0?me:new re,this._widget=this._register(new M(le.getScrollableElement(),le,fe,De,xe,Ce.accessibilityProvider)),this.onDidChangeHasFocus=this._widget.onDidChangeHasFocus,this.onContextMenu=this._widget.onContextMenu,this._register(le.onDidScroll(()=>this.update())),this._register(le.onDidChangeContentHeight(()=>this.update())),this._register(fe.onDidChangeCollapseState(()=>this.update())),this.update()}get height(){return this._widget.height}getNodeAtHeight(fe){let $;if(fe===0?$=this.view.firstVisibleIndex:$=this.view.indexAt(fe+this.view.scrollTop),!($<0||$>=this.view.length))return this.view.element($)}update(){const fe=this.getNodeAtHeight(0);if(!fe||this.tree.scrollTop===0){this._widget.setState(void 0);return}const $=this.findStickyState(fe);this._widget.setState($)}findStickyState(fe){const $=[];let le=fe,De=0,xe=this.getNextStickyNode(le,void 0,De);for(;xe&&($.push(xe),De+=xe.height,!($.length<=this.stickyScrollMaxItemCount&&(le=this.getNextVisibleNode(xe),!le)));)xe=this.getNextStickyNode(le,xe.node,De);const Ce=this.constrainStickyNodes($);return Ce.length?new ee(Ce):void 0}getNextVisibleNode(fe){return this.getNodeAtHeight(fe.position+fe.height)}getNextStickyNode(fe,$,le){const De=this.getAncestorUnderPrevious(fe,$);if(De&&!(De===fe&&(!this.nodeIsUncollapsedParent(fe)||this.nodeTopAlignsWithStickyNodesBottom(fe,le))))return this.createStickyScrollNode(De,le)}nodeTopAlignsWithStickyNodesBottom(fe,$){const le=this.getNodeIndex(fe),De=this.view.getElementTop(le),xe=$;return this.view.scrollTop===De-xe}createStickyScrollNode(fe,$){const le=this.treeDelegate.getHeight(fe),{startIndex:De,endIndex:xe}=this.getNodeRange(fe),Ce=this.calculateStickyNodePosition(xe,$,le);return{node:fe,position:Ce,height:le,startIndex:De,endIndex:xe}}getAncestorUnderPrevious(fe,$=void 0){let le=fe,De=this.getParentNode(le);for(;De;){if(De===$)return le;le=De,De=this.getParentNode(le)}if($===void 0)return le}calculateStickyNodePosition(fe,$,le){let De=this.view.getRelativeTop(fe);if(De===null&&this.view.firstVisibleIndex===fe&&fe+1<this.view.length){const oe=this.treeDelegate.getHeight(this.view.element(fe)),ue=this.view.getRelativeTop(fe+1);De=ue?ue-oe/this.view.renderHeight:null}if(De===null)return $;const xe=this.view.element(fe),Ce=this.treeDelegate.getHeight(xe),be=De*this.view.renderHeight+Ce;return $+le>be&&$<=be?be-le:$}constrainStickyNodes(fe){if(fe.length===0)return[];const $=this.view.renderHeight*this.maxWidgetViewRatio,le=fe[fe.length-1];if(fe.length<=this.stickyScrollMaxItemCount&&le.position+le.height<=$)return fe;const De=this.stickyScrollDelegate.constrainStickyScrollNodes(fe,this.stickyScrollMaxItemCount,$);if(!De.length)return[];const xe=De[De.length-1];if(De.length>this.stickyScrollMaxItemCount||xe.position+xe.height>$)throw new Error("stickyScrollDelegate violates constraints");return De}getParentNode(fe){const $=this.model.getNodeLocation(fe),le=this.model.getParentNodeLocation($);return le?this.model.getNode(le):void 0}nodeIsUncollapsedParent(fe){const $=this.model.getNodeLocation(fe);return this.model.getListRenderCount($)>1}getNodeIndex(fe){const $=this.model.getNodeLocation(fe);return this.model.getListIndex($)}getNodeRange(fe){const $=this.model.getNodeLocation(fe),le=this.model.getListIndex($);if(le<0)throw new Error("Node not found in tree");const De=this.model.getListRenderCount($),xe=le+De-1;return{startIndex:le,endIndex:xe}}nodePositionTopBelowWidget(fe){const $=[];let le=this.getParentNode(fe);for(;le;)$.push(le),le=this.getParentNode(le);let De=0;for(let xe=0;xe<$.length&&xe<this.stickyScrollMaxItemCount;xe++)De+=this.treeDelegate.getHeight($[xe]);return De}domFocus(){this._widget.domFocus()}focusedLast(){return this._widget.focusedLast()}updateOptions(fe={}){if(!fe.stickyScrollMaxItemCount)return;const $=this.validateStickySettings(fe);this.stickyScrollMaxItemCount!==$.stickyScrollMaxItemCount&&(this.stickyScrollMaxItemCount=$.stickyScrollMaxItemCount,this.update())}validateStickySettings(fe){let $=7;return typeof fe.stickyScrollMaxItemCount=="number"&&($=Math.max(fe.stickyScrollMaxItemCount,1)),{stickyScrollMaxItemCount:$}}}class M{constructor(fe,$,le,De,xe,Ce){this.view=$,this.tree=le,this.treeRenderers=De,this.treeDelegate=xe,this.accessibilityProvider=Ce,this._previousElements=[],this._previousStateDisposables=new f.SL,this._rootDomNode=(0,o.$)(".monaco-tree-sticky-container.empty"),fe.appendChild(this._rootDomNode);const me=(0,o.$)(".monaco-tree-sticky-container-shadow");this._rootDomNode.appendChild(me),this.stickyScrollFocus=new we(this._rootDomNode,$),this.onDidChangeHasFocus=this.stickyScrollFocus.onDidChangeHasFocus,this.onContextMenu=this.stickyScrollFocus.onContextMenu}get height(){if(!this._previousState)return 0;const fe=this._previousState.stickyNodes[this._previousState.count-1];return fe.position+fe.height}setState(fe){const $=!!this._previousState&&this._previousState.count>0,le=!!fe&&fe.count>0;if(!$&&!le||$&&le&&this._previousState.equal(fe))return;if($!==le&&this.setVisible(le),!le){this._previousState=void 0,this._previousElements=[],this._previousStateDisposables.clear();return}const De=fe.stickyNodes[fe.count-1];if(this._previousState&&fe.animationStateChanged(this._previousState))this._previousElements[this._previousState.count-1].style.top=`${De.position}px`;else{this._previousStateDisposables.clear();const xe=Array(fe.count);for(let Ce=fe.count-1;Ce>=0;Ce--){const me=fe.stickyNodes[Ce],{element:be,disposable:oe}=this.createElement(me,Ce,fe.count);xe[Ce]=be,this._rootDomNode.appendChild(be),this._previousStateDisposables.add(oe)}this.stickyScrollFocus.updateElements(xe,fe),this._previousElements=xe}this._previousState=fe,this._rootDomNode.style.height=`${De.position+De.height}px`}createElement(fe,$,le){const De=fe.startIndex,xe=document.createElement("div");xe.style.top=`${fe.position}px`,this.tree.options.setRowHeight!==!1&&(xe.style.height=`${fe.height}px`),this.tree.options.setRowLineHeight!==!1&&(xe.style.lineHeight=`${fe.height}px`),xe.classList.add("monaco-tree-sticky-row"),xe.classList.add("monaco-list-row"),xe.setAttribute("data-index",`${De}`),xe.setAttribute("data-parity",De%2===0?"even":"odd"),xe.setAttribute("id",this.view.getElementID(De));const Ce=this.setAccessibilityAttributes(xe,fe.node.element,$,le),me=this.treeDelegate.getTemplateId(fe.node),be=this.treeRenderers.find(Se=>Se.templateId===me);if(!be)throw new Error(`No renderer found for template id ${me}`);let oe=fe.node;oe===this.tree.getNode(this.tree.getNodeLocation(fe.node))&&(oe=new Proxy(fe.node,{}));const ue=be.renderTemplate(xe);be.renderElement(oe,fe.startIndex,ue,fe.height);const de=(0,f.OF)(()=>{Ce.dispose(),be.disposeElement(oe,fe.startIndex,ue,fe.height),be.disposeTemplate(ue),xe.remove()});return{element:xe,disposable:de}}setAccessibilityAttributes(fe,$,le,De){var xe;if(!this.accessibilityProvider)return f.JT.None;this.accessibilityProvider.getSetSize&&fe.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize($,le,De))),this.accessibilityProvider.getPosInSet&&fe.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet($,le))),this.accessibilityProvider.getRole&&fe.setAttribute("role",(xe=this.accessibilityProvider.getRole($))!==null&&xe!==void 0?xe:"treeitem");const Ce=this.accessibilityProvider.getAriaLabel($),me=Ce&&typeof Ce!="string"?Ce:(0,b.Dz)(Ce),be=(0,b.EH)(ue=>{const de=ue.readObservable(me);de?fe.setAttribute("aria-label",de):fe.removeAttribute("aria-label")});typeof Ce=="string"||Ce&&fe.setAttribute("aria-label",Ce.get());const oe=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel($);return typeof oe=="number"&&fe.setAttribute("aria-level",`${oe}`),fe.setAttribute("aria-selected",String(!1)),be}setVisible(fe){this._rootDomNode.classList.toggle("empty",!fe),fe||this.stickyScrollFocus.updateElements([],void 0)}domFocus(){this.stickyScrollFocus.domFocus()}focusedLast(){return this.stickyScrollFocus.focusedLast()}dispose(){this.stickyScrollFocus.dispose(),this._previousStateDisposables.dispose(),this._rootDomNode.remove()}}class we extends f.JT{get domHasFocus(){return this._domHasFocus}set domHasFocus(fe){fe!==this._domHasFocus&&(this._onDidChangeHasFocus.fire(fe),this._domHasFocus=fe)}constructor(fe,$){super(),this.container=fe,this.view=$,this.focusedIndex=-1,this.elements=[],this._onDidChangeHasFocus=new l.Q5,this.onDidChangeHasFocus=this._onDidChangeHasFocus.event,this._onContextMenu=new l.Q5,this.onContextMenu=this._onContextMenu.event,this._domHasFocus=!1,this.container.addEventListener("focus",()=>this.onFocus()),this.container.addEventListener("blur",()=>this.onBlur()),this._register(this.view.onDidFocus(()=>this.toggleStickyScrollFocused(!1))),this._register(this.view.onKeyDown(le=>this.onKeyDown(le))),this._register(this.view.onMouseDown(le=>this.onMouseDown(le))),this._register(this.view.onContextMenu(le=>this.handleContextMenu(le)))}handleContextMenu(fe){const $=fe.browserEvent.target;if(!(0,R.xf)($)&&!(0,R.Et)($)){this.focusedLast()&&this.view.domFocus();return}if(!(0,o.vd)(fe.browserEvent)){if(!this.state)throw new Error("Context menu should not be triggered when state is undefined");const Ce=this.state.stickyNodes.findIndex(me=>{var be;return me.node.element===((be=fe.element)===null||be===void 0?void 0:be.element)});if(Ce===-1)throw new Error("Context menu should not be triggered when element is not in sticky scroll widget");this.container.focus(),this.setFocus(Ce);return}if(!this.state||this.focusedIndex<0)throw new Error("Context menu key should not be triggered when focus is not in sticky scroll widget");const De=this.state.stickyNodes[this.focusedIndex].node.element,xe=this.elements[this.focusedIndex];this._onContextMenu.fire({element:De,anchor:xe,browserEvent:fe.browserEvent,isStickyScroll:!0})}onKeyDown(fe){if(this.domHasFocus&&this.state){if(fe.key==="ArrowUp")this.setFocusedElement(Math.max(0,this.focusedIndex-1)),fe.preventDefault(),fe.stopPropagation();else if(fe.key==="ArrowDown"||fe.key==="ArrowRight"){if(this.focusedIndex>=this.state.count-1){const $=this.state.stickyNodes[this.state.count-1].startIndex+1;this.view.domFocus(),this.view.setFocus([$]),this.scrollNodeUnderWidget($,this.state)}else this.setFocusedElement(this.focusedIndex+1);fe.preventDefault(),fe.stopPropagation()}}}onMouseDown(fe){const $=fe.browserEvent.target;!(0,R.xf)($)&&!(0,R.Et)($)||(fe.browserEvent.preventDefault(),fe.browserEvent.stopPropagation())}updateElements(fe,$){if($&&$.count===0)throw new Error("Sticky scroll state must be undefined when there are no sticky nodes");if($&&$.count!==fe.length)throw new Error("Sticky scroll focus received illigel state");const le=this.focusedIndex;if(this.removeFocus(),this.elements=fe,this.state=$,$){const De=(0,y.uZ)(le,0,$.count-1);this.setFocus(De)}else this.domHasFocus&&this.view.domFocus();this.container.tabIndex=$?0:-1}setFocusedElement(fe){const $=this.state;if(!$)throw new Error("Cannot set focus when state is undefined");if(this.setFocus(fe),!(fe<$.count-1)&&$.lastNodePartiallyVisible()){const le=$.stickyNodes[fe];this.scrollNodeUnderWidget(le.endIndex+1,$)}}scrollNodeUnderWidget(fe,$){const le=$.stickyNodes[$.count-1],De=$.count>1?$.stickyNodes[$.count-2]:void 0,xe=this.view.getElementTop(fe),Ce=De?De.position+De.height+le.height:le.height;this.view.scrollTop=xe-Ce}domFocus(){if(!this.state)throw new Error("Cannot focus when state is undefined");this.container.focus()}focusedLast(){return this.state?this.view.getHTMLElement().classList.contains("sticky-scroll-focused"):!1}removeFocus(){this.focusedIndex!==-1&&(this.toggleElementFocus(this.elements[this.focusedIndex],!1),this.focusedIndex=-1)}setFocus(fe){if(0>fe)throw new Error("addFocus() can not remove focus");if(!this.state&&fe>=0)throw new Error("Cannot set focus index when state is undefined");if(this.state&&fe>=this.state.count)throw new Error("Cannot set focus index to an index that does not exist");const $=this.focusedIndex;$>=0&&this.toggleElementFocus(this.elements[$],!1),fe>=0&&this.toggleElementFocus(this.elements[fe],!0),this.focusedIndex=fe}toggleElementFocus(fe,$){this.toggleElementActiveFocus(fe,$&&this.domHasFocus),this.toggleElementPassiveFocus(fe,$)}toggleCurrentElementActiveFocus(fe){this.focusedIndex!==-1&&this.toggleElementActiveFocus(this.elements[this.focusedIndex],fe)}toggleElementActiveFocus(fe,$){fe.classList.toggle("focused",$)}toggleElementPassiveFocus(fe,$){fe.classList.toggle("passive-focused",$)}toggleStickyScrollFocused(fe){this.view.getHTMLElement().classList.toggle("sticky-scroll-focused",fe)}onFocus(){if(!this.state||this.elements.length===0)throw new Error("Cannot focus when state is undefined or elements are empty");this.domHasFocus=!0,this.toggleStickyScrollFocused(!0),this.toggleCurrentElementActiveFocus(!0),this.focusedIndex===-1&&this.setFocus(0)}onBlur(){this.domHasFocus=!1,this.toggleCurrentElementActiveFocus(!1)}dispose(){this.toggleStickyScrollFocused(!1),this._onDidChangeHasFocus.fire(!1),super.dispose()}}function We(Qe){let fe=g.sD.Unknown;return(0,o.uU)(Qe.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?fe=g.sD.Twistie:(0,o.uU)(Qe.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?fe=g.sD.Element:(0,o.uU)(Qe.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(fe=g.sD.Filter),{browserEvent:Qe.browserEvent,element:Qe.element?Qe.element.element:null,target:fe}}function ye(Qe){const fe=(0,R.xf)(Qe.browserEvent.target);return{element:Qe.element?Qe.element.element:null,browserEvent:Qe.browserEvent,anchor:Qe.anchor,isStickyScroll:fe}}function X(Qe,fe){fe(Qe),Qe.children.forEach($=>X($,fe))}class ve{get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}constructor(fe,$){this.getFirstViewElementWithTrait=fe,this.identityProvider=$,this.nodes=[],this._onDidChange=new l.Q5,this.onDidChange=this._onDidChange.event}set(fe,$){!($!=null&&$.__forceEvent)&&(0,r.fS)(this.nodes,fe)||this._set(fe,!1,$)}_set(fe,$,le){if(this.nodes=[...fe],this.elements=void 0,this._nodeSet=void 0,!$){const De=this;this._onDidChange.fire({get elements(){return De.get()},browserEvent:le})}}get(){return this.elements||(this.elements=this.nodes.map(fe=>fe.element)),[...this.elements]}getNodes(){return this.nodes}has(fe){return this.nodeSet.has(fe)}onDidModelSplice({insertedNodes:fe,deletedNodes:$}){if(!this.identityProvider){const be=this.createNodeSet(),oe=ue=>be.delete(ue);$.forEach(ue=>X(ue,oe)),this.set([...be.values()]);return}const le=new Set,De=be=>le.add(this.identityProvider.getId(be.element).toString());$.forEach(be=>X(be,De));const xe=new Map,Ce=be=>xe.set(this.identityProvider.getId(be.element).toString(),be);fe.forEach(be=>X(be,Ce));const me=[];for(const be of this.nodes){const oe=this.identityProvider.getId(be.element).toString();if(!le.has(oe))me.push(be);else{const de=xe.get(oe);de&&de.visible&&me.push(de)}}if(this.nodes.length>0&&me.length===0){const be=this.getFirstViewElementWithTrait();be&&me.push(be)}this._set(me,!0)}createNodeSet(){const fe=new Set;for(const $ of this.nodes)fe.add($);return fe}}class Ee extends R.sx{constructor(fe,$,le){super(fe),this.tree=$,this.stickyScrollProvider=le}onViewPointer(fe){if((0,R.iK)(fe.browserEvent.target)||(0,R.cK)(fe.browserEvent.target)||(0,R.hD)(fe.browserEvent.target)||fe.browserEvent.isHandledByList)return;const $=fe.element;if(!$)return super.onViewPointer(fe);if(this.isSelectionRangeChangeEvent(fe)||this.isSelectionSingleChangeEvent(fe))return super.onViewPointer(fe);const le=fe.browserEvent.target,De=le.classList.contains("monaco-tl-twistie")||le.classList.contains("monaco-icon-label")&&le.classList.contains("folder-icon")&&fe.browserEvent.offsetX<16,xe=(0,R.Et)(fe.browserEvent.target);let Ce=!1;if(xe?Ce=!0:typeof this.tree.expandOnlyOnTwistieClick=="function"?Ce=this.tree.expandOnlyOnTwistieClick($.element):Ce=!!this.tree.expandOnlyOnTwistieClick,xe)this.handleStickyScrollMouseEvent(fe,$);else{if(Ce&&!De&&fe.browserEvent.detail!==2)return super.onViewPointer(fe);if(!this.tree.expandOnDoubleClick&&fe.browserEvent.detail===2)return super.onViewPointer(fe)}if($.collapsible&&(!xe||De)){const me=this.tree.getNodeLocation($),be=fe.browserEvent.altKey;if(this.tree.setFocus([me]),this.tree.toggleCollapsed(me,be),De){fe.browserEvent.isHandledByList=!0;return}}xe||super.onViewPointer(fe)}handleStickyScrollMouseEvent(fe,$){if((0,R.$B)(fe.browserEvent.target)||(0,R.dk)(fe.browserEvent.target))return;const le=this.stickyScrollProvider();if(!le)throw new Error("Sticky scroll controller not found");const De=this.list.indexOf($),xe=this.list.getElementTop(De),Ce=le.nodePositionTopBelowWidget($);this.tree.scrollTop=xe-Ce,this.list.domFocus(),this.list.setFocus([De]),this.list.setSelection([De])}onDoubleClick(fe){fe.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||fe.browserEvent.isHandledByList||super.onDoubleClick(fe)}onMouseDown(fe){const $=fe.browserEvent.target;if(!(0,R.xf)($)&&!(0,R.Et)($)){super.onMouseDown(fe);return}}onContextMenu(fe){const $=fe.browserEvent.target;if(!(0,R.xf)($)&&!(0,R.Et)($)){super.onContextMenu(fe);return}}}class Oe extends R.aV{constructor(fe,$,le,De,xe,Ce,me,be){super(fe,$,le,De,be),this.focusTrait=xe,this.selectionTrait=Ce,this.anchorTrait=me}createMouseController(fe){return new Ee(this,fe.tree,fe.stickyScrollProvider)}splice(fe,$,le=[]){if(super.splice(fe,$,le),le.length===0)return;const De=[],xe=[];let Ce;le.forEach((me,be)=>{this.focusTrait.has(me)&&De.push(fe+be),this.selectionTrait.has(me)&&xe.push(fe+be),this.anchorTrait.has(me)&&(Ce=fe+be)}),De.length>0&&super.setFocus((0,r.EB)([...super.getFocus(),...De])),xe.length>0&&super.setSelection((0,r.EB)([...super.getSelection(),...xe])),typeof Ce=="number"&&super.setAnchor(Ce)}setFocus(fe,$,le=!1){super.setFocus(fe,$),le||this.focusTrait.set(fe.map(De=>this.element(De)),$)}setSelection(fe,$,le=!1){super.setSelection(fe,$),le||this.selectionTrait.set(fe.map(De=>this.element(De)),$)}setAnchor(fe,$=!1){super.setAnchor(fe),$||(typeof fe=="undefined"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(fe)]))}}class Ke{get onDidScroll(){return this.view.onDidScroll}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return l.ju.filter(l.ju.map(this.view.onMouseDblClick,We),fe=>fe.target!==g.sD.Filter)}get onMouseOver(){return l.ju.map(this.view.onMouseOver,We)}get onMouseOut(){return l.ju.map(this.view.onMouseOut,We)}get onContextMenu(){var fe,$;return l.ju.any(l.ju.filter(l.ju.map(this.view.onContextMenu,ye),le=>!le.isStickyScroll),($=(fe=this.stickyScrollController)===null||fe===void 0?void 0:fe.onContextMenu)!==null&&$!==void 0?$:l.ju.None)}get onPointer(){return l.ju.map(this.view.onPointer,We)}get onKeyDown(){return this.view.onKeyDown}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return l.ju.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var fe,$;return($=(fe=this.findController)===null||fe===void 0?void 0:fe.mode)!==null&&$!==void 0?$:H.Highlight}set findMode(fe){this.findController&&(this.findController.mode=fe)}get findMatchType(){var fe,$;return($=(fe=this.findController)===null||fe===void 0?void 0:fe.matchType)!==null&&$!==void 0?$:Q.Fuzzy}set findMatchType(fe){this.findController&&(this.findController.matchType=fe)}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick=="undefined"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick=="undefined"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}constructor(fe,$,le,De,xe={}){var Ce;this._user=fe,this._options=xe,this.eventBufferer=new l.E7,this.onDidChangeFindOpenState=l.ju.None,this.onDidChangeStickyScrollFocused=l.ju.None,this.disposables=new f.SL,this._onWillRefilter=new l.Q5,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new l.Q5,this.treeDelegate=new z(le);const me=new l.ZD,be=new l.ZD,oe=this.disposables.add(new P(be.event)),ue=new u.ri;this.renderers=De.map(pe=>new I(pe,()=>this.model,me.event,oe,ue,xe));for(const pe of this.renderers)this.disposables.add(pe);let de;xe.keyboardNavigationLabelProvider&&(de=new W(this,xe.keyboardNavigationLabelProvider,xe.filter),xe=Ki(vi({},xe),{filter:de}),this.disposables.add(de)),this.focus=new ve(()=>this.view.getFocusedElements()[0],xe.identityProvider),this.selection=new ve(()=>this.view.getSelectedElements()[0],xe.identityProvider),this.anchor=new ve(()=>this.view.getAnchorElement(),xe.identityProvider),this.view=new Oe(fe,$,this.treeDelegate,this.renderers,this.focus,this.selection,this.anchor,Ki(vi({},Z(()=>this.model,xe)),{tree:this,stickyScrollProvider:()=>this.stickyScrollController})),this.model=this.createModel(fe,this.view,xe),me.input=this.model.onDidChangeCollapseState;const Se=l.ju.forEach(this.model.onDidSplice,pe=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(pe),this.selection.onDidModelSplice(pe)})},this.disposables);Se(()=>null,null,this.disposables);const Te=this.disposables.add(new l.Q5),Ae=this.disposables.add(new i.vp(0));if(this.disposables.add(l.ju.any(Se,this.focus.onDidChange,this.selection.onDidChange)(()=>{Ae.trigger(()=>{const pe=new Set;for(const je of this.focus.getNodes())pe.add(je);for(const je of this.selection.getNodes())pe.add(je);Te.fire([...pe.values()])})})),be.input=Te.event,xe.keyboardSupport!==!1){const pe=l.ju.chain(this.view.onKeyDown,je=>je.filter(ot=>!(0,R.cK)(ot.target)).map(ot=>new x.y(ot)));l.ju.chain(pe,je=>je.filter(ot=>ot.keyCode===15))(this.onLeftArrow,this,this.disposables),l.ju.chain(pe,je=>je.filter(ot=>ot.keyCode===17))(this.onRightArrow,this,this.disposables),l.ju.chain(pe,je=>je.filter(ot=>ot.keyCode===10))(this.onSpace,this,this.disposables)}if((!((Ce=xe.findWidgetEnabled)!==null&&Ce!==void 0)||Ce)&&xe.keyboardNavigationLabelProvider&&xe.contextViewProvider){const pe=this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0;this.findController=new te(this,this.model,this.view,de,xe.contextViewProvider,pe),this.focusNavigationFilter=je=>this.findController.shouldAllowFocus(je),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType}else this.onDidChangeFindMode=l.ju.None,this.onDidChangeFindMatchType=l.ju.None;xe.enableStickyScroll&&(this.stickyScrollController=new he(this,this.model,this.view,this.renderers,this.treeDelegate,xe),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus),this.styleElement=(0,o.dS)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===A.Always)}updateOptions(fe={}){var $;this._options=vi(vi({},this._options),fe);for(const le of this.renderers)le.updateOptions(fe);this.view.updateOptions(this._options),($=this.findController)===null||$===void 0||$.updateOptions(fe),this.updateStickyScroll(fe),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===A.Always)}get options(){return this._options}updateStickyScroll(fe){var $;!this.stickyScrollController&&this._options.enableStickyScroll?(this.stickyScrollController=new he(this,this.model,this.view,this.renderers,this.treeDelegate,this._options),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus):this.stickyScrollController&&!this._options.enableStickyScroll&&(this.onDidChangeStickyScrollFocused=l.ju.None,this.stickyScrollController.dispose(),this.stickyScrollController=void 0),($=this.stickyScrollController)===null||$===void 0||$.updateOptions(fe)}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(fe){this.view.scrollTop=fe}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get ariaLabel(){return this.view.ariaLabel}set ariaLabel(fe){this.view.ariaLabel=fe}domFocus(){var fe;!((fe=this.stickyScrollController)===null||fe===void 0)&&fe.focusedLast()?this.stickyScrollController.domFocus():this.view.domFocus()}layout(fe,$){var le;this.view.layout(fe,$),(0,C.hj)($)&&((le=this.findController)===null||le===void 0||le.layout($))}style(fe){var $,le;const De=`.${this.view.domId}`,xe=[];fe.treeIndentGuidesStroke&&(xe.push(`.monaco-list${De}:hover .monaco-tl-indent > .indent-guide, .monaco-list${De}.always .monaco-tl-indent > .indent-guide  { border-color: ${fe.treeInactiveIndentGuidesStroke}; }`),xe.push(`.monaco-list${De} .monaco-tl-indent > .indent-guide.active { border-color: ${fe.treeIndentGuidesStroke}; }`));const Ce=($=fe.treeStickyScrollBackground)!==null&&$!==void 0?$:fe.listBackground;Ce&&(xe.push(`.monaco-list${De} .monaco-scrollable-element .monaco-tree-sticky-container { background-color: ${Ce}; }`),xe.push(`.monaco-list${De} .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-row { background-color: ${Ce}; }`)),fe.treeStickyScrollBorder&&xe.push(`.monaco-list${De} .monaco-scrollable-element .monaco-tree-sticky-container { border-bottom: 1px solid ${fe.treeStickyScrollBorder}; }`),fe.treeStickyScrollShadow&&xe.push(`.monaco-list${De} .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-container-shadow { box-shadow: ${fe.treeStickyScrollShadow} 0 6px 6px -6px inset; height: 3px; }`),fe.listFocusForeground&&(xe.push(`.monaco-list${De}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { color: ${fe.listFocusForeground}; }`),xe.push(`.monaco-list${De}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { color: inherit; }`));const me=(0,o.XT)(fe.listFocusAndSelectionOutline,(0,o.XT)(fe.listSelectionOutline,(le=fe.listFocusOutline)!==null&&le!==void 0?le:""));me&&(xe.push(`.monaco-list${De}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused.selected { outline: 1px solid ${me}; outline-offset: -1px;}`),xe.push(`.monaco-list${De}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused.selected { outline: inherit;}`)),fe.listFocusOutline&&(xe.push(`.monaco-list${De}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { outline: 1px solid ${fe.listFocusOutline}; outline-offset: -1px; }`),xe.push(`.monaco-list${De}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { outline: inherit; }`),xe.push(`.monaco-workbench.context-menu-visible .monaco-list${De}.last-focused.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.passive-focused { outline: 1px solid ${fe.listFocusOutline}; outline-offset: -1px; }`),xe.push(`.monaco-workbench.context-menu-visible .monaco-list${De}.last-focused.sticky-scroll-focused .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`),xe.push(`.monaco-workbench.context-menu-visible .monaco-list${De}.last-focused:not(.sticky-scroll-focused) .monaco-tree-sticky-container .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`)),this.styleElement.textContent=xe.join(`
`),this.view.style(fe)}getParentElement(fe){const $=this.model.getParentNodeLocation(fe);return this.model.getNode($).element}getFirstElementChild(fe){return this.model.getFirstElementChild(fe)}getNode(fe){return this.model.getNode(fe)}getNodeLocation(fe){return this.model.getNodeLocation(fe)}collapse(fe,$=!1){return this.model.setCollapsed(fe,!0,$)}expand(fe,$=!1){return this.model.setCollapsed(fe,!1,$)}toggleCollapsed(fe,$=!1){return this.model.setCollapsed(fe,void 0,$)}isCollapsible(fe){return this.model.isCollapsible(fe)}setCollapsible(fe,$){return this.model.setCollapsible(fe,$)}isCollapsed(fe){return this.model.isCollapsed(fe)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(fe,$){this.eventBufferer.bufferEvents(()=>{const le=fe.map(xe=>this.model.getNode(xe));this.selection.set(le,$);const De=fe.map(xe=>this.model.getListIndex(xe)).filter(xe=>xe>-1);this.view.setSelection(De,$,!0)})}getSelection(){return this.selection.get()}setFocus(fe,$){this.eventBufferer.bufferEvents(()=>{const le=fe.map(xe=>this.model.getNode(xe));this.focus.set(le,$);const De=fe.map(xe=>this.model.getListIndex(xe)).filter(xe=>xe>-1);this.view.setFocus(De,$,!0)})}focusNext(fe=1,$=!1,le,De=(0,o.vd)(le)&&le.altKey?void 0:this.focusNavigationFilter){this.view.focusNext(fe,$,le,De)}focusPrevious(fe=1,$=!1,le,De=(0,o.vd)(le)&&le.altKey?void 0:this.focusNavigationFilter){this.view.focusPrevious(fe,$,le,De)}focusNextPage(fe,$=(0,o.vd)(fe)&&fe.altKey?void 0:this.focusNavigationFilter){return this.view.focusNextPage(fe,$)}focusPreviousPage(fe,$=(0,o.vd)(fe)&&fe.altKey?void 0:this.focusNavigationFilter){return this.view.focusPreviousPage(fe,$,()=>{var le,De;return(De=(le=this.stickyScrollController)===null||le===void 0?void 0:le.height)!==null&&De!==void 0?De:0})}focusFirst(fe,$=(0,o.vd)(fe)&&fe.altKey?void 0:this.focusNavigationFilter){this.view.focusFirst(fe,$)}getFocus(){return this.focus.get()}reveal(fe,$){this.model.expandTo(fe);const le=this.model.getListIndex(fe);if(le!==-1)if(!this.stickyScrollController)this.view.reveal(le,$);else{const De=this.stickyScrollController.nodePositionTopBelowWidget(this.getNode(fe));this.view.reveal(le,$,De)}}onLeftArrow(fe){fe.preventDefault(),fe.stopPropagation();const $=this.view.getFocusedElements();if($.length===0)return;const le=$[0],De=this.model.getNodeLocation(le);if(!this.model.setCollapsed(De,!0)){const Ce=this.model.getParentNodeLocation(De);if(!Ce)return;const me=this.model.getListIndex(Ce);this.view.reveal(me),this.view.setFocus([me])}}onRightArrow(fe){fe.preventDefault(),fe.stopPropagation();const $=this.view.getFocusedElements();if($.length===0)return;const le=$[0],De=this.model.getNodeLocation(le);if(!this.model.setCollapsed(De,!1)){if(!le.children.some(be=>be.visible))return;const[Ce]=this.view.getFocus(),me=Ce+1;this.view.reveal(me),this.view.setFocus([me])}}onSpace(fe){fe.preventDefault(),fe.stopPropagation();const $=this.view.getFocusedElements();if($.length===0)return;const le=$[0],De=this.model.getNodeLocation(le),xe=fe.browserEvent.altKey;this.model.setCollapsed(De,void 0,xe)}dispose(){var fe;(0,f.B9)(this.disposables),(fe=this.stickyScrollController)===null||fe===void 0||fe.dispose(),this.view.dispose()}}},77121:function(et,Le,e){"use strict";e.d(Le,{X:function(){return g},aG:function(){return w},gB:function(){return R}});var o=e(74171),B=e(71221),x=e(74696),O=e(23733),S=e(82719),p=e(79329),E=e(852);function R(a){return typeof a=="object"&&"visibility"in a&&"data"in a}function w(a){switch(a){case!0:return 1;case!1:return 0;default:return a}}function m(a){return typeof a.collapsible=="boolean"}class g{constructor(r,i,n,c={}){var u;this.user=r,this.list=i,this.rootRef=[],this.eventBufferer=new p.E7,this._onDidChangeCollapseState=new p.Q5,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new p.Q5,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new p.Q5,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new x.vp(O.n),this.collapseByDefault=typeof c.collapseByDefault=="undefined"?!1:c.collapseByDefault,this.allowNonCollapsibleParents=(u=c.allowNonCollapsibleParents)!==null&&u!==void 0?u:!1,this.filter=c.filter,this.autoExpandSingleChildren=typeof c.autoExpandSingleChildren=="undefined"?!1:c.autoExpandSingleChildren,this.root={parent:void 0,element:n,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(r,i,n=E.$.empty(),c={}){if(r.length===0)throw new o.ac(this.user,"Invalid tree location");c.diffIdentityProvider?this.spliceSmart(c.diffIdentityProvider,r,i,n,c):this.spliceSimple(r,i,n,c)}spliceSmart(r,i,n,c,u,l){var D;c===void 0&&(c=E.$.empty()),l===void 0&&(l=(D=u.diffDepth)!==null&&D!==void 0?D:0);const{parentNode:f}=this.getParentNodeWithListIndex(i);if(!f.lastDiffIds)return this.spliceSimple(i,n,c,u);const y=[...c],C=i[i.length-1],_=new S.Hs({getElements:()=>f.lastDiffIds},{getElements:()=>[...f.children.slice(0,C),...y,...f.children.slice(C+n)].map(K=>r.getId(K.element).toString())}).ComputeDiff(!1);if(_.quitEarly)return f.lastDiffIds=void 0,this.spliceSimple(i,n,y,u);const N=i.slice(0,-1),b=(K,Z,z)=>{if(l>0)for(let A=0;A<z;A++)K--,Z--,this.spliceSmart(r,[...N,K,0],Number.MAX_SAFE_INTEGER,y[Z].children,u,l-1)};let k=Math.min(f.children.length,C+n),V=y.length;for(const K of _.changes.sort((Z,z)=>z.originalStart-Z.originalStart))b(k,V,k-(K.originalStart+K.originalLength)),k=K.originalStart,V=K.modifiedStart-C,this.spliceSimple([...N,k],K.originalLength,E.$.slice(y,V,V+K.modifiedLength),u);b(k,V,k)}spliceSimple(r,i,n=E.$.empty(),{onDidCreateNode:c,onDidDeleteNode:u,diffIdentityProvider:l}){const{parentNode:D,listIndex:f,revealed:y,visible:C}=this.getParentNodeWithListIndex(r),_=[],N=E.$.map(n,I=>this.createTreeNode(I,D,D.visible?1:0,y,_,c)),b=r[r.length-1];let k=0;for(let I=b;I>=0&&I<D.children.length;I--){const W=D.children[I];if(W.visible){k=W.visibleChildIndex;break}}const V=[];let K=0,Z=0;for(const I of N)V.push(I),Z+=I.renderNodeCount,I.visible&&(I.visibleChildIndex=k+K++);const z=(0,B.db)(D.children,b,i,V);l?D.lastDiffIds?(0,B.db)(D.lastDiffIds,b,i,V.map(I=>l.getId(I.element).toString())):D.lastDiffIds=D.children.map(I=>l.getId(I.element).toString()):D.lastDiffIds=void 0;let A=0;for(const I of z)I.visible&&A++;if(A!==0)for(let I=b+V.length;I<D.children.length;I++){const W=D.children[I];W.visible&&(W.visibleChildIndex-=A)}if(D.visibleChildrenCount+=K-A,y&&C){const I=z.reduce((W,G)=>W+(G.visible?G.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(D,Z-I),this.list.splice(f,I,_)}if(z.length>0&&u){const I=W=>{u(W),W.children.forEach(I)};z.forEach(I)}this._onDidSplice.fire({insertedNodes:V,deletedNodes:z});let P=D;for(;P;){if(P.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}P=P.parent}}rerender(r){if(r.length===0)throw new o.ac(this.user,"Invalid tree location");const{node:i,listIndex:n,revealed:c}=this.getTreeNodeWithListIndex(r);i.visible&&c&&this.list.splice(n,1,[i])}has(r){return this.hasTreeNode(r)}getListIndex(r){const{listIndex:i,visible:n,revealed:c}=this.getTreeNodeWithListIndex(r);return n&&c?i:-1}getListRenderCount(r){return this.getTreeNode(r).renderNodeCount}isCollapsible(r){return this.getTreeNode(r).collapsible}setCollapsible(r,i){const n=this.getTreeNode(r);typeof i=="undefined"&&(i=!n.collapsible);const c={collapsible:i};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(r,c))}isCollapsed(r){return this.getTreeNode(r).collapsed}setCollapsed(r,i,n){const c=this.getTreeNode(r);typeof i=="undefined"&&(i=!c.collapsed);const u={collapsed:i,recursive:n||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(r,u))}_setCollapseState(r,i){const{node:n,listIndex:c,revealed:u}=this.getTreeNodeWithListIndex(r),l=this._setListNodeCollapseState(n,c,u,i);if(n!==this.root&&this.autoExpandSingleChildren&&l&&!m(i)&&n.collapsible&&!n.collapsed&&!i.recursive){let D=-1;for(let f=0;f<n.children.length;f++)if(n.children[f].visible)if(D>-1){D=-1;break}else D=f;D>-1&&this._setCollapseState([...r,D],i)}return l}_setListNodeCollapseState(r,i,n,c){const u=this._setNodeCollapseState(r,c,!1);if(!n||!r.visible||!u)return u;const l=r.renderNodeCount,D=this.updateNodeAfterCollapseChange(r),f=l-(i===-1?0:1);return this.list.splice(i+1,f,D.slice(1)),u}_setNodeCollapseState(r,i,n){let c;if(r===this.root?c=!1:(m(i)?(c=r.collapsible!==i.collapsible,r.collapsible=i.collapsible):r.collapsible?(c=r.collapsed!==i.collapsed,r.collapsed=i.collapsed):c=!1,c&&this._onDidChangeCollapseState.fire({node:r,deep:n})),!m(i)&&i.recursive)for(const u of r.children)c=this._setNodeCollapseState(u,i,!0)||c;return c}expandTo(r){this.eventBufferer.bufferEvents(()=>{let i=this.getTreeNode(r);for(;i.parent;)i=i.parent,r=r.slice(0,r.length-1),i.collapsed&&this._setCollapseState(r,{collapsed:!1,recursive:!1})})}refilter(){const r=this.root.renderNodeCount,i=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,r,i),this.refilterDelayer.cancel()}createTreeNode(r,i,n,c,u,l){const D={parent:i,element:r.element,children:[],depth:i.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof r.collapsible=="boolean"?r.collapsible:typeof r.collapsed!="undefined",collapsed:typeof r.collapsed=="undefined"?this.collapseByDefault:r.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},f=this._filterNode(D,n);D.visibility=f,c&&u.push(D);const y=r.children||E.$.empty(),C=c&&f!==0&&!D.collapsed;let _=0,N=1;for(const b of y){const k=this.createTreeNode(b,D,f,C,u,l);D.children.push(k),N+=k.renderNodeCount,k.visible&&(k.visibleChildIndex=_++)}return this.allowNonCollapsibleParents||(D.collapsible=D.collapsible||D.children.length>0),D.visibleChildrenCount=_,D.visible=f===2?_>0:f===1,D.visible?D.collapsed||(D.renderNodeCount=N):(D.renderNodeCount=0,c&&u.pop()),l==null||l(D),D}updateNodeAfterCollapseChange(r){const i=r.renderNodeCount,n=[];return this._updateNodeAfterCollapseChange(r,n),this._updateAncestorsRenderNodeCount(r.parent,n.length-i),n}_updateNodeAfterCollapseChange(r,i){if(r.visible===!1)return 0;if(i.push(r),r.renderNodeCount=1,!r.collapsed)for(const n of r.children)r.renderNodeCount+=this._updateNodeAfterCollapseChange(n,i);return this._onDidChangeRenderNodeCount.fire(r),r.renderNodeCount}updateNodeAfterFilterChange(r){const i=r.renderNodeCount,n=[];return this._updateNodeAfterFilterChange(r,r.visible?1:0,n),this._updateAncestorsRenderNodeCount(r.parent,n.length-i),n}_updateNodeAfterFilterChange(r,i,n,c=!0){let u;if(r!==this.root){if(u=this._filterNode(r,i),u===0)return r.visible=!1,r.renderNodeCount=0,!1;c&&n.push(r)}const l=n.length;r.renderNodeCount=r===this.root?0:1;let D=!1;if(!r.collapsed||u!==0){let f=0;for(const y of r.children)D=this._updateNodeAfterFilterChange(y,u,n,c&&!r.collapsed)||D,y.visible&&(y.visibleChildIndex=f++);r.visibleChildrenCount=f}else r.visibleChildrenCount=0;return r!==this.root&&(r.visible=u===2?D:u===1,r.visibility=u),r.visible?r.collapsed||(r.renderNodeCount+=n.length-l):(r.renderNodeCount=0,c&&n.pop()),this._onDidChangeRenderNodeCount.fire(r),r.visible}_updateAncestorsRenderNodeCount(r,i){if(i!==0)for(;r;)r.renderNodeCount+=i,this._onDidChangeRenderNodeCount.fire(r),r=r.parent}_filterNode(r,i){const n=this.filter?this.filter.filter(r.element,i):1;return typeof n=="boolean"?(r.filterData=void 0,n?1:0):R(n)?(r.filterData=n.data,w(n.visibility)):(r.filterData=void 0,w(n))}hasTreeNode(r,i=this.root){if(!r||r.length===0)return!0;const[n,...c]=r;return n<0||n>i.children.length?!1:this.hasTreeNode(c,i.children[n])}getTreeNode(r,i=this.root){if(!r||r.length===0)return i;const[n,...c]=r;if(n<0||n>i.children.length)throw new o.ac(this.user,"Invalid tree location");return this.getTreeNode(c,i.children[n])}getTreeNodeWithListIndex(r){if(r.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:i,listIndex:n,revealed:c,visible:u}=this.getParentNodeWithListIndex(r),l=r[r.length-1];if(l<0||l>i.children.length)throw new o.ac(this.user,"Invalid tree location");const D=i.children[l];return{node:D,listIndex:n,revealed:c,visible:u&&D.visible}}getParentNodeWithListIndex(r,i=this.root,n=0,c=!0,u=!0){const[l,...D]=r;if(l<0||l>i.children.length)throw new o.ac(this.user,"Invalid tree location");for(let f=0;f<l;f++)n+=i.children[f].renderNodeCount;return c=c&&!i.collapsed,u=u&&i.visible,D.length===0?{parentNode:i,listIndex:n,revealed:c,visible:u}:this.getParentNodeWithListIndex(D,i.children[l],n+1,c,u)}getNode(r=[]){return this.getTreeNode(r)}getNodeLocation(r){const i=[];let n=r;for(;n.parent;)i.push(n.parent.children.indexOf(n)),n=n.parent;return i.reverse()}getParentNodeLocation(r){if(r.length!==0)return r.length===1?[]:(0,B.JH)(r)[0]}getFirstElementChild(r){const i=this.getTreeNode(r);if(i.children.length!==0)return i.children[0].element}}},74171:function(et,Le,e){"use strict";e.d(Le,{VA:function(){return O},ac:function(){return x},kn:function(){return o},sD:function(){return B}});var o;(function(S){S[S.Expanded=0]="Expanded",S[S.Collapsed=1]="Collapsed",S[S.PreserveOrExpanded=2]="PreserveOrExpanded",S[S.PreserveOrCollapsed=3]="PreserveOrCollapsed"})(o||(o={}));var B;(function(S){S[S.Unknown=0]="Unknown",S[S.Twistie=1]="Twistie",S[S.Element=2]="Element",S[S.Filter=3]="Filter"})(B||(B={}));class x extends Error{constructor(p,E){super(`TreeError [${p}] ${E}`)}}class O{constructor(p){this.fn=p,this._map=new WeakMap}map(p){let E=this._map.get(p);return E||(E=this.fn(p),this._map.set(p,E)),E}}},60833:function(et,Le,e){"use strict";e.d(Le,{$:function(){return p}});var o=e(91540),B=e(50908),x=e(65512),O=e(8098),S=e(45029);class p extends S.JT{onclick(R,w){this._register(o.nm(R,o.tw.CLICK,m=>w(new x.n(o.Jj(R),m))))}onmousedown(R,w){this._register(o.nm(R,o.tw.MOUSE_DOWN,m=>w(new x.n(o.Jj(R),m))))}onmouseover(R,w){this._register(o.nm(R,o.tw.MOUSE_OVER,m=>w(new x.n(o.Jj(R),m))))}onmouseleave(R,w){this._register(o.nm(R,o.tw.MOUSE_LEAVE,m=>w(new x.n(o.Jj(R),m))))}onkeydown(R,w){this._register(o.nm(R,o.tw.KEY_DOWN,m=>w(new B.y(m))))}onkeyup(R,w){this._register(o.nm(R,o.tw.KEY_UP,m=>w(new B.y(m))))}oninput(R,w){this._register(o.nm(R,o.tw.INPUT,w))}onblur(R,w){this._register(o.nm(R,o.tw.BLUR,w))}onfocus(R,w){this._register(o.nm(R,o.tw.FOCUS,w))}ignoreGesture(R){return O.o.ignoreTarget(R)}}},44454:function(et,Le,e){"use strict";e.d(Le,{E:function(){return B},H:function(){return o}});function o(x,O){const S=x;typeof S.vscodeWindowId!="number"&&Object.defineProperty(S,"vscodeWindowId",{get:()=>O})}const B=window},43263:function(et,Le,e){"use strict";e.d(Le,{Wi:function(){return S},Z0:function(){return p},aU:function(){return O},eZ:function(){return R},wY:function(){return E},xw:function(){return w}});var o=e(79329),B=e(45029),x=e(61652);class O extends B.JT{constructor(g,a="",r="",i=!0,n){super(),this._onDidChange=this._register(new o.Q5),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=g,this._label=a,this._cssClass=r,this._enabled=i,this._actionCallback=n}get id(){return this._id}get label(){return this._label}set label(g){this._setLabel(g)}_setLabel(g){this._label!==g&&(this._label=g,this._onDidChange.fire({label:g}))}get tooltip(){return this._tooltip||""}set tooltip(g){this._setTooltip(g)}_setTooltip(g){this._tooltip!==g&&(this._tooltip=g,this._onDidChange.fire({tooltip:g}))}get class(){return this._cssClass}set class(g){this._setClass(g)}_setClass(g){this._cssClass!==g&&(this._cssClass=g,this._onDidChange.fire({class:g}))}get enabled(){return this._enabled}set enabled(g){this._setEnabled(g)}_setEnabled(g){this._enabled!==g&&(this._enabled=g,this._onDidChange.fire({enabled:g}))}get checked(){return this._checked}set checked(g){this._setChecked(g)}_setChecked(g){this._checked!==g&&(this._checked=g,this._onDidChange.fire({checked:g}))}run(g,a){return Ft(this,null,function*(){this._actionCallback&&(yield this._actionCallback(g))})}}class S extends B.JT{constructor(){super(...arguments),this._onWillRun=this._register(new o.Q5),this.onWillRun=this._onWillRun.event,this._onDidRun=this._register(new o.Q5),this.onDidRun=this._onDidRun.event}run(g,a){return Ft(this,null,function*(){if(!g.enabled)return;this._onWillRun.fire({action:g});let r;try{yield this.runAction(g,a)}catch(i){r=i}this._onDidRun.fire({action:g,error:r})})}runAction(g,a){return Ft(this,null,function*(){yield g.run(a)})}}class p{constructor(){this.id=p.ID,this.label="",this.tooltip="",this.class="separator",this.enabled=!1,this.checked=!1}static join(...g){let a=[];for(const r of g)r.length&&(a.length?a=[...a,new p,...r]:a=r);return a}run(){return Ft(this,null,function*(){})}}p.ID="vs.actions.separator";class E{get actions(){return this._actions}constructor(g,a,r,i){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=g,this.label=a,this.class=i,this._actions=r}run(){return Ft(this,null,function*(){})}}class R extends O{constructor(){super(R.ID,x.NC("submenu.empty","(empty)"),void 0,!1)}}R.ID="vs.actions.empty";function w(m){var g;return{id:m.id,label:m.label,class:m.class,enabled:(g=m.enabled)!==null&&g!==void 0?g:!0,checked:m.checked,run:(...a)=>Ft(this,null,function*(){return m.run(...a)}),tooltip:m.label}}},71221:function(et,Le,e){"use strict";e.d(Le,{BV:function(){return P},EB:function(){return c},Gb:function(){return o},H9:function(){return I},HW:function(){return E},JH:function(){return B},KO:function(){return g},LS:function(){return O},Of:function(){return n},Rs:function(){return r},W$:function(){return W},XY:function(){return i},Xh:function(){return u},Zv:function(){return D},_2:function(){return _},_i:function(){return G},al:function(){return y},db:function(){return b},fS:function(){return x},f_:function(){return Z},fv:function(){return z},kX:function(){return a},mw:function(){return w},nW:function(){return A},ry:function(){return S},tT:function(){return K},vA:function(){return C},vM:function(){return R},w6:function(){return l},zI:function(){return f},zy:function(){return m}});function o(j,Y=0){return j[j.length-(1+Y)]}function B(j){if(j.length===0)throw new Error("Invalid tail call");return[j.slice(0,j.length-1),j[j.length-1]]}function x(j,Y,H=(Q,ie)=>Q===ie){if(j===Y)return!0;if(!j||!Y||j.length!==Y.length)return!1;for(let Q=0,ie=j.length;Q<ie;Q++)if(!H(j[Q],Y[Q]))return!1;return!0}function O(j,Y){const H=j.length-1;Y<H&&(j[Y]=j[H]),j.pop()}function S(j,Y,H){return p(j.length,Q=>H(j[Q],Y))}function p(j,Y){let H=0,Q=j-1;for(;H<=Q;){const ie=(H+Q)/2|0,te=Y(ie);if(te<0)H=ie+1;else if(te>0)Q=ie-1;else return ie}return-(H+1)}function E(j,Y,H){if(j=j|0,j>=Y.length)throw new TypeError("invalid index");const Q=Y[Math.floor(Y.length*Math.random())],ie=[],te=[],se=[];for(const ne of Y){const ee=H(ne,Q);ee<0?ie.push(ne):ee>0?te.push(ne):se.push(ne)}return j<ie.length?E(j,ie,H):j<ie.length+se.length?se[0]:E(j-(ie.length+se.length),te,H)}function R(j,Y){const H=[];let Q;for(const ie of j.slice(0).sort(Y))!Q||Y(Q[0],ie)!==0?(Q=[ie],H.push(Q)):Q.push(ie);return H}function*w(j,Y){let H,Q;for(const ie of j)Q!==void 0&&Y(Q,ie)?H.push(ie):(H&&(yield H),H=[ie]),Q=ie;H&&(yield H)}function m(j,Y){for(let H=0;H<=j.length;H++)Y(H===0?void 0:j[H-1],H===j.length?void 0:j[H])}function g(j,Y){for(let H=0;H<j.length;H++)Y(H===0?void 0:j[H-1],j[H],H+1===j.length?void 0:j[H+1])}function a(j){return j.filter(Y=>!!Y)}function r(j){let Y=0;for(let H=0;H<j.length;H++)j[H]&&(j[Y]=j[H],Y+=1);j.length=Y}function i(j){return!Array.isArray(j)||j.length===0}function n(j){return Array.isArray(j)&&j.length>0}function c(j,Y=H=>H){const H=new Set;return j.filter(Q=>{const ie=Y(Q);return H.has(ie)?!1:(H.add(ie),!0)})}function u(j,Y){return j.length>0?j[0]:Y}function l(j,Y){let H=typeof Y=="number"?j:0;typeof Y=="number"?H=j:(H=0,Y=j);const Q=[];if(H<=Y)for(let ie=H;ie<Y;ie++)Q.push(ie);else for(let ie=H;ie>Y;ie--)Q.push(ie);return Q}function D(j,Y,H){const Q=j.slice(0,Y),ie=j.slice(Y);return Q.concat(H,ie)}function f(j,Y){const H=j.indexOf(Y);H>-1&&(j.splice(H,1),j.unshift(Y))}function y(j,Y){const H=j.indexOf(Y);H>-1&&(j.splice(H,1),j.push(Y))}function C(j,Y){for(const H of Y)j.push(H)}function _(j){return Array.isArray(j)?j:[j]}function N(j,Y,H){const Q=k(j,Y),ie=j.length,te=H.length;j.length=ie+te;for(let se=ie-1;se>=Q;se--)j[se+te]=j[se];for(let se=0;se<te;se++)j[se+Q]=H[se]}function b(j,Y,H,Q){const ie=k(j,Y);let te=j.splice(ie,H);return te===void 0&&(te=[]),N(j,ie,Q),te}function k(j,Y){return Y<0?Math.max(Y+j.length,0):Math.min(Y,j.length)}var V;(function(j){function Y(te){return te<0}j.isLessThan=Y;function H(te){return te<=0}j.isLessThanOrEqual=H;function Q(te){return te>0}j.isGreaterThan=Q;function ie(te){return te===0}j.isNeitherLessOrGreaterThan=ie,j.greaterThan=1,j.lessThan=-1,j.neitherLessOrGreaterThan=0})(V||(V={}));function K(j,Y){return(H,Q)=>Y(j(H),j(Q))}function Z(...j){return(Y,H)=>{for(const Q of j){const ie=Q(Y,H);if(!V.isNeitherLessOrGreaterThan(ie))return ie}return V.neitherLessOrGreaterThan}}const z=(j,Y)=>j-Y,A=(j,Y)=>z(j?1:0,Y?1:0);function P(j){return(Y,H)=>-j(Y,H)}class I{constructor(Y){this.items=Y,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(Y){let H=this.firstIdx;for(;H<this.items.length&&Y(this.items[H]);)H++;const Q=H===this.firstIdx?null:this.items.slice(this.firstIdx,H);return this.firstIdx=H,Q}takeFromEndWhile(Y){let H=this.lastIdx;for(;H>=0&&Y(this.items[H]);)H--;const Q=H===this.lastIdx?null:this.items.slice(H+1,this.lastIdx+1);return this.lastIdx=H,Q}peek(){if(this.length!==0)return this.items[this.firstIdx]}dequeue(){const Y=this.items[this.firstIdx];return this.firstIdx++,Y}takeCount(Y){const H=this.items.slice(this.firstIdx,this.firstIdx+Y);return this.firstIdx+=Y,H}}class W{constructor(Y){this.iterate=Y}toArray(){const Y=[];return this.iterate(H=>(Y.push(H),!0)),Y}filter(Y){return new W(H=>this.iterate(Q=>Y(Q)?H(Q):!0))}map(Y){return new W(H=>this.iterate(Q=>H(Y(Q))))}findLast(Y){let H;return this.iterate(Q=>(Y(Q)&&(H=Q),!0)),H}findLastMaxBy(Y){let H,Q=!0;return this.iterate(ie=>((Q||V.isGreaterThan(Y(ie,H)))&&(Q=!1,H=ie),!0)),H}}W.empty=new W(j=>{});class G{constructor(Y){this._indexMap=Y}static createSortPermutation(Y,H){const Q=Array.from(Y.keys()).sort((ie,te)=>H(Y[ie],Y[te]));return new G(Q)}apply(Y){return Y.map((H,Q)=>Y[this._indexMap[Q]])}inverse(){const Y=this._indexMap.slice();for(let H=0;H<this._indexMap.length;H++)Y[this._indexMap[H]]=H;return new G(Y)}}},15864:function(et,Le,e){"use strict";e.d(Le,{BS:function(){return w},Fr:function(){return a},J_:function(){return p},Jw:function(){return O},Y0:function(){return g},b1:function(){return E},cn:function(){return S},dF:function(){return o},hV:function(){return R},ti:function(){return x},vm:function(){return m}});function o(r,i){const n=B(r,i);if(n!==-1)return r[n]}function B(r,i,n=r.length-1){for(let c=n;c>=0;c--){const u=r[c];if(i(u))return c}return-1}function x(r,i){const n=O(r,i);return n===-1?void 0:r[n]}function O(r,i,n=0,c=r.length){let u=n,l=c;for(;u<l;){const D=Math.floor((u+l)/2);i(r[D])?u=D+1:l=D}return u-1}function S(r,i){const n=p(r,i);return n===r.length?void 0:r[n]}function p(r,i,n=0,c=r.length){let u=n,l=c;for(;u<l;){const D=Math.floor((u+l)/2);i(r[D])?l=D:u=D+1}return u}class E{constructor(i){this._array=i,this._findLastMonotonousLastIdx=0}findLastMonotonous(i){if(E.assertInvariants){if(this._prevFindLastPredicate){for(const c of this._array)if(this._prevFindLastPredicate(c)&&!i(c))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=i}const n=O(this._array,i,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=n+1,n===-1?void 0:this._array[n]}}E.assertInvariants=!1;function R(r,i){if(r.length===0)return;let n=r[0];for(let c=1;c<r.length;c++){const u=r[c];i(u,n)>0&&(n=u)}return n}function w(r,i){if(r.length===0)return;let n=r[0];for(let c=1;c<r.length;c++){const u=r[c];i(u,n)>=0&&(n=u)}return n}function m(r,i){return R(r,(n,c)=>-i(n,c))}function g(r,i){if(r.length===0)return-1;let n=0;for(let c=1;c<r.length;c++){const u=r[c];i(u,r[n])>0&&(n=c)}return n}function a(r,i){for(const n of r){const c=i(n);if(c!==void 0)return c}}},9751:function(et,Le,e){"use strict";e.d(Le,{DM:function(){return p},eZ:function(){return S},ok:function(){return B},vE:function(){return x},wN:function(){return O}});var o=e(25602);function B(E,R){if(!E)throw new Error(R?`Assertion failed (${R})`:"Assertion Failed")}function x(E,R="Unreachable"){throw new Error(R)}function O(E){E||(0,o.dL)(new o.he("Soft Assertion Failed"))}function S(E){if(!E()){debugger;E(),(0,o.dL)(new o.he("Assertion Failed"))}}function p(E,R){let w=0;for(;w<E.length-1;){const m=E[w],g=E[w+1];if(!R(m,g))return!1;w++}return!0}},74696:function(et,Le,e){"use strict";e.d(Le,{Aq:function(){return V},CR:function(){return b},J8:function(){return E},PG:function(){return R},Ps:function(){return u},R5:function(){return N},Vg:function(){return c},Vs:function(){return n},_F:function(){return l},eP:function(){return w},hF:function(){return _},jT:function(){return k},jg:function(){return y},pY:function(){return f},rH:function(){return i},vp:function(){return r},y5:function(){return C},zS:function(){return Z},zh:function(){return D}});var o=e(65642),B=e(25602),x=e(79329),O=e(45029),S=e(15122),p=e(23733);function E(z){return!!z&&typeof z.then=="function"}function R(z){const A=new o.AU,P=z(A.token),I=new Promise((W,G)=>{const j=A.token.onCancellationRequested(()=>{j.dispose(),G(new B.FU)});Promise.resolve(P).then(Y=>{j.dispose(),A.dispose(),W(Y)},Y=>{j.dispose(),A.dispose(),G(Y)})});return new class{cancel(){A.cancel(),A.dispose()}then(W,G){return I.then(W,G)}catch(W){return this.then(void 0,W)}finally(W){return I.finally(W)}}}function w(z,A,P){return new Promise((I,W)=>{const G=A.onCancellationRequested(()=>{G.dispose(),I(P)});z.then(I,W).finally(()=>G.dispose())})}class m{constructor(){this.isDisposed=!1,this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(A){if(this.isDisposed)return Promise.reject(new Error("Throttler is disposed"));if(this.activePromise){if(this.queuedPromiseFactory=A,!this.queuedPromise){const P=()=>{if(this.queuedPromise=null,this.isDisposed)return;const I=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,I};this.queuedPromise=new Promise(I=>{this.activePromise.then(P,P).then(I)})}return new Promise((P,I)=>{this.queuedPromise.then(P,I)})}return this.activePromise=A(),new Promise((P,I)=>{this.activePromise.then(W=>{this.activePromise=null,P(W)},W=>{this.activePromise=null,I(W)})})}dispose(){this.isDisposed=!0}}const g=(z,A)=>{let P=!0;const I=setTimeout(()=>{P=!1,A()},z);return{isTriggered:()=>P,dispose:()=>{clearTimeout(I),P=!1}}},a=z=>{let A=!0;return queueMicrotask(()=>{A&&(A=!1,z())}),{isTriggered:()=>A,dispose:()=>{A=!1}}};class r{constructor(A){this.defaultDelay=A,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(A,P=this.defaultDelay){this.task=A,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((W,G)=>{this.doResolve=W,this.doReject=G}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const W=this.task;return this.task=null,W()}}));const I=()=>{var W;this.deferred=null,(W=this.doResolve)===null||W===void 0||W.call(this,null)};return this.deferred=P===p.n?a(I):g(P,I),this.completionPromise}isTriggered(){var A;return!!(!((A=this.deferred)===null||A===void 0)&&A.isTriggered())}cancel(){var A;this.cancelTimeout(),this.completionPromise&&((A=this.doReject)===null||A===void 0||A.call(this,new B.FU),this.completionPromise=null)}cancelTimeout(){var A;(A=this.deferred)===null||A===void 0||A.dispose(),this.deferred=null}dispose(){this.cancel()}}class i{constructor(A){this.delayer=new r(A),this.throttler=new m}trigger(A,P){return this.delayer.trigger(()=>this.throttler.queue(A),P)}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose(),this.throttler.dispose()}}function n(z,A){return A?new Promise((P,I)=>{const W=setTimeout(()=>{G.dispose(),P()},z),G=A.onCancellationRequested(()=>{clearTimeout(W),G.dispose(),I(new B.FU)})}):R(P=>n(z,P))}function c(z,A=0,P){const I=setTimeout(()=>{z(),P&&W.dispose()},A),W=(0,O.OF)(()=>{clearTimeout(I),P==null||P.deleteAndLeak(W)});return P==null||P.add(W),W}function u(z,A=I=>!!I,P=null){let I=0;const W=z.length,G=()=>{if(I>=W)return Promise.resolve(P);const j=z[I++];return Promise.resolve(j()).then(H=>A(H)?Promise.resolve(H):G())};return G()}class l{constructor(A,P){this._token=-1,typeof A=="function"&&typeof P=="number"&&this.setIfNotSet(A,P)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(A,P){this.cancel(),this._token=setTimeout(()=>{this._token=-1,A()},P)}setIfNotSet(A,P){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,A()},P))}}class D{constructor(){this.disposable=void 0}cancel(){var A;(A=this.disposable)===null||A===void 0||A.dispose(),this.disposable=void 0}cancelAndSet(A,P,I=globalThis){this.cancel();const W=I.setInterval(()=>{A()},P);this.disposable=(0,O.OF)(()=>{I.clearInterval(W),this.disposable=void 0})}dispose(){this.cancel()}}class f{constructor(A,P){this.timeoutToken=-1,this.runner=A,this.timeout=P,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(A=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,A)}get delay(){return this.timeout}set delay(A){this.timeout=A}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var A;(A=this.runner)===null||A===void 0||A.call(this)}}let y,C;(function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?C=(z,A)=>{(0,S.fn)(()=>{if(P)return;const I=Date.now()+15;A(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,I-Date.now())}}))});let P=!1;return{dispose(){P||(P=!0)}}}:C=(z,A,P)=>{const I=z.requestIdleCallback(A,typeof P=="number"?{timeout:P}:void 0);let W=!1;return{dispose(){W||(W=!0,z.cancelIdleCallback(I))}}},y=z=>C(globalThis,z)})();class _{constructor(A,P){this._didRun=!1,this._executor=()=>{try{this._value=P()}catch(I){this._error=I}finally{this._didRun=!0}},this._handle=C(A,()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class N extends _{constructor(A){super(globalThis,A)}}class b{get isRejected(){var A;return((A=this.outcome)===null||A===void 0?void 0:A.outcome)===1}get isSettled(){return!!this.outcome}constructor(){this.p=new Promise((A,P)=>{this.completeCallback=A,this.errorCallback=P})}complete(A){return new Promise(P=>{this.completeCallback(A),this.outcome={outcome:0,value:A},P()})}error(A){return new Promise(P=>{this.errorCallback(A),this.outcome={outcome:1,value:A},P()})}cancel(){return this.error(new B.FU)}}var k;(function(z){function A(I){return Ft(this,null,function*(){let W;const G=yield Promise.all(I.map(j=>j.then(Y=>Y,Y=>{W||(W=Y)})));if(typeof W!="undefined")throw W;return G})}z.settled=A;function P(I){return new Promise((W,G)=>Ft(this,null,function*(){try{yield I(W,G)}catch(j){G(j)}}))}z.withAsyncBody=P})(k||(k={}));class V{static fromArray(A){return new V(P=>{P.emitMany(A)})}static fromPromise(A){return new V(P=>Ft(this,null,function*(){P.emitMany(yield A)}))}static fromPromises(A){return new V(P=>Ft(this,null,function*(){yield Promise.all(A.map(I=>Ft(this,null,function*(){return P.emitOne(yield I)})))}))}static merge(A){return new V(P=>Ft(this,null,function*(){yield Promise.all(A.map(I=>Ft(this,null,function*(){try{for(var W=bo(I),G,j,Y;G=!(j=yield W.next()).done;G=!1){const H=j.value;P.emitOne(H)}}catch(j){Y=[j]}finally{try{G&&(j=W.return)&&(yield j.call(W))}finally{if(Y)throw Y[0]}}})))}))}constructor(A,P){this._state=0,this._results=[],this._error=null,this._onReturn=P,this._onStateChanged=new x.Q5,queueMicrotask(()=>Ft(this,null,function*(){const I={emitOne:W=>this.emitOne(W),emitMany:W=>this.emitMany(W),reject:W=>this.reject(W)};try{yield Promise.resolve(A(I)),this.resolve()}catch(W){this.reject(W)}finally{I.emitOne=void 0,I.emitMany=void 0,I.reject=void 0}}))}[Symbol.asyncIterator](){let A=0;return{next:()=>Ft(this,null,function*(){do{if(this._state===2)throw this._error;if(A<this._results.length)return{done:!1,value:this._results[A++]};if(this._state===1)return{done:!0,value:void 0};yield x.ju.toPromise(this._onStateChanged.event)}while(!0)}),return:()=>Ft(this,null,function*(){var P;return(P=this._onReturn)===null||P===void 0||P.call(this),{done:!0,value:void 0}})}}static map(A,P){return new V(I=>Ft(this,null,function*(){try{for(var W=bo(A),G,j,Y;G=!(j=yield W.next()).done;G=!1){const H=j.value;I.emitOne(P(H))}}catch(j){Y=[j]}finally{try{G&&(j=W.return)&&(yield j.call(W))}finally{if(Y)throw Y[0]}}}))}map(A){return V.map(this,A)}static filter(A,P){return new V(I=>Ft(this,null,function*(){try{for(var W=bo(A),G,j,Y;G=!(j=yield W.next()).done;G=!1){const H=j.value;P(H)&&I.emitOne(H)}}catch(j){Y=[j]}finally{try{G&&(j=W.return)&&(yield j.call(W))}finally{if(Y)throw Y[0]}}}))}filter(A){return V.filter(this,A)}static coalesce(A){return V.filter(A,P=>!!P)}coalesce(){return V.coalesce(this)}static toPromise(A){return Ft(this,null,function*(){const P=[];try{for(var I=bo(A),W,G,j;W=!(G=yield I.next()).done;W=!1){const Y=G.value;P.push(Y)}}catch(G){j=[G]}finally{try{W&&(G=I.return)&&(yield G.call(I))}finally{if(j)throw j[0]}}return P})}toPromise(){return V.toPromise(this)}emitOne(A){this._state===0&&(this._results.push(A),this._onStateChanged.fire())}emitMany(A){this._state===0&&(this._results=this._results.concat(A),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(A){this._state===0&&(this._state=2,this._error=A,this._onStateChanged.fire())}}V.EMPTY=V.fromArray([]);class K extends V{constructor(A,P){super(P),this._source=A}cancel(){this._source.cancel()}}function Z(z){const A=new o.AU,P=z(A.token);return new K(A,I=>Ft(this,null,function*(){const W=A.token.onCancellationRequested(()=>{W.dispose(),A.dispose(),I.reject(new B.FU)});try{try{for(var G=bo(P),j,Y,H;j=!(Y=yield G.next()).done;j=!1){const Q=Y.value;if(A.token.isCancellationRequested)return;I.emitOne(Q)}}catch(Y){H=[Y]}finally{try{j&&(Y=G.return)&&(yield Y.call(G))}finally{if(H)throw H[0]}}W.dispose(),A.dispose()}catch(Q){W.dispose(),A.dispose(),I.reject(Q)}}))}},79475:function(et,Le,e){"use strict";e.d(Le,{Ag:function(){return w},Cg:function(){return a},KN:function(){return p},Q$:function(){return g},T4:function(){return m},mP:function(){return E},oq:function(){return R}});var o=e(20359),B=e(91620).lW;const x=typeof B!="undefined",O=new o.o(()=>new Uint8Array(256));let S;class p{static wrap(i){return x&&!B.isBuffer(i)&&(i=B.from(i.buffer,i.byteOffset,i.byteLength)),new p(i)}constructor(i){this.buffer=i,this.byteLength=this.buffer.byteLength}toString(){return x?this.buffer.toString():(S||(S=new TextDecoder),S.decode(this.buffer))}}function E(r,i){return r[i+0]<<0>>>0|r[i+1]<<8>>>0}function R(r,i,n){r[n+0]=i&255,i=i>>>8,r[n+1]=i&255}function w(r,i){return r[i]*Ao(2,24)+r[i+1]*Ao(2,16)+r[i+2]*Ao(2,8)+r[i+3]}function m(r,i,n){r[n+3]=i,i=i>>>8,r[n+2]=i,i=i>>>8,r[n+1]=i,i=i>>>8,r[n]=i}function g(r,i){return r[i]}function a(r,i,n){r[n]=i}},78329:function(et,Le,e){"use strict";e.d(Le,{bQ:function(){return x},t2:function(){return B}});function o(O){return O}class B{constructor(S,p){this.lastCache=void 0,this.lastArgKey=void 0,typeof S=="function"?(this._fn=S,this._computeKey=o):(this._fn=p,this._computeKey=S.getCacheKey)}get(S){const p=this._computeKey(S);return this.lastArgKey!==p&&(this.lastArgKey=p,this.lastCache=this._fn(S)),this.lastCache}}class x{get cachedValues(){return this._map}constructor(S,p){this._map=new Map,this._map2=new Map,typeof S=="function"?(this._fn=S,this._computeKey=o):(this._fn=p,this._computeKey=S.getCacheKey)}get(S){const p=this._computeKey(S);if(this._map2.has(p))return this._map2.get(p);const E=this._fn(S);return this._map.set(S,E),this._map2.set(p,E),E}}},65642:function(et,Le,e){"use strict";e.d(Le,{AU:function(){return S},Ts:function(){return x},bP:function(){return p}});var o=e(79329);const B=Object.freeze(function(E,R){const w=setTimeout(E.bind(R),0);return{dispose(){clearTimeout(w)}}});var x;(function(E){function R(w){return w===E.None||w===E.Cancelled||w instanceof O?!0:!w||typeof w!="object"?!1:typeof w.isCancellationRequested=="boolean"&&typeof w.onCancellationRequested=="function"}E.isCancellationToken=R,E.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:o.ju.None}),E.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:B})})(x||(x={}));class O{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?B:(this._emitter||(this._emitter=new o.Q5),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class S{constructor(R){this._token=void 0,this._parentListener=void 0,this._parentListener=R&&R.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new O),this._token}cancel(){this._token?this._token instanceof O&&this._token.cancel():this._token=x.Cancelled}dispose(R=!1){var w;R&&this.cancel(),(w=this._parentListener)===null||w===void 0||w.dispose(),this._token?this._token instanceof O&&this._token.dispose():this._token=x.None}}function p(E){const R=new S;return E.add({dispose(){R.cancel()}}),R.token}},24752:function(et,Le,e){"use strict";e.d(Le,{l:function(){return O}});var o=e(43313);const B={add:(0,o.z)("add",6e4),plus:(0,o.z)("plus",6e4),gistNew:(0,o.z)("gist-new",6e4),repoCreate:(0,o.z)("repo-create",6e4),lightbulb:(0,o.z)("lightbulb",60001),lightBulb:(0,o.z)("light-bulb",60001),repo:(0,o.z)("repo",60002),repoDelete:(0,o.z)("repo-delete",60002),gistFork:(0,o.z)("gist-fork",60003),repoForked:(0,o.z)("repo-forked",60003),gitPullRequest:(0,o.z)("git-pull-request",60004),gitPullRequestAbandoned:(0,o.z)("git-pull-request-abandoned",60004),recordKeys:(0,o.z)("record-keys",60005),keyboard:(0,o.z)("keyboard",60005),tag:(0,o.z)("tag",60006),gitPullRequestLabel:(0,o.z)("git-pull-request-label",60006),tagAdd:(0,o.z)("tag-add",60006),tagRemove:(0,o.z)("tag-remove",60006),person:(0,o.z)("person",60007),personFollow:(0,o.z)("person-follow",60007),personOutline:(0,o.z)("person-outline",60007),personFilled:(0,o.z)("person-filled",60007),gitBranch:(0,o.z)("git-branch",60008),gitBranchCreate:(0,o.z)("git-branch-create",60008),gitBranchDelete:(0,o.z)("git-branch-delete",60008),sourceControl:(0,o.z)("source-control",60008),mirror:(0,o.z)("mirror",60009),mirrorPublic:(0,o.z)("mirror-public",60009),star:(0,o.z)("star",60010),starAdd:(0,o.z)("star-add",60010),starDelete:(0,o.z)("star-delete",60010),starEmpty:(0,o.z)("star-empty",60010),comment:(0,o.z)("comment",60011),commentAdd:(0,o.z)("comment-add",60011),alert:(0,o.z)("alert",60012),warning:(0,o.z)("warning",60012),search:(0,o.z)("search",60013),searchSave:(0,o.z)("search-save",60013),logOut:(0,o.z)("log-out",60014),signOut:(0,o.z)("sign-out",60014),logIn:(0,o.z)("log-in",60015),signIn:(0,o.z)("sign-in",60015),eye:(0,o.z)("eye",60016),eyeUnwatch:(0,o.z)("eye-unwatch",60016),eyeWatch:(0,o.z)("eye-watch",60016),circleFilled:(0,o.z)("circle-filled",60017),primitiveDot:(0,o.z)("primitive-dot",60017),closeDirty:(0,o.z)("close-dirty",60017),debugBreakpoint:(0,o.z)("debug-breakpoint",60017),debugBreakpointDisabled:(0,o.z)("debug-breakpoint-disabled",60017),debugHint:(0,o.z)("debug-hint",60017),terminalDecorationSuccess:(0,o.z)("terminal-decoration-success",60017),primitiveSquare:(0,o.z)("primitive-square",60018),edit:(0,o.z)("edit",60019),pencil:(0,o.z)("pencil",60019),info:(0,o.z)("info",60020),issueOpened:(0,o.z)("issue-opened",60020),gistPrivate:(0,o.z)("gist-private",60021),gitForkPrivate:(0,o.z)("git-fork-private",60021),lock:(0,o.z)("lock",60021),mirrorPrivate:(0,o.z)("mirror-private",60021),close:(0,o.z)("close",60022),removeClose:(0,o.z)("remove-close",60022),x:(0,o.z)("x",60022),repoSync:(0,o.z)("repo-sync",60023),sync:(0,o.z)("sync",60023),clone:(0,o.z)("clone",60024),desktopDownload:(0,o.z)("desktop-download",60024),beaker:(0,o.z)("beaker",60025),microscope:(0,o.z)("microscope",60025),vm:(0,o.z)("vm",60026),deviceDesktop:(0,o.z)("device-desktop",60026),file:(0,o.z)("file",60027),fileText:(0,o.z)("file-text",60027),more:(0,o.z)("more",60028),ellipsis:(0,o.z)("ellipsis",60028),kebabHorizontal:(0,o.z)("kebab-horizontal",60028),mailReply:(0,o.z)("mail-reply",60029),reply:(0,o.z)("reply",60029),organization:(0,o.z)("organization",60030),organizationFilled:(0,o.z)("organization-filled",60030),organizationOutline:(0,o.z)("organization-outline",60030),newFile:(0,o.z)("new-file",60031),fileAdd:(0,o.z)("file-add",60031),newFolder:(0,o.z)("new-folder",60032),fileDirectoryCreate:(0,o.z)("file-directory-create",60032),trash:(0,o.z)("trash",60033),trashcan:(0,o.z)("trashcan",60033),history:(0,o.z)("history",60034),clock:(0,o.z)("clock",60034),folder:(0,o.z)("folder",60035),fileDirectory:(0,o.z)("file-directory",60035),symbolFolder:(0,o.z)("symbol-folder",60035),logoGithub:(0,o.z)("logo-github",60036),markGithub:(0,o.z)("mark-github",60036),github:(0,o.z)("github",60036),terminal:(0,o.z)("terminal",60037),console:(0,o.z)("console",60037),repl:(0,o.z)("repl",60037),zap:(0,o.z)("zap",60038),symbolEvent:(0,o.z)("symbol-event",60038),error:(0,o.z)("error",60039),stop:(0,o.z)("stop",60039),variable:(0,o.z)("variable",60040),symbolVariable:(0,o.z)("symbol-variable",60040),array:(0,o.z)("array",60042),symbolArray:(0,o.z)("symbol-array",60042),symbolModule:(0,o.z)("symbol-module",60043),symbolPackage:(0,o.z)("symbol-package",60043),symbolNamespace:(0,o.z)("symbol-namespace",60043),symbolObject:(0,o.z)("symbol-object",60043),symbolMethod:(0,o.z)("symbol-method",60044),symbolFunction:(0,o.z)("symbol-function",60044),symbolConstructor:(0,o.z)("symbol-constructor",60044),symbolBoolean:(0,o.z)("symbol-boolean",60047),symbolNull:(0,o.z)("symbol-null",60047),symbolNumeric:(0,o.z)("symbol-numeric",60048),symbolNumber:(0,o.z)("symbol-number",60048),symbolStructure:(0,o.z)("symbol-structure",60049),symbolStruct:(0,o.z)("symbol-struct",60049),symbolParameter:(0,o.z)("symbol-parameter",60050),symbolTypeParameter:(0,o.z)("symbol-type-parameter",60050),symbolKey:(0,o.z)("symbol-key",60051),symbolText:(0,o.z)("symbol-text",60051),symbolReference:(0,o.z)("symbol-reference",60052),goToFile:(0,o.z)("go-to-file",60052),symbolEnum:(0,o.z)("symbol-enum",60053),symbolValue:(0,o.z)("symbol-value",60053),symbolRuler:(0,o.z)("symbol-ruler",60054),symbolUnit:(0,o.z)("symbol-unit",60054),activateBreakpoints:(0,o.z)("activate-breakpoints",60055),archive:(0,o.z)("archive",60056),arrowBoth:(0,o.z)("arrow-both",60057),arrowDown:(0,o.z)("arrow-down",60058),arrowLeft:(0,o.z)("arrow-left",60059),arrowRight:(0,o.z)("arrow-right",60060),arrowSmallDown:(0,o.z)("arrow-small-down",60061),arrowSmallLeft:(0,o.z)("arrow-small-left",60062),arrowSmallRight:(0,o.z)("arrow-small-right",60063),arrowSmallUp:(0,o.z)("arrow-small-up",60064),arrowUp:(0,o.z)("arrow-up",60065),bell:(0,o.z)("bell",60066),bold:(0,o.z)("bold",60067),book:(0,o.z)("book",60068),bookmark:(0,o.z)("bookmark",60069),debugBreakpointConditionalUnverified:(0,o.z)("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:(0,o.z)("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:(0,o.z)("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:(0,o.z)("debug-breakpoint-data-unverified",60072),debugBreakpointData:(0,o.z)("debug-breakpoint-data",60073),debugBreakpointDataDisabled:(0,o.z)("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:(0,o.z)("debug-breakpoint-log-unverified",60074),debugBreakpointLog:(0,o.z)("debug-breakpoint-log",60075),debugBreakpointLogDisabled:(0,o.z)("debug-breakpoint-log-disabled",60075),briefcase:(0,o.z)("briefcase",60076),broadcast:(0,o.z)("broadcast",60077),browser:(0,o.z)("browser",60078),bug:(0,o.z)("bug",60079),calendar:(0,o.z)("calendar",60080),caseSensitive:(0,o.z)("case-sensitive",60081),check:(0,o.z)("check",60082),checklist:(0,o.z)("checklist",60083),chevronDown:(0,o.z)("chevron-down",60084),chevronLeft:(0,o.z)("chevron-left",60085),chevronRight:(0,o.z)("chevron-right",60086),chevronUp:(0,o.z)("chevron-up",60087),chromeClose:(0,o.z)("chrome-close",60088),chromeMaximize:(0,o.z)("chrome-maximize",60089),chromeMinimize:(0,o.z)("chrome-minimize",60090),chromeRestore:(0,o.z)("chrome-restore",60091),circleOutline:(0,o.z)("circle-outline",60092),circle:(0,o.z)("circle",60092),debugBreakpointUnverified:(0,o.z)("debug-breakpoint-unverified",60092),terminalDecorationIncomplete:(0,o.z)("terminal-decoration-incomplete",60092),circleSlash:(0,o.z)("circle-slash",60093),circuitBoard:(0,o.z)("circuit-board",60094),clearAll:(0,o.z)("clear-all",60095),clippy:(0,o.z)("clippy",60096),closeAll:(0,o.z)("close-all",60097),cloudDownload:(0,o.z)("cloud-download",60098),cloudUpload:(0,o.z)("cloud-upload",60099),code:(0,o.z)("code",60100),collapseAll:(0,o.z)("collapse-all",60101),colorMode:(0,o.z)("color-mode",60102),commentDiscussion:(0,o.z)("comment-discussion",60103),creditCard:(0,o.z)("credit-card",60105),dash:(0,o.z)("dash",60108),dashboard:(0,o.z)("dashboard",60109),database:(0,o.z)("database",60110),debugContinue:(0,o.z)("debug-continue",60111),debugDisconnect:(0,o.z)("debug-disconnect",60112),debugPause:(0,o.z)("debug-pause",60113),debugRestart:(0,o.z)("debug-restart",60114),debugStart:(0,o.z)("debug-start",60115),debugStepInto:(0,o.z)("debug-step-into",60116),debugStepOut:(0,o.z)("debug-step-out",60117),debugStepOver:(0,o.z)("debug-step-over",60118),debugStop:(0,o.z)("debug-stop",60119),debug:(0,o.z)("debug",60120),deviceCameraVideo:(0,o.z)("device-camera-video",60121),deviceCamera:(0,o.z)("device-camera",60122),deviceMobile:(0,o.z)("device-mobile",60123),diffAdded:(0,o.z)("diff-added",60124),diffIgnored:(0,o.z)("diff-ignored",60125),diffModified:(0,o.z)("diff-modified",60126),diffRemoved:(0,o.z)("diff-removed",60127),diffRenamed:(0,o.z)("diff-renamed",60128),diff:(0,o.z)("diff",60129),diffSidebyside:(0,o.z)("diff-sidebyside",60129),discard:(0,o.z)("discard",60130),editorLayout:(0,o.z)("editor-layout",60131),emptyWindow:(0,o.z)("empty-window",60132),exclude:(0,o.z)("exclude",60133),extensions:(0,o.z)("extensions",60134),eyeClosed:(0,o.z)("eye-closed",60135),fileBinary:(0,o.z)("file-binary",60136),fileCode:(0,o.z)("file-code",60137),fileMedia:(0,o.z)("file-media",60138),filePdf:(0,o.z)("file-pdf",60139),fileSubmodule:(0,o.z)("file-submodule",60140),fileSymlinkDirectory:(0,o.z)("file-symlink-directory",60141),fileSymlinkFile:(0,o.z)("file-symlink-file",60142),fileZip:(0,o.z)("file-zip",60143),files:(0,o.z)("files",60144),filter:(0,o.z)("filter",60145),flame:(0,o.z)("flame",60146),foldDown:(0,o.z)("fold-down",60147),foldUp:(0,o.z)("fold-up",60148),fold:(0,o.z)("fold",60149),folderActive:(0,o.z)("folder-active",60150),folderOpened:(0,o.z)("folder-opened",60151),gear:(0,o.z)("gear",60152),gift:(0,o.z)("gift",60153),gistSecret:(0,o.z)("gist-secret",60154),gist:(0,o.z)("gist",60155),gitCommit:(0,o.z)("git-commit",60156),gitCompare:(0,o.z)("git-compare",60157),compareChanges:(0,o.z)("compare-changes",60157),gitMerge:(0,o.z)("git-merge",60158),githubAction:(0,o.z)("github-action",60159),githubAlt:(0,o.z)("github-alt",60160),globe:(0,o.z)("globe",60161),grabber:(0,o.z)("grabber",60162),graph:(0,o.z)("graph",60163),gripper:(0,o.z)("gripper",60164),heart:(0,o.z)("heart",60165),home:(0,o.z)("home",60166),horizontalRule:(0,o.z)("horizontal-rule",60167),hubot:(0,o.z)("hubot",60168),inbox:(0,o.z)("inbox",60169),issueReopened:(0,o.z)("issue-reopened",60171),issues:(0,o.z)("issues",60172),italic:(0,o.z)("italic",60173),jersey:(0,o.z)("jersey",60174),json:(0,o.z)("json",60175),kebabVertical:(0,o.z)("kebab-vertical",60176),key:(0,o.z)("key",60177),law:(0,o.z)("law",60178),lightbulbAutofix:(0,o.z)("lightbulb-autofix",60179),linkExternal:(0,o.z)("link-external",60180),link:(0,o.z)("link",60181),listOrdered:(0,o.z)("list-ordered",60182),listUnordered:(0,o.z)("list-unordered",60183),liveShare:(0,o.z)("live-share",60184),loading:(0,o.z)("loading",60185),location:(0,o.z)("location",60186),mailRead:(0,o.z)("mail-read",60187),mail:(0,o.z)("mail",60188),markdown:(0,o.z)("markdown",60189),megaphone:(0,o.z)("megaphone",60190),mention:(0,o.z)("mention",60191),milestone:(0,o.z)("milestone",60192),gitPullRequestMilestone:(0,o.z)("git-pull-request-milestone",60192),mortarBoard:(0,o.z)("mortar-board",60193),move:(0,o.z)("move",60194),multipleWindows:(0,o.z)("multiple-windows",60195),mute:(0,o.z)("mute",60196),noNewline:(0,o.z)("no-newline",60197),note:(0,o.z)("note",60198),octoface:(0,o.z)("octoface",60199),openPreview:(0,o.z)("open-preview",60200),package:(0,o.z)("package",60201),paintcan:(0,o.z)("paintcan",60202),pin:(0,o.z)("pin",60203),play:(0,o.z)("play",60204),run:(0,o.z)("run",60204),plug:(0,o.z)("plug",60205),preserveCase:(0,o.z)("preserve-case",60206),preview:(0,o.z)("preview",60207),project:(0,o.z)("project",60208),pulse:(0,o.z)("pulse",60209),question:(0,o.z)("question",60210),quote:(0,o.z)("quote",60211),radioTower:(0,o.z)("radio-tower",60212),reactions:(0,o.z)("reactions",60213),references:(0,o.z)("references",60214),refresh:(0,o.z)("refresh",60215),regex:(0,o.z)("regex",60216),remoteExplorer:(0,o.z)("remote-explorer",60217),remote:(0,o.z)("remote",60218),remove:(0,o.z)("remove",60219),replaceAll:(0,o.z)("replace-all",60220),replace:(0,o.z)("replace",60221),repoClone:(0,o.z)("repo-clone",60222),repoForcePush:(0,o.z)("repo-force-push",60223),repoPull:(0,o.z)("repo-pull",60224),repoPush:(0,o.z)("repo-push",60225),report:(0,o.z)("report",60226),requestChanges:(0,o.z)("request-changes",60227),rocket:(0,o.z)("rocket",60228),rootFolderOpened:(0,o.z)("root-folder-opened",60229),rootFolder:(0,o.z)("root-folder",60230),rss:(0,o.z)("rss",60231),ruby:(0,o.z)("ruby",60232),saveAll:(0,o.z)("save-all",60233),saveAs:(0,o.z)("save-as",60234),save:(0,o.z)("save",60235),screenFull:(0,o.z)("screen-full",60236),screenNormal:(0,o.z)("screen-normal",60237),searchStop:(0,o.z)("search-stop",60238),server:(0,o.z)("server",60240),settingsGear:(0,o.z)("settings-gear",60241),settings:(0,o.z)("settings",60242),shield:(0,o.z)("shield",60243),smiley:(0,o.z)("smiley",60244),sortPrecedence:(0,o.z)("sort-precedence",60245),splitHorizontal:(0,o.z)("split-horizontal",60246),splitVertical:(0,o.z)("split-vertical",60247),squirrel:(0,o.z)("squirrel",60248),starFull:(0,o.z)("star-full",60249),starHalf:(0,o.z)("star-half",60250),symbolClass:(0,o.z)("symbol-class",60251),symbolColor:(0,o.z)("symbol-color",60252),symbolConstant:(0,o.z)("symbol-constant",60253),symbolEnumMember:(0,o.z)("symbol-enum-member",60254),symbolField:(0,o.z)("symbol-field",60255),symbolFile:(0,o.z)("symbol-file",60256),symbolInterface:(0,o.z)("symbol-interface",60257),symbolKeyword:(0,o.z)("symbol-keyword",60258),symbolMisc:(0,o.z)("symbol-misc",60259),symbolOperator:(0,o.z)("symbol-operator",60260),symbolProperty:(0,o.z)("symbol-property",60261),wrench:(0,o.z)("wrench",60261),wrenchSubaction:(0,o.z)("wrench-subaction",60261),symbolSnippet:(0,o.z)("symbol-snippet",60262),tasklist:(0,o.z)("tasklist",60263),telescope:(0,o.z)("telescope",60264),textSize:(0,o.z)("text-size",60265),threeBars:(0,o.z)("three-bars",60266),thumbsdown:(0,o.z)("thumbsdown",60267),thumbsup:(0,o.z)("thumbsup",60268),tools:(0,o.z)("tools",60269),triangleDown:(0,o.z)("triangle-down",60270),triangleLeft:(0,o.z)("triangle-left",60271),triangleRight:(0,o.z)("triangle-right",60272),triangleUp:(0,o.z)("triangle-up",60273),twitter:(0,o.z)("twitter",60274),unfold:(0,o.z)("unfold",60275),unlock:(0,o.z)("unlock",60276),unmute:(0,o.z)("unmute",60277),unverified:(0,o.z)("unverified",60278),verified:(0,o.z)("verified",60279),versions:(0,o.z)("versions",60280),vmActive:(0,o.z)("vm-active",60281),vmOutline:(0,o.z)("vm-outline",60282),vmRunning:(0,o.z)("vm-running",60283),watch:(0,o.z)("watch",60284),whitespace:(0,o.z)("whitespace",60285),wholeWord:(0,o.z)("whole-word",60286),window:(0,o.z)("window",60287),wordWrap:(0,o.z)("word-wrap",60288),zoomIn:(0,o.z)("zoom-in",60289),zoomOut:(0,o.z)("zoom-out",60290),listFilter:(0,o.z)("list-filter",60291),listFlat:(0,o.z)("list-flat",60292),listSelection:(0,o.z)("list-selection",60293),selection:(0,o.z)("selection",60293),listTree:(0,o.z)("list-tree",60294),debugBreakpointFunctionUnverified:(0,o.z)("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:(0,o.z)("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:(0,o.z)("debug-breakpoint-function-disabled",60296),debugStackframeActive:(0,o.z)("debug-stackframe-active",60297),circleSmallFilled:(0,o.z)("circle-small-filled",60298),debugStackframeDot:(0,o.z)("debug-stackframe-dot",60298),terminalDecorationMark:(0,o.z)("terminal-decoration-mark",60298),debugStackframe:(0,o.z)("debug-stackframe",60299),debugStackframeFocused:(0,o.z)("debug-stackframe-focused",60299),debugBreakpointUnsupported:(0,o.z)("debug-breakpoint-unsupported",60300),symbolString:(0,o.z)("symbol-string",60301),debugReverseContinue:(0,o.z)("debug-reverse-continue",60302),debugStepBack:(0,o.z)("debug-step-back",60303),debugRestartFrame:(0,o.z)("debug-restart-frame",60304),debugAlt:(0,o.z)("debug-alt",60305),callIncoming:(0,o.z)("call-incoming",60306),callOutgoing:(0,o.z)("call-outgoing",60307),menu:(0,o.z)("menu",60308),expandAll:(0,o.z)("expand-all",60309),feedback:(0,o.z)("feedback",60310),gitPullRequestReviewer:(0,o.z)("git-pull-request-reviewer",60310),groupByRefType:(0,o.z)("group-by-ref-type",60311),ungroupByRefType:(0,o.z)("ungroup-by-ref-type",60312),account:(0,o.z)("account",60313),gitPullRequestAssignee:(0,o.z)("git-pull-request-assignee",60313),bellDot:(0,o.z)("bell-dot",60314),debugConsole:(0,o.z)("debug-console",60315),library:(0,o.z)("library",60316),output:(0,o.z)("output",60317),runAll:(0,o.z)("run-all",60318),syncIgnored:(0,o.z)("sync-ignored",60319),pinned:(0,o.z)("pinned",60320),githubInverted:(0,o.z)("github-inverted",60321),serverProcess:(0,o.z)("server-process",60322),serverEnvironment:(0,o.z)("server-environment",60323),pass:(0,o.z)("pass",60324),issueClosed:(0,o.z)("issue-closed",60324),stopCircle:(0,o.z)("stop-circle",60325),playCircle:(0,o.z)("play-circle",60326),record:(0,o.z)("record",60327),debugAltSmall:(0,o.z)("debug-alt-small",60328),vmConnect:(0,o.z)("vm-connect",60329),cloud:(0,o.z)("cloud",60330),merge:(0,o.z)("merge",60331),export:(0,o.z)("export",60332),graphLeft:(0,o.z)("graph-left",60333),magnet:(0,o.z)("magnet",60334),notebook:(0,o.z)("notebook",60335),redo:(0,o.z)("redo",60336),checkAll:(0,o.z)("check-all",60337),pinnedDirty:(0,o.z)("pinned-dirty",60338),passFilled:(0,o.z)("pass-filled",60339),circleLargeFilled:(0,o.z)("circle-large-filled",60340),circleLarge:(0,o.z)("circle-large",60341),circleLargeOutline:(0,o.z)("circle-large-outline",60341),combine:(0,o.z)("combine",60342),gather:(0,o.z)("gather",60342),table:(0,o.z)("table",60343),variableGroup:(0,o.z)("variable-group",60344),typeHierarchy:(0,o.z)("type-hierarchy",60345),typeHierarchySub:(0,o.z)("type-hierarchy-sub",60346),typeHierarchySuper:(0,o.z)("type-hierarchy-super",60347),gitPullRequestCreate:(0,o.z)("git-pull-request-create",60348),runAbove:(0,o.z)("run-above",60349),runBelow:(0,o.z)("run-below",60350),notebookTemplate:(0,o.z)("notebook-template",60351),debugRerun:(0,o.z)("debug-rerun",60352),workspaceTrusted:(0,o.z)("workspace-trusted",60353),workspaceUntrusted:(0,o.z)("workspace-untrusted",60354),workspaceUnknown:(0,o.z)("workspace-unknown",60355),terminalCmd:(0,o.z)("terminal-cmd",60356),terminalDebian:(0,o.z)("terminal-debian",60357),terminalLinux:(0,o.z)("terminal-linux",60358),terminalPowershell:(0,o.z)("terminal-powershell",60359),terminalTmux:(0,o.z)("terminal-tmux",60360),terminalUbuntu:(0,o.z)("terminal-ubuntu",60361),terminalBash:(0,o.z)("terminal-bash",60362),arrowSwap:(0,o.z)("arrow-swap",60363),copy:(0,o.z)("copy",60364),personAdd:(0,o.z)("person-add",60365),filterFilled:(0,o.z)("filter-filled",60366),wand:(0,o.z)("wand",60367),debugLineByLine:(0,o.z)("debug-line-by-line",60368),inspect:(0,o.z)("inspect",60369),layers:(0,o.z)("layers",60370),layersDot:(0,o.z)("layers-dot",60371),layersActive:(0,o.z)("layers-active",60372),compass:(0,o.z)("compass",60373),compassDot:(0,o.z)("compass-dot",60374),compassActive:(0,o.z)("compass-active",60375),azure:(0,o.z)("azure",60376),issueDraft:(0,o.z)("issue-draft",60377),gitPullRequestClosed:(0,o.z)("git-pull-request-closed",60378),gitPullRequestDraft:(0,o.z)("git-pull-request-draft",60379),debugAll:(0,o.z)("debug-all",60380),debugCoverage:(0,o.z)("debug-coverage",60381),runErrors:(0,o.z)("run-errors",60382),folderLibrary:(0,o.z)("folder-library",60383),debugContinueSmall:(0,o.z)("debug-continue-small",60384),beakerStop:(0,o.z)("beaker-stop",60385),graphLine:(0,o.z)("graph-line",60386),graphScatter:(0,o.z)("graph-scatter",60387),pieChart:(0,o.z)("pie-chart",60388),bracket:(0,o.z)("bracket",60175),bracketDot:(0,o.z)("bracket-dot",60389),bracketError:(0,o.z)("bracket-error",60390),lockSmall:(0,o.z)("lock-small",60391),azureDevops:(0,o.z)("azure-devops",60392),verifiedFilled:(0,o.z)("verified-filled",60393),newline:(0,o.z)("newline",60394),layout:(0,o.z)("layout",60395),layoutActivitybarLeft:(0,o.z)("layout-activitybar-left",60396),layoutActivitybarRight:(0,o.z)("layout-activitybar-right",60397),layoutPanelLeft:(0,o.z)("layout-panel-left",60398),layoutPanelCenter:(0,o.z)("layout-panel-center",60399),layoutPanelJustify:(0,o.z)("layout-panel-justify",60400),layoutPanelRight:(0,o.z)("layout-panel-right",60401),layoutPanel:(0,o.z)("layout-panel",60402),layoutSidebarLeft:(0,o.z)("layout-sidebar-left",60403),layoutSidebarRight:(0,o.z)("layout-sidebar-right",60404),layoutStatusbar:(0,o.z)("layout-statusbar",60405),layoutMenubar:(0,o.z)("layout-menubar",60406),layoutCentered:(0,o.z)("layout-centered",60407),target:(0,o.z)("target",60408),indent:(0,o.z)("indent",60409),recordSmall:(0,o.z)("record-small",60410),errorSmall:(0,o.z)("error-small",60411),terminalDecorationError:(0,o.z)("terminal-decoration-error",60411),arrowCircleDown:(0,o.z)("arrow-circle-down",60412),arrowCircleLeft:(0,o.z)("arrow-circle-left",60413),arrowCircleRight:(0,o.z)("arrow-circle-right",60414),arrowCircleUp:(0,o.z)("arrow-circle-up",60415),layoutSidebarRightOff:(0,o.z)("layout-sidebar-right-off",60416),layoutPanelOff:(0,o.z)("layout-panel-off",60417),layoutSidebarLeftOff:(0,o.z)("layout-sidebar-left-off",60418),blank:(0,o.z)("blank",60419),heartFilled:(0,o.z)("heart-filled",60420),map:(0,o.z)("map",60421),mapHorizontal:(0,o.z)("map-horizontal",60421),foldHorizontal:(0,o.z)("fold-horizontal",60421),mapFilled:(0,o.z)("map-filled",60422),mapHorizontalFilled:(0,o.z)("map-horizontal-filled",60422),foldHorizontalFilled:(0,o.z)("fold-horizontal-filled",60422),circleSmall:(0,o.z)("circle-small",60423),bellSlash:(0,o.z)("bell-slash",60424),bellSlashDot:(0,o.z)("bell-slash-dot",60425),commentUnresolved:(0,o.z)("comment-unresolved",60426),gitPullRequestGoToChanges:(0,o.z)("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:(0,o.z)("git-pull-request-new-changes",60428),searchFuzzy:(0,o.z)("search-fuzzy",60429),commentDraft:(0,o.z)("comment-draft",60430),send:(0,o.z)("send",60431),sparkle:(0,o.z)("sparkle",60432),insert:(0,o.z)("insert",60433),mic:(0,o.z)("mic",60434),thumbsdownFilled:(0,o.z)("thumbsdown-filled",60435),thumbsupFilled:(0,o.z)("thumbsup-filled",60436),coffee:(0,o.z)("coffee",60437),snake:(0,o.z)("snake",60438),game:(0,o.z)("game",60439),vr:(0,o.z)("vr",60440),chip:(0,o.z)("chip",60441),piano:(0,o.z)("piano",60442),music:(0,o.z)("music",60443),micFilled:(0,o.z)("mic-filled",60444),repoFetch:(0,o.z)("repo-fetch",60445),copilot:(0,o.z)("copilot",60446),lightbulbSparkle:(0,o.z)("lightbulb-sparkle",60447),robot:(0,o.z)("robot",60448),sparkleFilled:(0,o.z)("sparkle-filled",60449),diffSingle:(0,o.z)("diff-single",60450),diffMultiple:(0,o.z)("diff-multiple",60451),surroundWith:(0,o.z)("surround-with",60452),share:(0,o.z)("share",60453),gitStash:(0,o.z)("git-stash",60454),gitStashApply:(0,o.z)("git-stash-apply",60455),gitStashPop:(0,o.z)("git-stash-pop",60456),vscode:(0,o.z)("vscode",60457),vscodeInsiders:(0,o.z)("vscode-insiders",60458),codeOss:(0,o.z)("code-oss",60459),runCoverage:(0,o.z)("run-coverage",60460),runAllCoverage:(0,o.z)("run-all-coverage",60461),coverage:(0,o.z)("coverage",60462),githubProject:(0,o.z)("github-project",60463),mapVertical:(0,o.z)("map-vertical",60464),foldVertical:(0,o.z)("fold-vertical",60464),mapVerticalFilled:(0,o.z)("map-vertical-filled",60465),foldVerticalFilled:(0,o.z)("fold-vertical-filled",60465),goToSearch:(0,o.z)("go-to-search",60466),percentage:(0,o.z)("percentage",60467),sortPercentage:(0,o.z)("sort-percentage",60467)},x={dialogError:(0,o.z)("dialog-error","error"),dialogWarning:(0,o.z)("dialog-warning","warning"),dialogInfo:(0,o.z)("dialog-info","info"),dialogClose:(0,o.z)("dialog-close","close"),treeItemExpanded:(0,o.z)("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:(0,o.z)("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:(0,o.z)("tree-filter-on-type-off","list-selection"),treeFilterClear:(0,o.z)("tree-filter-clear","close"),treeItemLoading:(0,o.z)("tree-item-loading","loading"),menuSelection:(0,o.z)("menu-selection","check"),menuSubmenu:(0,o.z)("menu-submenu","chevron-right"),menuBarMore:(0,o.z)("menubar-more","more"),scrollbarButtonLeft:(0,o.z)("scrollbar-button-left","triangle-left"),scrollbarButtonRight:(0,o.z)("scrollbar-button-right","triangle-right"),scrollbarButtonUp:(0,o.z)("scrollbar-button-up","triangle-up"),scrollbarButtonDown:(0,o.z)("scrollbar-button-down","triangle-down"),toolBarMore:(0,o.z)("toolbar-more","more"),quickInputBack:(0,o.z)("quick-input-back","arrow-left"),dropDownButton:(0,o.z)("drop-down-button",60084),symbolCustomColor:(0,o.z)("symbol-customcolor",60252),exportIcon:(0,o.z)("export",60332),workspaceUnspecified:(0,o.z)("workspace-unspecified",60355),newLine:(0,o.z)("newline",60394),thumbsDownFilled:(0,o.z)("thumbsdown-filled",60435),thumbsUpFilled:(0,o.z)("thumbsup-filled",60436),gitFetch:(0,o.z)("git-fetch",60445),lightbulbSparkleAutofix:(0,o.z)("lightbulb-sparkle-autofix",60447),debugBreakpointPending:(0,o.z)("debug-breakpoint-pending",60377)},O=vi(vi({},B),x)},43313:function(et,Le,e){"use strict";e.d(Le,{u:function(){return O},z:function(){return x}});var o=e(26974);const B=Object.create(null);function x(S,p){if((0,o.HD)(p)){const E=B[p];if(E===void 0)throw new Error(`${S} references an unknown codicon: ${p}`);p=E}return B[S]=p,{id:S}}function O(){return B}},35081:function(et,Le,e){"use strict";e.d(Le,{j:function(){return B},q:function(){return o}});function o(x,O){const S=[],p=[];for(const E of x)O.has(E)||S.push(E);for(const E of O)x.has(E)||p.push(E);return{removed:S,added:p}}function B(x,O){const S=new Set;for(const p of O)x.has(p)&&S.add(p);return S}},64707:function(et,Le,e){"use strict";e.d(Le,{Il:function(){return S},Oz:function(){return x},VS:function(){return B},tx:function(){return O}});function o(p,E){const R=Math.pow(10,E);return Math.round(p*R)/R}class B{constructor(E,R,w,m=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,E))|0,this.g=Math.min(255,Math.max(0,R))|0,this.b=Math.min(255,Math.max(0,w))|0,this.a=o(Math.max(Math.min(1,m),0),3)}static equals(E,R){return E.r===R.r&&E.g===R.g&&E.b===R.b&&E.a===R.a}}class x{constructor(E,R,w,m){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,E),0)|0,this.s=o(Math.max(Math.min(1,R),0),3),this.l=o(Math.max(Math.min(1,w),0),3),this.a=o(Math.max(Math.min(1,m),0),3)}static equals(E,R){return E.h===R.h&&E.s===R.s&&E.l===R.l&&E.a===R.a}static fromRGBA(E){const R=E.r/255,w=E.g/255,m=E.b/255,g=E.a,a=Math.max(R,w,m),r=Math.min(R,w,m);let i=0,n=0;const c=(r+a)/2,u=a-r;if(u>0){switch(n=Math.min(c<=.5?u/(2*c):u/(2-2*c),1),a){case R:i=(w-m)/u+(w<m?6:0);break;case w:i=(m-R)/u+2;break;case m:i=(R-w)/u+4;break}i*=60,i=Math.round(i)}return new x(i,n,c,g)}static _hue2rgb(E,R,w){return w<0&&(w+=1),w>1&&(w-=1),w<1/6?E+(R-E)*6*w:w<1/2?R:w<2/3?E+(R-E)*(2/3-w)*6:E}static toRGBA(E){const R=E.h/360,{s:w,l:m,a:g}=E;let a,r,i;if(w===0)a=r=i=m;else{const n=m<.5?m*(1+w):m+w-m*w,c=2*m-n;a=x._hue2rgb(c,n,R+1/3),r=x._hue2rgb(c,n,R),i=x._hue2rgb(c,n,R-1/3)}return new B(Math.round(a*255),Math.round(r*255),Math.round(i*255),g)}}class O{constructor(E,R,w,m){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,E),0)|0,this.s=o(Math.max(Math.min(1,R),0),3),this.v=o(Math.max(Math.min(1,w),0),3),this.a=o(Math.max(Math.min(1,m),0),3)}static equals(E,R){return E.h===R.h&&E.s===R.s&&E.v===R.v&&E.a===R.a}static fromRGBA(E){const R=E.r/255,w=E.g/255,m=E.b/255,g=Math.max(R,w,m),a=Math.min(R,w,m),r=g-a,i=g===0?0:r/g;let n;return r===0?n=0:g===R?n=((w-m)/r%6+6)%6:g===w?n=(m-R)/r+2:n=(R-w)/r+4,new O(Math.round(n*60),i,g,E.a)}static toRGBA(E){const{h:R,s:w,v:m,a:g}=E,a=m*w,r=a*(1-Math.abs(R/60%2-1)),i=m-a;let[n,c,u]=[0,0,0];return R<60?(n=a,c=r):R<120?(n=r,c=a):R<180?(c=a,u=r):R<240?(c=r,u=a):R<300?(n=r,u=a):R<=360&&(n=a,u=r),n=Math.round((n+i)*255),c=Math.round((c+i)*255),u=Math.round((u+i)*255),new B(n,c,u,g)}}class S{static fromHex(E){return S.Format.CSS.parseHex(E)||S.red}static equals(E,R){return!E&&!R?!0:!E||!R?!1:E.equals(R)}get hsla(){return this._hsla?this._hsla:x.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:O.fromRGBA(this.rgba)}constructor(E){if(E)if(E instanceof B)this.rgba=E;else if(E instanceof x)this._hsla=E,this.rgba=x.toRGBA(E);else if(E instanceof O)this._hsva=E,this.rgba=O.toRGBA(E);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}equals(E){return!!E&&B.equals(this.rgba,E.rgba)&&x.equals(this.hsla,E.hsla)&&O.equals(this.hsva,E.hsva)}getRelativeLuminance(){const E=S._relativeLuminanceForComponent(this.rgba.r),R=S._relativeLuminanceForComponent(this.rgba.g),w=S._relativeLuminanceForComponent(this.rgba.b),m=.2126*E+.7152*R+.0722*w;return o(m,4)}static _relativeLuminanceForComponent(E){const R=E/255;return R<=.03928?R/12.92:Math.pow((R+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(E){const R=this.getRelativeLuminance(),w=E.getRelativeLuminance();return R>w}isDarkerThan(E){const R=this.getRelativeLuminance(),w=E.getRelativeLuminance();return R<w}lighten(E){return new S(new x(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*E,this.hsla.a))}darken(E){return new S(new x(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*E,this.hsla.a))}transparent(E){const{r:R,g:w,b:m,a:g}=this.rgba;return new S(new B(R,w,m,g*E))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new S(new B(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}makeOpaque(E){if(this.isOpaque()||E.rgba.a!==1)return this;const{r:R,g:w,b:m,a:g}=this.rgba;return new S(new B(E.rgba.r-g*(E.rgba.r-R),E.rgba.g-g*(E.rgba.g-w),E.rgba.b-g*(E.rgba.b-m),1))}toString(){return this._toString||(this._toString=S.Format.CSS.format(this)),this._toString}static getLighterColor(E,R,w){if(E.isLighterThan(R))return E;w=w||.5;const m=E.getRelativeLuminance(),g=R.getRelativeLuminance();return w=w*(g-m)/g,E.lighten(w)}static getDarkerColor(E,R,w){if(E.isDarkerThan(R))return E;w=w||.5;const m=E.getRelativeLuminance(),g=R.getRelativeLuminance();return w=w*(m-g)/m,E.darken(w)}}S.white=new S(new B(255,255,255,1)),S.black=new S(new B(0,0,0,1)),S.red=new S(new B(255,0,0,1)),S.blue=new S(new B(0,0,255,1)),S.green=new S(new B(0,255,0,1)),S.cyan=new S(new B(0,255,255,1)),S.lightgrey=new S(new B(211,211,211,1)),S.transparent=new S(new B(0,0,0,0)),function(p){let E;(function(R){let w;(function(m){function g(y){return y.rgba.a===1?`rgb(${y.rgba.r}, ${y.rgba.g}, ${y.rgba.b})`:p.Format.CSS.formatRGBA(y)}m.formatRGB=g;function a(y){return`rgba(${y.rgba.r}, ${y.rgba.g}, ${y.rgba.b}, ${+y.rgba.a.toFixed(2)})`}m.formatRGBA=a;function r(y){return y.hsla.a===1?`hsl(${y.hsla.h}, ${(y.hsla.s*100).toFixed(2)}%, ${(y.hsla.l*100).toFixed(2)}%)`:p.Format.CSS.formatHSLA(y)}m.formatHSL=r;function i(y){return`hsla(${y.hsla.h}, ${(y.hsla.s*100).toFixed(2)}%, ${(y.hsla.l*100).toFixed(2)}%, ${y.hsla.a.toFixed(2)})`}m.formatHSLA=i;function n(y){const C=y.toString(16);return C.length!==2?"0"+C:C}function c(y){return`#${n(y.rgba.r)}${n(y.rgba.g)}${n(y.rgba.b)}`}m.formatHex=c;function u(y,C=!1){return C&&y.rgba.a===1?p.Format.CSS.formatHex(y):`#${n(y.rgba.r)}${n(y.rgba.g)}${n(y.rgba.b)}${n(Math.round(y.rgba.a*255))}`}m.formatHexA=u;function l(y){return y.isOpaque()?p.Format.CSS.formatHex(y):p.Format.CSS.formatRGBA(y)}m.format=l;function D(y){const C=y.length;if(C===0||y.charCodeAt(0)!==35)return null;if(C===7){const _=16*f(y.charCodeAt(1))+f(y.charCodeAt(2)),N=16*f(y.charCodeAt(3))+f(y.charCodeAt(4)),b=16*f(y.charCodeAt(5))+f(y.charCodeAt(6));return new p(new B(_,N,b,1))}if(C===9){const _=16*f(y.charCodeAt(1))+f(y.charCodeAt(2)),N=16*f(y.charCodeAt(3))+f(y.charCodeAt(4)),b=16*f(y.charCodeAt(5))+f(y.charCodeAt(6)),k=16*f(y.charCodeAt(7))+f(y.charCodeAt(8));return new p(new B(_,N,b,k/255))}if(C===4){const _=f(y.charCodeAt(1)),N=f(y.charCodeAt(2)),b=f(y.charCodeAt(3));return new p(new B(16*_+_,16*N+N,16*b+b))}if(C===5){const _=f(y.charCodeAt(1)),N=f(y.charCodeAt(2)),b=f(y.charCodeAt(3)),k=f(y.charCodeAt(4));return new p(new B(16*_+_,16*N+N,16*b+b,(16*k+k)/255))}return null}m.parseHex=D;function f(y){switch(y){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(w=R.CSS||(R.CSS={}))})(E=p.Format||(p.Format={}))}(S||(S={}))},96182:function(et,Le,e){"use strict";e.d(Le,{Hl:function(){return p},Ix:function(){return S},SN:function(){return R},Z0:function(){return m},ZO:function(){return O}});var o=e(71221),B=e(852),x=e(78836);function O(g){return{asString:()=>Ft(this,null,function*(){return g}),asFile:()=>{},value:typeof g=="string"?g:void 0}}function S(g,a,r){const i={id:(0,x.R)(),name:g,uri:a,data:r};return{asString:()=>Ft(this,null,function*(){return""}),asFile:()=>i,value:void 0}}class p{constructor(){this._entries=new Map}get size(){let a=0;for(const r of this._entries)a++;return a}has(a){return this._entries.has(this.toKey(a))}matches(a){const r=[...this._entries.keys()];return B.$.some(this,([i,n])=>n.asFile())&&r.push("files"),w(E(a),r)}get(a){var r;return(r=this._entries.get(this.toKey(a)))===null||r===void 0?void 0:r[0]}append(a,r){const i=this._entries.get(a);i?i.push(r):this._entries.set(this.toKey(a),[r])}replace(a,r){this._entries.set(this.toKey(a),[r])}delete(a){this._entries.delete(this.toKey(a))}*[Symbol.iterator](){for(const[a,r]of this._entries)for(const i of r)yield[a,i]}toKey(a){return E(a)}}function E(g){return g.toLowerCase()}function R(g,a){return w(E(g),a.map(E))}function w(g,a){if(g==="*/*")return a.length>0;if(a.includes(g))return!0;const r=g.match(/^([a-z]+)\/([a-z]+|\*)$/i);if(!r)return!1;const[i,n,c]=r;return c==="*"?a.some(u=>u.startsWith(n+"/")):!1}const m=Object.freeze({create:g=>(0,o.EB)(g.map(a=>a.toString())).join(`\r
`),split:g=>g.split(`\r
`),parse:g=>m.split(g).filter(a=>!a.startsWith("#"))})},95738:function(et,Le,e){"use strict";e.d(Le,{H:function(){return o}});function o(B,x,O){let S=null,p=null;if(typeof O.value=="function"?(S="value",p=O.value,p.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof O.get=="function"&&(S="get",p=O.get),!p)throw new Error("not supported");const E=`$memoize$${x}`;O[S]=function(...R){return this.hasOwnProperty(E)||Object.defineProperty(this,E,{configurable:!1,enumerable:!1,writable:!1,value:p.apply(this,R)}),this[E]}}},82719:function(et,Le,e){"use strict";e.d(Le,{Hs:function(){return R},a$:function(){return O}});class o{constructor(m,g,a,r){this.originalStart=m,this.originalLength=g,this.modifiedStart=a,this.modifiedLength=r}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}var B=e(95948);class x{constructor(m){this.source=m}getElements(){const m=this.source,g=new Int32Array(m.length);for(let a=0,r=m.length;a<r;a++)g[a]=m.charCodeAt(a);return g}}function O(w,m,g){return new R(new x(w),new x(m)).ComputeDiff(g).changes}class S{static Assert(m,g){if(!m)throw new Error(g)}}class p{static Copy(m,g,a,r,i){for(let n=0;n<i;n++)a[r+n]=m[g+n]}static Copy2(m,g,a,r,i){for(let n=0;n<i;n++)a[r+n]=m[g+n]}}class E{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new o(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(m,g){this.m_originalStart=Math.min(this.m_originalStart,m),this.m_modifiedStart=Math.min(this.m_modifiedStart,g),this.m_originalCount++}AddModifiedElement(m,g){this.m_originalStart=Math.min(this.m_originalStart,m),this.m_modifiedStart=Math.min(this.m_modifiedStart,g),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class R{constructor(m,g,a=null){this.ContinueProcessingPredicate=a,this._originalSequence=m,this._modifiedSequence=g;const[r,i,n]=R._getElements(m),[c,u,l]=R._getElements(g);this._hasStrings=n&&l,this._originalStringElements=r,this._originalElementsOrHash=i,this._modifiedStringElements=c,this._modifiedElementsOrHash=u,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(m){return m.length>0&&typeof m[0]=="string"}static _getElements(m){const g=m.getElements();if(R._isStringArray(g)){const a=new Int32Array(g.length);for(let r=0,i=g.length;r<i;r++)a[r]=(0,B.Cv)(g[r],0);return[g,a,!0]}return g instanceof Int32Array?[[],g,!1]:[[],new Int32Array(g),!1]}ElementsAreEqual(m,g){return this._originalElementsOrHash[m]!==this._modifiedElementsOrHash[g]?!1:this._hasStrings?this._originalStringElements[m]===this._modifiedStringElements[g]:!0}ElementsAreStrictEqual(m,g){if(!this.ElementsAreEqual(m,g))return!1;const a=R._getStrictElement(this._originalSequence,m),r=R._getStrictElement(this._modifiedSequence,g);return a===r}static _getStrictElement(m,g){return typeof m.getStrictElement=="function"?m.getStrictElement(g):null}OriginalElementsAreEqual(m,g){return this._originalElementsOrHash[m]!==this._originalElementsOrHash[g]?!1:this._hasStrings?this._originalStringElements[m]===this._originalStringElements[g]:!0}ModifiedElementsAreEqual(m,g){return this._modifiedElementsOrHash[m]!==this._modifiedElementsOrHash[g]?!1:this._hasStrings?this._modifiedStringElements[m]===this._modifiedStringElements[g]:!0}ComputeDiff(m){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,m)}_ComputeDiff(m,g,a,r,i){const n=[!1];let c=this.ComputeDiffRecursive(m,g,a,r,n);return i&&(c=this.PrettifyChanges(c)),{quitEarly:n[0],changes:c}}ComputeDiffRecursive(m,g,a,r,i){for(i[0]=!1;m<=g&&a<=r&&this.ElementsAreEqual(m,a);)m++,a++;for(;g>=m&&r>=a&&this.ElementsAreEqual(g,r);)g--,r--;if(m>g||a>r){let f;return a<=r?(S.Assert(m===g+1,"originalStart should only be one more than originalEnd"),f=[new o(m,0,a,r-a+1)]):m<=g?(S.Assert(a===r+1,"modifiedStart should only be one more than modifiedEnd"),f=[new o(m,g-m+1,a,0)]):(S.Assert(m===g+1,"originalStart should only be one more than originalEnd"),S.Assert(a===r+1,"modifiedStart should only be one more than modifiedEnd"),f=[]),f}const n=[0],c=[0],u=this.ComputeRecursionPoint(m,g,a,r,n,c,i),l=n[0],D=c[0];if(u!==null)return u;if(!i[0]){const f=this.ComputeDiffRecursive(m,l,a,D,i);let y=[];return i[0]?y=[new o(l+1,g-(l+1)+1,D+1,r-(D+1)+1)]:y=this.ComputeDiffRecursive(l+1,g,D+1,r,i),this.ConcatenateChanges(f,y)}return[new o(m,g-m+1,a,r-a+1)]}WALKTRACE(m,g,a,r,i,n,c,u,l,D,f,y,C,_,N,b,k,V){let K=null,Z=null,z=new E,A=g,P=a,I=C[0]-b[0]-r,W=-1073741824,G=this.m_forwardHistory.length-1;do{const j=I+m;j===A||j<P&&l[j-1]<l[j+1]?(f=l[j+1],_=f-I-r,f<W&&z.MarkNextChange(),W=f,z.AddModifiedElement(f+1,_),I=j+1-m):(f=l[j-1]+1,_=f-I-r,f<W&&z.MarkNextChange(),W=f-1,z.AddOriginalElement(f,_+1),I=j-1-m),G>=0&&(l=this.m_forwardHistory[G],m=l[0],A=1,P=l.length-1)}while(--G>=-1);if(K=z.getReverseChanges(),V[0]){let j=C[0]+1,Y=b[0]+1;if(K!==null&&K.length>0){const H=K[K.length-1];j=Math.max(j,H.getOriginalEnd()),Y=Math.max(Y,H.getModifiedEnd())}Z=[new o(j,y-j+1,Y,N-Y+1)]}else{z=new E,A=n,P=c,I=C[0]-b[0]-u,W=1073741824,G=k?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const j=I+i;j===A||j<P&&D[j-1]>=D[j+1]?(f=D[j+1]-1,_=f-I-u,f>W&&z.MarkNextChange(),W=f+1,z.AddOriginalElement(f+1,_+1),I=j+1-i):(f=D[j-1],_=f-I-u,f>W&&z.MarkNextChange(),W=f,z.AddModifiedElement(f+1,_+1),I=j-1-i),G>=0&&(D=this.m_reverseHistory[G],i=D[0],A=1,P=D.length-1)}while(--G>=-1);Z=z.getChanges()}return this.ConcatenateChanges(K,Z)}ComputeRecursionPoint(m,g,a,r,i,n,c){let u=0,l=0,D=0,f=0,y=0,C=0;m--,a--,i[0]=0,n[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const _=g-m+(r-a),N=_+1,b=new Int32Array(N),k=new Int32Array(N),V=r-a,K=g-m,Z=m-a,z=g-r,P=(K-V)%2===0;b[V]=m,k[K]=g,c[0]=!1;for(let I=1;I<=_/2+1;I++){let W=0,G=0;D=this.ClipDiagonalBound(V-I,I,V,N),f=this.ClipDiagonalBound(V+I,I,V,N);for(let Y=D;Y<=f;Y+=2){Y===D||Y<f&&b[Y-1]<b[Y+1]?u=b[Y+1]:u=b[Y-1]+1,l=u-(Y-V)-Z;const H=u;for(;u<g&&l<r&&this.ElementsAreEqual(u+1,l+1);)u++,l++;if(b[Y]=u,u+l>W+G&&(W=u,G=l),!P&&Math.abs(Y-K)<=I-1&&u>=k[Y])return i[0]=u,n[0]=l,H<=k[Y]&&I<=1448?this.WALKTRACE(V,D,f,Z,K,y,C,z,b,k,u,g,i,l,r,n,P,c):null}const j=(W-m+(G-a)-I)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(W,j))return c[0]=!0,i[0]=W,n[0]=G,j>0&&I<=1448?this.WALKTRACE(V,D,f,Z,K,y,C,z,b,k,u,g,i,l,r,n,P,c):(m++,a++,[new o(m,g-m+1,a,r-a+1)]);y=this.ClipDiagonalBound(K-I,I,K,N),C=this.ClipDiagonalBound(K+I,I,K,N);for(let Y=y;Y<=C;Y+=2){Y===y||Y<C&&k[Y-1]>=k[Y+1]?u=k[Y+1]-1:u=k[Y-1],l=u-(Y-K)-z;const H=u;for(;u>m&&l>a&&this.ElementsAreEqual(u,l);)u--,l--;if(k[Y]=u,P&&Math.abs(Y-V)<=I&&u<=b[Y])return i[0]=u,n[0]=l,H>=b[Y]&&I<=1448?this.WALKTRACE(V,D,f,Z,K,y,C,z,b,k,u,g,i,l,r,n,P,c):null}if(I<=1447){let Y=new Int32Array(f-D+2);Y[0]=V-D+1,p.Copy2(b,D,Y,1,f-D+1),this.m_forwardHistory.push(Y),Y=new Int32Array(C-y+2),Y[0]=K-y+1,p.Copy2(k,y,Y,1,C-y+1),this.m_reverseHistory.push(Y)}}return this.WALKTRACE(V,D,f,Z,K,y,C,z,b,k,u,g,i,l,r,n,P,c)}PrettifyChanges(m){for(let g=0;g<m.length;g++){const a=m[g],r=g<m.length-1?m[g+1].originalStart:this._originalElementsOrHash.length,i=g<m.length-1?m[g+1].modifiedStart:this._modifiedElementsOrHash.length,n=a.originalLength>0,c=a.modifiedLength>0;for(;a.originalStart+a.originalLength<r&&a.modifiedStart+a.modifiedLength<i&&(!n||this.OriginalElementsAreEqual(a.originalStart,a.originalStart+a.originalLength))&&(!c||this.ModifiedElementsAreEqual(a.modifiedStart,a.modifiedStart+a.modifiedLength));){const l=this.ElementsAreStrictEqual(a.originalStart,a.modifiedStart);if(this.ElementsAreStrictEqual(a.originalStart+a.originalLength,a.modifiedStart+a.modifiedLength)&&!l)break;a.originalStart++,a.modifiedStart++}const u=[null];if(g<m.length-1&&this.ChangesOverlap(m[g],m[g+1],u)){m[g]=u[0],m.splice(g+1,1),g--;continue}}for(let g=m.length-1;g>=0;g--){const a=m[g];let r=0,i=0;if(g>0){const f=m[g-1];r=f.originalStart+f.originalLength,i=f.modifiedStart+f.modifiedLength}const n=a.originalLength>0,c=a.modifiedLength>0;let u=0,l=this._boundaryScore(a.originalStart,a.originalLength,a.modifiedStart,a.modifiedLength);for(let f=1;;f++){const y=a.originalStart-f,C=a.modifiedStart-f;if(y<r||C<i||n&&!this.OriginalElementsAreEqual(y,y+a.originalLength)||c&&!this.ModifiedElementsAreEqual(C,C+a.modifiedLength))break;const N=(y===r&&C===i?5:0)+this._boundaryScore(y,a.originalLength,C,a.modifiedLength);N>l&&(l=N,u=f)}a.originalStart-=u,a.modifiedStart-=u;const D=[null];if(g>0&&this.ChangesOverlap(m[g-1],m[g],D)){m[g-1]=D[0],m.splice(g,1),g++;continue}}if(this._hasStrings)for(let g=1,a=m.length;g<a;g++){const r=m[g-1],i=m[g],n=i.originalStart-r.originalStart-r.originalLength,c=r.originalStart,u=i.originalStart+i.originalLength,l=u-c,D=r.modifiedStart,f=i.modifiedStart+i.modifiedLength,y=f-D;if(n<5&&l<20&&y<20){const C=this._findBetterContiguousSequence(c,l,D,y,n);if(C){const[_,N]=C;(_!==r.originalStart+r.originalLength||N!==r.modifiedStart+r.modifiedLength)&&(r.originalLength=_-r.originalStart,r.modifiedLength=N-r.modifiedStart,i.originalStart=_+n,i.modifiedStart=N+n,i.originalLength=u-i.originalStart,i.modifiedLength=f-i.modifiedStart)}}}return m}_findBetterContiguousSequence(m,g,a,r,i){if(g<i||r<i)return null;const n=m+g-i+1,c=a+r-i+1;let u=0,l=0,D=0;for(let f=m;f<n;f++)for(let y=a;y<c;y++){const C=this._contiguousSequenceScore(f,y,i);C>0&&C>u&&(u=C,l=f,D=y)}return u>0?[l,D]:null}_contiguousSequenceScore(m,g,a){let r=0;for(let i=0;i<a;i++){if(!this.ElementsAreEqual(m+i,g+i))return 0;r+=this._originalStringElements[m+i].length}return r}_OriginalIsBoundary(m){return m<=0||m>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[m])}_OriginalRegionIsBoundary(m,g){if(this._OriginalIsBoundary(m)||this._OriginalIsBoundary(m-1))return!0;if(g>0){const a=m+g;if(this._OriginalIsBoundary(a-1)||this._OriginalIsBoundary(a))return!0}return!1}_ModifiedIsBoundary(m){return m<=0||m>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[m])}_ModifiedRegionIsBoundary(m,g){if(this._ModifiedIsBoundary(m)||this._ModifiedIsBoundary(m-1))return!0;if(g>0){const a=m+g;if(this._ModifiedIsBoundary(a-1)||this._ModifiedIsBoundary(a))return!0}return!1}_boundaryScore(m,g,a,r){const i=this._OriginalRegionIsBoundary(m,g)?1:0,n=this._ModifiedRegionIsBoundary(a,r)?1:0;return i+n}ConcatenateChanges(m,g){const a=[];if(m.length===0||g.length===0)return g.length>0?g:m;if(this.ChangesOverlap(m[m.length-1],g[0],a)){const r=new Array(m.length+g.length-1);return p.Copy(m,0,r,0,m.length-1),r[m.length-1]=a[0],p.Copy(g,1,r,m.length,g.length-1),r}else{const r=new Array(m.length+g.length);return p.Copy(m,0,r,0,m.length),p.Copy(g,0,r,m.length,g.length),r}}ChangesOverlap(m,g,a){if(S.Assert(m.originalStart<=g.originalStart,"Left change is not less than or equal to right change"),S.Assert(m.modifiedStart<=g.modifiedStart,"Left change is not less than or equal to right change"),m.originalStart+m.originalLength>=g.originalStart||m.modifiedStart+m.modifiedLength>=g.modifiedStart){const r=m.originalStart;let i=m.originalLength;const n=m.modifiedStart;let c=m.modifiedLength;return m.originalStart+m.originalLength>=g.originalStart&&(i=g.originalStart+g.originalLength-m.originalStart),m.modifiedStart+m.modifiedLength>=g.modifiedStart&&(c=g.modifiedStart+g.modifiedLength-m.modifiedStart),a[0]=new o(r,i,n,c),!0}else return a[0]=null,!1}ClipDiagonalBound(m,g,a,r){if(m>=0&&m<r)return m;const i=a,n=r-a-1,c=g%2===0;if(m<0){const u=i%2===0;return c===u?0:1}else{const u=n%2===0;return c===u?r-1:r-2}}}},32254:function(et,Le,e){"use strict";e.d(Le,{$h:function(){return O},Tx:function(){return S},ZC:function(){return x},ht:function(){return B}});var o=e(71221);const B=(E,R)=>E===R;function x(E=B){return(R,w)=>o.fS(R,w,E)}function O(){return(E,R)=>E.equals(R)}function S(E,R,w){return!E||!R?E===R:w(E,R)}const p=new WeakMap},25602:function(et,Le,e){"use strict";e.d(Le,{B8:function(){return a},Cp:function(){return O},F0:function(){return w},FU:function(){return R},L6:function(){return g},b1:function(){return m},dL:function(){return x},he:function(){return i},n2:function(){return E},ri:function(){return S}});class o{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(c){setTimeout(()=>{throw c.stack?r.isErrorNoTelemetry(c)?new r(c.message+`

`+c.stack):new Error(c.message+`

`+c.stack):c},0)}}emit(c){this.listeners.forEach(u=>{u(c)})}onUnexpectedError(c){this.unexpectedErrorHandler(c),this.emit(c)}onUnexpectedExternalError(c){this.unexpectedErrorHandler(c)}}const B=new o;function x(n){E(n)||B.onUnexpectedError(n)}function O(n){E(n)||B.onUnexpectedExternalError(n)}function S(n){if(n instanceof Error){const{name:c,message:u}=n,l=n.stacktrace||n.stack;return{$isError:!0,name:c,message:u,stack:l,noTelemetry:r.isErrorNoTelemetry(n)}}return n}const p="Canceled";function E(n){return n instanceof R?!0:n instanceof Error&&n.name===p&&n.message===p}class R extends Error{constructor(){super(p),this.name=this.message}}function w(){const n=new Error(p);return n.name=n.message,n}function m(n){return n?new Error(`Illegal argument: ${n}`):new Error("Illegal argument")}function g(n){return n?new Error(`Illegal state: ${n}`):new Error("Illegal state")}class a extends Error{constructor(c){super("NotSupported"),c&&(this.message=c)}}class r extends Error{constructor(c){super(c),this.name="CodeExpectedError"}static fromError(c){if(c instanceof r)return c;const u=new r;return u.message=c.message,u.stack=c.stack,u}static isErrorNoTelemetry(c){return c.name==="CodeExpectedError"}}class i extends Error{constructor(c){super(c||"An unexpected bug occurred."),Object.setPrototypeOf(this,i.prototype)}}},79329:function(et,Le,e){"use strict";e.d(Le,{D0:function(){return C},E7:function(){return b},K3:function(){return y},Q5:function(){return l},SZ:function(){return _},Sp:function(){return D},ZD:function(){return k},ju:function(){return w},z5:function(){return N}});var o=e(25602),B=e(77303),x=e(45029),O=e(50138),S=e(32368);const p=!1,E=!1,R=!1;var w;(function(V){V.None=()=>x.JT.None;function K(Ke){if(R){const{onDidAddListener:Qe}=Ke,fe=r.create();let $=0;Ke.onDidAddListener=()=>{++$===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),fe.print()),Qe==null||Qe()}}}function Z(Ke,Qe){return Q(Ke,()=>{},0,void 0,!0,void 0,Qe)}V.defer=Z;function z(Ke){return(Qe,fe=null,$)=>{let le=!1,De;return De=Ke(xe=>{if(!le)return De?De.dispose():le=!0,Qe.call(fe,xe)},null,$),le&&De.dispose(),De}}V.once=z;function A(Ke,Qe,fe){return Y(($,le=null,De)=>Ke(xe=>$.call(le,Qe(xe)),null,De),fe)}V.map=A;function P(Ke,Qe,fe){return Y(($,le=null,De)=>Ke(xe=>{Qe(xe),$.call(le,xe)},null,De),fe)}V.forEach=P;function I(Ke,Qe,fe){return Y(($,le=null,De)=>Ke(xe=>Qe(xe)&&$.call(le,xe),null,De),fe)}V.filter=I;function W(Ke){return Ke}V.signal=W;function G(...Ke){return(Qe,fe=null,$)=>{const le=(0,x.F8)(...Ke.map(De=>De(xe=>Qe.call(fe,xe))));return H(le,$)}}V.any=G;function j(Ke,Qe,fe,$){let le=fe;return A(Ke,De=>(le=Qe(le,De),le),$)}V.reduce=j;function Y(Ke,Qe){let fe;const $={onWillAddFirstListener(){fe=Ke(le.fire,le)},onDidRemoveLastListener(){fe==null||fe.dispose()}};Qe||K($);const le=new l($);return Qe==null||Qe.add(le),le.event}function H(Ke,Qe){return Qe instanceof Array?Qe.push(Ke):Qe&&Qe.add(Ke),Ke}function Q(Ke,Qe,fe=100,$=!1,le=!1,De,xe){let Ce,me,be,oe=0,ue;const de={leakWarningThreshold:De,onWillAddFirstListener(){Ce=Ke(Te=>{oe++,me=Qe(me,Te),$&&!be&&(Se.fire(me),me=void 0),ue=()=>{const Ae=me;me=void 0,be=void 0,(!$||oe>1)&&Se.fire(Ae),oe=0},typeof fe=="number"?(clearTimeout(be),be=setTimeout(ue,fe)):be===void 0&&(be=0,queueMicrotask(ue))})},onWillRemoveListener(){le&&oe>0&&(ue==null||ue())},onDidRemoveLastListener(){ue=void 0,Ce.dispose()}};xe||K(de);const Se=new l(de);return xe==null||xe.add(Se),Se.event}V.debounce=Q;function ie(Ke,Qe=0,fe){return V.debounce(Ke,($,le)=>$?($.push(le),$):[le],Qe,void 0,!0,void 0,fe)}V.accumulate=ie;function te(Ke,Qe=($,le)=>$===le,fe){let $=!0,le;return I(Ke,De=>{const xe=$||!Qe(De,le);return $=!1,le=De,xe},fe)}V.latch=te;function se(Ke,Qe,fe){return[V.filter(Ke,Qe,fe),V.filter(Ke,$=>!Qe($),fe)]}V.split=se;function ne(Ke,Qe=!1,fe=[],$){let le=fe.slice(),De=Ke(me=>{le?le.push(me):Ce.fire(me)});$&&$.add(De);const xe=()=>{le==null||le.forEach(me=>Ce.fire(me)),le=null},Ce=new l({onWillAddFirstListener(){De||(De=Ke(me=>Ce.fire(me)),$&&$.add(De))},onDidAddFirstListener(){le&&(Qe?setTimeout(xe):xe())},onDidRemoveLastListener(){De&&De.dispose(),De=null}});return $&&$.add(Ce),Ce.event}V.buffer=ne;function ee(Ke,Qe){return($,le,De)=>{const xe=Qe(new he);return Ke(function(Ce){const me=xe.evaluate(Ce);me!==re&&$.call(le,me)},void 0,De)}}V.chain=ee;const re=Symbol("HaltChainable");class he{constructor(){this.steps=[]}map(Qe){return this.steps.push(Qe),this}forEach(Qe){return this.steps.push(fe=>(Qe(fe),fe)),this}filter(Qe){return this.steps.push(fe=>Qe(fe)?fe:re),this}reduce(Qe,fe){let $=fe;return this.steps.push(le=>($=Qe($,le),$)),this}latch(Qe=(fe,$)=>fe===$){let fe=!0,$;return this.steps.push(le=>{const De=fe||!Qe(le,$);return fe=!1,$=le,De?le:re}),this}evaluate(Qe){for(const fe of this.steps)if(Qe=fe(Qe),Qe===re)break;return Qe}}function M(Ke,Qe,fe=$=>$){const $=(...Ce)=>xe.fire(fe(...Ce)),le=()=>Ke.on(Qe,$),De=()=>Ke.removeListener(Qe,$),xe=new l({onWillAddFirstListener:le,onDidRemoveLastListener:De});return xe.event}V.fromNodeEventEmitter=M;function we(Ke,Qe,fe=$=>$){const $=(...Ce)=>xe.fire(fe(...Ce)),le=()=>Ke.addEventListener(Qe,$),De=()=>Ke.removeEventListener(Qe,$),xe=new l({onWillAddFirstListener:le,onDidRemoveLastListener:De});return xe.event}V.fromDOMEventEmitter=we;function We(Ke){return new Promise(Qe=>z(Ke)(Qe))}V.toPromise=We;function ye(Ke){const Qe=new l;return Ke.then(fe=>{Qe.fire(fe)},()=>{Qe.fire(void 0)}).finally(()=>{Qe.dispose()}),Qe.event}V.fromPromise=ye;function X(Ke,Qe,fe){return Qe(fe),Ke($=>Qe($))}V.runAndSubscribe=X;class ve{constructor(Qe,fe){this._observable=Qe,this._counter=0,this._hasChanged=!1;const $={onWillAddFirstListener:()=>{Qe.addObserver(this)},onDidRemoveLastListener:()=>{Qe.removeObserver(this)}};fe||K($),this.emitter=new l($),fe&&fe.add(this.emitter)}beginUpdate(Qe){this._counter++}handlePossibleChange(Qe){}handleChange(Qe,fe){this._hasChanged=!0}endUpdate(Qe){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function Ee(Ke,Qe){return new ve(Ke,Qe).emitter.event}V.fromObservable=Ee;function Oe(Ke){return(Qe,fe,$)=>{let le=0,De=!1;const xe={beginUpdate(){le++},endUpdate(){le--,le===0&&(Ke.reportChanges(),De&&(De=!1,Qe.call(fe)))},handlePossibleChange(){},handleChange(){De=!0}};Ke.addObserver(xe),Ke.reportChanges();const Ce={dispose(){Ke.removeObserver(xe)}};return $ instanceof x.SL?$.add(Ce):Array.isArray($)&&$.push(Ce),Ce}}V.fromObservableLight=Oe})(w||(w={}));class m{constructor(K){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${K}_${m._idPool++}`,m.all.add(this)}start(K){this._stopWatch=new S.G,this.listenerCount=K}stop(){if(this._stopWatch){const K=this._stopWatch.elapsed();this.durations.push(K),this.elapsedOverall+=K,this.invocationCount+=1,this._stopWatch=void 0}}}m.all=new Set,m._idPool=0;let g=-1;class a{constructor(K,Z=Math.random().toString(18).slice(2,5)){this.threshold=K,this.name=Z,this._warnCountdown=0}dispose(){var K;(K=this._stacks)===null||K===void 0||K.clear()}check(K,Z){const z=this.threshold;if(z<=0||Z<z)return;this._stacks||(this._stacks=new Map);const A=this._stacks.get(K.value)||0;if(this._stacks.set(K.value,A+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=z*.5;let P,I=0;for(const[W,G]of this._stacks)(!P||I<G)&&(P=W,I=G);console.warn(`[${this.name}] potential listener LEAK detected, having ${Z} listeners already. MOST frequent listener (${I}):`),console.warn(P)}return()=>{const P=this._stacks.get(K.value)||0;this._stacks.set(K.value,P-1)}}}class r{static create(){var K;return new r((K=new Error().stack)!==null&&K!==void 0?K:"")}constructor(K){this.value=K}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class i{constructor(K){this.value=K}}const n=2,c=(V,K)=>{if(V instanceof i)K(V);else for(let Z=0;Z<V.length;Z++){const z=V[Z];z&&K(z)}},u=p?new FinalizationRegistry(V=>{typeof V=="string"&&(console.warn("[LEAKING LISTENER] GC'ed a listener that was NOT yet disposed. This is where is was created:"),console.warn(V))}):void 0;class l{constructor(K){var Z,z,A,P,I;this._size=0,this._options=K,this._leakageMon=g>0||!((Z=this._options)===null||Z===void 0)&&Z.leakWarningThreshold?new a((A=(z=this._options)===null||z===void 0?void 0:z.leakWarningThreshold)!==null&&A!==void 0?A:g):void 0,this._perfMon=!((P=this._options)===null||P===void 0)&&P._profName?new m(this._options._profName):void 0,this._deliveryQueue=(I=this._options)===null||I===void 0?void 0:I.deliveryQueue}dispose(){var K,Z,z,A;if(!this._disposed){if(this._disposed=!0,((K=this._deliveryQueue)===null||K===void 0?void 0:K.current)===this&&this._deliveryQueue.reset(),this._listeners){if(E){const P=this._listeners;queueMicrotask(()=>{c(P,I=>{var W;return(W=I.stack)===null||W===void 0?void 0:W.print()})})}this._listeners=void 0,this._size=0}(z=(Z=this._options)===null||Z===void 0?void 0:Z.onDidRemoveLastListener)===null||z===void 0||z.call(Z),(A=this._leakageMon)===null||A===void 0||A.dispose()}}get event(){var K;return(K=this._event)!==null&&K!==void 0||(this._event=(Z,z,A)=>{var P,I,W,G,j;if(this._leakageMon&&this._size>this._leakageMon.threshold*3)return console.warn(`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far`),x.JT.None;if(this._disposed)return x.JT.None;z&&(Z=Z.bind(z));const Y=new i(Z);let H,Q;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(Y.stack=r.create(),H=this._leakageMon.check(Y.stack,this._size+1)),E&&(Y.stack=Q!=null?Q:r.create()),this._listeners?this._listeners instanceof i?((j=this._deliveryQueue)!==null&&j!==void 0||(this._deliveryQueue=new f),this._listeners=[this._listeners,Y]):this._listeners.push(Y):((I=(P=this._options)===null||P===void 0?void 0:P.onWillAddFirstListener)===null||I===void 0||I.call(P,this),this._listeners=Y,(G=(W=this._options)===null||W===void 0?void 0:W.onDidAddFirstListener)===null||G===void 0||G.call(W,this)),this._size++;const ie=(0,x.OF)(()=>{u==null||u.unregister(ie),H==null||H(),this._removeListener(Y)});if(A instanceof x.SL?A.add(ie):Array.isArray(A)&&A.push(ie),u){const te=new Error().stack.split(`
`).slice(2).join(`
`).trim();u.register(ie,te,ie)}return ie}),this._event}_removeListener(K){var Z,z,A,P;if((z=(Z=this._options)===null||Z===void 0?void 0:Z.onWillRemoveListener)===null||z===void 0||z.call(Z,this),!this._listeners)return;if(this._size===1){this._listeners=void 0,(P=(A=this._options)===null||A===void 0?void 0:A.onDidRemoveLastListener)===null||P===void 0||P.call(A,this),this._size=0;return}const I=this._listeners,W=I.indexOf(K);if(W===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,I[W]=void 0;const G=this._deliveryQueue.current===this;if(this._size*n<=I.length){let j=0;for(let Y=0;Y<I.length;Y++)I[Y]?I[j++]=I[Y]:G&&(this._deliveryQueue.end--,j<this._deliveryQueue.i&&this._deliveryQueue.i--);I.length=j}}_deliver(K,Z){var z;if(!K)return;const A=((z=this._options)===null||z===void 0?void 0:z.onListenerError)||o.dL;if(!A){K.value(Z);return}try{K.value(Z)}catch(P){A(P)}}_deliverQueue(K){const Z=K.current._listeners;for(;K.i<K.end;)this._deliver(Z[K.i++],K.value);K.reset()}fire(K){var Z,z,A,P;if(!((Z=this._deliveryQueue)===null||Z===void 0)&&Z.current&&(this._deliverQueue(this._deliveryQueue),(z=this._perfMon)===null||z===void 0||z.stop()),(A=this._perfMon)===null||A===void 0||A.start(this._size),this._listeners)if(this._listeners instanceof i)this._deliver(this._listeners,K);else{const I=this._deliveryQueue;I.enqueue(this,K,this._listeners.length),this._deliverQueue(I)}(P=this._perfMon)===null||P===void 0||P.stop()}hasListeners(){return this._size>0}}const D=()=>new f;class f{constructor(){this.i=-1,this.end=0}enqueue(K,Z,z){this.i=0,this.end=z,this.current=K,this.value=Z}reset(){this.i=this.end,this.current=void 0,this.value=void 0}}class y extends l{constructor(K){super(K),this._isPaused=0,this._eventQueue=new O.S,this._mergeFn=K==null?void 0:K.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){if(this._eventQueue.size>0){const K=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(K))}}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(K){this._size&&(this._isPaused!==0?this._eventQueue.push(K):super.fire(K))}}class C extends y{constructor(K){var Z;super(K),this._delay=(Z=K.delay)!==null&&Z!==void 0?Z:100}fire(K){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(K)}}class _ extends l{constructor(K){super(K),this._queuedEvents=[],this._mergeFn=K==null?void 0:K.merge}fire(K){this.hasListeners()&&(this._queuedEvents.push(K),this._queuedEvents.length===1&&queueMicrotask(()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach(Z=>super.fire(Z)),this._queuedEvents=[]}))}}class N{constructor(){this.hasListeners=!1,this.events=[],this.emitter=new l({onWillAddFirstListener:()=>this.onFirstListenerAdd(),onDidRemoveLastListener:()=>this.onLastListenerRemove()})}get event(){return this.emitter.event}add(K){const Z={event:K,listener:null};this.events.push(Z),this.hasListeners&&this.hook(Z);const z=()=>{this.hasListeners&&this.unhook(Z);const A=this.events.indexOf(Z);this.events.splice(A,1)};return(0,x.OF)((0,B.M)(z))}onFirstListenerAdd(){this.hasListeners=!0,this.events.forEach(K=>this.hook(K))}onLastListenerRemove(){this.hasListeners=!1,this.events.forEach(K=>this.unhook(K))}hook(K){K.listener=K.event(Z=>this.emitter.fire(Z))}unhook(K){var Z;(Z=K.listener)===null||Z===void 0||Z.dispose(),K.listener=null}dispose(){var K;this.emitter.dispose();for(const Z of this.events)(K=Z.listener)===null||K===void 0||K.dispose();this.events=[]}}class b{constructor(){this.buffers=[]}wrapEvent(K){return(Z,z,A)=>K(P=>{const I=this.buffers[this.buffers.length-1];I?I.push(()=>Z.call(z,P)):Z.call(z,P)},void 0,A)}bufferEvents(K){const Z=[];this.buffers.push(Z);const z=K();return this.buffers.pop(),Z.forEach(A=>A()),z}}class k{constructor(){this.listening=!1,this.inputEvent=w.None,this.inputEventListener=x.JT.None,this.emitter=new l({onDidAddFirstListener:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onDidRemoveLastListener:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(K){this.inputEvent=K,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=K(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}},79916:function(et,Le,e){"use strict";e.d(Le,{KM:function(){return R},ej:function(){return S},fn:function(){return p},oP:function(){return m},yj:function(){return E}});var o=e(99620),B=e(15122),x=e(30144);function O(g){return g===47||g===92}function S(g){return g.replace(/[\\/]/g,o.KR.sep)}function p(g){return g.indexOf("/")===-1&&(g=S(g)),/^[a-zA-Z]:(\/|$)/.test(g)&&(g="/"+g),g}function E(g,a=o.KR.sep){if(!g)return"";const r=g.length,i=g.charCodeAt(0);if(O(i)){if(O(g.charCodeAt(1))&&!O(g.charCodeAt(2))){let c=3;const u=c;for(;c<r&&!O(g.charCodeAt(c));c++);if(u!==c&&!O(g.charCodeAt(c+1))){for(c+=1;c<r;c++)if(O(g.charCodeAt(c)))return g.slice(0,c+1).replace(/[\\/]/g,a)}}return a}else if(w(i)&&g.charCodeAt(1)===58)return O(g.charCodeAt(2))?g.slice(0,2)+a:g.slice(0,2);let n=g.indexOf("://");if(n!==-1){for(n+=3;n<r;n++)if(O(g.charCodeAt(n)))return g.slice(0,n+1)}return""}function R(g,a,r,i=o.ir){if(g===a)return!0;if(!g||!a||a.length>g.length)return!1;if(r){if(!(0,x.ok)(g,a))return!1;if(a.length===g.length)return!0;let c=a.length;return a.charAt(a.length-1)===i&&c--,g.charAt(c)===i}return a.charAt(a.length-1)!==i&&(a+=i),g.indexOf(a)===0}function w(g){return g>=65&&g<=90||g>=97&&g<=122}function m(g,a=B.ED){return a?w(g.charCodeAt(0))&&g.charCodeAt(1)===58:!1}},87100:function(et,Le,e){"use strict";e.d(Le,{CL:function(){return me},mX:function(){return be},jB:function(){return he},mB:function(){return M},EW:function(){return oe},l7:function(){return Se},ir:function(){return u},Oh:function(){return ee},XU:function(){return re},Ji:function(){return n},Sy:function(){return l},KZ:function(){return H},or:function(){return r}});var o=e(79138);function B(pe){const je=S(pe);if(je&&je.length>0)return new Uint32Array(je)}let x=0;const O=new Uint32Array(10);function S(pe){if(x=0,p(pe,R,4352),x>0||(p(pe,w,4449),x>0)||(p(pe,m,4520),x>0)||(p(pe,g,12593),x))return O.subarray(0,x);if(pe>=44032&&pe<=55203){const je=pe-44032,ot=je%588,xt=Math.floor(je/588),jt=Math.floor(ot/28),oi=ot%28-1;if(xt<R.length?p(xt,R,0):4352+xt-12593<g.length&&p(4352+xt,g,12593),jt<w.length?p(jt,w,0):4449+jt-12593<g.length&&p(4449+jt-12593,g,12593),oi>=0&&(oi<m.length?p(oi,m,0):4520+oi-12593<g.length&&p(4520+oi-12593,g,12593)),x>0)return O.subarray(0,x)}}function p(pe,je,ot){pe>=ot&&pe<ot+je.length&&E(je[pe-ot])}function E(pe){pe!==0&&(O[x++]=pe&255,pe>>8&&(O[x++]=pe>>8&255),pe>>16&&(O[x++]=pe>>16&255))}const R=new Uint8Array([114,82,115,101,69,102,97,113,81,116,84,100,119,87,99,122,120,118,103]),w=new Uint16Array([107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]),m=new Uint16Array([114,82,29810,115,30579,26483,101,102,29286,24934,29030,29798,30822,30310,26470,97,113,29809,116,84,100,119,99,122,120,118,103]),g=new Uint16Array([114,82,29810,115,30579,26483,101,69,102,29286,24934,29030,29798,30822,30310,26470,97,113,81,29809,116,84,100,119,87,99,122,120,118,103,107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]);var a=e(30144);function r(...pe){return function(je,ot){for(let xt=0,jt=pe.length;xt<jt;xt++){const oi=pe[xt](je,ot);if(oi)return oi}return null}}const i=c.bind(void 0,!1),n=c.bind(void 0,!0);function c(pe,je,ot){if(!ot||ot.length<je.length)return null;let xt;return pe?xt=a.ok(ot,je):xt=ot.indexOf(je)===0,xt?je.length>0?[{start:0,end:je.length}]:[]:null}function u(pe,je){const ot=je.toLowerCase().indexOf(pe.toLowerCase());return ot===-1?null:[{start:ot,end:ot+pe.length}]}function l(pe,je){return D(pe.toLowerCase(),je.toLowerCase(),0,0)}function D(pe,je,ot,xt){if(ot===pe.length)return[];if(xt===je.length)return null;if(pe[ot]===je[xt]){let jt=null;return(jt=D(pe,je,ot+1,xt+1))?z({start:xt,end:xt+1},jt):null}return D(pe,je,ot,xt+1)}function f(pe){return 97<=pe&&pe<=122}function y(pe){return 65<=pe&&pe<=90}function C(pe){return 48<=pe&&pe<=57}function _(pe){return pe===32||pe===9||pe===10||pe===13}const N=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(pe=>N.add(pe.charCodeAt(0)));function b(pe){return _(pe)||N.has(pe)}function k(pe,je){return pe===je||b(pe)&&b(je)}const V=new Map;function K(pe){if(V.has(pe))return V.get(pe);let je;const ot=B(pe);return ot&&(je=ot),V.set(pe,je),je}function Z(pe){return f(pe)||y(pe)||C(pe)}function z(pe,je){return je.length===0?je=[pe]:pe.end===je[0].start?je[0].start=pe.start:je.unshift(pe),je}function A(pe,je){for(let ot=je;ot<pe.length;ot++){const xt=pe.charCodeAt(ot);if(y(xt)||C(xt)||ot>0&&!Z(pe.charCodeAt(ot-1)))return ot}return pe.length}function P(pe,je,ot,xt){if(ot===pe.length)return[];if(xt===je.length)return null;if(pe[ot]!==je[xt].toLowerCase())return null;{let jt=null,oi=xt+1;for(jt=P(pe,je,ot+1,xt+1);!jt&&(oi=A(je,oi))<je.length;)jt=P(pe,je,ot+1,oi),oi++;return jt===null?null:z({start:xt,end:xt+1},jt)}}function I(pe){let je=0,ot=0,xt=0,jt=0,oi=0;for(let Nt=0;Nt<pe.length;Nt++)oi=pe.charCodeAt(Nt),y(oi)&&je++,f(oi)&&ot++,Z(oi)&&xt++,C(oi)&&jt++;const ti=je/pe.length,it=ot/pe.length,yt=xt/pe.length,$t=jt/pe.length;return{upperPercent:ti,lowerPercent:it,alphaPercent:yt,numericPercent:$t}}function W(pe){const{upperPercent:je,lowerPercent:ot}=pe;return ot===0&&je>.6}function G(pe){const{upperPercent:je,lowerPercent:ot,alphaPercent:xt,numericPercent:jt}=pe;return ot>.2&&je<.8&&xt>.6&&jt<.2}function j(pe){let je=0,ot=0,xt=0,jt=0;for(let oi=0;oi<pe.length;oi++)xt=pe.charCodeAt(oi),y(xt)&&je++,f(xt)&&ot++,_(xt)&&jt++;return(je===0||ot===0)&&jt===0?pe.length<=30:je<=5}function Y(pe,je){if(!je||(je=je.trim(),je.length===0)||!j(pe))return null;je.length>60&&(je=je.substring(0,60));const ot=I(je);if(!G(ot)){if(!W(ot))return null;je=je.toLowerCase()}let xt=null,jt=0;for(pe=pe.toLowerCase();jt<je.length&&(xt=P(pe,je,0,jt))===null;)jt=A(je,jt+1);return xt}function H(pe,je,ot=!1){if(!je||je.length===0)return null;let xt=null,jt=0;for(pe=pe.toLowerCase(),je=je.toLowerCase();jt<je.length&&(xt=Q(pe,je,0,jt,ot),xt===null);)jt=ie(je,jt+1);return xt}function Q(pe,je,ot,xt,jt){let oi=0;if(ot===pe.length)return[];if(xt===je.length)return null;if(!k(pe.charCodeAt(ot),je.charCodeAt(xt))){const yt=K(pe.charCodeAt(ot));if(!yt)return null;for(let $t=0;$t<yt.length;$t++)if(!k(yt[$t],je.charCodeAt(xt+$t)))return null;oi+=yt.length-1}let ti=null,it=xt+oi+1;if(ti=Q(pe,je,ot+1,it,jt),!jt)for(;!ti&&(it=ie(je,it))<je.length;)ti=Q(pe,je,ot+1,it,jt),it++;if(!ti)return null;if(pe.charCodeAt(ot)!==je.charCodeAt(xt)){const yt=K(pe.charCodeAt(ot));if(!yt)return ti;for(let $t=0;$t<yt.length;$t++)if(yt[$t]!==je.charCodeAt(xt+$t))return ti}return z({start:xt,end:xt+oi+1},ti)}function ie(pe,je){for(let ot=je;ot<pe.length;ot++)if(b(pe.charCodeAt(ot))||ot>0&&b(pe.charCodeAt(ot-1)))return ot;return pe.length}const te=r(n,Y,u),se=r(n,Y,l),ne=new o.z6(1e4);function ee(pe,je,ot=!1){if(typeof pe!="string"||typeof je!="string")return null;let xt=ne.get(pe);xt||(xt=new RegExp(a.un(pe),"i"),ne.set(pe,xt));const jt=xt.exec(je);return jt?[{start:jt.index,end:jt.index+jt[0].length}]:ot?se(pe,je):te(pe,je)}function re(pe,je){const ot=oe(pe,pe.toLowerCase(),0,je,je.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return ot?M(ot):null}function he(pe,je,ot,xt,jt,oi){const ti=Math.min(13,pe.length);for(;ot<ti;ot++){const it=oe(pe,je,ot,xt,jt,oi,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(it)return it}return[0,oi]}function M(pe){if(typeof pe=="undefined")return[];const je=[],ot=pe[1];for(let xt=pe.length-1;xt>1;xt--){const jt=pe[xt]+ot,oi=je[je.length-1];oi&&oi.end===jt?oi.end=jt+1:je.push({start:jt,end:jt+1})}return je}const we=128;function We(){const pe=[],je=[];for(let ot=0;ot<=we;ot++)je[ot]=0;for(let ot=0;ot<=we;ot++)pe.push(je.slice(0));return pe}function ye(pe){const je=[];for(let ot=0;ot<=pe;ot++)je[ot]=0;return je}const X=ye(2*we),ve=ye(2*we),Ee=We(),Oe=We(),Ke=We(),Qe=!1;function fe(pe,je,ot,xt,jt){function oi(it,yt,$t=" "){for(;it.length<yt;)it=$t+it;return it}let ti=` |   |${xt.split("").map(it=>oi(it,3)).join("|")}
`;for(let it=0;it<=ot;it++)it===0?ti+=" |":ti+=`${je[it-1]}|`,ti+=pe[it].slice(0,jt+1).map(yt=>oi(yt.toString(),3)).join("|")+`
`;return ti}function $(pe,je,ot,xt){pe=pe.substr(je),ot=ot.substr(xt),console.log(fe(Oe,pe,pe.length,ot,ot.length)),console.log(fe(Ke,pe,pe.length,ot,ot.length)),console.log(fe(Ee,pe,pe.length,ot,ot.length))}function le(pe,je){if(je<0||je>=pe.length)return!1;const ot=pe.codePointAt(je);switch(ot){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!a.C8(ot)}}function De(pe,je){if(je<0||je>=pe.length)return!1;switch(pe.charCodeAt(je)){case 32:case 9:return!0;default:return!1}}function xe(pe,je,ot){return je[pe]!==ot[pe]}function Ce(pe,je,ot,xt,jt,oi,ti=!1){for(;je<ot&&jt<oi;)pe[je]===xt[jt]&&(ti&&(X[je]=jt),je+=1),jt+=1;return je===ot}var me;(function(pe){pe.Default=[-100,0];function je(ot){return!ot||ot.length===2&&ot[0]===-100&&ot[1]===0}pe.isDefault=je})(me||(me={}));class be{constructor(je,ot){this.firstMatchCanBeWeak=je,this.boostFullMatch=ot}}be.default={boostFullMatch:!0,firstMatchCanBeWeak:!1};function oe(pe,je,ot,xt,jt,oi,ti=be.default){const it=pe.length>we?we:pe.length,yt=xt.length>we?we:xt.length;if(ot>=it||oi>=yt||it-ot>yt-oi||!Ce(je,ot,it,jt,oi,yt,!0))return;ue(it,yt,ot,oi,je,jt);let $t=1,Nt=1,qt=ot,Ht=oi;const He=[!1];for($t=1,qt=ot;qt<it;$t++,qt++){const Bi=X[qt],Vi=ve[qt],Ji=qt+1<it?ve[qt+1]:yt;for(Nt=Bi-oi+1,Ht=Bi;Ht<Ji;Nt++,Ht++){let wn=Number.MIN_SAFE_INTEGER,yn=!1;Ht<=Vi&&(wn=de(pe,je,qt,ot,xt,jt,Ht,yt,oi,Ee[$t-1][Nt-1]===0,He));let Cn=0;wn!==Number.MAX_SAFE_INTEGER&&(yn=!0,Cn=wn+Oe[$t-1][Nt-1]);const an=Ht>Bi,Rn=an?Oe[$t][Nt-1]+(Ee[$t][Nt-1]>0?-5:0):0,kn=Ht>Bi+1&&Ee[$t][Nt-1]>0,fn=kn?Oe[$t][Nt-2]+(Ee[$t][Nt-2]>0?-5:0):0;if(kn&&(!an||fn>=Rn)&&(!yn||fn>=Cn))Oe[$t][Nt]=fn,Ke[$t][Nt]=3,Ee[$t][Nt]=0;else if(an&&(!yn||Rn>=Cn))Oe[$t][Nt]=Rn,Ke[$t][Nt]=2,Ee[$t][Nt]=0;else if(yn)Oe[$t][Nt]=Cn,Ke[$t][Nt]=1,Ee[$t][Nt]=Ee[$t-1][Nt-1]+1;else throw new Error("not possible")}}if(Qe&&$(pe,ot,xt,oi),!He[0]&&!ti.firstMatchCanBeWeak)return;$t--,Nt--;const Ct=[Oe[$t][Nt],oi];let Gt=0,Di=0;for(;$t>=1;){let Bi=Nt;do{const Vi=Ke[$t][Bi];if(Vi===3)Bi=Bi-2;else if(Vi===2)Bi=Bi-1;else break}while(Bi>=1);Gt>1&&je[ot+$t-1]===jt[oi+Nt-1]&&!xe(Bi+oi-1,xt,jt)&&Gt+1>Ee[$t][Bi]&&(Bi=Nt),Bi===Nt?Gt++:Gt=1,Di||(Di=Bi),$t--,Nt=Bi-1,Ct.push(Nt)}yt===it&&ti.boostFullMatch&&(Ct[0]+=2);const $i=Di-it;return Ct[0]-=$i,Ct}function ue(pe,je,ot,xt,jt,oi){let ti=pe-1,it=je-1;for(;ti>=ot&&it>=xt;)jt[ti]===oi[it]&&(ve[ti]=it,ti--),it--}function de(pe,je,ot,xt,jt,oi,ti,it,yt,$t,Nt){if(je[ot]!==oi[ti])return Number.MIN_SAFE_INTEGER;let qt=1,Ht=!1;return ti===ot-xt?qt=pe[ot]===jt[ti]?7:5:xe(ti,jt,oi)&&(ti===0||!xe(ti-1,jt,oi))?(qt=pe[ot]===jt[ti]?7:5,Ht=!0):le(oi,ti)&&(ti===0||!le(oi,ti-1))?qt=5:(le(oi,ti-1)||De(oi,ti-1))&&(qt=5,Ht=!0),qt>1&&ot===xt&&(Nt[0]=!0),Ht||(Ht=xe(ti,jt,oi)||le(oi,ti-1)||De(oi,ti-1)),ot===xt?ti>yt&&(qt-=Ht?3:5):$t?qt+=Ht?2:0:qt+=Ht?0:1,ti+1===it&&(qt-=Ht?3:5),qt}function Se(pe,je,ot,xt,jt,oi,ti){return Te(pe,je,ot,xt,jt,oi,!0,ti)}function Te(pe,je,ot,xt,jt,oi,ti,it){let yt=oe(pe,je,ot,xt,jt,oi,it);if(yt&&!ti)return yt;if(pe.length>=3){const $t=Math.min(7,pe.length-1);for(let Nt=ot+1;Nt<$t;Nt++){const qt=Ae(pe,Nt);if(qt){const Ht=oe(qt,qt.toLowerCase(),ot,xt,jt,oi,it);Ht&&(Ht[0]-=3,(!yt||Ht[0]>yt[0])&&(yt=Ht))}}}return yt}function Ae(pe,je){if(je+1>=pe.length)return;const ot=pe[je],xt=pe[je+1];if(ot!==xt)return pe.slice(0,je)+xt+ot+pe.slice(je+2)}},77303:function(et,Le,e){"use strict";e.d(Le,{M:function(){return o}});function o(B,x){const O=this;let S=!1,p;return function(){if(S)return p;if(S=!0,x)try{p=B.apply(O,arguments)}finally{x()}else p=B.apply(O,arguments);return p}}},17868:function(et,Le,e){"use strict";e.d(Le,{EQ:function(){return P},Qc:function(){return I}});var o=e(74696),B=e(79916),x=e(79138),O=e(99620),S=e(15122),p=e(30144);const E="**",R="/",w="[/\\\\]",m="[^/\\\\]",g=/\//g;function a(H,Q){switch(H){case 0:return"";case 1:return`${m}*?`;default:return`(?:${w}|${m}+${w}${Q?`|${w}${m}+`:""})*?`}}function r(H,Q){if(!H)return[];const ie=[];let te=!1,se=!1,ne="";for(const ee of H){switch(ee){case Q:if(!te&&!se){ie.push(ne),ne="";continue}break;case"{":te=!0;break;case"}":te=!1;break;case"[":se=!0;break;case"]":se=!1;break}ne+=ee}return ne&&ie.push(ne),ie}function i(H){if(!H)return"";let Q="";const ie=r(H,R);if(ie.every(te=>te===E))Q=".*";else{let te=!1;ie.forEach((se,ne)=>{if(se===E){if(te)return;Q+=a(2,ne===ie.length-1)}else{let ee=!1,re="",he=!1,M="";for(const we of se){if(we!=="}"&&ee){re+=we;continue}if(he&&(we!=="]"||!M)){let We;we==="-"?We=we:(we==="^"||we==="!")&&!M?We="^":we===R?We="":We=(0,p.ec)(we),M+=We;continue}switch(we){case"{":ee=!0;continue;case"[":he=!0;continue;case"}":{const ye=`(?:${r(re,",").map(X=>i(X)).join("|")})`;Q+=ye,ee=!1,re="";break}case"]":{Q+="["+M+"]",he=!1,M="";break}case"?":Q+=m;continue;case"*":Q+=a(1);continue;default:Q+=(0,p.ec)(we)}}ne<ie.length-1&&(ie[ne+1]!==E||ne+2<ie.length)&&(Q+=w)}te=se===E})}return Q}const n=/^\*\*\/\*\.[\w\.-]+$/,c=/^\*\*\/([\w\.-]+)\/?$/,u=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,l=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,D=/^\*\*((\/[\w\.-]+)+)\/?$/,f=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,y=new x.z6(1e4),C=function(){return!1},_=function(){return null};function N(H,Q){if(!H)return _;let ie;typeof H!="string"?ie=H.pattern:ie=H,ie=ie.trim();const te=`${ie}_${!!Q.trimForExclusions}`;let se=y.get(te);if(se)return b(se,H);let ne;return n.test(ie)?se=V(ie.substr(4),ie):(ne=c.exec(k(ie,Q)))?se=K(ne[1],ie):(Q.trimForExclusions?l:u).test(ie)?se=Z(ie,Q):(ne=D.exec(k(ie,Q)))?se=z(ne[1].substr(1),ie,!0):(ne=f.exec(k(ie,Q)))?se=z(ne[1],ie,!1):se=A(ie),y.set(te,se),b(se,H)}function b(H,Q){if(typeof Q=="string")return H;const ie=function(te,se){return(0,B.KM)(te,Q.base,!S.IJ)?H((0,p.j3)(te.substr(Q.base.length),O.ir),se):null};return ie.allBasenames=H.allBasenames,ie.allPaths=H.allPaths,ie.basenames=H.basenames,ie.patterns=H.patterns,ie}function k(H,Q){return Q.trimForExclusions&&H.endsWith("/**")?H.substr(0,H.length-2):H}function V(H,Q){return function(ie,te){return typeof ie=="string"&&ie.endsWith(H)?Q:null}}function K(H,Q){const ie=`/${H}`,te=`\\${H}`,se=function(ee,re){return typeof ee!="string"?null:re?re===H?Q:null:ee===H||ee.endsWith(ie)||ee.endsWith(te)?Q:null},ne=[H];return se.basenames=ne,se.patterns=[Q],se.allBasenames=ne,se}function Z(H,Q){const ie=Y(H.slice(1,-1).split(",").map(re=>N(re,Q)).filter(re=>re!==_),H),te=ie.length;if(!te)return _;if(te===1)return ie[0];const se=function(re,he){for(let M=0,we=ie.length;M<we;M++)if(ie[M](re,he))return H;return null},ne=ie.find(re=>!!re.allBasenames);ne&&(se.allBasenames=ne.allBasenames);const ee=ie.reduce((re,he)=>he.allPaths?re.concat(he.allPaths):re,[]);return ee.length&&(se.allPaths=ee),se}function z(H,Q,ie){const te=O.ir===O.KR.sep,se=te?H:H.replace(g,O.ir),ne=O.ir+se,ee=O.KR.sep+H;let re;return ie?re=function(he,M){return typeof he=="string"&&(he===se||he.endsWith(ne)||!te&&(he===H||he.endsWith(ee)))?Q:null}:re=function(he,M){return typeof he=="string"&&(he===se||!te&&he===H)?Q:null},re.allPaths=[(ie?"*/":"./")+H],re}function A(H){try{const Q=new RegExp(`^${i(H)}$`);return function(ie){return Q.lastIndex=0,typeof ie=="string"&&Q.test(ie)?H:null}}catch(Q){return _}}function P(H,Q,ie){return!H||typeof Q!="string"?!1:I(H)(Q,void 0,ie)}function I(H,Q={}){if(!H)return C;if(typeof H=="string"||W(H)){const ie=N(H,Q);if(ie===_)return C;const te=function(se,ne){return!!ie(se,ne)};return ie.allBasenames&&(te.allBasenames=ie.allBasenames),ie.allPaths&&(te.allPaths=ie.allPaths),te}return G(H,Q)}function W(H){const Q=H;return Q?typeof Q.base=="string"&&typeof Q.pattern=="string":!1}function G(H,Q){const ie=Y(Object.getOwnPropertyNames(H).map(re=>j(re,H[re],Q)).filter(re=>re!==_)),te=ie.length;if(!te)return _;if(!ie.some(re=>!!re.requiresSiblings)){if(te===1)return ie[0];const re=function(we,We){let ye;for(let X=0,ve=ie.length;X<ve;X++){const Ee=ie[X](we,We);if(typeof Ee=="string")return Ee;(0,o.J8)(Ee)&&(ye||(ye=[]),ye.push(Ee))}return ye?Ft(this,null,function*(){for(const X of ye){const ve=yield X;if(typeof ve=="string")return ve}return null}):null},he=ie.find(we=>!!we.allBasenames);he&&(re.allBasenames=he.allBasenames);const M=ie.reduce((we,We)=>We.allPaths?we.concat(We.allPaths):we,[]);return M.length&&(re.allPaths=M),re}const se=function(re,he,M){let we,We;for(let ye=0,X=ie.length;ye<X;ye++){const ve=ie[ye];ve.requiresSiblings&&M&&(he||(he=(0,O.EZ)(re)),we||(we=he.substr(0,he.length-(0,O.DZ)(re).length)));const Ee=ve(re,he,we,M);if(typeof Ee=="string")return Ee;(0,o.J8)(Ee)&&(We||(We=[]),We.push(Ee))}return We?Ft(this,null,function*(){for(const ye of We){const X=yield ye;if(typeof X=="string")return X}return null}):null},ne=ie.find(re=>!!re.allBasenames);ne&&(se.allBasenames=ne.allBasenames);const ee=ie.reduce((re,he)=>he.allPaths?re.concat(he.allPaths):re,[]);return ee.length&&(se.allPaths=ee),se}function j(H,Q,ie){if(Q===!1)return _;const te=N(H,ie);if(te===_)return _;if(typeof Q=="boolean")return te;if(Q){const se=Q.when;if(typeof se=="string"){const ne=(ee,re,he,M)=>{if(!M||!te(ee,re))return null;const we=se.replace("$(basename)",()=>he),We=M(we);return(0,o.J8)(We)?We.then(ye=>ye?H:null):We?H:null};return ne.requiresSiblings=!0,ne}}return te}function Y(H,Q){const ie=H.filter(re=>!!re.basenames);if(ie.length<2)return H;const te=ie.reduce((re,he)=>{const M=he.basenames;return M?re.concat(M):re},[]);let se;if(Q){se=[];for(let re=0,he=te.length;re<he;re++)se.push(Q)}else se=ie.reduce((re,he)=>{const M=he.patterns;return M?re.concat(M):re},[]);const ne=function(re,he){if(typeof re!="string")return null;if(!he){let we;for(we=re.length;we>0;we--){const We=re.charCodeAt(we-1);if(We===47||We===92)break}he=re.substr(we)}const M=te.indexOf(he);return M!==-1?se[M]:null};ne.basenames=te,ne.patterns=se,ne.allBasenames=te;const ee=H.filter(re=>!re.basenames);return ee.push(ne),ee}},95948:function(et,Le,e){"use strict";e.d(Le,{Cv:function(){return p},SP:function(){return x},vp:function(){return B},yP:function(){return r}});var o=e(30144);function B(i){return x(i,0)}function x(i,n){switch(typeof i){case"object":return i===null?O(349,n):Array.isArray(i)?E(i,n):R(i,n);case"string":return p(i,n);case"boolean":return S(i,n);case"number":return O(i,n);case"undefined":return O(937,n);default:return O(617,n)}}function O(i,n){return(n<<5)-n+i|0}function S(i,n){return O(i?433:863,n)}function p(i,n){n=O(149417,n);for(let c=0,u=i.length;c<u;c++)n=O(i.charCodeAt(c),n);return n}function E(i,n){return n=O(104579,n),i.reduce((c,u)=>x(u,c),n)}function R(i,n){return n=O(181387,n),Object.keys(i).sort().reduce((c,u)=>(c=p(u,c),x(i[u],c)),n)}function w(i,n,c=32){const u=c-n,l=~((1<<u)-1);return(i<<n|(l&i)>>>u)>>>0}function m(i,n=0,c=i.byteLength,u=0){for(let l=0;l<c;l++)i[n+l]=u}function g(i,n,c="0"){for(;i.length<n;)i=c+i;return i}function a(i,n=32){return i instanceof ArrayBuffer?Array.from(new Uint8Array(i)).map(c=>c.toString(16).padStart(2,"0")).join(""):g((i>>>0).toString(16),n/4)}class r{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(n){const c=n.length;if(c===0)return;const u=this._buff;let l=this._buffLen,D=this._leftoverHighSurrogate,f,y;for(D!==0?(f=D,y=-1,D=0):(f=n.charCodeAt(0),y=0);;){let C=f;if(o.ZG(f))if(y+1<c){const _=n.charCodeAt(y+1);o.YK(_)?(y++,C=o.rL(f,_)):C=65533}else{D=f;break}else o.YK(f)&&(C=65533);if(l=this._push(u,l,C),y++,y<c)f=n.charCodeAt(y);else break}this._buffLen=l,this._leftoverHighSurrogate=D}_push(n,c,u){return u<128?n[c++]=u:u<2048?(n[c++]=192|(u&1984)>>>6,n[c++]=128|(u&63)>>>0):u<65536?(n[c++]=224|(u&61440)>>>12,n[c++]=128|(u&4032)>>>6,n[c++]=128|(u&63)>>>0):(n[c++]=240|(u&1835008)>>>18,n[c++]=128|(u&258048)>>>12,n[c++]=128|(u&4032)>>>6,n[c++]=128|(u&63)>>>0),c>=64&&(this._step(),c-=64,this._totalLen+=64,n[0]=n[64],n[1]=n[65],n[2]=n[66]),c}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),a(this._h0)+a(this._h1)+a(this._h2)+a(this._h3)+a(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,m(this._buff,this._buffLen),this._buffLen>56&&(this._step(),m(this._buff));const n=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(n/4294967296),!1),this._buffDV.setUint32(60,n%4294967296,!1),this._step()}_step(){const n=r._bigBlock32,c=this._buffDV;for(let b=0;b<64;b+=4)n.setUint32(b,c.getUint32(b,!1),!1);for(let b=64;b<320;b+=4)n.setUint32(b,w(n.getUint32(b-12,!1)^n.getUint32(b-32,!1)^n.getUint32(b-56,!1)^n.getUint32(b-64,!1),1),!1);let u=this._h0,l=this._h1,D=this._h2,f=this._h3,y=this._h4,C,_,N;for(let b=0;b<80;b++)b<20?(C=l&D|~l&f,_=1518500249):b<40?(C=l^D^f,_=1859775393):b<60?(C=l&D|l&f|D&f,_=2400959708):(C=l^D^f,_=3395469782),N=w(u,5)+C+y+_+n.getUint32(b*4,!1)&4294967295,y=f,f=D,D=w(l,30),l=u,u=N;this._h0=this._h0+u&4294967295,this._h1=this._h1+l&4294967295,this._h2=this._h2+D&4294967295,this._h3=this._h3+f&4294967295,this._h4=this._h4+y&4294967295}}r._bigBlock32=new DataView(new ArrayBuffer(320))},51997:function(et,Le,e){"use strict";e.d(Le,{o:function(){return o}});class o{constructor(x){this.value=x}equals(x){return this.value===x.value}contains(x){return this.equals(x)||this.value===""||x.value.startsWith(this.value+o.sep)}intersects(x){return this.contains(x)||x.contains(this)}append(...x){return new o((this.value?[this.value,...x]:x).join(o.sep))}}o.sep=".",o.None=new o("@@none@@"),o.Empty=new o("")},60473:function(et,Le,e){"use strict";e.d(Le,{CP:function(){return E},Fr:function(){return R},W5:function(){return p},d9:function(){return a},g_:function(){return w},oR:function(){return r},v1:function(){return i}});var o=e(25602),B=e(15641),x=e(2644),O=e(30144),S=e(10058);class p{constructor(c="",u=!1){var l,D,f;if(this.value=c,typeof this.value!="string")throw(0,o.b1)("value");typeof u=="boolean"?(this.isTrusted=u,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(l=u.isTrusted)!==null&&l!==void 0?l:void 0,this.supportThemeIcons=(D=u.supportThemeIcons)!==null&&D!==void 0?D:!1,this.supportHtml=(f=u.supportHtml)!==null&&f!==void 0?f:!1)}appendText(c,u=0){return this.value+=m(this.supportThemeIcons?(0,B.Qo)(c):c).replace(/([ \t]+)/g,(l,D)=>"&nbsp;".repeat(D.length)).replace(/\>/gm,"\\>").replace(/\n/g,u===1?`\\
`:`

`),this}appendMarkdown(c){return this.value+=c,this}appendCodeblock(c,u){return this.value+=`
${g(u,c)}
`,this}appendLink(c,u,l){return this.value+="[",this.value+=this._escape(u,"]"),this.value+="](",this.value+=this._escape(String(c),")"),l&&(this.value+=` "${this._escape(this._escape(l,'"'),")")}"`),this.value+=")",this}_escape(c,u){const l=new RegExp((0,O.ec)(u),"g");return c.replace(l,(D,f)=>c.charAt(f-1)!=="\\"?`\\${D}`:D)}}function E(n){return R(n)?!n.value:Array.isArray(n)?n.every(E):!0}function R(n){return n instanceof p?!0:n&&typeof n=="object"?typeof n.value=="string"&&(typeof n.isTrusted=="boolean"||typeof n.isTrusted=="object"||n.isTrusted===void 0)&&(typeof n.supportThemeIcons=="boolean"||n.supportThemeIcons===void 0):!1}function w(n,c){return n===c?!0:!n||!c?!1:n.value===c.value&&n.isTrusted===c.isTrusted&&n.supportThemeIcons===c.supportThemeIcons&&n.supportHtml===c.supportHtml&&(n.baseUri===c.baseUri||!!n.baseUri&&!!c.baseUri&&(0,x.Xy)(S.o.from(n.baseUri),S.o.from(c.baseUri)))}function m(n){return n.replace(/[\\`*_{}[\]()#+\-!~]/g,"\\$&")}function g(n,c){var u,l;const D=(l=(u=n.match(/^`+/gm))===null||u===void 0?void 0:u.reduce((y,C)=>y.length>C.length?y:C).length)!==null&&l!==void 0?l:0,f=D>=3?D+1:3;return[`${"`".repeat(f)}${c}`,n,`${"`".repeat(f)}`].join(`
`)}function a(n){return n.replace(/"/g,"&quot;")}function r(n){return n&&n.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1")}function i(n){const c=[],u=n.split("|").map(D=>D.trim());n=u[0];const l=u[1];if(l){const D=/height=(\d+)/.exec(l),f=/width=(\d+)/.exec(l),y=D?D[1]:"",C=f?f[1]:"",_=isFinite(parseInt(C)),N=isFinite(parseInt(y));_&&c.push(`width="${C}"`),N&&c.push(`height="${y}"`)}return{href:n,dimensions:c}}},15641:function(et,Le,e){"use strict";e.d(Le,{Gt:function(){return n},Ho:function(){return i},JL:function(){return a},Qo:function(){return E},f$:function(){return w},x$:function(){return g}});var o=e(87100),B=e(30144),x=e(68777);const O="$(",S=new RegExp(`\\$\\(${x.k.iconNameExpression}(?:${x.k.iconModifierExpression})?\\)`,"g"),p=new RegExp(`(\\\\)?${S.source}`,"g");function E(c){return c.replace(p,(u,l)=>l?u:`\\${u}`)}const R=new RegExp(`\\\\${S.source}`,"g");function w(c){return c.replace(R,u=>`\\${u}`)}const m=new RegExp(`(\\s)?(\\\\)?${S.source}(\\s)?`,"g");function g(c){return c.indexOf(O)===-1?c:c.replace(m,(u,l,D,f)=>D?u:l||f||"")}function a(c){return c?c.replace(/\$\((.*?)\)/g,(u,l)=>` ${l} `).trim():""}const r=new RegExp(`\\$\\(${x.k.iconNameCharacter}+\\)`,"g");function i(c){r.lastIndex=0;let u="";const l=[];let D=0;for(;;){const f=r.lastIndex,y=r.exec(c),C=c.substring(f,y==null?void 0:y.index);if(C.length>0){u+=C;for(let _=0;_<C.length;_++)l.push(D)}if(!y)break;D+=y[0].length}return{text:u,iconOffsets:l}}function n(c,u,l=!1){const{text:D,iconOffsets:f}=u;if(!f||f.length===0)return(0,o.Oh)(c,D,l);const y=(0,B.j3)(D," "),C=D.length-y.length,_=(0,o.Oh)(c,y,l);if(_)for(const N of _){const b=f[N.start+C]+C;N.start+=b,N.end+=b}return _}},16525:function(et,Le,e){"use strict";e.d(Le,{R:function(){return o},a:function(){return B}});class o{constructor(O){this._prefix=O,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const B=new o("id#")},5764:function(et,Le,e){"use strict";e.d(Le,{F:function(){return x}});var o=e(79329);class B{constructor(){this._onDidChange=new o.Q5,this.onDidChange=this._onDidChange.event,this._enabled=!0}get enabled(){return this._enabled}enable(){this._enabled=!0,this._onDidChange.fire()}disable(){this._enabled=!1,this._onDidChange.fire()}}const x=new B},852:function(et,Le,e){"use strict";e.d(Le,{$:function(){return o}});var o;(function(B){function x(y){return y&&typeof y=="object"&&typeof y[Symbol.iterator]=="function"}B.is=x;const O=Object.freeze([]);function S(){return O}B.empty=S;function*p(y){yield y}B.single=p;function E(y){return x(y)?y:p(y)}B.wrap=E;function R(y){return y||O}B.from=R;function*w(y){for(let C=y.length-1;C>=0;C--)yield y[C]}B.reverse=w;function m(y){return!y||y[Symbol.iterator]().next().done===!0}B.isEmpty=m;function g(y){return y[Symbol.iterator]().next().value}B.first=g;function a(y,C){for(const _ of y)if(C(_))return!0;return!1}B.some=a;function r(y,C){for(const _ of y)if(C(_))return _}B.find=r;function*i(y,C){for(const _ of y)C(_)&&(yield _)}B.filter=i;function*n(y,C){let _=0;for(const N of y)yield C(N,_++)}B.map=n;function*c(...y){for(const C of y)yield*Sa(C)}B.concat=c;function u(y,C,_){let N=_;for(const b of y)N=C(N,b);return N}B.reduce=u;function*l(y,C,_=y.length){for(C<0&&(C+=y.length),_<0?_+=y.length:_>y.length&&(_=y.length);C<_;C++)yield y[C]}B.slice=l;function D(y,C=Number.POSITIVE_INFINITY){const _=[];if(C===0)return[_,y];const N=y[Symbol.iterator]();for(let b=0;b<C;b++){const k=N.next();if(k.done)return[_,B.empty()];_.push(k.value)}return[_,{[Symbol.iterator](){return N}}]}B.consume=D;function f(y){return Ft(this,null,function*(){const C=[];try{for(var _=bo(y),N,b,k;N=!(b=yield _.next()).done;N=!1){const V=b.value;C.push(V)}}catch(b){k=[b]}finally{try{N&&(b=_.return)&&(yield b.call(_))}finally{if(k)throw k[0]}}return Promise.resolve(C)})}B.asyncToArray=f})(o||(o={}))},173:function(et,Le,e){"use strict";e.d(Le,{H_:function(){return S},Vd:function(){return m},gx:function(){return r},kL:function(){return a}});class o{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(n,c){this._keyCodeToStr[n]=c,this._strToKeyCode[c.toLowerCase()]=n}keyCodeToStr(n){return this._keyCodeToStr[n]}strToKeyCode(n){return this._strToKeyCode[n.toLowerCase()]||0}}const B=new o,x=new o,O=new o,S=new Array(230),p={},E=[],R=Object.create(null),w=Object.create(null),m=[],g=[];for(let i=0;i<=193;i++)m[i]=-1;for(let i=0;i<=132;i++)g[i]=-1;(function(){const i="",n=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",i,i],[1,1,"Hyper",0,i,0,i,i,i],[1,2,"Super",0,i,0,i,i,i],[1,3,"Fn",0,i,0,i,i,i],[1,4,"FnLock",0,i,0,i,i,i],[1,5,"Suspend",0,i,0,i,i,i],[1,6,"Resume",0,i,0,i,i,i],[1,7,"Turbo",0,i,0,i,i,i],[1,8,"Sleep",0,i,0,"VK_SLEEP",i,i],[1,9,"WakeUp",0,i,0,i,i,i],[0,10,"KeyA",31,"A",65,"VK_A",i,i],[0,11,"KeyB",32,"B",66,"VK_B",i,i],[0,12,"KeyC",33,"C",67,"VK_C",i,i],[0,13,"KeyD",34,"D",68,"VK_D",i,i],[0,14,"KeyE",35,"E",69,"VK_E",i,i],[0,15,"KeyF",36,"F",70,"VK_F",i,i],[0,16,"KeyG",37,"G",71,"VK_G",i,i],[0,17,"KeyH",38,"H",72,"VK_H",i,i],[0,18,"KeyI",39,"I",73,"VK_I",i,i],[0,19,"KeyJ",40,"J",74,"VK_J",i,i],[0,20,"KeyK",41,"K",75,"VK_K",i,i],[0,21,"KeyL",42,"L",76,"VK_L",i,i],[0,22,"KeyM",43,"M",77,"VK_M",i,i],[0,23,"KeyN",44,"N",78,"VK_N",i,i],[0,24,"KeyO",45,"O",79,"VK_O",i,i],[0,25,"KeyP",46,"P",80,"VK_P",i,i],[0,26,"KeyQ",47,"Q",81,"VK_Q",i,i],[0,27,"KeyR",48,"R",82,"VK_R",i,i],[0,28,"KeyS",49,"S",83,"VK_S",i,i],[0,29,"KeyT",50,"T",84,"VK_T",i,i],[0,30,"KeyU",51,"U",85,"VK_U",i,i],[0,31,"KeyV",52,"V",86,"VK_V",i,i],[0,32,"KeyW",53,"W",87,"VK_W",i,i],[0,33,"KeyX",54,"X",88,"VK_X",i,i],[0,34,"KeyY",55,"Y",89,"VK_Y",i,i],[0,35,"KeyZ",56,"Z",90,"VK_Z",i,i],[0,36,"Digit1",22,"1",49,"VK_1",i,i],[0,37,"Digit2",23,"2",50,"VK_2",i,i],[0,38,"Digit3",24,"3",51,"VK_3",i,i],[0,39,"Digit4",25,"4",52,"VK_4",i,i],[0,40,"Digit5",26,"5",53,"VK_5",i,i],[0,41,"Digit6",27,"6",54,"VK_6",i,i],[0,42,"Digit7",28,"7",55,"VK_7",i,i],[0,43,"Digit8",29,"8",56,"VK_8",i,i],[0,44,"Digit9",30,"9",57,"VK_9",i,i],[0,45,"Digit0",21,"0",48,"VK_0",i,i],[1,46,"Enter",3,"Enter",13,"VK_RETURN",i,i],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",i,i],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",i,i],[1,49,"Tab",2,"Tab",9,"VK_TAB",i,i],[1,50,"Space",10,"Space",32,"VK_SPACE",i,i],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,i,0,i,i,i],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",i,i],[1,64,"F1",59,"F1",112,"VK_F1",i,i],[1,65,"F2",60,"F2",113,"VK_F2",i,i],[1,66,"F3",61,"F3",114,"VK_F3",i,i],[1,67,"F4",62,"F4",115,"VK_F4",i,i],[1,68,"F5",63,"F5",116,"VK_F5",i,i],[1,69,"F6",64,"F6",117,"VK_F6",i,i],[1,70,"F7",65,"F7",118,"VK_F7",i,i],[1,71,"F8",66,"F8",119,"VK_F8",i,i],[1,72,"F9",67,"F9",120,"VK_F9",i,i],[1,73,"F10",68,"F10",121,"VK_F10",i,i],[1,74,"F11",69,"F11",122,"VK_F11",i,i],[1,75,"F12",70,"F12",123,"VK_F12",i,i],[1,76,"PrintScreen",0,i,0,i,i,i],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",i,i],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",i,i],[1,79,"Insert",19,"Insert",45,"VK_INSERT",i,i],[1,80,"Home",14,"Home",36,"VK_HOME",i,i],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",i,i],[1,82,"Delete",20,"Delete",46,"VK_DELETE",i,i],[1,83,"End",13,"End",35,"VK_END",i,i],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",i,i],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",i],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",i],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",i],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",i],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",i,i],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",i,i],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",i,i],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",i,i],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",i,i],[1,94,"NumpadEnter",3,i,0,i,i,i],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",i,i],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",i,i],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",i,i],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",i,i],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",i,i],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",i,i],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",i,i],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",i,i],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",i,i],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",i,i],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",i,i],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",i,i],[1,107,"ContextMenu",58,"ContextMenu",93,i,i,i],[1,108,"Power",0,i,0,i,i,i],[1,109,"NumpadEqual",0,i,0,i,i,i],[1,110,"F13",71,"F13",124,"VK_F13",i,i],[1,111,"F14",72,"F14",125,"VK_F14",i,i],[1,112,"F15",73,"F15",126,"VK_F15",i,i],[1,113,"F16",74,"F16",127,"VK_F16",i,i],[1,114,"F17",75,"F17",128,"VK_F17",i,i],[1,115,"F18",76,"F18",129,"VK_F18",i,i],[1,116,"F19",77,"F19",130,"VK_F19",i,i],[1,117,"F20",78,"F20",131,"VK_F20",i,i],[1,118,"F21",79,"F21",132,"VK_F21",i,i],[1,119,"F22",80,"F22",133,"VK_F22",i,i],[1,120,"F23",81,"F23",134,"VK_F23",i,i],[1,121,"F24",82,"F24",135,"VK_F24",i,i],[1,122,"Open",0,i,0,i,i,i],[1,123,"Help",0,i,0,i,i,i],[1,124,"Select",0,i,0,i,i,i],[1,125,"Again",0,i,0,i,i,i],[1,126,"Undo",0,i,0,i,i,i],[1,127,"Cut",0,i,0,i,i,i],[1,128,"Copy",0,i,0,i,i,i],[1,129,"Paste",0,i,0,i,i,i],[1,130,"Find",0,i,0,i,i,i],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",i,i],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",i,i],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",i,i],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",i,i],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",i,i],[1,136,"KanaMode",0,i,0,i,i,i],[0,137,"IntlYen",0,i,0,i,i,i],[1,138,"Convert",0,i,0,i,i,i],[1,139,"NonConvert",0,i,0,i,i,i],[1,140,"Lang1",0,i,0,i,i,i],[1,141,"Lang2",0,i,0,i,i,i],[1,142,"Lang3",0,i,0,i,i,i],[1,143,"Lang4",0,i,0,i,i,i],[1,144,"Lang5",0,i,0,i,i,i],[1,145,"Abort",0,i,0,i,i,i],[1,146,"Props",0,i,0,i,i,i],[1,147,"NumpadParenLeft",0,i,0,i,i,i],[1,148,"NumpadParenRight",0,i,0,i,i,i],[1,149,"NumpadBackspace",0,i,0,i,i,i],[1,150,"NumpadMemoryStore",0,i,0,i,i,i],[1,151,"NumpadMemoryRecall",0,i,0,i,i,i],[1,152,"NumpadMemoryClear",0,i,0,i,i,i],[1,153,"NumpadMemoryAdd",0,i,0,i,i,i],[1,154,"NumpadMemorySubtract",0,i,0,i,i,i],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",i,i],[1,156,"NumpadClearEntry",0,i,0,i,i,i],[1,0,i,5,"Ctrl",17,"VK_CONTROL",i,i],[1,0,i,4,"Shift",16,"VK_SHIFT",i,i],[1,0,i,6,"Alt",18,"VK_MENU",i,i],[1,0,i,57,"Meta",91,"VK_COMMAND",i,i],[1,157,"ControlLeft",5,i,0,"VK_LCONTROL",i,i],[1,158,"ShiftLeft",4,i,0,"VK_LSHIFT",i,i],[1,159,"AltLeft",6,i,0,"VK_LMENU",i,i],[1,160,"MetaLeft",57,i,0,"VK_LWIN",i,i],[1,161,"ControlRight",5,i,0,"VK_RCONTROL",i,i],[1,162,"ShiftRight",4,i,0,"VK_RSHIFT",i,i],[1,163,"AltRight",6,i,0,"VK_RMENU",i,i],[1,164,"MetaRight",57,i,0,"VK_RWIN",i,i],[1,165,"BrightnessUp",0,i,0,i,i,i],[1,166,"BrightnessDown",0,i,0,i,i,i],[1,167,"MediaPlay",0,i,0,i,i,i],[1,168,"MediaRecord",0,i,0,i,i,i],[1,169,"MediaFastForward",0,i,0,i,i,i],[1,170,"MediaRewind",0,i,0,i,i,i],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",i,i],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",i,i],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",i,i],[1,174,"Eject",0,i,0,i,i,i],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",i,i],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",i,i],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",i,i],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",i,i],[1,179,"LaunchApp1",0,i,0,"VK_MEDIA_LAUNCH_APP1",i,i],[1,180,"SelectTask",0,i,0,i,i,i],[1,181,"LaunchScreenSaver",0,i,0,i,i,i],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",i,i],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",i,i],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",i,i],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",i,i],[1,186,"BrowserStop",0,i,0,"VK_BROWSER_STOP",i,i],[1,187,"BrowserRefresh",0,i,0,"VK_BROWSER_REFRESH",i,i],[1,188,"BrowserFavorites",0,i,0,"VK_BROWSER_FAVORITES",i,i],[1,189,"ZoomToggle",0,i,0,i,i,i],[1,190,"MailReply",0,i,0,i,i,i],[1,191,"MailForward",0,i,0,i,i,i],[1,192,"MailSend",0,i,0,i,i,i],[1,0,i,114,"KeyInComposition",229,i,i,i],[1,0,i,116,"ABNT_C2",194,"VK_ABNT_C2",i,i],[1,0,i,96,"OEM_8",223,"VK_OEM_8",i,i],[1,0,i,0,i,0,"VK_KANA",i,i],[1,0,i,0,i,0,"VK_HANGUL",i,i],[1,0,i,0,i,0,"VK_JUNJA",i,i],[1,0,i,0,i,0,"VK_FINAL",i,i],[1,0,i,0,i,0,"VK_HANJA",i,i],[1,0,i,0,i,0,"VK_KANJI",i,i],[1,0,i,0,i,0,"VK_CONVERT",i,i],[1,0,i,0,i,0,"VK_NONCONVERT",i,i],[1,0,i,0,i,0,"VK_ACCEPT",i,i],[1,0,i,0,i,0,"VK_MODECHANGE",i,i],[1,0,i,0,i,0,"VK_SELECT",i,i],[1,0,i,0,i,0,"VK_PRINT",i,i],[1,0,i,0,i,0,"VK_EXECUTE",i,i],[1,0,i,0,i,0,"VK_SNAPSHOT",i,i],[1,0,i,0,i,0,"VK_HELP",i,i],[1,0,i,0,i,0,"VK_APPS",i,i],[1,0,i,0,i,0,"VK_PROCESSKEY",i,i],[1,0,i,0,i,0,"VK_PACKET",i,i],[1,0,i,0,i,0,"VK_DBE_SBCSCHAR",i,i],[1,0,i,0,i,0,"VK_DBE_DBCSCHAR",i,i],[1,0,i,0,i,0,"VK_ATTN",i,i],[1,0,i,0,i,0,"VK_CRSEL",i,i],[1,0,i,0,i,0,"VK_EXSEL",i,i],[1,0,i,0,i,0,"VK_EREOF",i,i],[1,0,i,0,i,0,"VK_PLAY",i,i],[1,0,i,0,i,0,"VK_ZOOM",i,i],[1,0,i,0,i,0,"VK_NONAME",i,i],[1,0,i,0,i,0,"VK_PA1",i,i],[1,0,i,0,i,0,"VK_OEM_CLEAR",i,i]],c=[],u=[];for(const l of n){const[D,f,y,C,_,N,b,k,V]=l;if(u[f]||(u[f]=!0,E[f]=y,R[y]=f,w[y.toLowerCase()]=f,D&&(m[f]=C,C!==0&&C!==3&&C!==5&&C!==4&&C!==6&&C!==57&&(g[C]=f))),!c[C]){if(c[C]=!0,!_)throw new Error(`String representation missing for key code ${C} around scan code ${y}`);B.define(C,_),x.define(C,k||_),O.define(C,V||k||_)}N&&(S[N]=C),b&&(p[b]=C)}g[3]=46})();var a;(function(i){function n(y){return B.keyCodeToStr(y)}i.toString=n;function c(y){return B.strToKeyCode(y)}i.fromString=c;function u(y){return x.keyCodeToStr(y)}i.toUserSettingsUS=u;function l(y){return O.keyCodeToStr(y)}i.toUserSettingsGeneral=l;function D(y){return x.strToKeyCode(y)||O.strToKeyCode(y)}i.fromUserSettings=D;function f(y){if(y>=98&&y<=113)return null;switch(y){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return B.keyCodeToStr(y)}i.toElectronAccelerator=f})(a||(a={}));function r(i,n){const c=(n&65535)<<16>>>0;return(i|c)>>>0}},16287:function(et,Le,e){"use strict";e.d(Le,{X4:function(){return O},jC:function(){return S},r6:function(){return p},xo:function(){return x}});var o=e(61652);class B{constructor(w,m,g=m){this.modifierLabels=[null],this.modifierLabels[2]=w,this.modifierLabels[1]=m,this.modifierLabels[3]=g}toLabel(w,m,g){if(m.length===0)return null;const a=[];for(let r=0,i=m.length;r<i;r++){const n=m[r],c=g(n);if(c===null)return null;a[r]=E(n,c,this.modifierLabels[w])}return a.join(" ")}}const x=new B({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:o.NC({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:o.NC({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:o.NC({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:o.NC({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:o.NC({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:o.NC({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:o.NC({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:o.NC({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),O=new B({ctrlKey:o.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:o.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:o.NC({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:o.NC({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:o.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:o.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:o.NC({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:o.NC({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:o.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:o.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:o.NC({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:o.NC({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),S=new B({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),p=new B({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function E(R,w,m){if(w===null)return"";const g=[];return R.ctrlKey&&g.push(m.ctrlKey),R.shiftKey&&g.push(m.shiftKey),R.altKey&&g.push(m.altKey),R.metaKey&&g.push(m.metaKey),w!==""&&g.push(w),g.join(m.separator)}},13804:function(et,Le,e){"use strict";e.d(Le,{$M:function(){return O},Z9:function(){return B},aZ:function(){return E},f1:function(){return R}});var o=e(25602);function B(w,m){if(typeof w=="number"){if(w===0)return null;const g=(w&65535)>>>0,a=(w&4294901760)>>>16;return a!==0?new p([x(g,m),x(a,m)]):new p([x(g,m)])}else{const g=[];for(let a=0;a<w.length;a++)g.push(x(w[a],m));return new p(g)}}function x(w,m){const g=!!(w&2048),a=!!(w&256),r=m===2?a:g,i=!!(w&1024),n=!!(w&512),c=m===2?g:a,u=w&255;return new O(r,i,n,c,u)}class O{constructor(m,g,a,r,i){this.ctrlKey=m,this.shiftKey=g,this.altKey=a,this.metaKey=r,this.keyCode=i}equals(m){return m instanceof O&&this.ctrlKey===m.ctrlKey&&this.shiftKey===m.shiftKey&&this.altKey===m.altKey&&this.metaKey===m.metaKey&&this.keyCode===m.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}class S{constructor(m,g,a,r,i){this.ctrlKey=m,this.shiftKey=g,this.altKey=a,this.metaKey=r,this.scanCode=i}isDuplicateModifierCase(){return this.ctrlKey&&(this.scanCode===157||this.scanCode===161)||this.shiftKey&&(this.scanCode===158||this.scanCode===162)||this.altKey&&(this.scanCode===159||this.scanCode===163)||this.metaKey&&(this.scanCode===160||this.scanCode===164)}}class p{constructor(m){if(m.length===0)throw(0,o.b1)("chords");this.chords=m}}class E{constructor(m,g,a,r,i,n){this.ctrlKey=m,this.shiftKey=g,this.altKey=a,this.metaKey=r,this.keyLabel=i,this.keyAriaLabel=n}}class R{}},20359:function(et,Le,e){"use strict";e.d(Le,{o:function(){return o}});class o{constructor(x){this.executor=x,this._didRun=!1}get value(){if(!this._didRun)try{this._value=this.executor()}catch(x){this._error=x}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}},45029:function(et,Le,e){"use strict";e.d(Le,{B9:function(){return a},F8:function(){return r},JT:function(){return c},Jz:function(){return D},L6:function(){return l},Nq:function(){return E},OF:function(){return i},SL:function(){return n},Wf:function(){return g},XK:function(){return u},b2:function(){return f},dk:function(){return m},wi:function(){return p}});var o=e(77303),B=e(852);const x=!1;let O=null;function S(y){O=y}if(x){const y="__is_disposable_tracked__";S(new class{trackDisposable(C){const _=new Error("Potentially leaked disposable").stack;setTimeout(()=>{C[y]||console.log(_)},3e3)}setParent(C,_){if(C&&C!==c.None)try{C[y]=!0}catch(N){}}markAsDisposed(C){if(C&&C!==c.None)try{C[y]=!0}catch(_){}}markAsSingleton(C){}})}function p(y){return O==null||O.trackDisposable(y),y}function E(y){O==null||O.markAsDisposed(y)}function R(y,C){O==null||O.setParent(y,C)}function w(y,C){if(O)for(const _ of y)O.setParent(_,C)}function m(y){return O==null||O.markAsSingleton(y),y}function g(y){return typeof y=="object"&&y!==null&&typeof y.dispose=="function"&&y.dispose.length===0}function a(y){if(B.$.is(y)){const C=[];for(const _ of y)if(_)try{_.dispose()}catch(N){C.push(N)}if(C.length===1)throw C[0];if(C.length>1)throw new AggregateError(C,"Encountered errors while disposing of store");return Array.isArray(y)?[]:y}else if(y)return y.dispose(),y}function r(...y){const C=i(()=>a(y));return w(y,C),C}function i(y){const C=p({dispose:(0,o.M)(()=>{E(C),y()})});return C}class n{constructor(){this._toDispose=new Set,this._isDisposed=!1,p(this)}dispose(){this._isDisposed||(E(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{a(this._toDispose)}finally{this._toDispose.clear()}}add(C){if(!C)return C;if(C===this)throw new Error("Cannot register a disposable on itself!");return R(C,this),this._isDisposed?n.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(C),C}deleteAndLeak(C){C&&this._toDispose.has(C)&&(this._toDispose.delete(C),R(C,null))}}n.DISABLE_DISPOSED_WARNING=!1;class c{constructor(){this._store=new n,p(this),R(this._store,this)}dispose(){E(this),this._store.dispose()}_register(C){if(C===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(C)}}c.None=Object.freeze({dispose(){}});class u{constructor(){this._isDisposed=!1,p(this)}get value(){return this._isDisposed?void 0:this._value}set value(C){var _;this._isDisposed||C===this._value||((_=this._value)===null||_===void 0||_.dispose(),C&&R(C,this),this._value=C)}clear(){this.value=void 0}dispose(){var C;this._isDisposed=!0,E(this),(C=this._value)===null||C===void 0||C.dispose(),this._value=void 0}}class l{constructor(C){this._disposable=C,this._counter=1}acquire(){return this._counter++,this}release(){return--this._counter===0&&this._disposable.dispose(),this}}class D{constructor(C){this.object=C}dispose(){}}class f{constructor(){this._store=new Map,this._isDisposed=!1,p(this)}dispose(){E(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{a(this._store.values())}finally{this._store.clear()}}get(C){return this._store.get(C)}set(C,_,N=!1){var b;this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),N||(b=this._store.get(C))===null||b===void 0||b.dispose(),this._store.set(C,_)}deleteAndDispose(C){var _;(_=this._store.get(C))===null||_===void 0||_.dispose(),this._store.delete(C)}[Symbol.iterator](){return this._store[Symbol.iterator]()}}},50138:function(et,Le,e){"use strict";e.d(Le,{S:function(){return B}});class o{constructor(O){this.element=O,this.next=o.Undefined,this.prev=o.Undefined}}o.Undefined=new o(void 0);class B{constructor(){this._first=o.Undefined,this._last=o.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===o.Undefined}clear(){let O=this._first;for(;O!==o.Undefined;){const S=O.next;O.prev=o.Undefined,O.next=o.Undefined,O=S}this._first=o.Undefined,this._last=o.Undefined,this._size=0}unshift(O){return this._insert(O,!1)}push(O){return this._insert(O,!0)}_insert(O,S){const p=new o(O);if(this._first===o.Undefined)this._first=p,this._last=p;else if(S){const R=this._last;this._last=p,p.prev=R,R.next=p}else{const R=this._first;this._first=p,p.next=R,R.prev=p}this._size+=1;let E=!1;return()=>{E||(E=!0,this._remove(p))}}shift(){if(this._first!==o.Undefined){const O=this._first.element;return this._remove(this._first),O}}pop(){if(this._last!==o.Undefined){const O=this._last.element;return this._remove(this._last),O}}_remove(O){if(O.prev!==o.Undefined&&O.next!==o.Undefined){const S=O.prev;S.next=O.next,O.next.prev=S}else O.prev===o.Undefined&&O.next===o.Undefined?(this._first=o.Undefined,this._last=o.Undefined):O.next===o.Undefined?(this._last=this._last.prev,this._last.next=o.Undefined):O.prev===o.Undefined&&(this._first=this._first.next,this._first.prev=o.Undefined);this._size-=1}*[Symbol.iterator](){let O=this._first;for(;O!==o.Undefined;)yield O.element,O=O.next}}},79138:function(et,Le,e){"use strict";e.d(Le,{Y9:function(){return S},YQ:function(){return w},ri:function(){return m},z6:function(){return R}});var o,B;class x{constructor(a,r){this.uri=a,this.value=r}}function O(g){return Array.isArray(g)}class S{constructor(a,r){if(this[o]="ResourceMap",a instanceof S)this.map=new Map(a.map),this.toKey=r!=null?r:S.defaultToKey;else if(O(a)){this.map=new Map,this.toKey=r!=null?r:S.defaultToKey;for(const[i,n]of a)this.set(i,n)}else this.map=new Map,this.toKey=a!=null?a:S.defaultToKey}set(a,r){return this.map.set(this.toKey(a),new x(a,r)),this}get(a){var r;return(r=this.map.get(this.toKey(a)))===null||r===void 0?void 0:r.value}has(a){return this.map.has(this.toKey(a))}get size(){return this.map.size}clear(){this.map.clear()}delete(a){return this.map.delete(this.toKey(a))}forEach(a,r){typeof r!="undefined"&&(a=a.bind(r));for(const[i,n]of this.map)a(n.value,n.uri,this)}*values(){for(const a of this.map.values())yield a.value}*keys(){for(const a of this.map.values())yield a.uri}*entries(){for(const a of this.map.values())yield[a.uri,a.value]}*[(o=Symbol.toStringTag,Symbol.iterator)](){for(const[,a]of this.map)yield[a.uri,a.value]}}S.defaultToKey=g=>g.toString();class p{constructor(){this[B]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var a;return(a=this._head)===null||a===void 0?void 0:a.value}get last(){var a;return(a=this._tail)===null||a===void 0?void 0:a.value}has(a){return this._map.has(a)}get(a,r=0){const i=this._map.get(a);if(i)return r!==0&&this.touch(i,r),i.value}set(a,r,i=0){let n=this._map.get(a);if(n)n.value=r,i!==0&&this.touch(n,i);else{switch(n={key:a,value:r,next:void 0,previous:void 0},i){case 0:this.addItemLast(n);break;case 1:this.addItemFirst(n);break;case 2:this.addItemLast(n);break;default:this.addItemLast(n);break}this._map.set(a,n),this._size++}return this}delete(a){return!!this.remove(a)}remove(a){const r=this._map.get(a);if(r)return this._map.delete(a),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const a=this._head;return this._map.delete(a.key),this.removeItem(a),this._size--,a.value}forEach(a,r){const i=this._state;let n=this._head;for(;n;){if(r?a.bind(r)(n.value,n.key,this):a(n.value,n.key,this),this._state!==i)throw new Error("LinkedMap got modified during iteration.");n=n.next}}keys(){const a=this,r=this._state;let i=this._head;const n={[Symbol.iterator](){return n},next(){if(a._state!==r)throw new Error("LinkedMap got modified during iteration.");if(i){const c={value:i.key,done:!1};return i=i.next,c}else return{value:void 0,done:!0}}};return n}values(){const a=this,r=this._state;let i=this._head;const n={[Symbol.iterator](){return n},next(){if(a._state!==r)throw new Error("LinkedMap got modified during iteration.");if(i){const c={value:i.value,done:!1};return i=i.next,c}else return{value:void 0,done:!0}}};return n}entries(){const a=this,r=this._state;let i=this._head;const n={[Symbol.iterator](){return n},next(){if(a._state!==r)throw new Error("LinkedMap got modified during iteration.");if(i){const c={value:[i.key,i.value],done:!1};return i=i.next,c}else return{value:void 0,done:!0}}};return n}[(B=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(a){if(a>=this.size)return;if(a===0){this.clear();return}let r=this._head,i=this.size;for(;r&&i>a;)this._map.delete(r.key),r=r.next,i--;this._head=r,this._size=i,r&&(r.previous=void 0),this._state++}trimNew(a){if(a>=this.size)return;if(a===0){this.clear();return}let r=this._tail,i=this.size;for(;r&&i>a;)this._map.delete(r.key),r=r.previous,i--;this._tail=r,this._size=i,r&&(r.next=void 0),this._state++}addItemFirst(a){if(!this._head&&!this._tail)this._tail=a;else if(this._head)a.next=this._head,this._head.previous=a;else throw new Error("Invalid list");this._head=a,this._state++}addItemLast(a){if(!this._head&&!this._tail)this._head=a;else if(this._tail)a.previous=this._tail,this._tail.next=a;else throw new Error("Invalid list");this._tail=a,this._state++}removeItem(a){if(a===this._head&&a===this._tail)this._head=void 0,this._tail=void 0;else if(a===this._head){if(!a.next)throw new Error("Invalid list");a.next.previous=void 0,this._head=a.next}else if(a===this._tail){if(!a.previous)throw new Error("Invalid list");a.previous.next=void 0,this._tail=a.previous}else{const r=a.next,i=a.previous;if(!r||!i)throw new Error("Invalid list");r.previous=i,i.next=r}a.next=void 0,a.previous=void 0,this._state++}touch(a,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==1&&r!==2)){if(r===1){if(a===this._head)return;const i=a.next,n=a.previous;a===this._tail?(n.next=void 0,this._tail=n):(i.previous=n,n.next=i),a.previous=void 0,a.next=this._head,this._head.previous=a,this._head=a,this._state++}else if(r===2){if(a===this._tail)return;const i=a.next,n=a.previous;a===this._head?(i.previous=void 0,this._head=i):(i.previous=n,n.next=i),a.next=void 0,a.previous=this._tail,this._tail.next=a,this._tail=a,this._state++}}}toJSON(){const a=[];return this.forEach((r,i)=>{a.push([i,r])}),a}fromJSON(a){this.clear();for(const[r,i]of a)this.set(r,i)}}class E extends p{constructor(a,r=1){super(),this._limit=a,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(a){this._limit=a,this.checkTrim()}get(a,r=2){return super.get(a,r)}peek(a){return super.get(a,0)}set(a,r){return super.set(a,r,2),this}checkTrim(){this.size>this._limit&&this.trim(Math.round(this._limit*this._ratio))}}class R extends E{constructor(a,r=1){super(a,r)}trim(a){this.trimOld(a)}set(a,r){return super.set(a,r),this.checkTrim(),this}}class w{constructor(a){if(this._m1=new Map,this._m2=new Map,a)for(const[r,i]of a)this.set(r,i)}clear(){this._m1.clear(),this._m2.clear()}set(a,r){this._m1.set(a,r),this._m2.set(r,a)}get(a){return this._m1.get(a)}getKey(a){return this._m2.get(a)}delete(a){const r=this._m1.get(a);return r===void 0?!1:(this._m1.delete(a),this._m2.delete(r),!0)}keys(){return this._m1.keys()}values(){return this._m1.values()}}class m{constructor(){this.map=new Map}add(a,r){let i=this.map.get(a);i||(i=new Set,this.map.set(a,i)),i.add(r)}delete(a,r){const i=this.map.get(a);i&&(i.delete(r),i.size===0&&this.map.delete(a))}forEach(a,r){const i=this.map.get(a);i&&i.forEach(r)}get(a){const r=this.map.get(a);return r||new Set}}},66492:function(et,Le,e){"use strict";e.d(Le,{Pz:function(){return x},Qc:function(){return O}});var o=e(79475),B=e(10058);function x(E){return JSON.stringify(E,S)}function O(E){let R=JSON.parse(E);return R=p(R),R}function S(E,R){return R instanceof RegExp?{$mid:2,source:R.source,flags:R.flags}:R}function p(E,R=0){if(!E||R>200)return E;if(typeof E=="object"){switch(E.$mid){case 1:return B.o.revive(E);case 2:return new RegExp(E.source,E.flags);case 17:return new Date(E.source)}if(E instanceof o.KN||E instanceof Uint8Array)return E;if(Array.isArray(E))for(let w=0;w<E.length;++w)E[w]=p(E[w],R+1);else for(const w in E)Object.hasOwnProperty.call(E,w)&&(E[w]=p(E[w],R+1))}return E}},56742:function(et,Le,e){"use strict";e.d(Le,{v:function(){return o}});const o=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})},91649:function(et,Le,e){"use strict";e.d(Le,{Gi:function(){return i},Gs:function(){return R},WX:function(){return g},lg:function(){return p},xn:function(){return E}});var o=e(25602),B=e(15122),x=e(30144),O=e(10058),S=e(99620),p;(function(c){c.inMemory="inmemory",c.vscode="vscode",c.internal="private",c.walkThrough="walkThrough",c.walkThroughSnippet="walkThroughSnippet",c.http="http",c.https="https",c.file="file",c.mailto="mailto",c.untitled="untitled",c.data="data",c.command="command",c.vscodeRemote="vscode-remote",c.vscodeRemoteResource="vscode-remote-resource",c.vscodeManagedRemoteResource="vscode-managed-remote-resource",c.vscodeUserData="vscode-userdata",c.vscodeCustomEditor="vscode-custom-editor",c.vscodeNotebookCell="vscode-notebook-cell",c.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",c.vscodeNotebookCellOutput="vscode-notebook-cell-output",c.vscodeInteractiveInput="vscode-interactive-input",c.vscodeSettings="vscode-settings",c.vscodeWorkspaceTrust="vscode-workspace-trust",c.vscodeTerminal="vscode-terminal",c.vscodeChatCodeBlock="vscode-chat-code-block",c.vscodeChatCodeCompreBlock="vscode-chat-code-compare-block",c.vscodeChatSesssion="vscode-chat-editor",c.webviewPanel="webview-panel",c.vscodeWebview="vscode-webview",c.extension="extension",c.vscodeFileResource="vscode-file",c.tmp="tmp",c.vsls="vsls",c.vscodeSourceControl="vscode-scm",c.commentsInput="comment",c.codeSetting="code-setting"})(p||(p={}));function E(c,u){return O.o.isUri(c)?(0,x.qq)(c.scheme,u):(0,x.ok)(c,u+":")}function R(c,...u){return u.some(l=>E(c,l))}const w="tkn";class m{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._serverRootPath="/"}setPreferredWebSchema(u){this._preferredWebSchema=u}get _remoteResourcesPath(){return S.KR.join(this._serverRootPath,p.vscodeRemoteResource)}rewrite(u){if(this._delegate)try{return this._delegate(u)}catch(_){return o.dL(_),u}const l=u.authority;let D=this._hosts[l];D&&D.indexOf(":")!==-1&&D.indexOf("[")===-1&&(D=`[${D}]`);const f=this._ports[l],y=this._connectionTokens[l];let C=`path=${encodeURIComponent(u.path)}`;return typeof y=="string"&&(C+=`&${w}=${encodeURIComponent(y)}`),O.o.from({scheme:B.$L?this._preferredWebSchema:p.vscodeRemoteResource,authority:`${D}:${f}`,path:this._remoteResourcesPath,query:C})}}const g=new m,a="vscode-app";class r{uriToBrowserUri(u){return u.scheme===p.vscodeRemote?g.rewrite(u):u.scheme===p.file&&(B.tY||B.qB===`${p.vscodeFileResource}://${r.FALLBACK_AUTHORITY}`)?u.with({scheme:p.vscodeFileResource,authority:u.authority||r.FALLBACK_AUTHORITY,query:null,fragment:null}):u}}r.FALLBACK_AUTHORITY=a;const i=new r;var n;(function(c){const u=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);c.CoopAndCoep=Object.freeze(u.get("3"));const l="vscode-coi";function D(y){let C;typeof y=="string"?C=new URL(y).searchParams:y instanceof URL?C=y.searchParams:O.o.isUri(y)&&(C=new URL(y.toString(!0)).searchParams);const _=C==null?void 0:C.get(l);if(_)return u.get(_)}c.getHeadersFromQuery=D;function f(y,C,_){if(!globalThis.crossOriginIsolated)return;const N=C&&_?"3":_?"2":"1";y instanceof URLSearchParams?y.set(l,N):y[l]=N}c.addSearchParam=f})(n||(n={}))},12182:function(et,Le,e){"use strict";e.d(Le,{N:function(){return x},nM:function(){return B},uZ:function(){return o}});function o(O,S,p){return Math.min(Math.max(O,S),p)}class B{constructor(){this._n=1,this._val=0}update(S){return this._val=this._val+(S-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class x{constructor(S){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(S),this._values.fill(0,0,S)}update(S){const p=this._values[this._index];return this._values[this._index]=S,this._index=(this._index+1)%this._values.length,this._sum-=p,this._sum+=S,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}},94920:function(et,Le,e){"use strict";e.d(Le,{$E:function(){return m},I8:function(){return B},IU:function(){return g},_A:function(){return x},fS:function(){return R},jB:function(){return E},rs:function(){return S}});var o=e(26974);function B(a){if(!a||typeof a!="object"||a instanceof RegExp)return a;const r=Array.isArray(a)?[]:{};return Object.entries(a).forEach(([i,n])=>{r[i]=n&&typeof n=="object"?B(n):n}),r}function x(a){if(!a||typeof a!="object")return a;const r=[a];for(;r.length>0;){const i=r.shift();Object.freeze(i);for(const n in i)if(O.call(i,n)){const c=i[n];typeof c=="object"&&!Object.isFrozen(c)&&!(0,o.fU)(c)&&r.push(c)}}return a}const O=Object.prototype.hasOwnProperty;function S(a,r){return p(a,r,new Set)}function p(a,r,i){if((0,o.Jp)(a))return a;const n=r(a);if(typeof n!="undefined")return n;if(Array.isArray(a)){const c=[];for(const u of a)c.push(p(u,r,i));return c}if((0,o.Kn)(a)){if(i.has(a))throw new Error("Cannot clone recursive data-structure");i.add(a);const c={};for(const u in a)O.call(a,u)&&(c[u]=p(a[u],r,i));return i.delete(a),c}return a}function E(a,r,i=!0){return(0,o.Kn)(a)?((0,o.Kn)(r)&&Object.keys(r).forEach(n=>{n in a?i&&((0,o.Kn)(a[n])&&(0,o.Kn)(r[n])?E(a[n],r[n],i):a[n]=r[n]):a[n]=r[n]}),a):r}function R(a,r){if(a===r)return!0;if(a==null||r===null||r===void 0||typeof a!=typeof r||typeof a!="object"||Array.isArray(a)!==Array.isArray(r))return!1;let i,n;if(Array.isArray(a)){if(a.length!==r.length)return!1;for(i=0;i<a.length;i++)if(!R(a[i],r[i]))return!1}else{const c=[];for(n in a)c.push(n);c.sort();const u=[];for(n in r)u.push(n);if(u.sort(),!R(c,u))return!1;for(i=0;i<c.length;i++)if(!R(a[c[i]],r[c[i]]))return!1}return!0}function w(a){let r=[];for(;Object.prototype!==a;)r=r.concat(Object.getOwnPropertyNames(a)),a=Object.getPrototypeOf(a);return r}function m(a){const r=[];for(const i of w(a))typeof a[i]=="function"&&r.push(i);return r}function g(a,r){const i=c=>function(){const u=Array.prototype.slice.call(arguments,0);return r(c,u)},n={};for(const c of a)n[c]=i(c);return n}},17009:function(et,Le,e){"use strict";e.d(Le,{EH:function(){return E},nJ:function(){return w},UV:function(){return R},gp:function(){return m},Dz:function(){return a.Dz},nK:function(){return B.nK},aK:function(){return B.aK},bk:function(){return B.bk},Be:function(){return B.Be},DN:function(){return o.DN},rD:function(){return a.rD},GN:function(){return a.GN},aq:function(){return a.aq},uh:function(){return o.uh},jx:function(){return a.DN},c8:function(){return o.c8},PS:function(){return o.PS},F_:function(){return i}});var o=e(60668),B=e(55162),x=e(9751),O=e(45029),S=e(48688),p=e(5482);function E(c){return new g(new S.IZ(void 0,void 0,c),c,void 0,void 0)}function R(c,u){var l;return new g(new S.IZ(c.owner,c.debugName,(l=c.debugReferenceFn)!==null&&l!==void 0?l:u),u,void 0,void 0)}function w(c,u){var l;return new g(new S.IZ(c.owner,c.debugName,(l=c.debugReferenceFn)!==null&&l!==void 0?l:u),u,c.createEmptyChangeSummary,c.handleChange)}function m(c){const u=new O.SL,l=R({owner:void 0,debugName:void 0,debugReferenceFn:c},D=>{u.clear(),c(D,u)});return(0,O.OF)(()=>{l.dispose(),u.dispose()})}class g{get debugName(){var u;return(u=this._debugNameData.getDebugName(this))!==null&&u!==void 0?u:"(anonymous)"}constructor(u,l,D,f){var y,C;this._debugNameData=u,this._runFn=l,this.createChangeSummary=D,this._handleChange=f,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=(y=this.createChangeSummary)===null||y===void 0?void 0:y.call(this),(C=(0,p.jl)())===null||C===void 0||C.handleAutorunCreated(this),this._runIfNeeded(),(0,O.wi)(this)}dispose(){this.disposed=!0;for(const u of this.dependencies)u.removeObserver(this);this.dependencies.clear(),(0,O.Nq)(this)}_runIfNeeded(){var u,l,D;if(this.state===3)return;const f=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=f,this.state=3;const y=this.disposed;try{if(!y){(u=(0,p.jl)())===null||u===void 0||u.handleAutorunTriggered(this);const C=this.changeSummary;this.changeSummary=(l=this.createChangeSummary)===null||l===void 0?void 0:l.call(this),this._runFn(this,C)}}finally{y||(D=(0,p.jl)())===null||D===void 0||D.handleAutorunFinished(this);for(const C of this.dependenciesToBeRemoved)C.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.state===3&&(this.state=1),this.updateCount++}endUpdate(){if(this.updateCount===1)do{if(this.state===1){this.state=3;for(const u of this.dependencies)if(u.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3);this.updateCount--,(0,x.eZ)(()=>this.updateCount>=0)}handlePossibleChange(u){this.state===3&&this.dependencies.has(u)&&!this.dependenciesToBeRemoved.has(u)&&(this.state=1)}handleChange(u,l){this.dependencies.has(u)&&!this.dependenciesToBeRemoved.has(u)&&(!this._handleChange||this._handleChange({changedObservable:u,change:l,didChange:f=>f===u},this.changeSummary))&&(this.state=2)}readObservable(u){if(this.disposed)return u.get();u.addObserver(this);const l=u.get();return this.dependencies.add(u),this.dependenciesToBeRemoved.delete(u),l}}(function(c){c.Observer=g})(E||(E={}));var a=e(92595),r=e(25602);function i(c,u,l,D){return u||(u=f=>f!=null),new Promise((f,y)=>{let C=!0,_=!1;const N=c.map(k=>({isFinished:u(k),error:l?l(k):!1,state:k})),b=E(k=>{const{isFinished:V,error:K,state:Z}=N.read(k);(V||K)&&(C?_=!0:b.dispose(),K?y(K===!0?Z:K):f(Z))});if(D){const k=D.onCancellationRequested(()=>{b.dispose(),k.dispose(),y(new r.FU)});if(D.isCancellationRequested){b.dispose(),k.dispose(),y(new r.FU);return}}C=!1,_&&b.dispose()})}!1&&(0,p.EK)(new p.Qy)},60668:function(et,Le,e){"use strict";e.d(Le,{Bl:function(){return i},DN:function(){return y},Hr:function(){return n},Jn:function(){return E},Ku:function(){return D},MK:function(){return S},Nc:function(){return m},PS:function(){return a},c8:function(){return c},hm:function(){return g},mT:function(){return w},uh:function(){return l}});var o=e(32254),B=e(48688),x=e(5482);let O;function S(_){O=_}let p;function E(_){p=_}let R;function w(_){R=_}class m{get TChange(){return null}reportChanges(){this.get()}read(N){return N?N.readObservable(this):this.get()}map(N,b){const k=b===void 0?void 0:N,V=b===void 0?N:b;return R({owner:k,debugName:()=>{const K=(0,B.$P)(V);if(K!==void 0)return K;const z=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(V.toString());if(z)return`${this.debugName}.${z[2]}`;if(!k)return`${this.debugName} (mapped)`},debugReferenceFn:V},K=>V(this.read(K),K))}recomputeInitiallyAndOnChange(N,b){return N.add(O(this,b)),this}}class g extends m{constructor(){super(...arguments),this.observers=new Set}addObserver(N){const b=this.observers.size;this.observers.add(N),b===0&&this.onFirstObserverAdded()}removeObserver(N){this.observers.delete(N)&&this.observers.size===0&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}}function a(_,N){const b=new u(_,N);try{_(b)}finally{b.finish()}}let r;function i(_){if(r)_(r);else{const N=new u(_,void 0);r=N;try{_(N)}finally{N.finish(),r=void 0}}}function n(_,N){return Ft(this,null,function*(){const b=new u(_,N);try{yield _(b)}finally{b.finish()}})}function c(_,N,b){_?N(_):a(N,b)}class u{constructor(N,b){var k;this._fn=N,this._getDebugName=b,this.updatingObservers=[],(k=(0,x.jl)())===null||k===void 0||k.handleBeginTransaction(this)}getDebugName(){return this._getDebugName?this._getDebugName():(0,B.$P)(this._fn)}updateObserver(N,b){this.updatingObservers.push({observer:N,observable:b}),N.beginUpdate(b)}finish(){var N;const b=this.updatingObservers;for(let k=0;k<b.length;k++){const{observer:V,observable:K}=b[k];V.endUpdate(K)}this.updatingObservers=null,(N=(0,x.jl)())===null||N===void 0||N.handleEndTransaction()}}function l(_,N){let b;return typeof _=="string"?b=new B.IZ(void 0,_,void 0):b=new B.IZ(_,void 0,void 0),new f(b,N,o.ht)}function D(_,N){var b;return new f(new B.IZ(_.owner,_.debugName,void 0),N,(b=_.equalsFn)!==null&&b!==void 0?b:o.ht)}class f extends g{get debugName(){var N;return(N=this._debugNameData.getDebugName(this))!==null&&N!==void 0?N:"ObservableValue"}constructor(N,b,k){super(),this._debugNameData=N,this._equalityComparator=k,this._value=b}get(){return this._value}set(N,b,k){var V;if(this._equalityComparator(this._value,N))return;let K;b||(b=K=new u(()=>{},()=>`Setting ${this.debugName}`));try{const Z=this._value;this._setValue(N),(V=(0,x.jl)())===null||V===void 0||V.handleObservableChanged(this,{oldValue:Z,newValue:N,change:k,didChange:!0,hadValue:!0});for(const z of this.observers)b.updateObserver(z,this),z.handleChange(this,k)}finally{K&&K.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(N){this._value=N}}function y(_,N){let b;return typeof _=="string"?b=new B.IZ(void 0,_,void 0):b=new B.IZ(_,void 0,void 0),new C(b,N,o.ht)}class C extends f{_setValue(N){this._value!==N&&(this._value&&this._value.dispose(),this._value=N)}dispose(){var N;(N=this._value)===null||N===void 0||N.dispose()}}},48688:function(et,Le,e){"use strict";e.d(Le,{$P:function(){return g},IZ:function(){return o}});class o{constructor(r,i,n){this.owner=r,this.debugNameSource=i,this.referenceFn=n}getDebugName(r){return O(r,this)}}const B=new Map,x=new WeakMap;function O(a,r){var i;const n=x.get(a);if(n)return n;const c=S(a,r);if(c){let u=(i=B.get(c))!==null&&i!==void 0?i:0;u++,B.set(c,u);const l=u===1?c:`${c}#${u}`;return x.set(a,l),l}}function S(a,r){const i=x.get(a);if(i)return i;const n=r.owner?w(r.owner)+".":"";let c;const u=r.debugNameSource;if(u!==void 0)if(typeof u=="function"){if(c=u(),c!==void 0)return n+c}else return n+u;const l=r.referenceFn;if(l!==void 0&&(c=g(l),c!==void 0))return n+c;if(r.owner!==void 0){const D=p(r.owner,a);if(D!==void 0)return n+D}}function p(a,r){for(const i in a)if(a[i]===r)return i}const E=new Map,R=new WeakMap;function w(a){var r;const i=R.get(a);if(i)return i;const n=m(a);let c=(r=E.get(n))!==null&&r!==void 0?r:0;c++,E.set(n,c);const u=c===1?n:`${n}#${c}`;return R.set(a,u),u}function m(a){const r=a.constructor;return r?r.name:"Object"}function g(a){const r=a.toString(),n=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(r),c=n?n[1]:void 0;return c==null?void 0:c.trim()}},55162:function(et,Le,e){"use strict";e.d(Le,{Be:function(){return m},aK:function(){return w},bk:function(){return R},kA:function(){return g},nK:function(){return E}});var o=e(9751),B=e(32254),x=e(45029),O=e(60668),S=e(48688),p=e(5482);function E(r,i){return i!==void 0?new a(new S.IZ(r,void 0,i),i,void 0,void 0,void 0,B.ht):new a(new S.IZ(void 0,void 0,r),r,void 0,void 0,void 0,B.ht)}function R(r,i){var n;return new a(new S.IZ(r.owner,r.debugName,r.debugReferenceFn),i,void 0,void 0,r.onLastObserverRemoved,(n=r.equalsFn)!==null&&n!==void 0?n:B.ht)}(0,O.mT)(R);function w(r,i){var n;return new a(new S.IZ(r.owner,r.debugName,void 0),i,r.createEmptyChangeSummary,r.handleChange,void 0,(n=r.equalityComparer)!==null&&n!==void 0?n:B.ht)}function m(r,i){let n,c;i===void 0?(n=r,c=void 0):(c=r,n=i);const u=new x.SL;return new a(new S.IZ(c,void 0,n),l=>(u.clear(),n(l,u)),void 0,void 0,()=>u.dispose(),B.ht)}function g(r,i){let n,c;i===void 0?(n=r,c=void 0):(c=r,n=i);const u=new x.SL;return new a(new S.IZ(c,void 0,n),l=>{u.clear();const D=n(l);return D&&u.add(D),D},void 0,void 0,()=>u.dispose(),B.ht)}class a extends O.hm{get debugName(){var i;return(i=this._debugNameData.getDebugName(this))!==null&&i!==void 0?i:"(anonymous)"}constructor(i,n,c,u,l=void 0,D){var f,y;super(),this._debugNameData=i,this._computeFn=n,this.createChangeSummary=c,this._handleChange=u,this._handleLastObserverRemoved=l,this._equalityComparator=D,this.state=0,this.value=void 0,this.updateCount=0,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=void 0,this.changeSummary=(f=this.createChangeSummary)===null||f===void 0?void 0:f.call(this),(y=(0,p.jl)())===null||y===void 0||y.handleDerivedCreated(this)}onLastObserverRemoved(){var i;this.state=0,this.value=void 0;for(const n of this.dependencies)n.removeObserver(this);this.dependencies.clear(),(i=this._handleLastObserverRemoved)===null||i===void 0||i.call(this)}get(){var i;if(this.observers.size===0){const n=this._computeFn(this,(i=this.createChangeSummary)===null||i===void 0?void 0:i.call(this));return this.onLastObserverRemoved(),n}else{do{if(this.state===1){for(const n of this.dependencies)if(n.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){var i,n;if(this.state===3)return;const c=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=c;const u=this.state!==0,l=this.value;this.state=3;const D=this.changeSummary;this.changeSummary=(i=this.createChangeSummary)===null||i===void 0?void 0:i.call(this);try{this.value=this._computeFn(this,D)}finally{for(const y of this.dependenciesToBeRemoved)y.removeObserver(this);this.dependenciesToBeRemoved.clear()}const f=u&&!this._equalityComparator(l,this.value);if((n=(0,p.jl)())===null||n===void 0||n.handleDerivedRecomputed(this,{oldValue:l,newValue:this.value,change:void 0,didChange:f,hadValue:u}),f)for(const y of this.observers)y.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(i){this.updateCount++;const n=this.updateCount===1;if(this.state===3&&(this.state=1,!n))for(const c of this.observers)c.handlePossibleChange(this);if(n)for(const c of this.observers)c.beginUpdate(this)}endUpdate(i){if(this.updateCount--,this.updateCount===0){const n=[...this.observers];for(const c of n)c.endUpdate(this)}(0,o.eZ)(()=>this.updateCount>=0)}handlePossibleChange(i){if(this.state===3&&this.dependencies.has(i)&&!this.dependenciesToBeRemoved.has(i)){this.state=1;for(const n of this.observers)n.handlePossibleChange(this)}}handleChange(i,n){if(this.dependencies.has(i)&&!this.dependenciesToBeRemoved.has(i)){const c=this._handleChange?this._handleChange({changedObservable:i,change:n,didChange:l=>l===i},this.changeSummary):!0,u=this.state===3;if(c&&(this.state===1||u)&&(this.state=2,u))for(const l of this.observers)l.handlePossibleChange(this)}}readObservable(i){i.addObserver(this);const n=i.get();return this.dependencies.add(i),this.dependenciesToBeRemoved.delete(i),n}addObserver(i){const n=!this.observers.has(i)&&this.updateCount>0;super.addObserver(i),n&&i.beginUpdate(this)}removeObserver(i){const n=this.observers.has(i)&&this.updateCount>0;super.removeObserver(i),n&&i.endUpdate(this)}}},5482:function(et,Le,e){"use strict";e.d(Le,{EK:function(){return B},Qy:function(){return O},jl:function(){return x}});let o;function B(i){o=i}function x(){return o}class O{constructor(){this.indentation=0,this.changedObservablesSets=new WeakMap}textToConsoleArgs(n){return S([p(a("|  ",this.indentation)),n])}formatInfo(n){return n.hadValue?n.didChange?[p(" "),R(w(n.oldValue,70),{color:"red",strikeThrough:!0}),p(" "),R(w(n.newValue,60),{color:"green"})]:[p(" (unchanged)")]:[p(" "),R(w(n.newValue,60),{color:"green"}),p(" (initial)")]}handleObservableChanged(n,c){console.log(...this.textToConsoleArgs([E("observable value changed"),R(n.debugName,{color:"BlueViolet"}),...this.formatInfo(c)]))}formatChanges(n){if(n.size!==0)return R(" (changed deps: "+[...n].map(c=>c.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(n){const c=n.handleChange;this.changedObservablesSets.set(n,new Set),n.handleChange=(u,l)=>(this.changedObservablesSets.get(n).add(u),c.apply(n,[u,l]))}handleDerivedRecomputed(n,c){const u=this.changedObservablesSets.get(n);console.log(...this.textToConsoleArgs([E("derived recomputed"),R(n.debugName,{color:"BlueViolet"}),...this.formatInfo(c),this.formatChanges(u),{data:[{fn:n._computeFn}]}])),u.clear()}handleFromEventObservableTriggered(n,c){console.log(...this.textToConsoleArgs([E("observable from event triggered"),R(n.debugName,{color:"BlueViolet"}),...this.formatInfo(c),{data:[{fn:n._getValue}]}]))}handleAutorunCreated(n){const c=n.handleChange;this.changedObservablesSets.set(n,new Set),n.handleChange=(u,l)=>(this.changedObservablesSets.get(n).add(u),c.apply(n,[u,l]))}handleAutorunTriggered(n){const c=this.changedObservablesSets.get(n);console.log(...this.textToConsoleArgs([E("autorun"),R(n.debugName,{color:"BlueViolet"}),this.formatChanges(c),{data:[{fn:n._runFn}]}])),c.clear(),this.indentation++}handleAutorunFinished(n){this.indentation--}handleBeginTransaction(n){let c=n.getDebugName();c===void 0&&(c=""),console.log(...this.textToConsoleArgs([E("transaction"),R(c,{color:"BlueViolet"}),{data:[{fn:n._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}}function S(i){const n=new Array,c=[];let u="";function l(f){if("length"in f)for(const y of f)y&&l(y);else"text"in f?(u+=`%c${f.text}`,n.push(f.style),f.data&&c.push(...f.data)):"data"in f&&c.push(...f.data)}l(i);const D=[u,...n];return D.push(...c),D}function p(i){return R(i,{color:"black"})}function E(i){return R(r(`${i}: `,10),{color:"black",bold:!0})}function R(i,n={color:"black"}){function c(l){return Object.entries(l).reduce((D,[f,y])=>`${D}${f}:${y};`,"")}const u={color:n.color};return n.strikeThrough&&(u["text-decoration"]="line-through"),n.bold&&(u["font-weight"]="bold"),{text:i,style:c(u)}}function w(i,n){switch(typeof i){case"number":return""+i;case"string":return i.length+2<=n?`"${i}"`:`"${i.substr(0,n-7)}"+...`;case"boolean":return i?"true":"false";case"undefined":return"undefined";case"object":return i===null?"null":Array.isArray(i)?m(i,n):g(i,n);case"symbol":return i.toString();case"function":return`[[Function${i.name?" "+i.name:""}]]`;default:return""+i}}function m(i,n){let c="[ ",u=!0;for(const l of i){if(u||(c+=", "),c.length-5>n){c+="...";break}u=!1,c+=`${w(l,n-c.length)}`}return c+=" ]",c}function g(i,n){let c="{ ",u=!0;for(const[l,D]of Object.entries(i)){if(u||(c+=", "),c.length-5>n){c+="...";break}u=!1,c+=`${l}: ${w(D,n-c.length)}`}return c+=" }",c}function a(i,n){let c="";for(let u=1;u<=n;u++)c+=i;return c}function r(i,n){for(;i.length<n;)i+=" ";return i}},92595:function(et,Le,e){"use strict";e.d(Le,{DN:function(){return c},Dz:function(){return E},GN:function(){return r},Zg:function(){return D},aq:function(){return g},rD:function(){return w}});var o=e(79329),B=e(45029),x=e(60668),O=e(48688),S=e(55162),p=e(5482);function E(_){return new R(_)}class R extends x.Nc{constructor(N){super(),this.value=N}get debugName(){return this.toString()}get(){return this.value}addObserver(N){}removeObserver(N){}toString(){return`Const: ${this.value}`}}function w(_,N){return new m(_,N)}class m extends x.hm{constructor(N,b){super(),this.event=N,this._getValue=b,this.hasValue=!1,this.handleEvent=k=>{var V;const K=this._getValue(k),Z=this.value,z=!this.hasValue||Z!==K;let A=!1;z&&(this.value=K,this.hasValue&&(A=!0,(0,x.c8)(m.globalTransaction,P=>{var I;(I=(0,p.jl)())===null||I===void 0||I.handleFromEventObservableTriggered(this,{oldValue:Z,newValue:K,change:void 0,didChange:z,hadValue:this.hasValue});for(const W of this.observers)P.updateObserver(W,this),W.handleChange(this,void 0)},()=>{const P=this.getDebugName();return"Event fired"+(P?`: ${P}`:"")})),this.hasValue=!0),A||(V=(0,p.jl)())===null||V===void 0||V.handleFromEventObservableTriggered(this,{oldValue:Z,newValue:K,change:void 0,didChange:z,hadValue:this.hasValue})}}getDebugName(){return(0,O.$P)(this._getValue)}get debugName(){const N=this.getDebugName();return"From Event"+(N?`: ${N}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}}(function(_){_.Observer=m;function N(b,k){let V=!1;m.globalTransaction===void 0&&(m.globalTransaction=b,V=!0);try{k()}finally{V&&(m.globalTransaction=void 0)}}_.batchEventsGlobally=N})(w||(w={}));function g(_,N){return new a(_,N)}class a extends x.hm{constructor(N,b){super(),this.debugName=N,this.event=b,this.handleEvent=()=>{(0,x.PS)(k=>{for(const V of this.observers)k.updateObserver(V,this),V.handleChange(this,void 0)},()=>this.debugName)}}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0}get(){}}function r(_){return typeof _=="string"?new i(_):new i(void 0,_)}class i extends x.hm{get debugName(){var N;return(N=new O.IZ(this._owner,this._debugName,void 0).getDebugName(this))!==null&&N!==void 0?N:"Observable Signal"}constructor(N,b){super(),this._debugName=N,this._owner=b}trigger(N,b){if(!N){(0,x.PS)(k=>{this.trigger(k,b)},()=>`Trigger signal ${this.debugName}`);return}for(const k of this.observers)N.updateObserver(k,this),k.handleChange(this,b)}get(){}}function n(_){const N=new u(!1,void 0);return _.addObserver(N),(0,B.OF)(()=>{_.removeObserver(N)})}(0,x.Jn)(n);function c(_,N){const b=new u(!0,N);return _.addObserver(b),N?N(_.get()):_.reportChanges(),(0,B.OF)(()=>{_.removeObserver(b)})}(0,x.MK)(c);class u{constructor(N,b){this._forceRecompute=N,this._handleValue=b,this._counter=0}beginUpdate(N){this._counter++}endUpdate(N){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(N.get()):N.reportChanges())}handlePossibleChange(N){}handleChange(N,b){}}function l(_,N){let b;const k=r("derivedObservableWithWritableCache"),V=derived(_,K=>(k.read(K),b=N(K,b),b));return Object.assign(V,{clearCache:K=>{b=void 0,k.trigger(K)},setCache:(K,Z)=>{b=K,k.trigger(Z)}})}function D(_,N,b,k){let V=new f(b,k);return(0,S.bk)({debugReferenceFn:b,owner:_,onLastObserverRemoved:()=>{V.dispose(),V=new f(b)}},Z=>(V.setItems(N.read(Z)),V.getItems()))}class f{constructor(N,b){this._map=N,this._keySelector=b,this._cache=new Map,this._items=[]}dispose(){this._cache.forEach(N=>N.store.dispose()),this._cache.clear()}setItems(N){const b=[],k=new Set(this._cache.keys());for(const V of N){const K=this._keySelector?this._keySelector(V):V;let Z=this._cache.get(K);if(Z)k.delete(K);else{const z=new B.SL;Z={out:this._map(V,z),store:z},this._cache.set(K,Z)}b.push(Z.out)}for(const V of k)this._cache.get(V).store.dispose(),this._cache.delete(V);this._items=b}getItems(){return this._items}}class y{constructor(N){this.observable=N}get onDidChange(){return Event.fromObservableLight(this.observable)}get value(){return this.observable.get()}}function C(_,N){return N instanceof y?N.observable:w(N.onDidChange,()=>N.value)}},99620:function(et,Le,e){"use strict";e.d(Le,{DB:function(){return N},DZ:function(){return K},EZ:function(){return V},Fv:function(){return _},Gf:function(){return b},KR:function(){return C},Ku:function(){return f},XX:function(){return k},ir:function(){return Z}});var o=e(953);const B=65,x=97,O=90,S=122,p=46,E=47,R=92,w=58,m=63;class g extends Error{constructor(A,P,I){let W;typeof P=="string"&&P.indexOf("not ")===0?(W="must not be",P=P.replace(/^not /,"")):W="must be";const G=A.indexOf(".")!==-1?"property":"argument";let j=`The "${A}" ${G} ${W} of type ${P}`;j+=`. Received type ${typeof I}`,super(j),this.code="ERR_INVALID_ARG_TYPE"}}function a(z,A){if(z===null||typeof z!="object")throw new g(A,"Object",z)}function r(z,A){if(typeof z!="string")throw new g(A,"string",z)}const i=o.Jv==="win32";function n(z){return z===E||z===R}function c(z){return z===E}function u(z){return z>=B&&z<=O||z>=x&&z<=S}function l(z,A,P,I){let W="",G=0,j=-1,Y=0,H=0;for(let Q=0;Q<=z.length;++Q){if(Q<z.length)H=z.charCodeAt(Q);else{if(I(H))break;H=E}if(I(H)){if(!(j===Q-1||Y===1))if(Y===2){if(W.length<2||G!==2||W.charCodeAt(W.length-1)!==p||W.charCodeAt(W.length-2)!==p){if(W.length>2){const ie=W.lastIndexOf(P);ie===-1?(W="",G=0):(W=W.slice(0,ie),G=W.length-1-W.lastIndexOf(P)),j=Q,Y=0;continue}else if(W.length!==0){W="",G=0,j=Q,Y=0;continue}}A&&(W+=W.length>0?`${P}..`:"..",G=2)}else W.length>0?W+=`${P}${z.slice(j+1,Q)}`:W=z.slice(j+1,Q),G=Q-j-1;j=Q,Y=0}else H===p&&Y!==-1?++Y:Y=-1}return W}function D(z,A){a(A,"pathObject");const P=A.dir||A.root,I=A.base||`${A.name||""}${A.ext||""}`;return P?P===A.root?`${P}${I}`:`${P}${z}${I}`:I}const f={resolve(...z){let A="",P="",I=!1;for(let W=z.length-1;W>=-1;W--){let G;if(W>=0){if(G=z[W],r(G,"path"),G.length===0)continue}else A.length===0?G=o.Vj():(G={NODE_ENV:"production",PUBLIC_PATH:"/web/f2/"}[`=${A}`]||o.Vj(),(G===void 0||G.slice(0,2).toLowerCase()!==A.toLowerCase()&&G.charCodeAt(2)===R)&&(G=`${A}\\`));const j=G.length;let Y=0,H="",Q=!1;const ie=G.charCodeAt(0);if(j===1)n(ie)&&(Y=1,Q=!0);else if(n(ie))if(Q=!0,n(G.charCodeAt(1))){let te=2,se=te;for(;te<j&&!n(G.charCodeAt(te));)te++;if(te<j&&te!==se){const ne=G.slice(se,te);for(se=te;te<j&&n(G.charCodeAt(te));)te++;if(te<j&&te!==se){for(se=te;te<j&&!n(G.charCodeAt(te));)te++;(te===j||te!==se)&&(H=`\\\\${ne}\\${G.slice(se,te)}`,Y=te)}}}else Y=1;else u(ie)&&G.charCodeAt(1)===w&&(H=G.slice(0,2),Y=2,j>2&&n(G.charCodeAt(2))&&(Q=!0,Y=3));if(H.length>0)if(A.length>0){if(H.toLowerCase()!==A.toLowerCase())continue}else A=H;if(I){if(A.length>0)break}else if(P=`${G.slice(Y)}\\${P}`,I=Q,Q&&A.length>0)break}return P=l(P,!I,"\\",n),I?`${A}\\${P}`:`${A}${P}`||"."},normalize(z){r(z,"path");const A=z.length;if(A===0)return".";let P=0,I,W=!1;const G=z.charCodeAt(0);if(A===1)return c(G)?"\\":z;if(n(G))if(W=!0,n(z.charCodeAt(1))){let Y=2,H=Y;for(;Y<A&&!n(z.charCodeAt(Y));)Y++;if(Y<A&&Y!==H){const Q=z.slice(H,Y);for(H=Y;Y<A&&n(z.charCodeAt(Y));)Y++;if(Y<A&&Y!==H){for(H=Y;Y<A&&!n(z.charCodeAt(Y));)Y++;if(Y===A)return`\\\\${Q}\\${z.slice(H)}\\`;Y!==H&&(I=`\\\\${Q}\\${z.slice(H,Y)}`,P=Y)}}}else P=1;else u(G)&&z.charCodeAt(1)===w&&(I=z.slice(0,2),P=2,A>2&&n(z.charCodeAt(2))&&(W=!0,P=3));let j=P<A?l(z.slice(P),!W,"\\",n):"";return j.length===0&&!W&&(j="."),j.length>0&&n(z.charCodeAt(A-1))&&(j+="\\"),I===void 0?W?`\\${j}`:j:W?`${I}\\${j}`:`${I}${j}`},isAbsolute(z){r(z,"path");const A=z.length;if(A===0)return!1;const P=z.charCodeAt(0);return n(P)||A>2&&u(P)&&z.charCodeAt(1)===w&&n(z.charCodeAt(2))},join(...z){if(z.length===0)return".";let A,P;for(let G=0;G<z.length;++G){const j=z[G];r(j,"path"),j.length>0&&(A===void 0?A=P=j:A+=`\\${j}`)}if(A===void 0)return".";let I=!0,W=0;if(typeof P=="string"&&n(P.charCodeAt(0))){++W;const G=P.length;G>1&&n(P.charCodeAt(1))&&(++W,G>2&&(n(P.charCodeAt(2))?++W:I=!1))}if(I){for(;W<A.length&&n(A.charCodeAt(W));)W++;W>=2&&(A=`\\${A.slice(W)}`)}return f.normalize(A)},relative(z,A){if(r(z,"from"),r(A,"to"),z===A)return"";const P=f.resolve(z),I=f.resolve(A);if(P===I||(z=P.toLowerCase(),A=I.toLowerCase(),z===A))return"";let W=0;for(;W<z.length&&z.charCodeAt(W)===R;)W++;let G=z.length;for(;G-1>W&&z.charCodeAt(G-1)===R;)G--;const j=G-W;let Y=0;for(;Y<A.length&&A.charCodeAt(Y)===R;)Y++;let H=A.length;for(;H-1>Y&&A.charCodeAt(H-1)===R;)H--;const Q=H-Y,ie=j<Q?j:Q;let te=-1,se=0;for(;se<ie;se++){const ee=z.charCodeAt(W+se);if(ee!==A.charCodeAt(Y+se))break;ee===R&&(te=se)}if(se!==ie){if(te===-1)return I}else{if(Q>ie){if(A.charCodeAt(Y+se)===R)return I.slice(Y+se+1);if(se===2)return I.slice(Y+se)}j>ie&&(z.charCodeAt(W+se)===R?te=se:se===2&&(te=3)),te===-1&&(te=0)}let ne="";for(se=W+te+1;se<=G;++se)(se===G||z.charCodeAt(se)===R)&&(ne+=ne.length===0?"..":"\\..");return Y+=te,ne.length>0?`${ne}${I.slice(Y,H)}`:(I.charCodeAt(Y)===R&&++Y,I.slice(Y,H))},toNamespacedPath(z){if(typeof z!="string"||z.length===0)return z;const A=f.resolve(z);if(A.length<=2)return z;if(A.charCodeAt(0)===R){if(A.charCodeAt(1)===R){const P=A.charCodeAt(2);if(P!==m&&P!==p)return`\\\\?\\UNC\\${A.slice(2)}`}}else if(u(A.charCodeAt(0))&&A.charCodeAt(1)===w&&A.charCodeAt(2)===R)return`\\\\?\\${A}`;return z},dirname(z){r(z,"path");const A=z.length;if(A===0)return".";let P=-1,I=0;const W=z.charCodeAt(0);if(A===1)return n(W)?z:".";if(n(W)){if(P=I=1,n(z.charCodeAt(1))){let Y=2,H=Y;for(;Y<A&&!n(z.charCodeAt(Y));)Y++;if(Y<A&&Y!==H){for(H=Y;Y<A&&n(z.charCodeAt(Y));)Y++;if(Y<A&&Y!==H){for(H=Y;Y<A&&!n(z.charCodeAt(Y));)Y++;if(Y===A)return z;Y!==H&&(P=I=Y+1)}}}}else u(W)&&z.charCodeAt(1)===w&&(P=A>2&&n(z.charCodeAt(2))?3:2,I=P);let G=-1,j=!0;for(let Y=A-1;Y>=I;--Y)if(n(z.charCodeAt(Y))){if(!j){G=Y;break}}else j=!1;if(G===-1){if(P===-1)return".";G=P}return z.slice(0,G)},basename(z,A){A!==void 0&&r(A,"ext"),r(z,"path");let P=0,I=-1,W=!0,G;if(z.length>=2&&u(z.charCodeAt(0))&&z.charCodeAt(1)===w&&(P=2),A!==void 0&&A.length>0&&A.length<=z.length){if(A===z)return"";let j=A.length-1,Y=-1;for(G=z.length-1;G>=P;--G){const H=z.charCodeAt(G);if(n(H)){if(!W){P=G+1;break}}else Y===-1&&(W=!1,Y=G+1),j>=0&&(H===A.charCodeAt(j)?--j===-1&&(I=G):(j=-1,I=Y))}return P===I?I=Y:I===-1&&(I=z.length),z.slice(P,I)}for(G=z.length-1;G>=P;--G)if(n(z.charCodeAt(G))){if(!W){P=G+1;break}}else I===-1&&(W=!1,I=G+1);return I===-1?"":z.slice(P,I)},extname(z){r(z,"path");let A=0,P=-1,I=0,W=-1,G=!0,j=0;z.length>=2&&z.charCodeAt(1)===w&&u(z.charCodeAt(0))&&(A=I=2);for(let Y=z.length-1;Y>=A;--Y){const H=z.charCodeAt(Y);if(n(H)){if(!G){I=Y+1;break}continue}W===-1&&(G=!1,W=Y+1),H===p?P===-1?P=Y:j!==1&&(j=1):P!==-1&&(j=-1)}return P===-1||W===-1||j===0||j===1&&P===W-1&&P===I+1?"":z.slice(P,W)},format:D.bind(null,"\\"),parse(z){r(z,"path");const A={root:"",dir:"",base:"",ext:"",name:""};if(z.length===0)return A;const P=z.length;let I=0,W=z.charCodeAt(0);if(P===1)return n(W)?(A.root=A.dir=z,A):(A.base=A.name=z,A);if(n(W)){if(I=1,n(z.charCodeAt(1))){let te=2,se=te;for(;te<P&&!n(z.charCodeAt(te));)te++;if(te<P&&te!==se){for(se=te;te<P&&n(z.charCodeAt(te));)te++;if(te<P&&te!==se){for(se=te;te<P&&!n(z.charCodeAt(te));)te++;te===P?I=te:te!==se&&(I=te+1)}}}}else if(u(W)&&z.charCodeAt(1)===w){if(P<=2)return A.root=A.dir=z,A;if(I=2,n(z.charCodeAt(2))){if(P===3)return A.root=A.dir=z,A;I=3}}I>0&&(A.root=z.slice(0,I));let G=-1,j=I,Y=-1,H=!0,Q=z.length-1,ie=0;for(;Q>=I;--Q){if(W=z.charCodeAt(Q),n(W)){if(!H){j=Q+1;break}continue}Y===-1&&(H=!1,Y=Q+1),W===p?G===-1?G=Q:ie!==1&&(ie=1):G!==-1&&(ie=-1)}return Y!==-1&&(G===-1||ie===0||ie===1&&G===Y-1&&G===j+1?A.base=A.name=z.slice(j,Y):(A.name=z.slice(j,G),A.base=z.slice(j,Y),A.ext=z.slice(G,Y))),j>0&&j!==I?A.dir=z.slice(0,j-1):A.dir=A.root,A},sep:"\\",delimiter:";",win32:null,posix:null},y=(()=>{if(i){const z=/\\/g;return()=>{const A=o.Vj().replace(z,"/");return A.slice(A.indexOf("/"))}}return()=>o.Vj()})(),C={resolve(...z){let A="",P=!1;for(let I=z.length-1;I>=-1&&!P;I--){const W=I>=0?z[I]:y();r(W,"path"),W.length!==0&&(A=`${W}/${A}`,P=W.charCodeAt(0)===E)}return A=l(A,!P,"/",c),P?`/${A}`:A.length>0?A:"."},normalize(z){if(r(z,"path"),z.length===0)return".";const A=z.charCodeAt(0)===E,P=z.charCodeAt(z.length-1)===E;return z=l(z,!A,"/",c),z.length===0?A?"/":P?"./":".":(P&&(z+="/"),A?`/${z}`:z)},isAbsolute(z){return r(z,"path"),z.length>0&&z.charCodeAt(0)===E},join(...z){if(z.length===0)return".";let A;for(let P=0;P<z.length;++P){const I=z[P];r(I,"path"),I.length>0&&(A===void 0?A=I:A+=`/${I}`)}return A===void 0?".":C.normalize(A)},relative(z,A){if(r(z,"from"),r(A,"to"),z===A||(z=C.resolve(z),A=C.resolve(A),z===A))return"";const P=1,I=z.length,W=I-P,G=1,j=A.length-G,Y=W<j?W:j;let H=-1,Q=0;for(;Q<Y;Q++){const te=z.charCodeAt(P+Q);if(te!==A.charCodeAt(G+Q))break;te===E&&(H=Q)}if(Q===Y)if(j>Y){if(A.charCodeAt(G+Q)===E)return A.slice(G+Q+1);if(Q===0)return A.slice(G+Q)}else W>Y&&(z.charCodeAt(P+Q)===E?H=Q:Q===0&&(H=0));let ie="";for(Q=P+H+1;Q<=I;++Q)(Q===I||z.charCodeAt(Q)===E)&&(ie+=ie.length===0?"..":"/..");return`${ie}${A.slice(G+H)}`},toNamespacedPath(z){return z},dirname(z){if(r(z,"path"),z.length===0)return".";const A=z.charCodeAt(0)===E;let P=-1,I=!0;for(let W=z.length-1;W>=1;--W)if(z.charCodeAt(W)===E){if(!I){P=W;break}}else I=!1;return P===-1?A?"/":".":A&&P===1?"//":z.slice(0,P)},basename(z,A){A!==void 0&&r(A,"ext"),r(z,"path");let P=0,I=-1,W=!0,G;if(A!==void 0&&A.length>0&&A.length<=z.length){if(A===z)return"";let j=A.length-1,Y=-1;for(G=z.length-1;G>=0;--G){const H=z.charCodeAt(G);if(H===E){if(!W){P=G+1;break}}else Y===-1&&(W=!1,Y=G+1),j>=0&&(H===A.charCodeAt(j)?--j===-1&&(I=G):(j=-1,I=Y))}return P===I?I=Y:I===-1&&(I=z.length),z.slice(P,I)}for(G=z.length-1;G>=0;--G)if(z.charCodeAt(G)===E){if(!W){P=G+1;break}}else I===-1&&(W=!1,I=G+1);return I===-1?"":z.slice(P,I)},extname(z){r(z,"path");let A=-1,P=0,I=-1,W=!0,G=0;for(let j=z.length-1;j>=0;--j){const Y=z.charCodeAt(j);if(Y===E){if(!W){P=j+1;break}continue}I===-1&&(W=!1,I=j+1),Y===p?A===-1?A=j:G!==1&&(G=1):A!==-1&&(G=-1)}return A===-1||I===-1||G===0||G===1&&A===I-1&&A===P+1?"":z.slice(A,I)},format:D.bind(null,"/"),parse(z){r(z,"path");const A={root:"",dir:"",base:"",ext:"",name:""};if(z.length===0)return A;const P=z.charCodeAt(0)===E;let I;P?(A.root="/",I=1):I=0;let W=-1,G=0,j=-1,Y=!0,H=z.length-1,Q=0;for(;H>=I;--H){const ie=z.charCodeAt(H);if(ie===E){if(!Y){G=H+1;break}continue}j===-1&&(Y=!1,j=H+1),ie===p?W===-1?W=H:Q!==1&&(Q=1):W!==-1&&(Q=-1)}if(j!==-1){const ie=G===0&&P?1:G;W===-1||Q===0||Q===1&&W===j-1&&W===G+1?A.base=A.name=z.slice(ie,j):(A.name=z.slice(ie,W),A.base=z.slice(ie,j),A.ext=z.slice(W,j))}return G>0?A.dir=z.slice(0,G-1):P&&(A.dir="/"),A},sep:"/",delimiter:":",win32:null,posix:null};C.win32=f.win32=f,C.posix=f.posix=C;const _=i?f.normalize:C.normalize,N=i?f.resolve:C.resolve,b=i?f.relative:C.relative,k=i?f.dirname:C.dirname,V=i?f.basename:C.basename,K=i?f.extname:C.extname,Z=i?f.sep:C.sep},15122:function(et,Le,e){"use strict";e.d(Le,{$L:function(){return z},Dt:function(){return M},ED:function(){return k},G6:function(){return re},IJ:function(){return K},OS:function(){return Q},dK:function(){return j},dz:function(){return V},fn:function(){return H},gn:function(){return I},i7:function(){return ne},qB:function(){return P},r:function(){return se},tY:function(){return Z},tq:function(){return W},un:function(){return he},vU:function(){return ee}});var o=e(61652),B=e(14224),x,O;const S="en";let p=!1,E=!1,R=!1,w=!1,m=!1,g=!1,a=!1,r=!1,i=!1,n=!1,c,u=S,l=null,D=null,f;const y=globalThis;let C;typeof y.vscode!="undefined"&&typeof y.vscode.process!="undefined"?C=y.vscode.process:typeof B!="undefined"&&typeof((x=B==null?void 0:B.versions)===null||x===void 0?void 0:x.node)=="string"&&(C=B);const _=typeof((O=C==null?void 0:C.versions)===null||O===void 0?void 0:O.electron)=="string",N=_&&(C==null?void 0:C.type)==="renderer";if(typeof C=="object"){p=C.platform==="win32",E=C.platform==="darwin",R=C.platform==="linux",w=R&&!!C.env.SNAP&&!!C.env.SNAP_REVISION,a=_,i=!!C.env.CI||!!C.env.BUILD_ARTIFACTSTAGINGDIRECTORY,c=S,u=S;const we=C.env.VSCODE_NLS_CONFIG;if(we)try{const We=JSON.parse(we),ye=We.availableLanguages["*"];c=We.locale,l=We.osLocale,u=ye||S,D=We._translationsConfigFile}catch(We){}m=!0}else typeof navigator=="object"&&!N?(f=navigator.userAgent,p=f.indexOf("Windows")>=0,E=f.indexOf("Macintosh")>=0,r=(f.indexOf("Macintosh")>=0||f.indexOf("iPad")>=0||f.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,R=f.indexOf("Linux")>=0,n=(f==null?void 0:f.indexOf("Mobi"))>=0,g=!0,c=o.aj(o.NC({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"))||S,u=c,l=navigator.language):console.error("Unable to resolve platform.");let b=0;E?b=1:p?b=3:R&&(b=2);const k=p,V=E,K=R,Z=m,z=g,P=g&&typeof y.importScripts=="function"?y.origin:void 0,I=r,W=n,G=f,j=u,Y=typeof y.postMessage=="function"&&!y.importScripts,H=(()=>{if(Y){const we=[];y.addEventListener("message",ye=>{if(ye.data&&ye.data.vscodeScheduleAsyncWork)for(let X=0,ve=we.length;X<ve;X++){const Ee=we[X];if(Ee.id===ye.data.vscodeScheduleAsyncWork){we.splice(X,1),Ee.callback();return}}});let We=0;return ye=>{const X=++We;we.push({id:X,callback:ye}),y.postMessage({vscodeScheduleAsyncWork:X},"*")}}return we=>setTimeout(we)})(),Q=E||r?2:p?1:3;let ie=!0,te=!1;function se(){if(!te){te=!0;const we=new Uint8Array(2);we[0]=1,we[1]=2,ie=new Uint16Array(we.buffer)[0]===513}return ie}const ne=!!(G&&G.indexOf("Chrome")>=0),ee=!!(G&&G.indexOf("Firefox")>=0),re=!!(!ne&&G&&G.indexOf("Safari")>=0),he=!!(G&&G.indexOf("Edg/")>=0),M=!!(G&&G.indexOf("Android")>=0)},953:function(et,Le,e){"use strict";e.d(Le,{Jv:function(){return E},OB:function(){return p},Vj:function(){return S}});var o=e(15122),B=e(14224);let x;const O=globalThis.vscode;if(typeof O!="undefined"&&typeof O.process!="undefined"){const R=O.process;x={get platform(){return R.platform},get arch(){return R.arch},get env(){return R.env},cwd(){return R.cwd()}}}else typeof B!="undefined"?x={get platform(){return B.platform},get arch(){return B.arch},get env(){return{NODE_ENV:"production",PUBLIC_PATH:"/web/f2/"}},cwd(){return{NODE_ENV:"production",PUBLIC_PATH:"/web/f2/"}.VSCODE_CWD||B.cwd()}}:x={get platform(){return o.ED?"win32":o.dz?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};const S=x.cwd,p=x.env,E=x.platform},86666:function(et,Le,e){"use strict";e.d(Le,{e:function(){return o}});var o;(function(B){function x(E,R){if(E.start>=R.end||R.start>=E.end)return{start:0,end:0};const w=Math.max(E.start,R.start),m=Math.min(E.end,R.end);return m-w<=0?{start:0,end:0}:{start:w,end:m}}B.intersect=x;function O(E){return E.end-E.start<=0}B.isEmpty=O;function S(E,R){return!O(x(E,R))}B.intersects=S;function p(E,R){const w=[],m={start:E.start,end:Math.min(R.start,E.end)},g={start:Math.max(R.end,E.start),end:E.end};return O(m)||w.push(m),O(g)||w.push(g),w}B.relativeComplement=p})(o||(o={}))},2644:function(et,Le,e){"use strict";e.d(Le,{AH:function(){return f},DZ:function(){return u},EZ:function(){return c},Hx:function(){return n},SF:function(){return w},Vb:function(){return K},Vo:function(){return D},XX:function(){return l},Xy:function(){return a},i3:function(){return C},lX:function(){return y},z_:function(){return E}});var o=e(79916),B=e(91649),x=e(99620),O=e(15122),S=e(30144),p=e(10058);function E(Z){return(0,p.q)(Z,!0)}class R{constructor(z){this._ignorePathCasing=z}compare(z,A,P=!1){return z===A?0:(0,S.qu)(this.getComparisonKey(z,P),this.getComparisonKey(A,P))}isEqual(z,A,P=!1){return z===A?!0:!z||!A?!1:this.getComparisonKey(z,P)===this.getComparisonKey(A,P)}getComparisonKey(z,A=!1){return z.with({path:this._ignorePathCasing(z)?z.path.toLowerCase():void 0,fragment:A?null:void 0}).toString()}isEqualOrParent(z,A,P=!1){if(z.scheme===A.scheme){if(z.scheme===B.lg.file)return o.KM(E(z),E(A),this._ignorePathCasing(z))&&z.query===A.query&&(P||z.fragment===A.fragment);if(N(z.authority,A.authority))return o.KM(z.path,A.path,this._ignorePathCasing(z),"/")&&z.query===A.query&&(P||z.fragment===A.fragment)}return!1}joinPath(z,...A){return p.o.joinPath(z,...A)}basenameOrAuthority(z){return c(z)||z.authority}basename(z){return x.KR.basename(z.path)}extname(z){return x.KR.extname(z.path)}dirname(z){if(z.path.length===0)return z;let A;return z.scheme===B.lg.file?A=p.o.file(x.XX(E(z))).path:(A=x.KR.dirname(z.path),z.authority&&A.length&&A.charCodeAt(0)!==47&&(console.error(`dirname("${z.toString})) resulted in a relative path`),A="/")),z.with({path:A})}normalizePath(z){if(!z.path.length)return z;let A;return z.scheme===B.lg.file?A=p.o.file(x.Fv(E(z))).path:A=x.KR.normalize(z.path),z.with({path:A})}relativePath(z,A){if(z.scheme!==A.scheme||!N(z.authority,A.authority))return;if(z.scheme===B.lg.file){const W=x.Gf(E(z),E(A));return O.ED?o.ej(W):W}let P=z.path||"/";const I=A.path||"/";if(this._ignorePathCasing(z)){let W=0;for(const G=Math.min(P.length,I.length);W<G&&!(P.charCodeAt(W)!==I.charCodeAt(W)&&P.charAt(W).toLowerCase()!==I.charAt(W).toLowerCase());W++);P=I.substr(0,W)+P.substr(W)}return x.KR.relative(P,I)}resolvePath(z,A){if(z.scheme===B.lg.file){const P=p.o.file(x.DB(E(z),A));return z.with({authority:P.authority,path:P.path})}return A=o.fn(A),z.with({path:x.KR.resolve(z.path,A)})}isAbsolutePath(z){return!!z.path&&z.path[0]==="/"}isEqualAuthority(z,A){return z===A||z!==void 0&&A!==void 0&&(0,S.qq)(z,A)}hasTrailingPathSeparator(z,A=x.ir){if(z.scheme===B.lg.file){const P=E(z);return P.length>o.yj(P).length&&P[P.length-1]===A}else{const P=z.path;return P.length>1&&P.charCodeAt(P.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(z.fsPath)}}removeTrailingPathSeparator(z,A=x.ir){return b(z,A)?z.with({path:z.path.substr(0,z.path.length-1)}):z}addTrailingPathSeparator(z,A=x.ir){let P=!1;if(z.scheme===B.lg.file){const I=E(z);P=I!==void 0&&I.length===o.yj(I).length&&I[I.length-1]===A}else{A="/";const I=z.path;P=I.length===1&&I.charCodeAt(I.length-1)===47}return!P&&!b(z,A)?z.with({path:z.path+"/"}):z}}const w=new R(()=>!1),m=new R(Z=>Z.scheme===B.lg.file?!O.IJ:!0),g=new R(Z=>!0),a=w.isEqual.bind(w),r=w.isEqualOrParent.bind(w),i=w.getComparisonKey.bind(w),n=w.basenameOrAuthority.bind(w),c=w.basename.bind(w),u=w.extname.bind(w),l=w.dirname.bind(w),D=w.joinPath.bind(w),f=w.normalizePath.bind(w),y=w.relativePath.bind(w),C=w.resolvePath.bind(w),_=w.isAbsolutePath.bind(w),N=w.isEqualAuthority.bind(w),b=w.hasTrailingPathSeparator.bind(w),k=w.removeTrailingPathSeparator.bind(w),V=w.addTrailingPathSeparator.bind(w);var K;(function(Z){Z.META_DATA_LABEL="label",Z.META_DATA_DESCRIPTION="description",Z.META_DATA_SIZE="size",Z.META_DATA_MIME="mime";function z(A){const P=new Map;A.path.substring(A.path.indexOf(";")+1,A.path.lastIndexOf(";")).split(";").forEach(G=>{const[j,Y]=G.split(":");j&&Y&&P.set(j,Y)});const W=A.path.substring(0,A.path.indexOf(";"));return W&&P.set(Z.META_DATA_MIME,W),P}Z.parseMetaData=z})(K||(K={}))},65869:function(et,Le,e){"use strict";e.d(Le,{Rm:function(){return O}});var o=e(79329),B=e(45029);class x{constructor(a,r,i,n,c,u,l){this._forceIntegerValues=a,this._scrollStateBrand=void 0,this._forceIntegerValues&&(r=r|0,i=i|0,n=n|0,c=c|0,u=u|0,l=l|0),this.rawScrollLeft=n,this.rawScrollTop=l,r<0&&(r=0),n+r>i&&(n=i-r),n<0&&(n=0),c<0&&(c=0),l+c>u&&(l=u-c),l<0&&(l=0),this.width=r,this.scrollWidth=i,this.scrollLeft=n,this.height=c,this.scrollHeight=u,this.scrollTop=l}equals(a){return this.rawScrollLeft===a.rawScrollLeft&&this.rawScrollTop===a.rawScrollTop&&this.width===a.width&&this.scrollWidth===a.scrollWidth&&this.scrollLeft===a.scrollLeft&&this.height===a.height&&this.scrollHeight===a.scrollHeight&&this.scrollTop===a.scrollTop}withScrollDimensions(a,r){return new x(this._forceIntegerValues,typeof a.width!="undefined"?a.width:this.width,typeof a.scrollWidth!="undefined"?a.scrollWidth:this.scrollWidth,r?this.rawScrollLeft:this.scrollLeft,typeof a.height!="undefined"?a.height:this.height,typeof a.scrollHeight!="undefined"?a.scrollHeight:this.scrollHeight,r?this.rawScrollTop:this.scrollTop)}withScrollPosition(a){return new x(this._forceIntegerValues,this.width,this.scrollWidth,typeof a.scrollLeft!="undefined"?a.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof a.scrollTop!="undefined"?a.scrollTop:this.rawScrollTop)}createScrollEvent(a,r){const i=this.width!==a.width,n=this.scrollWidth!==a.scrollWidth,c=this.scrollLeft!==a.scrollLeft,u=this.height!==a.height,l=this.scrollHeight!==a.scrollHeight,D=this.scrollTop!==a.scrollTop;return{inSmoothScrolling:r,oldWidth:a.width,oldScrollWidth:a.scrollWidth,oldScrollLeft:a.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:a.height,oldScrollHeight:a.scrollHeight,oldScrollTop:a.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:i,scrollWidthChanged:n,scrollLeftChanged:c,heightChanged:u,scrollHeightChanged:l,scrollTopChanged:D}}}class O extends B.JT{constructor(a){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new o.Q5),this.onScroll=this._onScroll.event,this._smoothScrollDuration=a.smoothScrollDuration,this._scheduleAtNextAnimationFrame=a.scheduleAtNextAnimationFrame,this._state=new x(a.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(a){this._smoothScrollDuration=a}validateScrollPosition(a){return this._state.withScrollPosition(a)}getScrollDimensions(){return this._state}setScrollDimensions(a,r){var i;const n=this._state.withScrollDimensions(a,r);this._setState(n,!!this._smoothScrolling),(i=this._smoothScrolling)===null||i===void 0||i.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(a){const r=this._state.withScrollPosition(a);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(r,!1)}setScrollPositionSmooth(a,r){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(a);if(this._smoothScrolling){a={scrollLeft:typeof a.scrollLeft=="undefined"?this._smoothScrolling.to.scrollLeft:a.scrollLeft,scrollTop:typeof a.scrollTop=="undefined"?this._smoothScrolling.to.scrollTop:a.scrollTop};const i=this._state.withScrollPosition(a);if(this._smoothScrolling.to.scrollLeft===i.scrollLeft&&this._smoothScrolling.to.scrollTop===i.scrollTop)return;let n;r?n=new R(this._smoothScrolling.from,i,this._smoothScrolling.startTime,this._smoothScrolling.duration):n=this._smoothScrolling.combine(this._state,i,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=n}else{const i=this._state.withScrollPosition(a);this._smoothScrolling=R.start(this._state,i,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}hasPendingScrollAnimation(){return!!this._smoothScrolling}_performSmoothScrolling(){if(!this._smoothScrolling)return;const a=this._smoothScrolling.tick(),r=this._state.withScrollPosition(a);if(this._setState(r,!0),!!this._smoothScrolling){if(a.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(a,r){const i=this._state;i.equals(a)||(this._state=a,this._onScroll.fire(this._state.createScrollEvent(i,r)))}}class S{constructor(a,r,i){this.scrollLeft=a,this.scrollTop=r,this.isDone=i}}function p(g,a){const r=a-g;return function(i){return g+r*m(i)}}function E(g,a,r){return function(i){return i<r?g(i/r):a((i-r)/(1-r))}}class R{constructor(a,r,i,n){this.from=a,this.to=r,this.duration=n,this.startTime=i,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(a,r,i){if(Math.abs(a-r)>2.5*i){let c,u;return a<r?(c=a+.75*i,u=r-.75*i):(c=a-.75*i,u=r+.75*i),E(p(a,c),p(u,r),.33)}return p(a,r)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(a){this.to=a.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(a){const r=(a-this.startTime)/this.duration;if(r<1){const i=this.scrollLeft(r),n=this.scrollTop(r);return new S(i,n,!1)}return new S(this.to.scrollLeft,this.to.scrollTop,!0)}combine(a,r,i){return R.start(a,r,i)}static start(a,r,i){i=i+10;const n=Date.now()-10;return new R(a,r,n,i)}}function w(g){return Math.pow(g,3)}function m(g){return 1-w(1-g)}},25632:function(et,Le,e){"use strict";var o=e(30144),B;(function(x){x[x.Ignore=0]="Ignore",x[x.Info=1]="Info",x[x.Warning=2]="Warning",x[x.Error=3]="Error"})(B||(B={})),function(x){const O="error",S="warning",p="warn",E="info",R="ignore";function w(g){return g?o.qq(O,g)?x.Error:o.qq(S,g)||o.qq(p,g)?x.Warning:o.qq(E,g)?x.Info:x.Ignore:x.Ignore}x.fromValue=w;function m(g){switch(g){case x.Error:return O;case x.Warning:return S;case x.Info:return E;default:return R}}x.toString=m}(B||(B={})),Le.Z=B},32368:function(et,Le,e){"use strict";e.d(Le,{G:function(){return B}});const o=globalThis.performance&&typeof globalThis.performance.now=="function";class B{static create(O){return new B(O)}constructor(O){this._now=o&&O===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}}},30144:function(et,Le,e){"use strict";e.d(Le,{$i:function(){return M},B4:function(){return Ce},C8:function(){return X},Fw:function(){return l},GF:function(){return n},HO:function(){return te},IO:function(){return c},J_:function(){return se},K7:function(){return ye},Kw:function(){return Oe},LC:function(){return D},Mh:function(){return A},P1:function(){return P},PJ:function(){return Ke},Qe:function(){return we},R1:function(){return i},T5:function(){return k},TT:function(){return _},Ut:function(){return re},V8:function(){return f},W1:function(){return Q},WU:function(){return p},YK:function(){return W},YU:function(){return R},ZG:function(){return I},ZH:function(){return j},ZK:function(){return me},ab:function(){return We},c1:function(){return ve},df:function(){return K},ec:function(){return w},fA:function(){return E},fy:function(){return m},j3:function(){return g},j_:function(){return b},m5:function(){return O},mK:function(){return V},oH:function(){return le},oL:function(){return a},ok:function(){return z},ow:function(){return y},qq:function(){return Z},qu:function(){return C},rL:function(){return G},uS:function(){return Ee},un:function(){return r},uq:function(){return u},vH:function(){return ie},vU:function(){return be},zY:function(){return N}});var o=e(78329),B=e(20359),x;function O(oe){return!oe||typeof oe!="string"?!0:oe.trim().length===0}const S=/{(\d+)}/g;function p(oe,...ue){return ue.length===0?oe:oe.replace(S,function(de,Se){const Te=parseInt(Se,10);return isNaN(Te)||Te<0||Te>=ue.length?de:ue[Te]})}function E(oe){return oe.replace(/[<>"'&]/g,ue=>{switch(ue){case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&apos;";case"&":return"&amp;"}return ue})}function R(oe){return oe.replace(/[<>&]/g,function(ue){switch(ue){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return ue}})}function w(oe){return oe.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function m(oe,ue=" "){const de=g(oe,ue);return a(de,ue)}function g(oe,ue){if(!oe||!ue)return oe;const de=ue.length;if(de===0||oe.length===0)return oe;let Se=0;for(;oe.indexOf(ue,Se)===Se;)Se=Se+de;return oe.substring(Se)}function a(oe,ue){if(!oe||!ue)return oe;const de=ue.length,Se=oe.length;if(de===0||Se===0)return oe;let Te=Se,Ae=-1;for(;Ae=oe.lastIndexOf(ue,Te-1),!(Ae===-1||Ae+de!==Te);){if(Ae===0)return"";Te=Ae}return oe.substring(0,Te)}function r(oe){return oe.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function i(oe){return oe.replace(/\*/g,"")}function n(oe,ue,de={}){if(!oe)throw new Error("Cannot create regex from empty string");ue||(oe=w(oe)),de.wholeWord&&(/\B/.test(oe.charAt(0))||(oe="\\b"+oe),/\B/.test(oe.charAt(oe.length-1))||(oe=oe+"\\b"));let Se="";return de.global&&(Se+="g"),de.matchCase||(Se+="i"),de.multiline&&(Se+="m"),de.unicode&&(Se+="u"),new RegExp(oe,Se)}function c(oe){return oe.source==="^"||oe.source==="^$"||oe.source==="$"||oe.source==="^\\s*$"?!1:!!(oe.exec("")&&oe.lastIndex===0)}function u(oe){return oe.split(/\r\n|\r|\n/)}function l(oe){var ue;const de=[],Se=oe.split(/(\r\n|\r|\n)/);for(let Te=0;Te<Math.ceil(Se.length/2);Te++)de.push(Se[2*Te]+((ue=Se[2*Te+1])!==null&&ue!==void 0?ue:""));return de}function D(oe){for(let ue=0,de=oe.length;ue<de;ue++){const Se=oe.charCodeAt(ue);if(Se!==32&&Se!==9)return ue}return-1}function f(oe,ue=0,de=oe.length){for(let Se=ue;Se<de;Se++){const Te=oe.charCodeAt(Se);if(Te!==32&&Te!==9)return oe.substring(ue,Se)}return oe.substring(ue,de)}function y(oe,ue=oe.length-1){for(let de=ue;de>=0;de--){const Se=oe.charCodeAt(de);if(Se!==32&&Se!==9)return de}return-1}function C(oe,ue){return oe<ue?-1:oe>ue?1:0}function _(oe,ue,de=0,Se=oe.length,Te=0,Ae=ue.length){for(;de<Se&&Te<Ae;de++,Te++){const ot=oe.charCodeAt(de),xt=ue.charCodeAt(Te);if(ot<xt)return-1;if(ot>xt)return 1}const pe=Se-de,je=Ae-Te;return pe<je?-1:pe>je?1:0}function N(oe,ue){return b(oe,ue,0,oe.length,0,ue.length)}function b(oe,ue,de=0,Se=oe.length,Te=0,Ae=ue.length){for(;de<Se&&Te<Ae;de++,Te++){let ot=oe.charCodeAt(de),xt=ue.charCodeAt(Te);if(ot===xt)continue;if(ot>=128||xt>=128)return _(oe.toLowerCase(),ue.toLowerCase(),de,Se,Te,Ae);V(ot)&&(ot-=32),V(xt)&&(xt-=32);const jt=ot-xt;if(jt!==0)return jt}const pe=Se-de,je=Ae-Te;return pe<je?-1:pe>je?1:0}function k(oe){return oe>=48&&oe<=57}function V(oe){return oe>=97&&oe<=122}function K(oe){return oe>=65&&oe<=90}function Z(oe,ue){return oe.length===ue.length&&b(oe,ue)===0}function z(oe,ue){const de=ue.length;return ue.length>oe.length?!1:b(oe,ue,0,de)===0}function A(oe,ue){const de=Math.min(oe.length,ue.length);let Se;for(Se=0;Se<de;Se++)if(oe.charCodeAt(Se)!==ue.charCodeAt(Se))return Se;return de}function P(oe,ue){const de=Math.min(oe.length,ue.length);let Se;const Te=oe.length-1,Ae=ue.length-1;for(Se=0;Se<de;Se++)if(oe.charCodeAt(Te-Se)!==ue.charCodeAt(Ae-Se))return Se;return de}function I(oe){return 55296<=oe&&oe<=56319}function W(oe){return 56320<=oe&&oe<=57343}function G(oe,ue){return(oe-55296<<10)+(ue-56320)+65536}function j(oe,ue,de){const Se=oe.charCodeAt(de);if(I(Se)&&de+1<ue){const Te=oe.charCodeAt(de+1);if(W(Te))return G(Se,Te)}return Se}function Y(oe,ue){const de=oe.charCodeAt(ue-1);if(W(de)&&ue>1){const Se=oe.charCodeAt(ue-2);if(I(Se))return G(Se,de)}return de}class H{get offset(){return this._offset}constructor(ue,de=0){this._str=ue,this._len=ue.length,this._offset=de}setOffset(ue){this._offset=ue}prevCodePoint(){const ue=Y(this._str,this._offset);return this._offset-=ue>=65536?2:1,ue}nextCodePoint(){const ue=j(this._str,this._len,this._offset);return this._offset+=ue>=65536?2:1,ue}eol(){return this._offset>=this._len}}class Q{get offset(){return this._iterator.offset}constructor(ue,de=0){this._iterator=new H(ue,de)}nextGraphemeLength(){const ue=fe.getInstance(),de=this._iterator,Se=de.offset;let Te=ue.getGraphemeBreakType(de.nextCodePoint());for(;!de.eol();){const Ae=de.offset,pe=ue.getGraphemeBreakType(de.nextCodePoint());if(Qe(Te,pe)){de.setOffset(Ae);break}Te=pe}return de.offset-Se}prevGraphemeLength(){const ue=fe.getInstance(),de=this._iterator,Se=de.offset;let Te=ue.getGraphemeBreakType(de.prevCodePoint());for(;de.offset>0;){const Ae=de.offset,pe=ue.getGraphemeBreakType(de.prevCodePoint());if(Qe(pe,Te)){de.setOffset(Ae);break}Te=pe}return Se-de.offset}eol(){return this._iterator.eol()}}function ie(oe,ue){return new Q(oe,ue).nextGraphemeLength()}function te(oe,ue){return new Q(oe,ue).prevGraphemeLength()}function se(oe,ue){ue>0&&W(oe.charCodeAt(ue))&&ue--;const de=ue+ie(oe,ue);return[de-te(oe,de),de]}let ne;function ee(){return/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/}function re(oe){return ne||(ne=ee()),ne.test(oe)}const he=/^[\t\n\r\x20-\x7E]*$/;function M(oe){return he.test(oe)}const we=/[\u2028\u2029]/;function We(oe){return we.test(oe)}function ye(oe){return oe>=11904&&oe<=55215||oe>=63744&&oe<=64255||oe>=65281&&oe<=65374}function X(oe){return oe>=127462&&oe<=127487||oe===8986||oe===8987||oe===9200||oe===9203||oe>=9728&&oe<=10175||oe===11088||oe===11093||oe>=127744&&oe<=128591||oe>=128640&&oe<=128764||oe>=128992&&oe<=129008||oe>=129280&&oe<=129535||oe>=129648&&oe<=129782}const ve="\uFEFF";function Ee(oe){return!!(oe&&oe.length>0&&oe.charCodeAt(0)===65279)}function Oe(oe,ue=!1){return oe?(ue&&(oe=oe.replace(/\\./g,"")),oe.toLowerCase()!==oe):!1}function Ke(oe){return oe=oe%(2*26),oe<26?String.fromCharCode(97+oe):String.fromCharCode(65+oe-26)}function Qe(oe,ue){return oe===0?ue!==5&&ue!==7:oe===2&&ue===3?!1:oe===4||oe===2||oe===3||ue===4||ue===2||ue===3?!0:!(oe===8&&(ue===8||ue===9||ue===11||ue===12)||(oe===11||oe===9)&&(ue===9||ue===10)||(oe===12||oe===10)&&ue===10||ue===5||ue===13||ue===7||oe===1||oe===13&&ue===14||oe===6&&ue===6)}class fe{static getInstance(){return fe._INSTANCE||(fe._INSTANCE=new fe),fe._INSTANCE}constructor(){this._data=$()}getGraphemeBreakType(ue){if(ue<32)return ue===10?3:ue===13?2:4;if(ue<127)return 0;const de=this._data,Se=de.length/3;let Te=1;for(;Te<=Se;)if(ue<de[3*Te])Te=2*Te;else if(ue>de[3*Te+1])Te=2*Te+1;else return de[3*Te+2];return 0}}fe._INSTANCE=null;function $(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function le(oe,ue){if(oe===0)return 0;const de=De(oe,ue);if(de!==void 0)return de;const Se=new H(ue,oe);return Se.prevCodePoint(),Se.offset}function De(oe,ue){const de=new H(ue,oe);let Se=de.prevCodePoint();for(;xe(Se)||Se===65039||Se===8419;){if(de.offset===0)return;Se=de.prevCodePoint()}if(!X(Se))return;let Te=de.offset;return Te>0&&de.prevCodePoint()===8205&&(Te=de.offset),Te}function xe(oe){return 127995<=oe&&oe<=127999}const Ce="\xA0";class me{static getInstance(ue){return x.cache.get(Array.from(ue))}static getLocales(){return x._locales.value}constructor(ue){this.confusableDictionary=ue}isAmbiguous(ue){return this.confusableDictionary.has(ue)}getPrimaryConfusable(ue){return this.confusableDictionary.get(ue)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}x=me,me.ambiguousCharacterData=new B.o(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),me.cache=new o.t2({getCacheKey:JSON.stringify},oe=>{function ue(xt){const jt=new Map;for(let oi=0;oi<xt.length;oi+=2)jt.set(xt[oi],xt[oi+1]);return jt}function de(xt,jt){const oi=new Map(xt);for(const[ti,it]of jt)oi.set(ti,it);return oi}function Se(xt,jt){if(!xt)return jt;const oi=new Map;for(const[ti,it]of xt)jt.has(ti)&&oi.set(ti,it);return oi}const Te=x.ambiguousCharacterData.value;let Ae=oe.filter(xt=>!xt.startsWith("_")&&xt in Te);Ae.length===0&&(Ae=["_default"]);let pe;for(const xt of Ae){const jt=ue(Te[xt]);pe=Se(pe,jt)}const je=ue(Te._common),ot=de(je,pe);return new x(ot)}),me._locales=new B.o(()=>Object.keys(x.ambiguousCharacterData.value).filter(oe=>!oe.startsWith("_")));class be{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(be.getRawData())),this._data}static isInvisibleCharacter(ue){return be.getData().has(ue)}static get codePoints(){return be.getData()}}be._data=void 0},23733:function(et,Le,e){"use strict";e.d(Le,{n:function(){return o}});const o=Symbol("MicrotaskDelay")},8848:function(et,Le,e){"use strict";e.d(Le,{Id:function(){return E}});var o=e(30144);class B{constructor(){this._value="",this._pos=0}reset(w){return this._value=w,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(w){const m=w.charCodeAt(0),g=this._value.charCodeAt(this._pos);return m-g}value(){return this._value[this._pos]}}class x{constructor(w=!0){this._caseSensitive=w}reset(w){return this._value=w,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let w=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(w)this._from++;else break;else w=!1;return this}cmp(w){return this._caseSensitive?(0,o.TT)(w,this._value,0,w.length,this._from,this._to):(0,o.j_)(w,this._value,0,w.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class O{constructor(w=!0,m=!0){this._splitOnBackslash=w,this._caseSensitive=m}reset(w){this._from=0,this._to=0,this._value=w,this._valueLen=w.length;for(let m=w.length-1;m>=0;m--,this._valueLen--){const g=this._value.charCodeAt(m);if(!(g===47||this._splitOnBackslash&&g===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let w=!0;for(;this._to<this._valueLen;this._to++){const m=this._value.charCodeAt(this._to);if(m===47||this._splitOnBackslash&&m===92)if(w)this._from++;else break;else w=!1}return this}cmp(w){return this._caseSensitive?(0,o.TT)(w,this._value,0,w.length,this._from,this._to):(0,o.j_)(w,this._value,0,w.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class S{constructor(w,m){this._ignorePathCasing=w,this._ignoreQueryAndFragment=m,this._states=[],this._stateIdx=0}reset(w){return this._value=w,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new O(!1,!this._ignorePathCasing(w)),this._pathIterator.reset(w.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(w)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(w){if(this._states[this._stateIdx]===1)return(0,o.zY)(w,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,o.zY)(w,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(w);if(this._states[this._stateIdx]===4)return(0,o.qu)(w,this._value.query);if(this._states[this._stateIdx]===5)return(0,o.qu)(w,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}class p{constructor(){this.height=1}rotateLeft(){const w=this.right;return this.right=w.left,w.left=this,this.updateHeight(),w.updateHeight(),w}rotateRight(){const w=this.left;return this.left=w.right,w.right=this,this.updateHeight(),w.updateHeight(),w}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var w,m;return(m=(w=this.left)===null||w===void 0?void 0:w.height)!==null&&m!==void 0?m:0}get heightRight(){var w,m;return(m=(w=this.right)===null||w===void 0?void 0:w.height)!==null&&m!==void 0?m:0}}class E{static forUris(w=()=>!1,m=()=>!1){return new E(new S(w,m))}static forStrings(){return new E(new B)}static forConfigKeys(){return new E(new x)}constructor(w){this._iter=w}clear(){this._root=void 0}set(w,m){const g=this._iter.reset(w);let a;this._root||(this._root=new p,this._root.segment=g.value());const r=[];for(a=this._root;;){const n=g.cmp(a.segment);if(n>0)a.left||(a.left=new p,a.left.segment=g.value()),r.push([-1,a]),a=a.left;else if(n<0)a.right||(a.right=new p,a.right.segment=g.value()),r.push([1,a]),a=a.right;else if(g.hasNext())g.next(),a.mid||(a.mid=new p,a.mid.segment=g.value()),r.push([0,a]),a=a.mid;else break}const i=a.value;a.value=m,a.key=w;for(let n=r.length-1;n>=0;n--){const c=r[n][1];c.updateHeight();const u=c.balanceFactor();if(u<-1||u>1){const l=r[n][0],D=r[n+1][0];if(l===1&&D===1)r[n][1]=c.rotateLeft();else if(l===-1&&D===-1)r[n][1]=c.rotateRight();else if(l===1&&D===-1)c.right=r[n+1][1]=r[n+1][1].rotateRight(),r[n][1]=c.rotateLeft();else if(l===-1&&D===1)c.left=r[n+1][1]=r[n+1][1].rotateLeft(),r[n][1]=c.rotateRight();else throw new Error;if(n>0)switch(r[n-1][0]){case-1:r[n-1][1].left=r[n][1];break;case 1:r[n-1][1].right=r[n][1];break;case 0:r[n-1][1].mid=r[n][1];break}else this._root=r[0][1]}}return i}get(w){var m;return(m=this._getNode(w))===null||m===void 0?void 0:m.value}_getNode(w){const m=this._iter.reset(w);let g=this._root;for(;g;){const a=m.cmp(g.segment);if(a>0)g=g.left;else if(a<0)g=g.right;else if(m.hasNext())m.next(),g=g.mid;else break}return g}has(w){const m=this._getNode(w);return!((m==null?void 0:m.value)===void 0&&(m==null?void 0:m.mid)===void 0)}delete(w){return this._delete(w,!1)}deleteSuperstr(w){return this._delete(w,!0)}_delete(w,m){var g;const a=this._iter.reset(w),r=[];let i=this._root;for(;i;){const n=a.cmp(i.segment);if(n>0)r.push([-1,i]),i=i.left;else if(n<0)r.push([1,i]),i=i.right;else if(a.hasNext())a.next(),r.push([0,i]),i=i.mid;else break}if(i){if(m?(i.left=void 0,i.mid=void 0,i.right=void 0,i.height=1):(i.key=void 0,i.value=void 0),!i.mid&&!i.value)if(i.left&&i.right){const n=this._min(i.right);if(n.key){const{key:c,value:u,segment:l}=n;this._delete(n.key,!1),i.key=c,i.value=u,i.segment=l}}else{const n=(g=i.left)!==null&&g!==void 0?g:i.right;if(r.length>0){const[c,u]=r[r.length-1];switch(c){case-1:u.left=n;break;case 0:u.mid=n;break;case 1:u.right=n;break}}else this._root=n}for(let n=r.length-1;n>=0;n--){const c=r[n][1];c.updateHeight();const u=c.balanceFactor();if(u>1?(c.right.balanceFactor()>=0||(c.right=c.right.rotateRight()),r[n][1]=c.rotateLeft()):u<-1&&(c.left.balanceFactor()<=0||(c.left=c.left.rotateLeft()),r[n][1]=c.rotateRight()),n>0)switch(r[n-1][0]){case-1:r[n-1][1].left=r[n][1];break;case 1:r[n-1][1].right=r[n][1];break;case 0:r[n-1][1].mid=r[n][1];break}else this._root=r[0][1]}}}_min(w){for(;w.left;)w=w.left;return w}findSubstr(w){const m=this._iter.reset(w);let g=this._root,a;for(;g;){const r=m.cmp(g.segment);if(r>0)g=g.left;else if(r<0)g=g.right;else if(m.hasNext())m.next(),a=g.value||a,g=g.mid;else break}return g&&g.value||a}findSuperstr(w){return this._findSuperstrOrElement(w,!1)}_findSuperstrOrElement(w,m){const g=this._iter.reset(w);let a=this._root;for(;a;){const r=g.cmp(a.segment);if(r>0)a=a.left;else if(r<0)a=a.right;else if(g.hasNext())g.next(),a=a.mid;else return a.mid?this._entries(a.mid):m?a.value:void 0}}forEach(w){for(const[m,g]of this)w(g,m)}*[Symbol.iterator](){yield*Sa(this._entries(this._root))}_entries(w){const m=[];return this._dfsEntries(w,m),m[Symbol.iterator]()}_dfsEntries(w,m){w&&(w.left&&this._dfsEntries(w.left,m),w.value&&m.push([w.key,w.value]),w.mid&&this._dfsEntries(w.mid,m),w.right&&this._dfsEntries(w.right,m))}}},68777:function(et,Le,e){"use strict";e.d(Le,{k:function(){return x}});var o=e(24752),B;(function(O){function S(p){return p&&typeof p=="object"&&typeof p.id=="string"}O.isThemeColor=S})(B||(B={}));var x;(function(O){O.iconNameSegment="[A-Za-z0-9]+",O.iconNameExpression="[A-Za-z0-9-]+",O.iconModifierExpression="~[A-Za-z]+",O.iconNameCharacter="[A-Za-z0-9~-]";const S=new RegExp(`^(${O.iconNameExpression})(${O.iconModifierExpression})?$`);function p(c){const u=S.exec(c.id);if(!u)return p(o.l.error);const[,l,D]=u,f=["codicon","codicon-"+l];return D&&f.push("codicon-modifier-"+D.substring(1)),f}O.asClassNameArray=p;function E(c){return p(c).join(" ")}O.asClassName=E;function R(c){return"."+p(c).join(".")}O.asCSSSelector=R;function w(c){return c&&typeof c=="object"&&typeof c.id=="string"&&(typeof c.color=="undefined"||B.isThemeColor(c.color))}O.isThemeIcon=w;const m=new RegExp(`^\\$\\((${O.iconNameExpression}(?:${O.iconModifierExpression})?)\\)$`);function g(c){const u=m.exec(c);if(!u)return;const[,l]=u;return{id:l}}O.fromString=g;function a(c){return{id:c}}O.fromId=a;function r(c,u){let l=c.id;const D=l.lastIndexOf("~");return D!==-1&&(l=l.substring(0,D)),u&&(l=`${l}~${u}`),{id:l}}O.modify=r;function i(c){const u=c.id.lastIndexOf("~");if(u!==-1)return c.id.substring(u+1)}O.getModifier=i;function n(c,u){var l,D;return c.id===u.id&&((l=c.color)===null||l===void 0?void 0:l.id)===((D=u.color)===null||D===void 0?void 0:D.id)}O.isEqual=n})(x||(x={}))},26974:function(et,Le,e){"use strict";e.d(Le,{$K:function(){return R},D8:function(){return r},HD:function(){return o},Jp:function(){return w},Kn:function(){return B},TW:function(){return S},cW:function(){return g},fU:function(){return x},hj:function(){return O},jn:function(){return p},mf:function(){return a},o8:function(){return E},p_:function(){return m}});function o(n){return typeof n=="string"}function B(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)&&!(n instanceof RegExp)&&!(n instanceof Date)}function x(n){const c=Object.getPrototypeOf(Uint8Array);return typeof n=="object"&&n instanceof c}function O(n){return typeof n=="number"&&!isNaN(n)}function S(n){return!!n&&typeof n[Symbol.iterator]=="function"}function p(n){return n===!0||n===!1}function E(n){return typeof n=="undefined"}function R(n){return!w(n)}function w(n){return E(n)||n===null}function m(n,c){if(!n)throw new Error(c?`Unexpected type, expected '${c}'`:"Unexpected type")}function g(n){if(w(n))throw new Error("Assertion Failed: argument is undefined or null");return n}function a(n){return typeof n=="function"}function r(n,c){const u=Math.min(n.length,c.length);for(let l=0;l<u;l++)i(n[l],c[l])}function i(n,c){if(o(c)){if(typeof n!==c)throw new Error(`argument does not match constraint: typeof ${c}`)}else if(a(c)){try{if(n instanceof c)return}catch(u){}if(!w(n)&&n.constructor===c||c.length===1&&c.call(void 0,n)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}},18973:function(et,Le,e){"use strict";e.d(Le,{A:function(){return B},K:function(){return o}});function o(x){return x<0?0:x>255?255:x|0}function B(x){return x<0?0:x>4294967295?4294967295:x|0}},10058:function(et,Le,e){"use strict";e.d(Le,{o:function(){return a},q:function(){return l}});var o=e(99620),B=e(15122);const x=/^\w[\w\d+.-]*$/,O=/^\//,S=/^\/\//;function p(_,N){if(!_.scheme&&N)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${_.authority}", path: "${_.path}", query: "${_.query}", fragment: "${_.fragment}"}`);if(_.scheme&&!x.test(_.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(_.path){if(_.authority){if(!O.test(_.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(S.test(_.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function E(_,N){return!_&&!N?"file":_}function R(_,N){switch(_){case"https":case"http":case"file":N?N[0]!==m&&(N=m+N):N=m;break}return N}const w="",m="/",g=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class a{static isUri(N){return N instanceof a?!0:N?typeof N.authority=="string"&&typeof N.fragment=="string"&&typeof N.path=="string"&&typeof N.query=="string"&&typeof N.scheme=="string"&&typeof N.fsPath=="string"&&typeof N.with=="function"&&typeof N.toString=="function":!1}constructor(N,b,k,V,K,Z=!1){typeof N=="object"?(this.scheme=N.scheme||w,this.authority=N.authority||w,this.path=N.path||w,this.query=N.query||w,this.fragment=N.fragment||w):(this.scheme=E(N,Z),this.authority=b||w,this.path=R(this.scheme,k||w),this.query=V||w,this.fragment=K||w,p(this,Z))}get fsPath(){return l(this,!1)}with(N){if(!N)return this;let{scheme:b,authority:k,path:V,query:K,fragment:Z}=N;return b===void 0?b=this.scheme:b===null&&(b=w),k===void 0?k=this.authority:k===null&&(k=w),V===void 0?V=this.path:V===null&&(V=w),K===void 0?K=this.query:K===null&&(K=w),Z===void 0?Z=this.fragment:Z===null&&(Z=w),b===this.scheme&&k===this.authority&&V===this.path&&K===this.query&&Z===this.fragment?this:new i(b,k,V,K,Z)}static parse(N,b=!1){const k=g.exec(N);return k?new i(k[2]||w,C(k[4]||w),C(k[5]||w),C(k[7]||w),C(k[9]||w),b):new i(w,w,w,w,w)}static file(N){let b=w;if(B.ED&&(N=N.replace(/\\/g,m)),N[0]===m&&N[1]===m){const k=N.indexOf(m,2);k===-1?(b=N.substring(2),N=m):(b=N.substring(2,k),N=N.substring(k)||m)}return new i("file",b,N,w,w)}static from(N,b){return new i(N.scheme,N.authority,N.path,N.query,N.fragment,b)}static joinPath(N,...b){if(!N.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let k;return B.ED&&N.scheme==="file"?k=a.file(o.Ku.join(l(N,!0),...b)).path:k=o.KR.join(N.path,...b),N.with({path:k})}toString(N=!1){return D(this,N)}toJSON(){return this}static revive(N){var b,k;if(N){if(N instanceof a)return N;{const V=new i(N);return V._formatted=(b=N.external)!==null&&b!==void 0?b:null,V._fsPath=N._sep===r&&(k=N.fsPath)!==null&&k!==void 0?k:null,V}}else return N}}const r=B.ED?1:void 0;class i extends a{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=l(this,!1)),this._fsPath}toString(N=!1){return N?D(this,!0):(this._formatted||(this._formatted=D(this,!1)),this._formatted)}toJSON(){const N={$mid:1};return this._fsPath&&(N.fsPath=this._fsPath,N._sep=r),this._formatted&&(N.external=this._formatted),this.path&&(N.path=this.path),this.scheme&&(N.scheme=this.scheme),this.authority&&(N.authority=this.authority),this.query&&(N.query=this.query),this.fragment&&(N.fragment=this.fragment),N}}const n={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function c(_,N,b){let k,V=-1;for(let K=0;K<_.length;K++){const Z=_.charCodeAt(K);if(Z>=97&&Z<=122||Z>=65&&Z<=90||Z>=48&&Z<=57||Z===45||Z===46||Z===95||Z===126||N&&Z===47||b&&Z===91||b&&Z===93||b&&Z===58)V!==-1&&(k+=encodeURIComponent(_.substring(V,K)),V=-1),k!==void 0&&(k+=_.charAt(K));else{k===void 0&&(k=_.substr(0,K));const z=n[Z];z!==void 0?(V!==-1&&(k+=encodeURIComponent(_.substring(V,K)),V=-1),k+=z):V===-1&&(V=K)}}return V!==-1&&(k+=encodeURIComponent(_.substring(V))),k!==void 0?k:_}function u(_){let N;for(let b=0;b<_.length;b++){const k=_.charCodeAt(b);k===35||k===63?(N===void 0&&(N=_.substr(0,b)),N+=n[k]):N!==void 0&&(N+=_[b])}return N!==void 0?N:_}function l(_,N){let b;return _.authority&&_.path.length>1&&_.scheme==="file"?b=`//${_.authority}${_.path}`:_.path.charCodeAt(0)===47&&(_.path.charCodeAt(1)>=65&&_.path.charCodeAt(1)<=90||_.path.charCodeAt(1)>=97&&_.path.charCodeAt(1)<=122)&&_.path.charCodeAt(2)===58?N?b=_.path.substr(1):b=_.path[1].toLowerCase()+_.path.substr(2):b=_.path,B.ED&&(b=b.replace(/\//g,"\\")),b}function D(_,N){const b=N?u:c;let k="",{scheme:V,authority:K,path:Z,query:z,fragment:A}=_;if(V&&(k+=V,k+=":"),(K||V==="file")&&(k+=m,k+=m),K){let P=K.indexOf("@");if(P!==-1){const I=K.substr(0,P);K=K.substr(P+1),P=I.lastIndexOf(":"),P===-1?k+=b(I,!1,!1):(k+=b(I.substr(0,P),!1,!1),k+=":",k+=b(I.substr(P+1),!1,!0)),k+="@"}K=K.toLowerCase(),P=K.lastIndexOf(":"),P===-1?k+=b(K,!1,!0):(k+=b(K.substr(0,P),!1,!0),k+=K.substr(P))}if(Z){if(Z.length>=3&&Z.charCodeAt(0)===47&&Z.charCodeAt(2)===58){const P=Z.charCodeAt(1);P>=65&&P<=90&&(Z=`/${String.fromCharCode(P+32)}:${Z.substr(3)}`)}else if(Z.length>=2&&Z.charCodeAt(1)===58){const P=Z.charCodeAt(0);P>=65&&P<=90&&(Z=`${String.fromCharCode(P+32)}:${Z.substr(2)}`)}k+=b(Z,!0,!1)}return z&&(k+="?",k+=b(z,!1,!1)),A&&(k+="#",k+=N?A:c(A,!1,!1)),k}function f(_){try{return decodeURIComponent(_)}catch(N){return _.length>3?_.substr(0,3)+f(_.substr(3)):_}}const y=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function C(_){return _.match(y)?_.replace(y,N=>f(N)):_}},78836:function(et,Le,e){"use strict";e.d(Le,{R:function(){return o}});const o=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let B;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?B=crypto.getRandomValues.bind(crypto):B=function(S){for(let p=0;p<S.length;p++)S[p]=Math.floor(Math.random()*256);return S};const x=new Uint8Array(16),O=[];for(let S=0;S<256;S++)O.push(S.toString(16).padStart(2,"0"));return function(){B(x),x[6]=x[6]&15|64,x[8]=x[8]&63|128;let p=0,E="";return E+=O[x[p++]],E+=O[x[p++]],E+=O[x[p++]],E+=O[x[p++]],E+="-",E+=O[x[p++]],E+=O[x[p++]],E+="-",E+=O[x[p++]],E+=O[x[p++]],E+="-",E+=O[x[p++]],E+=O[x[p++]],E+="-",E+=O[x[p++]],E+=O[x[p++]],E+=O[x[p++]],E+=O[x[p++]],E+=O[x[p++]],E+=O[x[p++]],E}}()},97783:function(et,Le,e){"use strict";e.d(Le,{H:function(){return r}});var o=e(52654);var B=Object.defineProperty,x=Object.getOwnPropertyDescriptor,O=Object.getOwnPropertyNames,S=Object.prototype.hasOwnProperty,p=(i,n,c,u)=>{if(n&&typeof n=="object"||typeof n=="function")for(let l of O(n))!S.call(i,l)&&l!==c&&B(i,l,{get:()=>n[l],enumerable:!(u=x(n,l))||u.enumerable});return i},E=(i,n,c)=>(p(i,n,"default"),c&&p(c,n,"default")),R={};E(R,o);var w={},m={},g=class fd{static getOrCreate(n){return m[n]||(m[n]=new fd(n)),m[n]}constructor(n){this._languageId=n,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((c,u)=>{this._lazyLoadPromiseResolve=c,this._lazyLoadPromiseReject=u})}load(){return this._loadingTriggered||(this._loadingTriggered=!0,w[this._languageId].loader().then(n=>this._lazyLoadPromiseResolve(n),n=>this._lazyLoadPromiseReject(n))),this._lazyLoadPromise}};function a(i){return Ft(this,null,function*(){yield g.getOrCreate(i).load(),R.editor.createModel("",i).dispose()})}function r(i){const n=i.id;w[n]=i,R.languages.register(i);const c=g.getOrCreate(n);R.languages.registerTokensProviderFactory(n,{create:()=>Ft(this,null,function*(){return(yield c.load()).language})}),R.languages.onLanguageEncountered(n,()=>Ft(this,null,function*(){const u=yield c.load();R.languages.setLanguageConfiguration(n,u.conf)}))}},48437:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>e.e(2799).then(e.bind(e,12799))})},79889:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>e.e(6467).then(e.bind(e,16467))})},23551:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>e.e(2456).then(e.bind(e,12456))})},75533:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>e.e(162).then(e.bind(e,60162))})},68644:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>e.e(2997).then(e.bind(e,87061))})},40114:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>e.e(3831).then(e.bind(e,23831))})},47192:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>e.e(7281).then(e.bind(e,37281))})},49312:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>e.e(9371).then(e.bind(e,79371))})},29902:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>e.e(4747).then(e.bind(e,84747))}),(0,o.H)({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>e.e(4747).then(e.bind(e,84747))})},85574:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>e.e(8401).then(e.bind(e,98401))})},51227:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"csp",extensions:[],aliases:["CSP","csp"],loader:()=>e.e(4648).then(e.bind(e,14648))})},57224:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>e.e(1884).then(e.bind(e,41884))})},37033:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"cypher",extensions:[".cypher",".cyp"],aliases:["Cypher","OpenCypher"],loader:()=>e.e(6452).then(e.bind(e,16452))})},67611:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>e.e(1731).then(e.bind(e,21731))})},64676:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>e.e(1374).then(e.bind(e,41374))})},2808:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>e.e(4018).then(e.bind(e,34018))})},45885:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>e.e(210).then(e.bind(e,80210))})},21373:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>e.e(2299).then(e.bind(e,82299))})},5384:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>e.e(8168).then(e.bind(e,8168)).then(B=>B.TagAutoInterpolationDollar)}),(0,o.H)({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>e.e(8168).then(e.bind(e,8168)).then(B=>B.TagAngleInterpolationDollar)}),(0,o.H)({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>e.e(8168).then(e.bind(e,8168)).then(B=>B.TagBracketInterpolationDollar)}),(0,o.H)({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>e.e(8168).then(e.bind(e,8168)).then(B=>B.TagAngleInterpolationBracket)}),(0,o.H)({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>e.e(8168).then(e.bind(e,8168)).then(B=>B.TagBracketInterpolationBracket)}),(0,o.H)({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>e.e(8168).then(e.bind(e,8168)).then(B=>B.TagAutoInterpolationDollar)}),(0,o.H)({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>e.e(8168).then(e.bind(e,8168)).then(B=>B.TagAutoInterpolationBracket)})},35455:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>e.e(9193).then(e.bind(e,49193))})},21338:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>e.e(4305).then(e.bind(e,24305))})},29418:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>e.e(9174).then(e.bind(e,9174))})},28580:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>e.e(6595).then(e.bind(e,86595))})},22500:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>e.e(2287).then(e.bind(e,82287))})},16211:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>e.e(2850).then(e.bind(e,42850))})},86456:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>e.e(4092).then(e.bind(e,24092))})},84733:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>e.e(4862).then(e.bind(e,54862))})},3684:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>e.e(4433).then(e.bind(e,44433))})},57819:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>e.e(6780).then(e.bind(e,26780))})},28694:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"kotlin",extensions:[".kt",".kts"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>e.e(8465).then(e.bind(e,50749))})},40294:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>e.e(3436).then(e.bind(e,83436))})},27119:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>e.e(9572).then(e.bind(e,99572))})},27368:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>e.e(660).then(e.bind(e,30660))})},73471:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>e.e(7222).then(e.bind(e,47222))})},35513:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>e.e(9896).then(e.bind(e,49896))})},82504:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>e.e(9265).then(e.bind(e,89265))})},59462:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"mdx",extensions:[".mdx"],aliases:["MDX","mdx"],loader:()=>e.e(6711).then(e.bind(e,6711))})},38429:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>e.e(6513).then(e.bind(e,46513))})},83615:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>e.e(9405).then(e.bind(e,49405))})},51814:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>e.e(151).then(e.bind(e,70151))})},34365:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>e.e(2382).then(e.bind(e,11799))})},82112:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>e.e(1765).then(e.bind(e,1765))})},51255:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>e.e(5002).then(e.bind(e,85002))})},94343:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"perl",extensions:[".pl",".pm"],aliases:["Perl","pl"],loader:()=>e.e(9947).then(e.bind(e,19947))})},63827:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>e.e(1740).then(e.bind(e,71740))})},1894:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>e.e(4690).then(e.bind(e,24690))})},40339:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"pla",extensions:[".pla"],loader:()=>e.e(6405).then(e.bind(e,76405))})},61946:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>e.e(2316).then(e.bind(e,2316))})},39040:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>e.e(6481).then(e.bind(e,6481))})},30562:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>e.e(8821).then(e.bind(e,38821))})},67902:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>e.e(6876).then(e.bind(e,56876))})},47877:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>e.e(9270).then(e.bind(e,29270))})},16970:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>e.e(2105).then(e.bind(e,42105))})},75792:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>e.e(8329).then(e.bind(e,28329))})},49827:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>e.e(8887).then(e.bind(e,8887))})},4380:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>e.e(9992).then(e.bind(e,99992))})},46778:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>e.e(1091).then(e.bind(e,41091))})},85607:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>e.e(1506).then(e.bind(e,41506))})},93336:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>e.e(1132).then(e.bind(e,81132))})},45015:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>e.e(7205).then(e.bind(e,57205))})},48948:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>e.e(6688).then(e.bind(e,66688))})},89393:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>e.e(6280).then(e.bind(e,46280))})},69889:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>e.e(5776).then(e.bind(e,65776))})},51331:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>e.e(7754).then(e.bind(e,87754))})},3380:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>e.e(4933).then(e.bind(e,14933))})},36563:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>e.e(8911).then(e.bind(e,38911))})},14874:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>e.e(7601).then(e.bind(e,77601))})},68149:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>e.e(97).then(e.bind(e,58431))})},41214:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>e.e(3661).then(e.bind(e,23661))})},67752:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>e.e(8914).then(e.bind(e,38914))})},32797:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib",".TcPOU",".TcDUT",".TcGVL",".TcIO"],aliases:["StructuredText","scl","stl"],loader:()=>e.e(6180).then(e.bind(e,96180))})},2837:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>e.e(3430).then(e.bind(e,53430))})},75493:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>e.e(5934).then(e.bind(e,55934))}),(0,o.H)({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>e.e(5934).then(e.bind(e,55934))})},44784:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>e.e(7598).then(e.bind(e,7598))})},43778:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>e.e(5570).then(e.bind(e,55570))})},7443:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"typescript",extensions:[".ts",".tsx",".cts",".mts"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>e.e(5608).then(e.bind(e,45608))})},68498:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"typespec",extensions:[".tsp"],aliases:["TypeSpec"],loader:()=>e.e(6489).then(e.bind(e,86489))})},60067:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>e.e(9049).then(e.bind(e,88157))})},30970:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"wgsl",extensions:[".wgsl"],aliases:["WebGPU Shading Language","WGSL","wgsl"],loader:()=>e.e(8769).then(e.bind(e,18769))})},16855:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"xml",extensions:[".xml",".xsd",".dtd",".ascx",".csproj",".config",".props",".targets",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xslt",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>e.e(7764).then(e.bind(e,27764))})},62800:function(et,Le,e){"use strict";var o=e(97783);(0,o.H)({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>e.e(4005).then(e.bind(e,4005))})},43901:function(et,Le,e){"use strict";e.d(Le,{N:function(){return B}});var o=e(76204);function B(x,O){x instanceof o.Z?(x.setFontFamily(O.getMassagedFontFamily()),x.setFontWeight(O.fontWeight),x.setFontSize(O.fontSize),x.setFontFeatureSettings(O.fontFeatureSettings),x.setFontVariationSettings(O.fontVariationSettings),x.setLineHeight(O.lineHeight),x.setLetterSpacing(O.letterSpacing)):(x.style.fontFamily=O.getMassagedFontFamily(),x.style.fontWeight=O.fontWeight,x.style.fontSize=O.fontSize+"px",x.style.fontFeatureSettings=O.fontFeatureSettings,x.style.fontVariationSettings=O.fontVariationSettings,x.style.lineHeight=O.lineHeight+"px",x.style.letterSpacing=O.letterSpacing+"px")}},84669:function(et,Le,e){"use strict";e.d(Le,{I:function(){return O}});var o=e(45029),B=e(79329),x=e(91540);class O extends o.JT{constructor(p,E){super(),this._onDidChange=this._register(new B.Q5),this.onDidChange=this._onDidChange.event,this._referenceDomElement=p,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,E)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){if(!this._resizeObserver&&this._referenceDomElement){let p=null;const E=()=>{p?this.observe({width:p.width,height:p.height}):this.observe()};let R=!1,w=!1;const m=()=>{if(R&&!w)try{R=!1,w=!0,E()}finally{(0,x.jL)((0,x.Jj)(this._referenceDomElement),()=>{w=!1,m()})}};this._resizeObserver=new ResizeObserver(g=>{g&&g[0]&&g[0].contentRect?p={width:g[0].contentRect.width,height:g[0].contentRect.height}:p=null,R=!0,m()}),this._resizeObserver.observe(this._referenceDomElement)}}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(p){this.measureReferenceDomElement(!0,p)}measureReferenceDomElement(p,E){let R=0,w=0;E?(R=E.width,w=E.height):this._referenceDomElement&&(R=this._referenceDomElement.clientWidth,w=this._referenceDomElement.clientHeight),R=Math.max(5,R),w=Math.max(5,w),(this._width!==R||this._height!==w)&&(this._width=R,this._height=w,p&&this._onDidChange.fire())}}},10298:function(et,Le,e){"use strict";e.d(Le,{g:function(){return r}});var o=e(91540),B=e(88245),x=e(79329),O=e(45029),S=e(43901);class p{constructor(n,c){this.chr=n,this.type=c,this.width=0}fulfill(n){this.width=n}}class E{constructor(n,c){this._bareFontInfo=n,this._requests=c,this._container=null,this._testElements=null}read(n){this._createDomElements(),n.document.body.appendChild(this._container),this._readFromDomElements(),n.document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const n=document.createElement("div");n.style.position="absolute",n.style.top="-50000px",n.style.width="50000px";const c=document.createElement("div");(0,S.N)(c,this._bareFontInfo),n.appendChild(c);const u=document.createElement("div");(0,S.N)(u,this._bareFontInfo),u.style.fontWeight="bold",n.appendChild(u);const l=document.createElement("div");(0,S.N)(l,this._bareFontInfo),l.style.fontStyle="italic",n.appendChild(l);const D=[];for(const f of this._requests){let y;f.type===0&&(y=c),f.type===2&&(y=u),f.type===1&&(y=l),y.appendChild(document.createElement("br"));const C=document.createElement("span");E._render(C,f),y.appendChild(C),D.push(C)}this._container=n,this._testElements=D}static _render(n,c){if(c.chr===" "){let u="\xA0";for(let l=0;l<8;l++)u+=u;n.innerText=u}else{let u=c.chr;for(let l=0;l<8;l++)u+=u;n.textContent=u}}_readFromDomElements(){for(let n=0,c=this._requests.length;n<c;n++){const u=this._requests[n],l=this._testElements[n];u.fulfill(l.offsetWidth/256)}}}function R(i,n,c){new E(n,c).read(i)}var w=e(75625),m=e(33525);class g extends O.JT{constructor(){super(...arguments),this._cache=new Map,this._evictUntrustedReadingsTimeout=-1,this._onDidChange=this._register(new x.Q5),this.onDidChange=this._onDidChange.event}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache.clear(),this._onDidChange.fire()}_ensureCache(n){const c=(0,o.ZY)(n);let u=this._cache.get(c);return u||(u=new a,this._cache.set(c,u)),u}_writeToCache(n,c,u){this._ensureCache(n).put(c,u),!u.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=n.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings(n)},5e3))}_evictUntrustedReadings(n){const c=this._ensureCache(n),u=c.getValues();let l=!1;for(const D of u)D.isTrusted||(l=!0,c.remove(D));l&&this._onDidChange.fire()}readFontInfo(n,c){const u=this._ensureCache(n);if(!u.has(c)){let l=this._actualReadFontInfo(n,c);(l.typicalHalfwidthCharacterWidth<=2||l.typicalFullwidthCharacterWidth<=2||l.spaceWidth<=2||l.maxDigitWidth<=2)&&(l=new m.pR({pixelRatio:B.T.getInstance(n).value,fontFamily:l.fontFamily,fontWeight:l.fontWeight,fontSize:l.fontSize,fontFeatureSettings:l.fontFeatureSettings,fontVariationSettings:l.fontVariationSettings,lineHeight:l.lineHeight,letterSpacing:l.letterSpacing,isMonospace:l.isMonospace,typicalHalfwidthCharacterWidth:Math.max(l.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(l.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:l.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(l.spaceWidth,5),middotWidth:Math.max(l.middotWidth,5),wsmiddotWidth:Math.max(l.wsmiddotWidth,5),maxDigitWidth:Math.max(l.maxDigitWidth,5)},!1)),this._writeToCache(n,c,l)}return u.get(c)}_createRequest(n,c,u,l){const D=new p(n,c);return u.push(D),l==null||l.push(D),D}_actualReadFontInfo(n,c){const u=[],l=[],D=this._createRequest("n",0,u,l),f=this._createRequest("\uFF4D",0,u,null),y=this._createRequest(" ",0,u,l),C=this._createRequest("0",0,u,l),_=this._createRequest("1",0,u,l),N=this._createRequest("2",0,u,l),b=this._createRequest("3",0,u,l),k=this._createRequest("4",0,u,l),V=this._createRequest("5",0,u,l),K=this._createRequest("6",0,u,l),Z=this._createRequest("7",0,u,l),z=this._createRequest("8",0,u,l),A=this._createRequest("9",0,u,l),P=this._createRequest("\u2192",0,u,l),I=this._createRequest("\uFFEB",0,u,null),W=this._createRequest("\xB7",0,u,l),G=this._createRequest("\u2E31",0,u,null),j="|/-_ilm%";for(let te=0,se=j.length;te<se;te++)this._createRequest(j.charAt(te),0,u,l),this._createRequest(j.charAt(te),1,u,l),this._createRequest(j.charAt(te),2,u,l);R(n,c,u);const Y=Math.max(C.width,_.width,N.width,b.width,k.width,V.width,K.width,Z.width,z.width,A.width);let H=c.fontFeatureSettings===w.n0.OFF;const Q=l[0].width;for(let te=1,se=l.length;H&&te<se;te++){const ne=Q-l[te].width;if(ne<-.001||ne>.001){H=!1;break}}let ie=!0;return H&&I.width!==Q&&(ie=!1),I.width>P.width&&(ie=!1),new m.pR({pixelRatio:B.T.getInstance(n).value,fontFamily:c.fontFamily,fontWeight:c.fontWeight,fontSize:c.fontSize,fontFeatureSettings:c.fontFeatureSettings,fontVariationSettings:c.fontVariationSettings,lineHeight:c.lineHeight,letterSpacing:c.letterSpacing,isMonospace:H,typicalHalfwidthCharacterWidth:D.width,typicalFullwidthCharacterWidth:f.width,canUseHalfwidthRightwardsArrow:ie,spaceWidth:y.width,middotWidth:W.width,wsmiddotWidth:G.width,maxDigitWidth:Y},!0)}}class a{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(n){const c=n.getId();return!!this._values[c]}get(n){const c=n.getId();return this._values[c]}put(n,c){const u=n.getId();this._keys[u]=n,this._values[u]=c}remove(n){const c=n.getId();delete this._keys[c],delete this._values[c]}getValues(){return Object.keys(this._keys).map(n=>this._values[n])}}const r=new g},3422:function(et,Le,e){"use strict";e.d(Le,{n:function(){return x}});var o=e(79329);class B{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new o.Q5,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(S){this._tabFocus=S,this._onDidChangeTabFocus.fire(this._tabFocus)}}const x=new B},47923:function(et,Le,e){"use strict";e.d(Le,{Fz:function(){return y},Nl:function(){return D},RA:function(){return l},Tj:function(){return _},b6:function(){return C},pd:function(){return u}});var o=e(18119),B=e(91540),x=e(60773),O=e(50908),S=e(93116),p=e(74696),E=e(79329),R=e(45029),w=e(56742),m=e(30144),g=e(14691),a=e(14149),r=e(84935),i=e(61629),n=function(N,b,k,V){var K=arguments.length,Z=K<3?b:V===null?V=Object.getOwnPropertyDescriptor(b,k):V,z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Z=Reflect.decorate(N,b,k,V);else for(var A=N.length-1;A>=0;A--)(z=N[A])&&(Z=(K<3?z(Z):K>3?z(b,k,Z):z(b,k))||Z);return K>3&&Z&&Object.defineProperty(b,k,Z),Z},c=function(N,b){return function(k,V){b(k,V,N)}},u;(function(N){N.Tap="-monaco-textarea-synthetic-tap"})(u||(u={}));const l={forceCopyWithSyntaxHighlighting:!1};class D{constructor(){this._lastState=null}set(b,k){this._lastState={lastCopiedValue:b,data:k}}get(b){return this._lastState&&this._lastState.lastCopiedValue===b?this._lastState.data:(this._lastState=null,null)}}D.INSTANCE=new D;class f{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(b){b=b||"";const k={text:b,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=b.length,k}}let y=class extends R.JT{get textAreaState(){return this._textAreaState}constructor(b,k,V,K,Z,z){super(),this._host=b,this._textArea=k,this._OS=V,this._browser=K,this._accessibilityService=Z,this._logService=z,this._onFocus=this._register(new E.Q5),this.onFocus=this._onFocus.event,this._onBlur=this._register(new E.Q5),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new E.Q5),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new E.Q5),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new E.Q5),this.onCut=this._onCut.event,this._onPaste=this._register(new E.Q5),this.onPaste=this._onPaste.event,this._onType=this._register(new E.Q5),this.onType=this._onType.event,this._onCompositionStart=this._register(new E.Q5),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new E.Q5),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new E.Q5),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new E.Q5),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncFocusGainWriteScreenReaderContent=this._register(new R.XK),this._asyncTriggerCut=this._register(new p.pY(()=>this._onCut.fire(),0)),this._textAreaState=g.un.EMPTY,this._selectionChangeListener=null,this._accessibilityService.isScreenReaderOptimized()&&this.writeNativeTextAreaContent("ctor"),this._register(E.ju.runAndSubscribe(this._accessibilityService.onDidChangeScreenReaderOptimized,()=>{this._accessibilityService.isScreenReaderOptimized()&&!this._asyncFocusGainWriteScreenReaderContent.value?this._asyncFocusGainWriteScreenReaderContent.value=this._register(new p.pY(()=>this.writeNativeTextAreaContent("asyncFocusGain"),0)):this._asyncFocusGainWriteScreenReaderContent.clear()})),this._hasFocus=!1,this._currentComposition=null;let A=null;this._register(this._textArea.onKeyDown(P=>{const I=new O.y(P);(I.keyCode===114||this._currentComposition&&I.keyCode===1)&&I.stopPropagation(),I.equals(9)&&I.preventDefault(),A=I,this._onKeyDown.fire(I)})),this._register(this._textArea.onKeyUp(P=>{const I=new O.y(P);this._onKeyUp.fire(I)})),this._register(this._textArea.onCompositionStart(P=>{g.al&&console.log("[compositionstart]",P);const I=new f;if(this._currentComposition){this._currentComposition=I;return}if(this._currentComposition=I,this._OS===2&&A&&A.equals(114)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===P.data&&(A.code==="ArrowRight"||A.code==="ArrowLeft")){g.al&&console.log("[compositionstart] Handling long press case on macOS + arrow key",P),I.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:P.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:P.data});return}this._onCompositionStart.fire({data:P.data})})),this._register(this._textArea.onCompositionUpdate(P=>{g.al&&console.log("[compositionupdate]",P);const I=this._currentComposition;if(!I)return;if(this._browser.isAndroid){const G=g.un.readFromTextArea(this._textArea,this._textAreaState),j=g.un.deduceAndroidCompositionInput(this._textAreaState,G);this._textAreaState=G,this._onType.fire(j),this._onCompositionUpdate.fire(P);return}const W=I.handleCompositionUpdate(P.data);this._textAreaState=g.un.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(W),this._onCompositionUpdate.fire(P)})),this._register(this._textArea.onCompositionEnd(P=>{g.al&&console.log("[compositionend]",P);const I=this._currentComposition;if(!I)return;if(this._currentComposition=null,this._browser.isAndroid){const G=g.un.readFromTextArea(this._textArea,this._textAreaState),j=g.un.deduceAndroidCompositionInput(this._textAreaState,G);this._textAreaState=G,this._onType.fire(j),this._onCompositionEnd.fire();return}const W=I.handleCompositionUpdate(P.data);this._textAreaState=g.un.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(W),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(P=>{if(g.al&&console.log("[input]",P),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const I=g.un.readFromTextArea(this._textArea,this._textAreaState),W=g.un.deduceInput(this._textAreaState,I,this._OS===2);W.replacePrevCharCnt===0&&W.text.length===1&&(m.ZG(W.text.charCodeAt(0))||W.text.charCodeAt(0)===127)||(this._textAreaState=I,(W.text!==""||W.replacePrevCharCnt!==0||W.replaceNextCharCnt!==0||W.positionDelta!==0)&&this._onType.fire(W))})),this._register(this._textArea.onCut(P=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(P),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(P=>{this._ensureClipboardGetsEditorSelection(P)})),this._register(this._textArea.onPaste(P=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),P.preventDefault(),!P.clipboardData)return;let[I,W]=C.getTextData(P.clipboardData);I&&(W=W||D.INSTANCE.get(I),this._onPaste.fire({text:I,metadata:W}))})),this._register(this._textArea.onFocus(()=>{const P=this._hasFocus;this._setHasFocus(!0),this._accessibilityService.isScreenReaderOptimized()&&this._browser.isSafari&&!P&&this._hasFocus&&(this._asyncFocusGainWriteScreenReaderContent.value||(this._asyncFocusGainWriteScreenReaderContent.value=new p.pY(()=>this.writeNativeTextAreaContent("asyncFocusGain"),0)),this._asyncFocusGainWriteScreenReaderContent.value.schedule())})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeNativeTextAreaContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeNativeTextAreaContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let b=0;return B.nm(this._textArea.ownerDocument,"selectionchange",k=>{if(S.B.onSelectionChange(),!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const V=Date.now(),K=V-b;if(b=V,K<5)return;const Z=V-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),Z<100||!this._textAreaState.selection)return;const z=this._textArea.getValue();if(this._textAreaState.value!==z)return;const A=this._textArea.getSelectionStart(),P=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===A&&this._textAreaState.selectionEnd===P)return;const I=this._textAreaState.deduceEditorPosition(A),W=this._host.deduceModelPosition(I[0],I[1],I[2]),G=this._textAreaState.deduceEditorPosition(P),j=this._host.deduceModelPosition(G[0],G[1],G[2]),Y=new a.Y(W.lineNumber,W.column,j.lineNumber,j.column);this._onSelectionChangeRequest.fire(Y)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(b){this._hasFocus!==b&&(this._hasFocus=b,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeNativeTextAreaContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(b,k){this._hasFocus||(k=k.collapseSelection()),k.writeToTextArea(b,this._textArea,this._hasFocus),this._textAreaState=k}writeNativeTextAreaContent(b){!this._accessibilityService.isScreenReaderOptimized()&&b==="render"||this._currentComposition||(this._logService.trace(`writeTextAreaState(reason: ${b})`),this._setAndWriteTextAreaState(b,this._host.getScreenReaderContent()))}_ensureClipboardGetsEditorSelection(b){const k=this._host.getDataToCopy(),V={version:1,isFromEmptySelection:k.isFromEmptySelection,multicursorText:k.multicursorText,mode:k.mode};D.INSTANCE.set(this._browser.isFirefox?k.text.replace(/\r\n/g,`
`):k.text,V),b.preventDefault(),b.clipboardData&&C.setTextData(b.clipboardData,k.text,k.html,V)}};y=n([c(4,r.F),c(5,i.VZ)],y);const C={getTextData(N){const b=N.getData(w.v.text);let k=null;const V=N.getData("vscode-editor-data");if(typeof V=="string")try{k=JSON.parse(V),k.version!==1&&(k=null)}catch(K){}return b.length===0&&k===null&&N.files.length>0?[Array.prototype.slice.call(N.files,0).map(Z=>Z.name).join(`
`),null]:[b,k]},setTextData(N,b,k,V){N.setData(w.v.text,b),typeof k=="string"&&N.setData("text/html",k),N.setData("vscode-editor-data",JSON.stringify(V))}};class _ extends R.JT{get ownerDocument(){return this._actual.ownerDocument}constructor(b){super(),this._actual=b,this.onKeyDown=this._register(new x.Y(this._actual,"keydown")).event,this.onKeyUp=this._register(new x.Y(this._actual,"keyup")).event,this.onCompositionStart=this._register(new x.Y(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(new x.Y(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(new x.Y(this._actual,"compositionend")).event,this.onBeforeInput=this._register(new x.Y(this._actual,"beforeinput")).event,this.onInput=this._register(new x.Y(this._actual,"input")).event,this.onCut=this._register(new x.Y(this._actual,"cut")).event,this.onCopy=this._register(new x.Y(this._actual,"copy")).event,this.onPaste=this._register(new x.Y(this._actual,"paste")).event,this.onFocus=this._register(new x.Y(this._actual,"focus")).event,this.onBlur=this._register(new x.Y(this._actual,"blur")).event,this._onSyntheticTap=this._register(new E.Q5),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(this.onKeyDown(()=>S.B.onKeyDown())),this._register(this.onBeforeInput(()=>S.B.onBeforeInput())),this._register(this.onInput(()=>S.B.onInput())),this._register(this.onKeyUp(()=>S.B.onKeyUp())),this._register(B.nm(this._actual,u.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const b=B.Ay(this._actual);return b?b.activeElement===this._actual:this._actual.isConnected?B.vY()===this._actual:!1}setIgnoreSelectionChangeTime(b){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(b,k){const V=this._actual;V.value!==k&&(this.setIgnoreSelectionChangeTime("setValue"),V.value=k)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(b,k,V){const K=this._actual;let Z=null;const z=B.Ay(K);z?Z=z.activeElement:Z=B.vY();const A=B.Jj(Z),P=Z===K,I=K.selectionStart,W=K.selectionEnd;if(P&&I===k&&W===V){o.vU&&A.parent!==A&&K.focus();return}if(P){this.setIgnoreSelectionChangeTime("setSelectionRange"),K.setSelectionRange(k,V),o.vU&&A.parent!==A&&K.focus();return}try{const G=B.vL(K);this.setIgnoreSelectionChangeTime("setSelectionRange"),K.focus(),K.setSelectionRange(k,V),B._0(K,G)}catch(G){}}}},14691:function(et,Le,e){"use strict";e.d(Le,{al:function(){return x},ee:function(){return S},un:function(){return O}});var o=e(30144),B=e(4694);const x=!1;class O{constructor(E,R,w,m,g){this.value=E,this.selectionStart=R,this.selectionEnd=w,this.selection=m,this.newlineCountBeforeSelection=g}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(E,R){const w=E.getValue(),m=E.getSelectionStart(),g=E.getSelectionEnd();let a;if(R){const r=w.substring(0,m),i=R.value.substring(0,R.selectionStart);r===i&&(a=R.newlineCountBeforeSelection)}return new O(w,m,g,null,a)}collapseSelection(){return this.selectionStart===this.value.length?this:new O(this.value,this.value.length,this.value.length,null,void 0)}writeToTextArea(E,R,w){x&&console.log(`writeToTextArea ${E}: ${this.toString()}`),R.setValue(E,this.value),w&&R.setSelectionRange(E,this.selectionStart,this.selectionEnd)}deduceEditorPosition(E){var R,w,m,g,a,r,i,n;if(E<=this.selectionStart){const l=this.value.substring(E,this.selectionStart);return this._finishDeduceEditorPosition((w=(R=this.selection)===null||R===void 0?void 0:R.getStartPosition())!==null&&w!==void 0?w:null,l,-1)}if(E>=this.selectionEnd){const l=this.value.substring(this.selectionEnd,E);return this._finishDeduceEditorPosition((g=(m=this.selection)===null||m===void 0?void 0:m.getEndPosition())!==null&&g!==void 0?g:null,l,1)}const c=this.value.substring(this.selectionStart,E);if(c.indexOf("\u2026")===-1)return this._finishDeduceEditorPosition((r=(a=this.selection)===null||a===void 0?void 0:a.getStartPosition())!==null&&r!==void 0?r:null,c,1);const u=this.value.substring(E,this.selectionEnd);return this._finishDeduceEditorPosition((n=(i=this.selection)===null||i===void 0?void 0:i.getEndPosition())!==null&&n!==void 0?n:null,u,-1)}_finishDeduceEditorPosition(E,R,w){let m=0,g=-1;for(;(g=R.indexOf(`
`,g+1))!==-1;)m++;return[E,w*R.length,m]}static deduceInput(E,R,w){if(!E)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};x&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${E.toString()}`),console.log(`CURRENT STATE: ${R.toString()}`));const m=Math.min(o.Mh(E.value,R.value),E.selectionStart,R.selectionStart),g=Math.min(o.P1(E.value,R.value),E.value.length-E.selectionEnd,R.value.length-R.selectionEnd),a=E.value.substring(m,E.value.length-g),r=R.value.substring(m,R.value.length-g),i=E.selectionStart-m,n=E.selectionEnd-m,c=R.selectionStart-m,u=R.selectionEnd-m;if(x&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${a}>, selectionStart: ${i}, selectionEnd: ${n}`),console.log(`AFTER DIFFING CURRENT STATE: <${r}>, selectionStart: ${c}, selectionEnd: ${u}`)),c===u){const D=E.selectionStart-m;return x&&console.log(`REMOVE PREVIOUS: ${D} chars`),{text:r,replacePrevCharCnt:D,replaceNextCharCnt:0,positionDelta:0}}const l=n-i;return{text:r,replacePrevCharCnt:l,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(E,R){if(!E)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(x&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${E.toString()}`),console.log(`CURRENT STATE: ${R.toString()}`)),E.value===R.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:R.selectionEnd-E.selectionEnd};const w=Math.min(o.Mh(E.value,R.value),E.selectionEnd),m=Math.min(o.P1(E.value,R.value),E.value.length-E.selectionEnd),g=E.value.substring(w,E.value.length-m),a=R.value.substring(w,R.value.length-m),r=E.selectionStart-w,i=E.selectionEnd-w,n=R.selectionStart-w,c=R.selectionEnd-w;return x&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${g}>, selectionStart: ${r}, selectionEnd: ${i}`),console.log(`AFTER DIFFING CURRENT STATE: <${a}>, selectionStart: ${n}, selectionEnd: ${c}`)),{text:a,replacePrevCharCnt:i,replaceNextCharCnt:g.length-i,positionDelta:c-a.length}}}O.EMPTY=new O("",0,0,null,void 0);class S{static _getPageOfLine(E,R){return Math.floor((E-1)/R)}static _getRangeForPage(E,R){const w=E*R,m=w+1,g=w+R;return new B.e(m,1,g+1,1)}static fromEditorSelection(E,R,w,m){const a=S._getPageOfLine(R.startLineNumber,w),r=S._getRangeForPage(a,w),i=S._getPageOfLine(R.endLineNumber,w),n=S._getRangeForPage(i,w);let c=r.intersectRanges(new B.e(1,1,R.startLineNumber,R.startColumn));if(m&&E.getValueLengthInRange(c,1)>500){const _=E.modifyPosition(c.getEndPosition(),-500);c=B.e.fromPositions(_,c.getEndPosition())}const u=E.getValueInRange(c,1),l=E.getLineCount(),D=E.getLineMaxColumn(l);let f=n.intersectRanges(new B.e(R.endLineNumber,R.endColumn,l,D));if(m&&E.getValueLengthInRange(f,1)>500){const _=E.modifyPosition(f.getStartPosition(),500);f=B.e.fromPositions(f.getStartPosition(),_)}const y=E.getValueInRange(f,1);let C;if(a===i||a+1===i)C=E.getValueInRange(R,1);else{const _=r.intersectRanges(R),N=n.intersectRanges(R);C=E.getValueInRange(_,1)+"\u2026"+E.getValueInRange(N,1)}return m&&C.length>2*500&&(C=C.substring(0,500)+"\u2026"+C.substring(C.length-500,C.length)),new O(u+C+y,u.length,u.length+C.length,R,c.endLineNumber-c.startLineNumber)}}},2048:function(et,Le,e){"use strict";e.d(Le,{wk:function(){return V},Ox:function(){return _}});var o=e(61652),B=e(18119),x=e(26974),O=e(91333),S=e(92635),p=e(89226),E=e(57247),R=e(93895),w=e(4694);class m{static columnSelect(A,P,I,W,G,j){const Y=Math.abs(G-I)+1,H=I>G,Q=W>j,ie=W<j,te=[];for(let se=0;se<Y;se++){const ne=I+(H?-se:se),ee=A.columnFromVisibleColumn(P,ne,W),re=A.columnFromVisibleColumn(P,ne,j),he=A.visibleColumnFromColumn(P,new R.L(ne,ee)),M=A.visibleColumnFromColumn(P,new R.L(ne,re));ie&&(he>j||M<W)||Q&&(M>W||he<j)||te.push(new E.rS(new w.e(ne,ee,ne,ee),0,0,new R.L(ne,re),0))}if(te.length===0)for(let se=0;se<Y;se++){const ne=I+(H?-se:se),ee=P.getLineMaxColumn(ne);te.push(new E.rS(new w.e(ne,ee,ne,ee),0,0,new R.L(ne,ee),0))}return{viewStates:te,reversed:H,fromLineNumber:I,fromVisualColumn:W,toLineNumber:G,toVisualColumn:j}}static columnSelectLeft(A,P,I){let W=I.toViewVisualColumn;return W>0&&W--,m.columnSelect(A,P,I.fromViewLineNumber,I.fromViewVisualColumn,I.toViewLineNumber,W)}static columnSelectRight(A,P,I){let W=0;const G=Math.min(I.fromViewLineNumber,I.toViewLineNumber),j=Math.max(I.fromViewLineNumber,I.toViewLineNumber);for(let H=G;H<=j;H++){const Q=P.getLineMaxColumn(H),ie=A.visibleColumnFromColumn(P,new R.L(H,Q));W=Math.max(W,ie)}let Y=I.toViewVisualColumn;return Y<W&&Y++,this.columnSelect(A,P,I.fromViewLineNumber,I.fromViewVisualColumn,I.toViewLineNumber,Y)}static columnSelectUp(A,P,I,W){const G=W?A.pageSize:1,j=Math.max(1,I.toViewLineNumber-G);return this.columnSelect(A,P,I.fromViewLineNumber,I.fromViewVisualColumn,j,I.toViewVisualColumn)}static columnSelectDown(A,P,I,W){const G=W?A.pageSize:1,j=Math.min(P.getLineCount(),I.toViewLineNumber+G);return this.columnSelect(A,P,I.fromViewLineNumber,I.fromViewVisualColumn,j,I.toViewVisualColumn)}}var g=e(51452),a=e(47844),r=e(40326),i=e(22706),n=e(80568),c=e(803),u=e(91540);const l=0;class D extends S._l{runEditorCommand(A,P,I){const W=P._getViewModel();W&&this.runCoreEditorCommand(W,I||{})}}var f;(function(z){const A=function(I){if(!x.Kn(I))return!1;const W=I;return!(!x.HD(W.to)||!x.o8(W.by)&&!x.HD(W.by)||!x.o8(W.value)&&!x.hj(W.value)||!x.o8(W.revealCursor)&&!x.jn(W.revealCursor))};z.metadata={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:A,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},z.RawDirection={Up:"up",Right:"right",Down:"down",Left:"left"},z.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor",Column:"column"};function P(I){let W;switch(I.to){case z.RawDirection.Up:W=1;break;case z.RawDirection.Right:W=2;break;case z.RawDirection.Down:W=3;break;case z.RawDirection.Left:W=4;break;default:return null}let G;switch(I.by){case z.RawUnit.Line:G=1;break;case z.RawUnit.WrappedLine:G=2;break;case z.RawUnit.Page:G=3;break;case z.RawUnit.HalfPage:G=4;break;case z.RawUnit.Editor:G=5;break;case z.RawUnit.Column:G=6;break;default:G=2}const j=Math.floor(I.value||1),Y=!!I.revealCursor;return{direction:W,unit:G,value:j,revealCursor:Y,select:!!I.select}}z.parse=P})(f||(f={}));var y;(function(z){const A=function(P){if(!x.Kn(P))return!1;const I=P;return!(!x.hj(I.lineNumber)&&!x.HD(I.lineNumber)||!x.o8(I.at)&&!x.HD(I.at))};z.metadata={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:A,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},z.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(y||(y={}));class C{constructor(A){A.addImplementation(1e4,"code-editor",(P,I)=>{const W=P.get(p.$).getFocusedCodeEditor();return W&&W.hasTextFocus()?this._runEditorCommand(P,W,I):!1}),A.addImplementation(1e3,"generic-dom-input-textarea",(P,I)=>{const W=(0,u.vY)();return W&&["input","textarea"].indexOf(W.tagName.toLowerCase())>=0?(this.runDOMCommand(W),!0):!1}),A.addImplementation(0,"generic-dom",(P,I)=>{const W=P.get(p.$).getActiveCodeEditor();return W?(W.focus(),this._runEditorCommand(P,W,I)):!1})}_runEditorCommand(A,P,I){const W=this.runEditorCommand(A,P,I);return W||!0}}var _;(function(z){class A extends D{constructor(we){super(we),this._inSelectionMode=we.inSelectionMode}runCoreEditorCommand(we,We){if(!We.position)return;we.model.pushStackElement(),we.setCursorStates(We.source,3,[a.P.moveTo(we,we.getPrimaryCursorState(),this._inSelectionMode,We.position,We.viewPosition)])&&We.revealType!==2&&we.revealAllCursors(We.source,!0,!0)}}z.MoveTo=(0,S.fK)(new A({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),z.MoveToSelect=(0,S.fK)(new A({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class P extends D{runCoreEditorCommand(we,We){we.model.pushStackElement();const ye=this._getColumnSelectResult(we,we.getPrimaryCursorState(),we.getCursorColumnSelectData(),We);ye!==null&&(we.setCursorStates(We.source,3,ye.viewStates.map(X=>E.Vi.fromViewState(X))),we.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:ye.fromLineNumber,fromViewVisualColumn:ye.fromVisualColumn,toViewLineNumber:ye.toLineNumber,toViewVisualColumn:ye.toVisualColumn}),ye.reversed?we.revealTopMostCursor(We.source):we.revealBottomMostCursor(We.source))}}z.ColumnSelect=(0,S.fK)(new class extends P{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(M,we,We,ye){if(typeof ye.position=="undefined"||typeof ye.viewPosition=="undefined"||typeof ye.mouseColumn=="undefined")return null;const X=M.model.validatePosition(ye.position),ve=M.coordinatesConverter.validateViewPosition(new R.L(ye.viewPosition.lineNumber,ye.viewPosition.column),X),Ee=ye.doColumnSelect?We.fromViewLineNumber:ve.lineNumber,Oe=ye.doColumnSelect?We.fromViewVisualColumn:ye.mouseColumn-1;return m.columnSelect(M.cursorConfig,M,Ee,Oe,ve.lineNumber,ye.mouseColumn-1)}}),z.CursorColumnSelectLeft=(0,S.fK)(new class extends P{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:l,kbExpr:i.u.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(M,we,We,ye){return m.columnSelectLeft(M.cursorConfig,M,We)}}),z.CursorColumnSelectRight=(0,S.fK)(new class extends P{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:l,kbExpr:i.u.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(M,we,We,ye){return m.columnSelectRight(M.cursorConfig,M,We)}});class I extends P{constructor(we){super(we),this._isPaged=we.isPaged}_getColumnSelectResult(we,We,ye,X){return m.columnSelectUp(we.cursorConfig,we,ye,this._isPaged)}}z.CursorColumnSelectUp=(0,S.fK)(new I({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:l,kbExpr:i.u.textInputFocus,primary:3600,linux:{primary:0}}})),z.CursorColumnSelectPageUp=(0,S.fK)(new I({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:l,kbExpr:i.u.textInputFocus,primary:3595,linux:{primary:0}}}));class W extends P{constructor(we){super(we),this._isPaged=we.isPaged}_getColumnSelectResult(we,We,ye,X){return m.columnSelectDown(we.cursorConfig,we,ye,this._isPaged)}}z.CursorColumnSelectDown=(0,S.fK)(new W({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:l,kbExpr:i.u.textInputFocus,primary:3602,linux:{primary:0}}})),z.CursorColumnSelectPageDown=(0,S.fK)(new W({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:l,kbExpr:i.u.textInputFocus,primary:3596,linux:{primary:0}}}));class G extends D{constructor(){super({id:"cursorMove",precondition:void 0,metadata:a.N.metadata})}runCoreEditorCommand(we,We){const ye=a.N.parse(We);ye&&this._runCursorMove(we,We.source,ye)}_runCursorMove(we,We,ye){we.model.pushStackElement(),we.setCursorStates(We,3,G._move(we,we.getCursorStates(),ye)),we.revealAllCursors(We,!0)}static _move(we,We,ye){const X=ye.select,ve=ye.value;switch(ye.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return a.P.simpleMove(we,We,ye.direction,X,ve,ye.unit);case 11:case 13:case 12:case 14:return a.P.viewportMove(we,We,ye.direction,X,ve);default:return null}}}z.CursorMoveImpl=G,z.CursorMove=(0,S.fK)(new G);class j extends D{constructor(we){super(we),this._staticArgs=we.args}runCoreEditorCommand(we,We){let ye=this._staticArgs;this._staticArgs.value===-1&&(ye={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:We.pageSize||we.cursorConfig.pageSize}),we.model.pushStackElement(),we.setCursorStates(We.source,3,a.P.simpleMove(we,we.getCursorStates(),ye.direction,ye.select,ye.value,ye.unit)),we.revealAllCursors(We.source,!0)}}z.CursorLeft=(0,S.fK)(new j({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:l,kbExpr:i.u.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),z.CursorLeftSelect=(0,S.fK)(new j({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:i.u.textInputFocus,primary:1039}})),z.CursorRight=(0,S.fK)(new j({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:l,kbExpr:i.u.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),z.CursorRightSelect=(0,S.fK)(new j({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:i.u.textInputFocus,primary:1041}})),z.CursorUp=(0,S.fK)(new j({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:l,kbExpr:i.u.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),z.CursorUpSelect=(0,S.fK)(new j({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:i.u.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),z.CursorPageUp=(0,S.fK)(new j({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:l,kbExpr:i.u.textInputFocus,primary:11}})),z.CursorPageUpSelect=(0,S.fK)(new j({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:i.u.textInputFocus,primary:1035}})),z.CursorDown=(0,S.fK)(new j({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:l,kbExpr:i.u.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),z.CursorDownSelect=(0,S.fK)(new j({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:i.u.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),z.CursorPageDown=(0,S.fK)(new j({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:l,kbExpr:i.u.textInputFocus,primary:12}})),z.CursorPageDownSelect=(0,S.fK)(new j({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:i.u.textInputFocus,primary:1036}})),z.CreateCursor=(0,S.fK)(new class extends D{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(M,we){if(!we.position)return;let We;we.wholeLine?We=a.P.line(M,M.getPrimaryCursorState(),!1,we.position,we.viewPosition):We=a.P.moveTo(M,M.getPrimaryCursorState(),!1,we.position,we.viewPosition);const ye=M.getCursorStates();if(ye.length>1){const X=We.modelState?We.modelState.position:null,ve=We.viewState?We.viewState.position:null;for(let Ee=0,Oe=ye.length;Ee<Oe;Ee++){const Ke=ye[Ee];if(!(X&&!Ke.modelState.selection.containsPosition(X))&&!(ve&&!Ke.viewState.selection.containsPosition(ve))){ye.splice(Ee,1),M.model.pushStackElement(),M.setCursorStates(we.source,3,ye);return}}}ye.push(We),M.model.pushStackElement(),M.setCursorStates(we.source,3,ye)}}),z.LastCursorMoveToSelect=(0,S.fK)(new class extends D{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(M,we){if(!we.position)return;const We=M.getLastAddedCursorIndex(),ye=M.getCursorStates(),X=ye.slice(0);X[We]=a.P.moveTo(M,ye[We],!0,we.position,we.viewPosition),M.model.pushStackElement(),M.setCursorStates(we.source,3,X)}});class Y extends D{constructor(we){super(we),this._inSelectionMode=we.inSelectionMode}runCoreEditorCommand(we,We){we.model.pushStackElement(),we.setCursorStates(We.source,3,a.P.moveToBeginningOfLine(we,we.getCursorStates(),this._inSelectionMode)),we.revealAllCursors(We.source,!0)}}z.CursorHome=(0,S.fK)(new Y({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:l,kbExpr:i.u.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),z.CursorHomeSelect=(0,S.fK)(new Y({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:i.u.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class H extends D{constructor(we){super(we),this._inSelectionMode=we.inSelectionMode}runCoreEditorCommand(we,We){we.model.pushStackElement(),we.setCursorStates(We.source,3,this._exec(we.getCursorStates())),we.revealAllCursors(We.source,!0)}_exec(we){const We=[];for(let ye=0,X=we.length;ye<X;ye++){const ve=we[ye],Ee=ve.modelState.position.lineNumber;We[ye]=E.Vi.fromModelState(ve.modelState.move(this._inSelectionMode,Ee,1,0))}return We}}z.CursorLineStart=(0,S.fK)(new H({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:l,kbExpr:i.u.textInputFocus,primary:0,mac:{primary:287}}})),z.CursorLineStartSelect=(0,S.fK)(new H({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:i.u.textInputFocus,primary:0,mac:{primary:1311}}}));class Q extends D{constructor(we){super(we),this._inSelectionMode=we.inSelectionMode}runCoreEditorCommand(we,We){we.model.pushStackElement(),we.setCursorStates(We.source,3,a.P.moveToEndOfLine(we,we.getCursorStates(),this._inSelectionMode,We.sticky||!1)),we.revealAllCursors(We.source,!0)}}z.CursorEnd=(0,S.fK)(new Q({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:l,kbExpr:i.u.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},metadata:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:o.NC("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),z.CursorEndSelect=(0,S.fK)(new Q({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:l,kbExpr:i.u.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},metadata:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:o.NC("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class ie extends D{constructor(we){super(we),this._inSelectionMode=we.inSelectionMode}runCoreEditorCommand(we,We){we.model.pushStackElement(),we.setCursorStates(We.source,3,this._exec(we,we.getCursorStates())),we.revealAllCursors(We.source,!0)}_exec(we,We){const ye=[];for(let X=0,ve=We.length;X<ve;X++){const Ee=We[X],Oe=Ee.modelState.position.lineNumber,Ke=we.model.getLineMaxColumn(Oe);ye[X]=E.Vi.fromModelState(Ee.modelState.move(this._inSelectionMode,Oe,Ke,0))}return ye}}z.CursorLineEnd=(0,S.fK)(new ie({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:l,kbExpr:i.u.textInputFocus,primary:0,mac:{primary:291}}})),z.CursorLineEndSelect=(0,S.fK)(new ie({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:i.u.textInputFocus,primary:0,mac:{primary:1315}}}));class te extends D{constructor(we){super(we),this._inSelectionMode=we.inSelectionMode}runCoreEditorCommand(we,We){we.model.pushStackElement(),we.setCursorStates(We.source,3,a.P.moveToBeginningOfBuffer(we,we.getCursorStates(),this._inSelectionMode)),we.revealAllCursors(We.source,!0)}}z.CursorTop=(0,S.fK)(new te({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:l,kbExpr:i.u.textInputFocus,primary:2062,mac:{primary:2064}}})),z.CursorTopSelect=(0,S.fK)(new te({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:i.u.textInputFocus,primary:3086,mac:{primary:3088}}}));class se extends D{constructor(we){super(we),this._inSelectionMode=we.inSelectionMode}runCoreEditorCommand(we,We){we.model.pushStackElement(),we.setCursorStates(We.source,3,a.P.moveToEndOfBuffer(we,we.getCursorStates(),this._inSelectionMode)),we.revealAllCursors(We.source,!0)}}z.CursorBottom=(0,S.fK)(new se({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:l,kbExpr:i.u.textInputFocus,primary:2061,mac:{primary:2066}}})),z.CursorBottomSelect=(0,S.fK)(new se({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:l,kbExpr:i.u.textInputFocus,primary:3085,mac:{primary:3090}}}));class ne extends D{constructor(){super({id:"editorScroll",precondition:void 0,metadata:f.metadata})}determineScrollMethod(we){const We=[6],ye=[1,2,3,4,5,6],X=[4,2],ve=[1,3];return We.includes(we.unit)&&X.includes(we.direction)?this._runHorizontalEditorScroll.bind(this):ye.includes(we.unit)&&ve.includes(we.direction)?this._runVerticalEditorScroll.bind(this):null}runCoreEditorCommand(we,We){const ye=f.parse(We);if(!ye)return;const X=this.determineScrollMethod(ye);X&&X(we,We.source,ye)}_runVerticalEditorScroll(we,We,ye){const X=this._computeDesiredScrollTop(we,ye);if(ye.revealCursor){const ve=we.getCompletelyVisibleViewRangeAtScrollTop(X);we.setCursorStates(We,3,[a.P.findPositionInViewportIfOutside(we,we.getPrimaryCursorState(),ve,ye.select)])}we.viewLayout.setScrollPosition({scrollTop:X},0)}_computeDesiredScrollTop(we,We){if(We.unit===1){const ve=we.viewLayout.getFutureViewport(),Ee=we.getCompletelyVisibleViewRangeAtScrollTop(ve.top),Oe=we.coordinatesConverter.convertViewRangeToModelRange(Ee);let Ke;We.direction===1?Ke=Math.max(1,Oe.startLineNumber-We.value):Ke=Math.min(we.model.getLineCount(),Oe.startLineNumber+We.value);const Qe=we.coordinatesConverter.convertModelPositionToViewPosition(new R.L(Ke,1));return we.viewLayout.getVerticalOffsetForLineNumber(Qe.lineNumber)}if(We.unit===5){let ve=0;return We.direction===3&&(ve=we.model.getLineCount()-we.cursorConfig.pageSize),we.viewLayout.getVerticalOffsetForLineNumber(ve)}let ye;We.unit===3?ye=we.cursorConfig.pageSize*We.value:We.unit===4?ye=Math.round(we.cursorConfig.pageSize/2)*We.value:ye=We.value;const X=(We.direction===1?-1:1)*ye;return we.viewLayout.getCurrentScrollTop()+X*we.cursorConfig.lineHeight}_runHorizontalEditorScroll(we,We,ye){const X=this._computeDesiredScrollLeft(we,ye);we.viewLayout.setScrollPosition({scrollLeft:X},0)}_computeDesiredScrollLeft(we,We){const ye=(We.direction===4?-1:1)*We.value;return we.viewLayout.getCurrentScrollLeft()+ye*we.cursorConfig.typicalHalfwidthCharacterWidth}}z.EditorScrollImpl=ne,z.EditorScroll=(0,S.fK)(new ne),z.ScrollLineUp=(0,S.fK)(new class extends D{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:l,kbExpr:i.u.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(M,we){z.EditorScroll.runCoreEditorCommand(M,{to:f.RawDirection.Up,by:f.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:we.source})}}),z.ScrollPageUp=(0,S.fK)(new class extends D{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:l,kbExpr:i.u.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(M,we){z.EditorScroll.runCoreEditorCommand(M,{to:f.RawDirection.Up,by:f.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:we.source})}}),z.ScrollEditorTop=(0,S.fK)(new class extends D{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:l,kbExpr:i.u.textInputFocus}})}runCoreEditorCommand(M,we){z.EditorScroll.runCoreEditorCommand(M,{to:f.RawDirection.Up,by:f.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:we.source})}}),z.ScrollLineDown=(0,S.fK)(new class extends D{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:l,kbExpr:i.u.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(M,we){z.EditorScroll.runCoreEditorCommand(M,{to:f.RawDirection.Down,by:f.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:we.source})}}),z.ScrollPageDown=(0,S.fK)(new class extends D{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:l,kbExpr:i.u.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(M,we){z.EditorScroll.runCoreEditorCommand(M,{to:f.RawDirection.Down,by:f.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:we.source})}}),z.ScrollEditorBottom=(0,S.fK)(new class extends D{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:l,kbExpr:i.u.textInputFocus}})}runCoreEditorCommand(M,we){z.EditorScroll.runCoreEditorCommand(M,{to:f.RawDirection.Down,by:f.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:we.source})}}),z.ScrollLeft=(0,S.fK)(new class extends D{constructor(){super({id:"scrollLeft",precondition:void 0,kbOpts:{weight:l,kbExpr:i.u.textInputFocus}})}runCoreEditorCommand(M,we){z.EditorScroll.runCoreEditorCommand(M,{to:f.RawDirection.Left,by:f.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:we.source})}}),z.ScrollRight=(0,S.fK)(new class extends D{constructor(){super({id:"scrollRight",precondition:void 0,kbOpts:{weight:l,kbExpr:i.u.textInputFocus}})}runCoreEditorCommand(M,we){z.EditorScroll.runCoreEditorCommand(M,{to:f.RawDirection.Right,by:f.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:we.source})}});class ee extends D{constructor(we){super(we),this._inSelectionMode=we.inSelectionMode}runCoreEditorCommand(we,We){We.position&&(we.model.pushStackElement(),we.setCursorStates(We.source,3,[a.P.word(we,we.getPrimaryCursorState(),this._inSelectionMode,We.position)]),We.revealType!==2&&we.revealAllCursors(We.source,!0,!0))}}z.WordSelect=(0,S.fK)(new ee({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),z.WordSelectDrag=(0,S.fK)(new ee({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),z.LastCursorWordSelect=(0,S.fK)(new class extends D{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(M,we){if(!we.position)return;const We=M.getLastAddedCursorIndex(),ye=M.getCursorStates(),X=ye.slice(0),ve=ye[We];X[We]=a.P.word(M,ve,ve.modelState.hasSelection(),we.position),M.model.pushStackElement(),M.setCursorStates(we.source,3,X)}});class re extends D{constructor(we){super(we),this._inSelectionMode=we.inSelectionMode}runCoreEditorCommand(we,We){We.position&&(we.model.pushStackElement(),we.setCursorStates(We.source,3,[a.P.line(we,we.getPrimaryCursorState(),this._inSelectionMode,We.position,We.viewPosition)]),We.revealType!==2&&we.revealAllCursors(We.source,!1,!0))}}z.LineSelect=(0,S.fK)(new re({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),z.LineSelectDrag=(0,S.fK)(new re({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class he extends D{constructor(we){super(we),this._inSelectionMode=we.inSelectionMode}runCoreEditorCommand(we,We){if(!We.position)return;const ye=we.getLastAddedCursorIndex(),X=we.getCursorStates(),ve=X.slice(0);ve[ye]=a.P.line(we,X[ye],this._inSelectionMode,We.position,We.viewPosition),we.model.pushStackElement(),we.setCursorStates(We.source,3,ve)}}z.LastCursorLineSelect=(0,S.fK)(new he({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),z.LastCursorLineSelectDrag=(0,S.fK)(new he({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),z.CancelSelection=(0,S.fK)(new class extends D{constructor(){super({id:"cancelSelection",precondition:i.u.hasNonEmptySelection,kbOpts:{weight:l,kbExpr:i.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(M,we){M.model.pushStackElement(),M.setCursorStates(we.source,3,[a.P.cancelSelection(M,M.getPrimaryCursorState())]),M.revealAllCursors(we.source,!0)}}),z.RemoveSecondaryCursors=(0,S.fK)(new class extends D{constructor(){super({id:"removeSecondaryCursors",precondition:i.u.hasMultipleSelections,kbOpts:{weight:l+1,kbExpr:i.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(M,we){M.model.pushStackElement(),M.setCursorStates(we.source,3,[M.getPrimaryCursorState()]),M.revealAllCursors(we.source,!0),(0,O.i7)(o.NC("removedCursor","Removed secondary cursors"))}}),z.RevealLine=(0,S.fK)(new class extends D{constructor(){super({id:"revealLine",precondition:void 0,metadata:y.metadata})}runCoreEditorCommand(M,we){const We=we,ye=We.lineNumber||0;let X=typeof ye=="number"?ye+1:parseInt(ye)+1;X<1&&(X=1);const ve=M.model.getLineCount();X>ve&&(X=ve);const Ee=new w.e(X,1,X,M.model.getLineMaxColumn(X));let Oe=0;if(We.at)switch(We.at){case y.RawAtArgument.Top:Oe=3;break;case y.RawAtArgument.Center:Oe=1;break;case y.RawAtArgument.Bottom:Oe=4;break;default:break}const Ke=M.coordinatesConverter.convertModelRangeToViewRange(Ee);M.revealRange(we.source,!1,Ke,Oe,0)}}),z.SelectAll=new class extends C{constructor(){super(S.Sq)}runDOMCommand(M){B.vU&&(M.focus(),M.select()),M.ownerDocument.execCommand("selectAll")}runEditorCommand(M,we,We){const ye=we._getViewModel();ye&&this.runCoreEditorCommand(ye,We)}runCoreEditorCommand(M,we){M.model.pushStackElement(),M.setCursorStates("keyboard",3,[a.P.selectAll(M,M.getPrimaryCursorState())])}},z.SetSelection=(0,S.fK)(new class extends D{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(M,we){we.selection&&(M.model.pushStackElement(),M.setCursorStates(we.source,3,[E.Vi.fromModelSelection(we.selection)]))}})})(_||(_={}));const N=n.Ao.and(i.u.textInputFocus,i.u.columnSelection);function b(z,A){c.W.registerKeybindingRule({id:z,primary:A,when:N,weight:l+1})}b(_.CursorColumnSelectLeft.id,1039),b(_.CursorColumnSelectRight.id,1041),b(_.CursorColumnSelectUp.id,1040),b(_.CursorColumnSelectPageUp.id,1035),b(_.CursorColumnSelectDown.id,1042),b(_.CursorColumnSelectPageDown.id,1036);function k(z){return z.register(),z}var V;(function(z){class A extends S._l{runEditorCommand(I,W,G){const j=W._getViewModel();j&&this.runCoreEditingCommand(W,j,G||{})}}z.CoreEditingCommand=A,z.LineBreakInsert=(0,S.fK)(new class extends A{constructor(){super({id:"lineBreakInsert",precondition:i.u.writable,kbOpts:{weight:l,kbExpr:i.u.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(P,I,W){P.pushUndoStop(),P.executeCommands(this.id,r.u6.lineBreakInsert(I.cursorConfig,I.model,I.getCursorStates().map(G=>G.modelState.selection)))}}),z.Outdent=(0,S.fK)(new class extends A{constructor(){super({id:"outdent",precondition:i.u.writable,kbOpts:{weight:l,kbExpr:n.Ao.and(i.u.editorTextFocus,i.u.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(P,I,W){P.pushUndoStop(),P.executeCommands(this.id,r.u6.outdent(I.cursorConfig,I.model,I.getCursorStates().map(G=>G.modelState.selection))),P.pushUndoStop()}}),z.Tab=(0,S.fK)(new class extends A{constructor(){super({id:"tab",precondition:i.u.writable,kbOpts:{weight:l,kbExpr:n.Ao.and(i.u.editorTextFocus,i.u.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(P,I,W){P.pushUndoStop(),P.executeCommands(this.id,r.u6.tab(I.cursorConfig,I.model,I.getCursorStates().map(G=>G.modelState.selection))),P.pushUndoStop()}}),z.DeleteLeft=(0,S.fK)(new class extends A{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:l,kbExpr:i.u.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(P,I,W){const[G,j]=g.A.deleteLeft(I.getPrevEditOperationType(),I.cursorConfig,I.model,I.getCursorStates().map(Y=>Y.modelState.selection),I.getCursorAutoClosedCharacters());G&&P.pushUndoStop(),P.executeCommands(this.id,j),I.setPrevEditOperationType(2)}}),z.DeleteRight=(0,S.fK)(new class extends A{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:l,kbExpr:i.u.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(P,I,W){const[G,j]=g.A.deleteRight(I.getPrevEditOperationType(),I.cursorConfig,I.model,I.getCursorStates().map(Y=>Y.modelState.selection));G&&P.pushUndoStop(),P.executeCommands(this.id,j),I.setPrevEditOperationType(3)}}),z.Undo=new class extends C{constructor(){super(S.n_)}runDOMCommand(P){P.ownerDocument.execCommand("undo")}runEditorCommand(P,I,W){if(!(!I.hasModel()||I.getOption(91)===!0))return I.getModel().undo()}},z.Redo=new class extends C{constructor(){super(S.kz)}runDOMCommand(P){P.ownerDocument.execCommand("redo")}runEditorCommand(P,I,W){if(!(!I.hasModel()||I.getOption(91)===!0))return I.getModel().redo()}}})(V||(V={}));class K extends S.mY{constructor(A,P,I){super({id:A,precondition:void 0,metadata:I}),this._handlerId=P}runCommand(A,P){const I=A.get(p.$).getFocusedCodeEditor();I&&I.trigger("keyboard",this._handlerId,P)}}function Z(z,A){k(new K("default:"+z,z)),k(new K(z,z,A))}Z("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),Z("replacePreviousChar"),Z("compositionType"),Z("compositionStart"),Z("compositionEnd"),Z("paste"),Z("cut")},83133:function(et,Le,e){"use strict";e.d(Le,{B:function(){return p},L:function(){return w}});var o=e(92613),B=e(96182),x=e(56742),O=e(10058),S=e(63805);function p(m){const g=new B.Hl;for(const a of m.items){const r=a.type;if(a.kind==="string"){const i=new Promise(n=>a.getAsString(n));g.append(r,(0,B.ZO)(i))}else if(a.kind==="file"){const i=a.getAsFile();i&&g.append(r,E(i))}}return g}function E(m){const g=m.path?O.o.parse(m.path):void 0;return(0,B.Ix)(m.name,g,()=>Ft(this,null,function*(){return new Uint8Array(yield m.arrayBuffer())}))}const R=Object.freeze([S.Km.EDITORS,S.Km.FILES,o.g.RESOURCES,o.g.INTERNAL_URI_LIST]);function w(m,g=!1){const a=p(m),r=a.get(o.g.INTERNAL_URI_LIST);if(r)a.replace(x.v.uriList,r);else if(g||!a.has(x.v.uriList)){const i=[];for(const n of m.items){const c=n.getAsFile();if(c){const u=c.path;try{u?i.push(O.o.file(u).toString()):i.push(O.o.parse(c.name,!0).toString())}catch(l){}}}i.length&&a.replace(x.v.uriList,(0,B.ZO)(B.Z0.create(i)))}for(const i of R)a.delete(i);return a}},70339:function(et,Le,e){"use strict";e.d(Le,{CL:function(){return B},Pi:function(){return S},QI:function(){return x}});var o=e(51525);function B(p){return p&&typeof p.getEditorType=="function"?p.getEditorType()===o.g.ICodeEditor:!1}function x(p){return p&&typeof p.getEditorType=="function"?p.getEditorType()===o.g.IDiffEditor:!1}function O(p){return!!p&&typeof p=="object"&&typeof p.onDidChangeActiveEditor=="function"}function S(p){return B(p)?p:x(p)?p.getModifiedEditor():O(p)&&B(p.activeCodeEditor)?p.activeCodeEditor:null}},41528:function(et,Le,e){"use strict";e.d(Le,{AL:function(){return c},N5:function(){return i},Pp:function(){return a},YN:function(){return E},gy:function(){return r},kG:function(){return g},rU:function(){return R},t7:function(){return u},tC:function(){return n}});var o=e(91540),B=e(43446),x=e(65512),O=e(74696),S=e(45029),p=e(97341);class E{constructor(y,C){this.x=y,this.y=C,this._pageCoordinatesBrand=void 0}toClientCoordinates(y){return new R(this.x-y.scrollX,this.y-y.scrollY)}}class R{constructor(y,C){this.clientX=y,this.clientY=C,this._clientCoordinatesBrand=void 0}toPageCoordinates(y){return new E(this.clientX+y.scrollX,this.clientY+y.scrollY)}}class w{constructor(y,C,_,N){this.x=y,this.y=C,this.width=_,this.height=N,this._editorPagePositionBrand=void 0}}class m{constructor(y,C){this.x=y,this.y=C,this._positionRelativeToEditorBrand=void 0}}function g(f){const y=o.i(f);return new w(y.left,y.top,y.width,y.height)}function a(f,y,C){const _=y.width/f.offsetWidth,N=y.height/f.offsetHeight,b=(C.x-y.x)/_,k=(C.y-y.y)/N;return new m(b,k)}class r extends x.n{constructor(y,C,_){super(o.Jj(_),y),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=C,this.pos=new E(this.posx,this.posy),this.editorPos=g(_),this.relativePos=a(_,this.editorPos,this.pos)}}class i{constructor(y){this._editorViewDomNode=y}_create(y){return new r(y,!1,this._editorViewDomNode)}onContextMenu(y,C){return o.nm(y,"contextmenu",_=>{C(this._create(_))})}onMouseUp(y,C){return o.nm(y,"mouseup",_=>{C(this._create(_))})}onMouseDown(y,C){return o.nm(y,o.tw.MOUSE_DOWN,_=>{C(this._create(_))})}onPointerDown(y,C){return o.nm(y,o.tw.POINTER_DOWN,_=>{C(this._create(_),_.pointerId)})}onMouseLeave(y,C){return o.nm(y,o.tw.MOUSE_LEAVE,_=>{C(this._create(_))})}onMouseMove(y,C){return o.nm(y,"mousemove",_=>C(this._create(_)))}}class n{constructor(y){this._editorViewDomNode=y}_create(y){return new r(y,!1,this._editorViewDomNode)}onPointerUp(y,C){return o.nm(y,"pointerup",_=>{C(this._create(_))})}onPointerDown(y,C){return o.nm(y,o.tw.POINTER_DOWN,_=>{C(this._create(_),_.pointerId)})}onPointerLeave(y,C){return o.nm(y,o.tw.POINTER_LEAVE,_=>{C(this._create(_))})}onPointerMove(y,C){return o.nm(y,"pointermove",_=>C(this._create(_)))}}class c extends S.JT{constructor(y){super(),this._editorViewDomNode=y,this._globalPointerMoveMonitor=this._register(new B.C),this._keydownListener=null}startMonitoring(y,C,_,N,b){this._keydownListener=o.mu(y.ownerDocument,"keydown",k=>{k.toKeyCodeChord().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,k.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(y,C,_,k=>{N(new r(k,!0,this._editorViewDomNode))},k=>{this._keydownListener.dispose(),b(k)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}class u{constructor(y){this._editor=y,this._instanceId=++u._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new O.pY(()=>this.garbageCollect(),1e3)}createClassNameRef(y){const C=this.getOrCreateRule(y);return C.increaseRefCount(),{className:C.className,dispose:()=>{C.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(y){const C=this.computeUniqueKey(y);let _=this._rules.get(C);if(!_){const N=this._counter++;_=new l(C,`dyn-rule-${this._instanceId}-${N}`,o.OO(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,y),this._rules.set(C,_)}return _}computeUniqueKey(y){return JSON.stringify(y)}garbageCollect(){for(const y of this._rules.values())y.hasReferences()||(this._rules.delete(y.key),y.dispose())}}u._idPool=0;class l{constructor(y,C,_,N){this.key=y,this.className=C,this.properties=N,this._referenceCount=0,this._styleElementDisposables=new S.SL,this._styleElement=o.dS(_,void 0,this._styleElementDisposables),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(y,C){let _=`.${y} {`;for(const N in C){const b=C[N];let k;typeof b=="object"?k=(0,p.n_1)(b.id):k=b;const V=D(N);_+=`
	${V}: ${k};`}return _+=`
}`,_}dispose(){this._styleElementDisposables.dispose(),this._styleElement=void 0}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function D(f){return f.replace(/(^[A-Z])/,([y])=>y.toLowerCase()).replace(/([A-Z])/g,([y])=>`-${y.toLowerCase()}`)}},92635:function(et,Le,e){"use strict";e.d(Le,{AJ:function(){return l},QG:function(){return K},Qr:function(){return k},R6:function(){return y},Sq:function(){return j},Uc:function(){return z},_K:function(){return Z},_l:function(){return f},fK:function(){return b},jY:function(){return C},kz:function(){return G},mY:function(){return u},n_:function(){return W},rn:function(){return V},sb:function(){return N},x1:function(){return _}});var o=e(61652),B=e(10058),x=e(89226),O=e(93895),S=e(12692),p=e(21592),E=e(69713),R=e(83349),w=e(80568),m=e(87058),g=e(803),a=e(2816),r=e(79553),i=e(26974),n=e(61629),c=e(91540);class u{constructor(H){this.id=H.id,this.precondition=H.precondition,this._kbOpts=H.kbOpts,this._menuOpts=H.menuOpts,this.metadata=H.metadata}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const H=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const Q of H){let ie=Q.kbExpr;this.precondition&&(ie?ie=w.Ao.and(ie,this.precondition):ie=this.precondition);const te={id:this.id,weight:Q.weight,args:Q.args,when:ie,primary:Q.primary,secondary:Q.secondary,win:Q.win,linux:Q.linux,mac:Q.mac};g.W.registerKeybindingRule(te)}}R.P.registerCommand({id:this.id,handler:(H,Q)=>this.runCommand(H,Q),metadata:this.metadata})}_registerMenuItem(H){E.BH.appendMenuItem(H.menuId,{group:H.group,command:{id:this.id,title:H.title,icon:H.icon,precondition:this.precondition},when:H.when,order:H.order})}}class l extends u{constructor(){super(...arguments),this._implementations=[]}addImplementation(H,Q,ie,te){return this._implementations.push({priority:H,name:Q,implementation:ie,when:te}),this._implementations.sort((se,ne)=>ne.priority-se.priority),{dispose:()=>{for(let se=0;se<this._implementations.length;se++)if(this._implementations[se].implementation===ie){this._implementations.splice(se,1);return}}}}runCommand(H,Q){const ie=H.get(n.VZ),te=H.get(w.i6);ie.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const se of this._implementations){if(se.when){const ee=te.getContext((0,c.vY)());if(!se.when.evaluate(ee))continue}const ne=se.implementation(H,Q);if(ne)return ie.trace(`Command '${this.id}' was handled by '${se.name}'.`),typeof ne=="boolean"?void 0:ne}ie.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class D extends u{constructor(H,Q){super(Q),this.command=H}runCommand(H,Q){return this.command.runCommand(H,Q)}}class f extends u{static bindToContribution(H){return class extends f{constructor(ie){super(ie),this._callback=ie.handler}runEditorCommand(ie,te,se){const ne=H(te);ne&&this._callback(ne,se)}}}static runEditorCommand(H,Q,ie,te){const se=H.get(x.$),ne=se.getFocusedCodeEditor()||se.getActiveCodeEditor();if(ne)return ne.invokeWithinContext(ee=>{if(ee.get(w.i6).contextMatchesRules(ie!=null?ie:void 0))return te(ee,ne,Q)})}runCommand(H,Q){return f.runEditorCommand(H,Q,this.precondition,(ie,te,se)=>this.runEditorCommand(ie,te,se))}}class y extends f{static convertOptions(H){let Q;Array.isArray(H.menuOpts)?Q=H.menuOpts:H.menuOpts?Q=[H.menuOpts]:Q=[];function ie(te){return te.menuId||(te.menuId=E.eH.EditorContext),te.title||(te.title=H.label),te.when=w.Ao.and(H.precondition,te.when),te}return Array.isArray(H.contextMenuOpts)?Q.push(...H.contextMenuOpts.map(ie)):H.contextMenuOpts&&Q.push(ie(H.contextMenuOpts)),H.menuOpts=Q,H}constructor(H){super(y.convertOptions(H)),this.label=H.label,this.alias=H.alias}runEditorCommand(H,Q,ie){return this.reportTelemetry(H,Q),this.run(H,Q,ie||{})}reportTelemetry(H,Q){H.get(r.b).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class C extends y{constructor(){super(...arguments),this._implementations=[]}addImplementation(H,Q){return this._implementations.push([H,Q]),this._implementations.sort((ie,te)=>te[0]-ie[0]),{dispose:()=>{for(let ie=0;ie<this._implementations.length;ie++)if(this._implementations[ie][1]===Q){this._implementations.splice(ie,1);return}}}}run(H,Q,ie){for(const te of this._implementations){const se=te[1](H,Q,ie);if(se)return typeof se=="boolean"?void 0:se}}}class _ extends E.Ke{run(H,...Q){const ie=H.get(x.$),te=ie.getFocusedCodeEditor()||ie.getActiveCodeEditor();if(te)return te.invokeWithinContext(se=>{var ne,ee;const re=se.get(w.i6),he=se.get(n.VZ);if(!re.contextMatchesRules((ne=this.desc.precondition)!==null&&ne!==void 0?ne:void 0)){he.debug("[EditorAction2] NOT running command because its precondition is FALSE",this.desc.id,(ee=this.desc.precondition)===null||ee===void 0?void 0:ee.serialize());return}return this.runEditorCommand(se,te,...Q)})}}function N(Y,H){R.P.registerCommand(Y,function(Q,...ie){const te=Q.get(m.TG),[se,ne]=ie;(0,i.p_)(B.o.isUri(se)),(0,i.p_)(O.L.isIPosition(ne));const ee=Q.get(S.q).getModel(se);if(ee){const re=O.L.lift(ne);return te.invokeFunction(H,ee,re,...ie.slice(2))}return Q.get(p.S).createModelReference(se).then(re=>new Promise((he,M)=>{try{const we=te.invokeFunction(H,re.object.textEditorModel,O.L.lift(ne),ie.slice(2));he(we)}catch(we){M(we)}}).finally(()=>{re.dispose()}))})}function b(Y){return P.INSTANCE.registerEditorCommand(Y),Y}function k(Y){const H=new Y;return P.INSTANCE.registerEditorAction(H),H}function V(Y){return P.INSTANCE.registerEditorAction(Y),Y}function K(Y){P.INSTANCE.registerEditorAction(Y)}function Z(Y,H,Q){P.INSTANCE.registerEditorContribution(Y,H,Q)}var z;(function(Y){function H(ne){return P.INSTANCE.getEditorCommand(ne)}Y.getEditorCommand=H;function Q(){return P.INSTANCE.getEditorActions()}Y.getEditorActions=Q;function ie(){return P.INSTANCE.getEditorContributions()}Y.getEditorContributions=ie;function te(ne){return P.INSTANCE.getEditorContributions().filter(ee=>ne.indexOf(ee.id)>=0)}Y.getSomeEditorContributions=te;function se(){return P.INSTANCE.getDiffEditorContributions()}Y.getDiffEditorContributions=se})(z||(z={}));const A={EditorCommonContributions:"editor.contributions"};class P{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(H,Q,ie){this.editorContributions.push({id:H,ctor:Q,instantiation:ie})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(H){H.register(),this.editorActions.push(H)}getEditorActions(){return this.editorActions}registerEditorCommand(H){H.register(),this.editorCommands[H.id]=H}getEditorCommand(H){return this.editorCommands[H]||null}}P.INSTANCE=new P,a.B.add(A.EditorCommonContributions,P.INSTANCE);function I(Y){return Y.register(),Y}const W=I(new l({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:E.eH.MenubarEditMenu,group:"1_do",title:o.NC({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:E.eH.CommandPalette,group:"",title:o.NC("undo","Undo"),order:1}]}));I(new D(W,{id:"default:undo",precondition:void 0}));const G=I(new l({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:E.eH.MenubarEditMenu,group:"1_do",title:o.NC({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:E.eH.CommandPalette,group:"",title:o.NC("redo","Redo"),order:1}]}));I(new D(G,{id:"default:redo",precondition:void 0}));const j=I(new l({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:E.eH.MenubarSelectionMenu,group:"1_basic",title:o.NC({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:E.eH.CommandPalette,group:"",title:o.NC("selectAll","Select All"),order:1}]}))},11724:function(et,Le,e){"use strict";e.d(Le,{Gl:function(){return p},fo:function(){return S},vu:function(){return O}});var o=e(87058),B=e(10058),x=e(26974);const O=(0,o.yh)("IWorkspaceEditService");class S{constructor(w){this.metadata=w}static convert(w){return w.edits.map(m=>{if(p.is(m))return p.lift(m);if(E.is(m))return E.lift(m);throw new Error("Unsupported edit")})}}class p extends S{static is(w){return w instanceof p?!0:(0,x.Kn)(w)&&B.o.isUri(w.resource)&&(0,x.Kn)(w.textEdit)}static lift(w){return w instanceof p?w:new p(w.resource,w.textEdit,w.versionId,w.metadata)}constructor(w,m,g=void 0,a){super(a),this.resource=w,this.textEdit=m,this.versionId=g}}class E extends S{static is(w){return w instanceof E?!0:(0,x.Kn)(w)&&(!!w.newResource||!!w.oldResource)}static lift(w){return w instanceof E?w:new E(w.oldResource,w.newResource,w.options,w.metadata)}constructor(w,m,g={},a){super(a),this.oldResource=w,this.newResource=m,this.options=g}}},89226:function(et,Le,e){"use strict";e.d(Le,{$:function(){return B}});var o=e(87058);const B=(0,o.yh)("codeEditorService")},12408:function(et,Le,e){"use strict";e.d(Le,{Q8:function(){return Zi},eu:function(){return xn}});var o=e(74696),B=e(45029),x=e(25602),O=e(79329),S=e(94920),p=e(15122),E=e(30144);const R="$initialize";let w=!1;function m(gi){p.$L&&(w||(w=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(gi.message))}class g{constructor(Ze,dt,Ue,$e){this.vsWorker=Ze,this.req=dt,this.method=Ue,this.args=$e,this.type=0}}class a{constructor(Ze,dt,Ue,$e){this.vsWorker=Ze,this.seq=dt,this.res=Ue,this.err=$e,this.type=1}}class r{constructor(Ze,dt,Ue,$e){this.vsWorker=Ze,this.req=dt,this.eventName=Ue,this.arg=$e,this.type=2}}class i{constructor(Ze,dt,Ue){this.vsWorker=Ze,this.req=dt,this.event=Ue,this.type=3}}class n{constructor(Ze,dt){this.vsWorker=Ze,this.req=dt,this.type=4}}class c{constructor(Ze){this._workerId=-1,this._handler=Ze,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(Ze){this._workerId=Ze}sendMessage(Ze,dt){const Ue=String(++this._lastSentReq);return new Promise(($e,bt)=>{this._pendingReplies[Ue]={resolve:$e,reject:bt},this._send(new g(this._workerId,Ue,Ze,dt))})}listen(Ze,dt){let Ue=null;const $e=new O.Q5({onWillAddFirstListener:()=>{Ue=String(++this._lastSentReq),this._pendingEmitters.set(Ue,$e),this._send(new r(this._workerId,Ue,Ze,dt))},onDidRemoveLastListener:()=>{this._pendingEmitters.delete(Ue),this._send(new n(this._workerId,Ue)),Ue=null}});return $e.event}handleMessage(Ze){!Ze||!Ze.vsWorker||this._workerId!==-1&&Ze.vsWorker!==this._workerId||this._handleMessage(Ze)}_handleMessage(Ze){switch(Ze.type){case 1:return this._handleReplyMessage(Ze);case 0:return this._handleRequestMessage(Ze);case 2:return this._handleSubscribeEventMessage(Ze);case 3:return this._handleEventMessage(Ze);case 4:return this._handleUnsubscribeEventMessage(Ze)}}_handleReplyMessage(Ze){if(!this._pendingReplies[Ze.seq]){console.warn("Got reply to unknown seq");return}const dt=this._pendingReplies[Ze.seq];if(delete this._pendingReplies[Ze.seq],Ze.err){let Ue=Ze.err;Ze.err.$isError&&(Ue=new Error,Ue.name=Ze.err.name,Ue.message=Ze.err.message,Ue.stack=Ze.err.stack),dt.reject(Ue);return}dt.resolve(Ze.res)}_handleRequestMessage(Ze){const dt=Ze.req;this._handler.handleMessage(Ze.method,Ze.args).then($e=>{this._send(new a(this._workerId,dt,$e,void 0))},$e=>{$e.detail instanceof Error&&($e.detail=(0,x.ri)($e.detail)),this._send(new a(this._workerId,dt,void 0,(0,x.ri)($e)))})}_handleSubscribeEventMessage(Ze){const dt=Ze.req,Ue=this._handler.handleEvent(Ze.eventName,Ze.arg)($e=>{this._send(new i(this._workerId,dt,$e))});this._pendingEvents.set(dt,Ue)}_handleEventMessage(Ze){if(!this._pendingEmitters.has(Ze.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(Ze.req).fire(Ze.event)}_handleUnsubscribeEventMessage(Ze){if(!this._pendingEvents.has(Ze.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(Ze.req).dispose(),this._pendingEvents.delete(Ze.req)}_send(Ze){const dt=[];if(Ze.type===0)for(let Ue=0;Ue<Ze.args.length;Ue++)Ze.args[Ue]instanceof ArrayBuffer&&dt.push(Ze.args[Ue]);else Ze.type===1&&Ze.res instanceof ArrayBuffer&&dt.push(Ze.res);this._handler.sendMessage(Ze,dt)}}class u extends B.JT{constructor(Ze,dt,Ue){super();let $e=null;this._worker=this._register(Ze.create("vs/base/common/worker/simpleWorker",Ge=>{this._protocol.handleMessage(Ge)},Ge=>{$e==null||$e(Ge)})),this._protocol=new c({sendMessage:(Ge,rt)=>{this._worker.postMessage(Ge,rt)},handleMessage:(Ge,rt)=>{if(typeof Ue[Ge]!="function")return Promise.reject(new Error("Missing method "+Ge+" on main thread host."));try{return Promise.resolve(Ue[Ge].apply(Ue,rt))}catch(st){return Promise.reject(st)}},handleEvent:(Ge,rt)=>{if(D(Ge)){const st=Ue[Ge].call(Ue,rt);if(typeof st!="function")throw new Error(`Missing dynamic event ${Ge} on main thread host.`);return st}if(l(Ge)){const st=Ue[Ge];if(typeof st!="function")throw new Error(`Missing event ${Ge} on main thread host.`);return st}throw new Error(`Malformed event name ${Ge}`)}}),this._protocol.setWorkerId(this._worker.getId());let bt=null;const ft=globalThis.require;typeof ft!="undefined"&&typeof ft.getConfig=="function"?bt=ft.getConfig():typeof globalThis.requirejs!="undefined"&&(bt=globalThis.requirejs.s.contexts._.config);const Ye=(0,S.$E)(Ue);this._onModuleLoaded=this._protocol.sendMessage(R,[this._worker.getId(),JSON.parse(JSON.stringify(bt)),dt,Ye]);const vt=(Ge,rt)=>this._request(Ge,rt),nt=(Ge,rt)=>this._protocol.listen(Ge,rt);this._lazyProxy=new Promise((Ge,rt)=>{$e=rt,this._onModuleLoaded.then(st=>{Ge(f(st,vt,nt))},st=>{rt(st),this._onError("Worker failed to load "+dt,st)})})}getProxyObject(){return this._lazyProxy}_request(Ze,dt){return new Promise((Ue,$e)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(Ze,dt).then(Ue,$e)},$e)})}_onError(Ze,dt){console.error(Ze),console.info(dt)}}function l(gi){return gi[0]==="o"&&gi[1]==="n"&&E.df(gi.charCodeAt(2))}function D(gi){return/^onDynamic/.test(gi)&&E.df(gi.charCodeAt(9))}function f(gi,Ze,dt){const Ue=ft=>function(){const Ye=Array.prototype.slice.call(arguments,0);return Ze(ft,Ye)},$e=ft=>function(Ye){return dt(ft,Ye)},bt={};for(const ft of gi){if(D(ft)){bt[ft]=$e(ft);continue}if(l(ft)){bt[ft]=dt(ft,void 0);continue}bt[ft]=Ue(ft)}return bt}class y{constructor(Ze,dt){this._requestHandlerFactory=dt,this._requestHandler=null,this._protocol=new c({sendMessage:(Ue,$e)=>{Ze(Ue,$e)},handleMessage:(Ue,$e)=>this._handleMessage(Ue,$e),handleEvent:(Ue,$e)=>this._handleEvent(Ue,$e)})}onmessage(Ze){this._protocol.handleMessage(Ze)}_handleMessage(Ze,dt){if(Ze===R)return this.initialize(dt[0],dt[1],dt[2],dt[3]);if(!this._requestHandler||typeof this._requestHandler[Ze]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+Ze));try{return Promise.resolve(this._requestHandler[Ze].apply(this._requestHandler,dt))}catch(Ue){return Promise.reject(Ue)}}_handleEvent(Ze,dt){if(!this._requestHandler)throw new Error("Missing requestHandler");if(D(Ze)){const Ue=this._requestHandler[Ze].call(this._requestHandler,dt);if(typeof Ue!="function")throw new Error(`Missing dynamic event ${Ze} on request handler.`);return Ue}if(l(Ze)){const Ue=this._requestHandler[Ze];if(typeof Ue!="function")throw new Error(`Missing event ${Ze} on request handler.`);return Ue}throw new Error(`Malformed event name ${Ze}`)}initialize(Ze,dt,Ue,$e){this._protocol.setWorkerId(Ze);const Ye=f($e,(vt,nt)=>this._protocol.sendMessage(vt,nt),(vt,nt)=>this._protocol.listen(vt,nt));return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(Ye),Promise.resolve(getAllMethodNames(this._requestHandler))):(dt&&(typeof dt.baseUrl!="undefined"&&delete dt.baseUrl,typeof dt.paths!="undefined"&&typeof dt.paths.vs!="undefined"&&delete dt.paths.vs,typeof dt.trustedTypesPolicy!="undefined"&&delete dt.trustedTypesPolicy,dt.catchError=!0,globalThis.require.config(dt)),new Promise((vt,nt)=>{const Ge=globalThis.require;Ge([Ue],rt=>{if(this._requestHandler=rt.create(Ye),!this._requestHandler){nt(new Error("No RequestHandler!"));return}vt(getAllMethodNames(this._requestHandler))},nt)}))}}function C(gi){return new y(gi,null)}var _=e(73275);const N=(0,_.Z)("defaultWorkerFactory",{createScriptURL:gi=>gi});function b(gi){const Ze=globalThis.MonacoEnvironment;if(Ze){if(typeof Ze.getWorker=="function")return Ze.getWorker("workerMain.js",gi);if(typeof Ze.getWorkerUrl=="function"){const dt=Ze.getWorkerUrl("workerMain.js",gi);return new Worker(N?N.createScriptURL(dt):dt,{name:gi})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function k(gi){return typeof gi.then=="function"}class V extends B.JT{constructor(Ze,dt,Ue,$e,bt){super(),this.id=dt,this.label=Ue;const ft=b(Ue);k(ft)?this.worker=ft:this.worker=Promise.resolve(ft),this.postMessage(Ze,[]),this.worker.then(Ye=>{Ye.onmessage=function(vt){$e(vt.data)},Ye.onmessageerror=bt,typeof Ye.addEventListener=="function"&&Ye.addEventListener("error",bt)}),this._register((0,B.OF)(()=>{var Ye;(Ye=this.worker)===null||Ye===void 0||Ye.then(vt=>{vt.onmessage=null,vt.onmessageerror=null,vt.removeEventListener("error",bt),vt.terminate()}),this.worker=null}))}getId(){return this.id}postMessage(Ze,dt){var Ue;(Ue=this.worker)===null||Ue===void 0||Ue.then($e=>{try{$e.postMessage(Ze,dt)}catch(bt){(0,x.dL)(bt),(0,x.dL)(new Error(`FAILED to post message to '${this.label}'-worker`,{cause:bt}))}})}}class K{constructor(Ze){this._label=Ze,this._webWorkerFailedBeforeError=!1}create(Ze,dt,Ue){const $e=++K.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new V(Ze,$e,this._label||"anonymous"+$e,dt,bt=>{m(bt),this._webWorkerFailedBeforeError=bt,Ue(bt)})}}K.LAST_WORKER_ID=0;var Z=e(4694),z=e(81275),A=e(82719),P=e(10058),I=e(93895),W=e(22689);class G{constructor(Ze,dt,Ue,$e){this._uri=Ze,this._lines=dt,this._eol=Ue,this._versionId=$e,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(Ze){Ze.eol&&Ze.eol!==this._eol&&(this._eol=Ze.eol,this._lineStarts=null);const dt=Ze.changes;for(const Ue of dt)this._acceptDeleteRange(Ue.range),this._acceptInsertText(new I.L(Ue.range.startLineNumber,Ue.range.startColumn),Ue.text);this._versionId=Ze.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const Ze=this._eol.length,dt=this._lines.length,Ue=new Uint32Array(dt);for(let $e=0;$e<dt;$e++)Ue[$e]=this._lines[$e].length+Ze;this._lineStarts=new W.oQ(Ue)}}_setLineText(Ze,dt){this._lines[Ze]=dt,this._lineStarts&&this._lineStarts.setValue(Ze,this._lines[Ze].length+this._eol.length)}_acceptDeleteRange(Ze){if(Ze.startLineNumber===Ze.endLineNumber){if(Ze.startColumn===Ze.endColumn)return;this._setLineText(Ze.startLineNumber-1,this._lines[Ze.startLineNumber-1].substring(0,Ze.startColumn-1)+this._lines[Ze.startLineNumber-1].substring(Ze.endColumn-1));return}this._setLineText(Ze.startLineNumber-1,this._lines[Ze.startLineNumber-1].substring(0,Ze.startColumn-1)+this._lines[Ze.endLineNumber-1].substring(Ze.endColumn-1)),this._lines.splice(Ze.startLineNumber,Ze.endLineNumber-Ze.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(Ze.startLineNumber,Ze.endLineNumber-Ze.startLineNumber)}_acceptInsertText(Ze,dt){if(dt.length===0)return;const Ue=(0,E.uq)(dt);if(Ue.length===1){this._setLineText(Ze.lineNumber-1,this._lines[Ze.lineNumber-1].substring(0,Ze.column-1)+Ue[0]+this._lines[Ze.lineNumber-1].substring(Ze.column-1));return}Ue[Ue.length-1]+=this._lines[Ze.lineNumber-1].substring(Ze.column-1),this._setLineText(Ze.lineNumber-1,this._lines[Ze.lineNumber-1].substring(0,Ze.column-1)+Ue[0]);const $e=new Uint32Array(Ue.length-1);for(let bt=1;bt<Ue.length;bt++)this._lines.splice(Ze.lineNumber+bt-1,0,Ue[bt]),$e[bt-1]=Ue[bt].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(Ze.lineNumber,$e)}}var j=e(38244),Y=e(89925);class H{constructor(Ze,dt,Ue){const $e=new Uint8Array(Ze*dt);for(let bt=0,ft=Ze*dt;bt<ft;bt++)$e[bt]=Ue;this._data=$e,this.rows=Ze,this.cols=dt}get(Ze,dt){return this._data[Ze*this.cols+dt]}set(Ze,dt,Ue){this._data[Ze*this.cols+dt]=Ue}}class Q{constructor(Ze){let dt=0,Ue=0;for(let bt=0,ft=Ze.length;bt<ft;bt++){const[Ye,vt,nt]=Ze[bt];vt>dt&&(dt=vt),Ye>Ue&&(Ue=Ye),nt>Ue&&(Ue=nt)}dt++,Ue++;const $e=new H(Ue,dt,0);for(let bt=0,ft=Ze.length;bt<ft;bt++){const[Ye,vt,nt]=Ze[bt];$e.set(Ye,vt,nt)}this._states=$e,this._maxCharCode=dt}nextState(Ze,dt){return dt<0||dt>=this._maxCharCode?0:this._states.get(Ze,dt)}}let ie=null;function te(){return ie===null&&(ie=new Q([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),ie}let se=null;function ne(){if(se===null){se=new Y.N(0);const gi=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let dt=0;dt<gi.length;dt++)se.set(gi.charCodeAt(dt),1);const Ze=".,;:";for(let dt=0;dt<Ze.length;dt++)se.set(Ze.charCodeAt(dt),2)}return se}class ee{static _createLink(Ze,dt,Ue,$e,bt){let ft=bt-1;do{const Ye=dt.charCodeAt(ft);if(Ze.get(Ye)!==2)break;ft--}while(ft>$e);if($e>0){const Ye=dt.charCodeAt($e-1),vt=dt.charCodeAt(ft);(Ye===40&&vt===41||Ye===91&&vt===93||Ye===123&&vt===125)&&ft--}return{range:{startLineNumber:Ue,startColumn:$e+1,endLineNumber:Ue,endColumn:ft+2},url:dt.substring($e,ft+1)}}static computeLinks(Ze,dt=te()){const Ue=ne(),$e=[];for(let bt=1,ft=Ze.getLineCount();bt<=ft;bt++){const Ye=Ze.getLineContent(bt),vt=Ye.length;let nt=0,Ge=0,rt=0,st=1,tt=!1,_t=!1,kt=!1,at=!1;for(;nt<vt;){let ht=!1;const Mt=Ye.charCodeAt(nt);if(st===13){let ut;switch(Mt){case 40:tt=!0,ut=0;break;case 41:ut=tt?0:1;break;case 91:kt=!0,_t=!0,ut=0;break;case 93:kt=!1,ut=_t?0:1;break;case 123:at=!0,ut=0;break;case 125:ut=at?0:1;break;case 39:case 34:case 96:rt===Mt?ut=1:rt===39||rt===34||rt===96?ut=0:ut=1;break;case 42:ut=rt===42?1:0;break;case 124:ut=rt===124?1:0;break;case 32:ut=kt?0:1;break;default:ut=Ue.get(Mt)}ut===1&&($e.push(ee._createLink(Ue,Ye,bt,Ge,nt)),ht=!0)}else if(st===12){let ut;Mt===91?(_t=!0,ut=0):ut=Ue.get(Mt),ut===1?ht=!0:st=13}else st=dt.nextState(st,Mt),st===0&&(ht=!0);ht&&(st=1,tt=!1,_t=!1,at=!1,Ge=nt+1,rt=Mt),nt++}st===13&&$e.push(ee._createLink(Ue,Ye,bt,Ge,vt))}return $e}}function re(gi){return!gi||typeof gi.getLineCount!="function"||typeof gi.getLineContent!="function"?[]:ee.computeLinks(gi)}class he{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(Ze,dt,Ue,$e,bt){if(Ze&&dt){const ft=this.doNavigateValueSet(dt,bt);if(ft)return{range:Ze,value:ft}}if(Ue&&$e){const ft=this.doNavigateValueSet($e,bt);if(ft)return{range:Ue,value:ft}}return null}doNavigateValueSet(Ze,dt){const Ue=this.numberReplace(Ze,dt);return Ue!==null?Ue:this.textReplace(Ze,dt)}numberReplace(Ze,dt){const Ue=Math.pow(10,Ze.length-(Ze.lastIndexOf(".")+1));let $e=Number(Ze);const bt=parseFloat(Ze);return!isNaN($e)&&!isNaN(bt)&&$e===bt?$e===0&&!dt?null:($e=Math.floor($e*Ue),$e+=dt?Ue:-Ue,String($e/Ue)):null}textReplace(Ze,dt){return this.valueSetsReplace(this._defaultValueSet,Ze,dt)}valueSetsReplace(Ze,dt,Ue){let $e=null;for(let bt=0,ft=Ze.length;$e===null&&bt<ft;bt++)$e=this.valueSetReplace(Ze[bt],dt,Ue);return $e}valueSetReplace(Ze,dt,Ue){let $e=Ze.indexOf(dt);return $e>=0?($e+=Ue?1:-1,$e<0?$e=Ze.length-1:$e%=Ze.length,Ze[$e]):null}}he.INSTANCE=new he;var M=e(27942),we=e(32368),We=e(50946),ye=e(57628),X=e(83987),ve=e(9751),Ee=e(56348);const Oe=3;class Ke{computeDiff(Ze,dt,Ue){var $e;const ft=new Ce(Ze,dt,{maxComputationTime:Ue.maxComputationTimeMs,shouldIgnoreTrimWhitespace:Ue.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),Ye=[];let vt=null;for(const nt of ft.changes){let Ge;nt.originalEndLineNumber===0?Ge=new Ee.z(nt.originalStartLineNumber+1,nt.originalStartLineNumber+1):Ge=new Ee.z(nt.originalStartLineNumber,nt.originalEndLineNumber+1);let rt;nt.modifiedEndLineNumber===0?rt=new Ee.z(nt.modifiedStartLineNumber+1,nt.modifiedStartLineNumber+1):rt=new Ee.z(nt.modifiedStartLineNumber,nt.modifiedEndLineNumber+1);let st=new X.gB(Ge,rt,($e=nt.charChanges)===null||$e===void 0?void 0:$e.map(tt=>new X.iy(new Z.e(tt.originalStartLineNumber,tt.originalStartColumn,tt.originalEndLineNumber,tt.originalEndColumn),new Z.e(tt.modifiedStartLineNumber,tt.modifiedStartColumn,tt.modifiedEndLineNumber,tt.modifiedEndColumn))));vt&&(vt.modified.endLineNumberExclusive===st.modified.startLineNumber||vt.original.endLineNumberExclusive===st.original.startLineNumber)&&(st=new X.gB(vt.original.join(st.original),vt.modified.join(st.modified),vt.innerChanges&&st.innerChanges?vt.innerChanges.concat(st.innerChanges):void 0),Ye.pop()),Ye.push(st),vt=st}return(0,ve.eZ)(()=>(0,ve.DM)(Ye,(nt,Ge)=>Ge.original.startLineNumber-nt.original.endLineNumberExclusive===Ge.modified.startLineNumber-nt.modified.endLineNumberExclusive&&nt.original.endLineNumberExclusive<Ge.original.startLineNumber&&nt.modified.endLineNumberExclusive<Ge.modified.startLineNumber)),new ye.h(Ye,[],ft.quitEarly)}}function Qe(gi,Ze,dt,Ue){return new A.Hs(gi,Ze,dt).ComputeDiff(Ue)}class fe{constructor(Ze){const dt=[],Ue=[];for(let $e=0,bt=Ze.length;$e<bt;$e++)dt[$e]=me(Ze[$e],1),Ue[$e]=be(Ze[$e],1);this.lines=Ze,this._startColumns=dt,this._endColumns=Ue}getElements(){const Ze=[];for(let dt=0,Ue=this.lines.length;dt<Ue;dt++)Ze[dt]=this.lines[dt].substring(this._startColumns[dt]-1,this._endColumns[dt]-1);return Ze}getStrictElement(Ze){return this.lines[Ze]}getStartLineNumber(Ze){return Ze+1}getEndLineNumber(Ze){return Ze+1}createCharSequence(Ze,dt,Ue){const $e=[],bt=[],ft=[];let Ye=0;for(let vt=dt;vt<=Ue;vt++){const nt=this.lines[vt],Ge=Ze?this._startColumns[vt]:1,rt=Ze?this._endColumns[vt]:nt.length+1;for(let st=Ge;st<rt;st++)$e[Ye]=nt.charCodeAt(st-1),bt[Ye]=vt+1,ft[Ye]=st,Ye++;!Ze&&vt<Ue&&($e[Ye]=10,bt[Ye]=vt+1,ft[Ye]=nt.length+1,Ye++)}return new $($e,bt,ft)}}class ${constructor(Ze,dt,Ue){this._charCodes=Ze,this._lineNumbers=dt,this._columns=Ue}toString(){return"["+this._charCodes.map((Ze,dt)=>(Ze===10?"\\n":String.fromCharCode(Ze))+`-(${this._lineNumbers[dt]},${this._columns[dt]})`).join(", ")+"]"}_assertIndex(Ze,dt){if(Ze<0||Ze>=dt.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(Ze){return Ze>0&&Ze===this._lineNumbers.length?this.getEndLineNumber(Ze-1):(this._assertIndex(Ze,this._lineNumbers),this._lineNumbers[Ze])}getEndLineNumber(Ze){return Ze===-1?this.getStartLineNumber(Ze+1):(this._assertIndex(Ze,this._lineNumbers),this._charCodes[Ze]===10?this._lineNumbers[Ze]+1:this._lineNumbers[Ze])}getStartColumn(Ze){return Ze>0&&Ze===this._columns.length?this.getEndColumn(Ze-1):(this._assertIndex(Ze,this._columns),this._columns[Ze])}getEndColumn(Ze){return Ze===-1?this.getStartColumn(Ze+1):(this._assertIndex(Ze,this._columns),this._charCodes[Ze]===10?1:this._columns[Ze]+1)}}class le{constructor(Ze,dt,Ue,$e,bt,ft,Ye,vt){this.originalStartLineNumber=Ze,this.originalStartColumn=dt,this.originalEndLineNumber=Ue,this.originalEndColumn=$e,this.modifiedStartLineNumber=bt,this.modifiedStartColumn=ft,this.modifiedEndLineNumber=Ye,this.modifiedEndColumn=vt}static createFromDiffChange(Ze,dt,Ue){const $e=dt.getStartLineNumber(Ze.originalStart),bt=dt.getStartColumn(Ze.originalStart),ft=dt.getEndLineNumber(Ze.originalStart+Ze.originalLength-1),Ye=dt.getEndColumn(Ze.originalStart+Ze.originalLength-1),vt=Ue.getStartLineNumber(Ze.modifiedStart),nt=Ue.getStartColumn(Ze.modifiedStart),Ge=Ue.getEndLineNumber(Ze.modifiedStart+Ze.modifiedLength-1),rt=Ue.getEndColumn(Ze.modifiedStart+Ze.modifiedLength-1);return new le($e,bt,ft,Ye,vt,nt,Ge,rt)}}function De(gi){if(gi.length<=1)return gi;const Ze=[gi[0]];let dt=Ze[0];for(let Ue=1,$e=gi.length;Ue<$e;Ue++){const bt=gi[Ue],ft=bt.originalStart-(dt.originalStart+dt.originalLength),Ye=bt.modifiedStart-(dt.modifiedStart+dt.modifiedLength);Math.min(ft,Ye)<Oe?(dt.originalLength=bt.originalStart+bt.originalLength-dt.originalStart,dt.modifiedLength=bt.modifiedStart+bt.modifiedLength-dt.modifiedStart):(Ze.push(bt),dt=bt)}return Ze}class xe{constructor(Ze,dt,Ue,$e,bt){this.originalStartLineNumber=Ze,this.originalEndLineNumber=dt,this.modifiedStartLineNumber=Ue,this.modifiedEndLineNumber=$e,this.charChanges=bt}static createFromDiffResult(Ze,dt,Ue,$e,bt,ft,Ye){let vt,nt,Ge,rt,st;if(dt.originalLength===0?(vt=Ue.getStartLineNumber(dt.originalStart)-1,nt=0):(vt=Ue.getStartLineNumber(dt.originalStart),nt=Ue.getEndLineNumber(dt.originalStart+dt.originalLength-1)),dt.modifiedLength===0?(Ge=$e.getStartLineNumber(dt.modifiedStart)-1,rt=0):(Ge=$e.getStartLineNumber(dt.modifiedStart),rt=$e.getEndLineNumber(dt.modifiedStart+dt.modifiedLength-1)),ft&&dt.originalLength>0&&dt.originalLength<20&&dt.modifiedLength>0&&dt.modifiedLength<20&&bt()){const tt=Ue.createCharSequence(Ze,dt.originalStart,dt.originalStart+dt.originalLength-1),_t=$e.createCharSequence(Ze,dt.modifiedStart,dt.modifiedStart+dt.modifiedLength-1);if(tt.getElements().length>0&&_t.getElements().length>0){let kt=Qe(tt,_t,bt,!0).changes;Ye&&(kt=De(kt)),st=[];for(let at=0,ht=kt.length;at<ht;at++)st.push(le.createFromDiffChange(kt[at],tt,_t))}}return new xe(vt,nt,Ge,rt,st)}}class Ce{constructor(Ze,dt,Ue){this.shouldComputeCharChanges=Ue.shouldComputeCharChanges,this.shouldPostProcessCharChanges=Ue.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=Ue.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=Ue.shouldMakePrettyDiff,this.originalLines=Ze,this.modifiedLines=dt,this.original=new fe(Ze),this.modified=new fe(dt),this.continueLineDiff=oe(Ue.maxComputationTime),this.continueCharDiff=oe(Ue.maxComputationTime===0?0:Math.min(Ue.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};const Ze=Qe(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),dt=Ze.changes,Ue=Ze.quitEarly;if(this.shouldIgnoreTrimWhitespace){const Ye=[];for(let vt=0,nt=dt.length;vt<nt;vt++)Ye.push(xe.createFromDiffResult(this.shouldIgnoreTrimWhitespace,dt[vt],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:Ue,changes:Ye}}const $e=[];let bt=0,ft=0;for(let Ye=-1,vt=dt.length;Ye<vt;Ye++){const nt=Ye+1<vt?dt[Ye+1]:null,Ge=nt?nt.originalStart:this.originalLines.length,rt=nt?nt.modifiedStart:this.modifiedLines.length;for(;bt<Ge&&ft<rt;){const st=this.originalLines[bt],tt=this.modifiedLines[ft];if(st!==tt){{let _t=me(st,1),kt=me(tt,1);for(;_t>1&&kt>1;){const at=st.charCodeAt(_t-2),ht=tt.charCodeAt(kt-2);if(at!==ht)break;_t--,kt--}(_t>1||kt>1)&&this._pushTrimWhitespaceCharChange($e,bt+1,1,_t,ft+1,1,kt)}{let _t=be(st,1),kt=be(tt,1);const at=st.length+1,ht=tt.length+1;for(;_t<at&&kt<ht;){const Mt=st.charCodeAt(_t-1),ut=st.charCodeAt(kt-1);if(Mt!==ut)break;_t++,kt++}(_t<at||kt<ht)&&this._pushTrimWhitespaceCharChange($e,bt+1,_t,at,ft+1,kt,ht)}}bt++,ft++}nt&&($e.push(xe.createFromDiffResult(this.shouldIgnoreTrimWhitespace,nt,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),bt+=nt.originalLength,ft+=nt.modifiedLength)}return{quitEarly:Ue,changes:$e}}_pushTrimWhitespaceCharChange(Ze,dt,Ue,$e,bt,ft,Ye){if(this._mergeTrimWhitespaceCharChange(Ze,dt,Ue,$e,bt,ft,Ye))return;let vt;this.shouldComputeCharChanges&&(vt=[new le(dt,Ue,dt,$e,bt,ft,bt,Ye)]),Ze.push(new xe(dt,dt,bt,bt,vt))}_mergeTrimWhitespaceCharChange(Ze,dt,Ue,$e,bt,ft,Ye){const vt=Ze.length;if(vt===0)return!1;const nt=Ze[vt-1];return nt.originalEndLineNumber===0||nt.modifiedEndLineNumber===0?!1:nt.originalEndLineNumber===dt&&nt.modifiedEndLineNumber===bt?(this.shouldComputeCharChanges&&nt.charChanges&&nt.charChanges.push(new le(dt,Ue,dt,$e,bt,ft,bt,Ye)),!0):nt.originalEndLineNumber+1===dt&&nt.modifiedEndLineNumber+1===bt?(nt.originalEndLineNumber=dt,nt.modifiedEndLineNumber=bt,this.shouldComputeCharChanges&&nt.charChanges&&nt.charChanges.push(new le(dt,Ue,dt,$e,bt,ft,bt,Ye)),!0):!1}}function me(gi,Ze){const dt=E.LC(gi);return dt===-1?Ze:dt+1}function be(gi,Ze){const dt=E.ow(gi);return dt===-1?Ze:dt+2}function oe(gi){if(gi===0)return()=>!0;const Ze=Date.now();return()=>Date.now()-Ze<gi}var ue=e(42826);const de={getLegacy:()=>new Ke,getDefault:()=>new ue.DW};var Se=e(64707);function Te(gi){const Ze=[];for(const dt of gi){const Ue=Number(dt);(Ue||Ue===0&&dt.replace(/\s/g,"")!=="")&&Ze.push(Ue)}return Ze}function Ae(gi,Ze,dt,Ue){return{red:gi/255,blue:dt/255,green:Ze/255,alpha:Ue}}function pe(gi,Ze){const dt=Ze.index,Ue=Ze[0].length;if(!dt)return;const $e=gi.positionAt(dt);return{startLineNumber:$e.lineNumber,startColumn:$e.column,endLineNumber:$e.lineNumber,endColumn:$e.column+Ue}}function je(gi,Ze){if(!gi)return;const dt=Se.Il.Format.CSS.parseHex(Ze);if(dt)return{range:gi,color:Ae(dt.rgba.r,dt.rgba.g,dt.rgba.b,dt.rgba.a)}}function ot(gi,Ze,dt){if(!gi||Ze.length!==1)return;const $e=Ze[0].values(),bt=Te($e);return{range:gi,color:Ae(bt[0],bt[1],bt[2],dt?bt[3]:1)}}function xt(gi,Ze,dt){if(!gi||Ze.length!==1)return;const $e=Ze[0].values(),bt=Te($e),ft=new Se.Il(new Se.Oz(bt[0],bt[1]/100,bt[2]/100,dt?bt[3]:1));return{range:gi,color:Ae(ft.rgba.r,ft.rgba.g,ft.rgba.b,ft.rgba.a)}}function jt(gi,Ze){return typeof gi=="string"?[...gi.matchAll(Ze)]:gi.findMatches(Ze)}function oi(gi){const Ze=[],Ue=jt(gi,/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{3})\b|(#)([A-Fa-f0-9]{4})\b|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm);if(Ue.length>0)for(const $e of Ue){const bt=$e.filter(nt=>nt!==void 0),ft=bt[1],Ye=bt[2];if(!Ye)continue;let vt;if(ft==="rgb"){const nt=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;vt=ot(pe(gi,$e),jt(Ye,nt),!1)}else if(ft==="rgba"){const nt=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;vt=ot(pe(gi,$e),jt(Ye,nt),!0)}else if(ft==="hsl"){const nt=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;vt=xt(pe(gi,$e),jt(Ye,nt),!1)}else if(ft==="hsla"){const nt=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;vt=xt(pe(gi,$e),jt(Ye,nt),!0)}else ft==="#"&&(vt=je(pe(gi,$e),ft+Ye));vt&&Ze.push(vt)}return Ze}function ti(gi){return!gi||typeof gi.getValue!="function"||typeof gi.positionAt!="function"?[]:oi(gi)}const it=new RegExp("\\bMARK:\\s*(.*)$","d"),yt=/^-+|-+$/g;function $t(gi,Ze){var dt;let Ue=[];if(Ze.findRegionSectionHeaders&&(!((dt=Ze.foldingRules)===null||dt===void 0)&&dt.markers)){const $e=Nt(gi,Ze);Ue=Ue.concat($e)}if(Ze.findMarkSectionHeaders){const $e=qt(gi);Ue=Ue.concat($e)}return Ue}function Nt(gi,Ze){const dt=[],Ue=gi.getLineCount();for(let $e=1;$e<=Ue;$e++){const bt=gi.getLineContent($e),ft=bt.match(Ze.foldingRules.markers.start);if(ft){const Ye={startLineNumber:$e,startColumn:ft[0].length+1,endLineNumber:$e,endColumn:bt.length+1};if(Ye.endColumn>Ye.startColumn){const vt=Ki(vi({range:Ye},He(bt.substring(ft[0].length))),{shouldBeInComments:!1});(vt.text||vt.hasSeparatorLine)&&dt.push(vt)}}}return dt}function qt(gi){const Ze=[],dt=gi.getLineCount();for(let Ue=1;Ue<=dt;Ue++){const $e=gi.getLineContent(Ue);Ht($e,Ue,Ze)}return Ze}function Ht(gi,Ze,dt){it.lastIndex=0;const Ue=it.exec(gi);if(Ue){const $e=Ue.indices[1][0]+1,bt=Ue.indices[1][1]+1,ft={startLineNumber:Ze,startColumn:$e,endLineNumber:Ze,endColumn:bt};if(ft.endColumn>ft.startColumn){const Ye=Ki(vi({range:ft},He(Ue[1])),{shouldBeInComments:!0});(Ye.text||Ye.hasSeparatorLine)&&dt.push(Ye)}}}function He(gi){gi=gi.trim();const Ze=gi.startsWith("-");return gi=gi.replace(yt,""),{text:gi,hasSeparatorLine:Ze}}class Ct extends G{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}findMatches(Ze){const dt=[];for(let Ue=0;Ue<this._lines.length;Ue++){const $e=this._lines[Ue],bt=this.offsetAt(new I.L(Ue+1,1)),ft=$e.matchAll(Ze);for(const Ye of ft)(Ye.index||Ye.index===0)&&(Ye.index=Ye.index+bt),dt.push(Ye)}return dt}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(Ze){return this._lines[Ze-1]}getWordAtPosition(Ze,dt){const Ue=(0,j.t2)(Ze.column,(0,j.eq)(dt),this._lines[Ze.lineNumber-1],0);return Ue?new Z.e(Ze.lineNumber,Ue.startColumn,Ze.lineNumber,Ue.endColumn):null}words(Ze){const dt=this._lines,Ue=this._wordenize.bind(this);let $e=0,bt="",ft=0,Ye=[];return{*[Symbol.iterator](){for(;;)if(ft<Ye.length){const vt=bt.substring(Ye[ft].start,Ye[ft].end);ft+=1,yield vt}else if($e<dt.length)bt=dt[$e],Ye=Ue(bt,Ze),ft=0,$e+=1;else break}}}getLineWords(Ze,dt){const Ue=this._lines[Ze-1],$e=this._wordenize(Ue,dt),bt=[];for(const ft of $e)bt.push({word:Ue.substring(ft.start,ft.end),startColumn:ft.start+1,endColumn:ft.end+1});return bt}_wordenize(Ze,dt){const Ue=[];let $e;for(dt.lastIndex=0;($e=dt.exec(Ze))&&$e[0].length!==0;)Ue.push({start:$e.index,end:$e.index+$e[0].length});return Ue}getValueInRange(Ze){if(Ze=this._validateRange(Ze),Ze.startLineNumber===Ze.endLineNumber)return this._lines[Ze.startLineNumber-1].substring(Ze.startColumn-1,Ze.endColumn-1);const dt=this._eol,Ue=Ze.startLineNumber-1,$e=Ze.endLineNumber-1,bt=[];bt.push(this._lines[Ue].substring(Ze.startColumn-1));for(let ft=Ue+1;ft<$e;ft++)bt.push(this._lines[ft]);return bt.push(this._lines[$e].substring(0,Ze.endColumn-1)),bt.join(dt)}offsetAt(Ze){return Ze=this._validatePosition(Ze),this._ensureLineStarts(),this._lineStarts.getPrefixSum(Ze.lineNumber-2)+(Ze.column-1)}positionAt(Ze){Ze=Math.floor(Ze),Ze=Math.max(0,Ze),this._ensureLineStarts();const dt=this._lineStarts.getIndexOf(Ze),Ue=this._lines[dt.index].length;return{lineNumber:1+dt.index,column:1+Math.min(dt.remainder,Ue)}}_validateRange(Ze){const dt=this._validatePosition({lineNumber:Ze.startLineNumber,column:Ze.startColumn}),Ue=this._validatePosition({lineNumber:Ze.endLineNumber,column:Ze.endColumn});return dt.lineNumber!==Ze.startLineNumber||dt.column!==Ze.startColumn||Ue.lineNumber!==Ze.endLineNumber||Ue.column!==Ze.endColumn?{startLineNumber:dt.lineNumber,startColumn:dt.column,endLineNumber:Ue.lineNumber,endColumn:Ue.column}:Ze}_validatePosition(Ze){if(!I.L.isIPosition(Ze))throw new Error("bad position");let{lineNumber:dt,column:Ue}=Ze,$e=!1;if(dt<1)dt=1,Ue=1,$e=!0;else if(dt>this._lines.length)dt=this._lines.length,Ue=this._lines[dt-1].length+1,$e=!0;else{const bt=this._lines[dt-1].length+1;Ue<1?(Ue=1,$e=!0):Ue>bt&&(Ue=bt,$e=!0)}return $e?{lineNumber:dt,column:Ue}:Ze}}class Gt{constructor(Ze,dt){this._host=Ze,this._models=Object.create(null),this._foreignModuleFactory=dt,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(Ze){return this._models[Ze]}_getModels(){const Ze=[];return Object.keys(this._models).forEach(dt=>Ze.push(this._models[dt])),Ze}acceptNewModel(Ze){this._models[Ze.url]=new Ct(P.o.parse(Ze.url),Ze.lines,Ze.EOL,Ze.versionId)}acceptModelChanged(Ze,dt){if(!this._models[Ze])return;this._models[Ze].onEvents(dt)}acceptRemovedModel(Ze){this._models[Ze]&&delete this._models[Ze]}computeUnicodeHighlights(Ze,dt,Ue){return Ft(this,null,function*(){const $e=this._getModel(Ze);return $e?We.a.computeUnicodeHighlights($e,dt,Ue):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}findSectionHeaders(Ze,dt){return Ft(this,null,function*(){const Ue=this._getModel(Ze);return Ue?$t(Ue,dt):[]})}computeDiff(Ze,dt,Ue,$e){return Ft(this,null,function*(){const bt=this._getModel(Ze),ft=this._getModel(dt);return!bt||!ft?null:Gt.computeDiff(bt,ft,Ue,$e)})}static computeDiff(Ze,dt,Ue,$e){const bt=$e==="advanced"?de.getDefault():de.getLegacy(),ft=Ze.getLinesContent(),Ye=dt.getLinesContent(),vt=bt.computeDiff(ft,Ye,Ue),nt=vt.changes.length>0?!1:this._modelsAreIdentical(Ze,dt);function Ge(rt){return rt.map(st=>{var tt;return[st.original.startLineNumber,st.original.endLineNumberExclusive,st.modified.startLineNumber,st.modified.endLineNumberExclusive,(tt=st.innerChanges)===null||tt===void 0?void 0:tt.map(_t=>[_t.originalRange.startLineNumber,_t.originalRange.startColumn,_t.originalRange.endLineNumber,_t.originalRange.endColumn,_t.modifiedRange.startLineNumber,_t.modifiedRange.startColumn,_t.modifiedRange.endLineNumber,_t.modifiedRange.endColumn])]})}return{identical:nt,quitEarly:vt.hitTimeout,changes:Ge(vt.changes),moves:vt.moves.map(rt=>[rt.lineRangeMapping.original.startLineNumber,rt.lineRangeMapping.original.endLineNumberExclusive,rt.lineRangeMapping.modified.startLineNumber,rt.lineRangeMapping.modified.endLineNumberExclusive,Ge(rt.changes)])}}static _modelsAreIdentical(Ze,dt){const Ue=Ze.getLineCount(),$e=dt.getLineCount();if(Ue!==$e)return!1;for(let bt=1;bt<=Ue;bt++){const ft=Ze.getLineContent(bt),Ye=dt.getLineContent(bt);if(ft!==Ye)return!1}return!0}computeMoreMinimalEdits(Ze,dt,Ue){return Ft(this,null,function*(){const $e=this._getModel(Ze);if(!$e)return dt;const bt=[];let ft;dt=dt.slice(0).sort((vt,nt)=>{if(vt.range&&nt.range)return Z.e.compareRangesUsingStarts(vt.range,nt.range);const Ge=vt.range?0:1,rt=nt.range?0:1;return Ge-rt});let Ye=0;for(let vt=1;vt<dt.length;vt++)Z.e.getEndPosition(dt[Ye].range).equals(Z.e.getStartPosition(dt[vt].range))?(dt[Ye].range=Z.e.fromPositions(Z.e.getStartPosition(dt[Ye].range),Z.e.getEndPosition(dt[vt].range)),dt[Ye].text+=dt[vt].text):(Ye++,dt[Ye]=dt[vt]);dt.length=Ye+1;for(let{range:vt,text:nt,eol:Ge}of dt){if(typeof Ge=="number"&&(ft=Ge),Z.e.isEmpty(vt)&&!nt)continue;const rt=$e.getValueInRange(vt);if(nt=nt.replace(/\r\n|\n|\r/g,$e.eol),rt===nt)continue;if(Math.max(nt.length,rt.length)>Gt._diffLimit){bt.push({range:vt,text:nt});continue}const st=(0,A.a$)(rt,nt,Ue),tt=$e.offsetAt(Z.e.lift(vt).getStartPosition());for(const _t of st){const kt=$e.positionAt(tt+_t.originalStart),at=$e.positionAt(tt+_t.originalStart+_t.originalLength),ht={text:nt.substr(_t.modifiedStart,_t.modifiedLength),range:{startLineNumber:kt.lineNumber,startColumn:kt.column,endLineNumber:at.lineNumber,endColumn:at.column}};$e.getValueInRange(ht.range)!==ht.text&&bt.push(ht)}}return typeof ft=="number"&&bt.push({eol:ft,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),bt})}computeLinks(Ze){return Ft(this,null,function*(){const dt=this._getModel(Ze);return dt?re(dt):null})}computeDefaultDocumentColors(Ze){return Ft(this,null,function*(){const dt=this._getModel(Ze);return dt?ti(dt):null})}textualSuggest(Ze,dt,Ue,$e){return Ft(this,null,function*(){const bt=new we.G,ft=new RegExp(Ue,$e),Ye=new Set;e:for(const vt of Ze){const nt=this._getModel(vt);if(nt){for(const Ge of nt.words(ft))if(!(Ge===dt||!isNaN(Number(Ge)))&&(Ye.add(Ge),Ye.size>Gt._suggestionsLimit))break e}}return{words:Array.from(Ye),duration:bt.elapsed()}})}computeWordRanges(Ze,dt,Ue,$e){return Ft(this,null,function*(){const bt=this._getModel(Ze);if(!bt)return Object.create(null);const ft=new RegExp(Ue,$e),Ye=Object.create(null);for(let vt=dt.startLineNumber;vt<dt.endLineNumber;vt++){const nt=bt.getLineWords(vt,ft);for(const Ge of nt){if(!isNaN(Number(Ge.word)))continue;let rt=Ye[Ge.word];rt||(rt=[],Ye[Ge.word]=rt),rt.push({startLineNumber:vt,startColumn:Ge.startColumn,endLineNumber:vt,endColumn:Ge.endColumn})}}return Ye})}navigateValueSet(Ze,dt,Ue,$e,bt){return Ft(this,null,function*(){const ft=this._getModel(Ze);if(!ft)return null;const Ye=new RegExp($e,bt);dt.startColumn===dt.endColumn&&(dt={startLineNumber:dt.startLineNumber,startColumn:dt.startColumn,endLineNumber:dt.endLineNumber,endColumn:dt.endColumn+1});const vt=ft.getValueInRange(dt),nt=ft.getWordAtPosition({lineNumber:dt.startLineNumber,column:dt.startColumn},Ye);if(!nt)return null;const Ge=ft.getValueInRange(nt);return he.INSTANCE.navigateValueSet(dt,vt,nt,Ge,Ue)})}loadForeignModule(Ze,dt,Ue){const $e=(Ye,vt)=>this._host.fhr(Ye,vt),ft={host:(0,S.IU)(Ue,$e),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(ft,dt),Promise.resolve((0,S.$E)(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(Ze,dt){if(!this._foreignModule||typeof this._foreignModule[Ze]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+Ze));try{return Promise.resolve(this._foreignModule[Ze].apply(this._foreignModule,dt))}catch(Ue){return Promise.reject(Ue)}}}Gt._diffLimit=1e5,Gt._suggestionsLimit=1e4;function Di(gi){return new Gt(gi,null)}typeof importScripts=="function"&&(globalThis.monaco=(0,M.O)());var $i=e(12692),Bi=e(15628),Vi=e(71221),Ji=e(61629),wn=e(70546),yn=e(44454),Cn=e(91540),an=function(gi,Ze,dt,Ue){var $e=arguments.length,bt=$e<3?Ze:Ue===null?Ue=Object.getOwnPropertyDescriptor(Ze,dt):Ue,ft;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")bt=Reflect.decorate(gi,Ze,dt,Ue);else for(var Ye=gi.length-1;Ye>=0;Ye--)(ft=gi[Ye])&&(bt=($e<3?ft(bt):$e>3?ft(Ze,dt,bt):ft(Ze,dt))||bt);return $e>3&&bt&&Object.defineProperty(Ze,dt,bt),bt},Rn=function(gi,Ze){return function(dt,Ue){Ze(dt,Ue,gi)}};const kn=60*1e3,fn=5*60*1e3;function On(gi,Ze){const dt=gi.getModel(Ze);return!(!dt||dt.isTooLargeForSyncing())}let xn=class extends B.JT{constructor(Ze,dt,Ue,$e,bt){super(),this._modelService=Ze,this._workerManager=this._register(new Zt(this._modelService,$e)),this._logService=Ue,this._register(bt.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(ft,Ye)=>On(this._modelService,ft.uri)?this._workerManager.withWorker().then(vt=>vt.computeLinks(ft.uri)).then(vt=>vt&&{links:vt}):Promise.resolve({links:[]})})),this._register(bt.completionProvider.register("*",new An(this._workerManager,dt,this._modelService,$e)))}dispose(){super.dispose()}canComputeUnicodeHighlights(Ze){return On(this._modelService,Ze)}computedUnicodeHighlights(Ze,dt,Ue){return this._workerManager.withWorker().then($e=>$e.computedUnicodeHighlights(Ze,dt,Ue))}computeDiff(Ze,dt,Ue,$e){return Ft(this,null,function*(){const bt=yield this._workerManager.withWorker().then(vt=>vt.computeDiff(Ze,dt,Ue,$e));if(!bt)return null;return{identical:bt.identical,quitEarly:bt.quitEarly,changes:Ye(bt.changes),moves:bt.moves.map(vt=>new ye.y(new X.f0(new Ee.z(vt[0],vt[1]),new Ee.z(vt[2],vt[3])),Ye(vt[4])))};function Ye(vt){return vt.map(nt=>{var Ge;return new X.gB(new Ee.z(nt[0],nt[1]),new Ee.z(nt[2],nt[3]),(Ge=nt[4])===null||Ge===void 0?void 0:Ge.map(rt=>new X.iy(new Z.e(rt[0],rt[1],rt[2],rt[3]),new Z.e(rt[4],rt[5],rt[6],rt[7]))))})}})}computeMoreMinimalEdits(Ze,dt,Ue=!1){if((0,Vi.Of)(dt)){if(!On(this._modelService,Ze))return Promise.resolve(dt);const $e=we.G.create(),bt=this._workerManager.withWorker().then(ft=>ft.computeMoreMinimalEdits(Ze,dt,Ue));return bt.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",Ze.toString(!0),$e.elapsed())),Promise.race([bt,(0,o.Vs)(1e3).then(()=>dt)])}else return Promise.resolve(void 0)}canNavigateValueSet(Ze){return On(this._modelService,Ze)}navigateValueSet(Ze,dt,Ue){return this._workerManager.withWorker().then($e=>$e.navigateValueSet(Ze,dt,Ue))}canComputeWordRanges(Ze){return On(this._modelService,Ze)}computeWordRanges(Ze,dt){return this._workerManager.withWorker().then(Ue=>Ue.computeWordRanges(Ze,dt))}findSectionHeaders(Ze,dt){return this._workerManager.withWorker().then(Ue=>Ue.findSectionHeaders(Ze,dt))}};xn=an([Rn(0,$i.q),Rn(1,Bi.V),Rn(2,Ji.VZ),Rn(3,z.c_),Rn(4,wn.p)],xn);class An{constructor(Ze,dt,Ue,$e){this.languageConfigurationService=$e,this._debugDisplayName="wordbasedCompletions",this._workerManager=Ze,this._configurationService=dt,this._modelService=Ue}provideCompletionItems(Ze,dt){return Ft(this,null,function*(){const Ue=this._configurationService.getValue(Ze.uri,dt,"editor");if(Ue.wordBasedSuggestions==="off")return;const $e=[];if(Ue.wordBasedSuggestions==="currentDocument")On(this._modelService,Ze.uri)&&$e.push(Ze.uri);else for(const rt of this._modelService.getModels())On(this._modelService,rt.uri)&&(rt===Ze?$e.unshift(rt.uri):(Ue.wordBasedSuggestions==="allDocuments"||rt.getLanguageId()===Ze.getLanguageId())&&$e.push(rt.uri));if($e.length===0)return;const bt=this.languageConfigurationService.getLanguageConfiguration(Ze.getLanguageId()).getWordDefinition(),ft=Ze.getWordAtPosition(dt),Ye=ft?new Z.e(dt.lineNumber,ft.startColumn,dt.lineNumber,ft.endColumn):Z.e.fromPositions(dt),vt=Ye.setEndPosition(dt.lineNumber,dt.column),Ge=yield(yield this._workerManager.withWorker()).textualSuggest($e,ft==null?void 0:ft.word,bt);if(Ge)return{duration:Ge.duration,suggestions:Ge.words.map(rt=>({kind:18,label:rt,insertText:rt,range:{insert:vt,replace:Ye}}))}})}}class Zt extends B.JT{constructor(Ze,dt){super(),this.languageConfigurationService=dt,this._modelService=Ze,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new Cn.ne).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(fn/2),yn.E),this._register(this._modelService.onModelRemoved($e=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>fn&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new Zi(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class ci extends B.JT{constructor(Ze,dt,Ue){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=Ze,this._modelService=dt,!Ue){const $e=new o.zh;$e.cancelAndSet(()=>this._checkStopModelSync(),Math.round(kn/2)),this._register($e)}}dispose(){for(const Ze in this._syncedModels)(0,B.B9)(this._syncedModels[Ze]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(Ze,dt){for(const Ue of Ze){const $e=Ue.toString();this._syncedModels[$e]||this._beginModelSync(Ue,dt),this._syncedModels[$e]&&(this._syncedModelsLastUsedTime[$e]=new Date().getTime())}}_checkStopModelSync(){const Ze=new Date().getTime(),dt=[];for(const Ue in this._syncedModelsLastUsedTime)Ze-this._syncedModelsLastUsedTime[Ue]>kn&&dt.push(Ue);for(const Ue of dt)this._stopModelSync(Ue)}_beginModelSync(Ze,dt){const Ue=this._modelService.getModel(Ze);if(!Ue||!dt&&Ue.isTooLargeForSyncing())return;const $e=Ze.toString();this._proxy.acceptNewModel({url:Ue.uri.toString(),lines:Ue.getLinesContent(),EOL:Ue.getEOL(),versionId:Ue.getVersionId()});const bt=new B.SL;bt.add(Ue.onDidChangeContent(ft=>{this._proxy.acceptModelChanged($e.toString(),ft)})),bt.add(Ue.onWillDispose(()=>{this._stopModelSync($e)})),bt.add((0,B.OF)(()=>{this._proxy.acceptRemovedModel($e)})),this._syncedModels[$e]=bt}_stopModelSync(Ze){const dt=this._syncedModels[Ze];delete this._syncedModels[Ze],delete this._syncedModelsLastUsedTime[Ze],(0,B.B9)(dt)}}class _i{constructor(Ze){this._instance=Ze,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class Ri{constructor(Ze){this._workerClient=Ze}fhr(Ze,dt){return this._workerClient.fhr(Ze,dt)}}class Zi extends B.JT{constructor(Ze,dt,Ue,$e){super(),this.languageConfigurationService=$e,this._disposed=!1,this._modelService=Ze,this._keepIdleModels=dt,this._workerFactory=new K(Ue),this._worker=null,this._modelManager=null}fhr(Ze,dt){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new u(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new Ri(this)))}catch(Ze){m(Ze),this._worker=new _i(new Gt(new Ri(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,Ze=>(m(Ze),this._worker=new _i(new Gt(new Ri(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(Ze){return this._modelManager||(this._modelManager=this._register(new ci(Ze,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(Ze,dt=!1){return Ft(this,null,function*(){return this._disposed?Promise.reject((0,x.F0)()):this._getProxy().then(Ue=>(this._getOrCreateModelManager(Ue).ensureSyncedResources(Ze,dt),Ue))})}computedUnicodeHighlights(Ze,dt,Ue){return this._withSyncedResources([Ze]).then($e=>$e.computeUnicodeHighlights(Ze.toString(),dt,Ue))}computeDiff(Ze,dt,Ue,$e){return this._withSyncedResources([Ze,dt],!0).then(bt=>bt.computeDiff(Ze.toString(),dt.toString(),Ue,$e))}computeMoreMinimalEdits(Ze,dt,Ue){return this._withSyncedResources([Ze]).then($e=>$e.computeMoreMinimalEdits(Ze.toString(),dt,Ue))}computeLinks(Ze){return this._withSyncedResources([Ze]).then(dt=>dt.computeLinks(Ze.toString()))}computeDefaultDocumentColors(Ze){return this._withSyncedResources([Ze]).then(dt=>dt.computeDefaultDocumentColors(Ze.toString()))}textualSuggest(Ze,dt,Ue){return Ft(this,null,function*(){const $e=yield this._withSyncedResources(Ze),bt=Ue.source,ft=Ue.flags;return $e.textualSuggest(Ze.map(Ye=>Ye.toString()),dt,bt,ft)})}computeWordRanges(Ze,dt){return this._withSyncedResources([Ze]).then(Ue=>{const $e=this._modelService.getModel(Ze);if(!$e)return Promise.resolve(null);const bt=this.languageConfigurationService.getLanguageConfiguration($e.getLanguageId()).getWordDefinition(),ft=bt.source,Ye=bt.flags;return Ue.computeWordRanges(Ze.toString(),dt,ft,Ye)})}navigateValueSet(Ze,dt,Ue){return this._withSyncedResources([Ze]).then($e=>{const bt=this._modelService.getModel(Ze);if(!bt)return null;const ft=this.languageConfigurationService.getLanguageConfiguration(bt.getLanguageId()).getWordDefinition(),Ye=ft.source,vt=ft.flags;return $e.navigateValueSet(Ze.toString(),dt,Ue,Ye,vt)})}findSectionHeaders(Ze,dt){return this._withSyncedResources([Ze]).then(Ue=>Ue.findSectionHeaders(Ze.toString(),dt))}dispose(){super.dispose(),this._disposed=!0}}},1356:function(et,Le,e){"use strict";e.d(Le,{Z:function(){return o}});class o{static capture(x){if(x.getScrollTop()===0||x.hasPendingScrollAnimation())return new o(x.getScrollTop(),x.getContentHeight(),null,0,null);let O=null,S=0;const p=x.getVisibleRanges();if(p.length>0){O=p[0].getStartPosition();const E=x.getTopForPosition(O.lineNumber,O.column);S=x.getScrollTop()-E}return new o(x.getScrollTop(),x.getContentHeight(),O,S,x.getPosition())}constructor(x,O,S,p,E){this._initialScrollTop=x,this._initialContentHeight=O,this._visiblePosition=S,this._visiblePositionScrollDelta=p,this._cursorPosition=E}restore(x){if(!(this._initialContentHeight===x.getContentHeight()&&this._initialScrollTop===x.getScrollTop())&&this._visiblePosition){const O=x.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);x.setScrollTop(O+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(x){if(this._initialContentHeight===x.getContentHeight()&&this._initialScrollTop===x.getScrollTop())return;const O=x.getPosition();if(!this._cursorPosition||!O)return;const S=x.getTopForLineNumber(O.lineNumber)-x.getTopForLineNumber(this._cursorPosition.lineNumber);x.setScrollTop(x.getScrollTop()+S)}}},25122:function(et,Le,e){"use strict";e.d(Le,{CH:function(){return E},CR:function(){return S},D4:function(){return p},u7:function(){return x},xh:function(){return B},yu:function(){return O}});class o{constructor(w,m){this._restrictedRenderingContextBrand=void 0,this._viewLayout=w,this.viewportData=m,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const g=this._viewLayout.getCurrentViewport();this.scrollTop=g.top,this.scrollLeft=g.left,this.viewportWidth=g.width,this.viewportHeight=g.height}getScrolledTopFromAbsoluteTop(w){return w-this.scrollTop}getVerticalOffsetForLineNumber(w,m){return this._viewLayout.getVerticalOffsetForLineNumber(w,m)}getVerticalOffsetAfterLineNumber(w,m){return this._viewLayout.getVerticalOffsetAfterLineNumber(w,m)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class B extends o{constructor(w,m,g){super(w,m),this._renderingContextBrand=void 0,this._viewLines=g}linesVisibleRangesForRange(w,m){return this._viewLines.linesVisibleRangesForRange(w,m)}visibleRangeForPosition(w){return this._viewLines.visibleRangeForPosition(w)}}class x{constructor(w,m,g,a){this.outsideRenderedLine=w,this.lineNumber=m,this.ranges=g,this.continuesOnNextLine=a}}class O{static from(w){const m=new Array(w.length);for(let g=0,a=w.length;g<a;g++){const r=w[g];m[g]=new O(r.left,r.width)}return m}constructor(w,m){this._horizontalRangeBrand=void 0,this.left=Math.round(w),this.width=Math.round(m)}toString(){return`[${this.left},${this.width}]`}}class S{constructor(w,m){this._floatHorizontalRangeBrand=void 0,this.left=w,this.width=m}toString(){return`[${this.left},${this.width}]`}static compare(w,m){return w.left-m.left}}class p{constructor(w,m){this.outsideRenderedLine=w,this.originalLeft=m,this.left=Math.round(this.originalLeft)}}class E{constructor(w,m){this.outsideRenderedLine=w,this.ranges=m}}},50052:function(et,Le,e){"use strict";e.d(Le,{Nt:function(){return r},ob:function(){return a},dL:function(){return f}});var o=e(18119),B=e(76204),x=e(15122),O=e(25122);class S{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(C,_){C.selectNodeContents(_)}static _readClientRects(C,_,N,b,k){const V=this._createRange();try{return V.setStart(C,_),V.setEnd(N,b),V.getClientRects()}catch(K){return null}finally{this._detachRange(V,k)}}static _mergeAdjacentRanges(C){if(C.length===1)return C;C.sort(O.CR.compare);const _=[];let N=0,b=C[0];for(let k=1,V=C.length;k<V;k++){const K=C[k];b.left+b.width+.9>=K.left?b.width=Math.max(b.width,K.left+K.width-b.left):(_[N++]=b,b=K)}return _[N++]=b,_}static _createHorizontalRangesFromClientRects(C,_,N){if(!C||C.length===0)return null;const b=[];for(let k=0,V=C.length;k<V;k++){const K=C[k];b[k]=new O.CR(Math.max(0,(K.left-_)/N),K.width/N)}return this._mergeAdjacentRanges(b)}static readHorizontalRanges(C,_,N,b,k,V){const Z=C.children.length-1;if(0>Z)return null;if(_=Math.min(Z,Math.max(0,_)),b=Math.min(Z,Math.max(0,b)),_===b&&N===k&&N===0&&!C.children[_].firstChild){const I=C.children[_].getClientRects();return V.markDidDomLayout(),this._createHorizontalRangesFromClientRects(I,V.clientRectDeltaLeft,V.clientRectScale)}_!==b&&b>0&&k===0&&(b--,k=1073741824);let z=C.children[_].firstChild,A=C.children[b].firstChild;if((!z||!A)&&(!z&&N===0&&_>0&&(z=C.children[_-1].firstChild,N=1073741824),!A&&k===0&&b>0&&(A=C.children[b-1].firstChild,k=1073741824)),!z||!A)return null;N=Math.min(z.textContent.length,Math.max(0,N)),k=Math.min(A.textContent.length,Math.max(0,k));const P=this._readClientRects(z,N,A,k,V.endNode);return V.markDidDomLayout(),this._createHorizontalRangesFromClientRects(P,V.clientRectDeltaLeft,V.clientRectScale)}}var p=e(84170),E=e(65158),R=e(98618),w=e(75625);const m=function(){return x.tY?!0:!(x.IJ||o.vU||o.G6)}();let g=!0;class a{constructor(C,_){this.themeType=_;const N=C.options,b=N.get(50);N.get(38)==="off"?this.renderWhitespace=N.get(99):this.renderWhitespace="none",this.renderControlCharacters=N.get(94),this.spaceWidth=b.spaceWidth,this.middotWidth=b.middotWidth,this.wsmiddotWidth=b.wsmiddotWidth,this.useMonospaceOptimizations=b.isMonospace&&!N.get(33),this.canUseHalfwidthRightwardsArrow=b.canUseHalfwidthRightwardsArrow,this.lineHeight=N.get(67),this.stopRenderingLineAfter=N.get(117),this.fontLigatures=N.get(51)}equals(C){return this.themeType===C.themeType&&this.renderWhitespace===C.renderWhitespace&&this.renderControlCharacters===C.renderControlCharacters&&this.spaceWidth===C.spaceWidth&&this.middotWidth===C.middotWidth&&this.wsmiddotWidth===C.wsmiddotWidth&&this.useMonospaceOptimizations===C.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===C.canUseHalfwidthRightwardsArrow&&this.lineHeight===C.lineHeight&&this.stopRenderingLineAfter===C.stopRenderingLineAfter&&this.fontLigatures===C.fontLigatures}}class r{constructor(C){this._options=C,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(C){if(this._renderedViewLine)this._renderedViewLine.domNode=(0,B.X)(C);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(C){this._isMaybeInvalid=!0,this._options=C}onSelectionChanged(){return(0,R.c3)(this._options.themeType)||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(C,_,N,b,k){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const V=b.getViewLineRenderingData(C),K=this._options,Z=p.Kp.filter(V.inlineDecorations,C,V.minColumn,V.maxColumn);let z=null;if((0,R.c3)(K.themeType)||this._options.renderWhitespace==="selection"){const W=b.selections;for(const G of W){if(G.endLineNumber<C||G.startLineNumber>C)continue;const j=G.startLineNumber===C?G.startColumn:V.minColumn,Y=G.endLineNumber===C?G.endColumn:V.maxColumn;j<Y&&((0,R.c3)(K.themeType)&&Z.push(new p.Kp(j,Y,"inline-selected-text",0)),this._options.renderWhitespace==="selection"&&(z||(z=[]),z.push(new E.zG(j-1,Y-1))))}}const A=new E.IJ(K.useMonospaceOptimizations,K.canUseHalfwidthRightwardsArrow,V.content,V.continuesWithWrappedLine,V.isBasicASCII,V.containsRTL,V.minColumn-1,V.tokens,Z,V.tabSize,V.startVisibleColumn,K.spaceWidth,K.middotWidth,K.wsmiddotWidth,K.stopRenderingLineAfter,K.renderWhitespace,K.renderControlCharacters,K.fontLigatures!==w.n0.OFF,z);if(this._renderedViewLine&&this._renderedViewLine.input.equals(A))return!1;k.appendString('<div style="top:'),k.appendString(String(_)),k.appendString("px;height:"),k.appendString(String(N)),k.appendString('px;" class="'),k.appendString(r.CLASS_NAME),k.appendString('">');const P=(0,E.d1)(A,k);k.appendString("</div>");let I=null;return g&&m&&V.isBasicASCII&&K.useMonospaceOptimizations&&P.containsForeignElements===0&&(I=new i(this._renderedViewLine?this._renderedViewLine.domNode:null,A,P.characterMapping)),I||(I=u(this._renderedViewLine?this._renderedViewLine.domNode:null,A,P.characterMapping,P.containsRTL,P.containsForeignElements)),this._renderedViewLine=I,!0}layoutLine(C,_,N){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(_),this._renderedViewLine.domNode.setHeight(N))}getWidth(C){return this._renderedViewLine?this._renderedViewLine.getWidth(C):0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof i:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof i?this._renderedViewLine.monospaceAssumptionsAreValid():g}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof i&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(C,_,N,b){if(!this._renderedViewLine)return null;_=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,_)),N=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,N));const k=this._renderedViewLine.input.stopRenderingLineAfter;if(k!==-1&&_>k+1&&N>k+1)return new O.CH(!0,[new O.CR(this.getWidth(b),0)]);k!==-1&&_>k+1&&(_=k+1),k!==-1&&N>k+1&&(N=k+1);const V=this._renderedViewLine.getVisibleRangesForRange(C,_,N,b);return V&&V.length>0?new O.CH(!1,V):null}getColumnOfNodeOffset(C,_){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(C,_):1}}r.CLASS_NAME="view-line";class i{constructor(C,_,N){this._cachedWidth=-1,this.domNode=C,this.input=_;const b=Math.floor(_.lineContent.length/300);if(b>0){this._keyColumnPixelOffsetCache=new Float32Array(b);for(let k=0;k<b;k++)this._keyColumnPixelOffsetCache[k]=-1}else this._keyColumnPixelOffsetCache=null;this._characterMapping=N,this._charWidth=_.spaceWidth}getWidth(C){if(!this.domNode||this.input.lineContent.length<300){const _=this._characterMapping.getHorizontalOffset(this._characterMapping.length);return Math.round(this._charWidth*_)}return this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,C==null||C.markDidDomLayout()),this._cachedWidth}getWidthIsFast(){return this.input.lineContent.length<300||this._cachedWidth!==-1}monospaceAssumptionsAreValid(){if(!this.domNode)return g;if(this.input.lineContent.length<300){const C=this.getWidth(null),_=this.domNode.domNode.firstChild.offsetWidth;Math.abs(C-_)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),g=!1)}return g}toSlowRenderedLine(){return u(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(C,_,N,b){const k=this._getColumnPixelOffset(C,_,b),V=this._getColumnPixelOffset(C,N,b);return[new O.CR(k,V-k)]}_getColumnPixelOffset(C,_,N){if(_<=300){const z=this._characterMapping.getHorizontalOffset(_);return this._charWidth*z}const b=Math.floor((_-1)/300)-1,k=(b+1)*300+1;let V=-1;if(this._keyColumnPixelOffsetCache&&(V=this._keyColumnPixelOffsetCache[b],V===-1&&(V=this._actualReadPixelOffset(C,k,N),this._keyColumnPixelOffsetCache[b]=V)),V===-1){const z=this._characterMapping.getHorizontalOffset(_);return this._charWidth*z}const K=this._characterMapping.getHorizontalOffset(k),Z=this._characterMapping.getHorizontalOffset(_);return V+this._charWidth*(Z-K)}_getReadingTarget(C){return C.domNode.firstChild}_actualReadPixelOffset(C,_,N){if(!this.domNode)return-1;const b=this._characterMapping.getDomPosition(_),k=S.readHorizontalRanges(this._getReadingTarget(this.domNode),b.partIndex,b.charIndex,b.partIndex,b.charIndex,N);return!k||k.length===0?-1:k[0].left}getColumnOfNodeOffset(C,_){return f(this._characterMapping,C,_)}}class n{constructor(C,_,N,b,k){if(this.domNode=C,this.input=_,this._characterMapping=N,this._isWhitespaceOnly=/^\s*$/.test(_.lineContent),this._containsForeignElements=k,this._cachedWidth=-1,this._pixelOffsetCache=null,!b||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let V=0,K=this._characterMapping.length;V<=K;V++)this._pixelOffsetCache[V]=-1}}_getReadingTarget(C){return C.domNode.firstChild}getWidth(C){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,C==null||C.markDidDomLayout()),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(C,_,N,b){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const k=this._readPixelOffset(this.domNode,C,_,b);if(k===-1)return null;const V=this._readPixelOffset(this.domNode,C,N,b);return V===-1?null:[new O.CR(k,V-k)]}return this._readVisibleRangesForRange(this.domNode,C,_,N,b)}_readVisibleRangesForRange(C,_,N,b,k){if(N===b){const V=this._readPixelOffset(C,_,N,k);return V===-1?null:[new O.CR(V,0)]}else return this._readRawVisibleRangesForRange(C,N,b,k)}_readPixelOffset(C,_,N,b){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth(b);const k=this._getReadingTarget(C);return k.firstChild?(b.markDidDomLayout(),k.firstChild.offsetWidth):0}if(this._pixelOffsetCache!==null){const k=this._pixelOffsetCache[N];if(k!==-1)return k;const V=this._actualReadPixelOffset(C,_,N,b);return this._pixelOffsetCache[N]=V,V}return this._actualReadPixelOffset(C,_,N,b)}_actualReadPixelOffset(C,_,N,b){if(this._characterMapping.length===0){const Z=S.readHorizontalRanges(this._getReadingTarget(C),0,0,0,0,b);return!Z||Z.length===0?-1:Z[0].left}if(N===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth(b);const k=this._characterMapping.getDomPosition(N),V=S.readHorizontalRanges(this._getReadingTarget(C),k.partIndex,k.charIndex,k.partIndex,k.charIndex,b);if(!V||V.length===0)return-1;const K=V[0].left;if(this.input.isBasicASCII){const Z=this._characterMapping.getHorizontalOffset(N),z=Math.round(this.input.spaceWidth*Z);if(Math.abs(z-K)<=1)return z}return K}_readRawVisibleRangesForRange(C,_,N,b){if(_===1&&N===this._characterMapping.length)return[new O.CR(0,this.getWidth(b))];const k=this._characterMapping.getDomPosition(_),V=this._characterMapping.getDomPosition(N);return S.readHorizontalRanges(this._getReadingTarget(C),k.partIndex,k.charIndex,V.partIndex,V.charIndex,b)}getColumnOfNodeOffset(C,_){return f(this._characterMapping,C,_)}}class c extends n{_readVisibleRangesForRange(C,_,N,b,k){const V=super._readVisibleRangesForRange(C,_,N,b,k);if(!V||V.length===0||N===b||N===1&&b===this._characterMapping.length)return V;if(!this.input.containsRTL){const K=this._readPixelOffset(C,_,b,k);if(K!==-1){const Z=V[V.length-1];Z.left<K&&(Z.width=K-Z.left)}}return V}}const u=function(){return o.Pf?l:D}();function l(y,C,_,N,b){return new c(y,C,_,N,b)}function D(y,C,_,N,b){return new n(y,C,_,N,b)}function f(y,C,_){const N=C.textContent.length;let b=-1;for(;C;)C=C.previousSibling,b++;return y.getColumn(new E.Nd(b,_),N)}},79150:function(et,Le,e){"use strict";e.d(Le,{Gm:function(){return or}});var o=e(43066),B=e(92635),x=function(Rt,t,d,L){var U=arguments.length,q=U<3?t:L===null?L=Object.getOwnPropertyDescriptor(t,d):L,_e;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(Rt,t,d,L);else for(var Me=Rt.length-1;Me>=0;Me--)(_e=Rt[Me])&&(q=(U<3?_e(q):U>3?_e(t,d,q):_e(t,d))||q);return U>3&&q&&Object.defineProperty(t,d,q),q},O=function(Rt,t){return function(d,L){t(d,L,Rt)}};let S=class{constructor(t,d){}dispose(){}};S.ID="editor.contrib.markerDecorations",S=x([O(1,o.i)],S),(0,B._K)(S.ID,S,0);var p=e(91540),E=e(25602),R=e(79329),w=e(45029),m=e(91649),g=e(43901),a=e(18119),r=e(71221),i=e(94920),n=e(15122),c=e(84669),u=e(10298);class l{constructor(t,d){this.key=t,this.migrate=d}apply(t){const d=l._read(t,this.key),L=q=>l._read(t,q),U=(q,_e)=>l._write(t,q,_e);this.migrate(d,L,U)}static _read(t,d){if(typeof t=="undefined")return;const L=d.indexOf(".");if(L>=0){const U=d.substring(0,L);return this._read(t[U],d.substring(L+1))}return t[d]}static _write(t,d,L){const U=d.indexOf(".");if(U>=0){const q=d.substring(0,U);t[q]=t[q]||{},this._write(t[q],d.substring(U+1),L);return}t[d]=L}}l.items=[];function D(Rt,t){l.items.push(new l(Rt,t))}function f(Rt,t){D(Rt,(d,L,U)=>{if(typeof d!="undefined"){for(const[q,_e]of t)if(d===q){U(Rt,_e);return}}})}function y(Rt){l.items.forEach(t=>t.apply(Rt))}f("wordWrap",[[!0,"on"],[!1,"off"]]),f("lineNumbers",[[!0,"on"],[!1,"off"]]),f("cursorBlinking",[["visible","solid"]]),f("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),f("renderLineHighlight",[[!0,"line"],[!1,"none"]]),f("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),f("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),f("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),f("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),f("autoIndent",[[!1,"advanced"],[!0,"full"]]),f("matchBrackets",[[!0,"always"],[!1,"never"]]),f("renderFinalNewline",[[!0,"on"],[!1,"off"]]),f("cursorSmoothCaretAnimation",[[!0,"on"],[!1,"off"]]),f("occurrencesHighlight",[[!0,"singleFile"],[!1,"off"]]),f("wordBasedSuggestions",[[!0,"matchingDocuments"],[!1,"off"]]),D("autoClosingBrackets",(Rt,t,d)=>{Rt===!1&&(d("autoClosingBrackets","never"),typeof t("autoClosingQuotes")=="undefined"&&d("autoClosingQuotes","never"),typeof t("autoSurround")=="undefined"&&d("autoSurround","never"))}),D("renderIndentGuides",(Rt,t,d)=>{typeof Rt!="undefined"&&(d("renderIndentGuides",void 0),typeof t("guides.indentation")=="undefined"&&d("guides.indentation",!!Rt))}),D("highlightActiveIndentGuide",(Rt,t,d)=>{typeof Rt!="undefined"&&(d("highlightActiveIndentGuide",void 0),typeof t("guides.highlightActiveIndentation")=="undefined"&&d("guides.highlightActiveIndentation",!!Rt))});const C={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};D("suggest.filteredTypes",(Rt,t,d)=>{if(Rt&&typeof Rt=="object"){for(const L of Object.entries(C))Rt[L[0]]===!1&&typeof t(`suggest.${L[1]}`)=="undefined"&&d(`suggest.${L[1]}`,!1);d("suggest.filteredTypes",void 0)}}),D("quickSuggestions",(Rt,t,d)=>{if(typeof Rt=="boolean"){const L=Rt?"on":"off";d("quickSuggestions",{comments:L,strings:L,other:L})}}),D("experimental.stickyScroll.enabled",(Rt,t,d)=>{typeof Rt=="boolean"&&(d("experimental.stickyScroll.enabled",void 0),typeof t("stickyScroll.enabled")=="undefined"&&d("stickyScroll.enabled",Rt))}),D("experimental.stickyScroll.maxLineCount",(Rt,t,d)=>{typeof Rt=="number"&&(d("experimental.stickyScroll.maxLineCount",void 0),typeof t("stickyScroll.maxLineCount")=="undefined"&&d("stickyScroll.maxLineCount",Rt))}),D("codeActionsOnSave",(Rt,t,d)=>{if(Rt&&typeof Rt=="object"){let L=!1;const U={};for(const q of Object.entries(Rt))typeof q[1]=="boolean"?(L=!0,U[q[0]]=q[1]?"explicit":"never"):U[q[0]]=q[1];L&&d("codeActionsOnSave",U)}}),D("codeActionWidget.includeNearbyQuickfixes",(Rt,t,d)=>{typeof Rt=="boolean"&&(d("codeActionWidget.includeNearbyQuickfixes",void 0),typeof t("codeActionWidget.includeNearbyQuickFixes")=="undefined"&&d("codeActionWidget.includeNearbyQuickFixes",Rt))}),D("lightbulb.enabled",(Rt,t,d)=>{typeof Rt=="boolean"&&d("lightbulb.enabled",Rt?void 0:"off")});var _=e(3422),N=e(75625),b=e(58001),k=e(33525),V=e(84935),K=e(88245),Z=function(Rt,t,d,L){var U=arguments.length,q=U<3?t:L===null?L=Object.getOwnPropertyDescriptor(t,d):L,_e;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(Rt,t,d,L);else for(var Me=Rt.length-1;Me>=0;Me--)(_e=Rt[Me])&&(q=(U<3?_e(q):U>3?_e(t,d,q):_e(t,d))||q);return U>3&&q&&Object.defineProperty(t,d,q),q},z=function(Rt,t){return function(d,L){t(d,L,Rt)}};let A=class extends w.JT{constructor(t,d,L,U,q){super(),this._accessibilityService=q,this._onDidChange=this._register(new R.Q5),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new R.Q5),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._glyphMarginDecorationLaneCount=1,this._computeOptionsMemory=new N.LJ,this.isSimpleWidget=t,this.contextMenuId=d,this._containerObserver=this._register(new c.I(U,L.dimension)),this._targetWindowId=(0,p.Jj)(U).vscodeWindowId,this._rawOptions=Y(L),this._validatedOptions=j.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(13)&&this._containerObserver.startObserving(),this._register(b.C.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(_.n.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(u.g.onDidChange(()=>this._recomputeOptions())),this._register(K.T.getInstance((0,p.Jj)(U)).onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const t=this._computeOptions(),d=j.checkEquals(this.options,t);d!==null&&(this.options=t,this._onDidChangeFast.fire(d),this._onDidChange.fire(d))}_computeOptions(){const t=this._readEnvConfiguration(),d=k.E4.createFromValidatedSettings(this._validatedOptions,t.pixelRatio,this.isSimpleWidget),L=this._readFontInfo(d),U={memory:this._computeOptionsMemory,outerWidth:t.outerWidth,outerHeight:t.outerHeight-this._reservedHeight,fontInfo:L,extraEditorClassName:t.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:t.emptySelectionClipboard,pixelRatio:t.pixelRatio,tabFocusMode:_.n.getTabFocusMode(),accessibilitySupport:t.accessibilitySupport,glyphMarginDecorationLaneCount:this._glyphMarginDecorationLaneCount};return j.computeOptions(this._validatedOptions,U)}_readEnvConfiguration(){return{extraEditorClassName:I(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:a.Pf||a.vU,pixelRatio:K.T.getInstance((0,p.ed)(this._targetWindowId,!0).window).value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(t){return u.g.readFontInfo((0,p.ed)(this._targetWindowId,!0).window,t)}getRawOptions(){return this._rawOptions}updateOptions(t){const d=Y(t);j.applyUpdate(this._rawOptions,d)&&(this._validatedOptions=j.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(t){this._containerObserver.observe(t)}setIsDominatedByLongLines(t){this._isDominatedByLongLines!==t&&(this._isDominatedByLongLines=t,this._recomputeOptions())}setModelLineCount(t){const d=P(t);this._lineNumbersDigitCount!==d&&(this._lineNumbersDigitCount=d,this._recomputeOptions())}setViewLineCount(t){this._viewLineCount!==t&&(this._viewLineCount=t,this._recomputeOptions())}setReservedHeight(t){this._reservedHeight!==t&&(this._reservedHeight=t,this._recomputeOptions())}setGlyphMarginDecorationLaneCount(t){this._glyphMarginDecorationLaneCount!==t&&(this._glyphMarginDecorationLaneCount=t,this._recomputeOptions())}};A=Z([z(4,V.F)],A);function P(Rt){let t=0;for(;Rt;)Rt=Math.floor(Rt/10),t++;return t||1}function I(){let Rt="";return!a.G6&&!a.MG&&(Rt+="no-user-select "),a.G6&&(Rt+="no-minimap-shadow ",Rt+="enable-user-select "),n.dz&&(Rt+="mac "),Rt}class W{constructor(){this._values=[]}_read(t){return this._values[t]}get(t){return this._values[t]}_write(t,d){this._values[t]=d}}class G{constructor(){this._values=[]}_read(t){if(t>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[t]}get(t){return this._read(t)}_write(t,d){this._values[t]=d}}class j{static validateOptions(t){const d=new W;for(const L of N.Bc){const U=L.name==="_never_"?void 0:t[L.name];d._write(L.id,L.validate(U))}return d}static computeOptions(t,d){const L=new G;for(const U of N.Bc)L._write(U.id,U.compute(d,L,t._read(U.id)));return L}static _deepEquals(t,d){if(typeof t!="object"||typeof d!="object"||!t||!d)return t===d;if(Array.isArray(t)||Array.isArray(d))return Array.isArray(t)&&Array.isArray(d)?r.fS(t,d):!1;if(Object.keys(t).length!==Object.keys(d).length)return!1;for(const L in t)if(!j._deepEquals(t[L],d[L]))return!1;return!0}static checkEquals(t,d){const L=[];let U=!1;for(const q of N.Bc){const _e=!j._deepEquals(t._read(q.id),d._read(q.id));L[q.id]=_e,_e&&(U=!0)}return U?new N.Bb(L):null}static applyUpdate(t,d){let L=!1;for(const U of N.Bc)if(d.hasOwnProperty(U.name)){const q=U.applyUpdate(t[U.name],d[U.name]);t[U.name]=q.newValue,L=L||q.didChange}return L}}function Y(Rt){const t=i.I8(Rt);return y(t),t}var H=e(89226),Q=e(76204),ie=e(93116),te=e(41528);class se extends w.JT{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(t){return!1}onCompositionEnd(t){return!1}onConfigurationChanged(t){return!1}onCursorStateChanged(t){return!1}onDecorationsChanged(t){return!1}onFlushed(t){return!1}onFocusChanged(t){return!1}onLanguageConfigurationChanged(t){return!1}onLineMappingChanged(t){return!1}onLinesChanged(t){return!1}onLinesDeleted(t){return!1}onLinesInserted(t){return!1}onRevealRangeRequest(t){return!1}onScrollChanged(t){return!1}onThemeChanged(t){return!1}onTokensChanged(t){return!1}onTokensColorsChanged(t){return!1}onZonesChanged(t){return!1}handleEvents(t){let d=!1;for(let L=0,U=t.length;L<U;L++){const q=t[L];switch(q.type){case 0:this.onCompositionStart(q)&&(d=!0);break;case 1:this.onCompositionEnd(q)&&(d=!0);break;case 2:this.onConfigurationChanged(q)&&(d=!0);break;case 3:this.onCursorStateChanged(q)&&(d=!0);break;case 4:this.onDecorationsChanged(q)&&(d=!0);break;case 5:this.onFlushed(q)&&(d=!0);break;case 6:this.onFocusChanged(q)&&(d=!0);break;case 7:this.onLanguageConfigurationChanged(q)&&(d=!0);break;case 8:this.onLineMappingChanged(q)&&(d=!0);break;case 9:this.onLinesChanged(q)&&(d=!0);break;case 10:this.onLinesDeleted(q)&&(d=!0);break;case 11:this.onLinesInserted(q)&&(d=!0);break;case 12:this.onRevealRangeRequest(q)&&(d=!0);break;case 13:this.onScrollChanged(q)&&(d=!0);break;case 15:this.onTokensChanged(q)&&(d=!0);break;case 14:this.onThemeChanged(q)&&(d=!0);break;case 16:this.onTokensColorsChanged(q)&&(d=!0);break;case 17:this.onZonesChanged(q)&&(d=!0);break;default:console.info("View received unknown event: "),console.info(q)}}d&&(this._shouldRender=!0)}}class ne extends se{constructor(t){super(),this._context=t,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class ee{static write(t,d){t.setAttribute("data-mprt",String(d))}static read(t){const d=t.getAttribute("data-mprt");return d===null?0:parseInt(d,10)}static collect(t,d){const L=[];let U=0;for(;t&&t!==t.ownerDocument.body&&t!==d;)t.nodeType===t.ELEMENT_NODE&&(L[U++]=this.read(t)),t=t.parentElement;const q=new Uint8Array(U);for(let _e=0;_e<U;_e++)q[_e]=L[U-_e-1];return q}}var re=e(50052),he=e(93895),M=e(4694),we=e(76675),We=e(61227),ye=e(20359);class X{constructor(t=null){this.hitTarget=t,this.type=0}}class ve{get hitTarget(){return this.spanNode}constructor(t,d,L){this.position=t,this.spanNode=d,this.injectedText=L,this.type=1}}var Ee;(function(Rt){function t(d,L,U){const q=d.getPositionFromDOMInfo(L,U);return q?new ve(q,L,null):new X(L)}Rt.createFromDOMInfo=t})(Ee||(Ee={}));class Oe{constructor(t,d){this.lastViewCursorsRenderData=t,this.lastTextareaPosition=d}}class Ke{static _deduceRage(t,d=null){return!d&&t?new M.e(t.lineNumber,t.column,t.lineNumber,t.column):d!=null?d:null}static createUnknown(t,d,L){return{type:0,element:t,mouseColumn:d,position:L,range:this._deduceRage(L)}}static createTextarea(t,d){return{type:1,element:t,mouseColumn:d,position:null,range:null}}static createMargin(t,d,L,U,q,_e){return{type:t,element:d,mouseColumn:L,position:U,range:q,detail:_e}}static createViewZone(t,d,L,U,q){return{type:t,element:d,mouseColumn:L,position:U,range:this._deduceRage(U),detail:q}}static createContentText(t,d,L,U,q){return{type:6,element:t,mouseColumn:d,position:L,range:this._deduceRage(L,U),detail:q}}static createContentEmpty(t,d,L,U){return{type:7,element:t,mouseColumn:d,position:L,range:this._deduceRage(L),detail:U}}static createContentWidget(t,d,L){return{type:9,element:t,mouseColumn:d,position:null,range:null,detail:L}}static createScrollbar(t,d,L){return{type:11,element:t,mouseColumn:d,position:L,range:this._deduceRage(L)}}static createOverlayWidget(t,d,L){return{type:12,element:t,mouseColumn:d,position:null,range:null,detail:L}}static createOutsideEditor(t,d,L,U){return{type:13,element:null,mouseColumn:t,position:d,range:this._deduceRage(d),outsidePosition:L,outsideDistance:U}}static _typeToString(t){return t===1?"TEXTAREA":t===2?"GUTTER_GLYPH_MARGIN":t===3?"GUTTER_LINE_NUMBERS":t===4?"GUTTER_LINE_DECORATIONS":t===5?"GUTTER_VIEW_ZONE":t===6?"CONTENT_TEXT":t===7?"CONTENT_EMPTY":t===8?"CONTENT_VIEW_ZONE":t===9?"CONTENT_WIDGET":t===10?"OVERVIEW_RULER":t===11?"SCROLLBAR":t===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(t){return this._typeToString(t.type)+": "+t.position+" - "+t.range+" - "+JSON.stringify(t.detail)}}class Qe{static isTextArea(t){return t.length===2&&t[0]===3&&t[1]===7}static isChildOfViewLines(t){return t.length>=4&&t[0]===3&&t[3]===8}static isStrictChildOfViewLines(t){return t.length>4&&t[0]===3&&t[3]===8}static isChildOfScrollableElement(t){return t.length>=2&&t[0]===3&&t[1]===6}static isChildOfMinimap(t){return t.length>=2&&t[0]===3&&t[1]===9}static isChildOfContentWidgets(t){return t.length>=4&&t[0]===3&&t[3]===1}static isChildOfOverflowGuard(t){return t.length>=1&&t[0]===3}static isChildOfOverflowingContentWidgets(t){return t.length>=1&&t[0]===2}static isChildOfOverlayWidgets(t){return t.length>=2&&t[0]===3&&t[1]===4}static isChildOfOverflowingOverlayWidgets(t){return t.length>=1&&t[0]===5}}class fe{constructor(t,d,L){this.viewModel=t.viewModel;const U=t.configuration.options;this.layoutInfo=U.get(145),this.viewDomNode=d.viewDomNode,this.lineHeight=U.get(67),this.stickyTabStops=U.get(116),this.typicalHalfwidthCharacterWidth=U.get(50).typicalHalfwidthCharacterWidth,this.lastRenderData=L,this._context=t,this._viewHelper=d}getZoneAtCoord(t){return fe.getZoneAtCoord(this._context,t)}static getZoneAtCoord(t,d){const L=t.viewLayout.getWhitespaceAtVerticalOffset(d);if(L){const U=L.verticalOffset+L.height/2,q=t.viewModel.getLineCount();let _e=null,Me,ze=null;return L.afterLineNumber!==q&&(ze=new he.L(L.afterLineNumber+1,1)),L.afterLineNumber>0&&(_e=new he.L(L.afterLineNumber,t.viewModel.getLineMaxColumn(L.afterLineNumber))),ze===null?Me=_e:_e===null?Me=ze:d<U?Me=_e:Me=ze,{viewZoneId:L.id,afterLineNumber:L.afterLineNumber,positionBefore:_e,positionAfter:ze,position:Me}}return null}getFullLineRangeAtCoord(t){if(this._context.viewLayout.isAfterLines(t)){const U=this._context.viewModel.getLineCount(),q=this._context.viewModel.getLineMaxColumn(U);return{range:new M.e(U,q,U,q),isAfterLines:!0}}const d=this._context.viewLayout.getLineNumberAtVerticalOffset(t),L=this._context.viewModel.getLineMaxColumn(d);return{range:new M.e(d,1,d,L),isAfterLines:!1}}getLineNumberAtVerticalOffset(t){return this._context.viewLayout.getLineNumberAtVerticalOffset(t)}isAfterLines(t){return this._context.viewLayout.isAfterLines(t)}isInTopPadding(t){return this._context.viewLayout.isInTopPadding(t)}isInBottomPadding(t){return this._context.viewLayout.isInBottomPadding(t)}getVerticalOffsetForLineNumber(t){return this._context.viewLayout.getVerticalOffsetForLineNumber(t)}findAttribute(t,d){return fe._findAttribute(t,d,this._viewHelper.viewDomNode)}static _findAttribute(t,d,L){for(;t&&t!==t.ownerDocument.body;){if(t.hasAttribute&&t.hasAttribute(d))return t.getAttribute(d);if(t===L)return null;t=t.parentNode}return null}getLineWidth(t){return this._viewHelper.getLineWidth(t)}visibleRangeForPosition(t,d){return this._viewHelper.visibleRangeForPosition(t,d)}getPositionFromDOMInfo(t,d){return this._viewHelper.getPositionFromDOMInfo(t,d)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class ${constructor(t,d,L,U){this.editorPos=d,this.pos=L,this.relativePos=U,this.mouseVerticalOffset=Math.max(0,t.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=t.getCurrentScrollLeft()+this.relativePos.x-t.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<t.layoutInfo.contentLeft&&this.relativePos.x>=t.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,Ce._getMouseColumn(this.mouseContentHorizontalOffset,t.typicalHalfwidthCharacterWidth))}}class le extends ${get target(){return this._useHitTestTarget?this.hitTestResult.value.hitTarget:this._eventTarget}get targetPath(){return this._targetPathCacheElement!==this.target&&(this._targetPathCacheElement=this.target,this._targetPathCacheValue=ee.collect(this.target,this._ctx.viewDomNode)),this._targetPathCacheValue}constructor(t,d,L,U,q){super(t,d,L,U),this.hitTestResult=new ye.o(()=>Ce.doHitTest(this._ctx,this)),this._targetPathCacheElement=null,this._targetPathCacheValue=new Uint8Array(0),this._ctx=t,this._eventTarget=q;const _e=!!this._eventTarget;this._useHitTestTarget=!_e}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}get wouldBenefitFromHitTestTargetSwitch(){return!this._useHitTestTarget&&this.hitTestResult.value.hitTarget!==null&&this.target!==this.hitTestResult.value.hitTarget}switchToHitTestTarget(){this._useHitTestTarget=!0}_getMouseColumn(t=null){return t&&t.column<this._ctx.viewModel.getLineMaxColumn(t.lineNumber)?we.i.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(t.lineNumber),t.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(t=null){return Ke.createUnknown(this.target,this._getMouseColumn(t),t)}fulfillTextarea(){return Ke.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(t,d,L,U){return Ke.createMargin(t,this.target,this._getMouseColumn(d),d,L,U)}fulfillViewZone(t,d,L){return Ke.createViewZone(t,this.target,this._getMouseColumn(d),d,L)}fulfillContentText(t,d,L){return Ke.createContentText(this.target,this._getMouseColumn(t),t,d,L)}fulfillContentEmpty(t,d){return Ke.createContentEmpty(this.target,this._getMouseColumn(t),t,d)}fulfillContentWidget(t){return Ke.createContentWidget(this.target,this._getMouseColumn(),t)}fulfillScrollbar(t){return Ke.createScrollbar(this.target,this._getMouseColumn(t),t)}fulfillOverlayWidget(t){return Ke.createOverlayWidget(this.target,this._getMouseColumn(),t)}}const De={isAfterLines:!0};function xe(Rt){return{isAfterLines:!1,horizontalDistanceToText:Rt}}class Ce{constructor(t,d){this._context=t,this._viewHelper=d}mouseTargetIsWidget(t){const d=t.target,L=ee.collect(d,this._viewHelper.viewDomNode);return!!(Qe.isChildOfContentWidgets(L)||Qe.isChildOfOverflowingContentWidgets(L)||Qe.isChildOfOverlayWidgets(L)||Qe.isChildOfOverflowingOverlayWidgets(L))}createMouseTarget(t,d,L,U,q){const _e=new fe(this._context,this._viewHelper,t),Me=new le(_e,d,L,U,q);try{const ze=Ce._createMouseTarget(_e,Me);if(ze.type===6&&_e.stickyTabStops&&ze.position!==null){const qe=Ce._snapToSoftTabBoundary(ze.position,_e.viewModel),pt=M.e.fromPositions(qe,qe).plusRange(ze.range);return Me.fulfillContentText(qe,pt,ze.detail)}return ze}catch(ze){return Me.fulfillUnknown()}}static _createMouseTarget(t,d){if(d.target===null)return d.fulfillUnknown();const L=d;let U=null;return!Qe.isChildOfOverflowGuard(d.targetPath)&&!Qe.isChildOfOverflowingContentWidgets(d.targetPath)&&!Qe.isChildOfOverflowingOverlayWidgets(d.targetPath)&&(U=U||d.fulfillUnknown()),U=U||Ce._hitTestContentWidget(t,L),U=U||Ce._hitTestOverlayWidget(t,L),U=U||Ce._hitTestMinimap(t,L),U=U||Ce._hitTestScrollbarSlider(t,L),U=U||Ce._hitTestViewZone(t,L),U=U||Ce._hitTestMargin(t,L),U=U||Ce._hitTestViewCursor(t,L),U=U||Ce._hitTestTextArea(t,L),U=U||Ce._hitTestViewLines(t,L),U=U||Ce._hitTestScrollbar(t,L),U||d.fulfillUnknown()}static _hitTestContentWidget(t,d){if(Qe.isChildOfContentWidgets(d.targetPath)||Qe.isChildOfOverflowingContentWidgets(d.targetPath)){const L=t.findAttribute(d.target,"widgetId");return L?d.fulfillContentWidget(L):d.fulfillUnknown()}return null}static _hitTestOverlayWidget(t,d){if(Qe.isChildOfOverlayWidgets(d.targetPath)||Qe.isChildOfOverflowingOverlayWidgets(d.targetPath)){const L=t.findAttribute(d.target,"widgetId");return L?d.fulfillOverlayWidget(L):d.fulfillUnknown()}return null}static _hitTestViewCursor(t,d){if(d.target){const L=t.lastRenderData.lastViewCursorsRenderData;for(const U of L)if(d.target===U.domNode)return d.fulfillContentText(U.position,null,{mightBeForeignElement:!1,injectedText:null})}if(d.isInContentArea){const L=t.lastRenderData.lastViewCursorsRenderData,U=d.mouseContentHorizontalOffset,q=d.mouseVerticalOffset;for(const _e of L){if(U<_e.contentLeft||U>_e.contentLeft+_e.width)continue;const Me=t.getVerticalOffsetForLineNumber(_e.position.lineNumber);if(Me<=q&&q<=Me+_e.height)return d.fulfillContentText(_e.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(t,d){const L=t.getZoneAtCoord(d.mouseVerticalOffset);if(L){const U=d.isInContentArea?8:5;return d.fulfillViewZone(U,L.position,L)}return null}static _hitTestTextArea(t,d){return Qe.isTextArea(d.targetPath)?t.lastRenderData.lastTextareaPosition?d.fulfillContentText(t.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):d.fulfillTextarea():null}static _hitTestMargin(t,d){if(d.isInMarginArea){const L=t.getFullLineRangeAtCoord(d.mouseVerticalOffset),U=L.range.getStartPosition();let q=Math.abs(d.relativePos.x);const _e={isAfterLines:L.isAfterLines,glyphMarginLeft:t.layoutInfo.glyphMarginLeft,glyphMarginWidth:t.layoutInfo.glyphMarginWidth,lineNumbersWidth:t.layoutInfo.lineNumbersWidth,offsetX:q};if(q-=t.layoutInfo.glyphMarginLeft,q<=t.layoutInfo.glyphMarginWidth){const Me=t.viewModel.coordinatesConverter.convertViewPositionToModelPosition(L.range.getStartPosition()),ze=t.viewModel.glyphLanes.getLanesAtLine(Me.lineNumber);return _e.glyphMarginLane=ze[Math.floor(q/t.lineHeight)],d.fulfillMargin(2,U,L.range,_e)}return q-=t.layoutInfo.glyphMarginWidth,q<=t.layoutInfo.lineNumbersWidth?d.fulfillMargin(3,U,L.range,_e):(q-=t.layoutInfo.lineNumbersWidth,d.fulfillMargin(4,U,L.range,_e))}return null}static _hitTestViewLines(t,d){if(!Qe.isChildOfViewLines(d.targetPath))return null;if(t.isInTopPadding(d.mouseVerticalOffset))return d.fulfillContentEmpty(new he.L(1,1),De);if(t.isAfterLines(d.mouseVerticalOffset)||t.isInBottomPadding(d.mouseVerticalOffset)){const U=t.viewModel.getLineCount(),q=t.viewModel.getLineMaxColumn(U);return d.fulfillContentEmpty(new he.L(U,q),De)}if(Qe.isStrictChildOfViewLines(d.targetPath)){const U=t.getLineNumberAtVerticalOffset(d.mouseVerticalOffset);if(t.viewModel.getLineLength(U)===0){const _e=t.getLineWidth(U),Me=xe(d.mouseContentHorizontalOffset-_e);return d.fulfillContentEmpty(new he.L(U,1),Me)}const q=t.getLineWidth(U);if(d.mouseContentHorizontalOffset>=q){const _e=xe(d.mouseContentHorizontalOffset-q),Me=new he.L(U,t.viewModel.getLineMaxColumn(U));return d.fulfillContentEmpty(Me,_e)}}const L=d.hitTestResult.value;return L.type===1?Ce.createMouseTargetFromHitTestPosition(t,d,L.spanNode,L.position,L.injectedText):d.wouldBenefitFromHitTestTargetSwitch?(d.switchToHitTestTarget(),this._createMouseTarget(t,d)):d.fulfillUnknown()}static _hitTestMinimap(t,d){if(Qe.isChildOfMinimap(d.targetPath)){const L=t.getLineNumberAtVerticalOffset(d.mouseVerticalOffset),U=t.viewModel.getLineMaxColumn(L);return d.fulfillScrollbar(new he.L(L,U))}return null}static _hitTestScrollbarSlider(t,d){if(Qe.isChildOfScrollableElement(d.targetPath)&&d.target&&d.target.nodeType===1){const L=d.target.className;if(L&&/\b(slider|scrollbar)\b/.test(L)){const U=t.getLineNumberAtVerticalOffset(d.mouseVerticalOffset),q=t.viewModel.getLineMaxColumn(U);return d.fulfillScrollbar(new he.L(U,q))}}return null}static _hitTestScrollbar(t,d){if(Qe.isChildOfScrollableElement(d.targetPath)){const L=t.getLineNumberAtVerticalOffset(d.mouseVerticalOffset),U=t.viewModel.getLineMaxColumn(L);return d.fulfillScrollbar(new he.L(L,U))}return null}getMouseColumn(t){const d=this._context.configuration.options,L=d.get(145),U=this._context.viewLayout.getCurrentScrollLeft()+t.x-L.contentLeft;return Ce._getMouseColumn(U,d.get(50).typicalHalfwidthCharacterWidth)}static _getMouseColumn(t,d){return t<0?1:Math.round(t/d)+1}static createMouseTargetFromHitTestPosition(t,d,L,U,q){const _e=U.lineNumber,Me=U.column,ze=t.getLineWidth(_e);if(d.mouseContentHorizontalOffset>ze){const Si=xe(d.mouseContentHorizontalOffset-ze);return d.fulfillContentEmpty(U,Si)}const qe=t.visibleRangeForPosition(_e,Me);if(!qe)return d.fulfillUnknown(U);const pt=qe.left;if(Math.abs(d.mouseContentHorizontalOffset-pt)<1)return d.fulfillContentText(U,null,{mightBeForeignElement:!!q,injectedText:q});const Dt=[];if(Dt.push({offset:qe.left,column:Me}),Me>1){const Si=t.visibleRangeForPosition(_e,Me-1);Si&&Dt.push({offset:Si.left,column:Me-1})}const Ot=t.viewModel.getLineMaxColumn(_e);if(Me<Ot){const Si=t.visibleRangeForPosition(_e,Me+1);Si&&Dt.push({offset:Si.left,column:Me+1})}Dt.sort((Si,ki)=>Si.offset-ki.offset);const zt=d.pos.toClientCoordinates(p.Jj(t.viewDomNode)),ii=L.getBoundingClientRect(),ai=ii.left<=zt.clientX&&zt.clientX<=ii.right;let pi=null;for(let Si=1;Si<Dt.length;Si++){const ki=Dt[Si-1],Ai=Dt[Si];if(ki.offset<=d.mouseContentHorizontalOffset&&d.mouseContentHorizontalOffset<=Ai.offset){pi=new M.e(_e,ki.column,_e,Ai.column);const qi=Math.abs(ki.offset-d.mouseContentHorizontalOffset),on=Math.abs(Ai.offset-d.mouseContentHorizontalOffset);U=qi<on?new he.L(_e,ki.column):new he.L(_e,Ai.column);break}}return d.fulfillContentText(U,pi,{mightBeForeignElement:!ai||!!q,injectedText:q})}static _doHitTestWithCaretRangeFromPoint(t,d){const L=t.getLineNumberAtVerticalOffset(d.mouseVerticalOffset),U=t.getVerticalOffsetForLineNumber(L),q=U+t.lineHeight;if(!(L===t.viewModel.getLineCount()&&d.mouseVerticalOffset>q)){const Me=Math.floor((U+q)/2);let ze=d.pos.y+(Me-d.mouseVerticalOffset);ze<=d.editorPos.y&&(ze=d.editorPos.y+1),ze>=d.editorPos.y+d.editorPos.height&&(ze=d.editorPos.y+d.editorPos.height-1);const qe=new te.YN(d.pos.x,ze),pt=this._actualDoHitTestWithCaretRangeFromPoint(t,qe.toClientCoordinates(p.Jj(t.viewDomNode)));if(pt.type===1)return pt}return this._actualDoHitTestWithCaretRangeFromPoint(t,d.pos.toClientCoordinates(p.Jj(t.viewDomNode)))}static _actualDoHitTestWithCaretRangeFromPoint(t,d){const L=p.Ay(t.viewDomNode);let U;if(L?typeof L.caretRangeFromPoint=="undefined"?U=me(L,d.clientX,d.clientY):U=L.caretRangeFromPoint(d.clientX,d.clientY):U=t.viewDomNode.ownerDocument.caretRangeFromPoint(d.clientX,d.clientY),!U||!U.startContainer)return new X;const q=U.startContainer;if(q.nodeType===q.TEXT_NODE){const _e=q.parentNode,Me=_e?_e.parentNode:null,ze=Me?Me.parentNode:null;return(ze&&ze.nodeType===ze.ELEMENT_NODE?ze.className:null)===re.Nt.CLASS_NAME?Ee.createFromDOMInfo(t,_e,U.startOffset):new X(q.parentNode)}else if(q.nodeType===q.ELEMENT_NODE){const _e=q.parentNode,Me=_e?_e.parentNode:null;return(Me&&Me.nodeType===Me.ELEMENT_NODE?Me.className:null)===re.Nt.CLASS_NAME?Ee.createFromDOMInfo(t,q,q.textContent.length):new X(q)}return new X}static _doHitTestWithCaretPositionFromPoint(t,d){const L=t.viewDomNode.ownerDocument.caretPositionFromPoint(d.clientX,d.clientY);if(L.offsetNode.nodeType===L.offsetNode.TEXT_NODE){const U=L.offsetNode.parentNode,q=U?U.parentNode:null,_e=q?q.parentNode:null;return(_e&&_e.nodeType===_e.ELEMENT_NODE?_e.className:null)===re.Nt.CLASS_NAME?Ee.createFromDOMInfo(t,L.offsetNode.parentNode,L.offset):new X(L.offsetNode.parentNode)}if(L.offsetNode.nodeType===L.offsetNode.ELEMENT_NODE){const U=L.offsetNode.parentNode,q=U&&U.nodeType===U.ELEMENT_NODE?U.className:null,_e=U?U.parentNode:null,Me=_e&&_e.nodeType===_e.ELEMENT_NODE?_e.className:null;if(q===re.Nt.CLASS_NAME){const ze=L.offsetNode.childNodes[Math.min(L.offset,L.offsetNode.childNodes.length-1)];if(ze)return Ee.createFromDOMInfo(t,ze,0)}else if(Me===re.Nt.CLASS_NAME)return Ee.createFromDOMInfo(t,L.offsetNode,0)}return new X(L.offsetNode)}static _snapToSoftTabBoundary(t,d){const L=d.getLineContent(t.lineNumber),{tabSize:U}=d.model.getOptions(),q=We.l.atomicPosition(L,t.column-1,U,2);return q!==-1?new he.L(t.lineNumber,q+1):t}static doHitTest(t,d){let L=new X;if(typeof t.viewDomNode.ownerDocument.caretRangeFromPoint=="function"?L=this._doHitTestWithCaretRangeFromPoint(t,d):t.viewDomNode.ownerDocument.caretPositionFromPoint&&(L=this._doHitTestWithCaretPositionFromPoint(t,d.pos.toClientCoordinates(p.Jj(t.viewDomNode)))),L.type===1){const U=t.viewModel.getInjectedTextAt(L.position),q=t.viewModel.normalizePosition(L.position,2);(U||!q.equals(L.position))&&(L=new ve(q,L.spanNode,U))}return L}}function me(Rt,t,d){const L=document.createRange();let U=Rt.elementFromPoint(t,d);if(U!==null){for(;U&&U.firstChild&&U.firstChild.nodeType!==U.firstChild.TEXT_NODE&&U.lastChild&&U.lastChild.firstChild;)U=U.lastChild;const q=U.getBoundingClientRect(),_e=p.Jj(U),Me=_e.getComputedStyle(U,null).getPropertyValue("font-style"),ze=_e.getComputedStyle(U,null).getPropertyValue("font-variant"),qe=_e.getComputedStyle(U,null).getPropertyValue("font-weight"),pt=_e.getComputedStyle(U,null).getPropertyValue("font-size"),Dt=_e.getComputedStyle(U,null).getPropertyValue("line-height"),Ot=_e.getComputedStyle(U,null).getPropertyValue("font-family"),zt=`${Me} ${ze} ${qe} ${pt}/${Dt} ${Ot}`,ii=U.innerText;let ai=q.left,pi=0,Si;if(t>q.left+q.width)pi=ii.length;else{const ki=be.getInstance();for(let Ai=0;Ai<ii.length+1;Ai++){if(Si=ki.getCharWidth(ii.charAt(Ai),zt)/2,ai+=Si,t<ai){pi=Ai;break}ai+=Si}}L.setStart(U.firstChild,pi),L.setEnd(U.firstChild,pi)}return L}class be{static getInstance(){return be._INSTANCE||(be._INSTANCE=new be),be._INSTANCE}constructor(){this._cache={},this._canvas=document.createElement("canvas")}getCharWidth(t,d){const L=t+d;if(this._cache[L])return this._cache[L];const U=this._canvas.getContext("2d");U.font=d;const _e=U.measureText(t).width;return this._cache[L]=_e,_e}}be._INSTANCE=null;var oe=e(8435),ue=e(8098),de=e(44454),Se=e(65512),Te=e(14149),Ae=e(16846);class pe extends se{constructor(t,d,L){super(),this._mouseLeaveMonitor=null,this._context=t,this.viewController=d,this.viewHelper=L,this.mouseTargetFactory=new Ce(this._context,L),this._mouseDownOperation=this._register(new je(this._context,this.viewController,this.viewHelper,this.mouseTargetFactory,(_e,Me)=>this._createMouseTarget(_e,Me),_e=>this._getMouseColumn(_e))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(145).height;const U=new te.N5(this.viewHelper.viewDomNode);this._register(U.onContextMenu(this.viewHelper.viewDomNode,_e=>this._onContextMenu(_e,!0))),this._register(U.onMouseMove(this.viewHelper.viewDomNode,_e=>{this._onMouseMove(_e),this._mouseLeaveMonitor||(this._mouseLeaveMonitor=p.nm(this.viewHelper.viewDomNode.ownerDocument,"mousemove",Me=>{this.viewHelper.viewDomNode.contains(Me.target)||this._onMouseLeave(new te.gy(Me,!1,this.viewHelper.viewDomNode))}))})),this._register(U.onMouseUp(this.viewHelper.viewDomNode,_e=>this._onMouseUp(_e))),this._register(U.onMouseLeave(this.viewHelper.viewDomNode,_e=>this._onMouseLeave(_e)));let q=0;this._register(U.onPointerDown(this.viewHelper.viewDomNode,(_e,Me)=>{q=Me})),this._register(p.nm(this.viewHelper.viewDomNode,p.tw.POINTER_UP,_e=>{this._mouseDownOperation.onPointerUp()})),this._register(U.onMouseDown(this.viewHelper.viewDomNode,_e=>this._onMouseDown(_e,q))),this._setupMouseWheelZoomListener(),this._context.addEventHandler(this)}_setupMouseWheelZoomListener(){const t=Ae.Io.INSTANCE;let d=0,L=b.C.getZoomLevel(),U=!1,q=0;const _e=ze=>{if(this.viewController.emitMouseWheel(ze),!this._context.configuration.options.get(76))return;const qe=new Se.q(ze);if(t.acceptStandardWheelEvent(qe),t.isPhysicalMouseWheel()){if(Me(ze)){const pt=b.C.getZoomLevel(),Dt=qe.deltaY>0?1:-1;b.C.setZoomLevel(pt+Dt),qe.preventDefault(),qe.stopPropagation()}}else Date.now()-d>50&&(L=b.C.getZoomLevel(),U=Me(ze),q=0),d=Date.now(),q+=qe.deltaY,U&&(b.C.setZoomLevel(L+q/5),qe.preventDefault(),qe.stopPropagation())};this._register(p.nm(this.viewHelper.viewDomNode,p.tw.MOUSE_WHEEL,_e,{capture:!0,passive:!1}));function Me(ze){return n.dz?(ze.metaKey||ze.ctrlKey)&&!ze.shiftKey&&!ze.altKey:ze.ctrlKey&&!ze.metaKey&&!ze.shiftKey&&!ze.altKey}}dispose(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),super.dispose()}onConfigurationChanged(t){if(t.hasChanged(145)){const d=this._context.configuration.options.get(145).height;this._height!==d&&(this._height=d,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(t){return this._mouseDownOperation.onCursorStateChanged(t),!1}onFocusChanged(t){return!1}getTargetAtClientPoint(t,d){const U=new te.rU(t,d).toPageCoordinates(p.Jj(this.viewHelper.viewDomNode)),q=(0,te.kG)(this.viewHelper.viewDomNode);if(U.y<q.y||U.y>q.y+q.height||U.x<q.x||U.x>q.x+q.width)return null;const _e=(0,te.Pp)(this.viewHelper.viewDomNode,q,U);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),q,U,_e,null)}_createMouseTarget(t,d){let L=t.target;if(!this.viewHelper.viewDomNode.contains(L)){const U=p.Ay(this.viewHelper.viewDomNode);U&&(L=U.elementsFromPoint(t.posx,t.posy).find(q=>this.viewHelper.viewDomNode.contains(q)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),t.editorPos,t.pos,t.relativePos,d?L:null)}_getMouseColumn(t){return this.mouseTargetFactory.getMouseColumn(t.relativePos)}_onContextMenu(t,d){this.viewController.emitContextMenu({event:t,target:this._createMouseTarget(t,d)})}_onMouseMove(t){this.mouseTargetFactory.mouseTargetIsWidget(t)||t.preventDefault(),!(this._mouseDownOperation.isActive()||t.timestamp<this.lastMouseLeaveTime)&&this.viewController.emitMouseMove({event:t,target:this._createMouseTarget(t,!0)})}_onMouseLeave(t){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:t,target:null})}_onMouseUp(t){this.viewController.emitMouseUp({event:t,target:this._createMouseTarget(t,!0)})}_onMouseDown(t,d){const L=this._createMouseTarget(t,!0),U=L.type===6||L.type===7,q=L.type===2||L.type===3||L.type===4,_e=L.type===3,Me=this._context.configuration.options.get(109),ze=L.type===8||L.type===5,qe=L.type===9;let pt=t.leftButton||t.middleButton;n.dz&&t.leftButton&&t.ctrlKey&&(pt=!1);const Dt=()=>{t.preventDefault(),this.viewHelper.focusTextArea()};if(pt&&(U||_e&&Me))Dt(),this._mouseDownOperation.start(L.type,t,d);else if(q)t.preventDefault();else if(ze){const Ot=L.detail;pt&&this.viewHelper.shouldSuppressMouseDownOnViewZone(Ot.viewZoneId)&&(Dt(),this._mouseDownOperation.start(L.type,t,d),t.preventDefault())}else qe&&this.viewHelper.shouldSuppressMouseDownOnWidget(L.detail)&&(Dt(),t.preventDefault());this.viewController.emitMouseDown({event:t,target:L})}}class je extends w.JT{constructor(t,d,L,U,q,_e){super(),this._context=t,this._viewController=d,this._viewHelper=L,this._mouseTargetFactory=U,this._createMouseTarget=q,this._getMouseColumn=_e,this._mouseMoveMonitor=this._register(new te.AL(this._viewHelper.viewDomNode)),this._topBottomDragScrolling=this._register(new ot(this._context,this._viewHelper,this._mouseTargetFactory,(Me,ze,qe)=>this._dispatchMouse(Me,ze,qe))),this._mouseState=new jt,this._currentSelection=new Te.Y(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(t){this._lastMouseEvent=t,this._mouseState.setModifiers(t);const d=this._findMousePosition(t,!1);d&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:t,target:d}):d.type===13&&(d.outsidePosition==="above"||d.outsidePosition==="below")?this._topBottomDragScrolling.start(d,t):(this._topBottomDragScrolling.stop(),this._dispatchMouse(d,!0,1)))}start(t,d,L){this._lastMouseEvent=d,this._mouseState.setStartedOnLineNumbers(t===3),this._mouseState.setStartButtons(d),this._mouseState.setModifiers(d);const U=this._findMousePosition(d,!0);if(!U||!U.position)return;this._mouseState.trySetCount(d.detail,U.position),d.detail=this._mouseState.count;const q=this._context.configuration.options;if(!q.get(91)&&q.get(35)&&!q.get(22)&&!this._mouseState.altKey&&d.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&U.type===6&&U.position&&this._currentSelection.containsPosition(U.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,L,d.buttons,_e=>this._onMouseDownThenMove(_e),_e=>{const Me=this._findMousePosition(this._lastMouseEvent,!1);p.vd(_e)?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:Me?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(U,d.shiftKey,1),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,L,d.buttons,_e=>this._onMouseDownThenMove(_e),()=>this._stop()))}_stop(){this._isActive=!1,this._topBottomDragScrolling.stop()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onCursorStateChanged(t){this._currentSelection=t.selections[0]}_getPositionOutsideEditor(t){const d=t.editorPos,L=this._context.viewModel,U=this._context.viewLayout,q=this._getMouseColumn(t);if(t.posy<d.y){const Me=d.y-t.posy,ze=Math.max(U.getCurrentScrollTop()-Me,0),qe=fe.getZoneAtCoord(this._context,ze);if(qe){const Dt=this._helpPositionJumpOverViewZone(qe);if(Dt)return Ke.createOutsideEditor(q,Dt,"above",Me)}const pt=U.getLineNumberAtVerticalOffset(ze);return Ke.createOutsideEditor(q,new he.L(pt,1),"above",Me)}if(t.posy>d.y+d.height){const Me=t.posy-d.y-d.height,ze=U.getCurrentScrollTop()+t.relativePos.y,qe=fe.getZoneAtCoord(this._context,ze);if(qe){const Dt=this._helpPositionJumpOverViewZone(qe);if(Dt)return Ke.createOutsideEditor(q,Dt,"below",Me)}const pt=U.getLineNumberAtVerticalOffset(ze);return Ke.createOutsideEditor(q,new he.L(pt,L.getLineMaxColumn(pt)),"below",Me)}const _e=U.getLineNumberAtVerticalOffset(U.getCurrentScrollTop()+t.relativePos.y);if(t.posx<d.x){const Me=d.x-t.posx;return Ke.createOutsideEditor(q,new he.L(_e,1),"left",Me)}if(t.posx>d.x+d.width){const Me=t.posx-d.x-d.width;return Ke.createOutsideEditor(q,new he.L(_e,L.getLineMaxColumn(_e)),"right",Me)}return null}_findMousePosition(t,d){const L=this._getPositionOutsideEditor(t);if(L)return L;const U=this._createMouseTarget(t,d);if(!U.position)return null;if(U.type===8||U.type===5){const _e=this._helpPositionJumpOverViewZone(U.detail);if(_e)return Ke.createViewZone(U.type,U.element,U.mouseColumn,_e,U.detail)}return U}_helpPositionJumpOverViewZone(t){const d=new he.L(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),L=t.positionBefore,U=t.positionAfter;return L&&U?L.isBefore(d)?L:U:null}_dispatchMouse(t,d,L){t.position&&this._viewController.dispatchMouse({position:t.position,mouseColumn:t.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,revealType:L,inSelectionMode:d,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:t.type===6&&t.detail.injectedText!==null})}}class ot extends w.JT{constructor(t,d,L,U){super(),this._context=t,this._viewHelper=d,this._mouseTargetFactory=L,this._dispatchMouse=U,this._operation=null}dispose(){super.dispose(),this.stop()}start(t,d){this._operation?this._operation.setPosition(t,d):this._operation=new xt(this._context,this._viewHelper,this._mouseTargetFactory,this._dispatchMouse,t,d)}stop(){this._operation&&(this._operation.dispose(),this._operation=null)}}class xt extends w.JT{constructor(t,d,L,U,q,_e){super(),this._context=t,this._viewHelper=d,this._mouseTargetFactory=L,this._dispatchMouse=U,this._position=q,this._mouseEvent=_e,this._lastTime=Date.now(),this._animationFrameDisposable=p.jL(p.Jj(_e.browserEvent),()=>this._execute())}dispose(){this._animationFrameDisposable.dispose(),super.dispose()}setPosition(t,d){this._position=t,this._mouseEvent=d}_tick(){const t=Date.now(),d=t-this._lastTime;return this._lastTime=t,d}_getScrollSpeed(){const t=this._context.configuration.options.get(67),d=this._context.configuration.options.get(145).height/t,L=this._position.outsideDistance/t;return L<=1.5?Math.max(30,d*(1+L)):L<=3?Math.max(60,d*(2+L)):Math.max(200,d*(7+L))}_execute(){const t=this._context.configuration.options.get(67),d=this._getScrollSpeed(),L=this._tick(),U=d*(L/1e3)*t,q=this._position.outsidePosition==="above"?-U:U;this._context.viewModel.viewLayout.deltaScrollNow(0,q),this._viewHelper.renderNow();const _e=this._context.viewLayout.getLinesViewportData(),Me=this._position.outsidePosition==="above"?_e.startLineNumber:_e.endLineNumber;let ze;{const qe=(0,te.kG)(this._viewHelper.viewDomNode),pt=this._context.configuration.options.get(145).horizontalScrollbarHeight,Dt=new te.YN(this._mouseEvent.pos.x,qe.y+qe.height-pt-.1),Ot=(0,te.Pp)(this._viewHelper.viewDomNode,qe,Dt);ze=this._mouseTargetFactory.createMouseTarget(this._viewHelper.getLastRenderData(),qe,Dt,Ot,null)}(!ze.position||ze.position.lineNumber!==Me)&&(this._position.outsidePosition==="above"?ze=Ke.createOutsideEditor(this._position.mouseColumn,new he.L(Me,1),"above",this._position.outsideDistance):ze=Ke.createOutsideEditor(this._position.mouseColumn,new he.L(Me,this._context.viewModel.getLineMaxColumn(Me)),"below",this._position.outsideDistance)),this._dispatchMouse(ze,!0,2),this._animationFrameDisposable=p.jL(p.Jj(ze.element),()=>this._execute())}}class jt{get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get count(){return this._lastMouseDownCount}setModifiers(t){this._altKey=t.altKey,this._ctrlKey=t.ctrlKey,this._metaKey=t.metaKey,this._shiftKey=t.shiftKey}setStartButtons(t){this._leftButton=t.leftButton,this._middleButton=t.middleButton}setStartedOnLineNumbers(t){this._startedOnLineNumbers=t}trySetCount(t,d){const L=new Date().getTime();L-this._lastSetMouseDownCountTime>jt.CLEAR_MOUSE_DOWN_COUNT_TIME&&(t=1),this._lastSetMouseDownCountTime=L,t>this._lastMouseDownCount+1&&(t=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(d)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=d,this._lastMouseDownCount=Math.min(t,this._lastMouseDownPositionEqualCount)}}jt.CLEAR_MOUSE_DOWN_COUNT_TIME=400;var oi=e(47923);class ti extends pe{constructor(t,d,L){super(t,d,L),this._register(ue.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(p.nm(this.viewHelper.linesContentDomNode,ue.t.Tap,q=>this.onTap(q))),this._register(p.nm(this.viewHelper.linesContentDomNode,ue.t.Change,q=>this.onChange(q))),this._register(p.nm(this.viewHelper.linesContentDomNode,ue.t.Contextmenu,q=>this._onContextMenu(new te.gy(q,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(p.nm(this.viewHelper.linesContentDomNode,"pointerdown",q=>{const _e=q.pointerType;if(_e==="mouse"){this._lastPointerType="mouse";return}else _e==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const U=new te.tC(this.viewHelper.viewDomNode);this._register(U.onPointerMove(this.viewHelper.viewDomNode,q=>this._onMouseMove(q))),this._register(U.onPointerUp(this.viewHelper.viewDomNode,q=>this._onMouseUp(q))),this._register(U.onPointerLeave(this.viewHelper.viewDomNode,q=>this._onMouseLeave(q))),this._register(U.onPointerDown(this.viewHelper.viewDomNode,(q,_e)=>this._onMouseDown(q,_e)))}onTap(t){!t.initialTarget||!this.viewHelper.linesContentDomNode.contains(t.initialTarget)||(t.preventDefault(),this.viewHelper.focusTextArea(),this._dispatchGesture(t,!1))}onChange(t){this._lastPointerType==="touch"&&this._context.viewModel.viewLayout.deltaScrollNow(-t.translationX,-t.translationY),this._lastPointerType==="pen"&&this._dispatchGesture(t,!0)}_dispatchGesture(t,d){const L=this._createMouseTarget(new te.gy(t,!1,this.viewHelper.viewDomNode),!1);L.position&&this.viewController.dispatchMouse({position:L.position,mouseColumn:L.position.column,startedOnLineNumbers:!1,revealType:1,mouseDownCount:t.tapCount,inSelectionMode:d,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:L.type===6&&L.detail.injectedText!==null})}_onMouseDown(t,d){t.browserEvent.pointerType!=="touch"&&super._onMouseDown(t,d)}}class it extends pe{constructor(t,d,L){super(t,d,L),this._register(ue.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(p.nm(this.viewHelper.linesContentDomNode,ue.t.Tap,U=>this.onTap(U))),this._register(p.nm(this.viewHelper.linesContentDomNode,ue.t.Change,U=>this.onChange(U))),this._register(p.nm(this.viewHelper.linesContentDomNode,ue.t.Contextmenu,U=>this._onContextMenu(new te.gy(U,!1,this.viewHelper.viewDomNode),!1)))}onTap(t){t.preventDefault(),this.viewHelper.focusTextArea();const d=this._createMouseTarget(new te.gy(t,!1,this.viewHelper.viewDomNode),!1);if(d.position){const L=document.createEvent("CustomEvent");L.initEvent(oi.pd.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(L),this.viewController.moveTo(d.position,1)}}onChange(t){this._context.viewModel.viewLayout.deltaScrollNow(-t.translationX,-t.translationY)}}class yt extends w.JT{constructor(t,d,L){super(),(n.gn||n.Dt&&n.tq)&&oe.D.pointerEvents?this.handler=this._register(new ti(t,d,L)):de.E.TouchEvent?this.handler=this._register(new it(t,d,L)):this.handler=this._register(new pe(t,d,L))}getTargetAtClientPoint(t,d){return this.handler.getTargetAtClientPoint(t,d)}}var $t=e(61652),Nt=e(30144),qt=e(14691);class Ht extends se{}var He=e(63279),Ct=e(44444);class Gt extends Ht{constructor(t){super(),this._context=t,this._readConfig(),this._lastCursorModelPosition=new he.L(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const t=this._context.configuration.options;this._lineHeight=t.get(67);const d=t.get(68);this._renderLineNumbers=d.renderType,this._renderCustomLineNumbers=d.renderFn,this._renderFinalNewline=t.get(95);const L=t.get(145);this._lineNumbersLeft=L.lineNumbersLeft,this._lineNumbersWidth=L.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){return this._readConfig(),!0}onCursorStateChanged(t){const d=t.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(d);let L=!1;return this._activeLineNumber!==d.lineNumber&&(this._activeLineNumber=d.lineNumber,L=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(L=!0),L}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}onDecorationsChanged(t){return t.affectsLineNumber}_getLineRenderLineNumber(t){const d=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new he.L(t,1));if(d.column!==1)return"";const L=d.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(L);if(this._renderLineNumbers===2){const U=Math.abs(this._lastCursorModelPosition.lineNumber-L);return U===0?'<span class="relative-current-line-number">'+L+"</span>":String(U)}if(this._renderLineNumbers===3){if(this._lastCursorModelPosition.lineNumber===L||L%10===0)return String(L);const U=this._context.viewModel.getLineCount();return L===U?String(L):""}return String(L)}prepareRender(t){if(this._renderLineNumbers===0){this._renderResult=null;return}const d=n.IJ?this._lineHeight%2===0?" lh-even":" lh-odd":"",L=t.visibleRange.startLineNumber,U=t.visibleRange.endLineNumber,q=this._context.viewModel.getDecorationsInViewport(t.visibleRange).filter(qe=>!!qe.options.lineNumberClassName);q.sort((qe,pt)=>M.e.compareRangesUsingEnds(qe.range,pt.range));let _e=0;const Me=this._context.viewModel.getLineCount(),ze=[];for(let qe=L;qe<=U;qe++){const pt=qe-L;let Dt=this._getLineRenderLineNumber(qe),Ot="";for(;_e<q.length&&q[_e].range.endLineNumber<qe;)_e++;for(let zt=_e;zt<q.length;zt++){const{range:ii,options:ai}=q[zt];ii.startLineNumber<=qe&&(Ot+=" "+ai.lineNumberClassName)}if(!Dt&&!Ot){ze[pt]="";continue}qe===Me&&this._context.viewModel.getLineLength(qe)===0&&(this._renderFinalNewline==="off"&&(Dt=""),this._renderFinalNewline==="dimmed"&&(Ot+=" dimmed-line-number")),qe===this._activeLineNumber&&(Ot+=" active-line-number"),ze[pt]=`<div class="${Gt.CLASS_NAME}${d}${Ot}" style="left:${this._lineNumbersLeft}px;width:${this._lineNumbersWidth}px;">${Dt}</div>`}this._renderResult=ze}render(t,d){if(!this._renderResult)return"";const L=d-t;return L<0||L>=this._renderResult.length?"":this._renderResult[L]}}Gt.CLASS_NAME="line-numbers",(0,He.Ic)((Rt,t)=>{const d=Rt.getColor(Ct.hw),L=Rt.getColor(Ct.Bj);L?t.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${L}; }`):d&&t.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${d.transparent(.4)}; }`)});class Di extends ne{constructor(t){super(t);const d=this._context.configuration.options,L=d.get(145);this._canUseLayerHinting=!d.get(32),this._contentLeft=L.contentLeft,this._glyphMarginLeft=L.glyphMarginLeft,this._glyphMarginWidth=L.glyphMarginWidth,this._domNode=(0,Q.X)(document.createElement("div")),this._domNode.setClassName(Di.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,Q.X)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(Di.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(t){const d=this._context.configuration.options,L=d.get(145);return this._canUseLayerHinting=!d.get(32),this._contentLeft=L.contentLeft,this._glyphMarginLeft=L.glyphMarginLeft,this._glyphMarginWidth=L.glyphMarginWidth,!0}onScrollChanged(t){return super.onScrollChanged(t)||t.scrollTopChanged}prepareRender(t){}render(t){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const d=t.scrollTop-t.bigNumbersDelta;this._domNode.setTop(-d);const L=Math.min(t.scrollHeight,1e6);this._domNode.setHeight(L),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(L)}}Di.CLASS_NAME="glyph-margin",Di.OUTER_CLASS_NAME="margin";var $i=e(47205);const Bi="monaco-mouse-cursor-text";var Vi=e(91895),Ji=e(64707),wn=e(5764),yn=e(66070),Cn=e(87058),an=function(Rt,t,d,L){var U=arguments.length,q=U<3?t:L===null?L=Object.getOwnPropertyDescriptor(t,d):L,_e;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(Rt,t,d,L);else for(var Me=Rt.length-1;Me>=0;Me--)(_e=Rt[Me])&&(q=(U<3?_e(q):U>3?_e(t,d,q):_e(t,d))||q);return U>3&&q&&Object.defineProperty(t,d,q),q},Rn=function(Rt,t){return function(d,L){t(d,L,Rt)}};class kn{constructor(t,d,L,U,q){this._context=t,this.modelLineNumber=d,this.distanceToModelLineStart=L,this.widthOfHiddenLineTextBefore=U,this.distanceToModelLineEnd=q,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(t){const d=new he.L(this.modelLineNumber,this.distanceToModelLineStart+1),L=new he.L(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(d),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(L),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=t.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=t.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(t){return this._previousPresentation||(t?this._previousPresentation=t:this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const fn=a.vU;let On=class extends ne{constructor(t,d,L,U,q){super(t),this._keybindingService=U,this._instantiationService=q,this._primaryCursorPosition=new he.L(1,1),this._primaryCursorVisibleRange=null,this._viewController=d,this._visibleRangeProvider=L,this._scrollLeft=0,this._scrollTop=0;const _e=this._context.configuration.options,Me=_e.get(145);this._setAccessibilityOptions(_e),this._contentLeft=Me.contentLeft,this._contentWidth=Me.contentWidth,this._contentHeight=Me.height,this._fontInfo=_e.get(50),this._lineHeight=_e.get(67),this._emptySelectionClipboard=_e.get(37),this._copyWithSyntaxHighlighting=_e.get(25),this._visibleTextArea=null,this._selections=[new Te.Y(1,1,1,1)],this._modelSelections=[new Te.Y(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,Q.X)(document.createElement("textarea")),ee.write(this.textArea,7),this.textArea.setClassName(`inputarea ${Bi}`),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:ze}=this._context.viewModel.model.getOptions();this.textArea.domNode.style.tabSize=`${ze*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(_e)),this.textArea.setAttribute("aria-required",_e.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(_e.get(124))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",$t.NC("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-autocomplete",_e.get(91)?"none":"both"),this._ensureReadOnlyAttribute(),this.textAreaCover=(0,Q.X)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const qe={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:Ot=>this._context.viewModel.getLineMaxColumn(Ot),getValueInRange:(Ot,zt)=>this._context.viewModel.getValueInRange(Ot,zt),getValueLengthInRange:(Ot,zt)=>this._context.viewModel.getValueLengthInRange(Ot,zt),modifyPosition:(Ot,zt)=>this._context.viewModel.modifyPosition(Ot,zt)},pt={getDataToCopy:()=>{const Ot=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,n.ED),zt=this._context.viewModel.model.getEOL(),ii=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),ai=Array.isArray(Ot)?Ot:null,pi=Array.isArray(Ot)?Ot.join(zt):Ot;let Si,ki=null;if(oi.RA.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&pi.length<65536){const Ai=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);Ai&&(Si=Ai.html,ki=Ai.mode)}return{isFromEmptySelection:ii,multicursorText:ai,text:pi,html:Si,mode:ki}},getScreenReaderContent:()=>{if(this._accessibilitySupport===1){const Ot=this._selections[0];if(n.dz&&Ot.isEmpty()){const ii=Ot.getStartPosition();let ai=this._getWordBeforePosition(ii);if(ai.length===0&&(ai=this._getCharacterBeforePosition(ii)),ai.length>0)return new qt.un(ai,ai.length,ai.length,M.e.fromPositions(ii),0)}if(n.dz&&!Ot.isEmpty()&&qe.getValueLengthInRange(Ot,0)<500){const ii=qe.getValueInRange(Ot,0);return new qt.un(ii,0,ii.length,Ot,0)}if(a.G6&&!Ot.isEmpty()){const ii="vscode-placeholder";return new qt.un(ii,0,ii.length,null,void 0)}return qt.un.EMPTY}if(a.Dt){const Ot=this._selections[0];if(Ot.isEmpty()){const zt=Ot.getStartPosition(),[ii,ai]=this._getAndroidWordAtPosition(zt);if(ii.length>0)return new qt.un(ii,ai,ai,M.e.fromPositions(zt),0)}return qt.un.EMPTY}return qt.ee.fromEditorSelection(qe,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(Ot,zt,ii)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(Ot,zt,ii)},Dt=this._register(new oi.Tj(this.textArea.domNode));this._textAreaInput=this._register(this._instantiationService.createInstance(oi.Fz,pt,Dt,n.OS,{isAndroid:a.Dt,isChrome:a.i7,isFirefox:a.vU,isSafari:a.G6})),this._register(this._textAreaInput.onKeyDown(Ot=>{this._viewController.emitKeyDown(Ot)})),this._register(this._textAreaInput.onKeyUp(Ot=>{this._viewController.emitKeyUp(Ot)})),this._register(this._textAreaInput.onPaste(Ot=>{let zt=!1,ii=null,ai=null;Ot.metadata&&(zt=this._emptySelectionClipboard&&!!Ot.metadata.isFromEmptySelection,ii=typeof Ot.metadata.multicursorText!="undefined"?Ot.metadata.multicursorText:null,ai=Ot.metadata.mode),this._viewController.paste(Ot.text,zt,ii,ai)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(Ot=>{Ot.replacePrevCharCnt||Ot.replaceNextCharCnt||Ot.positionDelta?(qt.al&&console.log(` => compositionType: <<${Ot.text}>>, ${Ot.replacePrevCharCnt}, ${Ot.replaceNextCharCnt}, ${Ot.positionDelta}`),this._viewController.compositionType(Ot.text,Ot.replacePrevCharCnt,Ot.replaceNextCharCnt,Ot.positionDelta)):(qt.al&&console.log(` => type: <<${Ot.text}>>`),this._viewController.type(Ot.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(Ot=>{this._viewController.setSelection(Ot)})),this._register(this._textAreaInput.onCompositionStart(Ot=>{const zt=this.textArea.domNode,ii=this._modelSelections[0],{distanceToModelLineStart:ai,widthOfHiddenTextBefore:pi}=(()=>{const ki=zt.value.substring(0,Math.min(zt.selectionStart,zt.selectionEnd)),Ai=ki.lastIndexOf(`
`),qi=ki.substring(Ai+1),on=qi.lastIndexOf("	"),cn=qi.length-on-1,un=ii.getStartPosition(),Ln=Math.min(un.column-1,cn),pn=un.column-1-Ln,gn=qi.substring(0,qi.length-Ln),{tabSize:Dn}=this._context.viewModel.model.getOptions(),bn=xn(this.textArea.domNode.ownerDocument,gn,this._fontInfo,Dn);return{distanceToModelLineStart:pn,widthOfHiddenTextBefore:bn}})(),{distanceToModelLineEnd:Si}=(()=>{const ki=zt.value.substring(Math.max(zt.selectionStart,zt.selectionEnd)),Ai=ki.indexOf(`
`),qi=Ai===-1?ki:ki.substring(0,Ai),on=qi.indexOf("	"),cn=on===-1?qi.length:qi.length-on-1,un=ii.getEndPosition(),Ln=Math.min(this._context.viewModel.model.getLineMaxColumn(un.lineNumber)-un.column,cn);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(un.lineNumber)-un.column-Ln}})();this._context.viewModel.revealRange("keyboard",!0,M.e.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new kn(this._context,ii.startLineNumber,ai,pi,Si),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${Bi} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(Ot=>{this._visibleTextArea&&(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._render(),this.textArea.setClassName(`inputarea ${Bi}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)})),this._register(wn.F.onDidChange(()=>{this._ensureReadOnlyAttribute()}))}writeScreenReaderContent(t){this._textAreaInput.writeNativeTextAreaContent(t)}dispose(){super.dispose()}_getAndroidWordAtPosition(t){const d='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',L=this._context.viewModel.getLineContent(t.lineNumber),U=(0,$i.u)(d,[]);let q=!0,_e=t.column,Me=!0,ze=t.column,qe=0;for(;qe<50&&(q||Me);){if(q&&_e<=1&&(q=!1),q){const pt=L.charCodeAt(_e-2);U.get(pt)!==0?q=!1:_e--}if(Me&&ze>L.length&&(Me=!1),Me){const pt=L.charCodeAt(ze-1);U.get(pt)!==0?Me=!1:ze++}qe++}return[L.substring(_e-1,ze-1),t.column-_e]}_getWordBeforePosition(t){const d=this._context.viewModel.getLineContent(t.lineNumber),L=(0,$i.u)(this._context.configuration.options.get(131),[]);let U=t.column,q=0;for(;U>1;){const _e=d.charCodeAt(U-2);if(L.get(_e)!==0||q>50)return d.substring(U-1,t.column-1);q++,U--}return d.substring(0,t.column-1)}_getCharacterBeforePosition(t){if(t.column>1){const L=this._context.viewModel.getLineContent(t.lineNumber).charAt(t.column-2);if(!Nt.ZG(L.charCodeAt(0)))return L}return""}_getAriaLabel(t){var d,L,U;if(t.get(2)===1){const _e=(d=this._keybindingService.lookupKeybinding("editor.action.toggleScreenReaderAccessibilityMode"))===null||d===void 0?void 0:d.getAriaLabel(),Me=(L=this._keybindingService.lookupKeybinding("workbench.action.showCommands"))===null||L===void 0?void 0:L.getAriaLabel(),ze=(U=this._keybindingService.lookupKeybinding("workbench.action.openGlobalKeybindings"))===null||U===void 0?void 0:U.getAriaLabel(),qe=$t.NC("accessibilityModeOff","The editor is not accessible at this time.");return _e?$t.NC("accessibilityOffAriaLabel","{0} To enable screen reader optimized mode, use {1}",qe,_e):Me?$t.NC("accessibilityOffAriaLabelNoKb","{0} To enable screen reader optimized mode, open the quick pick with {1} and run the command Toggle Screen Reader Accessibility Mode, which is currently not triggerable via keyboard.",qe,Me):ze?$t.NC("accessibilityOffAriaLabelNoKbs","{0} Please assign a keybinding for the command Toggle Screen Reader Accessibility Mode by accessing the keybindings editor with {1} and run it.",qe,ze):qe}return t.get(4)}_setAccessibilityOptions(t){this._accessibilitySupport=t.get(2);const d=t.get(3);this._accessibilitySupport===2&&d===N.BH.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=d;const U=t.get(145).wrappingColumn;if(U!==-1&&this._accessibilitySupport!==1){const q=t.get(50);this._textAreaWrapping=!0,this._textAreaWidth=Math.round(U*q.typicalHalfwidthCharacterWidth)}else this._textAreaWrapping=!1,this._textAreaWidth=fn?0:1}onConfigurationChanged(t){const d=this._context.configuration.options,L=d.get(145);this._setAccessibilityOptions(d),this._contentLeft=L.contentLeft,this._contentWidth=L.contentWidth,this._contentHeight=L.height,this._fontInfo=d.get(50),this._lineHeight=d.get(67),this._emptySelectionClipboard=d.get(37),this._copyWithSyntaxHighlighting=d.get(25),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:U}=this._context.viewModel.model.getOptions();return this.textArea.domNode.style.tabSize=`${U*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("aria-label",this._getAriaLabel(d)),this.textArea.setAttribute("aria-required",d.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(d.get(124))),(t.hasChanged(34)||t.hasChanged(91))&&this._ensureReadOnlyAttribute(),t.hasChanged(2)&&this._textAreaInput.writeNativeTextAreaContent("strategy changed"),!0}onCursorStateChanged(t){return this._selections=t.selections.slice(0),this._modelSelections=t.modelSelections.slice(0),this._textAreaInput.writeNativeTextAreaContent("selection changed"),!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return this._scrollLeft=t.scrollLeft,this._scrollTop=t.scrollTop,!0}onZonesChanged(t){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(t){t.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",t.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),t.role&&this.textArea.setAttribute("role",t.role)}_ensureReadOnlyAttribute(){const t=this._context.configuration.options;!wn.F.enabled||t.get(34)&&t.get(91)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")}prepareRender(t){var d;this._primaryCursorPosition=new he.L(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=t.visibleRangeForPosition(this._primaryCursorPosition),(d=this._visibleTextArea)===null||d===void 0||d.prepareRender(t)}render(t){this._textAreaInput.writeNativeTextAreaContent("render"),this._render()}_render(){var t;if(this._visibleTextArea){const U=this._visibleTextArea.visibleTextareaStart,q=this._visibleTextArea.visibleTextareaEnd,_e=this._visibleTextArea.startPosition,Me=this._visibleTextArea.endPosition;if(_e&&Me&&U&&q&&q.left>=this._scrollLeft&&U.left<=this._scrollLeft+this._contentWidth){const ze=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,qe=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let pt=this._visibleTextArea.widthOfHiddenLineTextBefore,Dt=this._contentLeft+U.left-this._scrollLeft,Ot=q.left-U.left+1;if(Dt<this._contentLeft){const ki=this._contentLeft-Dt;Dt+=ki,pt+=ki,Ot-=ki}Ot>this._contentWidth&&(Ot=this._contentWidth);const zt=this._context.viewModel.getViewLineData(_e.lineNumber),ii=zt.tokens.findTokenIndexAtOffset(_e.column-1),ai=zt.tokens.findTokenIndexAtOffset(Me.column-1),pi=ii===ai,Si=this._visibleTextArea.definePresentation(pi?zt.tokens.getPresentation(ii):null);this.textArea.domNode.scrollTop=qe*this._lineHeight,this.textArea.domNode.scrollLeft=pt,this._doRender({lastRenderPosition:null,top:ze,left:Dt,width:Ot,height:this._lineHeight,useCover:!1,color:(Vi.RW.getColorMap()||[])[Si.foreground],italic:Si.italic,bold:Si.bold,underline:Si.underline,strikethrough:Si.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const d=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(d<this._contentLeft||d>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const L=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(L<0||L>this._contentHeight){this._renderAtTopLeft();return}if(n.dz||this._accessibilitySupport===2){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:L,left:this._textAreaWrapping?this._contentLeft:d,width:this._textAreaWidth,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const U=(t=this._textAreaInput.textAreaState.newlineCountBeforeSelection)!==null&&t!==void 0?t:this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=U*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:L,left:this._textAreaWrapping?this._contentLeft:d,width:this._textAreaWidth,height:fn?0:1,useCover:!1})}_newlinecount(t){let d=0,L=-1;do{if(L=t.indexOf(`
`,L+1),L===-1)break;d++}while(!0);return d}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:this._textAreaWidth,height:fn?0:1,useCover:!0})}_doRender(t){this._lastRenderPosition=t.lastRenderPosition;const d=this.textArea,L=this.textAreaCover;(0,g.N)(d,this._fontInfo),d.setTop(t.top),d.setLeft(t.left),d.setWidth(t.width),d.setHeight(t.height),d.setColor(t.color?Ji.Il.Format.CSS.formatHex(t.color):""),d.setFontStyle(t.italic?"italic":""),t.bold&&d.setFontWeight("bold"),d.setTextDecoration(`${t.underline?" underline":""}${t.strikethrough?" line-through":""}`),L.setTop(t.useCover?t.top:0),L.setLeft(t.useCover?t.left:0),L.setWidth(t.useCover?t.width:0),L.setHeight(t.useCover?t.height:0);const U=this._context.configuration.options;U.get(57)?L.setClassName("monaco-editor-background textAreaCover "+Di.OUTER_CLASS_NAME):U.get(68).renderType!==0?L.setClassName("monaco-editor-background textAreaCover "+Gt.CLASS_NAME):L.setClassName("monaco-editor-background textAreaCover")}};On=an([Rn(3,yn.d),Rn(4,Cn.TG)],On);function xn(Rt,t,d,L){if(t.length===0)return 0;const U=Rt.createElement("div");U.style.position="absolute",U.style.top="-50000px",U.style.width="50000px";const q=Rt.createElement("span");(0,g.N)(q,d),q.style.whiteSpace="pre",q.style.tabSize=`${L*d.spaceWidth}px`,q.append(t),U.appendChild(q),Rt.body.appendChild(U);const _e=q.offsetWidth;return Rt.body.removeChild(U),_e}var An=e(25122),Zt=e(2048);class ci{constructor(t,d,L,U){this.configuration=t,this.viewModel=d,this.userInputEvents=L,this.commandDelegate=U}paste(t,d,L,U){this.commandDelegate.paste(t,d,L,U)}type(t){this.commandDelegate.type(t)}compositionType(t,d,L,U){this.commandDelegate.compositionType(t,d,L,U)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(t){Zt.Ox.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:t})}_validateViewColumn(t){const d=this.viewModel.getLineMinColumn(t.lineNumber);return t.column<d?new he.L(t.lineNumber,d):t}_hasMulticursorModifier(t){switch(this.configuration.options.get(78)){case"altKey":return t.altKey;case"ctrlKey":return t.ctrlKey;case"metaKey":return t.metaKey;default:return!1}}_hasNonMulticursorModifier(t){switch(this.configuration.options.get(78)){case"altKey":return t.ctrlKey||t.metaKey;case"ctrlKey":return t.altKey||t.metaKey;case"metaKey":return t.ctrlKey||t.altKey;default:return!1}}dispatchMouse(t){const d=this.configuration.options,L=n.IJ&&d.get(107),U=d.get(22);t.middleButton&&!L?this._columnSelect(t.position,t.mouseColumn,t.inSelectionMode):t.startedOnLineNumbers?this._hasMulticursorModifier(t)?t.inSelectionMode?this._lastCursorLineSelect(t.position,t.revealType):this._createCursor(t.position,!0):t.inSelectionMode?this._lineSelectDrag(t.position,t.revealType):this._lineSelect(t.position,t.revealType):t.mouseDownCount>=4?this._selectAll():t.mouseDownCount===3?this._hasMulticursorModifier(t)?t.inSelectionMode?this._lastCursorLineSelectDrag(t.position,t.revealType):this._lastCursorLineSelect(t.position,t.revealType):t.inSelectionMode?this._lineSelectDrag(t.position,t.revealType):this._lineSelect(t.position,t.revealType):t.mouseDownCount===2?t.onInjectedText||(this._hasMulticursorModifier(t)?this._lastCursorWordSelect(t.position,t.revealType):t.inSelectionMode?this._wordSelectDrag(t.position,t.revealType):this._wordSelect(t.position,t.revealType)):this._hasMulticursorModifier(t)?this._hasNonMulticursorModifier(t)||(t.shiftKey?this._columnSelect(t.position,t.mouseColumn,!0):t.inSelectionMode?this._lastCursorMoveToSelect(t.position,t.revealType):this._createCursor(t.position,!1)):t.inSelectionMode?t.altKey?this._columnSelect(t.position,t.mouseColumn,!0):U?this._columnSelect(t.position,t.mouseColumn,!0):this._moveToSelect(t.position,t.revealType):this.moveTo(t.position,t.revealType)}_usualArgs(t,d){return t=this._validateViewColumn(t),{source:"mouse",position:this._convertViewToModelPosition(t),viewPosition:t,revealType:d}}moveTo(t,d){Zt.Ox.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(t,d))}_moveToSelect(t,d){Zt.Ox.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(t,d))}_columnSelect(t,d,L){t=this._validateViewColumn(t),Zt.Ox.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(t),viewPosition:t,mouseColumn:d,doColumnSelect:L})}_createCursor(t,d){t=this._validateViewColumn(t),Zt.Ox.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(t),viewPosition:t,wholeLine:d})}_lastCursorMoveToSelect(t,d){Zt.Ox.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(t,d))}_wordSelect(t,d){Zt.Ox.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(t,d))}_wordSelectDrag(t,d){Zt.Ox.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(t,d))}_lastCursorWordSelect(t,d){Zt.Ox.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(t,d))}_lineSelect(t,d){Zt.Ox.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(t,d))}_lineSelectDrag(t,d){Zt.Ox.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(t,d))}_lastCursorLineSelect(t,d){Zt.Ox.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(t,d))}_lastCursorLineSelectDrag(t,d){Zt.Ox.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(t,d))}_selectAll(){Zt.Ox.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(t){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(t)}emitKeyDown(t){this.userInputEvents.emitKeyDown(t)}emitKeyUp(t){this.userInputEvents.emitKeyUp(t)}emitContextMenu(t){this.userInputEvents.emitContextMenu(t)}emitMouseMove(t){this.userInputEvents.emitMouseMove(t)}emitMouseLeave(t){this.userInputEvents.emitMouseLeave(t)}emitMouseUp(t){this.userInputEvents.emitMouseUp(t)}emitMouseDown(t){this.userInputEvents.emitMouseDown(t)}emitMouseDrag(t){this.userInputEvents.emitMouseDrag(t)}emitMouseDrop(t){this.userInputEvents.emitMouseDrop(t)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(t){this.userInputEvents.emitMouseWheel(t)}}var _i=e(73275),Ri=e(42065);class Zi{constructor(t){this._createLine=t,this._set(1,[])}flush(){this._set(1,[])}_set(t,d){this._lines=d,this._rendLineNumberStart=t}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(t){const d=t-this._rendLineNumberStart;if(d<0||d>=this._lines.length)throw new E.he("Illegal value for lineNumber");return this._lines[d]}onLinesDeleted(t,d){if(this.getCount()===0)return null;const L=this.getStartLineNumber(),U=this.getEndLineNumber();if(d<L){const ze=d-t+1;return this._rendLineNumberStart-=ze,null}if(t>U)return null;let q=0,_e=0;for(let ze=L;ze<=U;ze++){const qe=ze-this._rendLineNumberStart;t<=ze&&ze<=d&&(_e===0?(q=qe,_e=1):_e++)}if(t<L){let ze=0;d<L?ze=d-t+1:ze=L-t,this._rendLineNumberStart-=ze}return this._lines.splice(q,_e)}onLinesChanged(t,d){const L=t+d-1;if(this.getCount()===0)return!1;const U=this.getStartLineNumber(),q=this.getEndLineNumber();let _e=!1;for(let Me=t;Me<=L;Me++)Me>=U&&Me<=q&&(this._lines[Me-this._rendLineNumberStart].onContentChanged(),_e=!0);return _e}onLinesInserted(t,d){if(this.getCount()===0)return null;const L=d-t+1,U=this.getStartLineNumber(),q=this.getEndLineNumber();if(t<=U)return this._rendLineNumberStart+=L,null;if(t>q)return null;if(L+t>q)return this._lines.splice(t-this._rendLineNumberStart,q-t+1);const _e=[];for(let Dt=0;Dt<L;Dt++)_e[Dt]=this._createLine();const Me=t-this._rendLineNumberStart,ze=this._lines.slice(0,Me),qe=this._lines.slice(Me,this._lines.length-L),pt=this._lines.slice(this._lines.length-L,this._lines.length);return this._lines=ze.concat(_e).concat(qe),pt}onTokensChanged(t){if(this.getCount()===0)return!1;const d=this.getStartLineNumber(),L=this.getEndLineNumber();let U=!1;for(let q=0,_e=t.length;q<_e;q++){const Me=t[q];if(Me.toLineNumber<d||Me.fromLineNumber>L)continue;const ze=Math.max(d,Me.fromLineNumber),qe=Math.min(L,Me.toLineNumber);for(let pt=ze;pt<=qe;pt++){const Dt=pt-this._rendLineNumberStart;this._lines[Dt].onTokensChanged(),U=!0}}return U}}class gi{constructor(t){this._host=t,this.domNode=this._createDomNode(),this._linesCollection=new Zi(()=>this._host.createVisibleLine())}_createDomNode(){const t=(0,Q.X)(document.createElement("div"));return t.setClassName("view-layer"),t.setPosition("absolute"),t.domNode.setAttribute("role","presentation"),t.domNode.setAttribute("aria-hidden","true"),t}onConfigurationChanged(t){return!!t.hasChanged(145)}onFlushed(t){return this._linesCollection.flush(),!0}onLinesChanged(t){return this._linesCollection.onLinesChanged(t.fromLineNumber,t.count)}onLinesDeleted(t){const d=this._linesCollection.onLinesDeleted(t.fromLineNumber,t.toLineNumber);if(d)for(let L=0,U=d.length;L<U;L++){const q=d[L].getDomNode();q&&this.domNode.domNode.removeChild(q)}return!0}onLinesInserted(t){const d=this._linesCollection.onLinesInserted(t.fromLineNumber,t.toLineNumber);if(d)for(let L=0,U=d.length;L<U;L++){const q=d[L].getDomNode();q&&this.domNode.domNode.removeChild(q)}return!0}onScrollChanged(t){return t.scrollTopChanged}onTokensChanged(t){return this._linesCollection.onTokensChanged(t.ranges)}onZonesChanged(t){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(t){return this._linesCollection.getLine(t)}renderLines(t){const d=this._linesCollection._get(),L=new Ze(this.domNode.domNode,this._host,t),U={rendLineNumberStart:d.rendLineNumberStart,lines:d.lines,linesLength:d.lines.length},q=L.render(U,t.startLineNumber,t.endLineNumber,t.relativeVerticalOffset);this._linesCollection._set(q.rendLineNumberStart,q.lines)}}class Ze{constructor(t,d,L){this.domNode=t,this.host=d,this.viewportData=L}render(t,d,L,U){const q={rendLineNumberStart:t.rendLineNumberStart,lines:t.lines.slice(0),linesLength:t.linesLength};if(q.rendLineNumberStart+q.linesLength-1<d||L<q.rendLineNumberStart){q.rendLineNumberStart=d,q.linesLength=L-d+1,q.lines=[];for(let _e=d;_e<=L;_e++)q.lines[_e-d]=this.host.createVisibleLine();return this._finishRendering(q,!0,U),q}if(this._renderUntouchedLines(q,Math.max(d-q.rendLineNumberStart,0),Math.min(L-q.rendLineNumberStart,q.linesLength-1),U,d),q.rendLineNumberStart>d){const _e=d,Me=Math.min(L,q.rendLineNumberStart-1);_e<=Me&&(this._insertLinesBefore(q,_e,Me,U,d),q.linesLength+=Me-_e+1)}else if(q.rendLineNumberStart<d){const _e=Math.min(q.linesLength,d-q.rendLineNumberStart);_e>0&&(this._removeLinesBefore(q,_e),q.linesLength-=_e)}if(q.rendLineNumberStart=d,q.rendLineNumberStart+q.linesLength-1<L){const _e=q.rendLineNumberStart+q.linesLength,Me=L;_e<=Me&&(this._insertLinesAfter(q,_e,Me,U,d),q.linesLength+=Me-_e+1)}else if(q.rendLineNumberStart+q.linesLength-1>L){const _e=Math.max(0,L-q.rendLineNumberStart+1),ze=q.linesLength-1-_e+1;ze>0&&(this._removeLinesAfter(q,ze),q.linesLength-=ze)}return this._finishRendering(q,!1,U),q}_renderUntouchedLines(t,d,L,U,q){const _e=t.rendLineNumberStart,Me=t.lines;for(let ze=d;ze<=L;ze++){const qe=_e+ze;Me[ze].layoutLine(qe,U[qe-q],this.viewportData.lineHeight)}}_insertLinesBefore(t,d,L,U,q){const _e=[];let Me=0;for(let ze=d;ze<=L;ze++)_e[Me++]=this.host.createVisibleLine();t.lines=_e.concat(t.lines)}_removeLinesBefore(t,d){for(let L=0;L<d;L++){const U=t.lines[L].getDomNode();U&&this.domNode.removeChild(U)}t.lines.splice(0,d)}_insertLinesAfter(t,d,L,U,q){const _e=[];let Me=0;for(let ze=d;ze<=L;ze++)_e[Me++]=this.host.createVisibleLine();t.lines=t.lines.concat(_e)}_removeLinesAfter(t,d){const L=t.linesLength-d;for(let U=0;U<d;U++){const q=t.lines[L+U].getDomNode();q&&this.domNode.removeChild(q)}t.lines.splice(L,d)}_finishRenderingNewLines(t,d,L,U){Ze._ttPolicy&&(L=Ze._ttPolicy.createHTML(L));const q=this.domNode.lastChild;d||!q?this.domNode.innerHTML=L:q.insertAdjacentHTML("afterend",L);let _e=this.domNode.lastChild;for(let Me=t.linesLength-1;Me>=0;Me--){const ze=t.lines[Me];U[Me]&&(ze.setDomNode(_e),_e=_e.previousSibling)}}_finishRenderingInvalidLines(t,d,L){const U=document.createElement("div");Ze._ttPolicy&&(d=Ze._ttPolicy.createHTML(d)),U.innerHTML=d;for(let q=0;q<t.linesLength;q++){const _e=t.lines[q];if(L[q]){const Me=U.firstChild,ze=_e.getDomNode();ze.parentNode.replaceChild(Me,ze),_e.setDomNode(Me)}}}_finishRendering(t,d,L){const U=Ze._sb,q=t.linesLength,_e=t.lines,Me=t.rendLineNumberStart,ze=[];{U.reset();let qe=!1;for(let pt=0;pt<q;pt++){const Dt=_e[pt];ze[pt]=!1,!(Dt.getDomNode()||!Dt.renderLine(pt+Me,L[pt],this.viewportData.lineHeight,this.viewportData,U))&&(ze[pt]=!0,qe=!0)}qe&&this._finishRenderingNewLines(t,d,U.build(),ze)}{U.reset();let qe=!1;const pt=[];for(let Dt=0;Dt<q;Dt++){const Ot=_e[Dt];pt[Dt]=!1,!(ze[Dt]||!Ot.renderLine(Dt+Me,L[Dt],this.viewportData.lineHeight,this.viewportData,U))&&(pt[Dt]=!0,qe=!0)}qe&&this._finishRenderingInvalidLines(t,U.build(),pt)}}}Ze._ttPolicy=(0,_i.Z)("editorViewLayer",{createHTML:Rt=>Rt}),Ze._sb=new Ri.HT(1e5);class dt extends ne{constructor(t){super(t),this._visibleLines=new gi(this),this.domNode=this._visibleLines.domNode;const L=this._context.configuration.options.get(50);(0,g.N)(this.domNode,L),this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let t=0,d=this._dynamicOverlays.length;t<d;t++)if(this._dynamicOverlays[t].shouldRender())return!0;return!1}dispose(){super.dispose();for(let t=0,d=this._dynamicOverlays.length;t<d;t++)this._dynamicOverlays[t].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new Ue(this._dynamicOverlays)}addDynamicOverlay(t){this._dynamicOverlays.push(t)}onConfigurationChanged(t){this._visibleLines.onConfigurationChanged(t);const L=this._context.configuration.options.get(50);return(0,g.N)(this.domNode,L),!0}onFlushed(t){return this._visibleLines.onFlushed(t)}onFocusChanged(t){return this._isFocused=t.isFocused,!0}onLinesChanged(t){return this._visibleLines.onLinesChanged(t)}onLinesDeleted(t){return this._visibleLines.onLinesDeleted(t)}onLinesInserted(t){return this._visibleLines.onLinesInserted(t)}onScrollChanged(t){return this._visibleLines.onScrollChanged(t)||!0}onTokensChanged(t){return this._visibleLines.onTokensChanged(t)}onZonesChanged(t){return this._visibleLines.onZonesChanged(t)}prepareRender(t){const d=this._dynamicOverlays.filter(L=>L.shouldRender());for(let L=0,U=d.length;L<U;L++){const q=d[L];q.prepareRender(t),q.onDidRender()}}render(t){this._viewOverlaysRender(t),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(t){this._visibleLines.renderLines(t.viewportData)}}class Ue{constructor(t){this._dynamicOverlays=t,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(t){this._domNode=(0,Q.X)(t)}onContentChanged(){}onTokensChanged(){}renderLine(t,d,L,U,q){let _e="";for(let Me=0,ze=this._dynamicOverlays.length;Me<ze;Me++){const qe=this._dynamicOverlays[Me];_e+=qe.render(U.startLineNumber,t)}return this._renderedContent===_e?!1:(this._renderedContent=_e,q.appendString('<div style="top:'),q.appendString(String(d)),q.appendString("px;height:"),q.appendString(String(L)),q.appendString('px;">'),q.appendString(_e),q.appendString("</div>"),!0)}layoutLine(t,d,L){this._domNode&&(this._domNode.setTop(d),this._domNode.setHeight(L))}}class $e extends dt{constructor(t){super(t);const L=this._context.configuration.options.get(145);this._contentWidth=L.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(t){const L=this._context.configuration.options.get(145);return this._contentWidth=L.contentWidth,super.onConfigurationChanged(t)||!0}onScrollChanged(t){return super.onScrollChanged(t)||t.scrollWidthChanged}_viewOverlaysRender(t){super._viewOverlaysRender(t),this.domNode.setWidth(Math.max(t.scrollWidth,this._contentWidth))}}class bt extends dt{constructor(t){super(t);const d=this._context.configuration.options,L=d.get(145);this._contentLeft=L.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),(0,g.N)(this.domNode,d.get(50))}onConfigurationChanged(t){const d=this._context.configuration.options;(0,g.N)(this.domNode,d.get(50));const L=d.get(145);return this._contentLeft=L.contentLeft,super.onConfigurationChanged(t)||!0}onScrollChanged(t){return super.onScrollChanged(t)||t.scrollHeightChanged}_viewOverlaysRender(t){super._viewOverlaysRender(t);const d=Math.min(t.scrollHeight,1e6);this.domNode.setHeight(d),this.domNode.setWidth(this._contentLeft)}}class ft{constructor(t){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=t}emitKeyDown(t){var d;(d=this.onKeyDown)===null||d===void 0||d.call(this,t)}emitKeyUp(t){var d;(d=this.onKeyUp)===null||d===void 0||d.call(this,t)}emitContextMenu(t){var d;(d=this.onContextMenu)===null||d===void 0||d.call(this,this._convertViewToModelMouseEvent(t))}emitMouseMove(t){var d;(d=this.onMouseMove)===null||d===void 0||d.call(this,this._convertViewToModelMouseEvent(t))}emitMouseLeave(t){var d;(d=this.onMouseLeave)===null||d===void 0||d.call(this,this._convertViewToModelMouseEvent(t))}emitMouseDown(t){var d;(d=this.onMouseDown)===null||d===void 0||d.call(this,this._convertViewToModelMouseEvent(t))}emitMouseUp(t){var d;(d=this.onMouseUp)===null||d===void 0||d.call(this,this._convertViewToModelMouseEvent(t))}emitMouseDrag(t){var d;(d=this.onMouseDrag)===null||d===void 0||d.call(this,this._convertViewToModelMouseEvent(t))}emitMouseDrop(t){var d;(d=this.onMouseDrop)===null||d===void 0||d.call(this,this._convertViewToModelMouseEvent(t))}emitMouseDropCanceled(){var t;(t=this.onMouseDropCanceled)===null||t===void 0||t.call(this)}emitMouseWheel(t){var d;(d=this.onMouseWheel)===null||d===void 0||d.call(this,t)}_convertViewToModelMouseEvent(t){return t.target?{event:t.event,target:this._convertViewToModelMouseTarget(t.target)}:t}_convertViewToModelMouseTarget(t){return ft.convertViewToModelMouseTarget(t,this._coordinatesConverter)}static convertViewToModelMouseTarget(t,d){const L=vi({},t);return L.position&&(L.position=d.convertViewPositionToModelPosition(L.position)),L.range&&(L.range=d.convertViewRangeToModelRange(L.range)),(L.type===5||L.type===8)&&(L.detail=this.convertViewToModelViewZoneData(L.detail,d)),L}static convertViewToModelViewZoneData(t,d){return{viewZoneId:t.viewZoneId,positionBefore:t.positionBefore?d.convertViewPositionToModelPosition(t.positionBefore):t.positionBefore,positionAfter:t.positionAfter?d.convertViewPositionToModelPosition(t.positionAfter):t.positionAfter,position:d.convertViewPositionToModelPosition(t.position),afterLineNumber:d.convertViewPositionToModelPosition(new he.L(t.afterLineNumber,1)).lineNumber}}}class Ye extends ne{constructor(t){super(t),this.blocks=[],this.contentWidth=-1,this.contentLeft=0,this.domNode=(0,Q.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let t=!1;const L=this._context.configuration.options.get(145),U=L.contentWidth-L.verticalScrollbarWidth;this.contentWidth!==U&&(this.contentWidth=U,t=!0);const q=L.contentLeft;return this.contentLeft!==q&&(this.contentLeft=q,t=!0),t}dispose(){super.dispose()}onConfigurationChanged(t){return this.update()}onScrollChanged(t){return t.scrollTopChanged||t.scrollLeftChanged}onDecorationsChanged(t){return!0}onZonesChanged(t){return!0}prepareRender(t){}render(t){var d;let L=0;const U=t.getDecorationsInViewport();for(const q of U){if(!q.options.blockClassName)continue;let _e=this.blocks[L];_e||(_e=this.blocks[L]=(0,Q.X)(document.createElement("div")),this.domNode.appendChild(_e));let Me,ze;q.options.blockIsAfterEnd?(Me=t.getVerticalOffsetAfterLineNumber(q.range.endLineNumber,!1),ze=t.getVerticalOffsetAfterLineNumber(q.range.endLineNumber,!0)):(Me=t.getVerticalOffsetForLineNumber(q.range.startLineNumber,!0),ze=q.range.isEmpty()&&!q.options.blockDoesNotCollapse?t.getVerticalOffsetForLineNumber(q.range.startLineNumber,!1):t.getVerticalOffsetAfterLineNumber(q.range.endLineNumber,!0));const[qe,pt,Dt,Ot]=(d=q.options.blockPadding)!==null&&d!==void 0?d:[0,0,0,0];_e.setClassName("blockDecorations-block "+q.options.blockClassName),_e.setLeft(this.contentLeft-Ot),_e.setWidth(this.contentWidth+Ot+pt),_e.setTop(Me-t.scrollTop-qe),_e.setHeight(ze-Me+qe+Dt),L++}for(let q=L;q<this.blocks.length;q++)this.blocks[q].domNode.remove();this.blocks.length=L}}class vt extends ne{constructor(t,d){super(t),this._viewDomNode=d,this._widgets={},this.domNode=(0,Q.X)(document.createElement("div")),ee.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,Q.X)(document.createElement("div")),ee.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(t){const d=Object.keys(this._widgets);for(const L of d)this._widgets[L].onConfigurationChanged(t);return!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLineMappingChanged(t){return this._updateAnchorsViewPositions(),!0}onLinesChanged(t){return this._updateAnchorsViewPositions(),!0}onLinesDeleted(t){return this._updateAnchorsViewPositions(),!0}onLinesInserted(t){return this._updateAnchorsViewPositions(),!0}onScrollChanged(t){return!0}onZonesChanged(t){return!0}_updateAnchorsViewPositions(){const t=Object.keys(this._widgets);for(const d of t)this._widgets[d].updateAnchorViewPosition()}addWidget(t){const d=new nt(this._context,this._viewDomNode,t);this._widgets[d.id]=d,d.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(d.domNode):this.domNode.appendChild(d.domNode),this.setShouldRender()}setWidgetPosition(t,d,L,U,q){this._widgets[t.getId()].setPosition(d,L,U,q),this.setShouldRender()}removeWidget(t){const d=t.getId();if(this._widgets.hasOwnProperty(d)){const L=this._widgets[d];delete this._widgets[d];const U=L.domNode.domNode;U.parentNode.removeChild(U),U.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(t){return this._widgets.hasOwnProperty(t)?this._widgets[t].suppressMouseDown:!1}onBeforeRender(t){const d=Object.keys(this._widgets);for(const L of d)this._widgets[L].onBeforeRender(t)}prepareRender(t){const d=Object.keys(this._widgets);for(const L of d)this._widgets[L].prepareRender(t)}render(t){const d=Object.keys(this._widgets);for(const L of d)this._widgets[L].render(t)}}class nt{constructor(t,d,L){this._primaryAnchor=new Ge(null,null),this._secondaryAnchor=new Ge(null,null),this._context=t,this._viewDomNode=d,this._actual=L,this.domNode=(0,Q.X)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const U=this._context.configuration.options,q=U.get(145);this._fixedOverflowWidgets=U.get(42),this._contentWidth=q.contentWidth,this._contentLeft=q.contentLeft,this._lineHeight=U.get(67),this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(t){const d=this._context.configuration.options;if(this._lineHeight=d.get(67),t.hasChanged(145)){const L=d.get(145);this._contentLeft=L.contentLeft,this._contentWidth=L.contentWidth,this._maxWidth=this._getMaxWidth()}}updateAnchorViewPosition(){this._setPosition(this._affinity,this._primaryAnchor.modelPosition,this._secondaryAnchor.modelPosition)}_setPosition(t,d,L){this._affinity=t,this._primaryAnchor=U(d,this._context.viewModel,this._affinity),this._secondaryAnchor=U(L,this._context.viewModel,this._affinity);function U(q,_e,Me){if(!q)return new Ge(null,null);const ze=_e.model.validatePosition(q);if(_e.coordinatesConverter.modelPositionIsVisible(ze)){const qe=_e.coordinatesConverter.convertModelPositionToViewPosition(ze,Me!=null?Me:void 0);return new Ge(q,qe)}return new Ge(q,null)}}_getMaxWidth(){const t=this.domNode.domNode.ownerDocument,d=t.defaultView;return this.allowEditorOverflow?(d==null?void 0:d.innerWidth)||t.documentElement.offsetWidth||t.body.offsetWidth:this._contentWidth}setPosition(t,d,L,U){this._setPosition(U,t,d),this._preference=L,this._primaryAnchor.viewPosition&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(t,d,L,U){const q=t.top,_e=q,Me=t.top+t.height,ze=U.viewportHeight-Me,qe=q-L,pt=_e>=L,Dt=Me,Ot=ze>=L;let zt=t.left;return zt+d>U.scrollLeft+U.viewportWidth&&(zt=U.scrollLeft+U.viewportWidth-d),zt<U.scrollLeft&&(zt=U.scrollLeft),{fitsAbove:pt,aboveTop:qe,fitsBelow:Ot,belowTop:Dt,left:zt}}_layoutHorizontalSegmentInPage(t,d,L,U){var q;const ze=Math.max(15,d.left-U),qe=Math.min(d.left+d.width+U,t.width-15),Dt=this._viewDomNode.domNode.ownerDocument.defaultView;let Ot=d.left+L-((q=Dt==null?void 0:Dt.scrollX)!==null&&q!==void 0?q:0);if(Ot+U>qe){const zt=Ot-(qe-U);Ot-=zt,L-=zt}if(Ot<ze){const zt=Ot-ze;Ot-=zt,L-=zt}return[L,Ot]}_layoutBoxInPage(t,d,L,U){var q,_e;const Me=t.top-L,ze=t.top+t.height,qe=p.i(this._viewDomNode.domNode),pt=this._viewDomNode.domNode.ownerDocument,Dt=pt.defaultView,Ot=qe.top+Me-((q=Dt==null?void 0:Dt.scrollY)!==null&&q!==void 0?q:0),zt=qe.top+ze-((_e=Dt==null?void 0:Dt.scrollY)!==null&&_e!==void 0?_e:0),ii=p.D6(pt.body),[ai,pi]=this._layoutHorizontalSegmentInPage(ii,qe,t.left-U.scrollLeft+this._contentLeft,d),Si=22,ki=22,Ai=Ot>=Si,qi=zt+L<=ii.height-ki;return this._fixedOverflowWidgets?{fitsAbove:Ai,aboveTop:Math.max(Ot,Si),fitsBelow:qi,belowTop:zt,left:pi}:{fitsAbove:Ai,aboveTop:Me,fitsBelow:qi,belowTop:ze,left:ai}}_prepareRenderWidgetAtExactPositionOverflowing(t){return new rt(t.top,t.left+this._contentLeft)}_getAnchorsCoordinates(t){var d,L;const U=Me(this._primaryAnchor.viewPosition,this._affinity,this._lineHeight),q=((d=this._secondaryAnchor.viewPosition)===null||d===void 0?void 0:d.lineNumber)===((L=this._primaryAnchor.viewPosition)===null||L===void 0?void 0:L.lineNumber)?this._secondaryAnchor.viewPosition:null,_e=Me(q,this._affinity,this._lineHeight);return{primary:U,secondary:_e};function Me(ze,qe,pt){if(!ze)return null;const Dt=t.visibleRangeForPosition(ze);if(!Dt)return null;const Ot=ze.column===1&&qe===3?0:Dt.left,zt=t.getVerticalOffsetForLineNumber(ze.lineNumber)-t.scrollTop;return new st(zt,Ot,pt)}}_reduceAnchorCoordinates(t,d,L){if(!d)return t;const U=this._context.configuration.options.get(50);let q=d.left;return q<t.left?q=Math.max(q,t.left-L+U.typicalFullwidthCharacterWidth):q=Math.min(q,t.left+L-U.typicalFullwidthCharacterWidth),new st(t.top,q,t.height)}_prepareRenderWidget(t){if(!this._preference||this._preference.length===0)return null;const{primary:d,secondary:L}=this._getAnchorsCoordinates(t);if(!d)return null;if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let _e=null;if(typeof this._actual.beforeRender=="function"&&(_e=tt(this._actual.beforeRender,this._actual)),_e)this._cachedDomNodeOffsetWidth=_e.width,this._cachedDomNodeOffsetHeight=_e.height;else{const ze=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(ze.width),this._cachedDomNodeOffsetHeight=Math.round(ze.height)}}const U=this._reduceAnchorCoordinates(d,L,this._cachedDomNodeOffsetWidth);let q;this.allowEditorOverflow?q=this._layoutBoxInPage(U,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,t):q=this._layoutBoxInViewport(U,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,t);for(let _e=1;_e<=2;_e++)for(const Me of this._preference)if(Me===1){if(!q)return null;if(_e===2||q.fitsAbove)return{coordinate:new rt(q.aboveTop,q.left),position:1}}else if(Me===2){if(!q)return null;if(_e===2||q.fitsBelow)return{coordinate:new rt(q.belowTop,q.left),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(new rt(U.top,U.left)),position:0}:{coordinate:new rt(U.top,U.left),position:0};return null}onBeforeRender(t){!this._primaryAnchor.viewPosition||!this._preference||this._primaryAnchor.viewPosition.lineNumber<t.startLineNumber||this._primaryAnchor.viewPosition.lineNumber>t.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(t){this._renderData=this._prepareRenderWidget(t)}render(t){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&tt(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+t.scrollTop-t.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&tt(this._actual.afterRender,this._actual,this._renderData.position)}}class Ge{constructor(t,d){this.modelPosition=t,this.viewPosition=d}}class rt{constructor(t,d){this.top=t,this.left=d,this._coordinateBrand=void 0}}class st{constructor(t,d,L){this.top=t,this.left=d,this.height=L,this._anchorCoordinateBrand=void 0}}function tt(Rt,t,...d){try{return Rt.call(t,...d)}catch(L){return null}}var _t=e(98618);class kt extends Ht{constructor(t){super(),this._context=t;const d=this._context.configuration.options,L=d.get(145);this._renderLineHighlight=d.get(96),this._renderLineHighlightOnlyWhenFocus=d.get(97),this._wordWrap=L.isViewportWrapping,this._contentLeft=L.contentLeft,this._contentWidth=L.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new Te.Y(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let t=!1;const d=new Set;for(const q of this._selections)d.add(q.positionLineNumber);const L=Array.from(d);L.sort((q,_e)=>q-_e),r.fS(this._cursorLineNumbers,L)||(this._cursorLineNumbers=L,t=!0);const U=this._selections.every(q=>q.isEmpty());return this._selectionIsEmpty!==U&&(this._selectionIsEmpty=U,t=!0),t}onThemeChanged(t){return this._readFromSelections()}onConfigurationChanged(t){const d=this._context.configuration.options,L=d.get(145);return this._renderLineHighlight=d.get(96),this._renderLineHighlightOnlyWhenFocus=d.get(97),this._wordWrap=L.isViewportWrapping,this._contentLeft=L.contentLeft,this._contentWidth=L.contentWidth,!0}onCursorStateChanged(t){return this._selections=t.selections,this._readFromSelections()}onFlushed(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollWidthChanged||t.scrollTopChanged}onZonesChanged(t){return!0}onFocusChanged(t){return this._renderLineHighlightOnlyWhenFocus?(this._focused=t.isFocused,!0):!1}prepareRender(t){if(!this._shouldRenderThis()){this._renderData=null;return}const d=t.visibleRange.startLineNumber,L=t.visibleRange.endLineNumber,U=[];for(let _e=d;_e<=L;_e++){const Me=_e-d;U[Me]=""}if(this._wordWrap){const _e=this._renderOne(t,!1);for(const Me of this._cursorLineNumbers){const ze=this._context.viewModel.coordinatesConverter,qe=ze.convertViewPositionToModelPosition(new he.L(Me,1)).lineNumber,pt=ze.convertModelPositionToViewPosition(new he.L(qe,1)).lineNumber,Dt=ze.convertModelPositionToViewPosition(new he.L(qe,this._context.viewModel.model.getLineMaxColumn(qe))).lineNumber,Ot=Math.max(pt,d),zt=Math.min(Dt,L);for(let ii=Ot;ii<=zt;ii++){const ai=ii-d;U[ai]=_e}}}const q=this._renderOne(t,!0);for(const _e of this._cursorLineNumbers){if(_e<d||_e>L)continue;const Me=_e-d;U[Me]=q}this._renderData=U}render(t,d){if(!this._renderData)return"";const L=d-t;return L>=this._renderData.length?"":this._renderData[L]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class at extends kt{_renderOne(t,d){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-both":"")+(d?" current-line-exact":"")}" style="width:${Math.max(t.scrollWidth,this._contentWidth)}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}class ht extends kt{_renderOne(t,d){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")+(this._shouldRenderInMargin()&&d?" current-line-exact-margin":"")}" style="width:${this._contentLeft}px"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}(0,He.Ic)((Rt,t)=>{const d=Rt.getColor(Ct.Kh);if(d&&(t.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${d}; }`),t.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${d}; border: none; }`)),!d||d.isTransparent()||Rt.defines(Ct.Mm)){const L=Rt.getColor(Ct.Mm);L&&(t.addRule(`.monaco-editor .view-overlays .current-line-exact { border: 2px solid ${L}; }`),t.addRule(`.monaco-editor .margin-view-overlays .current-line-exact-margin { border: 2px solid ${L}; }`),(0,_t.c3)(Rt.type)&&(t.addRule(".monaco-editor .view-overlays .current-line-exact { border-width: 1px; }"),t.addRule(".monaco-editor .margin-view-overlays .current-line-exact-margin { border-width: 1px; }")))}});class Mt extends Ht{constructor(t){super(),this._context=t;const d=this._context.configuration.options;this._typicalHalfwidthCharacterWidth=d.get(50).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){const d=this._context.configuration.options;return this._typicalHalfwidthCharacterWidth=d.get(50).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged||t.scrollWidthChanged}onZonesChanged(t){return!0}prepareRender(t){const d=t.getDecorationsInViewport();let L=[],U=0;for(let ze=0,qe=d.length;ze<qe;ze++){const pt=d[ze];pt.options.className&&(L[U++]=pt)}L=L.sort((ze,qe)=>{if(ze.options.zIndex<qe.options.zIndex)return-1;if(ze.options.zIndex>qe.options.zIndex)return 1;const pt=ze.options.className,Dt=qe.options.className;return pt<Dt?-1:pt>Dt?1:M.e.compareRangesUsingStarts(ze.range,qe.range)});const q=t.visibleRange.startLineNumber,_e=t.visibleRange.endLineNumber,Me=[];for(let ze=q;ze<=_e;ze++){const qe=ze-q;Me[qe]=""}this._renderWholeLineDecorations(t,L,Me),this._renderNormalDecorations(t,L,Me),this._renderResult=Me}_renderWholeLineDecorations(t,d,L){const U=t.visibleRange.startLineNumber,q=t.visibleRange.endLineNumber;for(let _e=0,Me=d.length;_e<Me;_e++){const ze=d[_e];if(!ze.options.isWholeLine)continue;const qe='<div class="cdr '+ze.options.className+'" style="left:0;width:100%;"></div>',pt=Math.max(ze.range.startLineNumber,U),Dt=Math.min(ze.range.endLineNumber,q);for(let Ot=pt;Ot<=Dt;Ot++){const zt=Ot-U;L[zt]+=qe}}}_renderNormalDecorations(t,d,L){var U;const q=t.visibleRange.startLineNumber;let _e=null,Me=!1,ze=null,qe=!1;for(let pt=0,Dt=d.length;pt<Dt;pt++){const Ot=d[pt];if(Ot.options.isWholeLine)continue;const zt=Ot.options.className,ii=!!Ot.options.showIfCollapsed;let ai=Ot.range;if(ii&&ai.endColumn===1&&ai.endLineNumber!==ai.startLineNumber&&(ai=new M.e(ai.startLineNumber,ai.startColumn,ai.endLineNumber-1,this._context.viewModel.getLineMaxColumn(ai.endLineNumber-1))),_e===zt&&Me===ii&&M.e.areIntersectingOrTouching(ze,ai)){ze=M.e.plusRange(ze,ai);continue}_e!==null&&this._renderNormalDecoration(t,ze,_e,qe,Me,q,L),_e=zt,Me=ii,ze=ai,qe=(U=Ot.options.shouldFillLineOnLineBreak)!==null&&U!==void 0?U:!1}_e!==null&&this._renderNormalDecoration(t,ze,_e,qe,Me,q,L)}_renderNormalDecoration(t,d,L,U,q,_e,Me){const ze=t.linesVisibleRangesForRange(d,L==="findMatch");if(ze)for(let qe=0,pt=ze.length;qe<pt;qe++){const Dt=ze[qe];if(Dt.outsideRenderedLine)continue;const Ot=Dt.lineNumber-_e;if(q&&Dt.ranges.length===1){const zt=Dt.ranges[0];if(zt.width<this._typicalHalfwidthCharacterWidth){const ii=Math.round(zt.left+zt.width/2),ai=Math.max(0,Math.round(ii-this._typicalHalfwidthCharacterWidth/2));Dt.ranges[0]=new An.yu(ai,this._typicalHalfwidthCharacterWidth)}}for(let zt=0,ii=Dt.ranges.length;zt<ii;zt++){const ai=U&&Dt.continuesOnNextLine&&ii===1,pi=Dt.ranges[zt],Si='<div class="cdr '+L+'" style="left:'+String(pi.left)+"px;width:"+(ai?"100%;":String(pi.width)+"px;")+'"></div>';Me[Ot]+=Si}}}render(t,d){if(!this._renderResult)return"";const L=d-t;return L<0||L>=this._renderResult.length?"":this._renderResult[L]}}class ut extends ne{constructor(t,d,L,U){super(t);const q=this._context.configuration.options,_e=q.get(103),Me=q.get(75),ze=q.get(40),qe=q.get(106),pt={listenOnDomNode:L.domNode,className:"editor-scrollable "+(0,He.m6)(t.theme.type),useShadows:!1,lazyRender:!0,vertical:_e.vertical,horizontal:_e.horizontal,verticalHasArrows:_e.verticalHasArrows,horizontalHasArrows:_e.horizontalHasArrows,verticalScrollbarSize:_e.verticalScrollbarSize,verticalSliderSize:_e.verticalSliderSize,horizontalScrollbarSize:_e.horizontalScrollbarSize,horizontalSliderSize:_e.horizontalSliderSize,handleMouseWheel:_e.handleMouseWheel,alwaysConsumeMouseWheel:_e.alwaysConsumeMouseWheel,arrowSize:_e.arrowSize,mouseWheelScrollSensitivity:Me,fastScrollSensitivity:ze,scrollPredominantAxis:qe,scrollByPage:_e.scrollByPage};this.scrollbar=this._register(new Ae.$Z(d.domNode,pt,this._context.viewLayout.getScrollable())),ee.write(this.scrollbar.getDomNode(),6),this.scrollbarDomNode=(0,Q.X)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const Dt=(Ot,zt,ii)=>{const ai={};if(zt){const pi=Ot.scrollTop;pi&&(ai.scrollTop=this._context.viewLayout.getCurrentScrollTop()+pi,Ot.scrollTop=0)}if(ii){const pi=Ot.scrollLeft;pi&&(ai.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+pi,Ot.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(ai,1)};this._register(p.nm(L.domNode,"scroll",Ot=>Dt(L.domNode,!0,!0))),this._register(p.nm(d.domNode,"scroll",Ot=>Dt(d.domNode,!0,!1))),this._register(p.nm(U.domNode,"scroll",Ot=>Dt(U.domNode,!0,!1))),this._register(p.nm(this.scrollbarDomNode.domNode,"scroll",Ot=>Dt(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const t=this._context.configuration.options,d=t.get(145);this.scrollbarDomNode.setLeft(d.contentLeft),t.get(73).side==="right"?this.scrollbarDomNode.setWidth(d.contentWidth+d.minimap.minimapWidth):this.scrollbarDomNode.setWidth(d.contentWidth),this.scrollbarDomNode.setHeight(d.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(t){this.scrollbar.delegateVerticalScrollbarPointerDown(t)}delegateScrollFromMouseWheelEvent(t){this.scrollbar.delegateScrollFromMouseWheelEvent(t)}onConfigurationChanged(t){if(t.hasChanged(103)||t.hasChanged(75)||t.hasChanged(40)){const d=this._context.configuration.options,L=d.get(103),U=d.get(75),q=d.get(40),_e=d.get(106),Me={vertical:L.vertical,horizontal:L.horizontal,verticalScrollbarSize:L.verticalScrollbarSize,horizontalScrollbarSize:L.horizontalScrollbarSize,scrollByPage:L.scrollByPage,handleMouseWheel:L.handleMouseWheel,mouseWheelScrollSensitivity:U,fastScrollSensitivity:q,scrollPredominantAxis:_e};this.scrollbar.updateOptions(Me)}return t.hasChanged(145)&&this._setLayout(),!0}onScrollChanged(t){return!0}onThemeChanged(t){return this.scrollbar.updateClassName("editor-scrollable "+(0,He.m6)(this._context.theme.type)),!0}prepareRender(t){}render(t){this.scrollbar.renderNow()}}var ke=e(57204);class lt{constructor(t,d,L,U,q){this.startLineNumber=t,this.endLineNumber=d,this.className=L,this.tooltip=U,this._decorationToRenderBrand=void 0,this.zIndex=q!=null?q:0}}class mt{constructor(t,d,L){this.className=t,this.zIndex=d,this.tooltip=L}}class Ve{constructor(){this.decorations=[]}add(t){this.decorations.push(t)}getDecorations(){return this.decorations}}class Tt extends Ht{_render(t,d,L){const U=[];for(let Me=t;Me<=d;Me++){const ze=Me-t;U[ze]=new Ve}if(L.length===0)return U;L.sort((Me,ze)=>Me.className===ze.className?Me.startLineNumber===ze.startLineNumber?Me.endLineNumber-ze.endLineNumber:Me.startLineNumber-ze.startLineNumber:Me.className<ze.className?-1:1);let q=null,_e=0;for(let Me=0,ze=L.length;Me<ze;Me++){const qe=L[Me],pt=qe.className,Dt=qe.zIndex;let Ot=Math.max(qe.startLineNumber,t)-t;const zt=Math.min(qe.endLineNumber,d)-t;q===pt?(Ot=Math.max(_e+1,Ot),_e=Math.max(_e,zt)):(q=pt,_e=zt);for(let ii=Ot;ii<=_e;ii++)U[ii].add(new mt(pt,Dt,qe.tooltip))}return U}}class At extends ne{constructor(t){super(t),this._widgets={},this._context=t;const d=this._context.configuration.options,L=d.get(145);this.domNode=(0,Q.X)(document.createElement("div")),this.domNode.setClassName("glyph-margin-widgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this._lineHeight=d.get(67),this._glyphMargin=d.get(57),this._glyphMarginLeft=L.glyphMarginLeft,this._glyphMarginWidth=L.glyphMarginWidth,this._glyphMarginDecorationLaneCount=L.glyphMarginDecorationLaneCount,this._managedDomNodes=[],this._decorationGlyphsToRender=[]}dispose(){this._managedDomNodes=[],this._decorationGlyphsToRender=[],this._widgets={},super.dispose()}getWidgets(){return Object.values(this._widgets)}onConfigurationChanged(t){const d=this._context.configuration.options,L=d.get(145);return this._lineHeight=d.get(67),this._glyphMargin=d.get(57),this._glyphMarginLeft=L.glyphMarginLeft,this._glyphMarginWidth=L.glyphMarginWidth,this._glyphMarginDecorationLaneCount=L.glyphMarginDecorationLaneCount,!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}addWidget(t){const d=(0,Q.X)(t.getDomNode());this._widgets[t.getId()]={widget:t,preference:t.getPosition(),domNode:d,renderInfo:null},d.setPosition("absolute"),d.setDisplay("none"),d.setAttribute("widgetId",t.getId()),this.domNode.appendChild(d),this.setShouldRender()}setWidgetPosition(t,d){const L=this._widgets[t.getId()];return L.preference.lane===d.lane&&L.preference.zIndex===d.zIndex&&M.e.equalsRange(L.preference.range,d.range)?!1:(L.preference=d,this.setShouldRender(),!0)}removeWidget(t){var d;const L=t.getId();if(this._widgets[L]){const q=this._widgets[L].domNode.domNode;delete this._widgets[L],(d=q.parentNode)===null||d===void 0||d.removeChild(q),this.setShouldRender()}}_collectDecorationBasedGlyphRenderRequest(t,d){var L,U,q;const _e=t.visibleRange.startLineNumber,Me=t.visibleRange.endLineNumber,ze=t.getDecorationsInViewport();for(const qe of ze){const pt=qe.options.glyphMarginClassName;if(!pt)continue;const Dt=Math.max(qe.range.startLineNumber,_e),Ot=Math.min(qe.range.endLineNumber,Me),zt=(U=(L=qe.options.glyphMargin)===null||L===void 0?void 0:L.position)!==null&&U!==void 0?U:ke.U.Center,ii=(q=qe.options.zIndex)!==null&&q!==void 0?q:0;for(let ai=Dt;ai<=Ot;ai++){const pi=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new he.L(ai,0)),Si=this._context.viewModel.glyphLanes.getLanesAtLine(pi.lineNumber).indexOf(zt);d.push(new Qt(ai,Si,ii,pt))}}}_collectWidgetBasedGlyphRenderRequest(t,d){const L=t.visibleRange.startLineNumber,U=t.visibleRange.endLineNumber;for(const q of Object.values(this._widgets)){const _e=q.preference.range,{startLineNumber:Me,endLineNumber:ze}=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(M.e.lift(_e));if(!Me||!ze||ze<L||Me>U)continue;const qe=Math.max(Me,L),pt=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new he.L(qe,0)),Dt=this._context.viewModel.glyphLanes.getLanesAtLine(pt.lineNumber).indexOf(q.preference.lane);d.push(new mi(qe,Dt,q.preference.zIndex,q))}}_collectSortedGlyphRenderRequests(t){const d=[];return this._collectDecorationBasedGlyphRenderRequest(t,d),this._collectWidgetBasedGlyphRenderRequest(t,d),d.sort((L,U)=>L.lineNumber===U.lineNumber?L.laneIndex===U.laneIndex?L.zIndex===U.zIndex?U.type===L.type?L.type===0&&U.type===0?L.className<U.className?-1:1:0:U.type-L.type:U.zIndex-L.zIndex:L.laneIndex-U.laneIndex:L.lineNumber-U.lineNumber),d}prepareRender(t){if(!this._glyphMargin){this._decorationGlyphsToRender=[];return}for(const U of Object.values(this._widgets))U.renderInfo=null;const d=new r.H9(this._collectSortedGlyphRenderRequests(t)),L=[];for(;d.length>0;){const U=d.peek();if(!U)break;const q=d.takeWhile(Me=>Me.lineNumber===U.lineNumber&&Me.laneIndex===U.laneIndex);if(!q||q.length===0)break;const _e=q[0];if(_e.type===0){const Me=[];for(const ze of q){if(ze.zIndex!==_e.zIndex||ze.type!==_e.type)break;(Me.length===0||Me[Me.length-1]!==ze.className)&&Me.push(ze.className)}L.push(_e.accept(Me.join(" ")))}else _e.widget.renderInfo={lineNumber:_e.lineNumber,laneIndex:_e.laneIndex}}this._decorationGlyphsToRender=L}render(t){if(!this._glyphMargin){for(const L of Object.values(this._widgets))L.domNode.setDisplay("none");for(;this._managedDomNodes.length>0;){const L=this._managedDomNodes.pop();L==null||L.domNode.remove()}return}const d=Math.round(this._glyphMarginWidth/this._glyphMarginDecorationLaneCount);for(const L of Object.values(this._widgets))if(!L.renderInfo)L.domNode.setDisplay("none");else{const U=t.viewportData.relativeVerticalOffset[L.renderInfo.lineNumber-t.viewportData.startLineNumber],q=this._glyphMarginLeft+L.renderInfo.laneIndex*this._lineHeight;L.domNode.setDisplay("block"),L.domNode.setTop(U),L.domNode.setLeft(q),L.domNode.setWidth(d),L.domNode.setHeight(this._lineHeight)}for(let L=0;L<this._decorationGlyphsToRender.length;L++){const U=this._decorationGlyphsToRender[L],q=t.viewportData.relativeVerticalOffset[U.lineNumber-t.viewportData.startLineNumber],_e=this._glyphMarginLeft+U.laneIndex*this._lineHeight;let Me;L<this._managedDomNodes.length?Me=this._managedDomNodes[L]:(Me=(0,Q.X)(document.createElement("div")),this._managedDomNodes.push(Me),this.domNode.appendChild(Me)),Me.setClassName("cgmr codicon "+U.combinedClassName),Me.setPosition("absolute"),Me.setTop(q),Me.setLeft(_e),Me.setWidth(d),Me.setHeight(this._lineHeight)}for(;this._managedDomNodes.length>this._decorationGlyphsToRender.length;){const L=this._managedDomNodes.pop();L==null||L.domNode.remove()}}}class Qt{constructor(t,d,L,U){this.lineNumber=t,this.laneIndex=d,this.zIndex=L,this.className=U,this.type=0}accept(t){return new Ci(this.lineNumber,this.laneIndex,t)}}class mi{constructor(t,d,L,U){this.lineNumber=t,this.laneIndex=d,this.zIndex=L,this.widget=U,this.type=1}}class Ci{constructor(t,d,L){this.lineNumber=t,this.laneIndex=d,this.combinedClassName=L}}var Oi=e(26974),Ii=e(18834),Qi=e(50126);class Wi extends Ht{constructor(t){super(),this._context=t,this._primaryPosition=null;const d=this._context.configuration.options,L=d.get(146),U=d.get(50);this._spaceWidth=U.spaceWidth,this._maxIndentLeft=L.wrappingColumn===-1?-1:L.wrappingColumn*U.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=d.get(16),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){const d=this._context.configuration.options,L=d.get(146),U=d.get(50);return this._spaceWidth=U.spaceWidth,this._maxIndentLeft=L.wrappingColumn===-1?-1:L.wrappingColumn*U.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=d.get(16),!0}onCursorStateChanged(t){var d;const U=t.selections[0].getPosition();return!((d=this._primaryPosition)===null||d===void 0)&&d.equals(U)?!1:(this._primaryPosition=U,!0)}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}onLanguageConfigurationChanged(t){return!0}prepareRender(t){var d,L,U,q;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const _e=t.visibleRange.startLineNumber,Me=t.visibleRange.endLineNumber,ze=t.scrollWidth,qe=this._primaryPosition,pt=this.getGuidesByLine(_e,Math.min(Me+1,this._context.viewModel.getLineCount()),qe),Dt=[];for(let Ot=_e;Ot<=Me;Ot++){const zt=Ot-_e,ii=pt[zt];let ai="";const pi=(L=(d=t.visibleRangeForPosition(new he.L(Ot,1)))===null||d===void 0?void 0:d.left)!==null&&L!==void 0?L:0;for(const Si of ii){const ki=Si.column===-1?pi+(Si.visibleColumn-1)*this._spaceWidth:t.visibleRangeForPosition(new he.L(Ot,Si.column)).left;if(ki>ze||this._maxIndentLeft>0&&ki>this._maxIndentLeft)break;const Ai=Si.horizontalLine?Si.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",qi=Si.horizontalLine?((q=(U=t.visibleRangeForPosition(new he.L(Ot,Si.horizontalLine.endColumn)))===null||U===void 0?void 0:U.left)!==null&&q!==void 0?q:ki+this._spaceWidth)-ki:this._spaceWidth;ai+=`<div class="core-guide ${Si.className} ${Ai}" style="left:${ki}px;width:${qi}px"></div>`}Dt[zt]=ai}this._renderResult=Dt}getGuidesByLine(t,d,L){const U=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(t,d,L,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?Qi.s6.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?Qi.s6.EnabledForActive:Qi.s6.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,q=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(t,d):null;let _e=0,Me=0,ze=0;if(this._bracketPairGuideOptions.highlightActiveIndentation!==!1&&L){const Dt=this._context.viewModel.getActiveIndentGuide(L.lineNumber,t,d);_e=Dt.startLineNumber,Me=Dt.endLineNumber,ze=Dt.indent}const{indentSize:qe}=this._context.viewModel.model.getOptions(),pt=[];for(let Dt=t;Dt<=d;Dt++){const Ot=new Array;pt.push(Ot);const zt=U?U[Dt-t]:[],ii=new r.H9(zt),ai=q?q[Dt-t]:0;for(let pi=1;pi<=ai;pi++){const Si=(pi-1)*qe+1,ki=(this._bracketPairGuideOptions.highlightActiveIndentation==="always"||zt.length===0)&&_e<=Dt&&Dt<=Me&&pi===ze;Ot.push(...ii.takeWhile(qi=>qi.visibleColumn<Si)||[]);const Ai=ii.peek();(!Ai||Ai.visibleColumn!==Si||Ai.horizontalLine)&&Ot.push(new Qi.UO(Si,-1,`core-guide-indent lvl-${(pi-1)%30}`+(ki?" indent-active":""),null,-1,-1))}Ot.push(...ii.takeWhile(pi=>!0)||[])}return pt}render(t,d){if(!this._renderResult)return"";const L=d-t;return L<0||L>=this._renderResult.length?"":this._renderResult[L]}}function Jt(Rt){if(!(Rt&&Rt.isTransparent()))return Rt}(0,He.Ic)((Rt,t)=>{const d=[{bracketColor:Ct.zJ,guideColor:Ct.oV,guideColorActive:Ct.Qb},{bracketColor:Ct.Vs,guideColor:Ct.m$,guideColorActive:Ct.m3},{bracketColor:Ct.CE,guideColor:Ct.DS,guideColorActive:Ct.To},{bracketColor:Ct.UP,guideColor:Ct.lS,guideColorActive:Ct.L7},{bracketColor:Ct.r0,guideColor:Ct.Jn,guideColorActive:Ct.HV},{bracketColor:Ct.m1,guideColor:Ct.YF,guideColorActive:Ct.f9}],L=new Ii.W,U=[{indentColor:Ct.gS,indentColorActive:Ct.qe},{indentColor:Ct.Tf,indentColorActive:Ct.Xy},{indentColor:Ct.H_,indentColorActive:Ct.cK},{indentColor:Ct.h1,indentColorActive:Ct.N8},{indentColor:Ct.vP,indentColorActive:Ct.zd},{indentColor:Ct.e9,indentColorActive:Ct.ll}],q=d.map(Me=>{var ze,qe;const pt=Rt.getColor(Me.bracketColor),Dt=Rt.getColor(Me.guideColor),Ot=Rt.getColor(Me.guideColorActive),zt=Jt((ze=Jt(Dt))!==null&&ze!==void 0?ze:pt==null?void 0:pt.transparent(.3)),ii=Jt((qe=Jt(Ot))!==null&&qe!==void 0?qe:pt);if(!(!zt||!ii))return{guideColor:zt,guideColorActive:ii}}).filter(Oi.$K),_e=U.map(Me=>{const ze=Rt.getColor(Me.indentColor),qe=Rt.getColor(Me.indentColorActive),pt=Jt(ze),Dt=Jt(qe);if(!(!pt||!Dt))return{indentColor:pt,indentColorActive:Dt}}).filter(Oi.$K);if(q.length>0){for(let Me=0;Me<30;Me++){const ze=q[Me%q.length];t.addRule(`.monaco-editor .${L.getInlineClassNameOfLevel(Me).replace(/ /g,".")} { --guide-color: ${ze.guideColor}; --guide-color-active: ${ze.guideColorActive}; }`)}t.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),t.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),t.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),t.addRule(`.monaco-editor .vertical.${L.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),t.addRule(`.monaco-editor .horizontal-top.${L.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),t.addRule(`.monaco-editor .horizontal-bottom.${L.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}if(_e.length>0){for(let Me=0;Me<30;Me++){const ze=_e[Me%_e.length];t.addRule(`.monaco-editor .lines-content .core-guide-indent.lvl-${Me} { --indent-color: ${ze.indentColor}; --indent-color-active: ${ze.indentColorActive}; }`)}t.addRule(".monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 var(--indent-color) inset; }"),t.addRule(".monaco-editor .lines-content .core-guide-indent.indent-active { box-shadow: 1px 0 0 0 var(--indent-color-active) inset; }")}});var Ne=e(74696);class gt{get didDomLayout(){return this._didDomLayout}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const t=this._domNode.getBoundingClientRect();this.markDidDomLayout(),this._clientRectDeltaLeft=t.left,this._clientRectScale=t.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}constructor(t,d){this._domNode=t,this.endNode=d,this._didDomLayout=!1,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1}markDidDomLayout(){this._didDomLayout=!0}}class Bt{constructor(){this._currentVisibleRange=new M.e(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(t){this._currentVisibleRange=t}}class di{constructor(t,d,L,U,q,_e,Me){this.minimalReveal=t,this.lineNumber=d,this.startColumn=L,this.endColumn=U,this.startScrollTop=q,this.stopScrollTop=_e,this.scrollType=Me,this.type="range",this.minLineNumber=d,this.maxLineNumber=d}}class hi{constructor(t,d,L,U,q){this.minimalReveal=t,this.selections=d,this.startScrollTop=L,this.stopScrollTop=U,this.scrollType=q,this.type="selections";let _e=d[0].startLineNumber,Me=d[0].endLineNumber;for(let ze=1,qe=d.length;ze<qe;ze++){const pt=d[ze];_e=Math.min(_e,pt.startLineNumber),Me=Math.max(Me,pt.endLineNumber)}this.minLineNumber=_e,this.maxLineNumber=Me}}class Ni extends ne{constructor(t,d){super(t),this._linesContent=d,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new gi(this),this.domNode=this._visibleLines.domNode;const L=this._context.configuration,U=this._context.configuration.options,q=U.get(50),_e=U.get(146);this._lineHeight=U.get(67),this._typicalHalfwidthCharacterWidth=q.typicalHalfwidthCharacterWidth,this._isViewportWrapping=_e.isViewportWrapping,this._revealHorizontalRightPadding=U.get(100),this._cursorSurroundingLines=U.get(29),this._cursorSurroundingLinesStyle=U.get(30),this._canUseLayerHinting=!U.get(32),this._viewLineOptions=new re.ob(L,this._context.theme.type),ee.write(this.domNode,8),this.domNode.setClassName(`view-lines ${Bi}`),(0,g.N)(this.domNode,q),this._maxLineWidth=0,this._asyncUpdateLineWidths=new Ne.pY(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new Ne.pY(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new Bt,this._horizontalRevealRequest=null,this._stickyScrollEnabled=U.get(115).enabled,this._maxNumberStickyLines=U.get(115).maxLineCount}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new re.Nt(this._viewLineOptions)}onConfigurationChanged(t){this._visibleLines.onConfigurationChanged(t),t.hasChanged(146)&&(this._maxLineWidth=0);const d=this._context.configuration.options,L=d.get(50),U=d.get(146);return this._lineHeight=d.get(67),this._typicalHalfwidthCharacterWidth=L.typicalHalfwidthCharacterWidth,this._isViewportWrapping=U.isViewportWrapping,this._revealHorizontalRightPadding=d.get(100),this._cursorSurroundingLines=d.get(29),this._cursorSurroundingLinesStyle=d.get(30),this._canUseLayerHinting=!d.get(32),this._stickyScrollEnabled=d.get(115).enabled,this._maxNumberStickyLines=d.get(115).maxLineCount,(0,g.N)(this.domNode,L),this._onOptionsMaybeChanged(),t.hasChanged(145)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const t=this._context.configuration,d=new re.ob(t,this._context.theme.type);if(!this._viewLineOptions.equals(d)){this._viewLineOptions=d;const L=this._visibleLines.getStartLineNumber(),U=this._visibleLines.getEndLineNumber();for(let q=L;q<=U;q++)this._visibleLines.getVisibleLine(q).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(t){const d=this._visibleLines.getStartLineNumber(),L=this._visibleLines.getEndLineNumber();let U=!1;for(let q=d;q<=L;q++)U=this._visibleLines.getVisibleLine(q).onSelectionChanged()||U;return U}onDecorationsChanged(t){{const d=this._visibleLines.getStartLineNumber(),L=this._visibleLines.getEndLineNumber();for(let U=d;U<=L;U++)this._visibleLines.getVisibleLine(U).onDecorationsChanged()}return!0}onFlushed(t){const d=this._visibleLines.onFlushed(t);return this._maxLineWidth=0,d}onLinesChanged(t){return this._visibleLines.onLinesChanged(t)}onLinesDeleted(t){return this._visibleLines.onLinesDeleted(t)}onLinesInserted(t){return this._visibleLines.onLinesInserted(t)}onRevealRangeRequest(t){const d=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),t.source,t.minimalReveal,t.range,t.selections,t.verticalType);if(d===-1)return!1;let L=this._context.viewLayout.validateScrollPosition({scrollTop:d});t.revealHorizontal?t.range&&t.range.startLineNumber!==t.range.endLineNumber?L={scrollTop:L.scrollTop,scrollLeft:0}:t.range?this._horizontalRevealRequest=new di(t.minimalReveal,t.range.startLineNumber,t.range.startColumn,t.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),L.scrollTop,t.scrollType):t.selections&&t.selections.length>0&&(this._horizontalRevealRequest=new hi(t.minimalReveal,t.selections,this._context.viewLayout.getCurrentScrollTop(),L.scrollTop,t.scrollType)):this._horizontalRevealRequest=null;const q=Math.abs(this._context.viewLayout.getCurrentScrollTop()-L.scrollTop)<=this._lineHeight?1:t.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(L,q),!0}onScrollChanged(t){if(this._horizontalRevealRequest&&t.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&t.scrollTopChanged){const d=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),L=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(t.scrollTop<d||t.scrollTop>L)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(t.scrollWidth),this._visibleLines.onScrollChanged(t)||!0}onTokensChanged(t){return this._visibleLines.onTokensChanged(t)}onZonesChanged(t){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(t)}onThemeChanged(t){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(t,d){const L=this._getViewLineDomNode(t);if(L===null)return null;const U=this._getLineNumberFor(L);if(U===-1||U<1||U>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(U)===1)return new he.L(U,1);const q=this._visibleLines.getStartLineNumber(),_e=this._visibleLines.getEndLineNumber();if(U<q||U>_e)return null;let Me=this._visibleLines.getVisibleLine(U).getColumnOfNodeOffset(t,d);const ze=this._context.viewModel.getLineMinColumn(U);return Me<ze&&(Me=ze),new he.L(U,Me)}_getViewLineDomNode(t){for(;t&&t.nodeType===1;){if(t.className===re.Nt.CLASS_NAME)return t;t=t.parentElement}return null}_getLineNumberFor(t){const d=this._visibleLines.getStartLineNumber(),L=this._visibleLines.getEndLineNumber();for(let U=d;U<=L;U++){const q=this._visibleLines.getVisibleLine(U);if(t===q.getDomNode())return U}return-1}getLineWidth(t){const d=this._visibleLines.getStartLineNumber(),L=this._visibleLines.getEndLineNumber();if(t<d||t>L)return-1;const U=new gt(this.domNode.domNode,this._textRangeRestingSpot),q=this._visibleLines.getVisibleLine(t).getWidth(U);return this._updateLineWidthsSlowIfDomDidLayout(U),q}linesVisibleRangesForRange(t,d){if(this.shouldRender())return null;const L=t.endLineNumber,U=M.e.intersectRanges(t,this._lastRenderedData.getCurrentVisibleRange());if(!U)return null;const q=[];let _e=0;const Me=new gt(this.domNode.domNode,this._textRangeRestingSpot);let ze=0;d&&(ze=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new he.L(U.startLineNumber,1)).lineNumber);const qe=this._visibleLines.getStartLineNumber(),pt=this._visibleLines.getEndLineNumber();for(let Dt=U.startLineNumber;Dt<=U.endLineNumber;Dt++){if(Dt<qe||Dt>pt)continue;const Ot=Dt===U.startLineNumber?U.startColumn:1,zt=Dt!==U.endLineNumber,ii=zt?this._context.viewModel.getLineMaxColumn(Dt):U.endColumn,ai=this._visibleLines.getVisibleLine(Dt).getVisibleRangesForRange(Dt,Ot,ii,Me);if(ai){if(d&&Dt<L){const pi=ze;ze=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new he.L(Dt+1,1)).lineNumber,pi!==ze&&(ai.ranges[ai.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}q[_e++]=new An.u7(ai.outsideRenderedLine,Dt,An.yu.from(ai.ranges),zt)}}return this._updateLineWidthsSlowIfDomDidLayout(Me),_e===0?null:q}_visibleRangesForLineRange(t,d,L){if(this.shouldRender()||t<this._visibleLines.getStartLineNumber()||t>this._visibleLines.getEndLineNumber())return null;const U=new gt(this.domNode.domNode,this._textRangeRestingSpot),q=this._visibleLines.getVisibleLine(t).getVisibleRangesForRange(t,d,L,U);return this._updateLineWidthsSlowIfDomDidLayout(U),q}visibleRangeForPosition(t){const d=this._visibleRangesForLineRange(t.lineNumber,t.column,t.column);return d?new An.D4(d.outsideRenderedLine,d.ranges[0].left):null}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidthsSlowIfDomDidLayout(t){t.didDomLayout&&(this._asyncUpdateLineWidths.isScheduled()||(this._asyncUpdateLineWidths.cancel(),this._updateLineWidthsSlow()))}_updateLineWidths(t){const d=this._visibleLines.getStartLineNumber(),L=this._visibleLines.getEndLineNumber();let U=1,q=!0;for(let _e=d;_e<=L;_e++){const Me=this._visibleLines.getVisibleLine(_e);if(t&&!Me.getWidthIsFast()){q=!1;continue}U=Math.max(U,Me.getWidth(null))}return q&&d===1&&L===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(U),q}_checkMonospaceFontAssumptions(){let t=-1,d=-1;const L=this._visibleLines.getStartLineNumber(),U=this._visibleLines.getEndLineNumber();for(let q=L;q<=U;q++){const _e=this._visibleLines.getVisibleLine(q);if(_e.needsMonospaceFontCheck()){const Me=_e.getWidth(null);Me>d&&(d=Me,t=q)}}if(t!==-1&&!this._visibleLines.getVisibleLine(t).monospaceAssumptionsAreValid())for(let q=L;q<=U;q++)this._visibleLines.getVisibleLine(q).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(t){if(this._visibleLines.renderLines(t),this._lastRenderedData.setCurrentVisibleRange(t.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const L=this._horizontalRevealRequest;if(t.startLineNumber<=L.minLineNumber&&L.maxLineNumber<=t.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const U=this._computeScrollLeftToReveal(L);U&&(this._isViewportWrapping||this._ensureMaxLineWidth(U.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:U.scrollLeft},L.scrollType))}}if(this._updateLineWidthsFast()?this._asyncUpdateLineWidths.cancel():this._asyncUpdateLineWidths.schedule(),n.IJ&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const L=this._visibleLines.getStartLineNumber(),U=this._visibleLines.getEndLineNumber();for(let q=L;q<=U;q++)if(this._visibleLines.getVisibleLine(q).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const d=this._context.viewLayout.getCurrentScrollTop()-t.bigNumbersDelta;this._linesContent.setTop(-d),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(t){const d=Math.ceil(t);this._maxLineWidth<d&&(this._maxLineWidth=d,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(t,d,L,U,q,_e){const Me=t.top,ze=t.height,qe=Me+ze;let pt,Dt,Ot;if(q&&q.length>0){let Si=q[0].startLineNumber,ki=q[0].endLineNumber;for(let Ai=1,qi=q.length;Ai<qi;Ai++){const on=q[Ai];Si=Math.min(Si,on.startLineNumber),ki=Math.max(ki,on.endLineNumber)}pt=!1,Dt=this._context.viewLayout.getVerticalOffsetForLineNumber(Si),Ot=this._context.viewLayout.getVerticalOffsetForLineNumber(ki)+this._lineHeight}else if(U)pt=!0,Dt=this._context.viewLayout.getVerticalOffsetForLineNumber(U.startLineNumber),Ot=this._context.viewLayout.getVerticalOffsetForLineNumber(U.endLineNumber)+this._lineHeight;else return-1;const zt=(d==="mouse"||L)&&this._cursorSurroundingLinesStyle==="default";let ii=0,ai=0;if(zt)L||(ii=this._lineHeight);else{const Si=Math.min(ze/this._lineHeight/2,this._cursorSurroundingLines);this._stickyScrollEnabled?ii=Math.max(Si,this._maxNumberStickyLines)*this._lineHeight:ii=Si*this._lineHeight,ai=Math.max(0,Si-1)*this._lineHeight}L||(_e===0||_e===4)&&(ai+=this._lineHeight),Dt-=ii,Ot+=ai;let pi;if(Ot-Dt>ze){if(!pt)return-1;pi=Dt}else if(_e===5||_e===6)if(_e===6&&Me<=Dt&&Ot<=qe)pi=Me;else{const Si=Math.max(5*this._lineHeight,ze*.2),ki=Dt-Si,Ai=Ot-ze;pi=Math.max(Ai,ki)}else if(_e===1||_e===2)if(_e===2&&Me<=Dt&&Ot<=qe)pi=Me;else{const Si=(Dt+Ot)/2;pi=Math.max(0,Si-ze/2)}else pi=this._computeMinimumScrolling(Me,qe,Dt,Ot,_e===3,_e===4);return pi}_computeScrollLeftToReveal(t){const d=this._context.viewLayout.getCurrentViewport(),L=this._context.configuration.options.get(145),U=d.left,q=U+d.width-L.verticalScrollbarWidth;let _e=1073741824,Me=0;if(t.type==="range"){const qe=this._visibleRangesForLineRange(t.lineNumber,t.startColumn,t.endColumn);if(!qe)return null;for(const pt of qe.ranges)_e=Math.min(_e,Math.round(pt.left)),Me=Math.max(Me,Math.round(pt.left+pt.width))}else for(const qe of t.selections){if(qe.startLineNumber!==qe.endLineNumber)return null;const pt=this._visibleRangesForLineRange(qe.startLineNumber,qe.startColumn,qe.endColumn);if(!pt)return null;for(const Dt of pt.ranges)_e=Math.min(_e,Math.round(Dt.left)),Me=Math.max(Me,Math.round(Dt.left+Dt.width))}return t.minimalReveal||(_e=Math.max(0,_e-Ni.HORIZONTAL_EXTRA_PX),Me+=this._revealHorizontalRightPadding),t.type==="selections"&&Me-_e>d.width?null:{scrollLeft:this._computeMinimumScrolling(U,q,_e,Me),maxHorizontalOffset:Me}}_computeMinimumScrolling(t,d,L,U,q,_e){t=t|0,d=d|0,L=L|0,U=U|0,q=!!q,_e=!!_e;const Me=d-t;if(U-L<Me){if(q)return L;if(_e)return Math.max(0,U-Me);if(L<t)return L;if(U>d)return Math.max(0,U-Me)}else return L;return t}}Ni.HORIZONTAL_EXTRA_PX=30;class zi extends Tt{constructor(t){super(),this._context=t;const L=this._context.configuration.options.get(145);this._decorationsLeft=L.decorationsLeft,this._decorationsWidth=L.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){const L=this._context.configuration.options.get(145);return this._decorationsLeft=L.decorationsLeft,this._decorationsWidth=L.decorationsWidth,!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}_getDecorations(t){var d,L;const U=t.getDecorationsInViewport(),q=[];let _e=0;for(let Me=0,ze=U.length;Me<ze;Me++){const qe=U[Me],pt=qe.options.linesDecorationsClassName,Dt=qe.options.zIndex;pt&&(q[_e++]=new lt(qe.range.startLineNumber,qe.range.endLineNumber,pt,(d=qe.options.linesDecorationsTooltip)!==null&&d!==void 0?d:null,Dt));const Ot=qe.options.firstLineDecorationClassName;Ot&&(q[_e++]=new lt(qe.range.startLineNumber,qe.range.startLineNumber,Ot,(L=qe.options.linesDecorationsTooltip)!==null&&L!==void 0?L:null,Dt))}return q}prepareRender(t){const d=t.visibleRange.startLineNumber,L=t.visibleRange.endLineNumber,U=this._render(d,L,this._getDecorations(t)),q=this._decorationsLeft.toString(),_e=this._decorationsWidth.toString(),Me='" style="left:'+q+"px;width:"+_e+'px;"></div>',ze=[];for(let qe=d;qe<=L;qe++){const pt=qe-d,Dt=U[pt].getDecorations();let Ot="";for(const zt of Dt){let ii='<div class="cldr '+zt.className;zt.tooltip!==null&&(ii+='" title="'+zt.tooltip),ii+=Me,Ot+=ii}ze[pt]=Ot}this._renderResult=ze}render(t,d){return this._renderResult?this._renderResult[d-t]:""}}class Gi extends Tt{constructor(t){super(),this._context=t,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){return!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}_getDecorations(t){const d=t.getDecorationsInViewport(),L=[];let U=0;for(let q=0,_e=d.length;q<_e;q++){const Me=d[q],ze=Me.options.marginClassName,qe=Me.options.zIndex;ze&&(L[U++]=new lt(Me.range.startLineNumber,Me.range.endLineNumber,ze,null,qe))}return L}prepareRender(t){const d=t.visibleRange.startLineNumber,L=t.visibleRange.endLineNumber,U=this._render(d,L,this._getDecorations(t)),q=[];for(let _e=d;_e<=L;_e++){const Me=_e-d,ze=U[Me].getDecorations();let qe="";for(const pt of ze)qe+='<div class="cmdr '+pt.className+'" style=""></div>';q[Me]=qe}this._renderResult=q}render(t,d){return this._renderResult?this._renderResult[d-t]:""}}var ln=e(43446);class ji{constructor(t,d,L,U){this._rgba8Brand=void 0,this.r=ji._clamp(t),this.g=ji._clamp(d),this.b=ji._clamp(L),this.a=ji._clamp(U)}equals(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a}static _clamp(t){return t<0?0:t>255?255:t|0}}ji.Empty=new ji(0,0,0,0);class dn extends w.JT{static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,w.dk)(new dn)),this._INSTANCE}constructor(){super(),this._onDidChange=new R.Q5,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(Vi.RW.onDidChange(t=>{t.changedColorMap&&this._updateColorMap()}))}_updateColorMap(){const t=Vi.RW.getColorMap();if(!t){this._colors=[ji.Empty],this._backgroundIsLight=!0;return}this._colors=[ji.Empty];for(let L=1;L<t.length;L++){const U=t[L].rgba;this._colors[L]=new ji(U.r,U.g,U.b,Math.round(U.a*255))}const d=t[2].getRelativeLuminance();this._backgroundIsLight=d>=.5,this._onDidChange.fire(void 0)}getColor(t){return(t<1||t>=this._colors.length)&&(t=2),this._colors[t]}backgroundIsLight(){return this._backgroundIsLight}}dn._INSTANCE=null;var tn=e(57822),Hi=e(97341);const rn=(()=>{const Rt=[];for(let t=32;t<=126;t++)Rt.push(t);return Rt.push(65533),Rt})(),sn=(Rt,t)=>(Rt-=32,Rt<0||Rt>96?t<=2?(Rt+96)%96:95:Rt);var fi=e(18973);class Je{constructor(t,d){this.scale=d,this._minimapCharRendererBrand=void 0,this.charDataNormal=Je.soften(t,12/15),this.charDataLight=Je.soften(t,50/60)}static soften(t,d){const L=new Uint8ClampedArray(t.length);for(let U=0,q=t.length;U<q;U++)L[U]=(0,fi.K)(t[U]*d);return L}renderChar(t,d,L,U,q,_e,Me,ze,qe,pt,Dt){const Ot=1*this.scale,zt=2*this.scale,ii=Dt?1:zt;if(d+Ot>t.width||L+ii>t.height){console.warn("bad render request outside image data");return}const ai=pt?this.charDataLight:this.charDataNormal,pi=sn(U,qe),Si=t.width*4,ki=Me.r,Ai=Me.g,qi=Me.b,on=q.r-ki,cn=q.g-Ai,un=q.b-qi,Ln=Math.max(_e,ze),pn=t.data;let gn=pi*Ot*zt,Dn=L*Si+d*4;for(let bn=0;bn<ii;bn++){let Nn=Dn;for(let Qn=0;Qn<Ot;Qn++){const jn=ai[gn++]/255*(_e/255);pn[Nn++]=ki+on*jn,pn[Nn++]=Ai+cn*jn,pn[Nn++]=qi+un*jn,pn[Nn++]=Ln}Dn+=Si}}blockRenderChar(t,d,L,U,q,_e,Me,ze){const qe=1*this.scale,pt=2*this.scale,Dt=ze?1:pt;if(d+qe>t.width||L+Dt>t.height){console.warn("bad render request outside image data");return}const Ot=t.width*4,zt=.5*(q/255),ii=_e.r,ai=_e.g,pi=_e.b,Si=U.r-ii,ki=U.g-ai,Ai=U.b-pi,qi=ii+Si*zt,on=ai+ki*zt,cn=pi+Ai*zt,un=Math.max(q,Me),Ln=t.data;let pn=L*Ot+d*4;for(let gn=0;gn<Dt;gn++){let Dn=pn;for(let bn=0;bn<qe;bn++)Ln[Dn++]=qi,Ln[Dn++]=on,Ln[Dn++]=cn,Ln[Dn++]=un;pn+=Ot}}}var Pt=e(77303);const Wt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},Yt=Rt=>{const t=new Uint8ClampedArray(Rt.length/2);for(let d=0;d<Rt.length;d+=2)t[d>>1]=Wt[Rt[d]]<<4|Wt[Rt[d+1]]&15;return t},Vt={1:(0,Pt.M)(()=>Yt("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,Pt.M)(()=>Yt("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};class St{static create(t,d){if(this.lastCreated&&t===this.lastCreated.scale&&d===this.lastFontFamily)return this.lastCreated;let L;return Vt[t]?L=new Je(Vt[t](),t):L=St.createFromSampleData(St.createSampleData(d).data,t),this.lastFontFamily=d,this.lastCreated=L,L}static createSampleData(t){const d=document.createElement("canvas"),L=d.getContext("2d");d.style.height="16px",d.height=16,d.width=96*10,d.style.width=96*10+"px",L.fillStyle="#ffffff",L.font=`bold 16px ${t}`,L.textBaseline="middle";let U=0;for(const q of rn)L.fillText(String.fromCharCode(q),U,16/2),U+=10;return L.getImageData(0,0,96*10,16)}static createFromSampleData(t,d){if(t.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");const U=St._downsample(t,d);return new Je(U,d)}static _downsampleChar(t,d,L,U,q){const _e=1*q,Me=2*q;let ze=U,qe=0;for(let pt=0;pt<Me;pt++){const Dt=pt/Me*16,Ot=(pt+1)/Me*16;for(let zt=0;zt<_e;zt++){const ii=zt/_e*10,ai=(zt+1)/_e*10;let pi=0,Si=0;for(let Ai=Dt;Ai<Ot;Ai++){const qi=d+Math.floor(Ai)*3840,on=1-(Ai-Math.floor(Ai));for(let cn=ii;cn<ai;cn++){const un=1-(cn-Math.floor(cn)),Ln=qi+Math.floor(cn)*4,pn=un*on;Si+=pn,pi+=t[Ln]*t[Ln+3]/255*pn}}const ki=pi/Si;qe=Math.max(qe,ki),L[ze++]=(0,fi.K)(ki)}}return qe}static _downsample(t,d){const L=2*d*1*d,U=L*96,q=new Uint8ClampedArray(U);let _e=0,Me=0,ze=0;for(let qe=0;qe<96;qe++)ze=Math.max(ze,this._downsampleChar(t,Me,q,_e,d)),_e+=L,Me+=10*4;if(ze>0){const qe=255/ze;for(let pt=0;pt<U;pt++)q[pt]*=qe}return q}}var Kt=e(79138);const ei=n.ED?'"Segoe WPC", "Segoe UI", sans-serif':n.dz?"-apple-system, BlinkMacSystemFont, sans-serif":'system-ui, "Ubuntu", "Droid Sans", sans-serif',Ei=140,Li=2;class yi{constructor(t,d,L){const U=t.options,q=U.get(143),_e=U.get(145),Me=_e.minimap,ze=U.get(50),qe=U.get(73);this.renderMinimap=Me.renderMinimap,this.size=qe.size,this.minimapHeightIsEditorHeight=Me.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=U.get(105),this.paddingTop=U.get(84).top,this.paddingBottom=U.get(84).bottom,this.showSlider=qe.showSlider,this.autohide=qe.autohide,this.pixelRatio=q,this.typicalHalfwidthCharacterWidth=ze.typicalHalfwidthCharacterWidth,this.lineHeight=U.get(67),this.minimapLeft=Me.minimapLeft,this.minimapWidth=Me.minimapWidth,this.minimapHeight=_e.height,this.canvasInnerWidth=Me.minimapCanvasInnerWidth,this.canvasInnerHeight=Me.minimapCanvasInnerHeight,this.canvasOuterWidth=Me.minimapCanvasOuterWidth,this.canvasOuterHeight=Me.minimapCanvasOuterHeight,this.isSampling=Me.minimapIsSampling,this.editorHeight=_e.height,this.fontScale=Me.minimapScale,this.minimapLineHeight=Me.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.sectionHeaderFontFamily=ei,this.sectionHeaderFontSize=qe.sectionHeaderFontSize*q,this.sectionHeaderFontColor=yi._getSectionHeaderColor(d,L.getColor(1)),this.charRenderer=(0,Pt.M)(()=>St.create(this.fontScale,ze.fontFamily)),this.defaultBackgroundColor=L.getColor(2),this.backgroundColor=yi._getMinimapBackground(d,this.defaultBackgroundColor),this.foregroundAlpha=yi._getMinimapForegroundOpacity(d)}static _getMinimapBackground(t,d){const L=t.getColor(Hi.kVY);return L?new ji(L.rgba.r,L.rgba.g,L.rgba.b,Math.round(255*L.rgba.a)):d}static _getMinimapForegroundOpacity(t){const d=t.getColor(Hi.Itd);return d?ji._clamp(Math.round(255*d.rgba.a)):255}static _getSectionHeaderColor(t,d){const L=t.getColor(Hi.NOs);return L?new ji(L.rgba.r,L.rgba.g,L.rgba.b,Math.round(255*L.rgba.a)):d}equals(t){return this.renderMinimap===t.renderMinimap&&this.size===t.size&&this.minimapHeightIsEditorHeight===t.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===t.scrollBeyondLastLine&&this.paddingTop===t.paddingTop&&this.paddingBottom===t.paddingBottom&&this.showSlider===t.showSlider&&this.autohide===t.autohide&&this.pixelRatio===t.pixelRatio&&this.typicalHalfwidthCharacterWidth===t.typicalHalfwidthCharacterWidth&&this.lineHeight===t.lineHeight&&this.minimapLeft===t.minimapLeft&&this.minimapWidth===t.minimapWidth&&this.minimapHeight===t.minimapHeight&&this.canvasInnerWidth===t.canvasInnerWidth&&this.canvasInnerHeight===t.canvasInnerHeight&&this.canvasOuterWidth===t.canvasOuterWidth&&this.canvasOuterHeight===t.canvasOuterHeight&&this.isSampling===t.isSampling&&this.editorHeight===t.editorHeight&&this.fontScale===t.fontScale&&this.minimapLineHeight===t.minimapLineHeight&&this.minimapCharWidth===t.minimapCharWidth&&this.sectionHeaderFontSize===t.sectionHeaderFontSize&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(t.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(t.backgroundColor)&&this.foregroundAlpha===t.foregroundAlpha}}class bi{constructor(t,d,L,U,q,_e,Me,ze,qe){this.scrollTop=t,this.scrollHeight=d,this.sliderNeeded=L,this._computedSliderRatio=U,this.sliderTop=q,this.sliderHeight=_e,this.topPaddingLineCount=Me,this.startLineNumber=ze,this.endLineNumber=qe}getDesiredScrollTopFromDelta(t){return Math.round(this.scrollTop+t/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(t){return Math.round((t-this.sliderHeight/2)/this._computedSliderRatio)}intersectWithViewport(t){const d=Math.max(this.startLineNumber,t.startLineNumber),L=Math.min(this.endLineNumber,t.endLineNumber);return d>L?null:[d,L]}getYForLineNumber(t,d){return+(t-this.startLineNumber+this.topPaddingLineCount)*d}static create(t,d,L,U,q,_e,Me,ze,qe,pt,Dt){const Ot=t.pixelRatio,zt=t.minimapLineHeight,ii=Math.floor(t.canvasInnerHeight/zt),ai=t.lineHeight;if(t.minimapHeightIsEditorHeight){let cn=ze*t.lineHeight+t.paddingTop+t.paddingBottom;t.scrollBeyondLastLine&&(cn+=Math.max(0,q-t.lineHeight-t.paddingBottom));const un=Math.max(1,Math.floor(q*q/cn)),Ln=Math.max(0,t.minimapHeight-un),pn=Ln/(pt-q),gn=qe*pn,Dn=Ln>0,bn=Math.floor(t.canvasInnerHeight/t.minimapLineHeight),Nn=Math.floor(t.paddingTop/t.lineHeight);return new bi(qe,pt,Dn,pn,gn,un,Nn,1,Math.min(Me,bn))}let pi;if(_e&&L!==Me){const cn=L-d+1;pi=Math.floor(cn*zt/Ot)}else{const cn=q/ai;pi=Math.floor(cn*zt/Ot)}const Si=Math.floor(t.paddingTop/ai);let ki=Math.floor(t.paddingBottom/ai);if(t.scrollBeyondLastLine){const cn=q/ai;ki=Math.max(ki,cn-1)}let Ai;if(ki>0){const cn=q/ai;Ai=(Si+Me+ki-cn-1)*zt/Ot}else Ai=Math.max(0,(Si+Me)*zt/Ot-pi);Ai=Math.min(t.minimapHeight-pi,Ai);const qi=Ai/(pt-q),on=qe*qi;if(ii>=Si+Me+ki){const cn=Ai>0;return new bi(qe,pt,cn,qi,on,pi,Si,1,Me)}else{let cn;d>1?cn=d+Si:cn=Math.max(1,qe/ai);let un,Ln=Math.max(1,Math.floor(cn-on*Ot/zt));Ln<Si?(un=Si-Ln+1,Ln=1):(un=0,Ln=Math.max(1,Ln-Si)),Dt&&Dt.scrollHeight===pt&&(Dt.scrollTop>qe&&(Ln=Math.min(Ln,Dt.startLineNumber),un=Math.max(un,Dt.topPaddingLineCount)),Dt.scrollTop<qe&&(Ln=Math.max(Ln,Dt.startLineNumber),un=Math.min(un,Dt.topPaddingLineCount)));const pn=Math.min(Me,Ln-un+ii-1),gn=(qe-U)/ai;let Dn;return qe>=t.paddingTop?Dn=(d-Ln+un+gn)*zt/Ot:Dn=qe/t.paddingTop*(un+gn)*zt/Ot,new bi(qe,pt,!0,qi,Dn,pi,un,Ln,pn)}}}class Ui{constructor(t){this.dy=t}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}Ui.INVALID=new Ui(-1);class Pi{constructor(t,d,L){this.renderedLayout=t,this._imageData=d,this._renderedLines=new Zi(()=>Ui.INVALID),this._renderedLines._set(t.startLineNumber,L)}linesEquals(t){if(!this.scrollEquals(t))return!1;const L=this._renderedLines._get().lines;for(let U=0,q=L.length;U<q;U++)if(L[U].dy===-1)return!1;return!0}scrollEquals(t){return this.renderedLayout.startLineNumber===t.startLineNumber&&this.renderedLayout.endLineNumber===t.endLineNumber}_get(){const t=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:t.rendLineNumberStart,lines:t.lines}}onLinesChanged(t,d){return this._renderedLines.onLinesChanged(t,d)}onLinesDeleted(t,d){this._renderedLines.onLinesDeleted(t,d)}onLinesInserted(t,d){this._renderedLines.onLinesInserted(t,d)}onTokensChanged(t){return this._renderedLines.onTokensChanged(t)}}class Xi{constructor(t,d,L,U){this._backgroundFillData=Xi._createBackgroundFillData(d,L,U),this._buffers=[t.createImageData(d,L),t.createImageData(d,L)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const t=this._buffers[this._lastUsedBuffer];return t.data.set(this._backgroundFillData),t}static _createBackgroundFillData(t,d,L){const U=L.r,q=L.g,_e=L.b,Me=L.a,ze=new Uint8ClampedArray(t*d*4);let qe=0;for(let pt=0;pt<d;pt++)for(let Dt=0;Dt<t;Dt++)ze[qe]=U,ze[qe+1]=q,ze[qe+2]=_e,ze[qe+3]=Me,qe+=4;return ze}}class nn{static compute(t,d,L){if(t.renderMinimap===0||!t.isSampling)return[null,[]];const{minimapLineCount:U}=N.gk.computeContainedMinimapLineCount({viewLineCount:d,scrollBeyondLastLine:t.scrollBeyondLastLine,paddingTop:t.paddingTop,paddingBottom:t.paddingBottom,height:t.editorHeight,lineHeight:t.lineHeight,pixelRatio:t.pixelRatio}),q=d/U,_e=q/2;if(!L||L.minimapLines.length===0){const pi=[];if(pi[0]=1,U>1){for(let Si=0,ki=U-1;Si<ki;Si++)pi[Si]=Math.round(Si*q+_e);pi[U-1]=d}return[new nn(q,pi),[]]}const Me=L.minimapLines,ze=Me.length,qe=[];let pt=0,Dt=0,Ot=1;const zt=10;let ii=[],ai=null;for(let pi=0;pi<U;pi++){const Si=Math.max(Ot,Math.round(pi*q)),ki=Math.max(Si,Math.round((pi+1)*q));for(;pt<ze&&Me[pt]<Si;){if(ii.length<zt){const qi=pt+1+Dt;ai&&ai.type==="deleted"&&ai._oldIndex===pt-1?ai.deleteToLineNumber++:(ai={type:"deleted",_oldIndex:pt,deleteFromLineNumber:qi,deleteToLineNumber:qi},ii.push(ai)),Dt--}pt++}let Ai;if(pt<ze&&Me[pt]<=ki)Ai=Me[pt],pt++;else if(pi===0?Ai=1:pi+1===U?Ai=d:Ai=Math.round(pi*q+_e),ii.length<zt){const qi=pt+1+Dt;ai&&ai.type==="inserted"&&ai._i===pi-1?ai.insertToLineNumber++:(ai={type:"inserted",_i:pi,insertFromLineNumber:qi,insertToLineNumber:qi},ii.push(ai)),Dt++}qe[pi]=Ai,Ot=Ai}if(ii.length<zt)for(;pt<ze;){const pi=pt+1+Dt;ai&&ai.type==="deleted"&&ai._oldIndex===pt-1?ai.deleteToLineNumber++:(ai={type:"deleted",_oldIndex:pt,deleteFromLineNumber:pi,deleteToLineNumber:pi},ii.push(ai)),Dt--,pt++}else ii=[{type:"flush"}];return[new nn(q,qe),ii]}constructor(t,d){this.samplingRatio=t,this.minimapLines=d}modelLineToMinimapLine(t){return Math.min(this.minimapLines.length,Math.max(1,Math.round(t/this.samplingRatio)))}modelLineRangeToMinimapLineRange(t,d){let L=this.modelLineToMinimapLine(t)-1;for(;L>0&&this.minimapLines[L-1]>=t;)L--;let U=this.modelLineToMinimapLine(d)-1;for(;U+1<this.minimapLines.length&&this.minimapLines[U+1]<=d;)U++;if(L===U){const q=this.minimapLines[L];if(q<t||q>d)return null}return[L+1,U+1]}decorationLineRangeToMinimapLineRange(t,d){let L=this.modelLineToMinimapLine(t),U=this.modelLineToMinimapLine(d);return t!==d&&U===L&&(U===this.minimapLines.length?L>1&&L--:U++),[L,U]}onLinesDeleted(t){const d=t.toLineNumber-t.fromLineNumber+1;let L=this.minimapLines.length,U=0;for(let q=this.minimapLines.length-1;q>=0&&!(this.minimapLines[q]<t.fromLineNumber);q--)this.minimapLines[q]<=t.toLineNumber?(this.minimapLines[q]=Math.max(1,t.fromLineNumber-1),L=Math.min(L,q),U=Math.max(U,q)):this.minimapLines[q]-=d;return[L,U]}onLinesInserted(t){const d=t.toLineNumber-t.fromLineNumber+1;for(let L=this.minimapLines.length-1;L>=0&&!(this.minimapLines[L]<t.fromLineNumber);L--)this.minimapLines[L]+=d}}class Sn extends ne{constructor(t){super(t),this._sectionHeaderCache=new Kt.z6(10,1.5),this.tokensColorTracker=dn.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new yi(this._context.configuration,this._context.theme,this.tokensColorTracker);const[d]=nn.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=d,this._shouldCheckSampling=!1,this._actual=new Mn(t.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const t=new yi(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(t)?!1:(this.options=t,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(t){return this._onOptionsMaybeChanged()}onCursorStateChanged(t){return this._selections=t.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(t){return t.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(t){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(t){if(this._samplingState){const d=this._samplingState.modelLineRangeToMinimapLineRange(t.fromLineNumber,t.fromLineNumber+t.count-1);return d?this._actual.onLinesChanged(d[0],d[1]-d[0]+1):!1}else return this._actual.onLinesChanged(t.fromLineNumber,t.count)}onLinesDeleted(t){if(this._samplingState){const[d,L]=this._samplingState.onLinesDeleted(t);return d<=L&&this._actual.onLinesChanged(d+1,L-d+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(t.fromLineNumber,t.toLineNumber)}onLinesInserted(t){return this._samplingState?(this._samplingState.onLinesInserted(t),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(t.fromLineNumber,t.toLineNumber)}onScrollChanged(t){return this._actual.onScrollChanged()}onThemeChanged(t){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(t){if(this._samplingState){const d=[];for(const L of t.ranges){const U=this._samplingState.modelLineRangeToMinimapLineRange(L.fromLineNumber,L.toLineNumber);U&&d.push({fromLineNumber:U[0],toLineNumber:U[1]})}return d.length?this._actual.onTokensChanged(d):!1}else return this._actual.onTokensChanged(t.ranges)}onTokensColorsChanged(t){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(t){return this._actual.onZonesChanged()}prepareRender(t){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(t){let d=t.visibleRange.startLineNumber,L=t.visibleRange.endLineNumber;this._samplingState&&(d=this._samplingState.modelLineToMinimapLine(d),L=this._samplingState.modelLineToMinimapLine(L));const U={viewportContainsWhitespaceGaps:t.viewportData.whitespaceViewportData.length>0,scrollWidth:t.scrollWidth,scrollHeight:t.scrollHeight,viewportStartLineNumber:d,viewportEndLineNumber:L,viewportStartLineNumberVerticalOffset:t.getVerticalOffsetForLineNumber(d),scrollTop:t.scrollTop,scrollLeft:t.scrollLeft,viewportWidth:t.viewportWidth,viewportHeight:t.viewportHeight};this._actual.render(U)}_recreateLineSampling(){this._minimapSelections=null;const t=!!this._samplingState,[d,L]=nn.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=d,t&&this._samplingState)for(const U of L)switch(U.type){case"deleted":this._actual.onLinesDeleted(U.deleteFromLineNumber,U.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(U.insertFromLineNumber,U.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(t){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[t-1]):this._context.viewModel.getLineContent(t)}getLineMaxColumn(t){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[t-1]):this._context.viewModel.getLineMaxColumn(t)}getMinimapLinesRenderingData(t,d,L){if(this._samplingState){const U=[];for(let q=0,_e=d-t+1;q<_e;q++)L[q]?U[q]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[t+q-1]):U[q]=null;return U}return this._context.viewModel.getMinimapLinesRenderingData(t,d,L).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const t of this._selections){const[d,L]=this._samplingState.decorationLineRangeToMinimapLineRange(t.startLineNumber,t.endLineNumber);this._minimapSelections.push(new Te.Y(d,t.startColumn,L,t.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(t,d){const L=this._getMinimapDecorationsInViewport(t,d).filter(U=>{var q;return!(!((q=U.options.minimap)===null||q===void 0)&&q.sectionHeaderStyle)});if(this._samplingState){const U=[];for(const q of L){if(!q.options.minimap)continue;const _e=q.range,Me=this._samplingState.modelLineToMinimapLine(_e.startLineNumber),ze=this._samplingState.modelLineToMinimapLine(_e.endLineNumber);U.push(new tn.$l(new M.e(Me,_e.startColumn,ze,_e.endColumn),q.options))}return U}return L}getSectionHeaderDecorationsInViewport(t,d){const L=this.options.minimapLineHeight,q=this.options.sectionHeaderFontSize/L;return t=Math.floor(Math.max(1,t-q)),this._getMinimapDecorationsInViewport(t,d).filter(_e=>{var Me;return!!(!((Me=_e.options.minimap)===null||Me===void 0)&&Me.sectionHeaderStyle)})}_getMinimapDecorationsInViewport(t,d){let L;if(this._samplingState){const U=this._samplingState.minimapLines[t-1],q=this._samplingState.minimapLines[d-1];L=new M.e(U,1,q,this._context.viewModel.getLineMaxColumn(q))}else L=new M.e(t,1,d,this._context.viewModel.getLineMaxColumn(d));return this._context.viewModel.getMinimapDecorationsInRange(L)}getSectionHeaderText(t,d){var L;const U=(L=t.options.minimap)===null||L===void 0?void 0:L.sectionHeaderText;if(!U)return null;const q=this._sectionHeaderCache.get(U);if(q)return q;const _e=d(U);return this._sectionHeaderCache.set(U,_e),_e}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(t){this._samplingState&&(t=this._samplingState.minimapLines[t-1]),this._context.viewModel.revealRange("mouse",!1,new M.e(t,1,t,1),1,0)}setScrollTop(t){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:t},1)}}class Mn extends w.JT{constructor(t,d){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=t,this._model=d,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(Hi.ov3),this._domNode=(0,Q.X)(document.createElement("div")),ee.write(this._domNode,9),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,Q.X)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,Q.X)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,Q.X)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,Q.X)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,Q.X)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=p.mu(this._domNode.domNode,p.tw.POINTER_DOWN,L=>{if(L.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(L.button===0&&this._lastRenderData){const qe=p.i(this._slider.domNode),pt=qe.top+qe.height/2;this._startSliderDragging(L,pt,this._lastRenderData.renderedLayout)}return}const q=this._model.options.minimapLineHeight,_e=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*L.offsetY;let ze=Math.floor(_e/q)+this._lastRenderData.renderedLayout.startLineNumber-this._lastRenderData.renderedLayout.topPaddingLineCount;ze=Math.min(ze,this._model.getLineCount()),this._model.revealLineNumber(ze)}),this._sliderPointerMoveMonitor=new ln.C,this._sliderPointerDownListener=p.mu(this._slider.domNode,p.tw.POINTER_DOWN,L=>{L.preventDefault(),L.stopPropagation(),L.button===0&&this._lastRenderData&&this._startSliderDragging(L,L.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=ue.o.addTarget(this._domNode.domNode),this._sliderTouchStartListener=p.nm(this._domNode.domNode,ue.t.Start,L=>{L.preventDefault(),L.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(L))},{passive:!1}),this._sliderTouchMoveListener=p.nm(this._domNode.domNode,ue.t.Change,L=>{L.preventDefault(),L.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(L)},{passive:!1}),this._sliderTouchEndListener=p.mu(this._domNode.domNode,ue.t.End,L=>{L.preventDefault(),L.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(t,d,L){if(!t.target||!(t.target instanceof Element))return;const U=t.pageX;this._slider.toggleClassName("active",!0);const q=(_e,Me)=>{const ze=p.i(this._domNode.domNode),qe=Math.min(Math.abs(Me-U),Math.abs(Me-ze.left),Math.abs(Me-ze.left-ze.width));if(n.ED&&qe>Ei){this._model.setScrollTop(L.scrollTop);return}const pt=_e-d;this._model.setScrollTop(L.getDesiredScrollTopFromDelta(pt))};t.pageY!==d&&q(t.pageY,U),this._sliderPointerMoveMonitor.startMonitoring(t.target,t.pointerId,t.buttons,_e=>q(_e.pageY,_e.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(t){const d=this._domNode.domNode.getBoundingClientRect().top,L=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(t.pageY-d);this._model.setScrollTop(L)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const t=["minimap"];return this._model.options.showSlider==="always"?t.push("slider-always"):t.push("slider-mouseover"),this._model.options.autohide&&t.push("autohide"),t.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new Xi(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(t,d){return this._lastRenderData?this._lastRenderData.onLinesChanged(t,d):!1}onLinesDeleted(t,d){var L;return(L=this._lastRenderData)===null||L===void 0||L.onLinesDeleted(t,d),!0}onLinesInserted(t,d){var L;return(L=this._lastRenderData)===null||L===void 0||L.onLinesInserted(t,d),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(Hi.ov3),this._renderDecorations=!0,!0}onTokensChanged(t){return this._lastRenderData?this._lastRenderData.onTokensChanged(t):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(t){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}t.scrollLeft+t.viewportWidth>=t.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const L=bi.create(this._model.options,t.viewportStartLineNumber,t.viewportEndLineNumber,t.viewportStartLineNumberVerticalOffset,t.viewportHeight,t.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),t.scrollTop,t.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(L.sliderNeeded?"block":"none"),this._slider.setTop(L.sliderTop),this._slider.setHeight(L.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(L.sliderHeight),this.renderDecorations(L),this._lastRenderData=this.renderLines(L)}renderDecorations(t){if(this._renderDecorations){this._renderDecorations=!1;const d=this._model.getSelections();d.sort(M.e.compareRangesUsingStarts);const L=this._model.getMinimapDecorationsInViewport(t.startLineNumber,t.endLineNumber);L.sort((Ot,zt)=>(Ot.options.zIndex||0)-(zt.options.zIndex||0));const{canvasInnerWidth:U,canvasInnerHeight:q}=this._model.options,_e=this._model.options.minimapLineHeight,Me=this._model.options.minimapCharWidth,ze=this._model.getOptions().tabSize,qe=this._decorationsCanvas.domNode.getContext("2d");qe.clearRect(0,0,U,q);const pt=new wt(t.startLineNumber,t.endLineNumber,!1);this._renderSelectionLineHighlights(qe,d,pt,t,_e),this._renderDecorationsLineHighlights(qe,L,pt,t,_e);const Dt=new wt(t.startLineNumber,t.endLineNumber,null);this._renderSelectionsHighlights(qe,d,Dt,t,_e,ze,Me,U),this._renderDecorationsHighlights(qe,L,Dt,t,_e,ze,Me,U),this._renderSectionHeaders(t)}}_renderSelectionLineHighlights(t,d,L,U,q){if(!this._selectionColor||this._selectionColor.isTransparent())return;t.fillStyle=this._selectionColor.transparent(.5).toString();let _e=0,Me=0;for(const ze of d){const qe=U.intersectWithViewport(ze);if(!qe)continue;const[pt,Dt]=qe;for(let ii=pt;ii<=Dt;ii++)L.set(ii,!0);const Ot=U.getYForLineNumber(pt,q),zt=U.getYForLineNumber(Dt,q);Me>=Ot||(Me>_e&&t.fillRect(N.y0,_e,t.canvas.width,Me-_e),_e=Ot),Me=zt}Me>_e&&t.fillRect(N.y0,_e,t.canvas.width,Me-_e)}_renderDecorationsLineHighlights(t,d,L,U,q){const _e=new Map;for(let Me=d.length-1;Me>=0;Me--){const ze=d[Me],qe=ze.options.minimap;if(!qe||qe.position!==1)continue;const pt=U.intersectWithViewport(ze.range);if(!pt)continue;const[Dt,Ot]=pt,zt=qe.getColor(this._theme.value);if(!zt||zt.isTransparent())continue;let ii=_e.get(zt.toString());ii||(ii=zt.transparent(.5).toString(),_e.set(zt.toString(),ii)),t.fillStyle=ii;for(let ai=Dt;ai<=Ot;ai++){if(L.has(ai))continue;L.set(ai,!0);const pi=U.getYForLineNumber(Dt,q);t.fillRect(N.y0,pi,t.canvas.width,q)}}}_renderSelectionsHighlights(t,d,L,U,q,_e,Me,ze){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const qe of d){const pt=U.intersectWithViewport(qe);if(!pt)continue;const[Dt,Ot]=pt;for(let zt=Dt;zt<=Ot;zt++)this.renderDecorationOnLine(t,L,qe,this._selectionColor,U,zt,q,q,_e,Me,ze)}}_renderDecorationsHighlights(t,d,L,U,q,_e,Me,ze){for(const qe of d){const pt=qe.options.minimap;if(!pt)continue;const Dt=U.intersectWithViewport(qe.range);if(!Dt)continue;const[Ot,zt]=Dt,ii=pt.getColor(this._theme.value);if(!(!ii||ii.isTransparent()))for(let ai=Ot;ai<=zt;ai++)switch(pt.position){case 1:this.renderDecorationOnLine(t,L,qe.range,ii,U,ai,q,q,_e,Me,ze);continue;case 2:{const pi=U.getYForLineNumber(ai,q);this.renderDecoration(t,ii,2,pi,Li,q);continue}}}}renderDecorationOnLine(t,d,L,U,q,_e,Me,ze,qe,pt,Dt){const Ot=q.getYForLineNumber(_e,ze);if(Ot+Me<0||Ot>this._model.options.canvasInnerHeight)return;const{startLineNumber:zt,endLineNumber:ii}=L,ai=zt===_e?L.startColumn:1,pi=ii===_e?L.endColumn:this._model.getLineMaxColumn(_e),Si=this.getXOffsetForPosition(d,_e,ai,qe,pt,Dt),ki=this.getXOffsetForPosition(d,_e,pi,qe,pt,Dt);this.renderDecoration(t,U,Si,Ot,ki-Si,Me)}getXOffsetForPosition(t,d,L,U,q,_e){if(L===1)return N.y0;if((L-1)*q>=_e)return _e;let ze=t.get(d);if(!ze){const qe=this._model.getLineContent(d);ze=[N.y0];let pt=N.y0;for(let Dt=1;Dt<qe.length+1;Dt++){const Ot=qe.charCodeAt(Dt-1),zt=Ot===9?U*q:Nt.K7(Ot)?2*q:q,ii=pt+zt;if(ii>=_e){ze[Dt]=_e;break}ze[Dt]=ii,pt=ii}t.set(d,ze)}return L-1<ze.length?ze[L-1]:_e}renderDecoration(t,d,L,U,q,_e){t.fillStyle=d&&d.toString()||"",t.fillRect(L,U,q,_e)}_renderSectionHeaders(t){var d;const L=this._model.options.minimapLineHeight,U=this._model.options.sectionHeaderFontSize,q=U*1.5,{canvasInnerWidth:_e}=this._model.options,Me=this._model.options.backgroundColor,ze=`rgb(${Me.r} ${Me.g} ${Me.b} / .7)`,qe=this._model.options.sectionHeaderFontColor,pt=`rgb(${qe.r} ${qe.g} ${qe.b})`,Dt=pt,Ot=this._decorationsCanvas.domNode.getContext("2d");Ot.font=U+"px "+this._model.options.sectionHeaderFontFamily,Ot.strokeStyle=Dt,Ot.lineWidth=.2;const zt=this._model.getSectionHeaderDecorationsInViewport(t.startLineNumber,t.endLineNumber);zt.sort((ai,pi)=>ai.range.startLineNumber-pi.range.startLineNumber);const ii=Mn._fitSectionHeader.bind(null,Ot,_e-N.y0);for(const ai of zt){const pi=t.getYForLineNumber(ai.range.startLineNumber,L)+U,Si=pi-U,ki=Si+2,Ai=this._model.getSectionHeaderText(ai,ii);Mn._renderSectionLabel(Ot,Ai,((d=ai.options.minimap)===null||d===void 0?void 0:d.sectionHeaderStyle)===2,ze,pt,_e,Si,q,pi,ki)}}static _fitSectionHeader(t,d,L){if(!L)return L;const U="\u2026",q=t.measureText(L).width,_e=t.measureText(U).width;if(q<=d||q<=_e)return L;const Me=L.length,ze=q/L.length,qe=Math.floor((d-_e)/ze)-1;let pt=Math.ceil(qe/2);for(;pt>0&&/\s/.test(L[pt-1]);)--pt;return L.substring(0,pt)+U+L.substring(Me-(qe-pt))}static _renderSectionLabel(t,d,L,U,q,_e,Me,ze,qe,pt){d&&(t.fillStyle=U,t.fillRect(0,Me,_e,ze),t.fillStyle=q,t.fillText(d,N.y0,qe)),L&&(t.beginPath(),t.moveTo(0,pt),t.lineTo(_e,pt),t.closePath(),t.stroke())}renderLines(t){const d=t.startLineNumber,L=t.endLineNumber,U=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(t)){const jn=this._lastRenderData._get();return new Pi(t,jn.imageData,jn.lines)}const q=this._getBuffer();if(!q)return null;const[_e,Me,ze]=Mn._renderUntouchedLines(q,t.topPaddingLineCount,d,L,U,this._lastRenderData),qe=this._model.getMinimapLinesRenderingData(d,L,ze),pt=this._model.getOptions().tabSize,Dt=this._model.options.defaultBackgroundColor,Ot=this._model.options.backgroundColor,zt=this._model.options.foregroundAlpha,ii=this._model.tokensColorTracker,ai=ii.backgroundIsLight(),pi=this._model.options.renderMinimap,Si=this._model.options.charRenderer(),ki=this._model.options.fontScale,Ai=this._model.options.minimapCharWidth,on=(pi===1?2:3)*ki,cn=U>on?Math.floor((U-on)/2):0,un=Ot.a/255,Ln=new ji(Math.round((Ot.r-Dt.r)*un+Dt.r),Math.round((Ot.g-Dt.g)*un+Dt.g),Math.round((Ot.b-Dt.b)*un+Dt.b),255);let pn=t.topPaddingLineCount*U;const gn=[];for(let jn=0,fs=L-d+1;jn<fs;jn++)ze[jn]&&Mn._renderLine(q,Ln,Ot.a,ai,pi,Ai,ii,zt,Si,pn,cn,pt,qe[jn],ki,U),gn[jn]=new Ui(pn),pn+=U;const Dn=_e===-1?0:_e,Nn=(Me===-1?q.height:Me)-Dn;return this._canvas.domNode.getContext("2d").putImageData(q,0,0,0,Dn,q.width,Nn),new Pi(t,q,gn)}static _renderUntouchedLines(t,d,L,U,q,_e){const Me=[];if(!_e){for(let pn=0,gn=U-L+1;pn<gn;pn++)Me[pn]=!0;return[-1,-1,Me]}const ze=_e._get(),qe=ze.imageData.data,pt=ze.rendLineNumberStart,Dt=ze.lines,Ot=Dt.length,zt=t.width,ii=t.data,ai=(U-L+1)*q*zt*4;let pi=-1,Si=-1,ki=-1,Ai=-1,qi=-1,on=-1,cn=d*q;for(let pn=L;pn<=U;pn++){const gn=pn-L,Dn=pn-pt,bn=Dn>=0&&Dn<Ot?Dt[Dn].dy:-1;if(bn===-1){Me[gn]=!0,cn+=q;continue}const Nn=bn*zt*4,Qn=(bn+q)*zt*4,jn=cn*zt*4,fs=(cn+q)*zt*4;Ai===Nn&&on===jn?(Ai=Qn,on=fs):(ki!==-1&&(ii.set(qe.subarray(ki,Ai),qi),pi===-1&&ki===0&&ki===qi&&(pi=Ai),Si===-1&&Ai===ai&&ki===qi&&(Si=ki)),ki=Nn,Ai=Qn,qi=jn,on=fs),Me[gn]=!1,cn+=q}ki!==-1&&(ii.set(qe.subarray(ki,Ai),qi),pi===-1&&ki===0&&ki===qi&&(pi=Ai),Si===-1&&Ai===ai&&ki===qi&&(Si=ki));const un=pi===-1?-1:pi/(zt*4),Ln=Si===-1?-1:Si/(zt*4);return[un,Ln,Me]}static _renderLine(t,d,L,U,q,_e,Me,ze,qe,pt,Dt,Ot,zt,ii,ai){const pi=zt.content,Si=zt.tokens,ki=t.width-_e,Ai=ai===1;let qi=N.y0,on=0,cn=0;for(let un=0,Ln=Si.getCount();un<Ln;un++){const pn=Si.getEndOffset(un),gn=Si.getForeground(un),Dn=Me.getColor(gn);for(;on<pn;on++){if(qi>ki)return;const bn=pi.charCodeAt(on);if(bn===9){const Nn=Ot-(on+cn)%Ot;cn+=Nn-1,qi+=Nn*_e}else if(bn===32)qi+=_e;else{const Nn=Nt.K7(bn)?2:1;for(let Qn=0;Qn<Nn;Qn++)if(q===2?qe.blockRenderChar(t,qi,pt+Dt,Dn,ze,d,L,Ai):qe.renderChar(t,qi,pt+Dt,bn,Dn,ze,d,L,ii,U,Ai),qi+=_e,qi>ki)return}}}}}class wt{constructor(t,d,L){this._startLineNumber=t,this._endLineNumber=d,this._defaultValue=L,this._values=[];for(let U=0,q=this._endLineNumber-this._startLineNumber+1;U<q;U++)this._values[U]=L}has(t){return this.get(t)!==this._defaultValue}set(t,d){t<this._startLineNumber||t>this._endLineNumber||(this._values[t-this._startLineNumber]=d)}get(t){return t<this._startLineNumber||t>this._endLineNumber?this._defaultValue:this._values[t-this._startLineNumber]}}class T extends ne{constructor(t,d){super(t),this._viewDomNode=d;const U=this._context.configuration.options.get(145);this._widgets={},this._verticalScrollbarWidth=U.verticalScrollbarWidth,this._minimapWidth=U.minimap.minimapWidth,this._horizontalScrollbarHeight=U.horizontalScrollbarHeight,this._editorHeight=U.height,this._editorWidth=U.width,this._viewDomNodeRect={top:0,left:0,width:0,height:0},this._domNode=(0,Q.X)(document.createElement("div")),ee.write(this._domNode,4),this._domNode.setClassName("overlayWidgets"),this.overflowingOverlayWidgetsDomNode=(0,Q.X)(document.createElement("div")),ee.write(this.overflowingOverlayWidgetsDomNode,5),this.overflowingOverlayWidgetsDomNode.setClassName("overflowingOverlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(t){const L=this._context.configuration.options.get(145);return this._verticalScrollbarWidth=L.verticalScrollbarWidth,this._minimapWidth=L.minimap.minimapWidth,this._horizontalScrollbarHeight=L.horizontalScrollbarHeight,this._editorHeight=L.height,this._editorWidth=L.width,!0}addWidget(t){const d=(0,Q.X)(t.getDomNode());this._widgets[t.getId()]={widget:t,preference:null,domNode:d},d.setPosition("absolute"),d.setAttribute("widgetId",t.getId()),t.allowEditorOverflow?this.overflowingOverlayWidgetsDomNode.appendChild(d):this._domNode.appendChild(d),this.setShouldRender(),this._updateMaxMinWidth()}setWidgetPosition(t,d){const L=this._widgets[t.getId()];return L.preference===d?(this._updateMaxMinWidth(),!1):(L.preference=d,this.setShouldRender(),this._updateMaxMinWidth(),!0)}removeWidget(t){const d=t.getId();if(this._widgets.hasOwnProperty(d)){const U=this._widgets[d].domNode.domNode;delete this._widgets[d],U.remove(),this.setShouldRender(),this._updateMaxMinWidth()}}_updateMaxMinWidth(){var t,d;let L=0;const U=Object.keys(this._widgets);for(let q=0,_e=U.length;q<_e;q++){const Me=U[q],qe=(d=(t=this._widgets[Me].widget).getMinContentWidthInPx)===null||d===void 0?void 0:d.call(t);typeof qe!="undefined"&&(L=Math.max(L,qe))}this._context.viewLayout.setOverlayWidgetsMinWidth(L)}_renderWidget(t){const d=t.domNode;if(t.preference===null){d.setTop("");return}if(t.preference===0)d.setTop(0),d.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(t.preference===1){const L=d.domNode.clientHeight;d.setTop(this._editorHeight-L-2*this._horizontalScrollbarHeight),d.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else if(t.preference===2)d.setTop(0),d.domNode.style.right="50%";else{const{top:L,left:U}=t.preference;if(this._context.configuration.options.get(42)&&t.widget.allowEditorOverflow){const _e=this._viewDomNodeRect;d.setTop(L+_e.top),d.setLeft(U+_e.left),d.setPosition("fixed")}else d.setTop(L),d.setLeft(U),d.setPosition("absolute")}}prepareRender(t){this._viewDomNodeRect=p.i(this._viewDomNode.domNode)}render(t){this._domNode.setWidth(this._editorWidth);const d=Object.keys(this._widgets);for(let L=0,U=d.length;L<U;L++){const q=d[L];this._renderWidget(this._widgets[q])}}}class J{constructor(t,d){const L=t.options;this.lineHeight=L.get(67),this.pixelRatio=L.get(143),this.overviewRulerLanes=L.get(83),this.renderBorder=L.get(82);const U=d.getColor(Ct.zw);this.borderColor=U?U.toString():null,this.hideCursor=L.get(59);const q=d.getColor(Ct.n0);this.cursorColorSingle=q?q.transparent(.7).toString():null;const _e=d.getColor(Ct.jD);this.cursorColorPrimary=_e?_e.transparent(.7).toString():null;const Me=d.getColor(Ct.x_);this.cursorColorSecondary=Me?Me.transparent(.7).toString():null,this.themeType=d.type;const ze=L.get(73),qe=ze.enabled,pt=ze.side,Dt=d.getColor(Ct.e_),Ot=Vi.RW.getDefaultBackground();Dt?this.backgroundColor=Dt:qe&&pt==="right"?this.backgroundColor=Ot:this.backgroundColor=null;const ii=L.get(145).overviewRuler;this.top=ii.top,this.right=ii.right,this.domWidth=ii.width,this.domHeight=ii.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[ai,pi]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=ai,this.w=pi}_initLanes(t,d,L){const U=d-t;if(L>=3){const q=Math.floor(U/3),_e=Math.floor(U/3),Me=U-q-_e,ze=t,qe=ze+q,pt=ze+q+Me;return[[0,ze,qe,ze,pt,ze,qe,ze],[0,q,Me,q+Me,_e,q+Me+_e,Me+_e,q+Me+_e]]}else if(L===2){const q=Math.floor(U/2),_e=U-q,Me=t,ze=Me+q;return[[0,Me,Me,Me,ze,Me,Me,Me],[0,q,q,q,_e,q+_e,q+_e,q+_e]]}else{const q=t,_e=U;return[[0,q,q,q,q,q,q,q],[0,_e,_e,_e,_e,_e,_e,_e]]}}equals(t){return this.lineHeight===t.lineHeight&&this.pixelRatio===t.pixelRatio&&this.overviewRulerLanes===t.overviewRulerLanes&&this.renderBorder===t.renderBorder&&this.borderColor===t.borderColor&&this.hideCursor===t.hideCursor&&this.cursorColorSingle===t.cursorColorSingle&&this.cursorColorPrimary===t.cursorColorPrimary&&this.cursorColorSecondary===t.cursorColorSecondary&&this.themeType===t.themeType&&Ji.Il.equals(this.backgroundColor,t.backgroundColor)&&this.top===t.top&&this.right===t.right&&this.domWidth===t.domWidth&&this.domHeight===t.domHeight&&this.canvasWidth===t.canvasWidth&&this.canvasHeight===t.canvasHeight}}class ce extends ne{constructor(t){super(t),this._actualShouldRender=0,this._renderedDecorations=[],this._renderedCursorPositions=[],this._domNode=(0,Q.X)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=Vi.RW.onDidChange(d=>{d.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[{position:new he.L(1,1),color:this._settings.cursorColorSingle}]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(t){const d=new J(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(d)?!1:(this._settings=d,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,t&&this._render(),!0)}_markRenderingIsNeeded(){return this._actualShouldRender=2,!0}_markRenderingIsMaybeNeeded(){return this._actualShouldRender=1,!0}onConfigurationChanged(t){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}onCursorStateChanged(t){this._cursorPositions=[];for(let d=0,L=t.selections.length;d<L;d++){let U=this._settings.cursorColorSingle;L>1&&(U=d===0?this._settings.cursorColorPrimary:this._settings.cursorColorSecondary),this._cursorPositions.push({position:t.selections[d].getPosition(),color:U})}return this._cursorPositions.sort((d,L)=>he.L.compare(d.position,L.position)),this._markRenderingIsMaybeNeeded()}onDecorationsChanged(t){return t.affectsOverviewRuler?this._markRenderingIsMaybeNeeded():!1}onFlushed(t){return this._markRenderingIsNeeded()}onScrollChanged(t){return t.scrollHeightChanged?this._markRenderingIsNeeded():!1}onZonesChanged(t){return this._markRenderingIsNeeded()}onThemeChanged(t){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}getDomNode(){return this._domNode.domNode}prepareRender(t){}render(t){this._render(),this._actualShouldRender=0}_render(){const t=this._settings.backgroundColor;if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(t?Ji.Il.Format.CSS.formatHexA(t):""),this._domNode.setDisplay("none");return}const d=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme);if(d.sort(tn.SQ.compareByRenderingProps),this._actualShouldRender===1&&!tn.SQ.equalsArr(this._renderedDecorations,d)&&(this._actualShouldRender=2),this._actualShouldRender===1&&!(0,r.fS)(this._renderedCursorPositions,this._cursorPositions,(ii,ai)=>ii.position.lineNumber===ai.position.lineNumber&&ii.color===ai.color)&&(this._actualShouldRender=2),this._actualShouldRender===1)return;this._renderedDecorations=d,this._renderedCursorPositions=this._cursorPositions,this._domNode.setDisplay("block");const L=this._settings.canvasWidth,U=this._settings.canvasHeight,q=this._settings.lineHeight,_e=this._context.viewLayout,Me=this._context.viewLayout.getScrollHeight(),ze=U/Me,qe=6*this._settings.pixelRatio|0,pt=qe/2|0,Dt=this._domNode.domNode.getContext("2d");t?t.isOpaque()?(Dt.fillStyle=Ji.Il.Format.CSS.formatHexA(t),Dt.fillRect(0,0,L,U)):(Dt.clearRect(0,0,L,U),Dt.fillStyle=Ji.Il.Format.CSS.formatHexA(t),Dt.fillRect(0,0,L,U)):Dt.clearRect(0,0,L,U);const Ot=this._settings.x,zt=this._settings.w;for(const ii of d){const ai=ii.color,pi=ii.data;Dt.fillStyle=ai;let Si=0,ki=0,Ai=0;for(let qi=0,on=pi.length/3;qi<on;qi++){const cn=pi[3*qi],un=pi[3*qi+1],Ln=pi[3*qi+2];let pn=_e.getVerticalOffsetForLineNumber(un)*ze|0,gn=(_e.getVerticalOffsetForLineNumber(Ln)+q)*ze|0;if(gn-pn<qe){let bn=(pn+gn)/2|0;bn<pt?bn=pt:bn+pt>U&&(bn=U-pt),pn=bn-pt,gn=bn+pt}pn>Ai+1||cn!==Si?(qi!==0&&Dt.fillRect(Ot[Si],ki,zt[Si],Ai-ki),Si=cn,ki=pn,Ai=gn):gn>Ai&&(Ai=gn)}Dt.fillRect(Ot[Si],ki,zt[Si],Ai-ki)}if(!this._settings.hideCursor){const ii=2*this._settings.pixelRatio|0,ai=ii/2|0,pi=this._settings.x[7],Si=this._settings.w[7];let ki=-100,Ai=-100,qi=null;for(let on=0,cn=this._cursorPositions.length;on<cn;on++){const un=this._cursorPositions[on].color;if(!un)continue;const Ln=this._cursorPositions[on].position;let pn=_e.getVerticalOffsetForLineNumber(Ln.lineNumber)*ze|0;pn<ai?pn=ai:pn+ai>U&&(pn=U-ai);const gn=pn-ai,Dn=gn+ii;gn>Ai+1||un!==qi?(on!==0&&qi&&Dt.fillRect(pi,ki,Si,Ai-ki),ki=gn,Ai=Dn):Dn>Ai&&(Ai=Dn),qi=un,Dt.fillStyle=un}qi&&Dt.fillRect(pi,ki,Si,Ai-ki)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(Dt.beginPath(),Dt.lineWidth=1,Dt.strokeStyle=this._settings.borderColor,Dt.moveTo(0,0),Dt.lineTo(0,U),Dt.stroke(),Dt.moveTo(0,0),Dt.lineTo(L,0),Dt.stroke())}}var Re=e(48408);class Be extends se{constructor(t,d){super(),this._context=t;const L=this._context.configuration.options;this._domNode=(0,Q.X)(document.createElement("canvas")),this._domNode.setClassName(d),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new Re.Tj(U=>this._context.viewLayout.getVerticalOffsetForLineNumber(U)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(L.get(67)),this._zoneManager.setPixelRatio(L.get(143)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(t){const d=this._context.configuration.options;return t.hasChanged(67)&&(this._zoneManager.setLineHeight(d.get(67)),this._render()),t.hasChanged(143)&&(this._zoneManager.setPixelRatio(d.get(143)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(t){return this._render(),!0}onScrollChanged(t){return t.scrollHeightChanged&&(this._zoneManager.setOuterHeight(t.scrollHeight),this._render()),!0}onZonesChanged(t){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(t){this._domNode.setTop(t.top),this._domNode.setRight(t.right);let d=!1;d=this._zoneManager.setDOMWidth(t.width)||d,d=this._zoneManager.setDOMHeight(t.height)||d,d&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(t){this._zoneManager.setZones(t),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const t=this._zoneManager.getCanvasWidth(),d=this._zoneManager.getCanvasHeight(),L=this._zoneManager.resolveColorZones(),U=this._zoneManager.getId2Color(),q=this._domNode.domNode.getContext("2d");return q.clearRect(0,0,t,d),L.length>0&&this._renderOneLane(q,L,U,t),!0}_renderOneLane(t,d,L,U){let q=0,_e=0,Me=0;for(const ze of d){const qe=ze.colorId,pt=ze.from,Dt=ze.to;qe!==q?(t.fillRect(0,_e,U,Me-_e),q=qe,t.fillStyle=L[q],_e=pt,Me=Dt):Me>=pt?Me=Math.max(Me,Dt):(t.fillRect(0,_e,U,Me-_e),_e=pt,Me=Dt)}t.fillRect(0,_e,U,Me-_e)}}class Xe extends ne{constructor(t){super(t),this.domNode=(0,Q.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const d=this._context.configuration.options;this._rulers=d.get(102),this._typicalHalfwidthCharacterWidth=d.get(50).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(t){const d=this._context.configuration.options;return this._rulers=d.get(102),this._typicalHalfwidthCharacterWidth=d.get(50).typicalHalfwidthCharacterWidth,!0}onScrollChanged(t){return t.scrollHeightChanged}prepareRender(t){}_ensureRulersCount(){const t=this._renderedRulers.length,d=this._rulers.length;if(t===d)return;if(t<d){const{tabSize:U}=this._context.viewModel.model.getOptions(),q=U;let _e=d-t;for(;_e>0;){const Me=(0,Q.X)(document.createElement("div"));Me.setClassName("view-ruler"),Me.setWidth(q),this.domNode.appendChild(Me),this._renderedRulers.push(Me),_e--}return}let L=t-d;for(;L>0;){const U=this._renderedRulers.pop();this.domNode.removeChild(U),L--}}render(t){this._ensureRulersCount();for(let d=0,L=this._rulers.length;d<L;d++){const U=this._renderedRulers[d],q=this._rulers[d];U.setBoxShadow(q.color?`1px 0 0 0 ${q.color} inset`:""),U.setHeight(Math.min(t.scrollHeight,1e6)),U.setLeft(q.column*this._typicalHalfwidthCharacterWidth)}}}class Et extends ne{constructor(t){super(t),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const L=this._context.configuration.options.get(103);this._useShadows=L.useShadows,this._domNode=(0,Q.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const t=this._useShadows&&this._scrollTop>0;return this._shouldShow!==t?(this._shouldShow=t,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const d=this._context.configuration.options.get(145);d.minimap.renderMinimap===0||d.minimap.minimapWidth>0&&d.minimap.minimapLeft===0?this._width=d.width:this._width=d.width-d.verticalScrollbarWidth}onConfigurationChanged(t){const L=this._context.configuration.options.get(103);return this._useShadows=L.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(t){return this._scrollTop=t.scrollTop,this._updateShouldShow()}prepareRender(t){}render(t){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}class It{constructor(t){this.left=t.left,this.width=t.width,this.startStyle=null,this.endStyle=null}}class ni{constructor(t,d){this.lineNumber=t,this.ranges=d}}function si(Rt){return new It(Rt)}function Xt(Rt){return new ni(Rt.lineNumber,Rt.ranges.map(si))}class ri extends Ht{constructor(t){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=t;const d=this._context.configuration.options;this._roundedSelection=d.get(101),this._typicalHalfwidthCharacterWidth=d.get(50).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){const d=this._context.configuration.options;return this._roundedSelection=d.get(101),this._typicalHalfwidthCharacterWidth=d.get(50).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(t){return this._selections=t.selections.slice(0),!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}_visibleRangesHaveGaps(t){for(let d=0,L=t.length;d<L;d++)if(t[d].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(t,d,L){const U=this._typicalHalfwidthCharacterWidth/4;let q=null,_e=null;if(L&&L.length>0&&d.length>0){const Me=d[0].lineNumber;if(Me===t.startLineNumber)for(let qe=0;!q&&qe<L.length;qe++)L[qe].lineNumber===Me&&(q=L[qe].ranges[0]);const ze=d[d.length-1].lineNumber;if(ze===t.endLineNumber)for(let qe=L.length-1;!_e&&qe>=0;qe--)L[qe].lineNumber===ze&&(_e=L[qe].ranges[0]);q&&!q.startStyle&&(q=null),_e&&!_e.startStyle&&(_e=null)}for(let Me=0,ze=d.length;Me<ze;Me++){const qe=d[Me].ranges[0],pt=qe.left,Dt=qe.left+qe.width,Ot={top:0,bottom:0},zt={top:0,bottom:0};if(Me>0){const ii=d[Me-1].ranges[0].left,ai=d[Me-1].ranges[0].left+d[Me-1].ranges[0].width;ui(pt-ii)<U?Ot.top=2:pt>ii&&(Ot.top=1),ui(Dt-ai)<U?zt.top=2:ii<Dt&&Dt<ai&&(zt.top=1)}else q&&(Ot.top=q.startStyle.top,zt.top=q.endStyle.top);if(Me+1<ze){const ii=d[Me+1].ranges[0].left,ai=d[Me+1].ranges[0].left+d[Me+1].ranges[0].width;ui(pt-ii)<U?Ot.bottom=2:ii<pt&&pt<ai&&(Ot.bottom=1),ui(Dt-ai)<U?zt.bottom=2:Dt<ai&&(zt.bottom=1)}else _e&&(Ot.bottom=_e.startStyle.bottom,zt.bottom=_e.endStyle.bottom);qe.startStyle=Ot,qe.endStyle=zt}}_getVisibleRangesWithStyle(t,d,L){const q=(d.linesVisibleRangesForRange(t,!0)||[]).map(Xt);return!this._visibleRangesHaveGaps(q)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(d.visibleRange,q,L),q}_createSelectionPiece(t,d,L,U,q){return'<div class="cslr '+L+'" style="top:'+t.toString()+"px;bottom:"+d.toString()+"px;left:"+U.toString()+"px;width:"+q.toString()+'px;"></div>'}_actualRenderOneSelection(t,d,L,U){if(U.length===0)return;const q=!!U[0].ranges[0].startStyle,_e=U[0].lineNumber,Me=U[U.length-1].lineNumber;for(let ze=0,qe=U.length;ze<qe;ze++){const pt=U[ze],Dt=pt.lineNumber,Ot=Dt-d,zt=L&&Dt===_e?1:0,ii=L&&Dt!==_e&&Dt===Me?1:0;let ai="",pi="";for(let Si=0,ki=pt.ranges.length;Si<ki;Si++){const Ai=pt.ranges[Si];if(q){const on=Ai.startStyle,cn=Ai.endStyle;if(on.top===1||on.bottom===1){ai+=this._createSelectionPiece(zt,ii,ri.SELECTION_CLASS_NAME,Ai.left-ri.ROUNDED_PIECE_WIDTH,ri.ROUNDED_PIECE_WIDTH);let un=ri.EDITOR_BACKGROUND_CLASS_NAME;on.top===1&&(un+=" "+ri.SELECTION_TOP_RIGHT),on.bottom===1&&(un+=" "+ri.SELECTION_BOTTOM_RIGHT),ai+=this._createSelectionPiece(zt,ii,un,Ai.left-ri.ROUNDED_PIECE_WIDTH,ri.ROUNDED_PIECE_WIDTH)}if(cn.top===1||cn.bottom===1){ai+=this._createSelectionPiece(zt,ii,ri.SELECTION_CLASS_NAME,Ai.left+Ai.width,ri.ROUNDED_PIECE_WIDTH);let un=ri.EDITOR_BACKGROUND_CLASS_NAME;cn.top===1&&(un+=" "+ri.SELECTION_TOP_LEFT),cn.bottom===1&&(un+=" "+ri.SELECTION_BOTTOM_LEFT),ai+=this._createSelectionPiece(zt,ii,un,Ai.left+Ai.width,ri.ROUNDED_PIECE_WIDTH)}}let qi=ri.SELECTION_CLASS_NAME;if(q){const on=Ai.startStyle,cn=Ai.endStyle;on.top===0&&(qi+=" "+ri.SELECTION_TOP_LEFT),on.bottom===0&&(qi+=" "+ri.SELECTION_BOTTOM_LEFT),cn.top===0&&(qi+=" "+ri.SELECTION_TOP_RIGHT),cn.bottom===0&&(qi+=" "+ri.SELECTION_BOTTOM_RIGHT)}pi+=this._createSelectionPiece(zt,ii,qi,Ai.left,Ai.width)}t[Ot][0]+=ai,t[Ot][1]+=pi}}prepareRender(t){const d=[],L=t.visibleRange.startLineNumber,U=t.visibleRange.endLineNumber;for(let _e=L;_e<=U;_e++){const Me=_e-L;d[Me]=["",""]}const q=[];for(let _e=0,Me=this._selections.length;_e<Me;_e++){const ze=this._selections[_e];if(ze.isEmpty()){q[_e]=null;continue}const qe=this._getVisibleRangesWithStyle(ze,t,this._previousFrameVisibleRangesWithStyle[_e]);q[_e]=qe,this._actualRenderOneSelection(d,L,this._selections.length>1,qe)}this._previousFrameVisibleRangesWithStyle=q,this._renderResult=d.map(([_e,Me])=>_e+Me)}render(t,d){if(!this._renderResult)return"";const L=d-t;return L<0||L>=this._renderResult.length?"":this._renderResult[L]}}ri.SELECTION_CLASS_NAME="selected-text",ri.SELECTION_TOP_LEFT="top-left-radius",ri.SELECTION_BOTTOM_LEFT="bottom-left-radius",ri.SELECTION_TOP_RIGHT="top-right-radius",ri.SELECTION_BOTTOM_RIGHT="bottom-right-radius",ri.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",ri.ROUNDED_PIECE_WIDTH=10,(0,He.Ic)((Rt,t)=>{const d=Rt.getColor(Hi.yb5);d&&!d.isTransparent()&&t.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${d}; }`)});function ui(Rt){return Rt<0?-Rt:Rt}class xi{constructor(t,d,L,U,q,_e,Me){this.top=t,this.left=d,this.paddingLeft=L,this.width=U,this.height=q,this.textContent=_e,this.textContentClassName=Me}}var Mi;(function(Rt){Rt[Rt.Single=0]="Single",Rt[Rt.MultiPrimary=1]="MultiPrimary",Rt[Rt.MultiSecondary=2]="MultiSecondary"})(Mi||(Mi={}));class Fi{constructor(t,d){this._context=t;const L=this._context.configuration.options,U=L.get(50);this._cursorStyle=L.get(28),this._lineHeight=L.get(67),this._typicalHalfwidthCharacterWidth=U.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(L.get(31),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,Q.X)(document.createElement("div")),this._domNode.setClassName(`cursor ${Bi}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),(0,g.N)(this._domNode,U),this._domNode.setDisplay("none"),this._position=new he.L(1,1),this._pluralityClass="",this.setPlurality(d),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}setPlurality(t){switch(t){default:case Mi.Single:this._pluralityClass="";break;case Mi.MultiPrimary:this._pluralityClass="cursor-primary";break;case Mi.MultiSecondary:this._pluralityClass="cursor-secondary";break}}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(t){const d=this._context.configuration.options,L=d.get(50);return this._cursorStyle=d.get(28),this._lineHeight=d.get(67),this._typicalHalfwidthCharacterWidth=L.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(d.get(31),this._typicalHalfwidthCharacterWidth),(0,g.N)(this._domNode,L),!0}onCursorPositionChanged(t,d){return d?this._domNode.domNode.style.transitionProperty="none":this._domNode.domNode.style.transitionProperty="",this._position=t,!0}_getGraphemeAwarePosition(){const{lineNumber:t,column:d}=this._position,L=this._context.viewModel.getLineContent(t),[U,q]=Nt.J_(L,d-1);return[new he.L(t,U+1),L.substring(U,q)]}_prepareRender(t){let d="",L="";const[U,q]=this._getGraphemeAwarePosition();if(this._cursorStyle===N.d2.Line||this._cursorStyle===N.d2.LineThin){const Ot=t.visibleRangeForPosition(U);if(!Ot||Ot.outsideRenderedLine)return null;const zt=p.Jj(this._domNode.domNode);let ii;this._cursorStyle===N.d2.Line?(ii=p.Uh(zt,this._lineCursorWidth>0?this._lineCursorWidth:2),ii>2&&(d=q,L=this._getTokenClassName(U))):ii=p.Uh(zt,1);let ai=Ot.left,pi=0;ii>=2&&ai>=1&&(pi=1,ai-=pi);const Si=t.getVerticalOffsetForLineNumber(U.lineNumber)-t.bigNumbersDelta;return new xi(Si,ai,pi,ii,this._lineHeight,d,L)}const _e=t.linesVisibleRangesForRange(new M.e(U.lineNumber,U.column,U.lineNumber,U.column+q.length),!1);if(!_e||_e.length===0)return null;const Me=_e[0];if(Me.outsideRenderedLine||Me.ranges.length===0)return null;const ze=Me.ranges[0],qe=q==="	"?this._typicalHalfwidthCharacterWidth:ze.width<1?this._typicalHalfwidthCharacterWidth:ze.width;this._cursorStyle===N.d2.Block&&(d=q,L=this._getTokenClassName(U));let pt=t.getVerticalOffsetForLineNumber(U.lineNumber)-t.bigNumbersDelta,Dt=this._lineHeight;return(this._cursorStyle===N.d2.Underline||this._cursorStyle===N.d2.UnderlineThin)&&(pt+=this._lineHeight-2,Dt=2),new xi(pt,ze.left,0,qe,Dt,d,L)}_getTokenClassName(t){const d=this._context.viewModel.getViewLineData(t.lineNumber),L=d.tokens.findTokenIndexAtOffset(t.column-1);return d.tokens.getClassName(L)}prepareRender(t){this._renderData=this._prepareRender(t)}render(t){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${this._pluralityClass} ${Bi} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setPaddingLeft(this._renderData.paddingLeft),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}class Yi extends ne{constructor(t){super(t);const d=this._context.configuration.options;this._readOnly=d.get(91),this._cursorBlinking=d.get(26),this._cursorStyle=d.get(28),this._cursorSmoothCaretAnimation=d.get(27),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new Fi(this._context,Mi.Single),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,Q.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new Ne._F,this._cursorFlatBlinkInterval=new p.ne,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(t){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(t){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(t){const d=this._context.configuration.options;this._readOnly=d.get(91),this._cursorBlinking=d.get(26),this._cursorStyle=d.get(28),this._cursorSmoothCaretAnimation=d.get(27),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(t);for(let L=0,U=this._secondaryCursors.length;L<U;L++)this._secondaryCursors[L].onConfigurationChanged(t);return!0}_onCursorPositionChanged(t,d,L){const U=this._secondaryCursors.length!==d.length||this._cursorSmoothCaretAnimation==="explicit"&&L!==3;if(this._primaryCursor.setPlurality(d.length?Mi.MultiPrimary:Mi.Single),this._primaryCursor.onCursorPositionChanged(t,U),this._updateBlinking(),this._secondaryCursors.length<d.length){const q=d.length-this._secondaryCursors.length;for(let _e=0;_e<q;_e++){const Me=new Fi(this._context,Mi.MultiSecondary);this._domNode.domNode.insertBefore(Me.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(Me)}}else if(this._secondaryCursors.length>d.length){const q=this._secondaryCursors.length-d.length;for(let _e=0;_e<q;_e++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let q=0;q<d.length;q++)this._secondaryCursors[q].onCursorPositionChanged(d[q],U)}onCursorStateChanged(t){const d=[];for(let U=0,q=t.selections.length;U<q;U++)d[U]=t.selections[U].getPosition();this._onCursorPositionChanged(d[0],d.slice(1),t.reason);const L=t.selections[0].isEmpty();return this._selectionIsEmpty!==L&&(this._selectionIsEmpty=L,this._updateDomClassName()),!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onFocusChanged(t){return this._editorHasFocus=t.isFocused,this._updateBlinking(),!1}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return!0}onTokensChanged(t){const d=L=>{for(let U=0,q=t.ranges.length;U<q;U++)if(t.ranges[U].fromLineNumber<=L.lineNumber&&L.lineNumber<=t.ranges[U].toLineNumber)return!0;return!1};if(d(this._primaryCursor.getPosition()))return!0;for(const L of this._secondaryCursors)if(d(L.getPosition()))return!0;return!1}onZonesChanged(t){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const t=this._getCursorBlinking(),d=t===0,L=t===5;d?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!d&&!L&&(t===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},Yi.BLINK_INTERVAL,(0,p.Jj)(this._domNode.domNode)):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},Yi.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let t="cursors-layer";switch(this._selectionIsEmpty||(t+=" has-selection"),this._cursorStyle){case N.d2.Line:t+=" cursor-line-style";break;case N.d2.Block:t+=" cursor-block-style";break;case N.d2.Underline:t+=" cursor-underline-style";break;case N.d2.LineThin:t+=" cursor-line-thin-style";break;case N.d2.BlockOutline:t+=" cursor-block-outline-style";break;case N.d2.UnderlineThin:t+=" cursor-underline-thin-style";break;default:t+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:t+=" cursor-blink";break;case 2:t+=" cursor-smooth";break;case 3:t+=" cursor-phase";break;case 4:t+=" cursor-expand";break;case 5:t+=" cursor-solid";break;default:t+=" cursor-solid"}else t+=" cursor-solid";return(this._cursorSmoothCaretAnimation==="on"||this._cursorSmoothCaretAnimation==="explicit")&&(t+=" cursor-smooth-caret-animation"),t}_show(){this._primaryCursor.show();for(let t=0,d=this._secondaryCursors.length;t<d;t++)this._secondaryCursors[t].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let t=0,d=this._secondaryCursors.length;t<d;t++)this._secondaryCursors[t].hide();this._isVisible=!1}prepareRender(t){this._primaryCursor.prepareRender(t);for(let d=0,L=this._secondaryCursors.length;d<L;d++)this._secondaryCursors[d].prepareRender(t)}render(t){const d=[];let L=0;const U=this._primaryCursor.render(t);U&&(d[L++]=U);for(let q=0,_e=this._secondaryCursors.length;q<_e;q++){const Me=this._secondaryCursors[q].render(t);Me&&(d[L++]=Me)}this._renderData=d}getLastRenderData(){return this._renderData}}Yi.BLINK_INTERVAL=500,(0,He.Ic)((Rt,t)=>{const d=[{class:".cursor",foreground:Ct.n0,background:Ct.fY},{class:".cursor-primary",foreground:Ct.jD,background:Ct.s2},{class:".cursor-secondary",foreground:Ct.x_,background:Ct.P0}];for(const L of d){const U=Rt.getColor(L.foreground);if(U){let q=Rt.getColor(L.background);q||(q=U.opposite()),t.addRule(`.monaco-editor .cursors-layer ${L.class} { background-color: ${U}; border-color: ${U}; color: ${q}; }`),(0,_t.c3)(Rt.type)&&t.addRule(`.monaco-editor .cursors-layer.has-selection ${L.class} { border-left: 1px solid ${q}; border-right: 1px solid ${q}; }`)}}});const mn=()=>{throw new Error("Invalid change accessor")};class hn extends ne{constructor(t){super(t);const d=this._context.configuration.options,L=d.get(145);this._lineHeight=d.get(67),this._contentWidth=L.contentWidth,this._contentLeft=L.contentLeft,this.domNode=(0,Q.X)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,Q.X)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const t=this._context.viewLayout.getWhitespaces(),d=new Map;for(const U of t)d.set(U.id,U);let L=!1;return this._context.viewModel.changeWhitespace(U=>{const q=Object.keys(this._zones);for(let _e=0,Me=q.length;_e<Me;_e++){const ze=q[_e],qe=this._zones[ze],pt=this._computeWhitespaceProps(qe.delegate);qe.isInHiddenArea=pt.isInHiddenArea;const Dt=d.get(ze);Dt&&(Dt.afterLineNumber!==pt.afterViewLineNumber||Dt.height!==pt.heightInPx)&&(U.changeOneWhitespace(ze,pt.afterViewLineNumber,pt.heightInPx),this._safeCallOnComputedHeight(qe.delegate,pt.heightInPx),L=!0)}}),L}onConfigurationChanged(t){const d=this._context.configuration.options,L=d.get(145);return this._lineHeight=d.get(67),this._contentWidth=L.contentWidth,this._contentLeft=L.contentLeft,t.hasChanged(67)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(t){return this._recomputeWhitespacesProps()}onLinesDeleted(t){return!0}onScrollChanged(t){return t.scrollTopChanged||t.scrollWidthChanged}onZonesChanged(t){return!0}onLinesInserted(t){return!0}_getZoneOrdinal(t){var d,L;return(L=(d=t.ordinal)!==null&&d!==void 0?d:t.afterColumn)!==null&&L!==void 0?L:1e4}_computeWhitespaceProps(t){if(t.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(t),minWidthInPx:this._minWidthInPixels(t)};let d;if(typeof t.afterColumn!="undefined")d=this._context.viewModel.model.validatePosition({lineNumber:t.afterLineNumber,column:t.afterColumn});else{const _e=this._context.viewModel.model.validatePosition({lineNumber:t.afterLineNumber,column:1}).lineNumber;d=new he.L(_e,this._context.viewModel.model.getLineMaxColumn(_e))}let L;d.column===this._context.viewModel.model.getLineMaxColumn(d.lineNumber)?L=this._context.viewModel.model.validatePosition({lineNumber:d.lineNumber+1,column:1}):L=this._context.viewModel.model.validatePosition({lineNumber:d.lineNumber,column:d.column+1});const U=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(d,t.afterColumnAffinity,!0),q=t.showInHiddenAreas||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(L);return{isInHiddenArea:!q,afterViewLineNumber:U.lineNumber,heightInPx:q?this._heightInPixels(t):0,minWidthInPx:this._minWidthInPixels(t)}}changeViewZones(t){let d=!1;return this._context.viewModel.changeWhitespace(L=>{const U={addZone:q=>(d=!0,this._addZone(L,q)),removeZone:q=>{q&&(d=this._removeZone(L,q)||d)},layoutZone:q=>{q&&(d=this._layoutZone(L,q)||d)}};Pn(t,U),U.addZone=mn,U.removeZone=mn,U.layoutZone=mn}),d}_addZone(t,d){const L=this._computeWhitespaceProps(d),q={whitespaceId:t.insertWhitespace(L.afterViewLineNumber,this._getZoneOrdinal(d),L.heightInPx,L.minWidthInPx),delegate:d,isInHiddenArea:L.isInHiddenArea,isVisible:!1,domNode:(0,Q.X)(d.domNode),marginDomNode:d.marginDomNode?(0,Q.X)(d.marginDomNode):null};return this._safeCallOnComputedHeight(q.delegate,L.heightInPx),q.domNode.setPosition("absolute"),q.domNode.domNode.style.width="100%",q.domNode.setDisplay("none"),q.domNode.setAttribute("monaco-view-zone",q.whitespaceId),this.domNode.appendChild(q.domNode),q.marginDomNode&&(q.marginDomNode.setPosition("absolute"),q.marginDomNode.domNode.style.width="100%",q.marginDomNode.setDisplay("none"),q.marginDomNode.setAttribute("monaco-view-zone",q.whitespaceId),this.marginDomNode.appendChild(q.marginDomNode)),this._zones[q.whitespaceId]=q,this.setShouldRender(),q.whitespaceId}_removeZone(t,d){if(this._zones.hasOwnProperty(d)){const L=this._zones[d];return delete this._zones[d],t.removeWhitespace(L.whitespaceId),L.domNode.removeAttribute("monaco-visible-view-zone"),L.domNode.removeAttribute("monaco-view-zone"),L.domNode.domNode.parentNode.removeChild(L.domNode.domNode),L.marginDomNode&&(L.marginDomNode.removeAttribute("monaco-visible-view-zone"),L.marginDomNode.removeAttribute("monaco-view-zone"),L.marginDomNode.domNode.parentNode.removeChild(L.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(t,d){if(this._zones.hasOwnProperty(d)){const L=this._zones[d],U=this._computeWhitespaceProps(L.delegate);return L.isInHiddenArea=U.isInHiddenArea,t.changeOneWhitespace(L.whitespaceId,U.afterViewLineNumber,U.heightInPx),this._safeCallOnComputedHeight(L.delegate,U.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(t){return this._zones.hasOwnProperty(t)?!!this._zones[t].delegate.suppressMouseDown:!1}_heightInPixels(t){return typeof t.heightInPx=="number"?t.heightInPx:typeof t.heightInLines=="number"?this._lineHeight*t.heightInLines:this._lineHeight}_minWidthInPixels(t){return typeof t.minWidthInPx=="number"?t.minWidthInPx:0}_safeCallOnComputedHeight(t,d){if(typeof t.onComputedHeight=="function")try{t.onComputedHeight(d)}catch(L){(0,E.dL)(L)}}_safeCallOnDomNodeTop(t,d){if(typeof t.onDomNodeTop=="function")try{t.onDomNodeTop(d)}catch(L){(0,E.dL)(L)}}prepareRender(t){}render(t){const d=t.viewportData.whitespaceViewportData,L={};let U=!1;for(const _e of d)this._zones[_e.id].isInHiddenArea||(L[_e.id]=_e,U=!0);const q=Object.keys(this._zones);for(let _e=0,Me=q.length;_e<Me;_e++){const ze=q[_e],qe=this._zones[ze];let pt=0,Dt=0,Ot="none";L.hasOwnProperty(ze)?(pt=L[ze].verticalOffset-t.bigNumbersDelta,Dt=L[ze].height,Ot="block",qe.isVisible||(qe.domNode.setAttribute("monaco-visible-view-zone","true"),qe.isVisible=!0),this._safeCallOnDomNodeTop(qe.delegate,t.getScrolledTopFromAbsoluteTop(L[ze].verticalOffset))):(qe.isVisible&&(qe.domNode.removeAttribute("monaco-visible-view-zone"),qe.isVisible=!1),this._safeCallOnDomNodeTop(qe.delegate,t.getScrolledTopFromAbsoluteTop(-1e6))),qe.domNode.setTop(pt),qe.domNode.setHeight(Dt),qe.domNode.setDisplay(Ot),qe.marginDomNode&&(qe.marginDomNode.setTop(pt),qe.marginDomNode.setHeight(Dt),qe.marginDomNode.setDisplay(Ot))}U&&(this.domNode.setWidth(Math.max(t.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}function Pn(Rt,t){try{return Rt(t)}catch(d){(0,E.dL)(d)}}var ts=e(65158);class is extends Ht{constructor(t){super(),this._context=t,this._options=new Gn(this._context.configuration),this._selection=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){const d=new Gn(this._context.configuration);return this._options.equals(d)?t.hasChanged(145):(this._options=d,!0)}onCursorStateChanged(t){return this._selection=t.selections,this._options.renderWhitespace==="selection"}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}prepareRender(t){if(this._options.renderWhitespace==="none"){this._renderResult=null;return}const d=t.visibleRange.startLineNumber,U=t.visibleRange.endLineNumber-d+1,q=new Array(U);for(let Me=0;Me<U;Me++)q[Me]=!0;const _e=this._context.viewModel.getMinimapLinesRenderingData(t.viewportData.startLineNumber,t.viewportData.endLineNumber,q);this._renderResult=[];for(let Me=t.viewportData.startLineNumber;Me<=t.viewportData.endLineNumber;Me++){const ze=Me-t.viewportData.startLineNumber,qe=_e.data[ze];let pt=null;if(this._options.renderWhitespace==="selection"){const Dt=this._selection;for(const Ot of Dt){if(Ot.endLineNumber<Me||Ot.startLineNumber>Me)continue;const zt=Ot.startLineNumber===Me?Ot.startColumn:qe.minColumn,ii=Ot.endLineNumber===Me?Ot.endColumn:qe.maxColumn;zt<ii&&(pt||(pt=[]),pt.push(new ts.zG(zt-1,ii-1)))}}this._renderResult[ze]=this._applyRenderWhitespace(t,Me,pt,qe)}}_applyRenderWhitespace(t,d,L,U){if(this._options.renderWhitespace==="selection"&&!L||this._options.renderWhitespace==="trailing"&&U.continuesWithWrappedLine)return"";const q=this._context.theme.getColor(Ct.dI),_e=this._options.renderWithSVG,Me=U.content,ze=this._options.stopRenderingLineAfter===-1?Me.length:Math.min(this._options.stopRenderingLineAfter,Me.length),qe=U.continuesWithWrappedLine,pt=U.minColumn-1,Dt=this._options.renderWhitespace==="boundary",Ot=this._options.renderWhitespace==="trailing",zt=this._options.lineHeight,ii=this._options.middotWidth,ai=this._options.wsmiddotWidth,pi=this._options.spaceWidth,Si=Math.abs(ai-pi),ki=Math.abs(ii-pi),Ai=Si<ki?11825:183,qi=this._options.canUseHalfwidthRightwardsArrow;let on="",cn=!1,un=Nt.LC(Me),Ln;un===-1?(cn=!0,un=ze,Ln=ze):Ln=Nt.ow(Me);let pn=0,gn=L&&L[pn],Dn=0;for(let bn=pt;bn<ze;bn++){const Nn=Me.charCodeAt(bn);if(gn&&bn>=gn.endOffset&&(pn++,gn=L&&L[pn]),Nn!==9&&Nn!==32||Ot&&!cn&&bn<=Ln)continue;if(Dt&&bn>=un&&bn<=Ln&&Nn===32){const jn=bn-1>=0?Me.charCodeAt(bn-1):0,fs=bn+1<ze?Me.charCodeAt(bn+1):0;if(jn!==32&&fs!==32)continue}if(Dt&&qe&&bn===ze-1){const jn=bn-1>=0?Me.charCodeAt(bn-1):0;if(Nn===32&&jn!==32&&jn!==9)continue}if(L&&(!gn||gn.startOffset>bn||gn.endOffset<=bn))continue;const Qn=t.visibleRangeForPosition(new he.L(d,bn+1));Qn&&(_e?(Dn=Math.max(Dn,Qn.left),Nn===9?on+=this._renderArrow(zt,pi,Qn.left):on+=`<circle cx="${(Qn.left+pi/2).toFixed(2)}" cy="${(zt/2).toFixed(2)}" r="${(pi/7).toFixed(2)}" />`):Nn===9?on+=`<div class="mwh" style="left:${Qn.left}px;height:${zt}px;">${qi?"\uFFEB":"\u2192"}</div>`:on+=`<div class="mwh" style="left:${Qn.left}px;height:${zt}px;">${String.fromCharCode(Ai)}</div>`)}return _e?(Dn=Math.round(Dn+pi),`<svg style="bottom:0;position:absolute;width:${Dn}px;height:${zt}px" viewBox="0 0 ${Dn} ${zt}" xmlns="http://www.w3.org/2000/svg" fill="${q}">`+on+"</svg>"):on}_renderArrow(t,d,L){const U=d/7,q=d,_e=t/2,Me=L,ze={x:0,y:U/2},qe={x:100/125*q,y:ze.y},pt={x:qe.x-.2*qe.x,y:qe.y+.2*qe.x},Dt={x:pt.x+.1*qe.x,y:pt.y+.1*qe.x},Ot={x:Dt.x+.35*qe.x,y:Dt.y-.35*qe.x},zt={x:Ot.x,y:-Ot.y},ii={x:Dt.x,y:-Dt.y},ai={x:pt.x,y:-pt.y},pi={x:qe.x,y:-qe.y},Si={x:ze.x,y:-ze.y};return`<path d="M ${[ze,qe,pt,Dt,Ot,zt,ii,ai,pi,Si].map(qi=>`${(Me+qi.x).toFixed(2)} ${(_e+qi.y).toFixed(2)}`).join(" L ")}" />`}render(t,d){if(!this._renderResult)return"";const L=d-t;return L<0||L>=this._renderResult.length?"":this._renderResult[L]}}class Gn{constructor(t){const d=t.options,L=d.get(50),U=d.get(38);U==="off"?(this.renderWhitespace="none",this.renderWithSVG=!1):U==="svg"?(this.renderWhitespace=d.get(99),this.renderWithSVG=!0):(this.renderWhitespace=d.get(99),this.renderWithSVG=!1),this.spaceWidth=L.spaceWidth,this.middotWidth=L.middotWidth,this.wsmiddotWidth=L.wsmiddotWidth,this.canUseHalfwidthRightwardsArrow=L.canUseHalfwidthRightwardsArrow,this.lineHeight=d.get(67),this.stopRenderingLineAfter=d.get(117)}equals(t){return this.renderWhitespace===t.renderWhitespace&&this.renderWithSVG===t.renderWithSVG&&this.spaceWidth===t.spaceWidth&&this.middotWidth===t.middotWidth&&this.wsmiddotWidth===t.wsmiddotWidth&&this.canUseHalfwidthRightwardsArrow===t.canUseHalfwidthRightwardsArrow&&this.lineHeight===t.lineHeight&&this.stopRenderingLineAfter===t.stopRenderingLineAfter}}class Vn{constructor(t,d,L,U){this.selections=t,this.startLineNumber=d.startLineNumber|0,this.endLineNumber=d.endLineNumber|0,this.relativeVerticalOffset=d.relativeVerticalOffset,this.bigNumbersDelta=d.bigNumbersDelta|0,this.lineHeight=d.lineHeight|0,this.whitespaceViewportData=L,this._model=U,this.visibleRange=new M.e(d.startLineNumber,this._model.getLineMinColumn(d.startLineNumber),d.endLineNumber,this._model.getLineMaxColumn(d.endLineNumber))}getViewLineRenderingData(t){return this._model.getViewportViewLineRenderingData(this.visibleRange,t)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class Xn{get type(){return this._theme.type}get value(){return this._theme}constructor(t){this._theme=t}update(t){this._theme=t}getColor(t){return this._theme.getColor(t)}}class Cs{constructor(t,d,L){this.configuration=t,this.theme=new Xn(d),this.viewModel=L,this.viewLayout=L.viewLayout}addEventHandler(t){this.viewModel.addViewEventHandler(t)}removeEventHandler(t){this.viewModel.removeViewEventHandler(t)}}var ns=function(Rt,t,d,L){var U=arguments.length,q=U<3?t:L===null?L=Object.getOwnPropertyDescriptor(t,d):L,_e;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(Rt,t,d,L);else for(var Me=Rt.length-1;Me>=0;Me--)(_e=Rt[Me])&&(q=(U<3?_e(q):U>3?_e(t,d,q):_e(t,d))||q);return U>3&&q&&Object.defineProperty(t,d,q),q},Rs=function(Rt,t){return function(d,L){t(d,L,Rt)}};let ps=class extends se{constructor(t,d,L,U,q,_e,Me){super(),this._instantiationService=Me,this._shouldRecomputeGlyphMarginLanes=!1,this._selections=[new Te.Y(1,1,1,1)],this._renderAnimationFrame=null;const ze=new ci(d,U,q,t);this._context=new Cs(d,L,U),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=this._instantiationService.createInstance(On,this._context,ze,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,Q.X)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,Q.X)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,Q.X)(document.createElement("div")),ee.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new ut(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new Ni(this._context,this._linesContent),this._viewZones=new hn(this._context),this._viewParts.push(this._viewZones);const qe=new ce(this._context);this._viewParts.push(qe);const pt=new Et(this._context);this._viewParts.push(pt);const Dt=new $e(this._context);this._viewParts.push(Dt),Dt.addDynamicOverlay(new at(this._context)),Dt.addDynamicOverlay(new ri(this._context)),Dt.addDynamicOverlay(new Wi(this._context)),Dt.addDynamicOverlay(new Mt(this._context)),Dt.addDynamicOverlay(new is(this._context));const Ot=new bt(this._context);this._viewParts.push(Ot),Ot.addDynamicOverlay(new ht(this._context)),Ot.addDynamicOverlay(new Gi(this._context)),Ot.addDynamicOverlay(new zi(this._context)),Ot.addDynamicOverlay(new Gt(this._context)),this._glyphMarginWidgets=new At(this._context),this._viewParts.push(this._glyphMarginWidgets);const zt=new Di(this._context);zt.getDomNode().appendChild(this._viewZones.marginDomNode),zt.getDomNode().appendChild(Ot.getDomNode()),zt.getDomNode().appendChild(this._glyphMarginWidgets.domNode),this._viewParts.push(zt),this._contentWidgets=new vt(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new Yi(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new T(this._context,this.domNode),this._viewParts.push(this._overlayWidgets);const ii=new Xe(this._context);this._viewParts.push(ii);const ai=new Ye(this._context);this._viewParts.push(ai);const pi=new Sn(this._context);if(this._viewParts.push(pi),qe){const Si=this._scrollbar.getOverviewRulerLayoutInfo();Si.parent.insertBefore(qe.getDomNode(),Si.insertBefore)}this._linesContent.appendChild(Dt.getDomNode()),this._linesContent.appendChild(ii.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(zt.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(pt.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(pi.getDomNode()),this._overflowGuardContainer.appendChild(ai.domNode),this.domNode.appendChild(this._overflowGuardContainer),_e?(_e.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode),_e.appendChild(this._overlayWidgets.overflowingOverlayWidgetsDomNode.domNode)):(this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this.domNode.appendChild(this._overlayWidgets.overflowingOverlayWidgetsDomNode)),this._applyLayout(),this._pointerHandler=this._register(new yt(this._context,ze,this._createPointerHandlerHelper()))}_computeGlyphMarginLanes(){const t=this._context.viewModel.model,d=this._context.viewModel.glyphLanes;let L=[],U=0;L=L.concat(t.getAllMarginDecorations().map(q=>{var _e,Me,ze;const qe=(Me=(_e=q.options.glyphMargin)===null||_e===void 0?void 0:_e.position)!==null&&Me!==void 0?Me:ke.U.Center;return U=Math.max(U,q.range.endLineNumber),{range:q.range,lane:qe,persist:(ze=q.options.glyphMargin)===null||ze===void 0?void 0:ze.persistLane}})),L=L.concat(this._glyphMarginWidgets.getWidgets().map(q=>{const _e=t.validateRange(q.preference.range);return U=Math.max(U,_e.endLineNumber),{range:_e,lane:q.preference.lane}})),L.sort((q,_e)=>M.e.compareRangesUsingStarts(q.range,_e.range)),d.reset(U);for(const q of L)d.push(q.lane,q.range,q.persist);return d}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:t=>{this._textAreaHandler.textArea.domNode.dispatchEvent(t)},getLastRenderData:()=>{const t=this._viewCursors.getLastRenderData()||[],d=this._textAreaHandler.getLastRenderData();return new Oe(t,d)},renderNow:()=>{this.render(!0,!1)},shouldSuppressMouseDownOnViewZone:t=>this._viewZones.shouldSuppressMouseDownOnViewZone(t),shouldSuppressMouseDownOnWidget:t=>this._contentWidgets.shouldSuppressMouseDownOnWidget(t),getPositionFromDOMInfo:(t,d)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(t,d)),visibleRangeForPosition:(t,d)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new he.L(t,d))),getLineWidth:t=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(t))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:t=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(t))}}_applyLayout(){const d=this._context.configuration.options.get(145);this.domNode.setWidth(d.width),this.domNode.setHeight(d.height),this._overflowGuardContainer.setWidth(d.width),this._overflowGuardContainer.setHeight(d.height),this._linesContent.setWidth(16777216),this._linesContent.setHeight(16777216)}_getEditorClassName(){const t=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(142)+" "+(0,He.m6)(this._context.theme.type)+t}handleEvents(t){super.handleEvents(t),this._scheduleRender()}onConfigurationChanged(t){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(t){return this._selections=t.selections,!1}onDecorationsChanged(t){return t.affectsGlyphMargin&&(this._shouldRecomputeGlyphMarginLanes=!0),!1}onFocusChanged(t){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(t){return this._context.theme.update(t.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const t of this._viewParts)t.dispose();super.dispose()}_scheduleRender(){if(this._store.isDisposed)throw new E.he;if(this._renderAnimationFrame===null){const t=this._createCoordinatedRendering();this._renderAnimationFrame=rs.INSTANCE.scheduleCoordinatedRendering({window:p.Jj(this.domNode.domNode),prepareRenderText:()=>{if(this._store.isDisposed)throw new E.he;try{return t.prepareRenderText()}finally{this._renderAnimationFrame=null}},renderText:()=>{if(this._store.isDisposed)throw new E.he;return t.renderText()},prepareRender:(d,L)=>{if(this._store.isDisposed)throw new E.he;return t.prepareRender(d,L)},render:(d,L)=>{if(this._store.isDisposed)throw new E.he;return t.render(d,L)}})}}_flushAccumulatedAndRenderNow(){const t=this._createCoordinatedRendering();_s(()=>t.prepareRenderText());const d=_s(()=>t.renderText());if(d){const[L,U]=d;_s(()=>t.prepareRender(L,U)),_s(()=>t.render(L,U))}}_getViewPartsToRender(){const t=[];let d=0;for(const L of this._viewParts)L.shouldRender()&&(t[d++]=L);return t}_createCoordinatedRendering(){return{prepareRenderText:()=>{if(this._shouldRecomputeGlyphMarginLanes){this._shouldRecomputeGlyphMarginLanes=!1;const t=this._computeGlyphMarginLanes();this._context.configuration.setGlyphMarginDecorationLaneCount(t.requiredLanes)}ie.B.onRenderStart()},renderText:()=>{if(!this.domNode.domNode.isConnected)return null;let t=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&t.length===0)return null;const d=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(d.startLineNumber,d.endLineNumber,d.centeredLineNumber);const L=new Vn(this._selections,d,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);return this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(L),this._viewLines.shouldRender()&&(this._viewLines.renderText(L),this._viewLines.onDidRender(),t=this._getViewPartsToRender()),[t,new An.xh(this._context.viewLayout,L,this._viewLines)]},prepareRender:(t,d)=>{for(const L of t)L.prepareRender(d)},render:(t,d)=>{for(const L of t)L.render(d),L.onDidRender()}}}delegateVerticalScrollbarPointerDown(t){this._scrollbar.delegateVerticalScrollbarPointerDown(t)}delegateScrollFromMouseWheelEvent(t){this._scrollbar.delegateScrollFromMouseWheelEvent(t)}restoreState(t){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:t.scrollTop,scrollLeft:t.scrollLeft},1),this._context.viewModel.visibleLinesStabilized()}getOffsetForColumn(t,d){const L=this._context.viewModel.model.validatePosition({lineNumber:t,column:d}),U=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(L);this._flushAccumulatedAndRenderNow();const q=this._viewLines.visibleRangeForPosition(new he.L(U.lineNumber,U.column));return q?q.left:-1}getTargetAtClientPoint(t,d){const L=this._pointerHandler.getTargetAtClientPoint(t,d);return L?ft.convertViewToModelMouseTarget(L,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(t){return new Be(this._context,t)}change(t){this._viewZones.changeViewZones(t),this._scheduleRender()}render(t,d){if(d){this._viewLines.forceShouldRender();for(const L of this._viewParts)L.forceShouldRender()}t?this._flushAccumulatedAndRenderNow():this._scheduleRender()}writeScreenReaderContent(t){this._textAreaHandler.writeScreenReaderContent(t)}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(t){this._textAreaHandler.setAriaOptions(t)}addContentWidget(t){this._contentWidgets.addWidget(t.widget),this.layoutContentWidget(t),this._scheduleRender()}layoutContentWidget(t){var d,L,U,q,_e,Me,ze,qe;this._contentWidgets.setWidgetPosition(t.widget,(L=(d=t.position)===null||d===void 0?void 0:d.position)!==null&&L!==void 0?L:null,(q=(U=t.position)===null||U===void 0?void 0:U.secondaryPosition)!==null&&q!==void 0?q:null,(Me=(_e=t.position)===null||_e===void 0?void 0:_e.preference)!==null&&Me!==void 0?Me:null,(qe=(ze=t.position)===null||ze===void 0?void 0:ze.positionAffinity)!==null&&qe!==void 0?qe:null),this._scheduleRender()}removeContentWidget(t){this._contentWidgets.removeWidget(t.widget),this._scheduleRender()}addOverlayWidget(t){this._overlayWidgets.addWidget(t.widget),this.layoutOverlayWidget(t),this._scheduleRender()}layoutOverlayWidget(t){const d=t.position?t.position.preference:null;this._overlayWidgets.setWidgetPosition(t.widget,d)&&this._scheduleRender()}removeOverlayWidget(t){this._overlayWidgets.removeWidget(t.widget),this._scheduleRender()}addGlyphMarginWidget(t){this._glyphMarginWidgets.addWidget(t.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}layoutGlyphMarginWidget(t){const d=t.position;this._glyphMarginWidgets.setWidgetPosition(t.widget,d)&&(this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender())}removeGlyphMarginWidget(t){this._glyphMarginWidgets.removeWidget(t.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}};ps=ns([Rs(6,Cn.TG)],ps);function _s(Rt){try{return Rt()}catch(t){return(0,E.dL)(t),null}}class rs{constructor(){this._coordinatedRenderings=[],this._animationFrameRunners=new Map}scheduleCoordinatedRendering(t){return this._coordinatedRenderings.push(t),this._scheduleRender(t.window),{dispose:()=>{const d=this._coordinatedRenderings.indexOf(t);if(d!==-1&&(this._coordinatedRenderings.splice(d,1),this._coordinatedRenderings.length===0)){for(const[L,U]of this._animationFrameRunners)U.dispose();this._animationFrameRunners.clear()}}}}_scheduleRender(t){if(!this._animationFrameRunners.has(t)){const d=()=>{this._animationFrameRunners.delete(t),this._onRenderScheduled()};this._animationFrameRunners.set(t,p.lI(t,d,100))}}_onRenderScheduled(){const t=this._coordinatedRenderings.slice(0);this._coordinatedRenderings=[];for(const L of t)_s(()=>L.prepareRenderText());const d=[];for(let L=0,U=t.length;L<U;L++){const q=t[L];d[L]=_s(()=>q.renderText())}for(let L=0,U=t.length;L<U;L++){const q=t[L],_e=d[L];if(!_e)continue;const[Me,ze]=_e;_s(()=>q.prepareRender(Me,ze))}for(let L=0,U=t.length;L<U;L++){const q=t[L],_e=d[L];if(!_e)continue;const[Me,ze]=_e;_s(()=>q.render(Me,ze))}}}rs.INSTANCE=new rs;var Ns=e(9751);class qn{constructor(t,d,L,U,q){this.injectionOffsets=t,this.injectionOptions=d,this.breakOffsets=L,this.breakOffsetsVisibleColumn=U,this.wrappedTextIndentLength=q}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(t){return t>0?this.wrappedTextIndentLength:0}getLineLength(t){const d=t>0?this.breakOffsets[t-1]:0;let U=this.breakOffsets[t]-d;return t>0&&(U+=this.wrappedTextIndentLength),U}getMaxOutputOffset(t){return this.getLineLength(t)}translateToInputOffset(t,d){t>0&&(d=Math.max(0,d-this.wrappedTextIndentLength));let U=t===0?d:this.breakOffsets[t-1]+d;if(this.injectionOffsets!==null)for(let q=0;q<this.injectionOffsets.length&&U>this.injectionOffsets[q];q++)U<this.injectionOffsets[q]+this.injectionOptions[q].content.length?U=this.injectionOffsets[q]:U-=this.injectionOptions[q].content.length;return U}translateToOutputPosition(t,d=2){let L=t;if(this.injectionOffsets!==null)for(let U=0;U<this.injectionOffsets.length&&!(t<this.injectionOffsets[U]||d!==1&&t===this.injectionOffsets[U]);U++)L+=this.injectionOptions[U].content.length;return this.offsetInInputWithInjectionsToOutputPosition(L,d)}offsetInInputWithInjectionsToOutputPosition(t,d=2){let L=0,U=this.breakOffsets.length-1,q=0,_e=0;for(;L<=U;){q=L+(U-L)/2|0;const ze=this.breakOffsets[q];if(_e=q>0?this.breakOffsets[q-1]:0,d===0)if(t<=_e)U=q-1;else if(t>ze)L=q+1;else break;else if(t<_e)U=q-1;else if(t>=ze)L=q+1;else break}let Me=t-_e;return q>0&&(Me+=this.wrappedTextIndentLength),new ws(q,Me)}normalizeOutputPosition(t,d,L){if(this.injectionOffsets!==null){const U=this.outputPositionToOffsetInInputWithInjections(t,d),q=this.normalizeOffsetInInputWithInjectionsAroundInjections(U,L);if(q!==U)return this.offsetInInputWithInjectionsToOutputPosition(q,L)}if(L===0){if(t>0&&d===this.getMinOutputOffset(t))return new ws(t-1,this.getMaxOutputOffset(t-1))}else if(L===1){const U=this.getOutputLineCount()-1;if(t<U&&d===this.getMaxOutputOffset(t))return new ws(t+1,this.getMinOutputOffset(t+1))}return new ws(t,d)}outputPositionToOffsetInInputWithInjections(t,d){return t>0&&(d=Math.max(0,d-this.wrappedTextIndentLength)),(t>0?this.breakOffsets[t-1]:0)+d}normalizeOffsetInInputWithInjectionsAroundInjections(t,d){const L=this.getInjectedTextAtOffset(t);if(!L)return t;if(d===2){if(t===L.offsetInInputWithInjections+L.length&&Vs(this.injectionOptions[L.injectedTextIndex].cursorStops))return L.offsetInInputWithInjections+L.length;{let U=L.offsetInInputWithInjections;if(jo(this.injectionOptions[L.injectedTextIndex].cursorStops))return U;let q=L.injectedTextIndex-1;for(;q>=0&&this.injectionOffsets[q]===this.injectionOffsets[L.injectedTextIndex]&&!(Vs(this.injectionOptions[q].cursorStops)||(U-=this.injectionOptions[q].content.length,jo(this.injectionOptions[q].cursorStops)));)q--;return U}}else if(d===1||d===4){let U=L.offsetInInputWithInjections+L.length,q=L.injectedTextIndex;for(;q+1<this.injectionOffsets.length&&this.injectionOffsets[q+1]===this.injectionOffsets[q];)U+=this.injectionOptions[q+1].content.length,q++;return U}else if(d===0||d===3){let U=L.offsetInInputWithInjections,q=L.injectedTextIndex;for(;q-1>=0&&this.injectionOffsets[q-1]===this.injectionOffsets[q];)U-=this.injectionOptions[q-1].content.length,q--;return U}(0,Ns.vE)(d)}getInjectedText(t,d){const L=this.outputPositionToOffsetInInputWithInjections(t,d),U=this.getInjectedTextAtOffset(L);return U?{options:this.injectionOptions[U.injectedTextIndex]}:null}getInjectedTextAtOffset(t){const d=this.injectionOffsets,L=this.injectionOptions;if(d!==null){let U=0;for(let q=0;q<d.length;q++){const _e=L[q].content.length,Me=d[q]+U,ze=d[q]+U+_e;if(Me>t)break;if(t<=ze)return{injectedTextIndex:q,offsetInInputWithInjections:Me,length:_e};U+=_e}}}}function Vs(Rt){return Rt==null?!0:Rt===ke.RM.Right||Rt===ke.RM.Both}function jo(Rt){return Rt==null?!0:Rt===ke.RM.Left||Rt===ke.RM.Both}class Js{constructor(t){this.options=t}}class ws{constructor(t,d){this.outputLineIndex=t,this.outputOffset=d}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(t){return new he.L(t+this.outputLineIndex,this.outputOffset+1)}}var Es=e(44356);const zs=(0,_i.Z)("domLineBreaksComputer",{createHTML:Rt=>Rt});class to{static create(t){return new to(new WeakRef(t))}constructor(t){this.targetWindow=t}createLineBreaksComputer(t,d,L,U,q){const _e=[],Me=[];return{addRequest:(ze,qe,pt)=>{_e.push(ze),Me.push(qe)},finalize:()=>hr((0,Oi.cW)(this.targetWindow.deref()),_e,t,d,L,U,q,Me)}}}function hr(Rt,t,d,L,U,q,_e,Me){var ze;function qe(gn){const Dn=Me[gn];if(Dn){const bn=Es.gk.applyInjectedText(t[gn],Dn),Nn=Dn.map(jn=>jn.options),Qn=Dn.map(jn=>jn.column-1);return new qn(Qn,Nn,[bn.length],[],0)}else return null}if(U===-1){const gn=[];for(let Dn=0,bn=t.length;Dn<bn;Dn++)gn[Dn]=qe(Dn);return gn}const pt=Math.round(U*d.typicalHalfwidthCharacterWidth),Ot=Math.round(L*(q===3?2:q===2?1:0)),zt=Math.ceil(d.spaceWidth*Ot),ii=document.createElement("div");(0,g.N)(ii,d);const ai=new Ri.HT(1e4),pi=[],Si=[],ki=[],Ai=[],qi=[];for(let gn=0;gn<t.length;gn++){const Dn=Es.gk.applyInjectedText(t[gn],Me[gn]);let bn=0,Nn=0,Qn=pt;if(q!==0)if(bn=Nt.LC(Dn),bn===-1)bn=0;else{for(let zn=0;zn<bn;zn++){const hs=Dn.charCodeAt(zn)===9?L-Nn%L:1;Nn+=hs}const es=Math.ceil(d.spaceWidth*Nn);es+d.typicalFullwidthCharacterWidth>pt?(bn=0,Nn=0):Qn=pt-es}const jn=Dn.substr(bn),fs=Ms(jn,Nn,L,Qn,ai,zt);pi[gn]=bn,Si[gn]=Nn,ki[gn]=jn,Ai[gn]=fs[0],qi[gn]=fs[1]}const on=ai.build(),cn=(ze=zs==null?void 0:zs.createHTML(on))!==null&&ze!==void 0?ze:on;ii.innerHTML=cn,ii.style.position="absolute",ii.style.top="10000",_e==="keepAll"?(ii.style.wordBreak="keep-all",ii.style.overflowWrap="anywhere"):(ii.style.wordBreak="inherit",ii.style.overflowWrap="break-word"),Rt.document.body.appendChild(ii);const un=document.createRange(),Ln=Array.prototype.slice.call(ii.children,0),pn=[];for(let gn=0;gn<t.length;gn++){const Dn=Ln[gn],bn=fr(un,Dn,ki[gn],Ai[gn]);if(bn===null){pn[gn]=qe(gn);continue}const Nn=pi[gn],Qn=Si[gn]+Ot,jn=qi[gn],fs=[];for(let Kn=0,gs=bn.length;Kn<gs;Kn++)fs[Kn]=jn[bn[Kn]];if(Nn!==0)for(let Kn=0,gs=bn.length;Kn<gs;Kn++)bn[Kn]+=Nn;let es,zn;const hs=Me[gn];hs?(es=hs.map(Kn=>Kn.options),zn=hs.map(Kn=>Kn.column-1)):(es=null,zn=null),pn[gn]=new qn(zn,es,bn,fs,Qn)}return Rt.document.body.removeChild(ii),pn}function Ms(Rt,t,d,L,U,q){if(q!==0){const Ot=String(q);U.appendString('<div style="text-indent: -'),U.appendString(Ot),U.appendString("px; padding-left: "),U.appendString(Ot),U.appendString("px; box-sizing: border-box; width:")}else U.appendString('<div style="width:');U.appendString(String(L)),U.appendString('px;">');const _e=Rt.length;let Me=t,ze=0;const qe=[],pt=[];let Dt=0<_e?Rt.charCodeAt(0):0;U.appendString("<span>");for(let Ot=0;Ot<_e;Ot++){Ot!==0&&Ot%16384===0&&U.appendString("</span><span>"),qe[Ot]=ze,pt[Ot]=Me;const zt=Dt;Dt=Ot+1<_e?Rt.charCodeAt(Ot+1):0;let ii=1,ai=1;switch(zt){case 9:ii=d-Me%d,ai=ii;for(let pi=1;pi<=ii;pi++)pi<ii?U.appendCharCode(160):U.appendASCIICharCode(32);break;case 32:Dt===32?U.appendCharCode(160):U.appendASCIICharCode(32);break;case 60:U.appendString("&lt;");break;case 62:U.appendString("&gt;");break;case 38:U.appendString("&amp;");break;case 0:U.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:U.appendCharCode(65533);break;default:Nt.K7(zt)&&ai++,zt<32?U.appendCharCode(9216+zt):U.appendCharCode(zt)}ze+=ii,Me+=ai}return U.appendString("</span>"),qe[Rt.length]=ze,pt[Rt.length]=Me,U.appendString("</div>"),[qe,pt]}function fr(Rt,t,d,L){if(d.length<=1)return null;const U=Array.prototype.slice.call(t.children,0),q=[];try{Xs(Rt,U,L,0,null,d.length-1,null,q)}catch(_e){return console.log(_e),null}return q.length===0?null:(q.push(d.length),q)}function Xs(Rt,t,d,L,U,q,_e,Me){if(L===q||(U=U||lo(Rt,t,d[L],d[L+1]),_e=_e||lo(Rt,t,d[q],d[q+1]),Math.abs(U[0].top-_e[0].top)<=.1))return;if(L+1===q){Me.push(q);return}const ze=L+(q-L)/2|0,qe=lo(Rt,t,d[ze],d[ze+1]);Xs(Rt,t,d,L,U,ze,qe,Me),Xs(Rt,t,d,ze,qe,q,_e,Me)}function lo(Rt,t,d,L){return Rt.setStart(t[d/16384|0].firstChild,d%16384),Rt.setEnd(t[L/16384|0].firstChild,L%16384),Rt.getClientRects()}class $o extends w.JT{constructor(){super(),this._editor=null,this._instantiationService=null,this._instances=this._register(new w.b2),this._pending=new Map,this._finishedInstantiation=[],this._finishedInstantiation[0]=!1,this._finishedInstantiation[1]=!1,this._finishedInstantiation[2]=!1,this._finishedInstantiation[3]=!1}initialize(t,d,L){this._editor=t,this._instantiationService=L;for(const U of d){if(this._pending.has(U.id)){(0,E.dL)(new Error(`Cannot have two contributions with the same id ${U.id}`));continue}this._pending.set(U.id,U)}this._instantiateSome(0),this._register((0,p.se)((0,p.Jj)(this._editor.getDomNode()),()=>{this._instantiateSome(1)})),this._register((0,p.se)((0,p.Jj)(this._editor.getDomNode()),()=>{this._instantiateSome(2)})),this._register((0,p.se)((0,p.Jj)(this._editor.getDomNode()),()=>{this._instantiateSome(3)},5e3))}saveViewState(){const t={};for(const[d,L]of this._instances)typeof L.saveViewState=="function"&&(t[d]=L.saveViewState());return t}restoreViewState(t){for(const[d,L]of this._instances)typeof L.restoreViewState=="function"&&L.restoreViewState(t[d])}get(t){return this._instantiateById(t),this._instances.get(t)||null}onBeforeInteractionEvent(){this._instantiateSome(2)}onAfterModelAttached(){var t;return(0,p.se)((0,p.Jj)((t=this._editor)===null||t===void 0?void 0:t.getDomNode()),()=>{this._instantiateSome(1)},50)}_instantiateSome(t){if(this._finishedInstantiation[t])return;this._finishedInstantiation[t]=!0;const d=this._findPendingContributionsByInstantiation(t);for(const L of d)this._instantiateById(L.id)}_findPendingContributionsByInstantiation(t){const d=[];for(const[,L]of this._pending)L.instantiation===t&&d.push(L);return d}_instantiateById(t){const d=this._pending.get(t);if(d){if(this._pending.delete(t),!this._instantiationService||!this._editor)throw new Error("Cannot instantiate contributions before being initialized!");try{const L=this._instantiationService.createInstance(d.ctor,this._editor);this._instances.set(d.id,L),typeof L.restoreViewState=="function"&&d.instantiation!==0&&console.warn(`Editor contribution '${d.id}' should be eager instantiated because it uses saveViewState / restoreViewState.`)}catch(L){(0,E.dL)(L)}}}}var gr=e(16334),io=e(70654),no=e(51525),Zn=e(22706),mr=e(81275),pr=e(93059),_r=e(70546),qs=e(89925);class ko{static create(t){return new ko(t.get(134),t.get(133))}constructor(t,d){this.classifier=new Fo(t,d)}createLineBreaksComputer(t,d,L,U,q){const _e=[],Me=[],ze=[];return{addRequest:(qe,pt,Dt)=>{_e.push(qe),Me.push(pt),ze.push(Dt)},finalize:()=>{const qe=t.typicalFullwidthCharacterWidth/t.typicalHalfwidthCharacterWidth,pt=[];for(let Dt=0,Ot=_e.length;Dt<Ot;Dt++){const zt=Me[Dt],ii=ze[Dt];ii&&!ii.injectionOptions&&!zt?pt[Dt]=Us(this.classifier,ii,_e[Dt],d,L,qe,U,q):pt[Dt]=$s(this.classifier,_e[Dt],zt,d,L,qe,U,q)}return bs.length=0,xs.length=0,pt}}}}class Fo extends qs.N{constructor(t,d){super(0);for(let L=0;L<t.length;L++)this.set(t.charCodeAt(L),1);for(let L=0;L<d.length;L++)this.set(d.charCodeAt(L),2)}get(t){return t>=0&&t<256?this._asciiMap[t]:t>=12352&&t<=12543||t>=13312&&t<=19903||t>=19968&&t<=40959?3:this._map.get(t)||this._defaultValue}}let bs=[],xs=[];function Us(Rt,t,d,L,U,q,_e,Me){if(U===-1)return null;const ze=d.length;if(ze<=1)return null;const qe=Me==="keepAll",pt=t.breakOffsets,Dt=t.breakOffsetsVisibleColumn,Ot=Go(d,L,U,q,_e),zt=U-Ot,ii=bs,ai=xs;let pi=0,Si=0,ki=0,Ai=U;const qi=pt.length;let on=0;if(on>=0){let cn=Math.abs(Dt[on]-Ai);for(;on+1<qi;){const un=Math.abs(Dt[on+1]-Ai);if(un>=cn)break;cn=un,on++}}for(;on<qi;){let cn=on<0?0:pt[on],un=on<0?0:Dt[on];Si>cn&&(cn=Si,un=ki);let Ln=0,pn=0,gn=0,Dn=0;if(un<=Ai){let Nn=un,Qn=cn===0?0:d.charCodeAt(cn-1),jn=cn===0?0:Rt.get(Qn),fs=!0;for(let es=cn;es<ze;es++){const zn=es,hs=d.charCodeAt(es);let Kn,gs;if(Nt.ZG(hs)?(es++,Kn=0,gs=2):(Kn=Rt.get(hs),gs=Gs(hs,Nn,L,q)),zn>Si&&Bo(Qn,jn,hs,Kn,qe)&&(Ln=zn,pn=Nn),Nn+=gs,Nn>Ai){zn>Si?(gn=zn,Dn=Nn-gs):(gn=es+1,Dn=Nn),Nn-pn>zt&&(Ln=0),fs=!1;break}Qn=hs,jn=Kn}if(fs){pi>0&&(ii[pi]=pt[pt.length-1],ai[pi]=Dt[pt.length-1],pi++);break}}if(Ln===0){let Nn=un,Qn=d.charCodeAt(cn),jn=Rt.get(Qn),fs=!1;for(let es=cn-1;es>=Si;es--){const zn=es+1,hs=d.charCodeAt(es);if(hs===9){fs=!0;break}let Kn,gs;if(Nt.YK(hs)?(es--,Kn=0,gs=2):(Kn=Rt.get(hs),gs=Nt.K7(hs)?q:1),Nn<=Ai){if(gn===0&&(gn=zn,Dn=Nn),Nn<=Ai-zt)break;if(Bo(hs,Kn,Qn,jn,qe)){Ln=zn,pn=Nn;break}}Nn-=gs,Qn=hs,jn=Kn}if(Ln!==0){const es=zt-(Dn-pn);if(es<=L){const zn=d.charCodeAt(gn);let hs;Nt.ZG(zn)?hs=2:hs=Gs(zn,Dn,L,q),es-hs<0&&(Ln=0)}}if(fs){on--;continue}}if(Ln===0&&(Ln=gn,pn=Dn),Ln<=Si){const Nn=d.charCodeAt(Si);Nt.ZG(Nn)?(Ln=Si+2,pn=ki+2):(Ln=Si+1,pn=ki+Gs(Nn,ki,L,q))}for(Si=Ln,ii[pi]=Ln,ki=pn,ai[pi]=pn,pi++,Ai=pn+zt;on<0||on<qi&&Dt[on]<pn;)on++;let bn=Math.abs(Dt[on]-Ai);for(;on+1<qi;){const Nn=Math.abs(Dt[on+1]-Ai);if(Nn>=bn)break;bn=Nn,on++}}return pi===0?null:(ii.length=pi,ai.length=pi,bs=t.breakOffsets,xs=t.breakOffsetsVisibleColumn,t.breakOffsets=ii,t.breakOffsetsVisibleColumn=ai,t.wrappedTextIndentLength=Ot,t)}function $s(Rt,t,d,L,U,q,_e,Me){const ze=Es.gk.applyInjectedText(t,d);let qe,pt;if(d&&d.length>0?(qe=d.map(pn=>pn.options),pt=d.map(pn=>pn.column-1)):(qe=null,pt=null),U===-1)return qe?new qn(pt,qe,[ze.length],[],0):null;const Dt=ze.length;if(Dt<=1)return qe?new qn(pt,qe,[ze.length],[],0):null;const Ot=Me==="keepAll",zt=Go(ze,L,U,q,_e),ii=U-zt,ai=[],pi=[];let Si=0,ki=0,Ai=0,qi=U,on=ze.charCodeAt(0),cn=Rt.get(on),un=Gs(on,0,L,q),Ln=1;Nt.ZG(on)&&(un+=1,on=ze.charCodeAt(1),cn=Rt.get(on),Ln++);for(let pn=Ln;pn<Dt;pn++){const gn=pn,Dn=ze.charCodeAt(pn);let bn,Nn;Nt.ZG(Dn)?(pn++,bn=0,Nn=2):(bn=Rt.get(Dn),Nn=Gs(Dn,un,L,q)),Bo(on,cn,Dn,bn,Ot)&&(ki=gn,Ai=un),un+=Nn,un>qi&&((ki===0||un-Ai>ii)&&(ki=gn,Ai=un-Nn),ai[Si]=ki,pi[Si]=Ai,Si++,qi=Ai+ii,ki=0),on=Dn,cn=bn}return Si===0&&(!d||d.length===0)?null:(ai[Si]=Dt,pi[Si]=un,new qn(pt,qe,ai,pi,zt))}function Gs(Rt,t,d,L){return Rt===9?d-t%d:Nt.K7(Rt)||Rt<32?L:1}function as(Rt,t){return t-Rt%t}function Bo(Rt,t,d,L,U){return d!==32&&(t===2&&L!==2||t!==1&&L===1||!U&&t===3&&L!==2||!U&&L===3&&t!==1)}function Go(Rt,t,d,L,U){let q=0;if(U!==0){const _e=Nt.LC(Rt);if(_e!==-1){for(let ze=0;ze<_e;ze++){const qe=Rt.charCodeAt(ze)===9?as(q,t):1;q+=qe}const Me=U===3?2:U===2?1:0;for(let ze=0;ze<Me;ze++){const qe=as(q,t);q+=qe}q+L>d&&(q=0)}}return q}var co=e(15864),ls=e(57247);class so{constructor(t){this._selTrackedRange=null,this._trackSelection=!0,this._setState(t,new ls.rS(new M.e(1,1,1,1),0,0,new he.L(1,1),0),new ls.rS(new M.e(1,1,1,1),0,0,new he.L(1,1),0))}dispose(t){this._removeTrackedRange(t)}startTrackingSelection(t){this._trackSelection=!0,this._updateTrackedRange(t)}stopTrackingSelection(t){this._trackSelection=!1,this._removeTrackedRange(t)}_updateTrackedRange(t){this._trackSelection&&(this._selTrackedRange=t.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(t){this._selTrackedRange=t.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new ls.Vi(this.modelState,this.viewState)}readSelectionFromMarkers(t){const d=t.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.isEmpty()&&!d.isEmpty()?Te.Y.fromRange(d.collapseToEnd(),this.modelState.selection.getDirection()):Te.Y.fromRange(d,this.modelState.selection.getDirection())}ensureValidState(t){this._setState(t,this.modelState,this.viewState)}setState(t,d,L){this._setState(t,d,L)}static _validatePositionWithCache(t,d,L,U){return d.equals(L)?U:t.normalizePosition(d,2)}static _validateViewState(t,d){const L=d.position,U=d.selectionStart.getStartPosition(),q=d.selectionStart.getEndPosition(),_e=t.normalizePosition(L,2),Me=this._validatePositionWithCache(t,U,L,_e),ze=this._validatePositionWithCache(t,q,U,Me);return L.equals(_e)&&U.equals(Me)&&q.equals(ze)?d:new ls.rS(M.e.fromPositions(Me,ze),d.selectionStartKind,d.selectionStartLeftoverVisibleColumns+U.column-Me.column,_e,d.leftoverVisibleColumns+L.column-_e.column)}_setState(t,d,L){if(L&&(L=so._validateViewState(t.viewModel,L)),d){const U=t.model.validateRange(d.selectionStart),q=d.selectionStart.equalsRange(U)?d.selectionStartLeftoverVisibleColumns:0,_e=t.model.validatePosition(d.position),Me=d.position.equals(_e)?d.leftoverVisibleColumns:0;d=new ls.rS(U,d.selectionStartKind,q,_e,Me)}else{if(!L)return;const U=t.model.validateRange(t.coordinatesConverter.convertViewRangeToModelRange(L.selectionStart)),q=t.model.validatePosition(t.coordinatesConverter.convertViewPositionToModelPosition(L.position));d=new ls.rS(U,L.selectionStartKind,L.selectionStartLeftoverVisibleColumns,q,L.leftoverVisibleColumns)}if(L){const U=t.coordinatesConverter.validateViewRange(L.selectionStart,d.selectionStart),q=t.coordinatesConverter.validateViewPosition(L.position,d.position);L=new ls.rS(U,d.selectionStartKind,d.selectionStartLeftoverVisibleColumns,q,d.leftoverVisibleColumns)}else{const U=t.coordinatesConverter.convertModelPositionToViewPosition(new he.L(d.selectionStart.startLineNumber,d.selectionStart.startColumn)),q=t.coordinatesConverter.convertModelPositionToViewPosition(new he.L(d.selectionStart.endLineNumber,d.selectionStart.endColumn)),_e=new M.e(U.lineNumber,U.column,q.lineNumber,q.column),Me=t.coordinatesConverter.convertModelPositionToViewPosition(d.position);L=new ls.rS(_e,d.selectionStartKind,d.selectionStartLeftoverVisibleColumns,Me,d.leftoverVisibleColumns)}this.modelState=d,this.viewState=L,this._updateTrackedRange(t)}}class uo{constructor(t){this.context=t,this.cursors=[new so(t)],this.lastAddedCursorIndex=0}dispose(){for(const t of this.cursors)t.dispose(this.context)}startTrackingSelections(){for(const t of this.cursors)t.startTrackingSelection(this.context)}stopTrackingSelections(){for(const t of this.cursors)t.stopTrackingSelection(this.context)}updateContext(t){this.context=t}ensureValidState(){for(const t of this.cursors)t.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(t=>t.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(t=>t.asCursorState())}getViewPositions(){return this.cursors.map(t=>t.viewState.position)}getTopMostViewPosition(){return(0,co.vm)(this.cursors,(0,r.tT)(t=>t.viewState.position,he.L.compare)).viewState.position}getBottomMostViewPosition(){return(0,co.BS)(this.cursors,(0,r.tT)(t=>t.viewState.position,he.L.compare)).viewState.position}getSelections(){return this.cursors.map(t=>t.modelState.selection)}getViewSelections(){return this.cursors.map(t=>t.viewState.selection)}setSelections(t){this.setStates(ls.Vi.fromModelSelections(t))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(t){t!==null&&(this.cursors[0].setState(this.context,t[0].modelState,t[0].viewState),this._setSecondaryStates(t.slice(1)))}_setSecondaryStates(t){const d=this.cursors.length-1,L=t.length;if(d<L){const U=L-d;for(let q=0;q<U;q++)this._addSecondaryCursor()}else if(d>L){const U=d-L;for(let q=0;q<U;q++)this._removeSecondaryCursor(this.cursors.length-2)}for(let U=0;U<L;U++)this.cursors[U+1].setState(this.context,t[U].modelState,t[U].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new so(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(t){this.lastAddedCursorIndex>=t+1&&this.lastAddedCursorIndex--,this.cursors[t+1].dispose(this.context),this.cursors.splice(t+1,1)}normalize(){if(this.cursors.length===1)return;const t=this.cursors.slice(0),d=[];for(let L=0,U=t.length;L<U;L++)d.push({index:L,selection:t[L].modelState.selection});d.sort((0,r.tT)(L=>L.selection,M.e.compareRangesUsingStarts));for(let L=0;L<d.length-1;L++){const U=d[L],q=d[L+1],_e=U.selection,Me=q.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let ze;if(Me.isEmpty()||_e.isEmpty()?ze=Me.getStartPosition().isBeforeOrEqual(_e.getEndPosition()):ze=Me.getStartPosition().isBefore(_e.getEndPosition()),ze){const qe=U.index<q.index?L:L+1,pt=U.index<q.index?L+1:L,Dt=d[pt].index,Ot=d[qe].index,zt=d[pt].selection,ii=d[qe].selection;if(!zt.equalsSelection(ii)){const ai=zt.plusRange(ii),pi=zt.selectionStartLineNumber===zt.startLineNumber&&zt.selectionStartColumn===zt.startColumn,Si=ii.selectionStartLineNumber===ii.startLineNumber&&ii.selectionStartColumn===ii.startColumn;let ki;Dt===this.lastAddedCursorIndex?(ki=pi,this.lastAddedCursorIndex=Ot):ki=Si;let Ai;ki?Ai=new Te.Y(ai.startLineNumber,ai.startColumn,ai.endLineNumber,ai.endColumn):Ai=new Te.Y(ai.endLineNumber,ai.endColumn,ai.startLineNumber,ai.startColumn),d[qe].selection=Ai;const qi=ls.Vi.fromModelSelection(Ai);t[Ot].setState(this.context,qi.modelState,qi.viewState)}for(const ai of d)ai.index>Dt&&ai.index--;t.splice(Dt,1),d.splice(pt,1),this._removeSecondaryCursor(Dt-1),L--}}}}class Zo{constructor(t,d,L,U){this._cursorContextBrand=void 0,this.model=t,this.viewModel=d,this.coordinatesConverter=L,this.cursorConfig=U}}var vr=e(51452),Fs=e(40326);class Qo{constructor(){this.type=0}}class Yo{constructor(){this.type=1}}class Cr{constructor(t){this.type=2,this._source=t}hasChanged(t){return this._source.hasChanged(t)}}class br{constructor(t,d,L){this.selections=t,this.modelSelections=d,this.reason=L,this.type=3}}class Ts{constructor(t){this.type=4,t?(this.affectsMinimap=t.affectsMinimap,this.affectsOverviewRuler=t.affectsOverviewRuler,this.affectsGlyphMargin=t.affectsGlyphMargin,this.affectsLineNumber=t.affectsLineNumber):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0,this.affectsGlyphMargin=!0,this.affectsLineNumber=!0)}}class So{constructor(){this.type=5}}class Jo{constructor(t){this.type=6,this.isFocused=t}}class Wo{constructor(){this.type=7}}class Zs{constructor(){this.type=8}}class yo{constructor(t,d){this.fromLineNumber=t,this.count=d,this.type=9}}class Xo{constructor(t,d){this.type=10,this.fromLineNumber=t,this.toLineNumber=d}}class In{constructor(t,d){this.type=11,this.fromLineNumber=t,this.toLineNumber=d}}class Bn{constructor(t,d,L,U,q,_e,Me){this.source=t,this.minimalReveal=d,this.range=L,this.selections=U,this.verticalType=q,this.revealHorizontal=_e,this.scrollType=Me,this.type=12}}class ds{constructor(t){this.type=13,this.scrollWidth=t.scrollWidth,this.scrollLeft=t.scrollLeft,this.scrollHeight=t.scrollHeight,this.scrollTop=t.scrollTop,this.scrollWidthChanged=t.scrollWidthChanged,this.scrollLeftChanged=t.scrollLeftChanged,this.scrollHeightChanged=t.scrollHeightChanged,this.scrollTopChanged=t.scrollTopChanged}}class cs{constructor(t){this.theme=t,this.type=14}}class Ls{constructor(t){this.type=15,this.ranges=t}}class Os{constructor(){this.type=16}}class Ds{constructor(){this.type=17}}class As extends w.JT{constructor(){super(),this._onEvent=this._register(new R.Q5),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(t){this._addOutgoingEvent(t),this._emitOutgoingEvents()}_addOutgoingEvent(t){for(let d=0,L=this._outgoingEvents.length;d<L;d++){const U=this._outgoingEvents[d].kind===t.kind?this._outgoingEvents[d].attemptToMerge(t):null;if(U){this._outgoingEvents[d]=U;return}}this._outgoingEvents.push(t)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const t=this._outgoingEvents.shift();t.isNoOp()||this._onEvent.fire(t)}}addViewEventHandler(t){for(let d=0,L=this._eventHandlers.length;d<L;d++)this._eventHandlers[d]===t&&console.warn("Detected duplicate listener in ViewEventDispatcher",t);this._eventHandlers.push(t)}removeViewEventHandler(t){for(let d=0;d<this._eventHandlers.length;d++)if(this._eventHandlers[d]===t){this._eventHandlers.splice(d,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new ya),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const t=this._collector.outgoingEvents,d=this._collector.viewEvents;this._collector=null;for(const L of t)this._addOutgoingEvent(L);d.length>0&&this._emitMany(d)}this._emitOutgoingEvents()}emitSingleViewEvent(t){try{this.beginEmitViewEvents().emitViewEvent(t)}finally{this.endEmitViewEvents()}}_emitMany(t){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(t):this._viewEventQueue=t,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const t=this._viewEventQueue;this._viewEventQueue=null;const d=this._eventHandlers.slice(0);for(const L of d)L.handleEvents(t)}}}class ya{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(t){this.viewEvents.push(t)}emitOutgoingEvent(t){this.outgoingEvents.push(t)}}class ho{constructor(t,d,L,U){this.kind=0,this._oldContentWidth=t,this._oldContentHeight=d,this.contentWidth=L,this.contentHeight=U,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(t){return t.kind!==this.kind?null:new ho(this._oldContentWidth,this._oldContentHeight,t.contentWidth,t.contentHeight)}}class qo{constructor(t,d){this.kind=1,this.oldHasFocus=t,this.hasFocus=d}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(t){return t.kind!==this.kind?null:new qo(this.oldHasFocus,t.hasFocus)}}class oo{constructor(t,d,L,U,q,_e,Me,ze){this.kind=2,this._oldScrollWidth=t,this._oldScrollLeft=d,this._oldScrollHeight=L,this._oldScrollTop=U,this.scrollWidth=q,this.scrollLeft=_e,this.scrollHeight=Me,this.scrollTop=ze,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}attemptToMerge(t){return t.kind!==this.kind?null:new oo(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,t.scrollWidth,t.scrollLeft,t.scrollHeight,t.scrollTop)}}class Sr{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(t){return t.kind!==this.kind?null:this}}class jr{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(t){return t.kind!==this.kind?null:this}}class fo{constructor(t,d,L,U,q,_e,Me){this.kind=6,this.oldSelections=t,this.selections=d,this.oldModelVersionId=L,this.modelVersionId=U,this.source=q,this.reason=_e,this.reachedMaxCursorCount=Me}static _selectionsAreEqual(t,d){if(!t&&!d)return!0;if(!t||!d)return!1;const L=t.length,U=d.length;if(L!==U)return!1;for(let q=0;q<L;q++)if(!t[q].equalsSelection(d[q]))return!1;return!0}isNoOp(){return fo._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(t){return t.kind!==this.kind?null:new fo(this.oldSelections,t.selections,this.oldModelVersionId,t.modelVersionId,t.source,t.reason,this.reachedMaxCursorCount||t.reachedMaxCursorCount)}}class wa{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(t){return t.kind!==this.kind?null:this}}class La{constructor(t){this.event=t,this.kind=7}isNoOp(){return!1}attemptToMerge(t){return null}}class Da{constructor(t){this.event=t,this.kind=8}isNoOp(){return!1}attemptToMerge(t){return null}}class Ea{constructor(t){this.event=t,this.kind=9}isNoOp(){return!1}attemptToMerge(t){return null}}class xa{constructor(t){this.event=t,this.kind=10}isNoOp(){return!1}attemptToMerge(t){return null}}class $r{constructor(t){this.event=t,this.kind=11}isNoOp(){return!1}attemptToMerge(t){return null}}class Ia{constructor(t){this.event=t,this.kind=12}isNoOp(){return!1}attemptToMerge(t){return null}}class er extends w.JT{constructor(t,d,L,U){super(),this._model=t,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=d,this._coordinatesConverter=L,this.context=new Zo(this._model,this._viewModel,this._coordinatesConverter,U),this._cursors=new uo(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,w.B9)(this._autoClosedActions),super.dispose()}updateConfiguration(t){this.context=new Zo(this._model,this._viewModel,this._coordinatesConverter,t),this._cursors.updateContext(this.context)}onLineMappingChanged(t){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(t,"viewModel",0,this.getCursorStates())}setHasFocus(t){this._hasFocus=t}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const t=this._cursors.getSelections();for(let d=0;d<this._autoClosedActions.length;d++){const L=this._autoClosedActions[d];L.isValid(t)||(L.dispose(),this._autoClosedActions.splice(d,1),d--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(t,d,L,U){let q=!1;const _e=this.context.cursorConfig.multiCursorLimit;U!==null&&U.length>_e&&(U=U.slice(0,_e),q=!0);const Me=wo.from(this._model,this);return this._cursors.setStates(U),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,d,L,Me,q)}setCursorColumnSelectData(t){this._columnSelectData=t}revealAll(t,d,L,U,q,_e){const Me=this._cursors.getViewPositions();let ze=null,qe=null;Me.length>1?qe=this._cursors.getViewSelections():ze=M.e.fromPositions(Me[0],Me[0]),t.emitViewEvent(new Bn(d,L,ze,qe,U,q,_e))}revealPrimary(t,d,L,U,q,_e){const ze=[this._cursors.getPrimaryCursor().viewState.selection];t.emitViewEvent(new Bn(d,L,null,ze,U,q,_e))}saveState(){const t=[],d=this._cursors.getSelections();for(let L=0,U=d.length;L<U;L++){const q=d[L];t.push({inSelectionMode:!q.isEmpty(),selectionStart:{lineNumber:q.selectionStartLineNumber,column:q.selectionStartColumn},position:{lineNumber:q.positionLineNumber,column:q.positionColumn}})}return t}restoreState(t,d){const L=[];for(let U=0,q=d.length;U<q;U++){const _e=d[U];let Me=1,ze=1;_e.position&&_e.position.lineNumber&&(Me=_e.position.lineNumber),_e.position&&_e.position.column&&(ze=_e.position.column);let qe=Me,pt=ze;_e.selectionStart&&_e.selectionStart.lineNumber&&(qe=_e.selectionStart.lineNumber),_e.selectionStart&&_e.selectionStart.column&&(pt=_e.selectionStart.column),L.push({selectionStartLineNumber:qe,selectionStartColumn:pt,positionLineNumber:Me,positionColumn:ze})}this.setStates(t,"restoreState",0,ls.Vi.fromModelSelections(L)),this.revealAll(t,"restoreState",!1,0,!0,1)}onModelContentChanged(t,d){if(d instanceof Es.D8){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(t,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const L=d.rawContentChangedEvent;if(this._knownModelVersionId=L.versionId,this._isHandling)return;const U=L.containsEvent(1);if(this._prevEditOperationType=0,U)this._cursors.dispose(),this._cursors=new uo(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,"model",1,null,!1);else if(this._hasFocus&&L.resultingSelection&&L.resultingSelection.length>0){const q=ls.Vi.fromModelSelections(L.resultingSelection);this.setStates(t,"modelChange",L.isUndoing?5:L.isRedoing?6:2,q)&&this.revealAll(t,"modelChange",!1,0,!0,0)}else{const q=this._cursors.readSelectionFromMarkers();this.setStates(t,"modelChange",2,ls.Vi.fromModelSelections(q))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const t=this._cursors.getPrimaryCursor(),d=t.viewState.selectionStart.getStartPosition(),L=t.viewState.position;return{isReal:!1,fromViewLineNumber:d.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,d),toViewLineNumber:L.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,L)}}getSelections(){return this._cursors.getSelections()}setSelections(t,d,L,U){this.setStates(t,d,U,ls.Vi.fromModelSelections(L))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(t){this._prevEditOperationType=t}_pushAutoClosedAction(t,d){const L=[],U=[];for(let Me=0,ze=t.length;Me<ze;Me++)L.push({range:t[Me],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),U.push({range:d[Me],options:{description:"auto-closed-enclosing",stickiness:1}});const q=this._model.deltaDecorations([],L),_e=this._model.deltaDecorations([],U);this._autoClosedActions.push(new Gr(this._model,q,_e))}_executeEditOperation(t){if(!t)return;t.shouldPushStackElementBefore&&this._model.pushStackElement();const d=Ho.executeCommands(this._model,this._cursors.getSelections(),t.commands);if(d){this._interpretCommandResult(d);const L=[],U=[];for(let q=0;q<t.commands.length;q++){const _e=t.commands[q];_e instanceof Fs.g_&&_e.enclosingRange&&_e.closeCharacterRange&&(L.push(_e.closeCharacterRange),U.push(_e.enclosingRange))}L.length>0&&this._pushAutoClosedAction(L,U),this._prevEditOperationType=t.type}t.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(t){(!t||t.length===0)&&(t=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(t),this._cursors.normalize()}_emitStateChangedIfNecessary(t,d,L,U,q){const _e=wo.from(this._model,this);if(_e.equals(U))return!1;const Me=this._cursors.getSelections(),ze=this._cursors.getViewSelections();if(t.emitViewEvent(new br(ze,Me,L)),!U||U.cursorState.length!==_e.cursorState.length||_e.cursorState.some((qe,pt)=>!qe.modelState.equals(U.cursorState[pt].modelState))){const qe=U?U.cursorState.map(Dt=>Dt.modelState.selection):null,pt=U?U.modelVersionId:0;t.emitOutgoingEvent(new fo(qe,Me,pt,_e.modelVersionId,d||"keyboard",L,q))}return!0}_findAutoClosingPairs(t){if(!t.length)return null;const d=[];for(let L=0,U=t.length;L<U;L++){const q=t[L];if(!q.text||q.text.indexOf(`
`)>=0)return null;const _e=q.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!_e)return null;const Me=_e[1],ze=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(Me);if(!ze||ze.length!==1)return null;const qe=ze[0].open,pt=q.text.length-_e[2].length-1,Dt=q.text.lastIndexOf(qe,pt-1);if(Dt===-1)return null;d.push([Dt,pt])}return d}executeEdits(t,d,L,U){let q=null;d==="snippet"&&(q=this._findAutoClosingPairs(L)),q&&(L[0]._isTracked=!0);const _e=[],Me=[],ze=this._model.pushEditOperations(this.getSelections(),L,qe=>{if(q)for(let Dt=0,Ot=q.length;Dt<Ot;Dt++){const[zt,ii]=q[Dt],ai=qe[Dt],pi=ai.range.startLineNumber,Si=ai.range.startColumn-1+zt,ki=ai.range.startColumn-1+ii;_e.push(new M.e(pi,ki+1,pi,ki+2)),Me.push(new M.e(pi,Si+1,pi,ki+2))}const pt=U(qe);return pt&&(this._isHandling=!0),pt});ze&&(this._isHandling=!1,this.setSelections(t,d,ze,0)),_e.length>0&&this._pushAutoClosedAction(_e,Me)}_executeEdit(t,d,L,U=0){if(this.context.cursorConfig.readOnly)return;const q=wo.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),t()}catch(_e){(0,E.dL)(_e)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(d,L,U,q,!1)&&this.revealAll(d,L,!1,0,!0,0)}getAutoClosedCharacters(){return Gr.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(t){this._compositionState=new Lo(this._model,this.getSelections())}endComposition(t,d){const L=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{d==="keyboard"&&this._executeEditOperation(Fs.u6.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,L,this.getSelections(),this.getAutoClosedCharacters()))},t,d)}type(t,d,L){this._executeEdit(()=>{if(L==="keyboard"){const U=d.length;let q=0;for(;q<U;){const _e=Nt.vH(d,q),Me=d.substr(q,_e);this._executeEditOperation(Fs.u6.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),Me)),q+=_e}}else this._executeEditOperation(Fs.u6.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),d))},t,L)}compositionType(t,d,L,U,q,_e){if(d.length===0&&L===0&&U===0){if(q!==0){const Me=this.getSelections().map(ze=>{const qe=ze.getPosition();return new Te.Y(qe.lineNumber,qe.column+q,qe.lineNumber,qe.column+q)});this.setSelections(t,_e,Me,0)}return}this._executeEdit(()=>{this._executeEditOperation(Fs.u6.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),d,L,U,q))},t,_e)}paste(t,d,L,U,q){this._executeEdit(()=>{this._executeEditOperation(Fs.u6.paste(this.context.cursorConfig,this._model,this.getSelections(),d,L,U||[]))},t,q,4)}cut(t,d){this._executeEdit(()=>{this._executeEditOperation(vr.A.cut(this.context.cursorConfig,this._model,this.getSelections()))},t,d)}executeCommand(t,d,L){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new ls.Tp(0,[d],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},t,L)}executeCommands(t,d,L){this._executeEdit(()=>{this._executeEditOperation(new ls.Tp(0,d,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},t,L)}}class wo{static from(t,d){return new wo(t.getVersionId(),d.getCursorStates())}constructor(t,d){this.modelVersionId=t,this.cursorState=d}equals(t){if(!t||this.modelVersionId!==t.modelVersionId||this.cursorState.length!==t.cursorState.length)return!1;for(let d=0,L=this.cursorState.length;d<L;d++)if(!this.cursorState[d].equals(t.cursorState[d]))return!1;return!0}}class Gr{static getAllAutoClosedCharacters(t){let d=[];for(const L of t)d=d.concat(L.getAutoClosedCharactersRanges());return d}constructor(t,d,L){this._model=t,this._autoClosedCharactersDecorations=d,this._autoClosedEnclosingDecorations=L}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const t=[];for(let d=0;d<this._autoClosedCharactersDecorations.length;d++){const L=this._model.getDecorationRange(this._autoClosedCharactersDecorations[d]);L&&t.push(L)}return t}isValid(t){const d=[];for(let L=0;L<this._autoClosedEnclosingDecorations.length;L++){const U=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[L]);if(U&&(d.push(U),U.startLineNumber!==U.endLineNumber))return!1}d.sort(M.e.compareRangesUsingStarts),t.sort(M.e.compareRangesUsingStarts);for(let L=0;L<t.length;L++)if(L>=d.length||!d[L].strictContainsRange(t[L]))return!1;return!0}}class Ho{static executeCommands(t,d,L){const U={model:t,selectionsBefore:d,trackedRanges:[],trackedRangesDirection:[]},q=this._innerExecuteCommands(U,L);for(let _e=0,Me=U.trackedRanges.length;_e<Me;_e++)U.model._setTrackedRange(U.trackedRanges[_e],null,0);return q}static _innerExecuteCommands(t,d){if(this._arrayIsEmpty(d))return null;const L=this._getEditOperations(t,d);if(L.operations.length===0)return null;const U=L.operations,q=this._getLoserCursorMap(U);if(q.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const _e=[];for(let qe=0,pt=U.length;qe<pt;qe++)q.hasOwnProperty(U[qe].identifier.major.toString())||_e.push(U[qe]);L.hadTrackedEditOperation&&_e.length>0&&(_e[0]._isTracked=!0);let Me=t.model.pushEditOperations(t.selectionsBefore,_e,qe=>{const pt=[];for(let zt=0;zt<t.selectionsBefore.length;zt++)pt[zt]=[];for(const zt of qe)zt.identifier&&pt[zt.identifier.major].push(zt);const Dt=(zt,ii)=>zt.identifier.minor-ii.identifier.minor,Ot=[];for(let zt=0;zt<t.selectionsBefore.length;zt++)pt[zt].length>0?(pt[zt].sort(Dt),Ot[zt]=d[zt].computeCursorState(t.model,{getInverseEditOperations:()=>pt[zt],getTrackedSelection:ii=>{const ai=parseInt(ii,10),pi=t.model._getTrackedRange(t.trackedRanges[ai]);return t.trackedRangesDirection[ai]===0?new Te.Y(pi.startLineNumber,pi.startColumn,pi.endLineNumber,pi.endColumn):new Te.Y(pi.endLineNumber,pi.endColumn,pi.startLineNumber,pi.startColumn)}})):Ot[zt]=t.selectionsBefore[zt];return Ot});Me||(Me=t.selectionsBefore);const ze=[];for(const qe in q)q.hasOwnProperty(qe)&&ze.push(parseInt(qe,10));ze.sort((qe,pt)=>pt-qe);for(const qe of ze)Me.splice(qe,1);return Me}static _arrayIsEmpty(t){for(let d=0,L=t.length;d<L;d++)if(t[d])return!1;return!0}static _getEditOperations(t,d){let L=[],U=!1;for(let q=0,_e=d.length;q<_e;q++){const Me=d[q];if(Me){const ze=this._getEditOperationsFromCommand(t,q,Me);L=L.concat(ze.operations),U=U||ze.hadTrackedEditOperation}}return{operations:L,hadTrackedEditOperation:U}}static _getEditOperationsFromCommand(t,d,L){const U=[];let q=0;const _e=(Dt,Ot,zt=!1)=>{M.e.isEmpty(Dt)&&Ot===""||U.push({identifier:{major:d,minor:q++},range:Dt,text:Ot,forceMoveMarkers:zt,isAutoWhitespaceEdit:L.insertsAutoWhitespace})};let Me=!1;const pt={addEditOperation:_e,addTrackedEditOperation:(Dt,Ot,zt)=>{Me=!0,_e(Dt,Ot,zt)},trackSelection:(Dt,Ot)=>{const zt=Te.Y.liftSelection(Dt);let ii;if(zt.isEmpty())if(typeof Ot=="boolean")Ot?ii=2:ii=3;else{const Si=t.model.getLineMaxColumn(zt.startLineNumber);zt.startColumn===Si?ii=2:ii=3}else ii=1;const ai=t.trackedRanges.length,pi=t.model._setTrackedRange(null,zt,ii);return t.trackedRanges[ai]=pi,t.trackedRangesDirection[ai]=zt.getDirection(),ai.toString()}};try{L.getEditOperations(t.model,pt)}catch(Dt){return(0,E.dL)(Dt),{operations:[],hadTrackedEditOperation:!1}}return{operations:U,hadTrackedEditOperation:Me}}static _getLoserCursorMap(t){t=t.slice(0),t.sort((L,U)=>-M.e.compareRangesUsingEnds(L.range,U.range));const d={};for(let L=1;L<t.length;L++){const U=t[L-1],q=t[L];if(M.e.getStartPosition(U.range).isBefore(M.e.getEndPosition(q.range))){let _e;U.identifier.major>q.identifier.major?_e=U.identifier.major:_e=q.identifier.major,d[_e.toString()]=!0;for(let Me=0;Me<t.length;Me++)t[Me].identifier.major===_e&&(t.splice(Me,1),Me<L&&L--,Me--);L>0&&L--}}return d}}class Vo{constructor(t,d,L){this.text=t,this.startSelection=d,this.endSelection=L}}class Lo{static _capture(t,d){const L=[];for(const U of d){if(U.startLineNumber!==U.endLineNumber)return null;L.push(new Vo(t.getLineContent(U.startLineNumber),U.startColumn-1,U.endColumn-1))}return L}constructor(t,d){this._original=Lo._capture(t,d)}deduceOutcome(t,d){if(!this._original)return null;const L=Lo._capture(t,d);if(!L||this._original.length!==L.length)return null;const U=[];for(let q=0,_e=this._original.length;q<_e;q++)U.push(Lo._deduceOutcome(this._original[q],L[q]));return U}static _deduceOutcome(t,d){const L=Math.min(t.startSelection,d.startSelection,Nt.Mh(t.text,d.text)),U=Math.min(t.text.length-t.endSelection,d.text.length-d.endSelection,Nt.P1(t.text,d.text)),q=t.text.substring(L,t.text.length-U),_e=d.text.substring(L,d.text.length-U);return new Fs.Nu(q,t.startSelection-L,t.endSelection-L,_e,d.startSelection-L,d.endSelection-L)}}var ro=e(13057),Zr=e(86715),eo=e(65869);class Qr{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(t){this._hasPending=!0,this._inserts.push(t)}change(t){this._hasPending=!0,this._changes.push(t)}remove(t){this._hasPending=!0,this._removes.push(t)}mustCommit(){return this._hasPending}commit(t){if(!this._hasPending)return;const d=this._inserts,L=this._changes,U=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],t._commitPendingChanges(d,L,U)}}class yr{constructor(t,d,L,U,q){this.id=t,this.afterLineNumber=d,this.ordinal=L,this.height=U,this.minWidth=q,this.prefixSum=0}}class Qs{constructor(t,d,L,U){this._instanceId=Nt.PJ(++Qs.INSTANCE_COUNT),this._pendingChanges=new Qr,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=t,this._lineHeight=d,this._paddingTop=L,this._paddingBottom=U}static findInsertionIndex(t,d,L){let U=0,q=t.length;for(;U<q;){const _e=U+q>>>1;d===t[_e].afterLineNumber?L<t[_e].ordinal?q=_e:U=_e+1:d<t[_e].afterLineNumber?q=_e:U=_e+1}return U}setLineHeight(t){this._checkPendingChanges(),this._lineHeight=t}setPadding(t,d){this._paddingTop=t,this._paddingBottom=d}onFlushed(t){this._checkPendingChanges(),this._lineCount=t}changeWhitespace(t){let d=!1;try{t({insertWhitespace:(U,q,_e,Me)=>{d=!0,U=U|0,q=q|0,_e=_e|0,Me=Me|0;const ze=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new yr(ze,U,q,_e,Me)),ze},changeOneWhitespace:(U,q,_e)=>{d=!0,q=q|0,_e=_e|0,this._pendingChanges.change({id:U,newAfterLineNumber:q,newHeight:_e})},removeWhitespace:U=>{d=!0,this._pendingChanges.remove({id:U})}})}finally{this._pendingChanges.commit(this)}return d}_commitPendingChanges(t,d,L){if((t.length>0||L.length>0)&&(this._minWidth=-1),t.length+d.length+L.length<=1){for(const ze of t)this._insertWhitespace(ze);for(const ze of d)this._changeOneWhitespace(ze.id,ze.newAfterLineNumber,ze.newHeight);for(const ze of L){const qe=this._findWhitespaceIndex(ze.id);qe!==-1&&this._removeWhitespace(qe)}return}const U=new Set;for(const ze of L)U.add(ze.id);const q=new Map;for(const ze of d)q.set(ze.id,ze);const _e=ze=>{const qe=[];for(const pt of ze)if(!U.has(pt.id)){if(q.has(pt.id)){const Dt=q.get(pt.id);pt.afterLineNumber=Dt.newAfterLineNumber,pt.height=Dt.newHeight}qe.push(pt)}return qe},Me=_e(this._arr).concat(_e(t));Me.sort((ze,qe)=>ze.afterLineNumber===qe.afterLineNumber?ze.ordinal-qe.ordinal:ze.afterLineNumber-qe.afterLineNumber),this._arr=Me,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(t){const d=Qs.findInsertionIndex(this._arr,t.afterLineNumber,t.ordinal);this._arr.splice(d,0,t),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,d-1)}_findWhitespaceIndex(t){const d=this._arr;for(let L=0,U=d.length;L<U;L++)if(d[L].id===t)return L;return-1}_changeOneWhitespace(t,d,L){const U=this._findWhitespaceIndex(t);if(U!==-1&&(this._arr[U].height!==L&&(this._arr[U].height=L,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,U-1)),this._arr[U].afterLineNumber!==d)){const q=this._arr[U];this._removeWhitespace(U),q.afterLineNumber=d,this._insertWhitespace(q)}}_removeWhitespace(t){this._arr.splice(t,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,t-1)}onLinesDeleted(t,d){this._checkPendingChanges(),t=t|0,d=d|0,this._lineCount-=d-t+1;for(let L=0,U=this._arr.length;L<U;L++){const q=this._arr[L].afterLineNumber;t<=q&&q<=d?this._arr[L].afterLineNumber=t-1:q>d&&(this._arr[L].afterLineNumber-=d-t+1)}}onLinesInserted(t,d){this._checkPendingChanges(),t=t|0,d=d|0,this._lineCount+=d-t+1;for(let L=0,U=this._arr.length;L<U;L++){const q=this._arr[L].afterLineNumber;t<=q&&(this._arr[L].afterLineNumber+=d-t+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(t){this._checkPendingChanges(),t=t|0;let d=Math.max(0,this._prefixSumValidIndex+1);d===0&&(this._arr[0].prefixSum=this._arr[0].height,d++);for(let L=d;L<=t;L++)this._arr[L].prefixSum=this._arr[L-1].prefixSum+this._arr[L].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,t),this._arr[t].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const t=this._lineHeight*this._lineCount,d=this.getWhitespacesTotalHeight();return t+d+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(t){this._checkPendingChanges(),t=t|0;const d=this._findLastWhitespaceBeforeLineNumber(t);return d===-1?0:this.getWhitespacesAccumulatedHeight(d)}_findLastWhitespaceBeforeLineNumber(t){t=t|0;const d=this._arr;let L=0,U=d.length-1;for(;L<=U;){const _e=(U-L|0)/2|0,Me=L+_e|0;if(d[Me].afterLineNumber<t){if(Me+1>=d.length||d[Me+1].afterLineNumber>=t)return Me;L=Me+1|0}else U=Me-1|0}return-1}_findFirstWhitespaceAfterLineNumber(t){t=t|0;const L=this._findLastWhitespaceBeforeLineNumber(t)+1;return L<this._arr.length?L:-1}getFirstWhitespaceIndexAfterLineNumber(t){return this._checkPendingChanges(),t=t|0,this._findFirstWhitespaceAfterLineNumber(t)}getVerticalOffsetForLineNumber(t,d=!1){this._checkPendingChanges(),t=t|0;let L;t>1?L=this._lineHeight*(t-1):L=0;const U=this.getWhitespaceAccumulatedHeightBeforeLineNumber(t-(d?1:0));return L+U+this._paddingTop}getVerticalOffsetAfterLineNumber(t,d=!1){this._checkPendingChanges(),t=t|0;const L=this._lineHeight*t,U=this.getWhitespaceAccumulatedHeightBeforeLineNumber(t+(d?1:0));return L+U+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let t=0;for(let d=0,L=this._arr.length;d<L;d++)t=Math.max(t,this._arr[d].minWidth);this._minWidth=t}return this._minWidth}isAfterLines(t){this._checkPendingChanges();const d=this.getLinesTotalHeight();return t>d}isInTopPadding(t){return this._paddingTop===0?!1:(this._checkPendingChanges(),t<this._paddingTop)}isInBottomPadding(t){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const d=this.getLinesTotalHeight();return t>=d-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(t){if(this._checkPendingChanges(),t=t|0,t<0)return 1;const d=this._lineCount|0,L=this._lineHeight;let U=1,q=d;for(;U<q;){const _e=(U+q)/2|0,Me=this.getVerticalOffsetForLineNumber(_e)|0;if(t>=Me+L)U=_e+1;else{if(t>=Me)return _e;q=_e}}return U>d?d:U}getLinesViewportData(t,d){this._checkPendingChanges(),t=t|0,d=d|0;const L=this._lineHeight,U=this.getLineNumberAtOrAfterVerticalOffset(t)|0,q=this.getVerticalOffsetForLineNumber(U)|0;let _e=this._lineCount|0,Me=this.getFirstWhitespaceIndexAfterLineNumber(U)|0;const ze=this.getWhitespacesCount()|0;let qe,pt;Me===-1?(Me=ze,pt=_e+1,qe=0):(pt=this.getAfterLineNumberForWhitespaceIndex(Me)|0,qe=this.getHeightForWhitespaceIndex(Me)|0);let Dt=q,Ot=Dt;const zt=5e5;let ii=0;q>=zt&&(ii=Math.floor(q/zt)*zt,ii=Math.floor(ii/L)*L,Ot-=ii);const ai=[],pi=t+(d-t)/2;let Si=-1;for(let on=U;on<=_e;on++){if(Si===-1){const cn=Dt,un=Dt+L;(cn<=pi&&pi<un||cn>pi)&&(Si=on)}for(Dt+=L,ai[on-U]=Ot,Ot+=L;pt===on;)Ot+=qe,Dt+=qe,Me++,Me>=ze?pt=_e+1:(pt=this.getAfterLineNumberForWhitespaceIndex(Me)|0,qe=this.getHeightForWhitespaceIndex(Me)|0);if(Dt>=d){_e=on;break}}Si===-1&&(Si=_e);const ki=this.getVerticalOffsetForLineNumber(_e)|0;let Ai=U,qi=_e;return Ai<qi&&q<t&&Ai++,Ai<qi&&ki+L>d&&qi--,{bigNumbersDelta:ii,startLineNumber:U,endLineNumber:_e,relativeVerticalOffset:ai,centeredLineNumber:Si,completelyVisibleStartLineNumber:Ai,completelyVisibleEndLineNumber:qi,lineHeight:this._lineHeight}}getVerticalOffsetForWhitespaceIndex(t){this._checkPendingChanges(),t=t|0;const d=this.getAfterLineNumberForWhitespaceIndex(t);let L;d>=1?L=this._lineHeight*d:L=0;let U;return t>0?U=this.getWhitespacesAccumulatedHeight(t-1):U=0,L+U+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(t){this._checkPendingChanges(),t=t|0;let d=0,L=this.getWhitespacesCount()-1;if(L<0)return-1;const U=this.getVerticalOffsetForWhitespaceIndex(L),q=this.getHeightForWhitespaceIndex(L);if(t>=U+q)return-1;for(;d<L;){const _e=Math.floor((d+L)/2),Me=this.getVerticalOffsetForWhitespaceIndex(_e),ze=this.getHeightForWhitespaceIndex(_e);if(t>=Me+ze)d=_e+1;else{if(t>=Me)return _e;L=_e}}return d}getWhitespaceAtVerticalOffset(t){this._checkPendingChanges(),t=t|0;const d=this.getWhitespaceIndexAtOrAfterVerticallOffset(t);if(d<0||d>=this.getWhitespacesCount())return null;const L=this.getVerticalOffsetForWhitespaceIndex(d);if(L>t)return null;const U=this.getHeightForWhitespaceIndex(d),q=this.getIdForWhitespaceIndex(d),_e=this.getAfterLineNumberForWhitespaceIndex(d);return{id:q,afterLineNumber:_e,verticalOffset:L,height:U}}getWhitespaceViewportData(t,d){this._checkPendingChanges(),t=t|0,d=d|0;const L=this.getWhitespaceIndexAtOrAfterVerticallOffset(t),U=this.getWhitespacesCount()-1;if(L<0)return[];const q=[];for(let _e=L;_e<=U;_e++){const Me=this.getVerticalOffsetForWhitespaceIndex(_e),ze=this.getHeightForWhitespaceIndex(_e);if(Me>=d)break;q.push({id:this.getIdForWhitespaceIndex(_e),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(_e),verticalOffset:Me,height:ze})}return q}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(t){return this._checkPendingChanges(),t=t|0,this._arr[t].id}getAfterLineNumberForWhitespaceIndex(t){return this._checkPendingChanges(),t=t|0,this._arr[t].afterLineNumber}getHeightForWhitespaceIndex(t){return this._checkPendingChanges(),t=t|0,this._arr[t].height}}Qs.INSTANCE_COUNT=0;const tr=125;class Do{constructor(t,d,L,U){t=t|0,d=d|0,L=L|0,U=U|0,t<0&&(t=0),d<0&&(d=0),L<0&&(L=0),U<0&&(U=0),this.width=t,this.contentWidth=d,this.scrollWidth=Math.max(t,d),this.height=L,this.contentHeight=U,this.scrollHeight=Math.max(L,U)}equals(t){return this.width===t.width&&this.contentWidth===t.contentWidth&&this.height===t.height&&this.contentHeight===t.contentHeight}}class Yr extends w.JT{constructor(t,d){super(),this._onDidContentSizeChange=this._register(new R.Q5),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new Do(0,0,0,0),this._scrollable=this._register(new eo.Rm({forceIntegerValues:!0,smoothScrollDuration:t,scheduleAtNextAnimationFrame:d})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(t){this._scrollable.setSmoothScrollDuration(t)}validateScrollPosition(t){return this._scrollable.validateScrollPosition(t)}getScrollDimensions(){return this._dimensions}setScrollDimensions(t){if(this._dimensions.equals(t))return;const d=this._dimensions;this._dimensions=t,this._scrollable.setScrollDimensions({width:t.width,scrollWidth:t.scrollWidth,height:t.height,scrollHeight:t.scrollHeight},!0);const L=d.contentWidth!==t.contentWidth,U=d.contentHeight!==t.contentHeight;(L||U)&&this._onDidContentSizeChange.fire(new ho(d.contentWidth,d.contentHeight,t.contentWidth,t.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(t){this._scrollable.setScrollPositionNow(t)}setScrollPositionSmooth(t){this._scrollable.setScrollPositionSmooth(t)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}}class go extends w.JT{constructor(t,d,L){super(),this._configuration=t;const U=this._configuration.options,q=U.get(145),_e=U.get(84);this._linesLayout=new Qs(d,U.get(67),_e.top,_e.bottom),this._maxLineWidth=0,this._overlayWidgetsMinWidth=0,this._scrollable=this._register(new Yr(0,L)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new Do(q.contentWidth,0,q.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(114)?tr:0)}onConfigurationChanged(t){const d=this._configuration.options;if(t.hasChanged(67)&&this._linesLayout.setLineHeight(d.get(67)),t.hasChanged(84)){const L=d.get(84);this._linesLayout.setPadding(L.top,L.bottom)}if(t.hasChanged(145)){const L=d.get(145),U=L.contentWidth,q=L.height,_e=this._scrollable.getScrollDimensions(),Me=_e.contentWidth;this._scrollable.setScrollDimensions(new Do(U,_e.contentWidth,q,this._getContentHeight(U,q,Me)))}else this._updateHeight();t.hasChanged(114)&&this._configureSmoothScrollDuration()}onFlushed(t){this._linesLayout.onFlushed(t)}onLinesDeleted(t,d){this._linesLayout.onLinesDeleted(t,d)}onLinesInserted(t,d){this._linesLayout.onLinesInserted(t,d)}_getHorizontalScrollbarHeight(t,d){const U=this._configuration.options.get(103);return U.horizontal===2||t>=d?0:U.horizontalScrollbarSize}_getContentHeight(t,d,L){const U=this._configuration.options;let q=this._linesLayout.getLinesTotalHeight();return U.get(105)?q+=Math.max(0,d-U.get(67)-U.get(84).bottom):U.get(103).ignoreHorizontalScrollbarInContentHeight||(q+=this._getHorizontalScrollbarHeight(t,L)),q}_updateHeight(){const t=this._scrollable.getScrollDimensions(),d=t.width,L=t.height,U=t.contentWidth;this._scrollable.setScrollDimensions(new Do(d,t.contentWidth,L,this._getContentHeight(d,L,U)))}getCurrentViewport(){const t=this._scrollable.getScrollDimensions(),d=this._scrollable.getCurrentScrollPosition();return new tn.l_(d.scrollTop,d.scrollLeft,t.width,t.height)}getFutureViewport(){const t=this._scrollable.getScrollDimensions(),d=this._scrollable.getFutureScrollPosition();return new tn.l_(d.scrollTop,d.scrollLeft,t.width,t.height)}_computeContentWidth(){const t=this._configuration.options,d=this._maxLineWidth,L=t.get(146),U=t.get(50),q=t.get(145);if(L.isViewportWrapping){const _e=t.get(73);return d>q.contentWidth+U.typicalHalfwidthCharacterWidth&&_e.enabled&&_e.side==="right"?d+q.verticalScrollbarWidth:d}else{const _e=t.get(104)*U.typicalHalfwidthCharacterWidth,Me=this._linesLayout.getWhitespaceMinWidth();return Math.max(d+_e+q.verticalScrollbarWidth,Me,this._overlayWidgetsMinWidth)}}setMaxLineWidth(t){this._maxLineWidth=t,this._updateContentWidth()}setOverlayWidgetsMinWidth(t){this._overlayWidgetsMinWidth=t,this._updateContentWidth()}_updateContentWidth(){const t=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new Do(t.width,this._computeContentWidth(),t.height,t.contentHeight)),this._updateHeight()}saveState(){const t=this._scrollable.getFutureScrollPosition(),d=t.scrollTop,L=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(d),U=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(L);return{scrollTop:d,scrollTopWithoutViewZones:d-U,scrollLeft:t.scrollLeft}}changeWhitespace(t){const d=this._linesLayout.changeWhitespace(t);return d&&this.onHeightMaybeChanged(),d}getVerticalOffsetForLineNumber(t,d=!1){return this._linesLayout.getVerticalOffsetForLineNumber(t,d)}getVerticalOffsetAfterLineNumber(t,d=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(t,d)}isAfterLines(t){return this._linesLayout.isAfterLines(t)}isInTopPadding(t){return this._linesLayout.isInTopPadding(t)}isInBottomPadding(t){return this._linesLayout.isInBottomPadding(t)}getLineNumberAtVerticalOffset(t){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t)}getWhitespaceAtVerticalOffset(t){return this._linesLayout.getWhitespaceAtVerticalOffset(t)}getLinesViewportData(){const t=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(t.top,t.top+t.height)}getLinesViewportDataAtScrollTop(t){const d=this._scrollable.getScrollDimensions();return t+d.height>d.scrollHeight&&(t=d.scrollHeight-d.height),t<0&&(t=0),this._linesLayout.getLinesViewportData(t,t+d.height)}getWhitespaceViewportData(){const t=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(t.top,t.top+t.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(t){return this._scrollable.validateScrollPosition(t)}setScrollPosition(t,d){d===1?this._scrollable.setScrollPositionNow(t):this._scrollable.setScrollPositionSmooth(t)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}deltaScrollNow(t,d){const L=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:L.scrollLeft+t,scrollTop:L.scrollTop+d})}}var Na=e(22829),wr=e(25114);function Ws(Rt,t){return Rt===null?t?Eo.INSTANCE:mo.INSTANCE:new Lr(Rt,t)}class Lr{constructor(t,d){this._projectionData=t,this._isVisible=d}isVisible(){return this._isVisible}setVisible(t){return this._isVisible=t,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(t,d,L){this._assertVisible();const U=L>0?this._projectionData.breakOffsets[L-1]:0,q=this._projectionData.breakOffsets[L];let _e;if(this._projectionData.injectionOffsets!==null){const Me=this._projectionData.injectionOffsets.map((qe,pt)=>new Es.gk(0,0,qe+1,this._projectionData.injectionOptions[pt],0));_e=Es.gk.applyInjectedText(t.getLineContent(d),Me).substring(U,q)}else _e=t.getValueInRange({startLineNumber:d,startColumn:U+1,endLineNumber:d,endColumn:q+1});return L>0&&(_e=po(this._projectionData.wrappedTextIndentLength)+_e),_e}getViewLineLength(t,d,L){return this._assertVisible(),this._projectionData.getLineLength(L)}getViewLineMinColumn(t,d,L){return this._assertVisible(),this._projectionData.getMinOutputOffset(L)+1}getViewLineMaxColumn(t,d,L){return this._assertVisible(),this._projectionData.getMaxOutputOffset(L)+1}getViewLineData(t,d,L){const U=new Array;return this.getViewLinesData(t,d,L,1,0,[!0],U),U[0]}getViewLinesData(t,d,L,U,q,_e,Me){this._assertVisible();const ze=this._projectionData,qe=ze.injectionOffsets,pt=ze.injectionOptions;let Dt=null;if(qe){Dt=[];let zt=0,ii=0;for(let ai=0;ai<ze.getOutputLineCount();ai++){const pi=new Array;Dt[ai]=pi;const Si=ai>0?ze.breakOffsets[ai-1]:0,ki=ze.breakOffsets[ai];for(;ii<qe.length;){const Ai=pt[ii].content.length,qi=qe[ii]+zt,on=qi+Ai;if(qi>ki)break;if(Si<on){const cn=pt[ii];if(cn.inlineClassName){const un=ai>0?ze.wrappedTextIndentLength:0,Ln=un+Math.max(qi-Si,0),pn=un+Math.min(on-Si,ki-Si);Ln!==pn&&pi.push(new tn.Wx(Ln,pn,cn.inlineClassName,cn.inlineClassNameAffectsLetterSpacing))}}if(on<=ki)zt+=Ai,ii++;else break}}}let Ot;qe?Ot=t.tokenization.getLineTokens(d).withInserted(qe.map((zt,ii)=>({offset:zt,text:pt[ii].content,tokenMetadata:wr.A.defaultTokenMetadata}))):Ot=t.tokenization.getLineTokens(d);for(let zt=L;zt<L+U;zt++){const ii=q+zt-L;if(!_e[ii]){Me[ii]=null;continue}Me[ii]=this._getViewLineData(Ot,Dt?Dt[zt]:null,zt)}}_getViewLineData(t,d,L){this._assertVisible();const U=this._projectionData,q=L>0?U.wrappedTextIndentLength:0,_e=L>0?U.breakOffsets[L-1]:0,Me=U.breakOffsets[L],ze=t.sliceAndInflate(_e,Me,q);let qe=ze.getLineContent();L>0&&(qe=po(U.wrappedTextIndentLength)+qe);const pt=this._projectionData.getMinOutputOffset(L)+1,Dt=qe.length+1,Ot=L+1<this.getViewLineCount(),zt=L===0?0:U.breakOffsetsVisibleColumn[L-1];return new tn.IP(qe,Ot,pt,Dt,zt,ze,d)}getModelColumnOfViewPosition(t,d){return this._assertVisible(),this._projectionData.translateToInputOffset(t,d-1)+1}getViewPositionOfModelPosition(t,d,L=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(d-1,L).toPosition(t)}getViewLineNumberOfModelPosition(t,d){this._assertVisible();const L=this._projectionData.translateToOutputPosition(d-1);return t+L.outputLineIndex}normalizePosition(t,d,L){const U=d.lineNumber-t;return this._projectionData.normalizeOutputPosition(t,d.column-1,L).toPosition(U)}getInjectedTextAt(t,d){return this._projectionData.getInjectedText(t,d-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class Eo{constructor(){}isVisible(){return!0}setVisible(t){return t?this:mo.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(t,d,L){return t.getLineContent(d)}getViewLineLength(t,d,L){return t.getLineLength(d)}getViewLineMinColumn(t,d,L){return t.getLineMinColumn(d)}getViewLineMaxColumn(t,d,L){return t.getLineMaxColumn(d)}getViewLineData(t,d,L){const U=t.tokenization.getLineTokens(d),q=U.getLineContent();return new tn.IP(q,!1,1,q.length+1,0,U.inflate(),null)}getViewLinesData(t,d,L,U,q,_e,Me){if(!_e[q]){Me[q]=null;return}Me[q]=this.getViewLineData(t,d,0)}getModelColumnOfViewPosition(t,d){return d}getViewPositionOfModelPosition(t,d){return new he.L(t,d)}getViewLineNumberOfModelPosition(t,d){return t}normalizePosition(t,d,L){return d}getInjectedTextAt(t,d){return null}}Eo.INSTANCE=new Eo;class mo{constructor(){}isVisible(){return!1}setVisible(t){return t?Eo.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(t,d,L){throw new Error("Not supported")}getViewLineLength(t,d,L){throw new Error("Not supported")}getViewLineMinColumn(t,d,L){throw new Error("Not supported")}getViewLineMaxColumn(t,d,L){throw new Error("Not supported")}getViewLineData(t,d,L){throw new Error("Not supported")}getViewLinesData(t,d,L,U,q,_e,Me){throw new Error("Not supported")}getModelColumnOfViewPosition(t,d){throw new Error("Not supported")}getViewPositionOfModelPosition(t,d){throw new Error("Not supported")}getViewLineNumberOfModelPosition(t,d){throw new Error("Not supported")}normalizePosition(t,d,L){throw new Error("Not supported")}getInjectedTextAt(t,d){throw new Error("Not supported")}}mo.INSTANCE=new mo;const zo=[""];function po(Rt){if(Rt>=zo.length)for(let t=1;t<=Rt;t++)zo[t]=Jr(t);return zo[Rt]}function Jr(Rt){return new Array(Rt+1).join(" ")}var Xr=e(22689);class qr{constructor(t,d,L,U,q,_e,Me,ze,qe,pt){this._editorId=t,this.model=d,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=L,this._monospaceLineBreaksComputerFactory=U,this.fontInfo=q,this.tabSize=_e,this.wrappingStrategy=Me,this.wrappingColumn=ze,this.wrappingIndent=qe,this.wordBreak=pt,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new ao(this)}_constructLines(t,d){this.modelLineProjections=[],t&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const L=this.model.getLinesContent(),U=this.model.getInjectedTextDecorations(this._editorId),q=L.length,_e=this.createLineBreaksComputer(),Me=new r.H9(Es.gk.fromDecorations(U));for(let ai=0;ai<q;ai++){const pi=Me.takeWhile(Si=>Si.lineNumber===ai+1);_e.addRequest(L[ai],pi,d?d[ai]:null)}const ze=_e.finalize(),qe=[],pt=this.hiddenAreasDecorationIds.map(ai=>this.model.getDecorationRange(ai)).sort(M.e.compareRangesUsingStarts);let Dt=1,Ot=0,zt=-1,ii=zt+1<pt.length?Ot+1:q+2;for(let ai=0;ai<q;ai++){const pi=ai+1;pi===ii&&(zt++,Dt=pt[zt].startLineNumber,Ot=pt[zt].endLineNumber,ii=zt+1<pt.length?Ot+1:q+2);const Si=pi>=Dt&&pi<=Ot,ki=Ws(ze[ai],!Si);qe[ai]=ki.getViewLineCount(),this.modelLineProjections[ai]=ki}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new Xr.Ck(qe)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(t=>this.model.getDecorationRange(t))}setHiddenAreas(t){const d=t.map(Ot=>this.model.validateRange(Ot)),L=Ma(d),U=this.hiddenAreasDecorationIds.map(Ot=>this.model.getDecorationRange(Ot)).sort(M.e.compareRangesUsingStarts);if(L.length===U.length){let Ot=!1;for(let zt=0;zt<L.length;zt++)if(!L[zt].equalsRange(U[zt])){Ot=!0;break}if(!Ot)return!1}const q=L.map(Ot=>({range:Ot,options:pr.qx.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,q);const _e=L;let Me=1,ze=0,qe=-1,pt=qe+1<_e.length?ze+1:this.modelLineProjections.length+2,Dt=!1;for(let Ot=0;Ot<this.modelLineProjections.length;Ot++){const zt=Ot+1;zt===pt&&(qe++,Me=_e[qe].startLineNumber,ze=_e[qe].endLineNumber,pt=qe+1<_e.length?ze+1:this.modelLineProjections.length+2);let ii=!1;if(zt>=Me&&zt<=ze?this.modelLineProjections[Ot].isVisible()&&(this.modelLineProjections[Ot]=this.modelLineProjections[Ot].setVisible(!1),ii=!0):(Dt=!0,this.modelLineProjections[Ot].isVisible()||(this.modelLineProjections[Ot]=this.modelLineProjections[Ot].setVisible(!0),ii=!0)),ii){const ai=this.modelLineProjections[Ot].getViewLineCount();this.projectedModelLineLineCounts.setValue(Ot,ai)}}return Dt||this.setHiddenAreas([]),!0}modelPositionIsVisible(t,d){return t<1||t>this.modelLineProjections.length?!1:this.modelLineProjections[t-1].isVisible()}getModelLineViewLineCount(t){return t<1||t>this.modelLineProjections.length?1:this.modelLineProjections[t-1].getViewLineCount()}setTabSize(t){return this.tabSize===t?!1:(this.tabSize=t,this._constructLines(!1,null),!0)}setWrappingSettings(t,d,L,U,q){const _e=this.fontInfo.equals(t),Me=this.wrappingStrategy===d,ze=this.wrappingColumn===L,qe=this.wrappingIndent===U,pt=this.wordBreak===q;if(_e&&Me&&ze&&qe&&pt)return!1;const Dt=_e&&Me&&!ze&&qe&&pt;this.fontInfo=t,this.wrappingStrategy=d,this.wrappingColumn=L,this.wrappingIndent=U,this.wordBreak=q;let Ot=null;if(Dt){Ot=[];for(let zt=0,ii=this.modelLineProjections.length;zt<ii;zt++)Ot[zt]=this.modelLineProjections[zt].getProjectionData()}return this._constructLines(!1,Ot),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent,this.wordBreak)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(t,d,L){if(!t||t<=this._validModelVersionId)return null;const U=d===1?1:this.projectedModelLineLineCounts.getPrefixSum(d-1)+1,q=this.projectedModelLineLineCounts.getPrefixSum(L);return this.modelLineProjections.splice(d-1,L-d+1),this.projectedModelLineLineCounts.removeValues(d-1,L-d+1),new Xo(U,q)}onModelLinesInserted(t,d,L,U){if(!t||t<=this._validModelVersionId)return null;const q=d>2&&!this.modelLineProjections[d-2].isVisible(),_e=d===1?1:this.projectedModelLineLineCounts.getPrefixSum(d-1)+1;let Me=0;const ze=[],qe=[];for(let pt=0,Dt=U.length;pt<Dt;pt++){const Ot=Ws(U[pt],!q);ze.push(Ot);const zt=Ot.getViewLineCount();Me+=zt,qe[pt]=zt}return this.modelLineProjections=this.modelLineProjections.slice(0,d-1).concat(ze).concat(this.modelLineProjections.slice(d-1)),this.projectedModelLineLineCounts.insertValues(d-1,qe),new In(_e,_e+Me-1)}onModelLineChanged(t,d,L){if(t!==null&&t<=this._validModelVersionId)return[!1,null,null,null];const U=d-1,q=this.modelLineProjections[U].getViewLineCount(),_e=this.modelLineProjections[U].isVisible(),Me=Ws(L,_e);this.modelLineProjections[U]=Me;const ze=this.modelLineProjections[U].getViewLineCount();let qe=!1,pt=0,Dt=-1,Ot=0,zt=-1,ii=0,ai=-1;q>ze?(pt=this.projectedModelLineLineCounts.getPrefixSum(d-1)+1,Dt=pt+ze-1,ii=Dt+1,ai=ii+(q-ze)-1,qe=!0):q<ze?(pt=this.projectedModelLineLineCounts.getPrefixSum(d-1)+1,Dt=pt+q-1,Ot=Dt+1,zt=Ot+(ze-q)-1,qe=!0):(pt=this.projectedModelLineLineCounts.getPrefixSum(d-1)+1,Dt=pt+ze-1),this.projectedModelLineLineCounts.setValue(U,ze);const pi=pt<=Dt?new yo(pt,Dt-pt+1):null,Si=Ot<=zt?new In(Ot,zt):null,ki=ii<=ai?new Xo(ii,ai):null;return[qe,pi,Si,ki]}acceptVersionId(t){this._validModelVersionId=t,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(t){if(t<1)return 1;const d=this.getViewLineCount();return t>d?d:t|0}getActiveIndentGuide(t,d,L){t=this._toValidViewLineNumber(t),d=this._toValidViewLineNumber(d),L=this._toValidViewLineNumber(L);const U=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),q=this.convertViewPositionToModelPosition(d,this.getViewLineMinColumn(d)),_e=this.convertViewPositionToModelPosition(L,this.getViewLineMinColumn(L)),Me=this.model.guides.getActiveIndentGuide(U.lineNumber,q.lineNumber,_e.lineNumber),ze=this.convertModelPositionToViewPosition(Me.startLineNumber,1),qe=this.convertModelPositionToViewPosition(Me.endLineNumber,this.model.getLineMaxColumn(Me.endLineNumber));return{startLineNumber:ze.lineNumber,endLineNumber:qe.lineNumber,indent:Me.indent}}getViewLineInfo(t){t=this._toValidViewLineNumber(t);const d=this.projectedModelLineLineCounts.getIndexOf(t-1),L=d.index,U=d.remainder;return new Dr(L+1,U)}getMinColumnOfViewLine(t){return this.modelLineProjections[t.modelLineNumber-1].getViewLineMinColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(t){return this.modelLineProjections[t.modelLineNumber-1].getViewLineMaxColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(t){const d=this.modelLineProjections[t.modelLineNumber-1],L=d.getViewLineMinColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx),U=d.getModelColumnOfViewPosition(t.modelLineWrappedLineIdx,L);return new he.L(t.modelLineNumber,U)}getModelEndPositionOfViewLine(t){const d=this.modelLineProjections[t.modelLineNumber-1],L=d.getViewLineMaxColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx),U=d.getModelColumnOfViewPosition(t.modelLineWrappedLineIdx,L);return new he.L(t.modelLineNumber,U)}getViewLineInfosGroupedByModelRanges(t,d){const L=this.getViewLineInfo(t),U=this.getViewLineInfo(d),q=new Array;let _e=this.getModelStartPositionOfViewLine(L),Me=new Array;for(let ze=L.modelLineNumber;ze<=U.modelLineNumber;ze++){const qe=this.modelLineProjections[ze-1];if(qe.isVisible()){const pt=ze===L.modelLineNumber?L.modelLineWrappedLineIdx:0,Dt=ze===U.modelLineNumber?U.modelLineWrappedLineIdx+1:qe.getViewLineCount();for(let Ot=pt;Ot<Dt;Ot++)Me.push(new Dr(ze,Ot))}if(!qe.isVisible()&&_e){const pt=new he.L(ze-1,this.model.getLineMaxColumn(ze-1)+1),Dt=M.e.fromPositions(_e,pt);q.push(new ea(Dt,Me)),Me=[],_e=null}else qe.isVisible()&&!_e&&(_e=new he.L(ze,1))}if(_e){const ze=M.e.fromPositions(_e,this.getModelEndPositionOfViewLine(U));q.push(new ea(ze,Me))}return q}getViewLinesBracketGuides(t,d,L,U){const q=L?this.convertViewPositionToModelPosition(L.lineNumber,L.column):null,_e=[];for(const Me of this.getViewLineInfosGroupedByModelRanges(t,d)){const ze=Me.modelRange.startLineNumber,qe=this.model.guides.getLinesBracketGuides(ze,Me.modelRange.endLineNumber,q,U);for(const pt of Me.viewLines){const Ot=qe[pt.modelLineNumber-ze].map(zt=>{if(zt.forWrappedLinesAfterColumn!==-1&&this.modelLineProjections[pt.modelLineNumber-1].getViewPositionOfModelPosition(0,zt.forWrappedLinesAfterColumn).lineNumber>=pt.modelLineWrappedLineIdx||zt.forWrappedLinesBeforeOrAtColumn!==-1&&this.modelLineProjections[pt.modelLineNumber-1].getViewPositionOfModelPosition(0,zt.forWrappedLinesBeforeOrAtColumn).lineNumber<pt.modelLineWrappedLineIdx)return;if(!zt.horizontalLine)return zt;let ii=-1;if(zt.column!==-1){const Si=this.modelLineProjections[pt.modelLineNumber-1].getViewPositionOfModelPosition(0,zt.column);if(Si.lineNumber===pt.modelLineWrappedLineIdx)ii=Si.column;else if(Si.lineNumber<pt.modelLineWrappedLineIdx)ii=this.getMinColumnOfViewLine(pt);else if(Si.lineNumber>pt.modelLineWrappedLineIdx)return}const ai=this.convertModelPositionToViewPosition(pt.modelLineNumber,zt.horizontalLine.endColumn),pi=this.modelLineProjections[pt.modelLineNumber-1].getViewPositionOfModelPosition(0,zt.horizontalLine.endColumn);return pi.lineNumber===pt.modelLineWrappedLineIdx?new Qi.UO(zt.visibleColumn,ii,zt.className,new Qi.vW(zt.horizontalLine.top,ai.column),-1,-1):pi.lineNumber<pt.modelLineWrappedLineIdx||zt.visibleColumn!==-1?void 0:new Qi.UO(zt.visibleColumn,ii,zt.className,new Qi.vW(zt.horizontalLine.top,this.getMaxColumnOfViewLine(pt)),-1,-1)});_e.push(Ot.filter(zt=>!!zt))}}return _e}getViewLinesIndentGuides(t,d){t=this._toValidViewLineNumber(t),d=this._toValidViewLineNumber(d);const L=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),U=this.convertViewPositionToModelPosition(d,this.getViewLineMaxColumn(d));let q=[];const _e=[],Me=[],ze=L.lineNumber-1,qe=U.lineNumber-1;let pt=null;for(let ii=ze;ii<=qe;ii++){const ai=this.modelLineProjections[ii];if(ai.isVisible()){const pi=ai.getViewLineNumberOfModelPosition(0,ii===ze?L.column:1),Si=ai.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(ii+1)),ki=Si-pi+1;let Ai=0;ki>1&&ai.getViewLineMinColumn(this.model,ii+1,Si)===1&&(Ai=pi===0?1:2),_e.push(ki),Me.push(Ai),pt===null&&(pt=new he.L(ii+1,0))}else pt!==null&&(q=q.concat(this.model.guides.getLinesIndentGuides(pt.lineNumber,ii)),pt=null)}pt!==null&&(q=q.concat(this.model.guides.getLinesIndentGuides(pt.lineNumber,U.lineNumber)),pt=null);const Dt=d-t+1,Ot=new Array(Dt);let zt=0;for(let ii=0,ai=q.length;ii<ai;ii++){let pi=q[ii];const Si=Math.min(Dt-zt,_e[ii]),ki=Me[ii];let Ai;ki===2?Ai=0:ki===1?Ai=1:Ai=Si;for(let qi=0;qi<Si;qi++)qi===Ai&&(pi=0),Ot[zt++]=pi}return Ot}getViewLineContent(t){const d=this.getViewLineInfo(t);return this.modelLineProjections[d.modelLineNumber-1].getViewLineContent(this.model,d.modelLineNumber,d.modelLineWrappedLineIdx)}getViewLineLength(t){const d=this.getViewLineInfo(t);return this.modelLineProjections[d.modelLineNumber-1].getViewLineLength(this.model,d.modelLineNumber,d.modelLineWrappedLineIdx)}getViewLineMinColumn(t){const d=this.getViewLineInfo(t);return this.modelLineProjections[d.modelLineNumber-1].getViewLineMinColumn(this.model,d.modelLineNumber,d.modelLineWrappedLineIdx)}getViewLineMaxColumn(t){const d=this.getViewLineInfo(t);return this.modelLineProjections[d.modelLineNumber-1].getViewLineMaxColumn(this.model,d.modelLineNumber,d.modelLineWrappedLineIdx)}getViewLineData(t){const d=this.getViewLineInfo(t);return this.modelLineProjections[d.modelLineNumber-1].getViewLineData(this.model,d.modelLineNumber,d.modelLineWrappedLineIdx)}getViewLinesData(t,d,L){t=this._toValidViewLineNumber(t),d=this._toValidViewLineNumber(d);const U=this.projectedModelLineLineCounts.getIndexOf(t-1);let q=t;const _e=U.index,Me=U.remainder,ze=[];for(let qe=_e,pt=this.model.getLineCount();qe<pt;qe++){const Dt=this.modelLineProjections[qe];if(!Dt.isVisible())continue;const Ot=qe===_e?Me:0;let zt=Dt.getViewLineCount()-Ot,ii=!1;if(q+zt>d&&(ii=!0,zt=d-q+1),Dt.getViewLinesData(this.model,qe+1,Ot,zt,q-t,L,ze),q+=zt,ii)break}return ze}validateViewPosition(t,d,L){t=this._toValidViewLineNumber(t);const U=this.projectedModelLineLineCounts.getIndexOf(t-1),q=U.index,_e=U.remainder,Me=this.modelLineProjections[q],ze=Me.getViewLineMinColumn(this.model,q+1,_e),qe=Me.getViewLineMaxColumn(this.model,q+1,_e);d<ze&&(d=ze),d>qe&&(d=qe);const pt=Me.getModelColumnOfViewPosition(_e,d);return this.model.validatePosition(new he.L(q+1,pt)).equals(L)?new he.L(t,d):this.convertModelPositionToViewPosition(L.lineNumber,L.column)}validateViewRange(t,d){const L=this.validateViewPosition(t.startLineNumber,t.startColumn,d.getStartPosition()),U=this.validateViewPosition(t.endLineNumber,t.endColumn,d.getEndPosition());return new M.e(L.lineNumber,L.column,U.lineNumber,U.column)}convertViewPositionToModelPosition(t,d){const L=this.getViewLineInfo(t),U=this.modelLineProjections[L.modelLineNumber-1].getModelColumnOfViewPosition(L.modelLineWrappedLineIdx,d);return this.model.validatePosition(new he.L(L.modelLineNumber,U))}convertViewRangeToModelRange(t){const d=this.convertViewPositionToModelPosition(t.startLineNumber,t.startColumn),L=this.convertViewPositionToModelPosition(t.endLineNumber,t.endColumn);return new M.e(d.lineNumber,d.column,L.lineNumber,L.column)}convertModelPositionToViewPosition(t,d,L=2,U=!1,q=!1){const _e=this.model.validatePosition(new he.L(t,d)),Me=_e.lineNumber,ze=_e.column;let qe=Me-1,pt=!1;if(q)for(;qe<this.modelLineProjections.length&&!this.modelLineProjections[qe].isVisible();)qe++,pt=!0;else for(;qe>0&&!this.modelLineProjections[qe].isVisible();)qe--,pt=!0;if(qe===0&&!this.modelLineProjections[qe].isVisible())return new he.L(U?0:1,1);const Dt=1+this.projectedModelLineLineCounts.getPrefixSum(qe);let Ot;return pt?q?Ot=this.modelLineProjections[qe].getViewPositionOfModelPosition(Dt,1,L):Ot=this.modelLineProjections[qe].getViewPositionOfModelPosition(Dt,this.model.getLineMaxColumn(qe+1),L):Ot=this.modelLineProjections[Me-1].getViewPositionOfModelPosition(Dt,ze,L),Ot}convertModelRangeToViewRange(t,d=0){if(t.isEmpty()){const L=this.convertModelPositionToViewPosition(t.startLineNumber,t.startColumn,d);return M.e.fromPositions(L)}else{const L=this.convertModelPositionToViewPosition(t.startLineNumber,t.startColumn,1),U=this.convertModelPositionToViewPosition(t.endLineNumber,t.endColumn,0);return new M.e(L.lineNumber,L.column,U.lineNumber,U.column)}}getViewLineNumberOfModelPosition(t,d){let L=t-1;if(this.modelLineProjections[L].isVisible()){const q=1+this.projectedModelLineLineCounts.getPrefixSum(L);return this.modelLineProjections[L].getViewLineNumberOfModelPosition(q,d)}for(;L>0&&!this.modelLineProjections[L].isVisible();)L--;if(L===0&&!this.modelLineProjections[L].isVisible())return 1;const U=1+this.projectedModelLineLineCounts.getPrefixSum(L);return this.modelLineProjections[L].getViewLineNumberOfModelPosition(U,this.model.getLineMaxColumn(L+1))}getDecorationsInRange(t,d,L,U,q){const _e=this.convertViewPositionToModelPosition(t.startLineNumber,t.startColumn),Me=this.convertViewPositionToModelPosition(t.endLineNumber,t.endColumn);if(Me.lineNumber-_e.lineNumber<=t.endLineNumber-t.startLineNumber)return this.model.getDecorationsInRange(new M.e(_e.lineNumber,1,Me.lineNumber,Me.column),d,L,U,q);let ze=[];const qe=_e.lineNumber-1,pt=Me.lineNumber-1;let Dt=null;for(let ai=qe;ai<=pt;ai++)if(this.modelLineProjections[ai].isVisible())Dt===null&&(Dt=new he.L(ai+1,ai===qe?_e.column:1));else if(Dt!==null){const Si=this.model.getLineMaxColumn(ai);ze=ze.concat(this.model.getDecorationsInRange(new M.e(Dt.lineNumber,Dt.column,ai,Si),d,L,U)),Dt=null}Dt!==null&&(ze=ze.concat(this.model.getDecorationsInRange(new M.e(Dt.lineNumber,Dt.column,Me.lineNumber,Me.column),d,L,U)),Dt=null),ze.sort((ai,pi)=>{const Si=M.e.compareRangesUsingStarts(ai.range,pi.range);return Si===0?ai.id<pi.id?-1:ai.id>pi.id?1:0:Si});const Ot=[];let zt=0,ii=null;for(const ai of ze){const pi=ai.id;ii!==pi&&(ii=pi,Ot[zt++]=ai)}return Ot}getInjectedTextAt(t){const d=this.getViewLineInfo(t.lineNumber);return this.modelLineProjections[d.modelLineNumber-1].getInjectedTextAt(d.modelLineWrappedLineIdx,t.column)}normalizePosition(t,d){const L=this.getViewLineInfo(t.lineNumber);return this.modelLineProjections[L.modelLineNumber-1].normalizePosition(L.modelLineWrappedLineIdx,t,d)}getLineIndentColumn(t){const d=this.getViewLineInfo(t);return d.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(d.modelLineNumber):0}}function Ma(Rt){if(Rt.length===0)return[];const t=Rt.slice();t.sort(M.e.compareRangesUsingStarts);const d=[];let L=t[0].startLineNumber,U=t[0].endLineNumber;for(let q=1,_e=t.length;q<_e;q++){const Me=t[q];Me.startLineNumber>U+1?(d.push(new M.e(L,1,U,1)),L=Me.startLineNumber,U=Me.endLineNumber):Me.endLineNumber>U&&(U=Me.endLineNumber)}return d.push(new M.e(L,1,U,1)),d}class Dr{constructor(t,d){this.modelLineNumber=t,this.modelLineWrappedLineIdx=d}}class ea{constructor(t,d){this.modelRange=t,this.viewLines=d}}class ao{constructor(t){this._lines=t}convertViewPositionToModelPosition(t){return this._lines.convertViewPositionToModelPosition(t.lineNumber,t.column)}convertViewRangeToModelRange(t){return this._lines.convertViewRangeToModelRange(t)}validateViewPosition(t,d){return this._lines.validateViewPosition(t.lineNumber,t.column,d)}validateViewRange(t,d){return this._lines.validateViewRange(t,d)}convertModelPositionToViewPosition(t,d,L,U){return this._lines.convertModelPositionToViewPosition(t.lineNumber,t.column,d,L,U)}convertModelRangeToViewRange(t,d){return this._lines.convertModelRangeToViewRange(t,d)}modelPositionIsVisible(t){return this._lines.modelPositionIsVisible(t.lineNumber,t.column)}getModelLineViewLineCount(t){return this._lines.getModelLineViewLineCount(t)}getViewLineNumberOfModelPosition(t,d){return this._lines.getViewLineNumberOfModelPosition(t,d)}}class Ta{constructor(t){this.model=t}dispose(){}createCoordinatesConverter(){return new Pa(this)}getHiddenAreas(){return[]}setHiddenAreas(t){return!1}setTabSize(t){return!1}setWrappingSettings(t,d,L,U){return!1}createLineBreaksComputer(){const t=[];return{addRequest:(d,L,U)=>{t.push(null)},finalize:()=>t}}onModelFlushed(){}onModelLinesDeleted(t,d,L){return new Xo(d,L)}onModelLinesInserted(t,d,L,U){return new In(d,L)}onModelLineChanged(t,d,L){return[!1,new yo(d,1),null,null]}acceptVersionId(t){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(t,d,L){return{startLineNumber:t,endLineNumber:t,indent:0}}getViewLinesBracketGuides(t,d,L){return new Array(d-t+1).fill([])}getViewLinesIndentGuides(t,d){const L=d-t+1,U=new Array(L);for(let q=0;q<L;q++)U[q]=0;return U}getViewLineContent(t){return this.model.getLineContent(t)}getViewLineLength(t){return this.model.getLineLength(t)}getViewLineMinColumn(t){return this.model.getLineMinColumn(t)}getViewLineMaxColumn(t){return this.model.getLineMaxColumn(t)}getViewLineData(t){const d=this.model.tokenization.getLineTokens(t),L=d.getLineContent();return new tn.IP(L,!1,1,L.length+1,0,d.inflate(),null)}getViewLinesData(t,d,L){const U=this.model.getLineCount();t=Math.min(Math.max(1,t),U),d=Math.min(Math.max(1,d),U);const q=[];for(let _e=t;_e<=d;_e++){const Me=_e-t;q[Me]=L[Me]?this.getViewLineData(_e):null}return q}getDecorationsInRange(t,d,L,U,q){return this.model.getDecorationsInRange(t,d,L,U,q)}normalizePosition(t,d){return this.model.normalizePosition(t,d)}getLineIndentColumn(t){return this.model.getLineIndentColumn(t)}getInjectedTextAt(t){return null}}class Pa{constructor(t){this._lines=t}_validPosition(t){return this._lines.model.validatePosition(t)}_validRange(t){return this._lines.model.validateRange(t)}convertViewPositionToModelPosition(t){return this._validPosition(t)}convertViewRangeToModelRange(t){return this._validRange(t)}validateViewPosition(t,d){return this._validPosition(d)}validateViewRange(t,d){return this._validRange(d)}convertModelPositionToViewPosition(t){return this._validPosition(t)}convertModelRangeToViewRange(t){return this._validRange(t)}modelPositionIsVisible(t){const d=this._lines.model.getLineCount();return!(t.lineNumber<1||t.lineNumber>d)}getModelLineViewLineCount(t){return 1}getViewLineNumberOfModelPosition(t,d){return t}}const Hs=ke.U.Right;class Er{constructor(t){this.persist=0,this._requiredLanes=1,this.lanes=new Uint8Array(Math.ceil((t+1)*Hs/8))}reset(t){const d=Math.ceil((t+1)*Hs/8);this.lanes.length<d?this.lanes=new Uint8Array(d):this.lanes.fill(0),this._requiredLanes=1}get requiredLanes(){return this._requiredLanes}push(t,d,L){L&&(this.persist|=1<<t-1);for(let U=d.startLineNumber;U<=d.endLineNumber;U++){const q=Hs*U+(t-1);this.lanes[q>>>3]|=1<<q%8,this._requiredLanes=Math.max(this._requiredLanes,this.countAtLine(U))}}getLanesAtLine(t){const d=[];let L=Hs*t;for(let U=0;U<Hs;U++)(this.persist&1<<U||this.lanes[L>>>3]&1<<L%8)&&d.push(U+1),L++;return d.length?d:[ke.U.Center]}countAtLine(t){let d=Hs*t,L=0;for(let U=0;U<Hs;U++)(this.persist&1<<U||this.lanes[d>>>3]&1<<d%8)&&L++,d++;return L}}const xr=!0;class ta extends w.JT{constructor(t,d,L,U,q,_e,Me,ze,qe){if(super(),this.languageConfigurationService=Me,this._themeService=ze,this._attachedView=qe,this.hiddenAreasModel=new ir,this.previousHiddenAreas=[],this._editorId=t,this._configuration=d,this.model=L,this._eventDispatcher=new As,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new ls.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._updateConfigurationViewLineCount=this._register(new Ne.pY(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=xo.create(this.model),this.glyphLanes=new Er(0),xr&&this.model.isTooLargeForTokenization())this._lines=new Ta(this.model);else{const pt=this._configuration.options,Dt=pt.get(50),Ot=pt.get(139),zt=pt.get(146),ii=pt.get(138),ai=pt.get(129);this._lines=new qr(this._editorId,this.model,U,q,Dt,this.model.getOptions().tabSize,Ot,zt.wrappingColumn,ii,ai)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new er(L,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new go(this._configuration,this.getLineCount(),_e)),this._register(this.viewLayout.onDidScroll(pt=>{pt.scrollTopChanged&&this._handleVisibleLinesChanged(),pt.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new ds(pt)),this._eventDispatcher.emitOutgoingEvent(new oo(pt.oldScrollWidth,pt.oldScrollLeft,pt.oldScrollHeight,pt.oldScrollTop,pt.scrollWidth,pt.scrollLeft,pt.scrollHeight,pt.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(pt=>{this._eventDispatcher.emitOutgoingEvent(pt)})),this._decorations=new Na.CU(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(pt=>{try{const Dt=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(Dt,pt)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(dn.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new Os)})),this._register(this._themeService.onDidColorThemeChange(pt=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new cs(pt))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(t){this._eventDispatcher.addViewEventHandler(t)}removeViewEventHandler(t){this._eventDispatcher.removeViewEventHandler(t)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}getModelVisibleRanges(){const t=this.viewLayout.getLinesViewportData(),d=new M.e(t.startLineNumber,this.getLineMinColumn(t.startLineNumber),t.endLineNumber,this.getLineMaxColumn(t.endLineNumber));return this._toModelVisibleRanges(d)}visibleLinesStabilized(){const t=this.getModelVisibleRanges();this._attachedView.setVisibleLines(t,!0)}_handleVisibleLinesChanged(){const t=this.getModelVisibleRanges();this._attachedView.setVisibleLines(t,!1)}setHasFocus(t){this._hasFocus=t,this._cursor.setHasFocus(t),this._eventDispatcher.emitSingleViewEvent(new Jo(t)),this._eventDispatcher.emitOutgoingEvent(new qo(!t,t))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new Qo)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new Yo)}_captureStableViewport(){if(this._viewportStart.isValid&&this.viewLayout.getCurrentScrollTop()>0){const t=new he.L(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber)),d=this.coordinatesConverter.convertViewPositionToModelPosition(t);return new sr(d,this._viewportStart.startLineDelta)}return new sr(null,0)}_onConfigurationChanged(t,d){const L=this._captureStableViewport(),U=this._configuration.options,q=U.get(50),_e=U.get(139),Me=U.get(146),ze=U.get(138),qe=U.get(129);this._lines.setWrappingSettings(q,_e,Me.wrappingColumn,ze,qe)&&(t.emitViewEvent(new So),t.emitViewEvent(new Zs),t.emitViewEvent(new Ts(null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this._updateConfigurationViewLineCount.schedule()),d.hasChanged(91)&&(this._decorations.reset(),t.emitViewEvent(new Ts(null))),d.hasChanged(98)&&(this._decorations.reset(),t.emitViewEvent(new Ts(null))),t.emitViewEvent(new Cr(d)),this.viewLayout.onConfigurationChanged(d),L.recoverViewportStart(this.coordinatesConverter,this.viewLayout),ls.LM.shouldRecreate(d)&&(this.cursorConfig=new ls.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(t=>{try{const L=this._eventDispatcher.beginEmitViewEvents();let U=!1,q=!1;const _e=t instanceof Es.fV?t.rawContentChangedEvent.changes:t.changes,Me=t instanceof Es.fV?t.rawContentChangedEvent.versionId:null,ze=this._lines.createLineBreaksComputer();for(const Dt of _e)switch(Dt.changeType){case 4:{for(let Ot=0;Ot<Dt.detail.length;Ot++){const zt=Dt.detail[Ot];let ii=Dt.injectedTexts[Ot];ii&&(ii=ii.filter(ai=>!ai.ownerId||ai.ownerId===this._editorId)),ze.addRequest(zt,ii,null)}break}case 2:{let Ot=null;Dt.injectedText&&(Ot=Dt.injectedText.filter(zt=>!zt.ownerId||zt.ownerId===this._editorId)),ze.addRequest(Dt.detail,Ot,null);break}}const qe=ze.finalize(),pt=new r.H9(qe);for(const Dt of _e)switch(Dt.changeType){case 1:{this._lines.onModelFlushed(),L.emitViewEvent(new So),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),U=!0;break}case 3:{const Ot=this._lines.onModelLinesDeleted(Me,Dt.fromLineNumber,Dt.toLineNumber);Ot!==null&&(L.emitViewEvent(Ot),this.viewLayout.onLinesDeleted(Ot.fromLineNumber,Ot.toLineNumber)),U=!0;break}case 4:{const Ot=pt.takeCount(Dt.detail.length),zt=this._lines.onModelLinesInserted(Me,Dt.fromLineNumber,Dt.toLineNumber,Ot);zt!==null&&(L.emitViewEvent(zt),this.viewLayout.onLinesInserted(zt.fromLineNumber,zt.toLineNumber)),U=!0;break}case 2:{const Ot=pt.dequeue(),[zt,ii,ai,pi]=this._lines.onModelLineChanged(Me,Dt.lineNumber,Ot);q=zt,ii&&L.emitViewEvent(ii),ai&&(L.emitViewEvent(ai),this.viewLayout.onLinesInserted(ai.fromLineNumber,ai.toLineNumber)),pi&&(L.emitViewEvent(pi),this.viewLayout.onLinesDeleted(pi.fromLineNumber,pi.toLineNumber));break}case 5:break}Me!==null&&this._lines.acceptVersionId(Me),this.viewLayout.onHeightMaybeChanged(),!U&&q&&(L.emitViewEvent(new Zs),L.emitViewEvent(new Ts(null)),this._cursor.onLineMappingChanged(L),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}const d=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&d){const L=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(L){const U=this.coordinatesConverter.convertModelPositionToViewPosition(L.getStartPosition()),q=this.viewLayout.getVerticalOffsetForLineNumber(U.lineNumber);this.viewLayout.setScrollPosition({scrollTop:q+this._viewportStart.startLineDelta},1)}}try{const L=this._eventDispatcher.beginEmitViewEvents();t instanceof Es.fV&&L.emitOutgoingEvent(new xa(t.contentChangedEvent)),this._cursor.onModelContentChanged(L,t)}finally{this._eventDispatcher.endEmitViewEvents()}this._handleVisibleLinesChanged()})),this._register(this.model.onDidChangeTokens(t=>{const d=[];for(let L=0,U=t.ranges.length;L<U;L++){const q=t.ranges[L],_e=this.coordinatesConverter.convertModelPositionToViewPosition(new he.L(q.fromLineNumber,1)).lineNumber,Me=this.coordinatesConverter.convertModelPositionToViewPosition(new he.L(q.toLineNumber,this.model.getLineMaxColumn(q.toLineNumber))).lineNumber;d[L]={fromLineNumber:_e,toLineNumber:Me}}this._eventDispatcher.emitSingleViewEvent(new Ls(d)),this._eventDispatcher.emitOutgoingEvent(new Ia(t))})),this._register(this.model.onDidChangeLanguageConfiguration(t=>{this._eventDispatcher.emitSingleViewEvent(new Wo),this.cursorConfig=new ls.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new Ea(t))})),this._register(this.model.onDidChangeLanguage(t=>{this.cursorConfig=new ls.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new Da(t))})),this._register(this.model.onDidChangeOptions(t=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const d=this._eventDispatcher.beginEmitViewEvents();d.emitViewEvent(new So),d.emitViewEvent(new Zs),d.emitViewEvent(new Ts(null)),this._cursor.onLineMappingChanged(d),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new ls.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new $r(t))})),this._register(this.model.onDidChangeDecorations(t=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new Ts(t)),this._eventDispatcher.emitOutgoingEvent(new La(t))}))}setHiddenAreas(t,d){var L;this.hiddenAreasModel.setHiddenAreas(d,t);const U=this.hiddenAreasModel.getMergedRanges();if(U===this.previousHiddenAreas)return;this.previousHiddenAreas=U;const q=this._captureStableViewport();let _e=!1;try{const Me=this._eventDispatcher.beginEmitViewEvents();_e=this._lines.setHiddenAreas(U),_e&&(Me.emitViewEvent(new So),Me.emitViewEvent(new Zs),Me.emitViewEvent(new Ts(null)),this._cursor.onLineMappingChanged(Me),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged());const ze=(L=q.viewportStartModelPosition)===null||L===void 0?void 0:L.lineNumber;ze&&U.some(pt=>pt.startLineNumber<=ze&&ze<=pt.endLineNumber)||q.recoverViewportStart(this.coordinatesConverter,this.viewLayout)}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),_e&&this._eventDispatcher.emitOutgoingEvent(new jr)}getVisibleRangesPlusViewportAboveBelow(){const t=this._configuration.options.get(145),d=this._configuration.options.get(67),L=Math.max(20,Math.round(t.height/d)),U=this.viewLayout.getLinesViewportData(),q=Math.max(1,U.completelyVisibleStartLineNumber-L),_e=Math.min(this.getLineCount(),U.completelyVisibleEndLineNumber+L);return this._toModelVisibleRanges(new M.e(q,this.getLineMinColumn(q),_e,this.getLineMaxColumn(_e)))}getVisibleRanges(){const t=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(t)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(t){const d=this.coordinatesConverter.convertViewRangeToModelRange(t),L=this._lines.getHiddenAreas();if(L.length===0)return[d];const U=[];let q=0,_e=d.startLineNumber,Me=d.startColumn;const ze=d.endLineNumber,qe=d.endColumn;for(let pt=0,Dt=L.length;pt<Dt;pt++){const Ot=L[pt].startLineNumber,zt=L[pt].endLineNumber;zt<_e||Ot>ze||(_e<Ot&&(U[q++]=new M.e(_e,Me,Ot-1,this.model.getLineMaxColumn(Ot-1))),_e=zt+1,Me=1)}return(_e<ze||_e===ze&&Me<qe)&&(U[q++]=new M.e(_e,Me,ze,qe)),U}getCompletelyVisibleViewRange(){const t=this.viewLayout.getLinesViewportData(),d=t.completelyVisibleStartLineNumber,L=t.completelyVisibleEndLineNumber;return new M.e(d,this.getLineMinColumn(d),L,this.getLineMaxColumn(L))}getCompletelyVisibleViewRangeAtScrollTop(t){const d=this.viewLayout.getLinesViewportDataAtScrollTop(t),L=d.completelyVisibleStartLineNumber,U=d.completelyVisibleEndLineNumber;return new M.e(L,this.getLineMinColumn(L),U,this.getLineMaxColumn(U))}saveState(){const t=this.viewLayout.saveState(),d=t.scrollTop,L=this.viewLayout.getLineNumberAtVerticalOffset(d),U=this.coordinatesConverter.convertViewPositionToModelPosition(new he.L(L,this.getLineMinColumn(L))),q=this.viewLayout.getVerticalOffsetForLineNumber(L)-d;return{scrollLeft:t.scrollLeft,firstPosition:U,firstPositionDeltaTop:q}}reduceRestoreState(t){if(typeof t.firstPosition=="undefined")return this._reduceRestoreStateCompatibility(t);const d=this.model.validatePosition(t.firstPosition),L=this.coordinatesConverter.convertModelPositionToViewPosition(d),U=this.viewLayout.getVerticalOffsetForLineNumber(L.lineNumber)-t.firstPositionDeltaTop;return{scrollLeft:t.scrollLeft,scrollTop:U}}_reduceRestoreStateCompatibility(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(t,d,L){this._viewportStart.update(this,t)}getActiveIndentGuide(t,d,L){return this._lines.getActiveIndentGuide(t,d,L)}getLinesIndentGuides(t,d){return this._lines.getViewLinesIndentGuides(t,d)}getBracketGuidesInRangeByLine(t,d,L,U){return this._lines.getViewLinesBracketGuides(t,d,L,U)}getLineContent(t){return this._lines.getViewLineContent(t)}getLineLength(t){return this._lines.getViewLineLength(t)}getLineMinColumn(t){return this._lines.getViewLineMinColumn(t)}getLineMaxColumn(t){return this._lines.getViewLineMaxColumn(t)}getLineFirstNonWhitespaceColumn(t){const d=Nt.LC(this.getLineContent(t));return d===-1?0:d+1}getLineLastNonWhitespaceColumn(t){const d=Nt.ow(this.getLineContent(t));return d===-1?0:d+2}getMinimapDecorationsInRange(t){return this._decorations.getMinimapDecorationsInRange(t)}getDecorationsInViewport(t){return this._decorations.getDecorationsViewportData(t).decorations}getInjectedTextAt(t){return this._lines.getInjectedTextAt(t)}getViewportViewLineRenderingData(t,d){const U=this._decorations.getDecorationsViewportData(t).inlineDecorations[d-t.startLineNumber];return this._getViewLineRenderingData(d,U)}getViewLineRenderingData(t){const d=this._decorations.getInlineDecorationsOnLine(t);return this._getViewLineRenderingData(t,d)}_getViewLineRenderingData(t,d){const L=this.model.mightContainRTL(),U=this.model.mightContainNonBasicASCII(),q=this.getTabSize(),_e=this._lines.getViewLineData(t);return _e.inlineDecorations&&(d=[...d,..._e.inlineDecorations.map(Me=>Me.toInlineDecoration(t))]),new tn.wA(_e.minColumn,_e.maxColumn,_e.content,_e.continuesWithWrappedLine,L,U,_e.tokens,d,q,_e.startVisibleColumn)}getViewLineData(t){return this._lines.getViewLineData(t)}getMinimapLinesRenderingData(t,d,L){const U=this._lines.getViewLinesData(t,d,L);return new tn.ud(this.getTabSize(),U)}getAllOverviewRulerDecorations(t){const d=this.model.getOverviewRulerDecorations(this._editorId,(0,N.$J)(this._configuration.options)),L=new Ir;for(const U of d){const q=U.options,_e=q.overviewRuler;if(!_e)continue;const Me=_e.position;if(Me===0)continue;const ze=_e.getColor(t.value),qe=this.coordinatesConverter.getViewLineNumberOfModelPosition(U.range.startLineNumber,U.range.startColumn),pt=this.coordinatesConverter.getViewLineNumberOfModelPosition(U.range.endLineNumber,U.range.endColumn);L.accept(ze,q.zIndex,qe,pt,Me)}return L.asArray}_invalidateDecorationsColorCache(){const t=this.model.getOverviewRulerDecorations();for(const d of t){const L=d.options.overviewRuler;L==null||L.invalidateCachedColor();const U=d.options.minimap;U==null||U.invalidateCachedColor()}}getValueInRange(t,d){const L=this.coordinatesConverter.convertViewRangeToModelRange(t);return this.model.getValueInRange(L,d)}getValueLengthInRange(t,d){const L=this.coordinatesConverter.convertViewRangeToModelRange(t);return this.model.getValueLengthInRange(L,d)}modifyPosition(t,d){const L=this.coordinatesConverter.convertViewPositionToModelPosition(t),U=this.model.modifyPosition(L,d);return this.coordinatesConverter.convertModelPositionToViewPosition(U)}deduceModelPositionRelativeToViewPosition(t,d,L){const U=this.coordinatesConverter.convertViewPositionToModelPosition(t);this.model.getEOL().length===2&&(d<0?d-=L:d+=L);const _e=this.model.getOffsetAt(U)+d;return this.model.getPositionAt(_e)}getPlainTextToCopy(t,d,L){const U=L?`\r
`:this.model.getEOL();t=t.slice(0),t.sort(M.e.compareRangesUsingStarts);let q=!1,_e=!1;for(const ze of t)ze.isEmpty()?q=!0:_e=!0;if(!_e){if(!d)return"";const ze=t.map(pt=>pt.startLineNumber);let qe="";for(let pt=0;pt<ze.length;pt++)pt>0&&ze[pt-1]===ze[pt]||(qe+=this.model.getLineContent(ze[pt])+U);return qe}if(q&&d){const ze=[];let qe=0;for(const pt of t){const Dt=pt.startLineNumber;pt.isEmpty()?Dt!==qe&&ze.push(this.model.getLineContent(Dt)):ze.push(this.model.getValueInRange(pt,L?2:0)),qe=Dt}return ze.length===1?ze[0]:ze}const Me=[];for(const ze of t)ze.isEmpty()||Me.push(this.model.getValueInRange(ze,L?2:0));return Me.length===1?Me[0]:Me}getRichTextToCopy(t,d){const L=this.model.getLanguageId();if(L===ro.bd||t.length!==1)return null;let U=t[0];if(U.isEmpty()){if(!d)return null;const pt=U.startLineNumber;U=new M.e(pt,this.model.getLineMinColumn(pt),pt,this.model.getLineMaxColumn(pt))}const q=this._configuration.options.get(50),_e=this._getColorMap(),ze=/[:;\\\/<>]/.test(q.fontFamily)||q.fontFamily===N.hL.fontFamily;let qe;return ze?qe=N.hL.fontFamily:(qe=q.fontFamily,qe=qe.replace(/"/g,"'"),/[,']/.test(qe)||/[+ ]/.test(qe)&&(qe=`'${qe}'`),qe=`${qe}, ${N.hL.fontFamily}`),{mode:L,html:`<div style="color: ${_e[1]};background-color: ${_e[2]};font-family: ${qe};font-weight: ${q.fontWeight};font-size: ${q.fontSize}px;line-height: ${q.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(U,_e)+"</div>"}}_getHTMLToCopy(t,d){const L=t.startLineNumber,U=t.startColumn,q=t.endLineNumber,_e=t.endColumn,Me=this.getTabSize();let ze="";for(let qe=L;qe<=q;qe++){const pt=this.model.tokenization.getLineTokens(qe),Dt=pt.getLineContent(),Ot=qe===L?U-1:0,zt=qe===q?_e-1:Dt.length;Dt===""?ze+="<br>":ze+=(0,Zr.Fq)(Dt,pt.inflate(),d,Ot,zt,Me,n.ED)}return ze}_getColorMap(){const t=Vi.RW.getColorMap(),d=["#000000"];if(t)for(let L=1,U=t.length;L<U;L++)d[L]=Ji.Il.Format.CSS.formatHex(t[L]);return d}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(t,d,L){return this._withViewEventsCollector(U=>this._cursor.setStates(U,t,d,L))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(t){this._cursor.setCursorColumnSelectData(t)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(t){this._cursor.setPrevEditOperationType(t)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(t,d,L=0){this._withViewEventsCollector(U=>this._cursor.setSelections(U,t,d,L))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(t){this._withViewEventsCollector(d=>this._cursor.restoreState(d,t))}_executeCursorEdit(t){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new wa);return}this._withViewEventsCollector(t)}executeEdits(t,d,L){this._executeCursorEdit(U=>this._cursor.executeEdits(U,t,d,L))}startComposition(){this._executeCursorEdit(t=>this._cursor.startComposition(t))}endComposition(t){this._executeCursorEdit(d=>this._cursor.endComposition(d,t))}type(t,d){this._executeCursorEdit(L=>this._cursor.type(L,t,d))}compositionType(t,d,L,U,q){this._executeCursorEdit(_e=>this._cursor.compositionType(_e,t,d,L,U,q))}paste(t,d,L,U){this._executeCursorEdit(q=>this._cursor.paste(q,t,d,L,U))}cut(t){this._executeCursorEdit(d=>this._cursor.cut(d,t))}executeCommand(t,d){this._executeCursorEdit(L=>this._cursor.executeCommand(L,t,d))}executeCommands(t,d){this._executeCursorEdit(L=>this._cursor.executeCommands(L,t,d))}revealAllCursors(t,d,L=!1){this._withViewEventsCollector(U=>this._cursor.revealAll(U,t,L,0,d,0))}revealPrimaryCursor(t,d,L=!1){this._withViewEventsCollector(U=>this._cursor.revealPrimary(U,t,L,0,d,0))}revealTopMostCursor(t){const d=this._cursor.getTopMostViewPosition(),L=new M.e(d.lineNumber,d.column,d.lineNumber,d.column);this._withViewEventsCollector(U=>U.emitViewEvent(new Bn(t,!1,L,null,0,!0,0)))}revealBottomMostCursor(t){const d=this._cursor.getBottomMostViewPosition(),L=new M.e(d.lineNumber,d.column,d.lineNumber,d.column);this._withViewEventsCollector(U=>U.emitViewEvent(new Bn(t,!1,L,null,0,!0,0)))}revealRange(t,d,L,U,q){this._withViewEventsCollector(_e=>_e.emitViewEvent(new Bn(t,!1,L,null,U,d,q)))}changeWhitespace(t){this.viewLayout.changeWhitespace(t)&&(this._eventDispatcher.emitSingleViewEvent(new Ds),this._eventDispatcher.emitOutgoingEvent(new Sr))}_withViewEventsCollector(t){try{const d=this._eventDispatcher.beginEmitViewEvents();return t(d)}finally{this._eventDispatcher.endEmitViewEvents()}}batchEvents(t){this._withViewEventsCollector(()=>{t()})}normalizePosition(t,d){return this._lines.normalizePosition(t,d)}getLineIndentColumn(t){return this._lines.getLineIndentColumn(t)}}class xo{static create(t){const d=t._setTrackedRange(null,new M.e(1,1,1,1),1);return new xo(t,1,!1,d,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}constructor(t,d,L,U,q){this._model=t,this._viewLineNumber=d,this._isValid=L,this._modelTrackedRange=U,this._startLineDelta=q}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(t,d){const L=t.coordinatesConverter.convertViewPositionToModelPosition(new he.L(d,t.getLineMinColumn(d))),U=t.model._setTrackedRange(this._modelTrackedRange,new M.e(L.lineNumber,L.column,L.lineNumber,L.column),1),q=t.viewLayout.getVerticalOffsetForLineNumber(d),_e=t.viewLayout.getCurrentScrollTop();this._viewLineNumber=d,this._isValid=!0,this._modelTrackedRange=U,this._startLineDelta=_e-q}invalidate(){this._isValid=!1}}class Ir{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(t,d,L,U,q){const _e=this._asMap[t];if(_e){const Me=_e.data,ze=Me[Me.length-3],qe=Me[Me.length-1];if(ze===q&&qe+1>=L){U>qe&&(Me[Me.length-1]=U);return}Me.push(q,L,U)}else{const Me=new tn.SQ(t,d,[q,L,U]);this._asMap[t]=Me,this.asArray.push(Me)}}}class ir{constructor(){this.hiddenAreas=new Map,this.shouldRecompute=!1,this.ranges=[]}setHiddenAreas(t,d){const L=this.hiddenAreas.get(t);L&&nr(L,d)||(this.hiddenAreas.set(t,d),this.shouldRecompute=!0)}getMergedRanges(){if(!this.shouldRecompute)return this.ranges;this.shouldRecompute=!1;const t=Array.from(this.hiddenAreas.values()).reduce((d,L)=>Nr(d,L),[]);return nr(this.ranges,t)?this.ranges:(this.ranges=t,this.ranges)}}function Nr(Rt,t){const d=[];let L=0,U=0;for(;L<Rt.length&&U<t.length;){const q=Rt[L],_e=t[U];if(q.endLineNumber<_e.startLineNumber-1)d.push(Rt[L++]);else if(_e.endLineNumber<q.startLineNumber-1)d.push(t[U++]);else{const Me=Math.min(q.startLineNumber,_e.startLineNumber),ze=Math.max(q.endLineNumber,_e.endLineNumber);d.push(new M.e(Me,1,ze,1)),L++,U++}}for(;L<Rt.length;)d.push(Rt[L++]);for(;U<t.length;)d.push(t[U++]);return d}function nr(Rt,t){if(Rt.length!==t.length)return!1;for(let d=0;d<Rt.length;d++)if(!Rt[d].equalsRange(t[d]))return!1;return!0}class sr{constructor(t,d){this.viewportStartModelPosition=t,this.startLineDelta=d}recoverViewportStart(t,d){if(!this.viewportStartModelPosition)return;const L=t.convertModelPositionToViewPosition(this.viewportStartModelPosition),U=d.getVerticalOffsetForLineNumber(L.lineNumber);d.setScrollPosition({scrollTop:U+this.startLineDelta},1)}}var Ra=e(83349),Is=e(80568),Mr=e(44969),ia=e(52994),na=e(69713),sa=function(Rt,t,d,L){var U=arguments.length,q=U<3?t:L===null?L=Object.getOwnPropertyDescriptor(t,d):L,_e;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(Rt,t,d,L);else for(var Me=Rt.length-1;Me>=0;Me--)(_e=Rt[Me])&&(q=(U<3?_e(q):U>3?_e(t,d,q):_e(t,d))||q);return U>3&&q&&Object.defineProperty(t,d,q),q},Ks=function(Rt,t){return function(d,L){t(d,L,Rt)}},_o;let or=_o=class extends w.JT{get isSimpleWidget(){return this._configuration.isSimpleWidget}get contextMenuId(){return this._configuration.contextMenuId}constructor(t,d,L,U,q,_e,Me,ze,qe,pt,Dt,Ot){var zt,ii;super(),this.languageConfigurationService=Dt,this._deliveryQueue=(0,R.Sp)(),this._contributions=this._register(new $o),this._onDidDispose=this._register(new R.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onWillChangeModel=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onWillChangeModel=this._onWillChangeModel.event,this._onDidChangeModel=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new us(this._contributions,this._deliveryQueue)),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new Tr({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new Tr({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new us(this._contributions,this._deliveryQueue)),this.onWillType=this._onWillType.event,this._onDidType=this._register(new us(this._contributions,this._deliveryQueue)),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new us(this._contributions,this._deliveryQueue)),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new us(this._contributions,this._deliveryQueue)),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new us(this._contributions,this._deliveryQueue)),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new us(this._contributions,this._deliveryQueue)),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new us(this._contributions,this._deliveryQueue)),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new us(this._contributions,this._deliveryQueue)),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new us(this._contributions,this._deliveryQueue)),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new us(this._contributions,this._deliveryQueue)),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new us(this._contributions,this._deliveryQueue)),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new us(this._contributions,this._deliveryQueue)),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new us(this._contributions,this._deliveryQueue)),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new us(this._contributions,this._deliveryQueue)),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new us(this._contributions,this._deliveryQueue)),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new us(this._contributions,this._deliveryQueue)),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new us(this._contributions,this._deliveryQueue)),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._actions=new Map,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection(),q.willCreateCodeEditor();const ai=vi({},d);this._domElement=t,this._overflowWidgetsDomNode=ai.overflowWidgetsDomNode,delete ai.overflowWidgetsDomNode,this._id=++Oa,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=L.telemetryData,this._configuration=this._register(this._createConfiguration(L.isSimpleWidget||!1,(zt=L.contextMenuId)!==null&&zt!==void 0?zt:L.isSimpleWidget?na.eH.SimpleEditorContext:na.eH.EditorContext,ai,pt)),this._register(this._configuration.onDidChange(ki=>{this._onDidChangeConfiguration.fire(ki);const Ai=this._configuration.options;if(ki.hasChanged(145)){const qi=Ai.get(145);this._onDidLayoutChange.fire(qi)}})),this._contextKeyService=this._register(Me.createScoped(this._domElement)),this._notificationService=qe,this._codeEditorService=q,this._commandService=_e,this._themeService=ze,this._register(new Aa(this,this._contextKeyService)),this._register(new Uo(this,this._contextKeyService,Ot)),this._instantiationService=U.createChild(new Mr.y([Is.i6,this._contextKeyService])),this._modelData=null,this._focusTracker=new No(t,this._overflowWidgetsDomNode),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={},this._glyphMarginWidgets={};let pi;Array.isArray(L.contributions)?pi=L.contributions:pi=B.Uc.getEditorContributions(),this._contributions.initialize(this,pi,this._instantiationService);for(const ki of B.Uc.getEditorActions()){if(this._actions.has(ki.id)){(0,E.dL)(new Error(`Cannot have two actions with the same id ${ki.id}`));continue}const Ai=new io.p(ki.id,ki.label,ki.alias,ki.metadata,(ii=ki.precondition)!==null&&ii!==void 0?ii:void 0,qi=>this._instantiationService.invokeFunction(on=>Promise.resolve(ki.runEditorCommand(on,this,qi))),this._contextKeyService);this._actions.set(Ai.id,Ai)}const Si=()=>!this._configuration.options.get(91)&&this._configuration.options.get(36).enabled;this._register(new p.eg(this._domElement,{onDragOver:ki=>{if(!Si())return;const Ai=this.getTargetAtClientPoint(ki.clientX,ki.clientY);Ai!=null&&Ai.position&&this.showDropIndicatorAt(Ai.position)},onDrop:ki=>Ft(this,null,function*(){if(!Si()||(this.removeDropIndicator(),!ki.dataTransfer))return;const Ai=this.getTargetAtClientPoint(ki.clientX,ki.clientY);Ai!=null&&Ai.position&&this._onDropIntoEditor.fire({position:Ai.position,event:ki})}),onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}writeScreenReaderContent(t){var d;(d=this._modelData)===null||d===void 0||d.view.writeScreenReaderContent(t)}_createConfiguration(t,d,L,U){return new A(t,d,L,this._domElement,U)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return no.g.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose(),this._actions.clear(),this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(t){return this._instantiationService.invokeFunction(t)}updateOptions(t){this._configuration.updateOptions(t||{})}getOptions(){return this._configuration.options}getOption(t){return this._configuration.options.get(t)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(t){return this._modelData?gr.w.getWordAtPosition(this._modelData.model,this._configuration.options.get(131),this._configuration.options.get(130),t):null}getValue(t=null){if(!this._modelData)return"";const d=!!(t&&t.preserveBOM);let L=0;return t&&t.lineEnding&&t.lineEnding===`
`?L=1:t&&t.lineEnding&&t.lineEnding===`\r
`&&(L=2),this._modelData.model.getValue(L,d)}setValue(t){this._modelData&&this._modelData.model.setValue(t)}getModel(){return this._modelData?this._modelData.model:null}setModel(t=null){var d;const L=t;if(this._modelData===null&&L===null||this._modelData&&this._modelData.model===L)return;const U={oldModelUrl:((d=this._modelData)===null||d===void 0?void 0:d.model.uri)||null,newModelUrl:(L==null?void 0:L.uri)||null};this._onWillChangeModel.fire(U);const q=this.hasTextFocus(),_e=this._detachModel();this._attachModel(L),q&&this.hasModel()&&this.focus(),this._removeDecorationTypes(),this._onDidChangeModel.fire(U),this._postDetachModelCleanup(_e),this._contributionsDisposable=this._contributions.onAfterModelAttached()}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(const t in this._decorationTypeSubtypes){const d=this._decorationTypeSubtypes[t];for(const L in d)this._removeDecorationType(t+"-"+L)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetAfterPosition(t,d,L,U){const q=t.model.validatePosition({lineNumber:d,column:L}),_e=t.viewModel.coordinatesConverter.convertModelPositionToViewPosition(q);return t.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(_e.lineNumber,U)}getTopForLineNumber(t,d=!1){return this._modelData?_o._getVerticalOffsetForPosition(this._modelData,t,1,d):-1}getTopForPosition(t,d){return this._modelData?_o._getVerticalOffsetForPosition(this._modelData,t,d,!1):-1}static _getVerticalOffsetForPosition(t,d,L,U=!1){const q=t.model.validatePosition({lineNumber:d,column:L}),_e=t.viewModel.coordinatesConverter.convertModelPositionToViewPosition(q);return t.viewModel.viewLayout.getVerticalOffsetForLineNumber(_e.lineNumber,U)}getBottomForLineNumber(t,d=!1){return this._modelData?_o._getVerticalOffsetAfterPosition(this._modelData,t,1,d):-1}setHiddenAreas(t,d){var L;(L=this._modelData)===null||L===void 0||L.viewModel.setHiddenAreas(t.map(U=>M.e.lift(U)),d)}getVisibleColumnFromPosition(t){if(!this._modelData)return t.column;const d=this._modelData.model.validatePosition(t),L=this._modelData.model.getOptions().tabSize;return we.i.visibleColumnFromColumn(this._modelData.model.getLineContent(d.lineNumber),d.column,L)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(t,d="api"){if(this._modelData){if(!he.L.isIPosition(t))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(d,[{selectionStartLineNumber:t.lineNumber,selectionStartColumn:t.column,positionLineNumber:t.lineNumber,positionColumn:t.column}])}}_sendRevealRange(t,d,L,U){if(!this._modelData)return;if(!M.e.isIRange(t))throw new Error("Invalid arguments");const q=this._modelData.model.validateRange(t),_e=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(q);this._modelData.viewModel.revealRange("api",L,_e,d,U)}revealLine(t,d=0){this._revealLine(t,0,d)}revealLineInCenter(t,d=0){this._revealLine(t,1,d)}revealLineInCenterIfOutsideViewport(t,d=0){this._revealLine(t,2,d)}revealLineNearTop(t,d=0){this._revealLine(t,5,d)}_revealLine(t,d,L){if(typeof t!="number")throw new Error("Invalid arguments");this._sendRevealRange(new M.e(t,1,t,1),d,!1,L)}revealPosition(t,d=0){this._revealPosition(t,0,!0,d)}revealPositionInCenter(t,d=0){this._revealPosition(t,1,!0,d)}revealPositionInCenterIfOutsideViewport(t,d=0){this._revealPosition(t,2,!0,d)}revealPositionNearTop(t,d=0){this._revealPosition(t,5,!0,d)}_revealPosition(t,d,L,U){if(!he.L.isIPosition(t))throw new Error("Invalid arguments");this._sendRevealRange(new M.e(t.lineNumber,t.column,t.lineNumber,t.column),d,L,U)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(t,d="api"){const L=Te.Y.isISelection(t),U=M.e.isIRange(t);if(!L&&!U)throw new Error("Invalid arguments");if(L)this._setSelectionImpl(t,d);else if(U){const q={selectionStartLineNumber:t.startLineNumber,selectionStartColumn:t.startColumn,positionLineNumber:t.endLineNumber,positionColumn:t.endColumn};this._setSelectionImpl(q,d)}}_setSelectionImpl(t,d){if(!this._modelData)return;const L=new Te.Y(t.selectionStartLineNumber,t.selectionStartColumn,t.positionLineNumber,t.positionColumn);this._modelData.viewModel.setSelections(d,[L])}revealLines(t,d,L=0){this._revealLines(t,d,0,L)}revealLinesInCenter(t,d,L=0){this._revealLines(t,d,1,L)}revealLinesInCenterIfOutsideViewport(t,d,L=0){this._revealLines(t,d,2,L)}revealLinesNearTop(t,d,L=0){this._revealLines(t,d,5,L)}_revealLines(t,d,L,U){if(typeof t!="number"||typeof d!="number")throw new Error("Invalid arguments");this._sendRevealRange(new M.e(t,1,d,1),L,!1,U)}revealRange(t,d=0,L=!1,U=!0){this._revealRange(t,L?1:0,U,d)}revealRangeInCenter(t,d=0){this._revealRange(t,1,!0,d)}revealRangeInCenterIfOutsideViewport(t,d=0){this._revealRange(t,2,!0,d)}revealRangeNearTop(t,d=0){this._revealRange(t,5,!0,d)}revealRangeNearTopIfOutsideViewport(t,d=0){this._revealRange(t,6,!0,d)}revealRangeAtTop(t,d=0){this._revealRange(t,3,!0,d)}_revealRange(t,d,L,U){if(!M.e.isIRange(t))throw new Error("Invalid arguments");this._sendRevealRange(M.e.lift(t),d,L,U)}setSelections(t,d="api",L=0){if(this._modelData){if(!t||t.length===0)throw new Error("Invalid arguments");for(let U=0,q=t.length;U<q;U++)if(!Te.Y.isISelection(t[U]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(d,t,L)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(t,d=1){if(this._modelData){if(typeof t!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:t},d)}}setScrollTop(t,d=1){if(this._modelData){if(typeof t!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:t},d)}}setScrollPosition(t,d=1){this._modelData&&this._modelData.viewModel.viewLayout.setScrollPosition(t,d)}hasPendingScrollAnimation(){return this._modelData?this._modelData.viewModel.viewLayout.hasPendingScrollAnimation():!1}saveViewState(){if(!this._modelData)return null;const t=this._contributions.saveViewState(),d=this._modelData.viewModel.saveCursorState(),L=this._modelData.viewModel.saveState();return{cursorState:d,viewState:L,contributionsState:t}}restoreViewState(t){if(!this._modelData||!this._modelData.hasRealView)return;const d=t;if(d&&d.cursorState&&d.viewState){const L=d.cursorState;Array.isArray(L)?L.length>0&&this._modelData.viewModel.restoreCursorState(L):this._modelData.viewModel.restoreCursorState([L]),this._contributions.restoreViewState(d.contributionsState||{});const U=this._modelData.viewModel.reduceRestoreState(d.viewState);this._modelData.view.restoreState(U)}}handleInitialized(){var t;(t=this._getViewModel())===null||t===void 0||t.visibleLinesStabilized()}getContribution(t){return this._contributions.get(t)}getActions(){return Array.from(this._actions.values())}getSupportedActions(){let t=this.getActions();return t=t.filter(d=>d.isSupported()),t}getAction(t){return this._actions.get(t)||null}trigger(t,d,L){switch(L=L||{},d){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(t);return;case"type":{const q=L;this._type(t,q.text||"");return}case"replacePreviousChar":{const q=L;this._compositionType(t,q.text||"",q.replaceCharCnt||0,0,0);return}case"compositionType":{const q=L;this._compositionType(t,q.text||"",q.replacePrevCharCnt||0,q.replaceNextCharCnt||0,q.positionDelta||0);return}case"paste":{const q=L;this._paste(t,q.text||"",q.pasteOnNewLine||!1,q.multicursorText||null,q.mode||null,q.clipboardEvent);return}case"cut":this._cut(t);return}const U=this.getAction(d);if(U){Promise.resolve(U.run(L)).then(void 0,E.dL);return}this._modelData&&(this._triggerEditorCommand(t,d,L)||this._triggerCommand(d,L))}_triggerCommand(t,d){this._commandService.executeCommand(t,d)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(t){this._modelData&&(this._modelData.viewModel.endComposition(t),this._onDidCompositionEnd.fire())}_type(t,d){!this._modelData||d.length===0||(t==="keyboard"&&this._onWillType.fire(d),this._modelData.viewModel.type(d,t),t==="keyboard"&&this._onDidType.fire(d))}_compositionType(t,d,L,U,q){this._modelData&&this._modelData.viewModel.compositionType(d,L,U,q,t)}_paste(t,d,L,U,q,_e){if(!this._modelData)return;const Me=this._modelData.viewModel,ze=Me.getSelection().getStartPosition();Me.paste(d,L,U,t);const qe=Me.getSelection().getStartPosition();t==="keyboard"&&this._onDidPaste.fire({clipboardEvent:_e,range:new M.e(ze.lineNumber,ze.column,qe.lineNumber,qe.column),languageId:q})}_cut(t){this._modelData&&this._modelData.viewModel.cut(t)}_triggerEditorCommand(t,d,L){const U=B.Uc.getEditorCommand(d);return U?(L=L||{},L.source=t,this._instantiationService.invokeFunction(q=>{Promise.resolve(U.runEditorCommand(q,this,L)).then(void 0,E.dL)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(91)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(91)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(t,d,L){if(!this._modelData||this._configuration.options.get(91))return!1;let U;return L?Array.isArray(L)?U=()=>L:U=L:U=()=>null,this._modelData.viewModel.executeEdits(t,d,U),!0}executeCommand(t,d){this._modelData&&this._modelData.viewModel.executeCommand(d,t)}executeCommands(t,d){this._modelData&&this._modelData.viewModel.executeCommands(d,t)}createDecorationsCollection(t){return new vo(this,t)}changeDecorations(t){return this._modelData?this._modelData.model.changeDecorations(t,this._id):null}getLineDecorations(t){return this._modelData?this._modelData.model.getLineDecorations(t,this._id,(0,N.$J)(this._configuration.options)):null}getDecorationsInRange(t){return this._modelData?this._modelData.model.getDecorationsInRange(t,this._id,(0,N.$J)(this._configuration.options)):null}deltaDecorations(t,d){return this._modelData?t.length===0&&d.length===0?t:this._modelData.model.deltaDecorations(t,d,this._id):[]}removeDecorations(t){!this._modelData||t.length===0||this._modelData.model.changeDecorations(d=>{d.deltaDecorations(t,[])})}removeDecorationsByType(t){const d=this._decorationTypeKeysToIds[t];d&&this.changeDecorations(L=>L.deltaDecorations(d,[])),this._decorationTypeKeysToIds.hasOwnProperty(t)&&delete this._decorationTypeKeysToIds[t],this._decorationTypeSubtypes.hasOwnProperty(t)&&delete this._decorationTypeSubtypes[t]}getLayoutInfo(){return this._configuration.options.get(145)}createOverviewRuler(t){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(t)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarPointerDown(t){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarPointerDown(t)}delegateScrollFromMouseWheelEvent(t){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateScrollFromMouseWheelEvent(t)}layout(t,d=!1){this._configuration.observeContainer(t),d||this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(t){const d={widget:t,position:t.getPosition()};this._contentWidgets.hasOwnProperty(t.getId())&&console.warn("Overwriting a content widget with the same id:"+t.getId()),this._contentWidgets[t.getId()]=d,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(d)}layoutContentWidget(t){const d=t.getId();if(this._contentWidgets.hasOwnProperty(d)){const L=this._contentWidgets[d];L.position=t.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(L)}}removeContentWidget(t){const d=t.getId();if(this._contentWidgets.hasOwnProperty(d)){const L=this._contentWidgets[d];delete this._contentWidgets[d],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(L)}}addOverlayWidget(t){const d={widget:t,position:t.getPosition()};this._overlayWidgets.hasOwnProperty(t.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[t.getId()]=d,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(d)}layoutOverlayWidget(t){const d=t.getId();if(this._overlayWidgets.hasOwnProperty(d)){const L=this._overlayWidgets[d];L.position=t.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(L)}}removeOverlayWidget(t){const d=t.getId();if(this._overlayWidgets.hasOwnProperty(d)){const L=this._overlayWidgets[d];delete this._overlayWidgets[d],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(L)}}addGlyphMarginWidget(t){const d={widget:t,position:t.getPosition()};this._glyphMarginWidgets.hasOwnProperty(t.getId())&&console.warn("Overwriting a glyph margin widget with the same id."),this._glyphMarginWidgets[t.getId()]=d,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addGlyphMarginWidget(d)}layoutGlyphMarginWidget(t){const d=t.getId();if(this._glyphMarginWidgets.hasOwnProperty(d)){const L=this._glyphMarginWidgets[d];L.position=t.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutGlyphMarginWidget(L)}}removeGlyphMarginWidget(t){const d=t.getId();if(this._glyphMarginWidgets.hasOwnProperty(d)){const L=this._glyphMarginWidgets[d];delete this._glyphMarginWidgets[d],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeGlyphMarginWidget(L)}}changeViewZones(t){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(t)}getTargetAtClientPoint(t,d){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(t,d)}getScrolledVisiblePosition(t){if(!this._modelData||!this._modelData.hasRealView)return null;const d=this._modelData.model.validatePosition(t),L=this._configuration.options,U=L.get(145),q=_o._getVerticalOffsetForPosition(this._modelData,d.lineNumber,d.column)-this.getScrollTop(),_e=this._modelData.view.getOffsetForColumn(d.lineNumber,d.column)+U.glyphMarginWidth+U.lineNumbersWidth+U.decorationsWidth-this.getScrollLeft();return{top:q,left:_e,height:L.get(67)}}getOffsetForColumn(t,d){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(t,d)}render(t=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.viewModel.batchEvents(()=>{this._modelData.view.render(!0,t)})}setAriaOptions(t){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(t)}applyFontInfo(t){(0,g.N)(t,this._configuration.options.get(50))}setBanner(t,d){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=t,this._configuration.setReservedHeight(t?d:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(t){if(!t){this._modelData=null;return}const d=[];this._domElement.setAttribute("data-mode-id",t.getLanguageId()),this._configuration.setIsDominatedByLongLines(t.isDominatedByLongLines()),this._configuration.setModelLineCount(t.getLineCount());const L=t.onBeforeAttached(),U=new ta(this._id,this._configuration,t,to.create(p.Jj(this._domElement)),ko.create(this._configuration.options),Me=>p.jL(p.Jj(this._domElement),Me),this.languageConfigurationService,this._themeService,L);d.push(t.onWillDispose(()=>this.setModel(null))),d.push(U.onEvent(Me=>{switch(Me.kind){case 0:this._onDidContentSizeChange.fire(Me);break;case 1:this._editorTextFocus.setValue(Me.hasFocus);break;case 2:this._onDidScrollChange.fire(Me);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{if(Me.reachedMaxCursorCount){const Dt=this.getOption(80),Ot=$t.NC("cursors.maximum","The number of cursors has been limited to {0}. Consider using [find and replace](https://code.visualstudio.com/docs/editor/codebasics#_find-and-replace) for larger changes or increase the editor multi cursor limit setting.",Dt);this._notificationService.prompt(ia.zb.Warning,Ot,[{label:"Find and Replace",run:()=>{this._commandService.executeCommand("editor.action.startFindReplaceAction")}},{label:$t.NC("goToSetting","Increase Multi Cursor Limit"),run:()=>{this._commandService.executeCommand("workbench.action.openSettings2",{query:"editor.multiCursorLimit"})}}])}const ze=[];for(let Dt=0,Ot=Me.selections.length;Dt<Ot;Dt++)ze[Dt]=Me.selections[Dt].getPosition();const qe={position:ze[0],secondaryPositions:ze.slice(1),reason:Me.reason,source:Me.source};this._onDidChangeCursorPosition.fire(qe);const pt={selection:Me.selections[0],secondarySelections:Me.selections.slice(1),modelVersionId:Me.modelVersionId,oldSelections:Me.oldSelections,oldModelVersionId:Me.oldModelVersionId,source:Me.source,reason:Me.reason};this._onDidChangeCursorSelection.fire(pt);break}case 7:this._onDidChangeModelDecorations.fire(Me.event);break;case 8:this._domElement.setAttribute("data-mode-id",t.getLanguageId()),this._onDidChangeModelLanguage.fire(Me.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(Me.event);break;case 10:this._onDidChangeModelContent.fire(Me.event);break;case 11:this._onDidChangeModelOptions.fire(Me.event);break;case 12:this._onDidChangeModelTokens.fire(Me.event);break}}));const[q,_e]=this._createView(U);if(_e){this._domElement.appendChild(q.domNode.domNode);let Me=Object.keys(this._contentWidgets);for(let ze=0,qe=Me.length;ze<qe;ze++){const pt=Me[ze];q.addContentWidget(this._contentWidgets[pt])}Me=Object.keys(this._overlayWidgets);for(let ze=0,qe=Me.length;ze<qe;ze++){const pt=Me[ze];q.addOverlayWidget(this._overlayWidgets[pt])}Me=Object.keys(this._glyphMarginWidgets);for(let ze=0,qe=Me.length;ze<qe;ze++){const pt=Me[ze];q.addGlyphMarginWidget(this._glyphMarginWidgets[pt])}q.render(!1,!0),q.domNode.domNode.setAttribute("data-uri",t.uri.toString())}this._modelData=new Io(t,U,q,_e,d,L)}_createView(t){let d;this.isSimpleWidget?d={paste:(q,_e,Me,ze)=>{this._paste("keyboard",q,_e,Me,ze)},type:q=>{this._type("keyboard",q)},compositionType:(q,_e,Me,ze)=>{this._compositionType("keyboard",q,_e,Me,ze)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:d={paste:(q,_e,Me,ze)=>{const qe={text:q,pasteOnNewLine:_e,multicursorText:Me,mode:ze};this._commandService.executeCommand("paste",qe)},type:q=>{const _e={text:q};this._commandService.executeCommand("type",_e)},compositionType:(q,_e,Me,ze)=>{if(Me||ze){const qe={text:q,replacePrevCharCnt:_e,replaceNextCharCnt:Me,positionDelta:ze};this._commandService.executeCommand("compositionType",qe)}else{const qe={text:q,replaceCharCnt:_e};this._commandService.executeCommand("replacePreviousChar",qe)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const L=new ft(t.coordinatesConverter);return L.onKeyDown=q=>this._onKeyDown.fire(q),L.onKeyUp=q=>this._onKeyUp.fire(q),L.onContextMenu=q=>this._onContextMenu.fire(q),L.onMouseMove=q=>this._onMouseMove.fire(q),L.onMouseLeave=q=>this._onMouseLeave.fire(q),L.onMouseDown=q=>this._onMouseDown.fire(q),L.onMouseUp=q=>this._onMouseUp.fire(q),L.onMouseDrag=q=>this._onMouseDrag.fire(q),L.onMouseDrop=q=>this._onMouseDrop.fire(q),L.onMouseDropCanceled=q=>this._onMouseDropCanceled.fire(q),L.onMouseWheel=q=>this._onMouseWheel.fire(q),[new ps(d,this._configuration,this._themeService.getColorTheme(),t,L,this._overflowWidgetsDomNode,this._instantiationService),!0]}_postDetachModelCleanup(t){t==null||t.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){var t;if((t=this._contributionsDisposable)===null||t===void 0||t.dispose(),this._contributionsDisposable=void 0,!this._modelData)return null;const d=this._modelData.model,L=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),L&&this._domElement.contains(L)&&this._domElement.removeChild(L),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),d}_removeDecorationType(t){this._codeEditorService.removeDecorationType(t)}hasModel(){return this._modelData!==null}showDropIndicatorAt(t){const d=[{range:new M.e(t.lineNumber,t.column,t.lineNumber,t.column),options:_o.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(d),this.revealPosition(t,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}setContextValue(t,d){this._contextKeyService.createKey(t,d)}};or.dropIntoEditorDecorationOptions=pr.qx.register({description:"workbench-dnd-target",className:"dnd-target"}),or=_o=sa([Ks(3,Cn.TG),Ks(4,H.$),Ks(5,Ra.H),Ks(6,Is.i6),Ks(7,He.XE),Ks(8,ia.lT),Ks(9,V.F),Ks(10,mr.c_),Ks(11,_r.p)],or);let Oa=0;class Io{constructor(t,d,L,U,q,_e){this.model=t,this.viewModel=d,this.view=L,this.hasRealView=U,this.listenersToRemove=q,this.attachedView=_e}dispose(){(0,w.B9)(this.listenersToRemove),this.model.onBeforeDetached(this.attachedView),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}class Tr extends w.JT{constructor(t){super(),this._emitterOptions=t,this._onDidChangeToTrue=this._register(new R.Q5(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new R.Q5(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(t){const d=t?2:1;this._value!==d&&(this._value=d,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}class us extends R.Q5{constructor(t,d){super({deliveryQueue:d}),this._contributions=t}fire(t){this._contributions.onBeforeInteractionEvent(),super.fire(t)}}class Aa extends w.JT{constructor(t,d){super(),this._editor=t,d.createKey("editorId",t.getId()),this._editorSimpleInput=Zn.u.editorSimpleInput.bindTo(d),this._editorFocus=Zn.u.focus.bindTo(d),this._textInputFocus=Zn.u.textInputFocus.bindTo(d),this._editorTextFocus=Zn.u.editorTextFocus.bindTo(d),this._tabMovesFocus=Zn.u.tabMovesFocus.bindTo(d),this._editorReadonly=Zn.u.readOnly.bindTo(d),this._inDiffEditor=Zn.u.inDiffEditor.bindTo(d),this._editorColumnSelection=Zn.u.columnSelection.bindTo(d),this._hasMultipleSelections=Zn.u.hasMultipleSelections.bindTo(d),this._hasNonEmptySelection=Zn.u.hasNonEmptySelection.bindTo(d),this._canUndo=Zn.u.canUndo.bindTo(d),this._canRedo=Zn.u.canRedo.bindTo(d),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._register(_.n.onDidChangeTabFocus(L=>this._tabMovesFocus.set(L))),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const t=this._editor.getOptions();this._tabMovesFocus.set(_.n.getTabFocusMode()),this._editorReadonly.set(t.get(91)),this._inDiffEditor.set(t.get(61)),this._editorColumnSelection.set(t.get(22))}_updateFromSelection(){const t=this._editor.getSelections();t?(this._hasMultipleSelections.set(t.length>1),this._hasNonEmptySelection.set(t.some(d=>!d.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const t=this._editor.getModel();this._canUndo.set(!!(t&&t.canUndo())),this._canRedo.set(!!(t&&t.canRedo()))}}class Uo extends w.JT{constructor(t,d,L){super(),this._editor=t,this._contextKeyService=d,this._languageFeaturesService=L,this._langId=Zn.u.languageId.bindTo(d),this._hasCompletionItemProvider=Zn.u.hasCompletionItemProvider.bindTo(d),this._hasCodeActionsProvider=Zn.u.hasCodeActionsProvider.bindTo(d),this._hasCodeLensProvider=Zn.u.hasCodeLensProvider.bindTo(d),this._hasDefinitionProvider=Zn.u.hasDefinitionProvider.bindTo(d),this._hasDeclarationProvider=Zn.u.hasDeclarationProvider.bindTo(d),this._hasImplementationProvider=Zn.u.hasImplementationProvider.bindTo(d),this._hasTypeDefinitionProvider=Zn.u.hasTypeDefinitionProvider.bindTo(d),this._hasHoverProvider=Zn.u.hasHoverProvider.bindTo(d),this._hasDocumentHighlightProvider=Zn.u.hasDocumentHighlightProvider.bindTo(d),this._hasDocumentSymbolProvider=Zn.u.hasDocumentSymbolProvider.bindTo(d),this._hasReferenceProvider=Zn.u.hasReferenceProvider.bindTo(d),this._hasRenameProvider=Zn.u.hasRenameProvider.bindTo(d),this._hasSignatureHelpProvider=Zn.u.hasSignatureHelpProvider.bindTo(d),this._hasInlayHintsProvider=Zn.u.hasInlayHintsProvider.bindTo(d),this._hasDocumentFormattingProvider=Zn.u.hasDocumentFormattingProvider.bindTo(d),this._hasDocumentSelectionFormattingProvider=Zn.u.hasDocumentSelectionFormattingProvider.bindTo(d),this._hasMultipleDocumentFormattingProvider=Zn.u.hasMultipleDocumentFormattingProvider.bindTo(d),this._hasMultipleDocumentSelectionFormattingProvider=Zn.u.hasMultipleDocumentSelectionFormattingProvider.bindTo(d),this._isInEmbeddedEditor=Zn.u.isInEmbeddedEditor.bindTo(d);const U=()=>this._update();this._register(t.onDidChangeModel(U)),this._register(t.onDidChangeModelLanguage(U)),this._register(L.completionProvider.onDidChange(U)),this._register(L.codeActionProvider.onDidChange(U)),this._register(L.codeLensProvider.onDidChange(U)),this._register(L.definitionProvider.onDidChange(U)),this._register(L.declarationProvider.onDidChange(U)),this._register(L.implementationProvider.onDidChange(U)),this._register(L.typeDefinitionProvider.onDidChange(U)),this._register(L.hoverProvider.onDidChange(U)),this._register(L.documentHighlightProvider.onDidChange(U)),this._register(L.documentSymbolProvider.onDidChange(U)),this._register(L.referenceProvider.onDidChange(U)),this._register(L.renameProvider.onDidChange(U)),this._register(L.documentFormattingEditProvider.onDidChange(U)),this._register(L.documentRangeFormattingEditProvider.onDidChange(U)),this._register(L.signatureHelpProvider.onDidChange(U)),this._register(L.inlayHintsProvider.onDidChange(U)),U()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInEmbeddedEditor.reset()})}_update(){const t=this._editor.getModel();if(!t){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(t.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(t)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(t)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(t)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(t)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(t)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(t)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(t)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(t)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(t)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(t)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(t)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(t)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(t)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(t)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(t)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(t)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(t)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(t).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(t).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(t).length>1),this._isInEmbeddedEditor.set(t.uri.scheme===m.lg.walkThroughSnippet||t.uri.scheme===m.lg.vscodeChatCodeBlock)})}}class No extends w.JT{constructor(t,d){super(),this._onChange=this._register(new R.Q5),this.onChange=this._onChange.event,this._hadFocus=void 0,this._hasDomElementFocus=!1,this._domFocusTracker=this._register(p.go(t)),this._overflowWidgetsDomNodeHasFocus=!1,this._register(this._domFocusTracker.onDidFocus(()=>{this._hasDomElementFocus=!0,this._update()})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasDomElementFocus=!1,this._update()})),d&&(this._overflowWidgetsDomNode=this._register(p.go(d)),this._register(this._overflowWidgetsDomNode.onDidFocus(()=>{this._overflowWidgetsDomNodeHasFocus=!0,this._update()})),this._register(this._overflowWidgetsDomNode.onDidBlur(()=>{this._overflowWidgetsDomNodeHasFocus=!1,this._update()})))}_update(){const t=this._hasDomElementFocus||this._overflowWidgetsDomNodeHasFocus;this._hadFocus!==t&&(this._hadFocus=t,this._onChange.fire(void 0))}hasFocus(){var t;return(t=this._hadFocus)!==null&&t!==void 0?t:!1}}class vo{get length(){return this._decorationIds.length}constructor(t,d){this._editor=t,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(d)&&d.length>0&&this.set(d)}onDidChange(t,d,L){return this._editor.onDidChangeModelDecorations(U=>{this._isChangingDecorations||t.call(d,U)},L)}getRange(t){return!this._editor.hasModel()||t>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[t])}getRanges(){if(!this._editor.hasModel())return[];const t=this._editor.getModel(),d=[];for(const L of this._decorationIds){const U=t.getDecorationRange(L);U&&d.push(U)}return d}has(t){return this._decorationIds.includes(t.id)}clear(){this._decorationIds.length!==0&&this.set([])}set(t){try{this._isChangingDecorations=!0,this._editor.changeDecorations(d=>{this._decorationIds=d.deltaDecorations(this._decorationIds,t)})}finally{this._isChangingDecorations=!1}return this._decorationIds}append(t){let d=[];try{this._isChangingDecorations=!0,this._editor.changeDecorations(L=>{d=L.deltaDecorations([],t),this._decorationIds=this._decorationIds.concat(d)})}finally{this._isChangingDecorations=!1}return d}}const ka=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),Fa=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function Pr(Rt){return ka+encodeURIComponent(Rt.toString())+Fa}const rr=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),ar=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function oa(Rt){return rr+encodeURIComponent(Rt.toString())+ar}(0,He.Ic)((Rt,t)=>{const d=Rt.getColor(Hi.lXJ);d&&t.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${Pr(d)}") repeat-x bottom left; }`);const L=Rt.getColor(Hi.uoC);L&&t.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${Pr(L)}") repeat-x bottom left; }`);const U=Rt.getColor(Hi.c63);U&&t.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${Pr(U)}") repeat-x bottom left; }`);const q=Rt.getColor(Hi.Dut);q&&t.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${oa(q)}") no-repeat bottom left; }`);const _e=Rt.getColor(Ct.zu);_e&&t.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${_e.rgba.a}; }`)})},17604:function(et,Le,e){"use strict";e.d(Le,{H:function(){return i}});var o=e(94920),B=e(89226),x=e(79150),O=e(81275),S=e(70546),p=e(84935),E=e(83349),R=e(80568),w=e(87058),m=e(52994),g=e(63279),a=function(n,c,u,l){var D=arguments.length,f=D<3?c:l===null?l=Object.getOwnPropertyDescriptor(c,u):l,y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(n,c,u,l);else for(var C=n.length-1;C>=0;C--)(y=n[C])&&(f=(D<3?y(f):D>3?y(c,u,f):y(c,u))||f);return D>3&&f&&Object.defineProperty(c,u,f),f},r=function(n,c){return function(u,l){c(u,l,n)}};let i=class extends x.Gm{constructor(c,u,l,D,f,y,C,_,N,b,k,V,K){super(c,Ki(vi({},D.getRawOptions()),{overflowWidgetsDomNode:D.getOverflowWidgetsDomNode()}),l,f,y,C,_,N,b,k,V,K),this._parentEditor=D,this._overwriteOptions=u,super.updateOptions(this._overwriteOptions),this._register(D.onDidChangeConfiguration(Z=>this._onParentConfigurationChanged(Z)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(c){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(c){o.jB(this._overwriteOptions,c,!0),super.updateOptions(this._overwriteOptions)}};i=a([r(4,w.TG),r(5,B.$),r(6,E.H),r(7,R.i6),r(8,g.XE),r(9,m.lT),r(10,p.F),r(11,O.c_),r(12,S.p)],i)},63947:function(et,Le,e){"use strict";var o=e(24752),B=e(91540),x=e(92635),O=e(89226),S=e(21149),p=e(22706),E=e(61652),R=e(69713),w=e(48774),m=e(80568),g=e(90517);class a extends R.Ke{constructor(){super({id:"diffEditor.toggleCollapseUnchangedRegions",title:(0,E.vv)("toggleCollapseUnchangedRegions","Toggle Collapse Unchanged Regions"),icon:o.l.map,toggled:m.Ao.has("config.diffEditor.hideUnchangedRegions.enabled"),precondition:m.Ao.has("isInDiffEditor"),menu:{when:m.Ao.has("isInDiffEditor"),id:R.eH.EditorTitle,order:22,group:"navigation"}})}run(Z,...z){const A=Z.get(w.Ui),P=!A.getValue("diffEditor.hideUnchangedRegions.enabled");A.updateValue("diffEditor.hideUnchangedRegions.enabled",P)}}class r extends R.Ke{constructor(){super({id:"diffEditor.toggleShowMovedCodeBlocks",title:(0,E.vv)("toggleShowMovedCodeBlocks","Toggle Show Moved Code Blocks"),precondition:m.Ao.has("isInDiffEditor")})}run(Z,...z){const A=Z.get(w.Ui),P=!A.getValue("diffEditor.experimental.showMoves");A.updateValue("diffEditor.experimental.showMoves",P)}}class i extends R.Ke{constructor(){super({id:"diffEditor.toggleUseInlineViewWhenSpaceIsLimited",title:(0,E.vv)("toggleUseInlineViewWhenSpaceIsLimited","Toggle Use Inline View When Space Is Limited"),precondition:m.Ao.has("isInDiffEditor")})}run(Z,...z){const A=Z.get(w.Ui),P=!A.getValue("diffEditor.useInlineViewWhenSpaceIsLimited");A.updateValue("diffEditor.useInlineViewWhenSpaceIsLimited",P)}}const n=(0,E.vv)("diffEditor","Diff Editor");class c extends x.x1{constructor(){super({id:"diffEditor.switchSide",title:(0,E.vv)("switchSide","Switch Side"),icon:o.l.arrowSwap,precondition:m.Ao.has("isInDiffEditor"),f1:!0,category:n})}runEditorCommand(Z,z,A){const P=b(Z);if(P instanceof S.p){if(A&&A.dryRun)return{destinationSelection:P.mapToOtherSide().destinationSelection};P.switchSide()}}}class u extends x.x1{constructor(){super({id:"diffEditor.exitCompareMove",title:(0,E.vv)("exitCompareMove","Exit Compare Move"),icon:o.l.close,precondition:p.u.comparingMovedCode,f1:!1,category:n,keybinding:{weight:1e4,primary:9}})}runEditorCommand(Z,z,...A){const P=b(Z);P instanceof S.p&&P.exitCompareMove()}}class l extends x.x1{constructor(){super({id:"diffEditor.collapseAllUnchangedRegions",title:(0,E.vv)("collapseAllUnchangedRegions","Collapse All Unchanged Regions"),icon:o.l.fold,precondition:m.Ao.has("isInDiffEditor"),f1:!0,category:n})}runEditorCommand(Z,z,...A){const P=b(Z);P instanceof S.p&&P.collapseAllUnchangedRegions()}}class D extends x.x1{constructor(){super({id:"diffEditor.showAllUnchangedRegions",title:(0,E.vv)("showAllUnchangedRegions","Show All Unchanged Regions"),icon:o.l.unfold,precondition:m.Ao.has("isInDiffEditor"),f1:!0,category:n})}runEditorCommand(Z,z,...A){const P=b(Z);P instanceof S.p&&P.showAllUnchangedRegions()}}class f extends R.Ke{constructor(){super({id:"diffEditor.revert",title:(0,E.vv)("revert","Revert"),f1:!1,category:n})}run(Z,z){var A;const P=N(Z,z.originalUri,z.modifiedUri);P instanceof S.p&&P.revertRangeMappings((A=z.mapping.innerChanges)!==null&&A!==void 0?A:[])}}const y=(0,E.vv)("accessibleDiffViewer","Accessible Diff Viewer");class C extends R.Ke{constructor(){super({id:C.id,title:(0,E.vv)("editor.action.accessibleDiffViewer.next","Go to Next Difference"),category:y,precondition:m.Ao.has("isInDiffEditor"),keybinding:{primary:65,weight:100},f1:!0})}run(Z){const z=b(Z);z==null||z.accessibleDiffViewerNext()}}C.id="editor.action.accessibleDiffViewer.next";class _ extends R.Ke{constructor(){super({id:_.id,title:(0,E.vv)("editor.action.accessibleDiffViewer.prev","Go to Previous Difference"),category:y,precondition:m.Ao.has("isInDiffEditor"),keybinding:{primary:1089,weight:100},f1:!0})}run(Z){const z=b(Z);z==null||z.accessibleDiffViewerPrev()}}_.id="editor.action.accessibleDiffViewer.prev";function N(K,Z,z){return K.get(O.$).listDiffEditors().find(I=>{var W,G;const j=I.getModifiedEditor(),Y=I.getOriginalEditor();return j&&((W=j.getModel())===null||W===void 0?void 0:W.uri.toString())===z.toString()&&Y&&((G=Y.getModel())===null||G===void 0?void 0:G.uri.toString())===Z.toString()})||null}function b(K){const z=K.get(O.$).listDiffEditors(),A=(0,B.vY)();if(A)for(const P of z){const I=P.getContainerDomNode();if(k(I,A))return P}return null}function k(K,Z){let z=Z;for(;z;){if(z===K)return!0;z=z.parentElement}return!1}var V=e(83349);(0,R.r1)(a),(0,R.r1)(r),(0,R.r1)(i),R.BH.appendMenuItem(R.eH.EditorTitle,{command:{id:new i().desc.id,title:(0,E.NC)("useInlineViewWhenSpaceIsLimited","Use Inline View When Space Is Limited"),toggled:m.Ao.has("config.diffEditor.useInlineViewWhenSpaceIsLimited"),precondition:m.Ao.has("isInDiffEditor")},order:11,group:"1_diff",when:m.Ao.and(p.u.diffEditorRenderSideBySideInlineBreakpointReached,m.Ao.has("isInDiffEditor"))}),R.BH.appendMenuItem(R.eH.EditorTitle,{command:{id:new r().desc.id,title:(0,E.NC)("showMoves","Show Moved Code Blocks"),icon:o.l.move,toggled:m.cP.create("config.diffEditor.experimental.showMoves",!0),precondition:m.Ao.has("isInDiffEditor")},order:10,group:"1_diff",when:m.Ao.has("isInDiffEditor")}),(0,R.r1)(f);for(const K of[{icon:o.l.arrowRight,key:p.u.diffEditorInlineMode.toNegated()},{icon:o.l.discard,key:p.u.diffEditorInlineMode}])R.BH.appendMenuItem(R.eH.DiffEditorHunkToolbar,{command:{id:new f().desc.id,title:(0,E.NC)("revertHunk","Revert Block"),icon:K.icon},when:m.Ao.and(p.u.diffEditorModifiedWritable,K.key),order:5,group:"primary"}),R.BH.appendMenuItem(R.eH.DiffEditorSelectionToolbar,{command:{id:new f().desc.id,title:(0,E.NC)("revertSelection","Revert Selection"),icon:K.icon},when:m.Ao.and(p.u.diffEditorModifiedWritable,K.key),order:5,group:"primary"});(0,R.r1)(c),(0,R.r1)(u),(0,R.r1)(l),(0,R.r1)(D),R.BH.appendMenuItem(R.eH.EditorTitle,{command:{id:C.id,title:(0,E.NC)("Open Accessible Diff Viewer","Open Accessible Diff Viewer"),precondition:m.Ao.has("isInDiffEditor")},order:10,group:"2_diff",when:m.Ao.and(p.u.accessibleDiffViewerVisible.negate(),m.Ao.has("isInDiffEditor"))}),V.P.registerCommandAlias("editor.action.diffReview.next",C.id),(0,R.r1)(C),V.P.registerCommandAlias("editor.action.diffReview.prev",_.id),(0,R.r1)(_)},21149:function(et,Le,e){"use strict";e.d(Le,{p:function(){return rn}});var o=e(91540),B=e(15864),x=e(25602),O=e(79329),S=e(45029),p=e(17009),E=e(55162),R=e(92635),w=e(89226),m=e(1356),g=e(79150),a=e(73275),r=e(318),i=e(16846),n=e(43263),c=e(71221),u=e(24752),l=e(68777),D=e(43901),f=e(75605),y=e(75625),C=e(56348),_=e(98718),N=e(93895),b=e(4694),k=e(83987),V=e(50131),K=e(25114),Z=e(65158),z=e(57822),A=e(61652),P=e(75881),I=e(87058),W=e(76557),G=function(fi,Je,Pt,Wt){var Yt=arguments.length,Vt=Yt<3?Je:Wt===null?Wt=Object.getOwnPropertyDescriptor(Je,Pt):Wt,St;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Vt=Reflect.decorate(fi,Je,Pt,Wt);else for(var Kt=fi.length-1;Kt>=0;Kt--)(St=fi[Kt])&&(Vt=(Yt<3?St(Vt):Yt>3?St(Je,Pt,Vt):St(Je,Pt))||Vt);return Yt>3&&Vt&&Object.defineProperty(Je,Pt,Vt),Vt},j=function(fi,Je){return function(Pt,Wt){Je(Pt,Wt,fi)}};const Y=(0,W.q5)("diff-review-insert",u.l.add,(0,A.NC)("accessibleDiffViewerInsertIcon","Icon for 'Insert' in accessible diff viewer.")),H=(0,W.q5)("diff-review-remove",u.l.remove,(0,A.NC)("accessibleDiffViewerRemoveIcon","Icon for 'Remove' in accessible diff viewer.")),Q=(0,W.q5)("diff-review-close",u.l.close,(0,A.NC)("accessibleDiffViewerCloseIcon","Icon for 'Close' in accessible diff viewer."));let ie=class extends S.JT{constructor(Je,Pt,Wt,Yt,Vt,St,Kt,ei,Ei){super(),this._parentNode=Je,this._visible=Pt,this._setVisible=Wt,this._canClose=Yt,this._width=Vt,this._height=St,this._diffs=Kt,this._models=ei,this._instantiationService=Ei,this._state=(0,p.Be)(this,(Li,yi)=>{const bi=this._visible.read(Li);if(this._parentNode.style.visibility=bi?"visible":"hidden",!bi)return null;const Ui=yi.add(this._instantiationService.createInstance(te,this._diffs,this._models,this._setVisible,this._canClose)),Pi=yi.add(this._instantiationService.createInstance(ye,this._parentNode,Ui,this._width,this._height,this._models));return{model:Ui,view:Pi}}).recomputeInitiallyAndOnChange(this._store)}next(){(0,p.PS)(Je=>{const Pt=this._visible.get();this._setVisible(!0,Je),Pt&&this._state.get().model.nextGroup(Je)})}prev(){(0,p.PS)(Je=>{this._setVisible(!0,Je),this._state.get().model.previousGroup(Je)})}close(){(0,p.PS)(Je=>{this._setVisible(!1,Je)})}};ie._ttPolicy=(0,a.Z)("diffReview",{createHTML:fi=>fi}),ie=G([j(8,I.TG)],ie);let te=class extends S.JT{constructor(Je,Pt,Wt,Yt,Vt){super(),this._diffs=Je,this._models=Pt,this._setVisible=Wt,this.canClose=Yt,this._accessibilitySignalService=Vt,this._groups=(0,p.uh)(this,[]),this._currentGroupIdx=(0,p.uh)(this,0),this._currentElementIdx=(0,p.uh)(this,0),this.groups=this._groups,this.currentGroup=this._currentGroupIdx.map((St,Kt)=>this._groups.read(Kt)[St]),this.currentGroupIndex=this._currentGroupIdx,this.currentElement=this._currentElementIdx.map((St,Kt)=>{var ei;return(ei=this.currentGroup.read(Kt))===null||ei===void 0?void 0:ei.lines[St]}),this._register((0,p.EH)(St=>{const Kt=this._diffs.read(St);if(!Kt){this._groups.set([],void 0);return}const ei=ne(Kt,this._models.getOriginalModel().getLineCount(),this._models.getModifiedModel().getLineCount());(0,p.PS)(Ei=>{const Li=this._models.getModifiedPosition();if(Li){const yi=ei.findIndex(bi=>(Li==null?void 0:Li.lineNumber)<bi.range.modified.endLineNumberExclusive);yi!==-1&&this._currentGroupIdx.set(yi,Ei)}this._groups.set(ei,Ei)})})),this._register((0,p.EH)(St=>{const Kt=this.currentElement.read(St);(Kt==null?void 0:Kt.type)===ee.Deleted?this._accessibilitySignalService.playSignal(P.iP.diffLineDeleted,{source:"accessibleDiffViewer.currentElementChanged"}):(Kt==null?void 0:Kt.type)===ee.Added&&this._accessibilitySignalService.playSignal(P.iP.diffLineInserted,{source:"accessibleDiffViewer.currentElementChanged"})})),this._register((0,p.EH)(St=>{var Kt;const ei=this.currentElement.read(St);if(ei&&ei.type!==ee.Header){const Ei=(Kt=ei.modifiedLineNumber)!==null&&Kt!==void 0?Kt:ei.diff.modified.startLineNumber;this._models.modifiedSetSelection(b.e.fromPositions(new N.L(Ei,1)))}}))}_goToGroupDelta(Je,Pt){const Wt=this.groups.get();!Wt||Wt.length<=1||(0,p.c8)(Pt,Yt=>{this._currentGroupIdx.set(_.q.ofLength(Wt.length).clipCyclic(this._currentGroupIdx.get()+Je),Yt),this._currentElementIdx.set(0,Yt)})}nextGroup(Je){this._goToGroupDelta(1,Je)}previousGroup(Je){this._goToGroupDelta(-1,Je)}_goToLineDelta(Je){const Pt=this.currentGroup.get();!Pt||Pt.lines.length<=1||(0,p.PS)(Wt=>{this._currentElementIdx.set(_.q.ofLength(Pt.lines.length).clip(this._currentElementIdx.get()+Je),Wt)})}goToNextLine(){this._goToLineDelta(1)}goToPreviousLine(){this._goToLineDelta(-1)}goToLine(Je){const Pt=this.currentGroup.get();if(!Pt)return;const Wt=Pt.lines.indexOf(Je);Wt!==-1&&(0,p.PS)(Yt=>{this._currentElementIdx.set(Wt,Yt)})}revealCurrentElementInEditor(){if(!this.canClose.get())return;this._setVisible(!1,void 0);const Je=this.currentElement.get();Je&&(Je.type===ee.Deleted?this._models.originalReveal(b.e.fromPositions(new N.L(Je.originalLineNumber,1))):this._models.modifiedReveal(Je.type!==ee.Header?b.e.fromPositions(new N.L(Je.modifiedLineNumber,1)):void 0))}close(){this.canClose.get()&&(this._setVisible(!1,void 0),this._models.modifiedFocus())}};te=G([j(4,P.IV)],te);const se=3;function ne(fi,Je,Pt){const Wt=[];for(const Yt of(0,c.mw)(fi,(Vt,St)=>St.modified.startLineNumber-Vt.modified.endLineNumberExclusive<2*se)){const Vt=[];Vt.push(new he);const St=new C.z(Math.max(1,Yt[0].original.startLineNumber-se),Math.min(Yt[Yt.length-1].original.endLineNumberExclusive+se,Je+1)),Kt=new C.z(Math.max(1,Yt[0].modified.startLineNumber-se),Math.min(Yt[Yt.length-1].modified.endLineNumberExclusive+se,Pt+1));(0,c.zy)(Yt,(Li,yi)=>{const bi=new C.z(Li?Li.original.endLineNumberExclusive:St.startLineNumber,yi?yi.original.startLineNumber:St.endLineNumberExclusive),Ui=new C.z(Li?Li.modified.endLineNumberExclusive:Kt.startLineNumber,yi?yi.modified.startLineNumber:Kt.endLineNumberExclusive);bi.forEach(Pi=>{Vt.push(new We(Pi,Ui.startLineNumber+(Pi-bi.startLineNumber)))}),yi&&(yi.original.forEach(Pi=>{Vt.push(new M(yi,Pi))}),yi.modified.forEach(Pi=>{Vt.push(new we(yi,Pi))}))});const ei=Yt[0].modified.join(Yt[Yt.length-1].modified),Ei=Yt[0].original.join(Yt[Yt.length-1].original);Wt.push(new re(new k.f0(ei,Ei),Vt))}return Wt}var ee;(function(fi){fi[fi.Header=0]="Header",fi[fi.Unchanged=1]="Unchanged",fi[fi.Deleted=2]="Deleted",fi[fi.Added=3]="Added"})(ee||(ee={}));class re{constructor(Je,Pt){this.range=Je,this.lines=Pt}}class he{constructor(){this.type=ee.Header}}class M{constructor(Je,Pt){this.diff=Je,this.originalLineNumber=Pt,this.type=ee.Deleted,this.modifiedLineNumber=void 0}}class we{constructor(Je,Pt){this.diff=Je,this.modifiedLineNumber=Pt,this.type=ee.Added,this.originalLineNumber=void 0}}class We{constructor(Je,Pt){this.originalLineNumber=Je,this.modifiedLineNumber=Pt,this.type=ee.Unchanged}}let ye=class extends S.JT{constructor(Je,Pt,Wt,Yt,Vt,St){super(),this._element=Je,this._model=Pt,this._width=Wt,this._height=Yt,this._models=Vt,this._languageService=St,this.domNode=this._element,this.domNode.className="monaco-component diff-review monaco-editor-background";const Kt=document.createElement("div");Kt.className="diff-review-actions",this._actionBar=this._register(new r.o(Kt)),this._register((0,p.EH)(ei=>{this._actionBar.clear(),this._model.canClose.read(ei)&&this._actionBar.push(new n.aU("diffreview.close",(0,A.NC)("label.close","Close"),"close-diff-review "+l.k.asClassName(Q),!0,()=>Ft(this,null,function*(){return Pt.close()})),{label:!1,icon:!0})})),this._content=document.createElement("div"),this._content.className="diff-review-content",this._content.setAttribute("role","code"),this._scrollbar=this._register(new i.s$(this._content,{})),(0,o.mc)(this.domNode,this._scrollbar.getDomNode(),Kt),this._register((0,p.EH)(ei=>{this._height.read(ei),this._width.read(ei),this._scrollbar.scanDomNode()})),this._register((0,S.OF)(()=>{(0,o.mc)(this.domNode)})),this._register((0,f.bg)(this.domNode,{width:this._width,height:this._height})),this._register((0,f.bg)(this._content,{width:this._width,height:this._height})),this._register((0,p.gp)((ei,Ei)=>{this._model.currentGroup.read(ei),this._render(Ei)})),this._register((0,o.mu)(this.domNode,"keydown",ei=>{(ei.equals(18)||ei.equals(2066)||ei.equals(530))&&(ei.preventDefault(),this._model.goToNextLine()),(ei.equals(16)||ei.equals(2064)||ei.equals(528))&&(ei.preventDefault(),this._model.goToPreviousLine()),(ei.equals(9)||ei.equals(2057)||ei.equals(521)||ei.equals(1033))&&(ei.preventDefault(),this._model.close()),(ei.equals(10)||ei.equals(3))&&(ei.preventDefault(),this._model.revealCurrentElementInEditor())}))}_render(Je){const Pt=this._models.getOriginalOptions(),Wt=this._models.getModifiedOptions(),Yt=document.createElement("div");Yt.className="diff-review-table",Yt.setAttribute("role","list"),Yt.setAttribute("aria-label",(0,A.NC)("ariaLabel","Accessible Diff Viewer. Use arrow up and down to navigate.")),(0,D.N)(Yt,Wt.get(50)),(0,o.mc)(this._content,Yt);const Vt=this._models.getOriginalModel(),St=this._models.getModifiedModel();if(!Vt||!St)return;const Kt=Vt.getOptions(),ei=St.getOptions(),Ei=Wt.get(67),Li=this._model.currentGroup.get();for(const yi of(Li==null?void 0:Li.lines)||[]){if(!Li)break;let bi;if(yi.type===ee.Header){const Pi=document.createElement("div");Pi.className="diff-review-row",Pi.setAttribute("role","listitem");const Xi=Li.range,nn=this._model.currentGroupIndex.get(),Sn=this._model.groups.get().length,Mn=ce=>ce===0?(0,A.NC)("no_lines_changed","no lines changed"):ce===1?(0,A.NC)("one_line_changed","1 line changed"):(0,A.NC)("more_lines_changed","{0} lines changed",ce),wt=Mn(Xi.original.length),T=Mn(Xi.modified.length);Pi.setAttribute("aria-label",(0,A.NC)({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",nn+1,Sn,Xi.original.startLineNumber,wt,Xi.modified.startLineNumber,T));const J=document.createElement("div");J.className="diff-review-cell diff-review-summary",J.appendChild(document.createTextNode(`${nn+1}/${Sn}: @@ -${Xi.original.startLineNumber},${Xi.original.length} +${Xi.modified.startLineNumber},${Xi.modified.length} @@`)),Pi.appendChild(J),bi=Pi}else bi=this._createRow(yi,Ei,this._width.get(),Pt,Vt,Kt,Wt,St,ei);Yt.appendChild(bi);const Ui=(0,p.nK)(Pi=>this._model.currentElement.read(Pi)===yi);Je.add((0,p.EH)(Pi=>{const Xi=Ui.read(Pi);bi.tabIndex=Xi?0:-1,Xi&&bi.focus()})),Je.add((0,o.nm)(bi,"focus",()=>{this._model.goToLine(yi)}))}this._scrollbar.scanDomNode()}_createRow(Je,Pt,Wt,Yt,Vt,St,Kt,ei,Ei){const Li=Yt.get(145),yi=Li.glyphMarginWidth+Li.lineNumbersWidth,bi=Kt.get(145),Ui=10+bi.glyphMarginWidth+bi.lineNumbersWidth;let Pi="diff-review-row",Xi="";const nn="diff-review-spacer";let Sn=null;switch(Je.type){case ee.Added:Pi="diff-review-row line-insert",Xi=" char-insert",Sn=Y;break;case ee.Deleted:Pi="diff-review-row line-delete",Xi=" char-delete",Sn=H;break}const Mn=document.createElement("div");Mn.style.minWidth=Wt+"px",Mn.className=Pi,Mn.setAttribute("role","listitem"),Mn.ariaLevel="";const wt=document.createElement("div");wt.className="diff-review-cell",wt.style.height=`${Pt}px`,Mn.appendChild(wt);const T=document.createElement("span");T.style.width=yi+"px",T.style.minWidth=yi+"px",T.className="diff-review-line-number"+Xi,Je.originalLineNumber!==void 0?T.appendChild(document.createTextNode(String(Je.originalLineNumber))):T.innerText="\xA0",wt.appendChild(T);const J=document.createElement("span");J.style.width=Ui+"px",J.style.minWidth=Ui+"px",J.style.paddingRight="10px",J.className="diff-review-line-number"+Xi,Je.modifiedLineNumber!==void 0?J.appendChild(document.createTextNode(String(Je.modifiedLineNumber))):J.innerText="\xA0",wt.appendChild(J);const ce=document.createElement("span");if(ce.className=nn,Sn){const Xe=document.createElement("span");Xe.className=l.k.asClassName(Sn),Xe.innerText="\xA0\xA0",ce.appendChild(Xe)}else ce.innerText="\xA0\xA0";wt.appendChild(ce);let Re;if(Je.modifiedLineNumber!==void 0){let Xe=this._getLineHtml(ei,Kt,Ei.tabSize,Je.modifiedLineNumber,this._languageService.languageIdCodec);ie._ttPolicy&&(Xe=ie._ttPolicy.createHTML(Xe)),wt.insertAdjacentHTML("beforeend",Xe),Re=ei.getLineContent(Je.modifiedLineNumber)}else{let Xe=this._getLineHtml(Vt,Yt,St.tabSize,Je.originalLineNumber,this._languageService.languageIdCodec);ie._ttPolicy&&(Xe=ie._ttPolicy.createHTML(Xe)),wt.insertAdjacentHTML("beforeend",Xe),Re=Vt.getLineContent(Je.originalLineNumber)}Re.length===0&&(Re=(0,A.NC)("blankLine","blank"));let Be="";switch(Je.type){case ee.Unchanged:Je.originalLineNumber===Je.modifiedLineNumber?Be=(0,A.NC)({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",Re,Je.originalLineNumber):Be=(0,A.NC)("equalLine","{0} original line {1} modified line {2}",Re,Je.originalLineNumber,Je.modifiedLineNumber);break;case ee.Added:Be=(0,A.NC)("insertLine","+ {0} modified line {1}",Re,Je.modifiedLineNumber);break;case ee.Deleted:Be=(0,A.NC)("deleteLine","- {0} original line {1}",Re,Je.originalLineNumber);break}return Mn.setAttribute("aria-label",Be),Mn}_getLineHtml(Je,Pt,Wt,Yt,Vt){const St=Je.getLineContent(Yt),Kt=Pt.get(50),ei=K.A.createEmpty(St,Vt),Ei=z.wA.isBasicASCII(St,Je.mightContainNonBasicASCII()),Li=z.wA.containsRTL(St,Ei,Je.mightContainRTL());return(0,Z.tF)(new Z.IJ(Kt.isMonospace&&!Pt.get(33),Kt.canUseHalfwidthRightwardsArrow,St,!1,Ei,Li,0,ei,[],Wt,0,Kt.spaceWidth,Kt.middotWidth,Kt.wsmiddotWidth,Pt.get(117),Pt.get(99),Pt.get(94),Pt.get(51)!==y.n0.OFF,null)).html}};ye=G([j(5,V.O)],ye);class X{constructor(Je){this.editors=Je}getOriginalModel(){return this.editors.original.getModel()}getOriginalOptions(){return this.editors.original.getOptions()}originalReveal(Je){this.editors.original.revealRange(Je),this.editors.original.setSelection(Je),this.editors.original.focus()}getModifiedModel(){return this.editors.modified.getModel()}getModifiedOptions(){return this.editors.modified.getOptions()}modifiedReveal(Je){Je&&(this.editors.modified.revealRange(Je),this.editors.modified.setSelection(Je)),this.editors.modified.focus()}modifiedSetSelection(Je){this.editors.modified.setSelection(Je)}modifiedFocus(){this.editors.modified.focus()}getModifiedPosition(){var Je;return(Je=this.editors.modified.getPosition())!==null&&Je!==void 0?Je:void 0}}class ve extends S.JT{constructor(Je,Pt,Wt,Yt,Vt){super(),this._rootElement=Je,this._diffModel=Pt,this._originalEditorLayoutInfo=Wt,this._modifiedEditorLayoutInfo=Yt,this._editors=Vt,this._originalScrollTop=(0,p.rD)(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=(0,p.rD)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._viewZonesChanged=(0,p.aq)("onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this.width=(0,p.uh)(this,0),this._modifiedViewZonesChangedSignal=(0,p.aq)("modified.onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this._originalViewZonesChangedSignal=(0,p.aq)("original.onDidChangeViewZones",this._editors.original.onDidChangeViewZones),this._state=(0,p.Be)(this,(Li,yi)=>{var bi;this._element.replaceChildren();const Ui=this._diffModel.read(Li),Pi=(bi=Ui==null?void 0:Ui.diff.read(Li))===null||bi===void 0?void 0:bi.movedTexts;if(!Pi||Pi.length===0){this.width.set(0,void 0);return}this._viewZonesChanged.read(Li);const Xi=this._originalEditorLayoutInfo.read(Li),nn=this._modifiedEditorLayoutInfo.read(Li);if(!Xi||!nn){this.width.set(0,void 0);return}this._modifiedViewZonesChangedSignal.read(Li),this._originalViewZonesChangedSignal.read(Li);const Sn=Pi.map(Be=>{function Xe(Mi,Fi){const Yi=Fi.getTopForLineNumber(Mi.startLineNumber,!0),mn=Fi.getTopForLineNumber(Mi.endLineNumberExclusive,!0);return(Yi+mn)/2}const Et=Xe(Be.lineRangeMapping.original,this._editors.original),It=this._originalScrollTop.read(Li),ni=Xe(Be.lineRangeMapping.modified,this._editors.modified),si=this._modifiedScrollTop.read(Li),Xt=Et-It,ri=ni-si,ui=Math.min(Et,ni),xi=Math.max(Et,ni);return{range:new _.q(ui,xi),from:Xt,to:ri,fromWithoutScroll:Et,toWithoutScroll:ni,move:Be}});Sn.sort((0,c.f_)((0,c.tT)(Be=>Be.fromWithoutScroll>Be.toWithoutScroll,c.nW),(0,c.tT)(Be=>Be.fromWithoutScroll>Be.toWithoutScroll?Be.fromWithoutScroll:-Be.toWithoutScroll,c.fv)));const Mn=Ee.compute(Sn.map(Be=>Be.range)),wt=10,T=Xi.verticalScrollbarWidth,J=(Mn.getTrackCount()-1)*10+wt*2,ce=T+J+(nn.contentLeft-ve.movedCodeBlockPadding);let Re=0;for(const Be of Sn){const Xe=Mn.getTrack(Re),Et=T+wt+Xe*10,It=15,ni=15,si=ce,Xt=nn.glyphMarginWidth+nn.lineNumbersWidth,ri=18,ui=document.createElementNS("http://www.w3.org/2000/svg","rect");ui.classList.add("arrow-rectangle"),ui.setAttribute("x",`${si-Xt}`),ui.setAttribute("y",`${Be.to-ri/2}`),ui.setAttribute("width",`${Xt}`),ui.setAttribute("height",`${ri}`),this._element.appendChild(ui);const xi=document.createElementNS("http://www.w3.org/2000/svg","g"),Mi=document.createElementNS("http://www.w3.org/2000/svg","path");Mi.setAttribute("d",`M 0 ${Be.from} L ${Et} ${Be.from} L ${Et} ${Be.to} L ${si-ni} ${Be.to}`),Mi.setAttribute("fill","none"),xi.appendChild(Mi);const Fi=document.createElementNS("http://www.w3.org/2000/svg","polygon");Fi.classList.add("arrow"),yi.add((0,p.EH)(Yi=>{Mi.classList.toggle("currentMove",Be.move===Ui.activeMovedText.read(Yi)),Fi.classList.toggle("currentMove",Be.move===Ui.activeMovedText.read(Yi))})),Fi.setAttribute("points",`${si-ni},${Be.to-It/2} ${si},${Be.to} ${si-ni},${Be.to+It/2}`),xi.appendChild(Fi),this._element.appendChild(xi),Re++}this.width.set(J,void 0)}),this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("class","moved-blocks-lines"),this._rootElement.appendChild(this._element),this._register((0,S.OF)(()=>this._element.remove())),this._register((0,p.EH)(Li=>{const yi=this._originalEditorLayoutInfo.read(Li),bi=this._modifiedEditorLayoutInfo.read(Li);!yi||!bi||(this._element.style.left=`${yi.width-yi.verticalScrollbarWidth}px`,this._element.style.height=`${yi.height}px`,this._element.style.width=`${yi.verticalScrollbarWidth+yi.contentLeft-ve.movedCodeBlockPadding+this.width.read(Li)}px`)})),this._register((0,p.jx)(this._state));const St=(0,p.nK)(Li=>{const yi=this._diffModel.read(Li),bi=yi==null?void 0:yi.diff.read(Li);return bi?bi.movedTexts.map(Ui=>({move:Ui,original:new f.GD((0,p.Dz)(Ui.lineRangeMapping.original.startLineNumber-1),18),modified:new f.GD((0,p.Dz)(Ui.lineRangeMapping.modified.startLineNumber-1),18)})):[]});this._register((0,f.Sv)(this._editors.original,St.map(Li=>Li.map(yi=>yi.original)))),this._register((0,f.Sv)(this._editors.modified,St.map(Li=>Li.map(yi=>yi.modified)))),this._register((0,p.gp)((Li,yi)=>{const bi=St.read(Li);for(const Ui of bi)yi.add(new Oe(this._editors.original,Ui.original,Ui.move,"original",this._diffModel.get())),yi.add(new Oe(this._editors.modified,Ui.modified,Ui.move,"modified",this._diffModel.get()))}));const Kt=(0,p.aq)("original.onDidFocusEditorWidget",Li=>this._editors.original.onDidFocusEditorWidget(()=>setTimeout(()=>Li(void 0),0))),ei=(0,p.aq)("modified.onDidFocusEditorWidget",Li=>this._editors.modified.onDidFocusEditorWidget(()=>setTimeout(()=>Li(void 0),0)));let Ei="modified";this._register((0,p.nJ)({createEmptyChangeSummary:()=>{},handleChange:(Li,yi)=>(Li.didChange(Kt)&&(Ei="original"),Li.didChange(ei)&&(Ei="modified"),!0)},Li=>{Kt.read(Li),ei.read(Li);const yi=this._diffModel.read(Li);if(!yi)return;const bi=yi.diff.read(Li);let Ui;if(bi&&Ei==="original"){const Pi=this._editors.originalCursor.read(Li);Pi&&(Ui=bi.movedTexts.find(Xi=>Xi.lineRangeMapping.original.contains(Pi.lineNumber)))}if(bi&&Ei==="modified"){const Pi=this._editors.modifiedCursor.read(Li);Pi&&(Ui=bi.movedTexts.find(Xi=>Xi.lineRangeMapping.modified.contains(Pi.lineNumber)))}Ui!==yi.movedTextToCompare.get()&&yi.movedTextToCompare.set(void 0,void 0),yi.setActiveMovedText(Ui)}))}}ve.movedCodeBlockPadding=4;class Ee{static compute(Je){const Pt=[],Wt=[];for(const Yt of Je){let Vt=Pt.findIndex(St=>!St.intersectsStrict(Yt));Vt===-1&&(Pt.length>=6?Vt=(0,B.Y0)(Pt,(0,c.tT)(Kt=>Kt.intersectWithRangeLength(Yt),c.fv)):(Vt=Pt.length,Pt.push(new _.M))),Pt[Vt].addRange(Yt),Wt.push(Vt)}return new Ee(Pt.length,Wt)}constructor(Je,Pt){this._trackCount=Je,this.trackPerLineIdx=Pt}getTrack(Je){return this.trackPerLineIdx[Je]}getTrackCount(){return this._trackCount}}class Oe extends f.N9{constructor(Je,Pt,Wt,Yt,Vt){const St=(0,o.h)("div.diff-hidden-lines-widget");super(Je,Pt,St.root),this._editor=Je,this._move=Wt,this._kind=Yt,this._diffModel=Vt,this._nodes=(0,o.h)("div.diff-moved-code-block",{style:{marginRight:"4px"}},[(0,o.h)("div.text-content@textContent"),(0,o.h)("div.action-bar@actionBar")]),St.root.appendChild(this._nodes.root);const Kt=(0,p.rD)(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());this._register((0,f.bg)(this._nodes.root,{paddingRight:Kt.map(bi=>bi.verticalScrollbarWidth)}));let ei;Wt.changes.length>0?ei=this._kind==="original"?(0,A.NC)("codeMovedToWithChanges","Code moved with changes to line {0}-{1}",this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):(0,A.NC)("codeMovedFromWithChanges","Code moved with changes from line {0}-{1}",this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1):ei=this._kind==="original"?(0,A.NC)("codeMovedTo","Code moved to line {0}-{1}",this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):(0,A.NC)("codeMovedFrom","Code moved from line {0}-{1}",this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1);const Ei=this._register(new r.o(this._nodes.actionBar,{highlightToggledItems:!0})),Li=new n.aU("",ei,"",!1);Ei.push(Li,{icon:!1,label:!0});const yi=new n.aU("","Compare",l.k.asClassName(u.l.compareChanges),!0,()=>{this._editor.focus(),this._diffModel.movedTextToCompare.set(this._diffModel.movedTextToCompare.get()===Wt?void 0:this._move,void 0)});this._register((0,p.EH)(bi=>{const Ui=this._diffModel.movedTextToCompare.read(bi)===Wt;yi.checked=Ui})),Ei.push(yi,{icon:!1,label:!0})}}var Ke=e(90517);class Qe extends S.JT{constructor(Je,Pt,Wt,Yt){super(),this._editors=Je,this._diffModel=Pt,this._options=Wt,this._decorations=(0,p.nK)(this,Vt=>{var St;const Kt=(St=this._diffModel.read(Vt))===null||St===void 0?void 0:St.diff.read(Vt);if(!Kt)return null;const ei=this._diffModel.read(Vt).movedTextToCompare.read(Vt),Ei=this._options.renderIndicators.read(Vt),Li=this._options.showEmptyDecorations.read(Vt),yi=[],bi=[];if(!ei)for(const Pi of Kt.mappings)if(Pi.lineRangeMapping.original.isEmpty||yi.push({range:Pi.lineRangeMapping.original.toInclusiveRange(),options:Ei?Ke.iq:Ke.i_}),Pi.lineRangeMapping.modified.isEmpty||bi.push({range:Pi.lineRangeMapping.modified.toInclusiveRange(),options:Ei?Ke.vv:Ke.rd}),Pi.lineRangeMapping.modified.isEmpty||Pi.lineRangeMapping.original.isEmpty)Pi.lineRangeMapping.original.isEmpty||yi.push({range:Pi.lineRangeMapping.original.toInclusiveRange(),options:Ke.W3}),Pi.lineRangeMapping.modified.isEmpty||bi.push({range:Pi.lineRangeMapping.modified.toInclusiveRange(),options:Ke.Jv});else for(const Xi of Pi.lineRangeMapping.innerChanges||[])Pi.lineRangeMapping.original.contains(Xi.originalRange.startLineNumber)&&yi.push({range:Xi.originalRange,options:Xi.originalRange.isEmpty()&&Li?Ke.$F:Ke.rq}),Pi.lineRangeMapping.modified.contains(Xi.modifiedRange.startLineNumber)&&bi.push({range:Xi.modifiedRange,options:Xi.modifiedRange.isEmpty()&&Li?Ke.n_:Ke.LE});if(ei)for(const Pi of ei.changes){const Xi=Pi.original.toInclusiveRange();Xi&&yi.push({range:Xi,options:Ei?Ke.iq:Ke.i_});const nn=Pi.modified.toInclusiveRange();nn&&bi.push({range:nn,options:Ei?Ke.vv:Ke.rd});for(const Sn of Pi.innerChanges||[])yi.push({range:Sn.originalRange,options:Ke.rq}),bi.push({range:Sn.modifiedRange,options:Ke.LE})}const Ui=this._diffModel.read(Vt).activeMovedText.read(Vt);for(const Pi of Kt.movedTexts)yi.push({range:Pi.lineRangeMapping.original.toInclusiveRange(),options:{description:"moved",blockClassName:"movedOriginal"+(Pi===Ui?" currentMove":""),blockPadding:[ve.movedCodeBlockPadding,0,ve.movedCodeBlockPadding,ve.movedCodeBlockPadding]}}),bi.push({range:Pi.lineRangeMapping.modified.toInclusiveRange(),options:{description:"moved",blockClassName:"movedModified"+(Pi===Ui?" currentMove":""),blockPadding:[4,0,4,4]}});return{originalDecorations:yi,modifiedDecorations:bi}}),this._register((0,f.RP)(this._editors.original,this._decorations.map(Vt=>(Vt==null?void 0:Vt.originalDecorations)||[]))),this._register((0,f.RP)(this._editors.modified,this._decorations.map(Vt=>(Vt==null?void 0:Vt.modifiedDecorations)||[])))}}var fe=e(15557);class $ extends S.JT{constructor(Je,Pt,Wt,Yt){super(),this._options=Je,this._domNode=Pt,this._dimensions=Wt,this._sashes=Yt,this._sashRatio=(0,p.uh)(this,void 0),this.sashLeft=(0,p.nK)(this,Vt=>{var St;const Kt=(St=this._sashRatio.read(Vt))!==null&&St!==void 0?St:this._options.splitViewDefaultRatio.read(Vt);return this._computeSashLeft(Kt,Vt)}),this._sash=this._register(new fe.g(this._domNode,{getVerticalSashTop:Vt=>0,getVerticalSashLeft:Vt=>this.sashLeft.get(),getVerticalSashHeight:Vt=>this._dimensions.height.get()},{orientation:0})),this._startSashPosition=void 0,this._register(this._sash.onDidStart(()=>{this._startSashPosition=this.sashLeft.get()})),this._register(this._sash.onDidChange(Vt=>{const St=this._dimensions.width.get(),Kt=this._computeSashLeft((this._startSashPosition+(Vt.currentX-Vt.startX))/St,void 0);this._sashRatio.set(Kt/St,void 0)})),this._register(this._sash.onDidEnd(()=>this._sash.layout())),this._register(this._sash.onDidReset(()=>this._sashRatio.set(void 0,void 0))),this._register((0,p.EH)(Vt=>{const St=this._sashes.read(Vt);St&&(this._sash.orthogonalEndSash=St.bottom)})),this._register((0,p.EH)(Vt=>{const St=this._options.enableSplitViewResizing.read(Vt);this._sash.state=St?3:0,this.sashLeft.read(Vt),this._dimensions.height.read(Vt),this._sash.layout()}))}_computeSashLeft(Je,Pt){const Wt=this._dimensions.width.read(Pt),Yt=Math.floor(this._options.splitViewDefaultRatio.read(Pt)*Wt),Vt=this._options.enableSplitViewResizing.read(Pt)?Math.floor(Je*Wt):Yt,St=100;return Wt<=St*2?Yt:Vt<St?St:Vt>Wt-St?Wt-St:Vt}}var le=e(74696),De=e(26974),xe=e(65642),Ce=e(98352),me=e(32368),be=e(29256),oe=e(79553),ue=function(fi,Je,Pt,Wt){var Yt=arguments.length,Vt=Yt<3?Je:Wt===null?Wt=Object.getOwnPropertyDescriptor(Je,Pt):Wt,St;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Vt=Reflect.decorate(fi,Je,Pt,Wt);else for(var Kt=fi.length-1;Kt>=0;Kt--)(St=fi[Kt])&&(Vt=(Yt<3?St(Vt):Yt>3?St(Je,Pt,Vt):St(Je,Pt))||Vt);return Yt>3&&Vt&&Object.defineProperty(Je,Pt,Vt),Vt},de=function(fi,Je){return function(Pt,Wt){Je(Pt,Wt,fi)}},Se;const Te=(0,I.yh)("diffProviderFactoryService");let Ae=class{constructor(Je){this.instantiationService=Je}createDiffProvider(Je){return this.instantiationService.createInstance(pe,Je)}};Ae=ue([de(0,I.TG)],Ae),(0,Ce.z)(Te,Ae,1);let pe=Se=class{constructor(Je,Pt,Wt){this.editorWorkerService=Pt,this.telemetryService=Wt,this.onDidChangeEventEmitter=new O.Q5,this.onDidChange=this.onDidChangeEventEmitter.event,this.diffAlgorithm="advanced",this.diffAlgorithmOnDidChangeSubscription=void 0,this.setOptions(Je)}dispose(){var Je;(Je=this.diffAlgorithmOnDidChangeSubscription)===null||Je===void 0||Je.dispose()}computeDiff(Je,Pt,Wt,Yt){return Ft(this,null,function*(){var Vt,St;if(typeof this.diffAlgorithm!="string")return this.diffAlgorithm.computeDiff(Je,Pt,Wt,Yt);if(Je.isDisposed()||Pt.isDisposed())return{changes:[],identical:!0,quitEarly:!1,moves:[]};if(Je.getLineCount()===1&&Je.getLineMaxColumn(1)===1)return Pt.getLineCount()===1&&Pt.getLineMaxColumn(1)===1?{changes:[],identical:!0,quitEarly:!1,moves:[]}:{changes:[new k.gB(new C.z(1,2),new C.z(1,Pt.getLineCount()+1),[new k.iy(Je.getFullModelRange(),Pt.getFullModelRange())])],identical:!1,quitEarly:!1,moves:[]};const Kt=JSON.stringify([Je.uri.toString(),Pt.uri.toString()]),ei=JSON.stringify([Je.id,Pt.id,Je.getAlternativeVersionId(),Pt.getAlternativeVersionId(),JSON.stringify(Wt)]),Ei=Se.diffCache.get(Kt);if(Ei&&Ei.context===ei)return Ei.result;const Li=me.G.create(),yi=yield this.editorWorkerService.computeDiff(Je.uri,Pt.uri,Wt,this.diffAlgorithm),bi=Li.elapsed();if(this.telemetryService.publicLog2("diffEditor.computeDiff",{timeMs:bi,timedOut:(Vt=yi==null?void 0:yi.quitEarly)!==null&&Vt!==void 0?Vt:!0,detectedMoves:Wt.computeMoves?(St=yi==null?void 0:yi.moves.length)!==null&&St!==void 0?St:0:-1}),Yt.isCancellationRequested)return{changes:[],identical:!1,quitEarly:!0,moves:[]};if(!yi)throw new Error("no diff result available");return Se.diffCache.size>10&&Se.diffCache.delete(Se.diffCache.keys().next().value),Se.diffCache.set(Kt,{result:yi,context:ei}),yi})}setOptions(Je){var Pt;let Wt=!1;Je.diffAlgorithm&&this.diffAlgorithm!==Je.diffAlgorithm&&((Pt=this.diffAlgorithmOnDidChangeSubscription)===null||Pt===void 0||Pt.dispose(),this.diffAlgorithmOnDidChangeSubscription=void 0,this.diffAlgorithm=Je.diffAlgorithm,typeof Je.diffAlgorithm!="string"&&(this.diffAlgorithmOnDidChangeSubscription=Je.diffAlgorithm.onDidChange(()=>this.onDidChangeEventEmitter.fire())),Wt=!0),Wt&&this.onDidChangeEventEmitter.fire()}};pe.diffCache=new Map,pe=Se=ue([de(1,be.p),de(2,oe.b)],pe);var je=e(42826),ot=e(86499),xt=e(11720),jt=e(93657),oi=e(9751),ti=function(fi,Je,Pt,Wt){var Yt=arguments.length,Vt=Yt<3?Je:Wt===null?Wt=Object.getOwnPropertyDescriptor(Je,Pt):Wt,St;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Vt=Reflect.decorate(fi,Je,Pt,Wt);else for(var Kt=fi.length-1;Kt>=0;Kt--)(St=fi[Kt])&&(Vt=(Yt<3?St(Vt):Yt>3?St(Je,Pt,Vt):St(Je,Pt))||Vt);return Yt>3&&Vt&&Object.defineProperty(Je,Pt,Vt),Vt},it=function(fi,Je){return function(Pt,Wt){Je(Pt,Wt,fi)}};let yt=class extends S.JT{setActiveMovedText(Je){this._activeMovedText.set(Je,void 0)}constructor(Je,Pt,Wt){super(),this.model=Je,this._options=Pt,this._diffProviderFactoryService=Wt,this._isDiffUpToDate=(0,p.uh)(this,!1),this.isDiffUpToDate=this._isDiffUpToDate,this._diff=(0,p.uh)(this,void 0),this.diff=this._diff,this._unchangedRegions=(0,p.uh)(this,void 0),this.unchangedRegions=(0,p.nK)(this,Kt=>{var ei,Ei;return this._options.hideUnchangedRegions.read(Kt)?(Ei=(ei=this._unchangedRegions.read(Kt))===null||ei===void 0?void 0:ei.regions)!==null&&Ei!==void 0?Ei:[]:((0,p.PS)(Li=>{var yi;for(const bi of((yi=this._unchangedRegions.get())===null||yi===void 0?void 0:yi.regions)||[])bi.collapseAll(Li)}),[])}),this.movedTextToCompare=(0,p.uh)(this,void 0),this._activeMovedText=(0,p.uh)(this,void 0),this._hoveredMovedText=(0,p.uh)(this,void 0),this.activeMovedText=(0,p.nK)(this,Kt=>{var ei,Ei;return(Ei=(ei=this.movedTextToCompare.read(Kt))!==null&&ei!==void 0?ei:this._hoveredMovedText.read(Kt))!==null&&Ei!==void 0?Ei:this._activeMovedText.read(Kt)}),this._cancellationTokenSource=new xe.AU,this._diffProvider=(0,p.nK)(this,Kt=>{const ei=this._diffProviderFactoryService.createDiffProvider({diffAlgorithm:this._options.diffAlgorithm.read(Kt)}),Ei=(0,p.aq)("onDidChange",ei.onDidChange);return{diffProvider:ei,onChangeSignal:Ei}}),this._register((0,S.OF)(()=>this._cancellationTokenSource.cancel()));const Yt=(0,p.GN)("contentChangedSignal"),Vt=this._register(new le.pY(()=>Yt.trigger(void 0),200));this._register((0,p.EH)(Kt=>{const ei=this._unchangedRegions.read(Kt);if(!ei||ei.regions.some(Pi=>Pi.isDragged.read(Kt)))return;const Ei=ei.originalDecorationIds.map(Pi=>Je.original.getDecorationRange(Pi)).map(Pi=>Pi?C.z.fromRangeInclusive(Pi):void 0),Li=ei.modifiedDecorationIds.map(Pi=>Je.modified.getDecorationRange(Pi)).map(Pi=>Pi?C.z.fromRangeInclusive(Pi):void 0),yi=ei.regions.map((Pi,Xi)=>!Ei[Xi]||!Li[Xi]?void 0:new He(Ei[Xi].startLineNumber,Li[Xi].startLineNumber,Ei[Xi].length,Pi.visibleLineCountTop.read(Kt),Pi.visibleLineCountBottom.read(Kt))).filter(De.$K),bi=[];let Ui=!1;for(const Pi of(0,c.mw)(yi,(Xi,nn)=>Xi.getHiddenModifiedRange(Kt).endLineNumberExclusive===nn.getHiddenModifiedRange(Kt).startLineNumber))if(Pi.length>1){Ui=!0;const Xi=Pi.reduce((Sn,Mn)=>Sn+Mn.lineCount,0),nn=new He(Pi[0].originalLineNumber,Pi[0].modifiedLineNumber,Xi,Pi[0].visibleLineCountTop.get(),Pi[Pi.length-1].visibleLineCountBottom.get());bi.push(nn)}else bi.push(Pi[0]);if(Ui){const Pi=Je.original.deltaDecorations(ei.originalDecorationIds,bi.map(nn=>({range:nn.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}))),Xi=Je.modified.deltaDecorations(ei.modifiedDecorationIds,bi.map(nn=>({range:nn.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}})));(0,p.PS)(nn=>{this._unchangedRegions.set({regions:bi,originalDecorationIds:Pi,modifiedDecorationIds:Xi},nn)})}}));const St=(Kt,ei,Ei)=>{const Li=He.fromDiffs(Kt.changes,Je.original.getLineCount(),Je.modified.getLineCount(),this._options.hideUnchangedRegionsMinimumLineCount.read(Ei),this._options.hideUnchangedRegionsContextLineCount.read(Ei));let yi;const bi=this._unchangedRegions.get();if(bi){const nn=bi.originalDecorationIds.map(T=>Je.original.getDecorationRange(T)).map(T=>T?C.z.fromRangeInclusive(T):void 0),Sn=bi.modifiedDecorationIds.map(T=>Je.modified.getDecorationRange(T)).map(T=>T?C.z.fromRangeInclusive(T):void 0);let wt=(0,f.W7)(bi.regions.map((T,J)=>{if(!nn[J]||!Sn[J])return;const ce=nn[J].length;return new He(nn[J].startLineNumber,Sn[J].startLineNumber,ce,Math.min(T.visibleLineCountTop.get(),ce),Math.min(T.visibleLineCountBottom.get(),ce-T.visibleLineCountTop.get()))}).filter(De.$K),(T,J)=>!J||T.modifiedLineNumber>=J.modifiedLineNumber+J.lineCount&&T.originalLineNumber>=J.originalLineNumber+J.lineCount).map(T=>new k.f0(T.getHiddenOriginalRange(Ei),T.getHiddenModifiedRange(Ei)));wt=k.f0.clip(wt,C.z.ofLength(1,Je.original.getLineCount()),C.z.ofLength(1,Je.modified.getLineCount())),yi=k.f0.inverse(wt,Je.original.getLineCount(),Je.modified.getLineCount())}const Ui=[];if(yi)for(const nn of Li){const Sn=yi.filter(Mn=>Mn.original.intersectsStrict(nn.originalUnchangedRange)&&Mn.modified.intersectsStrict(nn.modifiedUnchangedRange));Ui.push(...nn.setVisibleRanges(Sn,ei))}else Ui.push(...Li);const Pi=Je.original.deltaDecorations((bi==null?void 0:bi.originalDecorationIds)||[],Ui.map(nn=>({range:nn.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}))),Xi=Je.modified.deltaDecorations((bi==null?void 0:bi.modifiedDecorationIds)||[],Ui.map(nn=>({range:nn.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}})));this._unchangedRegions.set({regions:Ui,originalDecorationIds:Pi,modifiedDecorationIds:Xi},ei)};this._register(Je.modified.onDidChangeContent(Kt=>{if(this._diff.get()){const Ei=ot.Q.fromModelContentChanges(Kt.changes),Li=(this._lastDiff,Je.original,Je.modified,void 0);Li&&(this._lastDiff=Li,(0,p.PS)(yi=>{this._diff.set(qt.fromDiffResult(this._lastDiff),yi),St(Li,yi);const bi=this.movedTextToCompare.get();this.movedTextToCompare.set(bi?this._lastDiff.moves.find(Ui=>Ui.lineRangeMapping.modified.intersect(bi.lineRangeMapping.modified)):void 0,yi)}))}this._isDiffUpToDate.set(!1,void 0),Vt.schedule()})),this._register(Je.original.onDidChangeContent(Kt=>{if(this._diff.get()){const Ei=ot.Q.fromModelContentChanges(Kt.changes),Li=(this._lastDiff,Je.original,Je.modified,void 0);Li&&(this._lastDiff=Li,(0,p.PS)(yi=>{this._diff.set(qt.fromDiffResult(this._lastDiff),yi),St(Li,yi);const bi=this.movedTextToCompare.get();this.movedTextToCompare.set(bi?this._lastDiff.moves.find(Ui=>Ui.lineRangeMapping.modified.intersect(bi.lineRangeMapping.modified)):void 0,yi)}))}this._isDiffUpToDate.set(!1,void 0),Vt.schedule()})),this._register((0,p.gp)((Kt,ei)=>Ft(this,null,function*(){var Ei,Li;this._options.hideUnchangedRegionsMinimumLineCount.read(Kt),this._options.hideUnchangedRegionsContextLineCount.read(Kt),Vt.cancel(),Yt.read(Kt);const yi=this._diffProvider.read(Kt);yi.onChangeSignal.read(Kt),(0,f.NW)(je.DW,Kt),(0,f.NW)(jt.xG,Kt),this._isDiffUpToDate.set(!1,void 0);let bi=[];ei.add(Je.original.onDidChangeContent(Xi=>{const nn=ot.Q.fromModelContentChanges(Xi.changes);bi=(0,xt.o)(bi,nn)}));let Ui=[];ei.add(Je.modified.onDidChangeContent(Xi=>{const nn=ot.Q.fromModelContentChanges(Xi.changes);Ui=(0,xt.o)(Ui,nn)}));let Pi=yield yi.diffProvider.computeDiff(Je.original,Je.modified,{ignoreTrimWhitespace:this._options.ignoreTrimWhitespace.read(Kt),maxComputationTimeMs:this._options.maxComputationTimeMs.read(Kt),computeMoves:this._options.showMoves.read(Kt)},this._cancellationTokenSource.token);this._cancellationTokenSource.token.isCancellationRequested||Je.original.isDisposed()||Je.modified.isDisposed()||(Pi=$t(Pi,Je.original,Je.modified),Pi=(Ei=(Je.original,Je.modified,void 0))!==null&&Ei!==void 0?Ei:Pi,Pi=(Li=(Je.original,Je.modified,void 0))!==null&&Li!==void 0?Li:Pi,(0,p.PS)(Xi=>{St(Pi,Xi),this._lastDiff=Pi;const nn=qt.fromDiffResult(Pi);this._diff.set(nn,Xi),this._isDiffUpToDate.set(!0,Xi);const Sn=this.movedTextToCompare.get();this.movedTextToCompare.set(Sn?this._lastDiff.moves.find(Mn=>Mn.lineRangeMapping.modified.intersect(Sn.lineRangeMapping.modified)):void 0,Xi)}))})))}ensureModifiedLineIsVisible(Je,Pt,Wt){var Yt,Vt;if(((Yt=this.diff.get())===null||Yt===void 0?void 0:Yt.mappings.length)===0)return;const St=((Vt=this._unchangedRegions.get())===null||Vt===void 0?void 0:Vt.regions)||[];for(const Kt of St)if(Kt.getHiddenModifiedRange(void 0).contains(Je)){Kt.showModifiedLine(Je,Pt,Wt);return}}ensureOriginalLineIsVisible(Je,Pt,Wt){var Yt,Vt;if(((Yt=this.diff.get())===null||Yt===void 0?void 0:Yt.mappings.length)===0)return;const St=((Vt=this._unchangedRegions.get())===null||Vt===void 0?void 0:Vt.regions)||[];for(const Kt of St)if(Kt.getHiddenOriginalRange(void 0).contains(Je)){Kt.showOriginalLine(Je,Pt,Wt);return}}waitForDiff(){return Ft(this,null,function*(){yield(0,p.F_)(this.isDiffUpToDate,Je=>Je)})}serializeState(){const Je=this._unchangedRegions.get();return{collapsedRegions:Je==null?void 0:Je.regions.map(Pt=>({range:Pt.getHiddenModifiedRange(void 0).serialize()}))}}restoreSerializedState(Je){var Pt;const Wt=(Pt=Je.collapsedRegions)===null||Pt===void 0?void 0:Pt.map(Vt=>C.z.deserialize(Vt.range)),Yt=this._unchangedRegions.get();!Yt||!Wt||(0,p.PS)(Vt=>{for(const St of Yt.regions)for(const Kt of Wt)if(St.modifiedUnchangedRange.intersect(Kt)){St.setHiddenModifiedRange(Kt,Vt);break}})}};yt=ti([it(2,Te)],yt);function $t(fi,Je,Pt){return{changes:fi.changes.map(Wt=>new k.gB(Wt.original,Wt.modified,Wt.innerChanges?Wt.innerChanges.map(Yt=>Nt(Yt,Je,Pt)):void 0)),moves:fi.moves,identical:fi.identical,quitEarly:fi.quitEarly}}function Nt(fi,Je,Pt){let Wt=fi.originalRange,Yt=fi.modifiedRange;return(Wt.endColumn!==1||Yt.endColumn!==1)&&Wt.endColumn===Je.getLineMaxColumn(Wt.endLineNumber)&&Yt.endColumn===Pt.getLineMaxColumn(Yt.endLineNumber)&&Wt.endLineNumber<Je.getLineCount()&&Yt.endLineNumber<Pt.getLineCount()&&(Wt=Wt.setEndPosition(Wt.endLineNumber+1,1),Yt=Yt.setEndPosition(Yt.endLineNumber+1,1)),new k.iy(Wt,Yt)}class qt{static fromDiffResult(Je){return new qt(Je.changes.map(Pt=>new Ht(Pt)),Je.moves||[],Je.identical,Je.quitEarly)}constructor(Je,Pt,Wt,Yt){this.mappings=Je,this.movedTexts=Pt,this.identical=Wt,this.quitEarly=Yt}}class Ht{constructor(Je){this.lineRangeMapping=Je}}class He{static fromDiffs(Je,Pt,Wt,Yt,Vt){const St=k.gB.inverse(Je,Pt,Wt),Kt=[];for(const ei of St){let Ei=ei.original.startLineNumber,Li=ei.modified.startLineNumber,yi=ei.original.length;const bi=Ei===1&&Li===1,Ui=Ei+yi===Pt+1&&Li+yi===Wt+1;(bi||Ui)&&yi>=Vt+Yt?(bi&&!Ui&&(yi-=Vt),Ui&&!bi&&(Ei+=Vt,Li+=Vt,yi-=Vt),Kt.push(new He(Ei,Li,yi,0,0))):yi>=Vt*2+Yt&&(Ei+=Vt,Li+=Vt,yi-=Vt*2,Kt.push(new He(Ei,Li,yi,0,0)))}return Kt}get originalUnchangedRange(){return C.z.ofLength(this.originalLineNumber,this.lineCount)}get modifiedUnchangedRange(){return C.z.ofLength(this.modifiedLineNumber,this.lineCount)}constructor(Je,Pt,Wt,Yt,Vt){this.originalLineNumber=Je,this.modifiedLineNumber=Pt,this.lineCount=Wt,this._visibleLineCountTop=(0,p.uh)(this,0),this.visibleLineCountTop=this._visibleLineCountTop,this._visibleLineCountBottom=(0,p.uh)(this,0),this.visibleLineCountBottom=this._visibleLineCountBottom,this._shouldHideControls=(0,p.nK)(this,ei=>this.visibleLineCountTop.read(ei)+this.visibleLineCountBottom.read(ei)===this.lineCount&&!this.isDragged.read(ei)),this.isDragged=(0,p.uh)(this,void 0);const St=Math.max(Math.min(Yt,this.lineCount),0),Kt=Math.max(Math.min(Vt,this.lineCount-Yt),0);(0,oi.wN)(Yt===St),(0,oi.wN)(Vt===Kt),this._visibleLineCountTop.set(St,void 0),this._visibleLineCountBottom.set(Kt,void 0)}setVisibleRanges(Je,Pt){const Wt=[],Yt=new C.i(Je.map(ei=>ei.modified)).subtractFrom(this.modifiedUnchangedRange);let Vt=this.originalLineNumber,St=this.modifiedLineNumber;const Kt=this.modifiedLineNumber+this.lineCount;if(Yt.ranges.length===0)this.showAll(Pt),Wt.push(this);else{let ei=0;for(const Ei of Yt.ranges){const Li=ei===Yt.ranges.length-1;ei++;const yi=(Li?Kt:Ei.endLineNumberExclusive)-St,bi=new He(Vt,St,yi,0,0);bi.setHiddenModifiedRange(Ei,Pt),Wt.push(bi),Vt=bi.originalUnchangedRange.endLineNumberExclusive,St=bi.modifiedUnchangedRange.endLineNumberExclusive}}return Wt}shouldHideControls(Je){return this._shouldHideControls.read(Je)}getHiddenOriginalRange(Je){return C.z.ofLength(this.originalLineNumber+this._visibleLineCountTop.read(Je),this.lineCount-this._visibleLineCountTop.read(Je)-this._visibleLineCountBottom.read(Je))}getHiddenModifiedRange(Je){return C.z.ofLength(this.modifiedLineNumber+this._visibleLineCountTop.read(Je),this.lineCount-this._visibleLineCountTop.read(Je)-this._visibleLineCountBottom.read(Je))}setHiddenModifiedRange(Je,Pt){const Wt=Je.startLineNumber-this.modifiedLineNumber,Yt=this.modifiedLineNumber+this.lineCount-Je.endLineNumberExclusive;this.setState(Wt,Yt,Pt)}getMaxVisibleLineCountTop(){return this.lineCount-this._visibleLineCountBottom.get()}getMaxVisibleLineCountBottom(){return this.lineCount-this._visibleLineCountTop.get()}showMoreAbove(Je=10,Pt){const Wt=this.getMaxVisibleLineCountTop();this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+Je,Wt),Pt)}showMoreBelow(Je=10,Pt){const Wt=this.lineCount-this._visibleLineCountTop.get();this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+Je,Wt),Pt)}showAll(Je){this._visibleLineCountBottom.set(this.lineCount-this._visibleLineCountTop.get(),Je)}showModifiedLine(Je,Pt,Wt){const Yt=Je+1-(this.modifiedLineNumber+this._visibleLineCountTop.get()),Vt=this.modifiedLineNumber-this._visibleLineCountBottom.get()+this.lineCount-Je;Pt===0&&Yt<Vt||Pt===1?this._visibleLineCountTop.set(this._visibleLineCountTop.get()+Yt,Wt):this._visibleLineCountBottom.set(this._visibleLineCountBottom.get()+Vt,Wt)}showOriginalLine(Je,Pt,Wt){const Yt=Je-this.originalLineNumber,Vt=this.originalLineNumber+this.lineCount-Je;Pt===0&&Yt<Vt||Pt===1?this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+Vt-Yt,this.getMaxVisibleLineCountTop()),Wt):this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+Yt-Vt,this.getMaxVisibleLineCountBottom()),Wt)}collapseAll(Je){this._visibleLineCountTop.set(0,Je),this._visibleLineCountBottom.set(0,Je)}setState(Je,Pt,Wt){Je=Math.max(Math.min(Je,this.lineCount),0),Pt=Math.max(Math.min(Pt,this.lineCount-Je),0),this._visibleLineCountTop.set(Je,Wt),this._visibleLineCountBottom.set(Pt,Wt)}}function Ct(fi,Je,Pt,Wt){}function Gt(fi,Je,Pt,Wt){}var Di=e(15122);class $i extends S.JT{get visibility(){return this._visibility}set visibility(Je){this._visibility!==Je&&(this._visibility=Je,this._diffActions.style.visibility=Je?"visible":"hidden")}constructor(Je,Pt,Wt,Yt,Vt,St,Kt,ei,Ei){super(),this._getViewZoneId=Je,this._marginDomNode=Pt,this._modifiedEditor=Wt,this._diff=Yt,this._editor=Vt,this._viewLineCounts=St,this._originalTextModel=Kt,this._contextMenuService=ei,this._clipboardService=Ei,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=l.k.asClassName(u.l.lightBulb)+" lightbulb-glyph",this._diffActions.style.position="absolute";const Li=this._modifiedEditor.getOption(67);this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${Li}px`,this._diffActions.style.lineHeight=`${Li}px`,this._marginDomNode.appendChild(this._diffActions);let yi=0;const bi=Wt.getOption(127)&&!Di.gn,Ui=(Pi,Xi)=>{var nn;this._contextMenuService.showContextMenu({domForShadowRoot:bi&&(nn=Wt.getDomNode())!==null&&nn!==void 0?nn:void 0,getAnchor:()=>({x:Pi,y:Xi}),getActions:()=>{const Sn=[],Mn=Yt.modified.isEmpty;return Sn.push(new n.aU("diff.clipboard.copyDeletedContent",Mn?Yt.original.length>1?(0,A.NC)("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):(0,A.NC)("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):Yt.original.length>1?(0,A.NC)("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):(0,A.NC)("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,()=>Ft(this,null,function*(){const T=this._originalTextModel.getValueInRange(Yt.original.toExclusiveRange());yield this._clipboardService.writeText(T)}))),Yt.original.length>1&&Sn.push(new n.aU("diff.clipboard.copyDeletedLineContent",Mn?(0,A.NC)("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",Yt.original.startLineNumber+yi):(0,A.NC)("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",Yt.original.startLineNumber+yi),void 0,!0,()=>Ft(this,null,function*(){let T=this._originalTextModel.getLineContent(Yt.original.startLineNumber+yi);T===""&&(T=this._originalTextModel.getEndOfLineSequence()===0?`
`:`\r
`),yield this._clipboardService.writeText(T)}))),Wt.getOption(91)||Sn.push(new n.aU("diff.inline.revertChange",(0,A.NC)("diff.inline.revertChange.label","Revert this change"),void 0,!0,()=>Ft(this,null,function*(){this._editor.revert(this._diff)}))),Sn},autoSelectFirstItem:!0})};this._register((0,o.mu)(this._diffActions,"mousedown",Pi=>{if(!Pi.leftButton)return;const{top:Xi,height:nn}=(0,o.i)(this._diffActions),Sn=Math.floor(Li/3);Pi.preventDefault(),Ui(Pi.posx,Xi+nn+Sn)})),this._register(Wt.onMouseMove(Pi=>{(Pi.target.type===8||Pi.target.type===5)&&Pi.target.detail.viewZoneId===this._getViewZoneId()?(yi=this._updateLightBulbPosition(this._marginDomNode,Pi.event.browserEvent.y,Li),this.visibility=!0):this.visibility=!1})),this._register(Wt.onMouseDown(Pi=>{Pi.event.leftButton&&(Pi.target.type===8||Pi.target.type===5)&&Pi.target.detail.viewZoneId===this._getViewZoneId()&&(Pi.event.preventDefault(),yi=this._updateLightBulbPosition(this._marginDomNode,Pi.event.browserEvent.y,Li),Ui(Pi.event.posx,Pi.event.posy+Li))}))}_updateLightBulbPosition(Je,Pt,Wt){const{top:Yt}=(0,o.i)(Je),Vt=Pt-Yt,St=Math.floor(Vt/Wt),Kt=St*Wt;if(this._diffActions.style.top=`${Kt}px`,this._viewLineCounts){let ei=0;for(let Ei=0;Ei<this._viewLineCounts.length;Ei++)if(ei+=this._viewLineCounts[Ei],St<ei)return Ei}return St}}var Bi=e(42065),Vi=e(84170);const Ji=(0,a.Z)("diffEditorWidget",{createHTML:fi=>fi});function wn(fi,Je,Pt,Wt){(0,D.N)(Wt,Je.fontInfo);const Yt=Pt.length>0,Vt=new Bi.HT(1e4);let St=0,Kt=0;const ei=[];for(let bi=0;bi<fi.lineTokens.length;bi++){const Ui=bi+1,Pi=fi.lineTokens[bi],Xi=fi.lineBreakData[bi],nn=Vi.Kp.filter(Pt,Ui,1,Number.MAX_SAFE_INTEGER);if(Xi){let Sn=0;for(const Mn of Xi.breakOffsets){const wt=Pi.sliceAndInflate(Sn,Mn,0);St=Math.max(St,an(Kt,wt,Vi.Kp.extractWrapped(nn,Sn,Mn),Yt,fi.mightContainNonBasicASCII,fi.mightContainRTL,Je,Vt)),Kt++,Sn=Mn}ei.push(Xi.breakOffsets.length)}else ei.push(1),St=Math.max(St,an(Kt,Pi,nn,Yt,fi.mightContainNonBasicASCII,fi.mightContainRTL,Je,Vt)),Kt++}St+=Je.scrollBeyondLastColumn;const Ei=Vt.build(),Li=Ji?Ji.createHTML(Ei):Ei;Wt.innerHTML=Li;const yi=St*Je.typicalHalfwidthCharacterWidth;return{heightInLines:Kt,minWidthInPx:yi,viewLineCounts:ei}}class yn{constructor(Je,Pt,Wt,Yt){this.lineTokens=Je,this.lineBreakData=Pt,this.mightContainNonBasicASCII=Wt,this.mightContainRTL=Yt}}class Cn{static fromEditor(Je){var Pt;const Wt=Je.getOptions(),Yt=Wt.get(50),Vt=Wt.get(145);return new Cn(((Pt=Je.getModel())===null||Pt===void 0?void 0:Pt.getOptions().tabSize)||0,Yt,Wt.get(33),Yt.typicalHalfwidthCharacterWidth,Wt.get(104),Wt.get(67),Vt.decorationsWidth,Wt.get(117),Wt.get(99),Wt.get(94),Wt.get(51))}constructor(Je,Pt,Wt,Yt,Vt,St,Kt,ei,Ei,Li,yi){this.tabSize=Je,this.fontInfo=Pt,this.disableMonospaceOptimizations=Wt,this.typicalHalfwidthCharacterWidth=Yt,this.scrollBeyondLastColumn=Vt,this.lineHeight=St,this.lineDecorationsWidth=Kt,this.stopRenderingLineAfter=ei,this.renderWhitespace=Ei,this.renderControlCharacters=Li,this.fontLigatures=yi}}function an(fi,Je,Pt,Wt,Yt,Vt,St,Kt){Kt.appendString('<div class="view-line'),Wt||Kt.appendString(" char-delete"),Kt.appendString('" style="top:'),Kt.appendString(String(fi*St.lineHeight)),Kt.appendString('px;width:1000000px;">');const ei=Je.getLineContent(),Ei=z.wA.isBasicASCII(ei,Yt),Li=z.wA.containsRTL(ei,Ei,Vt),yi=(0,Z.d1)(new Z.IJ(St.fontInfo.isMonospace&&!St.disableMonospaceOptimizations,St.fontInfo.canUseHalfwidthRightwardsArrow,ei,!1,Ei,Li,0,Je,Pt,St.tabSize,0,St.fontInfo.spaceWidth,St.fontInfo.middotWidth,St.fontInfo.wsmiddotWidth,St.stopRenderingLineAfter,St.renderWhitespace,St.renderControlCharacters,St.fontLigatures!==y.n0.OFF,null),Kt);return Kt.appendString("</div>"),yi.characterMapping.getHorizontalOffset(yi.characterMapping.length)}var Rn=e(11796),kn=e(31949),fn=function(fi,Je,Pt,Wt){var Yt=arguments.length,Vt=Yt<3?Je:Wt===null?Wt=Object.getOwnPropertyDescriptor(Je,Pt):Wt,St;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Vt=Reflect.decorate(fi,Je,Pt,Wt);else for(var Kt=fi.length-1;Kt>=0;Kt--)(St=fi[Kt])&&(Vt=(Yt<3?St(Vt):Yt>3?St(Je,Pt,Vt):St(Je,Pt))||Vt);return Yt>3&&Vt&&Object.defineProperty(Je,Pt,Vt),Vt},On=function(fi,Je){return function(Pt,Wt){Je(Pt,Wt,fi)}};let xn=class extends S.JT{constructor(Je,Pt,Wt,Yt,Vt,St,Kt,ei,Ei,Li){super(),this._targetWindow=Je,this._editors=Pt,this._diffModel=Wt,this._options=Yt,this._diffEditorWidget=Vt,this._canIgnoreViewZoneUpdateEvent=St,this._origViewZonesToIgnore=Kt,this._modViewZonesToIgnore=ei,this._clipboardService=Ei,this._contextMenuService=Li,this._originalTopPadding=(0,p.uh)(this,0),this._originalScrollOffset=(0,p.uh)(this,0),this._originalScrollOffsetAnimated=(0,f.Vm)(this._targetWindow,this._originalScrollOffset,this._store),this._modifiedTopPadding=(0,p.uh)(this,0),this._modifiedScrollOffset=(0,p.uh)(this,0),this._modifiedScrollOffsetAnimated=(0,f.Vm)(this._targetWindow,this._modifiedScrollOffset,this._store);const yi=(0,p.uh)("invalidateAlignmentsState",0),bi=this._register(new le.pY(()=>{yi.set(yi.get()+1,void 0)},0));this._register(this._editors.original.onDidChangeViewZones(wt=>{this._canIgnoreViewZoneUpdateEvent()||bi.schedule()})),this._register(this._editors.modified.onDidChangeViewZones(wt=>{this._canIgnoreViewZoneUpdateEvent()||bi.schedule()})),this._register(this._editors.original.onDidChangeConfiguration(wt=>{(wt.hasChanged(146)||wt.hasChanged(67))&&bi.schedule()})),this._register(this._editors.modified.onDidChangeConfiguration(wt=>{(wt.hasChanged(146)||wt.hasChanged(67))&&bi.schedule()}));const Ui=this._diffModel.map(wt=>wt?(0,p.rD)(wt.model.original.onDidChangeTokens,()=>wt.model.original.tokenization.backgroundTokenizationState===2):void 0).map((wt,T)=>wt==null?void 0:wt.read(T)),Pi=(0,p.nK)(wt=>{const T=this._diffModel.read(wt),J=T==null?void 0:T.diff.read(wt);if(!T||!J)return null;yi.read(wt);const Re=this._options.renderSideBySide.read(wt);return An(this._editors.original,this._editors.modified,J.mappings,this._origViewZonesToIgnore,this._modViewZonesToIgnore,Re)}),Xi=(0,p.nK)(wt=>{var T;const J=(T=this._diffModel.read(wt))===null||T===void 0?void 0:T.movedTextToCompare.read(wt);if(!J)return null;yi.read(wt);const ce=J.changes.map(Re=>new Ht(Re));return An(this._editors.original,this._editors.modified,ce,this._origViewZonesToIgnore,this._modViewZonesToIgnore,!0)});function nn(){const wt=document.createElement("div");return wt.className="diagonal-fill",wt}const Sn=this._register(new S.SL);this.viewZones=(0,p.Be)(this,(wt,T)=>{var J,ce,Re,Be,Xe,Et,It,ni;Sn.clear();const si=Pi.read(wt)||[],Xt=[],ri=[],ui=this._modifiedTopPadding.read(wt);ui>0&&ri.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:ui,showInHiddenAreas:!0,suppressMouseDown:!0});const xi=this._originalTopPadding.read(wt);xi>0&&Xt.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:xi,showInHiddenAreas:!0,suppressMouseDown:!0});const Mi=this._options.renderSideBySide.read(wt),Fi=Mi||(J=this._editors.modified._getViewModel())===null||J===void 0?void 0:J.createLineBreaksComputer();if(Fi){const Vn=this._editors.original.getModel();for(const Xn of si)if(Xn.diff)for(let Cs=Xn.originalRange.startLineNumber;Cs<Xn.originalRange.endLineNumberExclusive;Cs++){if(Cs>Vn.getLineCount())return{orig:Xt,mod:ri};Fi==null||Fi.addRequest(Vn.getLineContent(Cs),null,null)}}const Yi=(ce=Fi==null?void 0:Fi.finalize())!==null&&ce!==void 0?ce:[];let mn=0;const hn=this._editors.modified.getOption(67),Pn=(Re=this._diffModel.read(wt))===null||Re===void 0?void 0:Re.movedTextToCompare.read(wt),ts=(Xe=(Be=this._editors.original.getModel())===null||Be===void 0?void 0:Be.mightContainNonBasicASCII())!==null&&Xe!==void 0?Xe:!1,is=(It=(Et=this._editors.original.getModel())===null||Et===void 0?void 0:Et.mightContainRTL())!==null&&It!==void 0?It:!1,Gn=Cn.fromEditor(this._editors.modified);for(const Vn of si)if(Vn.diff&&!Mi){if(!Vn.originalRange.isEmpty){Ui.read(wt);const Cs=document.createElement("div");Cs.classList.add("view-lines","line-delete","monaco-mouse-cursor-text");const ns=this._editors.original.getModel();if(Vn.originalRange.endLineNumberExclusive-1>ns.getLineCount())return{orig:Xt,mod:ri};const Rs=new yn(Vn.originalRange.mapToLineArray(qn=>ns.tokenization.getLineTokens(qn)),Vn.originalRange.mapToLineArray(qn=>Yi[mn++]),ts,is),ps=[];for(const qn of Vn.diff.innerChanges||[])ps.push(new z.$t(qn.originalRange.delta(-(Vn.diff.original.startLineNumber-1)),Ke.rq.className,0));const _s=wn(Rs,Gn,ps,Cs),rs=document.createElement("div");if(rs.className="inline-deleted-margin-view-zone",(0,D.N)(rs,Gn.fontInfo),this._options.renderIndicators.read(wt))for(let qn=0;qn<_s.heightInLines;qn++){const Vs=document.createElement("div");Vs.className=`delete-sign ${l.k.asClassName(Ke.fO)}`,Vs.setAttribute("style",`position:absolute;top:${qn*hn}px;width:${Gn.lineDecorationsWidth}px;height:${hn}px;right:0;`),rs.appendChild(Vs)}let Ns;Sn.add(new $i(()=>(0,De.cW)(Ns),rs,this._editors.modified,Vn.diff,this._diffEditorWidget,_s.viewLineCounts,this._editors.original.getModel(),this._contextMenuService,this._clipboardService));for(let qn=0;qn<_s.viewLineCounts.length;qn++){const Vs=_s.viewLineCounts[qn];Vs>1&&Xt.push({afterLineNumber:Vn.originalRange.startLineNumber+qn,domNode:nn(),heightInPx:(Vs-1)*hn,showInHiddenAreas:!0,suppressMouseDown:!0})}ri.push({afterLineNumber:Vn.modifiedRange.startLineNumber-1,domNode:Cs,heightInPx:_s.heightInLines*hn,minWidthInPx:_s.minWidthInPx,marginDomNode:rs,setZoneId(qn){Ns=qn},showInHiddenAreas:!0,suppressMouseDown:!0})}const Xn=document.createElement("div");Xn.className="gutter-delete",Xt.push({afterLineNumber:Vn.originalRange.endLineNumberExclusive-1,domNode:nn(),heightInPx:Vn.modifiedHeightInPx,marginDomNode:Xn,showInHiddenAreas:!0,suppressMouseDown:!0})}else{const Xn=Vn.modifiedHeightInPx-Vn.originalHeightInPx;if(Xn>0){if(Pn!=null&&Pn.lineRangeMapping.original.delta(-1).deltaLength(2).contains(Vn.originalRange.endLineNumberExclusive-1))continue;Xt.push({afterLineNumber:Vn.originalRange.endLineNumberExclusive-1,domNode:nn(),heightInPx:Xn,showInHiddenAreas:!0,suppressMouseDown:!0})}else{let Cs=function(){const Rs=document.createElement("div");return Rs.className="arrow-revert-change "+l.k.asClassName(u.l.arrowRight),T.add((0,o.nm)(Rs,"mousedown",ps=>ps.stopPropagation())),T.add((0,o.nm)(Rs,"click",ps=>{ps.stopPropagation(),Vt.revert(Vn.diff)})),(0,o.$)("div",{},Rs)};if(Pn!=null&&Pn.lineRangeMapping.modified.delta(-1).deltaLength(2).contains(Vn.modifiedRange.endLineNumberExclusive-1))continue;let ns;Vn.diff&&Vn.diff.modified.isEmpty&&this._options.shouldRenderOldRevertArrows.read(wt)&&(ns=Cs()),ri.push({afterLineNumber:Vn.modifiedRange.endLineNumberExclusive-1,domNode:nn(),heightInPx:-Xn,marginDomNode:ns,showInHiddenAreas:!0,suppressMouseDown:!0})}}for(const Vn of(ni=Xi.read(wt))!==null&&ni!==void 0?ni:[]){if(!(Pn!=null&&Pn.lineRangeMapping.original.intersect(Vn.originalRange))||!(Pn!=null&&Pn.lineRangeMapping.modified.intersect(Vn.modifiedRange)))continue;const Xn=Vn.modifiedHeightInPx-Vn.originalHeightInPx;Xn>0?Xt.push({afterLineNumber:Vn.originalRange.endLineNumberExclusive-1,domNode:nn(),heightInPx:Xn,showInHiddenAreas:!0,suppressMouseDown:!0}):ri.push({afterLineNumber:Vn.modifiedRange.endLineNumberExclusive-1,domNode:nn(),heightInPx:-Xn,showInHiddenAreas:!0,suppressMouseDown:!0})}return{orig:Xt,mod:ri}});let Mn=!1;this._register(this._editors.original.onDidScrollChange(wt=>{wt.scrollLeftChanged&&!Mn&&(Mn=!0,this._editors.modified.setScrollLeft(wt.scrollLeft),Mn=!1)})),this._register(this._editors.modified.onDidScrollChange(wt=>{wt.scrollLeftChanged&&!Mn&&(Mn=!0,this._editors.original.setScrollLeft(wt.scrollLeft),Mn=!1)})),this._originalScrollTop=(0,p.rD)(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=(0,p.rD)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._register((0,p.EH)(wt=>{const T=this._originalScrollTop.read(wt)-(this._originalScrollOffsetAnimated.get()-this._modifiedScrollOffsetAnimated.read(wt))-(this._originalTopPadding.get()-this._modifiedTopPadding.read(wt));T!==this._editors.modified.getScrollTop()&&this._editors.modified.setScrollTop(T,1)})),this._register((0,p.EH)(wt=>{const T=this._modifiedScrollTop.read(wt)-(this._modifiedScrollOffsetAnimated.get()-this._originalScrollOffsetAnimated.read(wt))-(this._modifiedTopPadding.get()-this._originalTopPadding.read(wt));T!==this._editors.original.getScrollTop()&&this._editors.original.setScrollTop(T,1)})),this._register((0,p.EH)(wt=>{var T;const J=(T=this._diffModel.read(wt))===null||T===void 0?void 0:T.movedTextToCompare.read(wt);let ce=0;if(J){const Re=this._editors.original.getTopForLineNumber(J.lineRangeMapping.original.startLineNumber,!0)-this._originalTopPadding.get();ce=this._editors.modified.getTopForLineNumber(J.lineRangeMapping.modified.startLineNumber,!0)-this._modifiedTopPadding.get()-Re}ce>0?(this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(ce,void 0)):ce<0?(this._modifiedTopPadding.set(-ce,void 0),this._originalTopPadding.set(0,void 0)):setTimeout(()=>{this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(0,void 0)},400),this._editors.modified.hasTextFocus()?this._originalScrollOffset.set(this._modifiedScrollOffset.get()-ce,void 0,!0):this._modifiedScrollOffset.set(this._originalScrollOffset.get()+ce,void 0,!0)}))}};xn=fn([On(8,Rn.p),On(9,kn.i)],xn);function An(fi,Je,Pt,Wt,Yt,Vt){const St=new c.H9(Zt(fi,Wt)),Kt=new c.H9(Zt(Je,Yt)),ei=fi.getOption(67),Ei=Je.getOption(67),Li=[];let yi=0,bi=0;function Ui(Pi,Xi){for(;;){let nn=St.peek(),Sn=Kt.peek();if(nn&&nn.lineNumber>=Pi&&(nn=void 0),Sn&&Sn.lineNumber>=Xi&&(Sn=void 0),!nn&&!Sn)break;const Mn=nn?nn.lineNumber-yi:Number.MAX_VALUE,wt=Sn?Sn.lineNumber-bi:Number.MAX_VALUE;Mn<wt?(St.dequeue(),Sn={lineNumber:nn.lineNumber-yi+bi,heightInPx:0}):Mn>wt?(Kt.dequeue(),nn={lineNumber:Sn.lineNumber-bi+yi,heightInPx:0}):(St.dequeue(),Kt.dequeue()),Li.push({originalRange:C.z.ofLength(nn.lineNumber,1),modifiedRange:C.z.ofLength(Sn.lineNumber,1),originalHeightInPx:ei+nn.heightInPx,modifiedHeightInPx:Ei+Sn.heightInPx,diff:void 0})}}for(const Pi of Pt){let wt=function(T,J){var ce,Re,Be,Xe;if(T<Mn||J<Sn)return;if(nn)nn=!1;else if(T===Mn||J===Sn)return;const Et=new C.z(Mn,T),It=new C.z(Sn,J);if(Et.isEmpty&&It.isEmpty)return;const ni=(Re=(ce=St.takeWhile(Xt=>Xt.lineNumber<T))===null||ce===void 0?void 0:ce.reduce((Xt,ri)=>Xt+ri.heightInPx,0))!==null&&Re!==void 0?Re:0,si=(Xe=(Be=Kt.takeWhile(Xt=>Xt.lineNumber<J))===null||Be===void 0?void 0:Be.reduce((Xt,ri)=>Xt+ri.heightInPx,0))!==null&&Xe!==void 0?Xe:0;Li.push({originalRange:Et,modifiedRange:It,originalHeightInPx:Et.length*ei+ni,modifiedHeightInPx:It.length*Ei+si,diff:Pi.lineRangeMapping}),Mn=T,Sn=J};const Xi=Pi.lineRangeMapping;Ui(Xi.original.startLineNumber,Xi.modified.startLineNumber);let nn=!0,Sn=Xi.modified.startLineNumber,Mn=Xi.original.startLineNumber;if(Vt)for(const T of Xi.innerChanges||[]){T.originalRange.startColumn>1&&T.modifiedRange.startColumn>1&&wt(T.originalRange.startLineNumber,T.modifiedRange.startLineNumber);const J=fi.getModel(),ce=T.originalRange.endLineNumber<=J.getLineCount()?J.getLineMaxColumn(T.originalRange.endLineNumber):Number.MAX_SAFE_INTEGER;T.originalRange.endColumn<ce&&wt(T.originalRange.endLineNumber,T.modifiedRange.endLineNumber)}wt(Xi.original.endLineNumberExclusive,Xi.modified.endLineNumberExclusive),yi=Xi.original.endLineNumberExclusive,bi=Xi.modified.endLineNumberExclusive}return Ui(Number.MAX_VALUE,Number.MAX_VALUE),Li}function Zt(fi,Je){const Pt=[],Wt=[],Yt=fi.getOption(146).wrappingColumn!==-1,Vt=fi._getViewModel().coordinatesConverter,St=fi.getOption(67);if(Yt)for(let ei=1;ei<=fi.getModel().getLineCount();ei++){const Ei=Vt.getModelLineViewLineCount(ei);Ei>1&&Wt.push({lineNumber:ei,heightInPx:St*(Ei-1)})}for(const ei of fi.getWhitespaces()){if(Je.has(ei.id))continue;const Ei=ei.afterLineNumber===0?0:Vt.convertViewPositionToModelPosition(new N.L(ei.afterLineNumber,1)).lineNumber;Pt.push({lineNumber:Ei,heightInPx:ei.height})}return(0,f.Ap)(Pt,Wt,ei=>ei.lineNumber,(ei,Ei)=>({lineNumber:ei.lineNumber,heightInPx:ei.heightInPx+Ei.heightInPx}))}class ci extends S.JT{constructor(Je,Pt,Wt){super(),this._editor=Je,this._domNode=Pt,this.itemProvider=Wt,this.scrollTop=(0,p.rD)(this._editor.onDidScrollChange,St=>this._editor.getScrollTop()),this.isScrollTopZero=this.scrollTop.map(St=>St===0),this.modelAttached=(0,p.rD)(this._editor.onDidChangeModel,St=>this._editor.hasModel()),this.editorOnDidChangeViewZones=(0,p.aq)("onDidChangeViewZones",this._editor.onDidChangeViewZones),this.editorOnDidContentSizeChange=(0,p.aq)("onDidContentSizeChange",this._editor.onDidContentSizeChange),this.domNodeSizeChanged=(0,p.GN)("domNodeSizeChanged"),this.views=new Map,this._domNode.className="gutter monaco-editor";const Yt=this._domNode.appendChild((0,o.h)("div.scroll-decoration",{role:"presentation",ariaHidden:"true",style:{width:"100%"}}).root),Vt=new ResizeObserver(()=>{(0,p.PS)(St=>{this.domNodeSizeChanged.trigger(St)})});Vt.observe(this._domNode),this._register((0,S.OF)(()=>Vt.disconnect())),this._register((0,p.EH)(St=>{Yt.className=this.isScrollTopZero.read(St)?"":"scroll-decoration"})),this._register((0,p.EH)(St=>this.render(St)))}dispose(){super.dispose(),(0,o.mc)(this._domNode)}render(Je){if(!this.modelAttached.read(Je))return;this.domNodeSizeChanged.read(Je),this.editorOnDidChangeViewZones.read(Je),this.editorOnDidContentSizeChange.read(Je);const Pt=this.scrollTop.read(Je),Wt=this._editor.getVisibleRanges(),Yt=new Set(this.views.keys()),Vt=_.q.ofStartAndLength(0,this._domNode.clientHeight);if(!Vt.isEmpty)for(const St of Wt){const Kt=new C.z(St.startLineNumber,St.endLineNumber+1),ei=this.itemProvider.getIntersectingGutterItems(Kt,Je);(0,p.PS)(Ei=>{for(const Li of ei){if(!Li.range.intersect(Kt))continue;Yt.delete(Li.id);let yi=this.views.get(Li.id);if(yi)yi.item.set(Li,Ei);else{const Xi=document.createElement("div");this._domNode.appendChild(Xi);const nn=(0,p.uh)("item",Li),Sn=this.itemProvider.createView(nn,Xi);yi=new _i(nn,Sn,Xi),this.views.set(Li.id,yi)}const bi=Li.range.startLineNumber<=this._editor.getModel().getLineCount()?this._editor.getTopForLineNumber(Li.range.startLineNumber,!0)-Pt:this._editor.getBottomForLineNumber(Li.range.startLineNumber-1,!1)-Pt,Pi=(Li.range.isEmpty?bi:this._editor.getBottomForLineNumber(Li.range.endLineNumberExclusive-1,!0)-Pt)-bi;yi.domNode.style.top=`${bi}px`,yi.domNode.style.height=`${Pi}px`,yi.gutterItemView.layout(_.q.ofStartAndLength(bi,Pi),Vt)}})}for(const St of Yt){const Kt=this.views.get(St);Kt.gutterItemView.dispose(),this._domNode.removeChild(Kt.domNode),this.views.delete(St)}}}class _i{constructor(Je,Pt,Wt){this.item=Je,this.gutterItemView=Pt,this.domNode=Wt}}var Ri=e(73861),Zi=e(43281),gi=e(39470);class Ze extends Zi.MS{constructor(Je){super(),this._textModel=Je}getValueOfRange(Je){return this._textModel.getValueInRange(Je)}get length(){const Je=this._textModel.getLineCount(),Pt=this._textModel.getLineLength(Je);return new gi.A(Je-1,Pt)}}var dt=e(78937),Ue=e(69713),$e=e(80568),bt=e(78307),ft=function(fi,Je,Pt,Wt){var Yt=arguments.length,Vt=Yt<3?Je:Wt===null?Wt=Object.getOwnPropertyDescriptor(Je,Pt):Wt,St;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Vt=Reflect.decorate(fi,Je,Pt,Wt);else for(var Kt=fi.length-1;Kt>=0;Kt--)(St=fi[Kt])&&(Vt=(Yt<3?St(Vt):Yt>3?St(Je,Pt,Vt):St(Je,Pt))||Vt);return Yt>3&&Vt&&Object.defineProperty(Je,Pt,Vt),Vt},Ye=function(fi,Je){return function(Pt,Wt){Je(Pt,Wt,fi)}};const vt=[],nt=35;let Ge=class extends S.JT{constructor(Je,Pt,Wt,Yt,Vt,St){super(),this._diffModel=Pt,this._editors=Wt,this._instantiationService=Yt,this._contextKeyService=Vt,this._menuService=St,this._menu=this._register(this._menuService.createMenu(Ue.eH.DiffEditorHunkToolbar,this._contextKeyService)),this._actions=(0,p.rD)(this._menu.onDidChange,()=>this._menu.getActions()),this._hasActions=this._actions.map(Kt=>Kt.length>0),this.width=(0,p.nK)(this,Kt=>this._hasActions.read(Kt)?nt:0),this.elements=(0,o.h)("div.gutter@gutter",{style:{position:"absolute",height:"100%",width:nt+"px"}},[]),this._currentDiff=(0,p.nK)(this,Kt=>{var ei;const Ei=this._diffModel.read(Kt);if(!Ei)return;const Li=(ei=Ei.diff.read(Kt))===null||ei===void 0?void 0:ei.mappings,yi=this._editors.modifiedCursor.read(Kt);if(yi)return Li==null?void 0:Li.find(bi=>bi.lineRangeMapping.modified.contains(yi.lineNumber))}),this._selectedDiffs=(0,p.nK)(this,Kt=>{const ei=this._diffModel.read(Kt),Ei=ei==null?void 0:ei.diff.read(Kt);if(!Ei)return vt;const Li=this._editors.modifiedSelections.read(Kt);if(Li.every(Pi=>Pi.isEmpty()))return vt;const yi=new C.i(Li.map(Pi=>C.z.fromRangeInclusive(Pi))),Ui=Ei.mappings.filter(Pi=>Pi.lineRangeMapping.innerChanges&&yi.intersects(Pi.lineRangeMapping.modified)).map(Pi=>({mapping:Pi,rangeMappings:Pi.lineRangeMapping.innerChanges.filter(Xi=>Li.some(nn=>b.e.areIntersecting(Xi.modifiedRange,nn)))}));return Ui.length===0||Ui.every(Pi=>Pi.rangeMappings.length===0)?vt:Ui}),this._register((0,f.RL)(Je,this.elements.root)),this._register((0,o.nm)(this.elements.root,"click",()=>{this._editors.modified.focus()})),this._register((0,f.bg)(this.elements.root,{display:this._hasActions.map(Kt=>Kt?"block":"none")})),this._register(new ci(this._editors.modified,this.elements.root,{getIntersectingGutterItems:(Kt,ei)=>{const Ei=this._diffModel.read(ei);if(!Ei)return[];const Li=Ei.diff.read(ei);if(!Li)return[];const yi=this._selectedDiffs.read(ei);if(yi.length>0){const Ui=k.gB.fromRangeMappings(yi.flatMap(Pi=>Pi.rangeMappings));return[new rt(Ui,!0,Ue.eH.DiffEditorSelectionToolbar,void 0,Ei.model.original.uri,Ei.model.modified.uri)]}const bi=this._currentDiff.read(ei);return Li.mappings.map(Ui=>new rt(Ui.lineRangeMapping.withInnerChangesFromLineRanges(),Ui.lineRangeMapping===(bi==null?void 0:bi.lineRangeMapping),Ue.eH.DiffEditorHunkToolbar,void 0,Ei.model.original.uri,Ei.model.modified.uri))},createView:(Kt,ei)=>this._instantiationService.createInstance(st,Kt,ei,this)})),this._register((0,o.nm)(this.elements.gutter,o.tw.MOUSE_WHEEL,Kt=>{this._editors.modified.getOption(103).handleMouseWheel&&this._editors.modified.delegateScrollFromMouseWheelEvent(Kt)},{passive:!1}))}computeStagedValue(Je){var Pt;const Wt=(Pt=Je.innerChanges)!==null&&Pt!==void 0?Pt:[],Yt=new Ze(this._editors.modifiedModel.get()),Vt=new Ze(this._editors.original.getModel());return new Zi.PY(Wt.map(ei=>ei.toTextEdit(Yt))).apply(Vt)}layout(Je){this.elements.gutter.style.left=Je+"px"}};Ge=ft([Ye(3,I.TG),Ye(4,$e.i6),Ye(5,Ue.co)],Ge);class rt{constructor(Je,Pt,Wt,Yt,Vt,St){this.mapping=Je,this.showAlways=Pt,this.menuId=Wt,this.rangeOverride=Yt,this.originalUri=Vt,this.modifiedUri=St}get id(){return this.mapping.modified.toString()}get range(){var Je;return(Je=this.rangeOverride)!==null&&Je!==void 0?Je:this.mapping.modified}}let st=class extends S.JT{constructor(Je,Pt,Wt,Yt){super(),this._item=Je,this._elements=(0,o.h)("div.gutterItem",{style:{height:"20px",width:"34px"}},[(0,o.h)("div.background@background",{},[]),(0,o.h)("div.buttons@buttons",{},[])]),this._showAlways=this._item.map(this,St=>St.showAlways),this._menuId=this._item.map(this,St=>St.menuId),this._isSmall=(0,p.uh)(this,!1),this._lastItemRange=void 0,this._lastViewRange=void 0;const Vt=this._register(Yt.createInstance(bt.mQ,"element",!0,{position:{hoverPosition:1}}));this._register((0,f.xx)(Pt,this._elements.root)),this._register((0,p.EH)(St=>{const Kt=this._showAlways.read(St);this._elements.root.classList.toggle("noTransition",!0),this._elements.root.classList.toggle("showAlways",Kt),setTimeout(()=>{this._elements.root.classList.toggle("noTransition",!1)},0)})),this._register((0,p.gp)((St,Kt)=>{this._elements.buttons.replaceChildren();const ei=Kt.add(Yt.createInstance(dt.r,this._elements.buttons,this._menuId.read(St),{orientation:1,hoverDelegate:Vt,toolbarOptions:{primaryGroup:Ei=>Ei.startsWith("primary")},overflowBehavior:{maxItems:this._isSmall.read(St)?1:3},hiddenItemStrategy:0,actionRunner:new Ri.D(()=>{const Ei=this._item.get(),Li=Ei.mapping;return{mapping:Li,originalWithModifiedChanges:Wt.computeStagedValue(Li),originalUri:Ei.originalUri,modifiedUri:Ei.modifiedUri}}),menuOptions:{shouldForwardArgs:!0}}));Kt.add(ei.onDidChangeMenuItems(()=>{this._lastItemRange&&this.layout(this._lastItemRange,this._lastViewRange)}))}))}layout(Je,Pt){this._lastItemRange=Je,this._lastViewRange=Pt;let Wt=this._elements.buttons.clientHeight;this._isSmall.set(this._item.get().mapping.original.startLineNumber===1&&Je.length<30,void 0),Wt=this._elements.buttons.clientHeight,this._elements.root.style.top=Je.start+"px",this._elements.root.style.height=Je.length+"px";const Yt=Je.length/2-Wt/2,Vt=Wt;let St=Je.start+Yt;const Kt=_.q.tryCreate(Vt,Pt.endExclusive-Vt-Wt),ei=_.q.tryCreate(Je.start+Vt,Je.endExclusive-Wt-Vt);ei&&Kt&&ei.start<ei.endExclusive&&(St=Kt.clip(St),St=ei.clip(St)),this._elements.buttons.style.top=`${St-Je.start}px`}};st=ft([Ye(3,I.TG)],st);var tt=e(73434),_t=e(76204),kt=e(4374),at=e(48408),ht=e(97341),Mt=e(63279),ut=function(fi,Je,Pt,Wt){var Yt=arguments.length,Vt=Yt<3?Je:Wt===null?Wt=Object.getOwnPropertyDescriptor(Je,Pt):Wt,St;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Vt=Reflect.decorate(fi,Je,Pt,Wt);else for(var Kt=fi.length-1;Kt>=0;Kt--)(St=fi[Kt])&&(Vt=(Yt<3?St(Vt):Yt>3?St(Je,Pt,Vt):St(Je,Pt))||Vt);return Yt>3&&Vt&&Object.defineProperty(Je,Pt,Vt),Vt},ke=function(fi,Je){return function(Pt,Wt){Je(Pt,Wt,fi)}},lt;let mt=lt=class extends S.JT{constructor(Je,Pt,Wt,Yt,Vt,St,Kt){super(),this._editors=Je,this._rootElement=Pt,this._diffModel=Wt,this._rootWidth=Yt,this._rootHeight=Vt,this._modifiedEditorLayoutInfo=St,this._themeService=Kt,this.width=lt.ENTIRE_DIFF_OVERVIEW_WIDTH;const ei=(0,p.rD)(this._themeService.onDidColorThemeChange,()=>this._themeService.getColorTheme()),Ei=(0,p.nK)(bi=>{const Ui=ei.read(bi),Pi=Ui.getColor(ht.P6Y)||(Ui.getColor(ht.ypS)||ht.CzK).transparent(2),Xi=Ui.getColor(ht.F9q)||(Ui.getColor(ht.P4M)||ht.keg).transparent(2);return{insertColor:Pi,removeColor:Xi}}),Li=(0,_t.X)(document.createElement("div"));Li.setClassName("diffViewport"),Li.setPosition("absolute");const yi=(0,o.h)("div.diffOverview",{style:{position:"absolute",top:"0px",width:lt.ENTIRE_DIFF_OVERVIEW_WIDTH+"px"}}).root;this._register((0,f.xx)(yi,Li.domNode)),this._register((0,o.mu)(yi,o.tw.POINTER_DOWN,bi=>{this._editors.modified.delegateVerticalScrollbarPointerDown(bi)})),this._register((0,o.nm)(yi,o.tw.MOUSE_WHEEL,bi=>{this._editors.modified.delegateScrollFromMouseWheelEvent(bi)},{passive:!1})),this._register((0,f.xx)(this._rootElement,yi)),this._register((0,p.gp)((bi,Ui)=>{const Pi=this._diffModel.read(bi),Xi=this._editors.original.createOverviewRuler("original diffOverviewRuler");Xi&&(Ui.add(Xi),Ui.add((0,f.xx)(yi,Xi.getDomNode())));const nn=this._editors.modified.createOverviewRuler("modified diffOverviewRuler");if(nn&&(Ui.add(nn),Ui.add((0,f.xx)(yi,nn.getDomNode()))),!Xi||!nn)return;const Sn=(0,p.aq)("viewZoneChanged",this._editors.original.onDidChangeViewZones),Mn=(0,p.aq)("viewZoneChanged",this._editors.modified.onDidChangeViewZones),wt=(0,p.aq)("hiddenRangesChanged",this._editors.original.onDidChangeHiddenAreas),T=(0,p.aq)("hiddenRangesChanged",this._editors.modified.onDidChangeHiddenAreas);Ui.add((0,p.EH)(J=>{var ce;Sn.read(J),Mn.read(J),wt.read(J),T.read(J);const Re=Ei.read(J),Be=(ce=Pi==null?void 0:Pi.diff.read(J))===null||ce===void 0?void 0:ce.mappings;function Xe(ni,si,Xt){const ri=Xt._getViewModel();return ri?ni.filter(ui=>ui.length>0).map(ui=>{const xi=ri.coordinatesConverter.convertModelPositionToViewPosition(new N.L(ui.startLineNumber,1)),Mi=ri.coordinatesConverter.convertModelPositionToViewPosition(new N.L(ui.endLineNumberExclusive,1)),Fi=Mi.lineNumber-xi.lineNumber;return new at.EY(xi.lineNumber,Mi.lineNumber,Fi,si.toString())}):[]}const Et=Xe((Be||[]).map(ni=>ni.lineRangeMapping.original),Re.removeColor,this._editors.original),It=Xe((Be||[]).map(ni=>ni.lineRangeMapping.modified),Re.insertColor,this._editors.modified);Xi==null||Xi.setZones(Et),nn==null||nn.setZones(It)})),Ui.add((0,p.EH)(J=>{const ce=this._rootHeight.read(J),Re=this._rootWidth.read(J),Be=this._modifiedEditorLayoutInfo.read(J);if(Be){const Xe=lt.ENTIRE_DIFF_OVERVIEW_WIDTH-2*lt.ONE_OVERVIEW_WIDTH;Xi.setLayout({top:0,height:ce,right:Xe+lt.ONE_OVERVIEW_WIDTH,width:lt.ONE_OVERVIEW_WIDTH}),nn.setLayout({top:0,height:ce,right:0,width:lt.ONE_OVERVIEW_WIDTH});const Et=this._editors.modifiedScrollTop.read(J),It=this._editors.modifiedScrollHeight.read(J),ni=this._editors.modified.getOption(103),si=new kt.M(ni.verticalHasArrows?ni.arrowSize:0,ni.verticalScrollbarSize,0,Be.height,It,Et);Li.setTop(si.getSliderPosition()),Li.setHeight(si.getSliderSize())}else Li.setTop(0),Li.setHeight(0);yi.style.height=ce+"px",yi.style.left=Re-lt.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",Li.setWidth(lt.ENTIRE_DIFF_OVERVIEW_WIDTH)}))}))}};mt.ONE_OVERVIEW_WIDTH=15,mt.ENTIRE_DIFF_OVERVIEW_WIDTH=lt.ONE_OVERVIEW_WIDTH*2,mt=lt=ut([ke(6,Mt.XE)],mt);var Ve=e(60661),Tt=e(57204);const At=[];class Qt extends S.JT{constructor(Je,Pt,Wt,Yt){super(),this._editors=Je,this._diffModel=Pt,this._options=Wt,this._widget=Yt,this._selectedDiffs=(0,p.nK)(this,Vt=>{const St=this._diffModel.read(Vt),Kt=St==null?void 0:St.diff.read(Vt);if(!Kt)return At;const ei=this._editors.modifiedSelections.read(Vt);if(ei.every(bi=>bi.isEmpty()))return At;const Ei=new C.i(ei.map(bi=>C.z.fromRangeInclusive(bi))),yi=Kt.mappings.filter(bi=>bi.lineRangeMapping.innerChanges&&Ei.intersects(bi.lineRangeMapping.modified)).map(bi=>({mapping:bi,rangeMappings:bi.lineRangeMapping.innerChanges.filter(Ui=>ei.some(Pi=>b.e.areIntersecting(Ui.modifiedRange,Pi)))}));return yi.length===0||yi.every(bi=>bi.rangeMappings.length===0)?At:yi}),this._register((0,p.gp)((Vt,St)=>{if(!this._options.shouldRenderOldRevertArrows.read(Vt))return;const Kt=this._diffModel.read(Vt),ei=Kt==null?void 0:Kt.diff.read(Vt);if(!Kt||!ei||Kt.movedTextToCompare.read(Vt))return;const Ei=[],Li=this._selectedDiffs.read(Vt),yi=new Set(Li.map(bi=>bi.mapping));if(Li.length>0){const bi=this._editors.modifiedSelections.read(Vt),Ui=St.add(new mi(bi[bi.length-1].positionLineNumber,this._widget,Li.flatMap(Pi=>Pi.rangeMappings),!0));this._editors.modified.addGlyphMarginWidget(Ui),Ei.push(Ui)}for(const bi of ei.mappings)if(!yi.has(bi)&&!bi.lineRangeMapping.modified.isEmpty&&bi.lineRangeMapping.innerChanges){const Ui=St.add(new mi(bi.lineRangeMapping.modified.startLineNumber,this._widget,bi.lineRangeMapping,!1));this._editors.modified.addGlyphMarginWidget(Ui),Ei.push(Ui)}St.add((0,S.OF)(()=>{for(const bi of Ei)this._editors.modified.removeGlyphMarginWidget(bi)}))}))}}class mi extends S.JT{getId(){return this._id}constructor(Je,Pt,Wt,Yt){super(),this._lineNumber=Je,this._widget=Pt,this._diffs=Wt,this._revertSelection=Yt,this._id=`revertButton${mi.counter++}`,this._domNode=(0,o.h)("div.revertButton",{title:this._revertSelection?(0,A.NC)("revertSelectedChanges","Revert Selected Changes"):(0,A.NC)("revertChange","Revert Change")},[(0,Ve.h)(u.l.arrowRight)]).root,this._register((0,o.nm)(this._domNode,o.tw.MOUSE_DOWN,Vt=>{Vt.button!==2&&(Vt.stopPropagation(),Vt.preventDefault())})),this._register((0,o.nm)(this._domNode,o.tw.MOUSE_UP,Vt=>{Vt.stopPropagation(),Vt.preventDefault()})),this._register((0,o.nm)(this._domNode,o.tw.CLICK,Vt=>{this._diffs instanceof k.f0?this._widget.revert(this._diffs):this._widget.revertRangeMappings(this._diffs),Vt.stopPropagation(),Vt.preventDefault()}))}getDomNode(){return this._domNode}getPosition(){return{lane:Tt.U.Right,range:{startColumn:1,startLineNumber:this._lineNumber,endColumn:1,endLineNumber:this._lineNumber},zIndex:10001}}}mi.counter=0;var Ci=e(51525),Oi=e(22706),Ii=e(44969),Qi=e(80731);function Wi(fi){return Jt.get(fi)}class Jt{static get(Je){let Pt=Jt._map.get(Je);if(!Pt){Pt=new Jt(Je),Jt._map.set(Je,Pt);const Wt=Je.onDidDispose(()=>{Jt._map.delete(Je),Wt.dispose()})}return Pt}constructor(Je){this.editor=Je,this.model=(0,p.rD)(this.editor.onDidChangeModel,()=>this.editor.getModel())}}Jt._map=new Map;var Ne=e(66070),gt=function(fi,Je,Pt,Wt){var Yt=arguments.length,Vt=Yt<3?Je:Wt===null?Wt=Object.getOwnPropertyDescriptor(Je,Pt):Wt,St;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Vt=Reflect.decorate(fi,Je,Pt,Wt);else for(var Kt=fi.length-1;Kt>=0;Kt--)(St=fi[Kt])&&(Vt=(Yt<3?St(Vt):Yt>3?St(Je,Pt,Vt):St(Je,Pt))||Vt);return Yt>3&&Vt&&Object.defineProperty(Je,Pt,Vt),Vt},Bt=function(fi,Je){return function(Pt,Wt){Je(Pt,Wt,fi)}};let di=class extends S.JT{get onDidContentSizeChange(){return this._onDidContentSizeChange.event}constructor(Je,Pt,Wt,Yt,Vt,St,Kt){super(),this.originalEditorElement=Je,this.modifiedEditorElement=Pt,this._options=Wt,this._argCodeEditorWidgetOptions=Yt,this._createInnerEditor=Vt,this._instantiationService=St,this._keybindingService=Kt,this.original=this._register(this._createLeftHandSideEditor(this._options.editorOptions.get(),this._argCodeEditorWidgetOptions.originalEditor||{})),this.modified=this._register(this._createRightHandSideEditor(this._options.editorOptions.get(),this._argCodeEditorWidgetOptions.modifiedEditor||{})),this._onDidContentSizeChange=this._register(new O.Q5),this.modifiedScrollTop=(0,p.rD)(this.modified.onDidScrollChange,()=>this.modified.getScrollTop()),this.modifiedScrollHeight=(0,p.rD)(this.modified.onDidScrollChange,()=>this.modified.getScrollHeight()),this.modifiedModel=Wi(this.modified).model,this.modifiedSelections=(0,p.rD)(this.modified.onDidChangeCursorSelection,()=>{var ei;return(ei=this.modified.getSelections())!==null&&ei!==void 0?ei:[]}),this.modifiedCursor=(0,p.bk)({owner:this,equalsFn:N.L.equals},ei=>{var Ei,Li;return(Li=(Ei=this.modifiedSelections.read(ei)[0])===null||Ei===void 0?void 0:Ei.getPosition())!==null&&Li!==void 0?Li:new N.L(1,1)}),this.originalCursor=(0,p.rD)(this.original.onDidChangeCursorPosition,()=>{var ei;return(ei=this.original.getPosition())!==null&&ei!==void 0?ei:new N.L(1,1)}),this._argCodeEditorWidgetOptions=null,this._register((0,p.nJ)({createEmptyChangeSummary:()=>({}),handleChange:(ei,Ei)=>(ei.didChange(Wt.editorOptions)&&Object.assign(Ei,ei.change.changedOptions),!0)},(ei,Ei)=>{Wt.editorOptions.read(ei),this._options.renderSideBySide.read(ei),this.modified.updateOptions(this._adjustOptionsForRightHandSide(ei,Ei)),this.original.updateOptions(this._adjustOptionsForLeftHandSide(ei,Ei))}))}_createLeftHandSideEditor(Je,Pt){const Wt=this._adjustOptionsForLeftHandSide(void 0,Je),Yt=this._constructInnerEditor(this._instantiationService,this.originalEditorElement,Wt,Pt);return Yt.setContextValue("isInDiffLeftEditor",!0),Yt}_createRightHandSideEditor(Je,Pt){const Wt=this._adjustOptionsForRightHandSide(void 0,Je),Yt=this._constructInnerEditor(this._instantiationService,this.modifiedEditorElement,Wt,Pt);return Yt.setContextValue("isInDiffRightEditor",!0),Yt}_constructInnerEditor(Je,Pt,Wt,Yt){const Vt=this._createInnerEditor(Je,Pt,Wt,Yt);return this._register(Vt.onDidContentSizeChange(St=>{const Kt=this.original.getContentWidth()+this.modified.getContentWidth()+mt.ENTIRE_DIFF_OVERVIEW_WIDTH,ei=Math.max(this.modified.getContentHeight(),this.original.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:ei,contentWidth:Kt,contentHeightChanged:St.contentHeightChanged,contentWidthChanged:St.contentWidthChanged})})),Vt}_adjustOptionsForLeftHandSide(Je,Pt){const Wt=this._adjustOptionsForSubEditor(Pt);return this._options.renderSideBySide.get()?(Wt.unicodeHighlight=this._options.editorOptions.get().unicodeHighlight||{},Wt.wordWrapOverride1=this._options.diffWordWrap.get()):(Wt.wordWrapOverride1="off",Wt.wordWrapOverride2="off",Wt.stickyScroll={enabled:!1},Wt.unicodeHighlight={nonBasicASCII:!1,ambiguousCharacters:!1,invisibleCharacters:!1}),Wt.glyphMargin=this._options.renderSideBySide.get(),Pt.originalAriaLabel&&(Wt.ariaLabel=Pt.originalAriaLabel),Wt.ariaLabel=this._updateAriaLabel(Wt.ariaLabel),Wt.readOnly=!this._options.originalEditable.get(),Wt.dropIntoEditor={enabled:!Wt.readOnly},Wt.extraEditorClassName="original-in-monaco-diff-editor",Wt}_adjustOptionsForRightHandSide(Je,Pt){const Wt=this._adjustOptionsForSubEditor(Pt);return Pt.modifiedAriaLabel&&(Wt.ariaLabel=Pt.modifiedAriaLabel),Wt.ariaLabel=this._updateAriaLabel(Wt.ariaLabel),Wt.wordWrapOverride1=this._options.diffWordWrap.get(),Wt.revealHorizontalRightPadding=y.BH.revealHorizontalRightPadding.defaultValue+mt.ENTIRE_DIFF_OVERVIEW_WIDTH,Wt.scrollbar.verticalHasArrows=!1,Wt.extraEditorClassName="modified-in-monaco-diff-editor",Wt}_adjustOptionsForSubEditor(Je){const Pt=Ki(vi({},Je),{dimension:{height:0,width:0}});return Pt.inDiffEditor=!0,Pt.automaticLayout=!1,Pt.scrollbar=vi({},Pt.scrollbar||{}),Pt.folding=!1,Pt.codeLens=this._options.diffCodeLens.get(),Pt.fixedOverflowWidgets=!0,Pt.minimap=vi({},Pt.minimap||{}),Pt.minimap.enabled=!1,this._options.hideUnchangedRegions.get()?Pt.stickyScroll={enabled:!1}:Pt.stickyScroll=this._options.editorOptions.get().stickyScroll,Pt}_updateAriaLabel(Je){var Pt;Je||(Je="");const Wt=(0,A.NC)("diff-aria-navigation-tip"," use {0} to open the accessibility help.",(Pt=this._keybindingService.lookupKeybinding("editor.action.accessibilityHelp"))===null||Pt===void 0?void 0:Pt.getAriaLabel());return this._options.accessibilityVerbose.get()?Je+Wt:Je?Je.replaceAll(Wt,""):""}};di=gt([Bt(5,I.TG),Bt(6,Ne.d)],di);class hi extends S.JT{constructor(){super(...arguments),this._id=++hi.idCounter,this._onDidDispose=this._register(new O.Q5),this.onDidDispose=this._onDidDispose.event}getId(){return this.getEditorType()+":v2:"+this._id}getVisibleColumnFromPosition(Je){return this._targetEditor.getVisibleColumnFromPosition(Je)}getPosition(){return this._targetEditor.getPosition()}setPosition(Je,Pt="api"){this._targetEditor.setPosition(Je,Pt)}revealLine(Je,Pt=0){this._targetEditor.revealLine(Je,Pt)}revealLineInCenter(Je,Pt=0){this._targetEditor.revealLineInCenter(Je,Pt)}revealLineInCenterIfOutsideViewport(Je,Pt=0){this._targetEditor.revealLineInCenterIfOutsideViewport(Je,Pt)}revealLineNearTop(Je,Pt=0){this._targetEditor.revealLineNearTop(Je,Pt)}revealPosition(Je,Pt=0){this._targetEditor.revealPosition(Je,Pt)}revealPositionInCenter(Je,Pt=0){this._targetEditor.revealPositionInCenter(Je,Pt)}revealPositionInCenterIfOutsideViewport(Je,Pt=0){this._targetEditor.revealPositionInCenterIfOutsideViewport(Je,Pt)}revealPositionNearTop(Je,Pt=0){this._targetEditor.revealPositionNearTop(Je,Pt)}getSelection(){return this._targetEditor.getSelection()}getSelections(){return this._targetEditor.getSelections()}setSelection(Je,Pt="api"){this._targetEditor.setSelection(Je,Pt)}setSelections(Je,Pt="api"){this._targetEditor.setSelections(Je,Pt)}revealLines(Je,Pt,Wt=0){this._targetEditor.revealLines(Je,Pt,Wt)}revealLinesInCenter(Je,Pt,Wt=0){this._targetEditor.revealLinesInCenter(Je,Pt,Wt)}revealLinesInCenterIfOutsideViewport(Je,Pt,Wt=0){this._targetEditor.revealLinesInCenterIfOutsideViewport(Je,Pt,Wt)}revealLinesNearTop(Je,Pt,Wt=0){this._targetEditor.revealLinesNearTop(Je,Pt,Wt)}revealRange(Je,Pt=0,Wt=!1,Yt=!0){this._targetEditor.revealRange(Je,Pt,Wt,Yt)}revealRangeInCenter(Je,Pt=0){this._targetEditor.revealRangeInCenter(Je,Pt)}revealRangeInCenterIfOutsideViewport(Je,Pt=0){this._targetEditor.revealRangeInCenterIfOutsideViewport(Je,Pt)}revealRangeNearTop(Je,Pt=0){this._targetEditor.revealRangeNearTop(Je,Pt)}revealRangeNearTopIfOutsideViewport(Je,Pt=0){this._targetEditor.revealRangeNearTopIfOutsideViewport(Je,Pt)}revealRangeAtTop(Je,Pt=0){this._targetEditor.revealRangeAtTop(Je,Pt)}getSupportedActions(){return this._targetEditor.getSupportedActions()}focus(){this._targetEditor.focus()}trigger(Je,Pt,Wt){this._targetEditor.trigger(Je,Pt,Wt)}createDecorationsCollection(Je){return this._targetEditor.createDecorationsCollection(Je)}changeDecorations(Je){return this._targetEditor.changeDecorations(Je)}}hi.idCounter=0;var Ni=e(77004),zi=e(84935),Gi=function(fi,Je,Pt,Wt){var Yt=arguments.length,Vt=Yt<3?Je:Wt===null?Wt=Object.getOwnPropertyDescriptor(Je,Pt):Wt,St;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Vt=Reflect.decorate(fi,Je,Pt,Wt);else for(var Kt=fi.length-1;Kt>=0;Kt--)(St=fi[Kt])&&(Vt=(Yt<3?St(Vt):Yt>3?St(Je,Pt,Vt):St(Je,Pt))||Vt);return Yt>3&&Vt&&Object.defineProperty(Je,Pt,Vt),Vt},ln=function(fi,Je){return function(Pt,Wt){Je(Pt,Wt,fi)}};let ji=class{get editorOptions(){return this._options}constructor(Je,Pt){this._accessibilityService=Pt,this._diffEditorWidth=(0,p.uh)(this,0),this._screenReaderMode=(0,p.rD)(this._accessibilityService.onDidChangeScreenReaderOptimized,()=>this._accessibilityService.isScreenReaderOptimized()),this.couldShowInlineViewBecauseOfSize=(0,p.nK)(this,Yt=>this._options.read(Yt).renderSideBySide&&this._diffEditorWidth.read(Yt)<=this._options.read(Yt).renderSideBySideInlineBreakpoint),this.renderOverviewRuler=(0,p.nK)(this,Yt=>this._options.read(Yt).renderOverviewRuler),this.renderSideBySide=(0,p.nK)(this,Yt=>this._options.read(Yt).renderSideBySide&&!(this._options.read(Yt).useInlineViewWhenSpaceIsLimited&&this.couldShowInlineViewBecauseOfSize.read(Yt)&&!this._screenReaderMode.read(Yt))),this.readOnly=(0,p.nK)(this,Yt=>this._options.read(Yt).readOnly),this.shouldRenderOldRevertArrows=(0,p.nK)(this,Yt=>!(!this._options.read(Yt).renderMarginRevertIcon||!this.renderSideBySide.read(Yt)||this.readOnly.read(Yt)||this.shouldRenderGutterMenu.read(Yt))),this.shouldRenderGutterMenu=(0,p.nK)(this,Yt=>this._options.read(Yt).renderGutterMenu),this.renderIndicators=(0,p.nK)(this,Yt=>this._options.read(Yt).renderIndicators),this.enableSplitViewResizing=(0,p.nK)(this,Yt=>this._options.read(Yt).enableSplitViewResizing),this.splitViewDefaultRatio=(0,p.nK)(this,Yt=>this._options.read(Yt).splitViewDefaultRatio),this.ignoreTrimWhitespace=(0,p.nK)(this,Yt=>this._options.read(Yt).ignoreTrimWhitespace),this.maxComputationTimeMs=(0,p.nK)(this,Yt=>this._options.read(Yt).maxComputationTime),this.showMoves=(0,p.nK)(this,Yt=>this._options.read(Yt).experimental.showMoves&&this.renderSideBySide.read(Yt)),this.isInEmbeddedEditor=(0,p.nK)(this,Yt=>this._options.read(Yt).isInEmbeddedEditor),this.diffWordWrap=(0,p.nK)(this,Yt=>this._options.read(Yt).diffWordWrap),this.originalEditable=(0,p.nK)(this,Yt=>this._options.read(Yt).originalEditable),this.diffCodeLens=(0,p.nK)(this,Yt=>this._options.read(Yt).diffCodeLens),this.accessibilityVerbose=(0,p.nK)(this,Yt=>this._options.read(Yt).accessibilityVerbose),this.diffAlgorithm=(0,p.nK)(this,Yt=>this._options.read(Yt).diffAlgorithm),this.showEmptyDecorations=(0,p.nK)(this,Yt=>this._options.read(Yt).experimental.showEmptyDecorations),this.onlyShowAccessibleDiffViewer=(0,p.nK)(this,Yt=>this._options.read(Yt).onlyShowAccessibleDiffViewer),this.hideUnchangedRegions=(0,p.nK)(this,Yt=>this._options.read(Yt).hideUnchangedRegions.enabled),this.hideUnchangedRegionsRevealLineCount=(0,p.nK)(this,Yt=>this._options.read(Yt).hideUnchangedRegions.revealLineCount),this.hideUnchangedRegionsContextLineCount=(0,p.nK)(this,Yt=>this._options.read(Yt).hideUnchangedRegions.contextLineCount),this.hideUnchangedRegionsMinimumLineCount=(0,p.nK)(this,Yt=>this._options.read(Yt).hideUnchangedRegions.minimumLineCount);const Wt=vi(vi({},Je),dn(Je,Ni.k));this._options=(0,p.uh)(this,Wt)}updateOptions(Je){const Pt=dn(Je,this._options.get()),Wt=vi(vi(vi({},this._options.get()),Je),Pt);this._options.set(Wt,void 0,{changedOptions:Je})}setWidth(Je){this._diffEditorWidth.set(Je,void 0)}};ji=Gi([ln(1,zi.F)],ji);function dn(fi,Je){var Pt,Wt,Yt,Vt,St,Kt,ei,Ei;return{enableSplitViewResizing:(0,y.O7)(fi.enableSplitViewResizing,Je.enableSplitViewResizing),splitViewDefaultRatio:(0,y.L_)(fi.splitViewDefaultRatio,.5,.1,.9),renderSideBySide:(0,y.O7)(fi.renderSideBySide,Je.renderSideBySide),renderMarginRevertIcon:(0,y.O7)(fi.renderMarginRevertIcon,Je.renderMarginRevertIcon),maxComputationTime:(0,y.Zc)(fi.maxComputationTime,Je.maxComputationTime,0,1073741824),maxFileSize:(0,y.Zc)(fi.maxFileSize,Je.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,y.O7)(fi.ignoreTrimWhitespace,Je.ignoreTrimWhitespace),renderIndicators:(0,y.O7)(fi.renderIndicators,Je.renderIndicators),originalEditable:(0,y.O7)(fi.originalEditable,Je.originalEditable),diffCodeLens:(0,y.O7)(fi.diffCodeLens,Je.diffCodeLens),renderOverviewRuler:(0,y.O7)(fi.renderOverviewRuler,Je.renderOverviewRuler),diffWordWrap:(0,y.NY)(fi.diffWordWrap,Je.diffWordWrap,["off","on","inherit"]),diffAlgorithm:(0,y.NY)(fi.diffAlgorithm,Je.diffAlgorithm,["legacy","advanced"],{smart:"legacy",experimental:"advanced"}),accessibilityVerbose:(0,y.O7)(fi.accessibilityVerbose,Je.accessibilityVerbose),experimental:{showMoves:(0,y.O7)((Pt=fi.experimental)===null||Pt===void 0?void 0:Pt.showMoves,Je.experimental.showMoves),showEmptyDecorations:(0,y.O7)((Wt=fi.experimental)===null||Wt===void 0?void 0:Wt.showEmptyDecorations,Je.experimental.showEmptyDecorations)},hideUnchangedRegions:{enabled:(0,y.O7)((Vt=(Yt=fi.hideUnchangedRegions)===null||Yt===void 0?void 0:Yt.enabled)!==null&&Vt!==void 0?Vt:(St=fi.experimental)===null||St===void 0?void 0:St.collapseUnchangedRegions,Je.hideUnchangedRegions.enabled),contextLineCount:(0,y.Zc)((Kt=fi.hideUnchangedRegions)===null||Kt===void 0?void 0:Kt.contextLineCount,Je.hideUnchangedRegions.contextLineCount,0,1073741824),minimumLineCount:(0,y.Zc)((ei=fi.hideUnchangedRegions)===null||ei===void 0?void 0:ei.minimumLineCount,Je.hideUnchangedRegions.minimumLineCount,0,1073741824),revealLineCount:(0,y.Zc)((Ei=fi.hideUnchangedRegions)===null||Ei===void 0?void 0:Ei.revealLineCount,Je.hideUnchangedRegions.revealLineCount,0,1073741824)},isInEmbeddedEditor:(0,y.O7)(fi.isInEmbeddedEditor,Je.isInEmbeddedEditor),onlyShowAccessibleDiffViewer:(0,y.O7)(fi.onlyShowAccessibleDiffViewer,Je.onlyShowAccessibleDiffViewer),renderSideBySideInlineBreakpoint:(0,y.Zc)(fi.renderSideBySideInlineBreakpoint,Je.renderSideBySideInlineBreakpoint,0,1073741824),useInlineViewWhenSpaceIsLimited:(0,y.O7)(fi.useInlineViewWhenSpaceIsLimited,Je.useInlineViewWhenSpaceIsLimited),renderGutterMenu:(0,y.O7)(fi.renderGutterMenu,Je.renderGutterMenu)}}var tn=function(fi,Je,Pt,Wt){var Yt=arguments.length,Vt=Yt<3?Je:Wt===null?Wt=Object.getOwnPropertyDescriptor(Je,Pt):Wt,St;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Vt=Reflect.decorate(fi,Je,Pt,Wt);else for(var Kt=fi.length-1;Kt>=0;Kt--)(St=fi[Kt])&&(Vt=(Yt<3?St(Vt):Yt>3?St(Je,Pt,Vt):St(Je,Pt))||Vt);return Yt>3&&Vt&&Object.defineProperty(Je,Pt,Vt),Vt},Hi=function(fi,Je){return function(Pt,Wt){Je(Pt,Wt,fi)}};let rn=class extends hi{get onDidContentSizeChange(){return this._editors.onDidContentSizeChange}constructor(Je,Pt,Wt,Yt,Vt,St,Kt,ei){var Ei;super(),this._domElement=Je,this._parentContextKeyService=Yt,this._parentInstantiationService=Vt,this._accessibilitySignalService=Kt,this._editorProgressService=ei,this.elements=(0,o.h)("div.monaco-diff-editor.side-by-side",{style:{position:"relative",height:"100%"}},[(0,o.h)("div.editor.original@original",{style:{position:"absolute",height:"100%"}}),(0,o.h)("div.editor.modified@modified",{style:{position:"absolute",height:"100%"}}),(0,o.h)("div.accessibleDiffViewer@accessibleDiffViewer",{style:{position:"absolute",height:"100%"}})]),this._diffModel=(0,p.uh)(this,void 0),this._shouldDisposeDiffModel=!1,this.onDidChangeModel=O.ju.fromObservableLight(this._diffModel),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._domElement)),this._instantiationService=this._parentInstantiationService.createChild(new Ii.y([$e.i6,this._contextKeyService])),this._boundarySashes=(0,p.uh)(this,void 0),this._accessibleDiffViewerShouldBeVisible=(0,p.uh)(this,!1),this._accessibleDiffViewerVisible=(0,p.nK)(this,T=>this._options.onlyShowAccessibleDiffViewer.read(T)?!0:this._accessibleDiffViewerShouldBeVisible.read(T)),this._movedBlocksLinesPart=(0,p.uh)(this,void 0),this._layoutInfo=(0,p.nK)(this,T=>{var J,ce,Re,Be,Xe;const Et=this._rootSizeObserver.width.read(T),It=this._rootSizeObserver.height.read(T),ni=this._sash.read(T),si=this._gutter.read(T),Xt=(J=si==null?void 0:si.width.read(T))!==null&&J!==void 0?J:0,ri=(Re=(ce=this._overviewRulerPart.read(T))===null||ce===void 0?void 0:ce.width)!==null&&Re!==void 0?Re:0;let ui,xi,Mi,Fi,Yi;if(!!ni){const hn=ni.sashLeft.read(T),Pn=(Xe=(Be=this._movedBlocksLinesPart.read(T))===null||Be===void 0?void 0:Be.width.read(T))!==null&&Xe!==void 0?Xe:0;ui=0,xi=hn-Xt-Pn,Yi=hn-Xt,Mi=hn,Fi=Et-Mi-ri}else Yi=0,ui=Xt,xi=Math.max(5,this._editors.original.getLayoutInfo().decorationsLeft),Mi=Xt+xi,Fi=Et-Mi-ri;return this.elements.original.style.left=ui+"px",this.elements.original.style.width=xi+"px",this._editors.original.layout({width:xi,height:It},!0),si==null||si.layout(Yi),this.elements.modified.style.left=Mi+"px",this.elements.modified.style.width=Fi+"px",this._editors.modified.layout({width:Fi,height:It},!0),{modifiedEditor:this._editors.modified.getLayoutInfo(),originalEditor:this._editors.original.getLayoutInfo()}}),this._diffValue=this._diffModel.map((T,J)=>T==null?void 0:T.diff.read(J)),this.onDidUpdateDiff=O.ju.fromObservableLight(this._diffValue),St.willCreateDiffEditor(),this._contextKeyService.createKey("isInDiffEditor",!0),this._domElement.appendChild(this.elements.root),this._register((0,S.OF)(()=>this._domElement.removeChild(this.elements.root))),this._rootSizeObserver=this._register(new f.DU(this.elements.root,Pt.dimension)),this._rootSizeObserver.setAutomaticLayout((Ei=Pt.automaticLayout)!==null&&Ei!==void 0?Ei:!1),this._options=this._instantiationService.createInstance(ji,Pt),this._register((0,p.EH)(T=>{this._options.setWidth(this._rootSizeObserver.width.read(T))})),this._contextKeyService.createKey(Oi.u.isEmbeddedDiffEditor.key,!1),this._register((0,f.GU)(Oi.u.isEmbeddedDiffEditor,this._contextKeyService,T=>this._options.isInEmbeddedEditor.read(T))),this._register((0,f.GU)(Oi.u.comparingMovedCode,this._contextKeyService,T=>{var J;return!!(!((J=this._diffModel.read(T))===null||J===void 0)&&J.movedTextToCompare.read(T))})),this._register((0,f.GU)(Oi.u.diffEditorRenderSideBySideInlineBreakpointReached,this._contextKeyService,T=>this._options.couldShowInlineViewBecauseOfSize.read(T))),this._register((0,f.GU)(Oi.u.diffEditorInlineMode,this._contextKeyService,T=>!this._options.renderSideBySide.read(T))),this._register((0,f.GU)(Oi.u.hasChanges,this._contextKeyService,T=>{var J,ce,Re;return((Re=(ce=(J=this._diffModel.read(T))===null||J===void 0?void 0:J.diff.read(T))===null||ce===void 0?void 0:ce.mappings.length)!==null&&Re!==void 0?Re:0)>0})),this._editors=this._register(this._instantiationService.createInstance(di,this.elements.original,this.elements.modified,this._options,Wt,(T,J,ce,Re)=>this._createInnerEditor(T,J,ce,Re))),this._register((0,f.GU)(Oi.u.diffEditorOriginalWritable,this._contextKeyService,T=>this._options.originalEditable.read(T))),this._register((0,f.GU)(Oi.u.diffEditorModifiedWritable,this._contextKeyService,T=>!this._options.readOnly.read(T))),this._register((0,f.GU)(Oi.u.diffEditorOriginalUri,this._contextKeyService,T=>{var J,ce;return(ce=(J=this._diffModel.read(T))===null||J===void 0?void 0:J.model.original.uri.toString())!==null&&ce!==void 0?ce:""})),this._register((0,f.GU)(Oi.u.diffEditorModifiedUri,this._contextKeyService,T=>{var J,ce;return(ce=(J=this._diffModel.read(T))===null||J===void 0?void 0:J.model.modified.uri.toString())!==null&&ce!==void 0?ce:""})),this._overviewRulerPart=(0,E.kA)(this,T=>this._options.renderOverviewRuler.read(T)?this._instantiationService.createInstance((0,f.NW)(mt,T),this._editors,this.elements.root,this._diffModel,this._rootSizeObserver.width,this._rootSizeObserver.height,this._layoutInfo.map(J=>J.modifiedEditor)):void 0).recomputeInitiallyAndOnChange(this._store),this._sash=(0,E.kA)(this,T=>{const J=this._options.renderSideBySide.read(T);return this.elements.root.classList.toggle("side-by-side",J),J?new $(this._options,this.elements.root,{height:this._rootSizeObserver.height,width:this._rootSizeObserver.width.map((ce,Re)=>{var Be,Xe;return ce-((Xe=(Be=this._overviewRulerPart.read(Re))===null||Be===void 0?void 0:Be.width)!==null&&Xe!==void 0?Xe:0)})},this._boundarySashes):void 0}).recomputeInitiallyAndOnChange(this._store);const Li=(0,E.kA)(this,T=>this._instantiationService.createInstance((0,f.NW)(tt.O,T),this._editors,this._diffModel,this._options)).recomputeInitiallyAndOnChange(this._store);(0,E.kA)(this,T=>this._instantiationService.createInstance((0,f.NW)(Qe,T),this._editors,this._diffModel,this._options,this)).recomputeInitiallyAndOnChange(this._store);const yi=new Set,bi=new Set;let Ui=!1;const Pi=(0,E.kA)(this,T=>this._instantiationService.createInstance((0,f.NW)(xn,T),(0,o.Jj)(this._domElement),this._editors,this._diffModel,this._options,this,()=>Ui||Li.get().isUpdatingHiddenAreas,yi,bi)).recomputeInitiallyAndOnChange(this._store),Xi=(0,p.nK)(this,T=>{const J=Pi.read(T).viewZones.read(T).orig,ce=Li.read(T).viewZones.read(T).origViewZones;return J.concat(ce)}),nn=(0,p.nK)(this,T=>{const J=Pi.read(T).viewZones.read(T).mod,ce=Li.read(T).viewZones.read(T).modViewZones;return J.concat(ce)});this._register((0,f.Sv)(this._editors.original,Xi,T=>{Ui=T},yi));let Sn;this._register((0,f.Sv)(this._editors.modified,nn,T=>{Ui=T,Ui?Sn=m.Z.capture(this._editors.modified):(Sn==null||Sn.restore(this._editors.modified),Sn=void 0)},bi)),this._accessibleDiffViewer=(0,E.kA)(this,T=>this._instantiationService.createInstance((0,f.NW)(ie,T),this.elements.accessibleDiffViewer,this._accessibleDiffViewerVisible,(J,ce)=>this._accessibleDiffViewerShouldBeVisible.set(J,ce),this._options.onlyShowAccessibleDiffViewer.map(J=>!J),this._rootSizeObserver.width,this._rootSizeObserver.height,this._diffModel.map((J,ce)=>{var Re;return(Re=J==null?void 0:J.diff.read(ce))===null||Re===void 0?void 0:Re.mappings.map(Be=>Be.lineRangeMapping)}),new X(this._editors))).recomputeInitiallyAndOnChange(this._store);const Mn=this._accessibleDiffViewerVisible.map(T=>T?"hidden":"visible");this._register((0,f.bg)(this.elements.modified,{visibility:Mn})),this._register((0,f.bg)(this.elements.original,{visibility:Mn})),this._createDiffEditorContributions(),St.addDiffEditor(this),this._gutter=(0,E.kA)(this,T=>this._options.shouldRenderGutterMenu.read(T)?this._instantiationService.createInstance((0,f.NW)(Ge,T),this.elements.root,this._diffModel,this._editors):void 0),this._register((0,p.jx)(this._layoutInfo)),(0,E.kA)(this,T=>new((0,f.NW)(ve,T))(this.elements.root,this._diffModel,this._layoutInfo.map(J=>J.originalEditor),this._layoutInfo.map(J=>J.modifiedEditor),this._editors)).recomputeInitiallyAndOnChange(this._store,T=>{this._movedBlocksLinesPart.set(T,void 0)}),this._register(O.ju.runAndSubscribe(this._editors.modified.onDidChangeCursorPosition,T=>this._handleCursorPositionChange(T,!0))),this._register(O.ju.runAndSubscribe(this._editors.original.onDidChangeCursorPosition,T=>this._handleCursorPositionChange(T,!1)));const wt=this._diffModel.map(this,(T,J)=>{if(T)return T.diff.read(J)===void 0&&!T.isDiffUpToDate.read(J)});this._register((0,p.gp)((T,J)=>{if(wt.read(T)===!0){const ce=this._editorProgressService.show(!0,1e3);J.add((0,S.OF)(()=>ce.done()))}})),this._register((0,S.OF)(()=>{var T;this._shouldDisposeDiffModel&&((T=this._diffModel.get())===null||T===void 0||T.dispose())})),this._register((0,p.gp)((T,J)=>{J.add(new((0,f.NW)(Qt,T))(this._editors,this._diffModel,this._options,this))}))}_createInnerEditor(Je,Pt,Wt,Yt){return Je.createInstance(g.Gm,Pt,Wt,Yt)}_createDiffEditorContributions(){const Je=R.Uc.getDiffEditorContributions();for(const Pt of Je)try{this._register(this._instantiationService.createInstance(Pt.ctor,this))}catch(Wt){(0,x.dL)(Wt)}}get _targetEditor(){return this._editors.modified}getEditorType(){return Ci.g.IDiffEditor}layout(Je){this._rootSizeObserver.observe(Je)}hasTextFocus(){return this._editors.original.hasTextFocus()||this._editors.modified.hasTextFocus()}saveViewState(){var Je;const Pt=this._editors.original.saveViewState(),Wt=this._editors.modified.saveViewState();return{original:Pt,modified:Wt,modelState:(Je=this._diffModel.get())===null||Je===void 0?void 0:Je.serializeState()}}restoreViewState(Je){var Pt;if(Je&&Je.original&&Je.modified){const Wt=Je;this._editors.original.restoreViewState(Wt.original),this._editors.modified.restoreViewState(Wt.modified),Wt.modelState&&((Pt=this._diffModel.get())===null||Pt===void 0||Pt.restoreSerializedState(Wt.modelState))}}handleInitialized(){this._editors.original.handleInitialized(),this._editors.modified.handleInitialized()}createViewModel(Je){return this._instantiationService.createInstance(yt,Je,this._options)}getModel(){var Je,Pt;return(Pt=(Je=this._diffModel.get())===null||Je===void 0?void 0:Je.model)!==null&&Pt!==void 0?Pt:null}setModel(Je,Pt){!Je&&this._diffModel.get()&&this._accessibleDiffViewer.get().close();const Wt=Je?"model"in Je?{model:Je,shouldDispose:!1}:{model:this.createViewModel(Je),shouldDispose:!0}:void 0;this._diffModel.get()!==(Wt==null?void 0:Wt.model)&&(0,p.c8)(Pt,Yt=>{var Vt;p.rD.batchEventsGlobally(Yt,()=>{this._editors.original.setModel(Wt?Wt.model.model.original:null),this._editors.modified.setModel(Wt?Wt.model.model.modified:null)});const St=this._diffModel.get(),Kt=this._shouldDisposeDiffModel;this._shouldDisposeDiffModel=(Vt=Wt==null?void 0:Wt.shouldDispose)!==null&&Vt!==void 0?Vt:!1,this._diffModel.set(Wt==null?void 0:Wt.model,Yt),Kt&&(St==null||St.dispose())})}updateOptions(Je){this._options.updateOptions(Je)}getContainerDomNode(){return this._domElement}getOriginalEditor(){return this._editors.original}getModifiedEditor(){return this._editors.modified}getLineChanges(){var Je;const Pt=(Je=this._diffModel.get())===null||Je===void 0?void 0:Je.diff.get();return Pt?sn(Pt):null}revert(Je){const Pt=this._diffModel.get();!Pt||!Pt.isDiffUpToDate.get()||this._editors.modified.executeEdits("diffEditor",[{range:Je.modified.toExclusiveRange(),text:Pt.model.original.getValueInRange(Je.original.toExclusiveRange())}])}revertRangeMappings(Je){const Pt=this._diffModel.get();if(!Pt||!Pt.isDiffUpToDate.get())return;const Wt=Je.map(Yt=>({range:Yt.modifiedRange,text:Pt.model.original.getValueInRange(Yt.originalRange)}));this._editors.modified.executeEdits("diffEditor",Wt)}_goTo(Je){this._editors.modified.setPosition(new N.L(Je.lineRangeMapping.modified.startLineNumber,1)),this._editors.modified.revealRangeInCenter(Je.lineRangeMapping.modified.toExclusiveRange())}goToDiff(Je){var Pt,Wt,Yt,Vt;const St=(Wt=(Pt=this._diffModel.get())===null||Pt===void 0?void 0:Pt.diff.get())===null||Wt===void 0?void 0:Wt.mappings;if(!St||St.length===0)return;const Kt=this._editors.modified.getPosition().lineNumber;let ei;Je==="next"?ei=(Yt=St.find(Ei=>Ei.lineRangeMapping.modified.startLineNumber>Kt))!==null&&Yt!==void 0?Yt:St[0]:ei=(Vt=(0,B.dF)(St,Ei=>Ei.lineRangeMapping.modified.startLineNumber<Kt))!==null&&Vt!==void 0?Vt:St[St.length-1],this._goTo(ei),ei.lineRangeMapping.modified.isEmpty?this._accessibilitySignalService.playSignal(P.iP.diffLineDeleted,{source:"diffEditor.goToDiff"}):ei.lineRangeMapping.original.isEmpty?this._accessibilitySignalService.playSignal(P.iP.diffLineInserted,{source:"diffEditor.goToDiff"}):ei&&this._accessibilitySignalService.playSignal(P.iP.diffLineModified,{source:"diffEditor.goToDiff"})}revealFirstDiff(){const Je=this._diffModel.get();Je&&this.waitForDiff().then(()=>{var Pt;const Wt=(Pt=Je.diff.get())===null||Pt===void 0?void 0:Pt.mappings;!Wt||Wt.length===0||this._goTo(Wt[0])})}accessibleDiffViewerNext(){this._accessibleDiffViewer.get().next()}accessibleDiffViewerPrev(){this._accessibleDiffViewer.get().prev()}waitForDiff(){return Ft(this,null,function*(){const Je=this._diffModel.get();Je&&(yield Je.waitForDiff())})}mapToOtherSide(){var Je,Pt;const Wt=this._editors.modified.hasWidgetFocus(),Yt=Wt?this._editors.modified:this._editors.original,Vt=Wt?this._editors.original:this._editors.modified;let St;const Kt=Yt.getSelection();if(Kt){const ei=(Pt=(Je=this._diffModel.get())===null||Je===void 0?void 0:Je.diff.get())===null||Pt===void 0?void 0:Pt.mappings.map(Ei=>Wt?Ei.lineRangeMapping.flip():Ei.lineRangeMapping);if(ei){const Ei=(0,f.cV)(Kt.getStartPosition(),ei),Li=(0,f.cV)(Kt.getEndPosition(),ei);St=b.e.plusRange(Ei,Li)}}return{destination:Vt,destinationSelection:St}}switchSide(){const{destination:Je,destinationSelection:Pt}=this.mapToOtherSide();Je.focus(),Pt&&Je.setSelection(Pt)}exitCompareMove(){const Je=this._diffModel.get();Je&&Je.movedTextToCompare.set(void 0,void 0)}collapseAllUnchangedRegions(){var Je;const Pt=(Je=this._diffModel.get())===null||Je===void 0?void 0:Je.unchangedRegions.get();Pt&&(0,p.PS)(Wt=>{for(const Yt of Pt)Yt.collapseAll(Wt)})}showAllUnchangedRegions(){var Je;const Pt=(Je=this._diffModel.get())===null||Je===void 0?void 0:Je.unchangedRegions.get();Pt&&(0,p.PS)(Wt=>{for(const Yt of Pt)Yt.showAll(Wt)})}_handleCursorPositionChange(Je,Pt){var Wt,Yt;if((Je==null?void 0:Je.reason)===3){const Vt=(Yt=(Wt=this._diffModel.get())===null||Wt===void 0?void 0:Wt.diff.get())===null||Yt===void 0?void 0:Yt.mappings.find(St=>Pt?St.lineRangeMapping.modified.contains(Je.position.lineNumber):St.lineRangeMapping.original.contains(Je.position.lineNumber));Vt!=null&&Vt.lineRangeMapping.modified.isEmpty?this._accessibilitySignalService.playSignal(P.iP.diffLineDeleted,{source:"diffEditor.cursorPositionChanged"}):Vt!=null&&Vt.lineRangeMapping.original.isEmpty?this._accessibilitySignalService.playSignal(P.iP.diffLineInserted,{source:"diffEditor.cursorPositionChanged"}):Vt&&this._accessibilitySignalService.playSignal(P.iP.diffLineModified,{source:"diffEditor.cursorPositionChanged"})}}};rn=tn([Hi(3,$e.i6),Hi(4,I.TG),Hi(5,w.$),Hi(6,P.IV),Hi(7,Qi.ek)],rn);function sn(fi){return fi.mappings.map(Je=>{const Pt=Je.lineRangeMapping;let Wt,Yt,Vt,St,Kt=Pt.innerChanges;return Pt.original.isEmpty?(Wt=Pt.original.startLineNumber-1,Yt=0,Kt=void 0):(Wt=Pt.original.startLineNumber,Yt=Pt.original.endLineNumberExclusive-1),Pt.modified.isEmpty?(Vt=Pt.modified.startLineNumber-1,St=0,Kt=void 0):(Vt=Pt.modified.startLineNumber,St=Pt.modified.endLineNumberExclusive-1),{originalStartLineNumber:Wt,originalEndLineNumber:Yt,modifiedStartLineNumber:Vt,modifiedEndLineNumber:St,charChanges:Kt==null?void 0:Kt.map(ei=>({originalStartLineNumber:ei.originalRange.startLineNumber,originalStartColumn:ei.originalRange.startColumn,originalEndLineNumber:ei.originalRange.endLineNumber,originalEndColumn:ei.originalRange.endColumn,modifiedStartLineNumber:ei.modifiedRange.startLineNumber,modifiedStartColumn:ei.modifiedRange.startColumn,modifiedEndLineNumber:ei.modifiedRange.endLineNumber,modifiedEndColumn:ei.modifiedRange.endColumn}))}})}},73434:function(et,Le,e){"use strict";e.d(Le,{O:function(){return f}});var o=e(91540),B=e(60661),x=e(24752),O=e(60473),S=e(45029),p=e(17009),E=e(55162),R=e(68777),w=e(26974),m=e(75605),g=e(56348),a=e(93895),r=e(4694),i=e(91895),n=e(61652),c=e(87058),u=function(C,_,N,b){var k=arguments.length,V=k<3?_:b===null?b=Object.getOwnPropertyDescriptor(_,N):b,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")V=Reflect.decorate(C,_,N,b);else for(var Z=C.length-1;Z>=0;Z--)(K=C[Z])&&(V=(k<3?K(V):k>3?K(_,N,V):K(_,N))||V);return k>3&&V&&Object.defineProperty(_,N,V),V},l=function(C,_){return function(N,b){_(N,b,C)}},D;let f=D=class extends S.JT{static setBreadcrumbsSourceFactory(_){this._breadcrumbsSourceFactory.set(_,void 0)}get isUpdatingHiddenAreas(){return this._isUpdatingHiddenAreas}constructor(_,N,b,k){super(),this._editors=_,this._diffModel=N,this._options=b,this._instantiationService=k,this._modifiedOutlineSource=(0,E.kA)(this,z=>{const A=this._editors.modifiedModel.read(z),P=D._breadcrumbsSourceFactory.read(z);return!A||!P?void 0:P(A,this._instantiationService)}),this._isUpdatingHiddenAreas=!1,this._register(this._editors.original.onDidChangeCursorPosition(z=>{if(z.reason===1)return;const A=this._diffModel.get();(0,p.PS)(P=>{for(const I of this._editors.original.getSelections()||[])A==null||A.ensureOriginalLineIsVisible(I.getStartPosition().lineNumber,0,P),A==null||A.ensureOriginalLineIsVisible(I.getEndPosition().lineNumber,0,P)})})),this._register(this._editors.modified.onDidChangeCursorPosition(z=>{if(z.reason===1)return;const A=this._diffModel.get();(0,p.PS)(P=>{for(const I of this._editors.modified.getSelections()||[])A==null||A.ensureModifiedLineIsVisible(I.getStartPosition().lineNumber,0,P),A==null||A.ensureModifiedLineIsVisible(I.getEndPosition().lineNumber,0,P)})}));const V=this._diffModel.map((z,A)=>{var P,I;const W=(P=z==null?void 0:z.unchangedRegions.read(A))!==null&&P!==void 0?P:[];return W.length===1&&W[0].modifiedLineNumber===1&&W[0].lineCount===((I=this._editors.modifiedModel.read(A))===null||I===void 0?void 0:I.getLineCount())?[]:W});this.viewZones=(0,p.Be)(this,(z,A)=>{const P=this._modifiedOutlineSource.read(z);if(!P)return{origViewZones:[],modViewZones:[]};const I=[],W=[],G=this._options.renderSideBySide.read(z),j=V.read(z);for(const Y of j)if(!Y.shouldHideControls(z)){{const H=(0,p.nK)(this,ie=>Y.getHiddenOriginalRange(ie).startLineNumber-1),Q=new m.GD(H,24);I.push(Q),A.add(new y(this._editors.original,Q,Y,Y.originalUnchangedRange,!G,P,ie=>this._diffModel.get().ensureModifiedLineIsVisible(ie,2,void 0),this._options))}{const H=(0,p.nK)(this,ie=>Y.getHiddenModifiedRange(ie).startLineNumber-1),Q=new m.GD(H,24);W.push(Q),A.add(new y(this._editors.modified,Q,Y,Y.modifiedUnchangedRange,!1,P,ie=>this._diffModel.get().ensureModifiedLineIsVisible(ie,2,void 0),this._options))}}return{origViewZones:I,modViewZones:W}});const K={description:"unchanged lines",className:"diff-unchanged-lines",isWholeLine:!0},Z={description:"Fold Unchanged",glyphMarginHoverMessage:new O.W5(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown((0,n.NC)("foldUnchanged","Fold Unchanged Region")),glyphMarginClassName:"fold-unchanged "+R.k.asClassName(x.l.fold),zIndex:10001};this._register((0,m.RP)(this._editors.original,(0,p.nK)(this,z=>{const A=V.read(z),P=A.map(I=>({range:I.originalUnchangedRange.toInclusiveRange(),options:K}));for(const I of A)I.shouldHideControls(z)&&P.push({range:r.e.fromPositions(new a.L(I.originalLineNumber,1)),options:Z});return P}))),this._register((0,m.RP)(this._editors.modified,(0,p.nK)(this,z=>{const A=V.read(z),P=A.map(I=>({range:I.modifiedUnchangedRange.toInclusiveRange(),options:K}));for(const I of A)I.shouldHideControls(z)&&P.push({range:g.z.ofLength(I.modifiedLineNumber,1).toInclusiveRange(),options:Z});return P}))),this._register((0,p.EH)(z=>{const A=V.read(z);this._isUpdatingHiddenAreas=!0;try{this._editors.original.setHiddenAreas(A.map(P=>P.getHiddenOriginalRange(z).toInclusiveRange()).filter(w.$K)),this._editors.modified.setHiddenAreas(A.map(P=>P.getHiddenModifiedRange(z).toInclusiveRange()).filter(w.$K))}finally{this._isUpdatingHiddenAreas=!1}})),this._register(this._editors.modified.onMouseUp(z=>{var A;if(!z.event.rightButton&&z.target.position&&(!((A=z.target.element)===null||A===void 0)&&A.className.includes("fold-unchanged"))){const P=z.target.position.lineNumber,I=this._diffModel.get();if(!I)return;const W=I.unchangedRegions.get().find(G=>G.modifiedUnchangedRange.includes(P));if(!W)return;W.collapseAll(void 0),z.event.stopPropagation(),z.event.preventDefault()}})),this._register(this._editors.original.onMouseUp(z=>{var A;if(!z.event.rightButton&&z.target.position&&(!((A=z.target.element)===null||A===void 0)&&A.className.includes("fold-unchanged"))){const P=z.target.position.lineNumber,I=this._diffModel.get();if(!I)return;const W=I.unchangedRegions.get().find(G=>G.originalUnchangedRange.includes(P));if(!W)return;W.collapseAll(void 0),z.event.stopPropagation(),z.event.preventDefault()}}))}};f._breadcrumbsSourceFactory=(0,p.uh)("breadcrumbsSourceFactory",void 0),f=D=u([l(3,c.TG)],f);class y extends m.N9{constructor(_,N,b,k,V,K,Z,z){const A=(0,o.h)("div.diff-hidden-lines-widget");super(_,N,A.root),this._editor=_,this._unchangedRegion=b,this._unchangedRegionRange=k,this._hide=V,this._modifiedOutlineSource=K,this._revealModifiedHiddenLine=Z,this._options=z,this._nodes=(0,o.h)("div.diff-hidden-lines",[(0,o.h)("div.top@top",{title:(0,n.NC)("diff.hiddenLines.top","Click or drag to show more above")}),(0,o.h)("div.center@content",{style:{display:"flex"}},[(0,o.h)("div@first",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0"}},[(0,o.$)("a",{title:(0,n.NC)("showUnchangedRegion","Show Unchanged Region"),role:"button",onclick:()=>{this._unchangedRegion.showAll(void 0)}},...(0,B.T)("$(unfold)"))]),(0,o.h)("div@others",{style:{display:"flex",justifyContent:"center",alignItems:"center"}})]),(0,o.h)("div.bottom@bottom",{title:(0,n.NC)("diff.bottom","Click or drag to show more below"),role:"button"})]),A.root.appendChild(this._nodes.root);const P=(0,p.rD)(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());this._hide?(0,o.mc)(this._nodes.first):this._register((0,m.bg)(this._nodes.first,{width:P.map(W=>W.contentLeft)})),this._register((0,p.EH)(W=>{const G=this._unchangedRegion.visibleLineCountTop.read(W)+this._unchangedRegion.visibleLineCountBottom.read(W)===this._unchangedRegion.lineCount;this._nodes.bottom.classList.toggle("canMoveTop",!G),this._nodes.bottom.classList.toggle("canMoveBottom",this._unchangedRegion.visibleLineCountBottom.read(W)>0),this._nodes.top.classList.toggle("canMoveTop",this._unchangedRegion.visibleLineCountTop.read(W)>0),this._nodes.top.classList.toggle("canMoveBottom",!G);const j=this._unchangedRegion.isDragged.read(W),Y=this._editor.getDomNode();Y&&(Y.classList.toggle("draggingUnchangedRegion",!!j),j==="top"?(Y.classList.toggle("canMoveTop",this._unchangedRegion.visibleLineCountTop.read(W)>0),Y.classList.toggle("canMoveBottom",!G)):j==="bottom"?(Y.classList.toggle("canMoveTop",!G),Y.classList.toggle("canMoveBottom",this._unchangedRegion.visibleLineCountBottom.read(W)>0)):(Y.classList.toggle("canMoveTop",!1),Y.classList.toggle("canMoveBottom",!1)))}));const I=this._editor;this._register((0,o.nm)(this._nodes.top,"mousedown",W=>{if(W.button!==0)return;this._nodes.top.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),W.preventDefault();const G=W.clientY;let j=!1;const Y=this._unchangedRegion.visibleLineCountTop.get();this._unchangedRegion.isDragged.set("top",void 0);const H=(0,o.Jj)(this._nodes.top),Q=(0,o.nm)(H,"mousemove",te=>{const ne=te.clientY-G;j=j||Math.abs(ne)>2;const ee=Math.round(ne/I.getOption(67)),re=Math.max(0,Math.min(Y+ee,this._unchangedRegion.getMaxVisibleLineCountTop()));this._unchangedRegion.visibleLineCountTop.set(re,void 0)}),ie=(0,o.nm)(H,"mouseup",te=>{j||this._unchangedRegion.showMoreAbove(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0),this._nodes.top.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),this._unchangedRegion.isDragged.set(void 0,void 0),Q.dispose(),ie.dispose()})})),this._register((0,o.nm)(this._nodes.bottom,"mousedown",W=>{if(W.button!==0)return;this._nodes.bottom.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),W.preventDefault();const G=W.clientY;let j=!1;const Y=this._unchangedRegion.visibleLineCountBottom.get();this._unchangedRegion.isDragged.set("bottom",void 0);const H=(0,o.Jj)(this._nodes.bottom),Q=(0,o.nm)(H,"mousemove",te=>{const ne=te.clientY-G;j=j||Math.abs(ne)>2;const ee=Math.round(ne/I.getOption(67)),re=Math.max(0,Math.min(Y-ee,this._unchangedRegion.getMaxVisibleLineCountBottom())),he=this._unchangedRegionRange.endLineNumberExclusive>I.getModel().getLineCount()?I.getContentHeight():I.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.visibleLineCountBottom.set(re,void 0);const M=this._unchangedRegionRange.endLineNumberExclusive>I.getModel().getLineCount()?I.getContentHeight():I.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);I.setScrollTop(I.getScrollTop()+(M-he))}),ie=(0,o.nm)(H,"mouseup",te=>{if(this._unchangedRegion.isDragged.set(void 0,void 0),!j){const se=I.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.showMoreBelow(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0);const ne=I.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);I.setScrollTop(I.getScrollTop()+(ne-se))}this._nodes.bottom.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),Q.dispose(),ie.dispose()})})),this._register((0,p.EH)(W=>{const G=[];if(!this._hide){const j=b.getHiddenModifiedRange(W).length,Y=(0,n.NC)("hiddenLines","{0} hidden lines",j),H=(0,o.$)("span",{title:(0,n.NC)("diff.hiddenLines.expandAll","Double click to unfold")},Y);H.addEventListener("dblclick",te=>{te.button===0&&(te.preventDefault(),this._unchangedRegion.showAll(void 0))}),G.push(H);const Q=this._unchangedRegion.getHiddenModifiedRange(W),ie=this._modifiedOutlineSource.getBreadcrumbItems(Q,W);if(ie.length>0){G.push((0,o.$)("span",void 0,"\xA0\xA0|\xA0\xA0"));for(let te=0;te<ie.length;te++){const se=ie[te],ne=i.uZ.toIcon(se.kind),ee=(0,o.h)("div.breadcrumb-item",{style:{display:"flex",alignItems:"center"}},[(0,B.h)(ne),"\xA0",se.name,...te===ie.length-1?[]:[(0,B.h)(x.l.chevronRight)]]).root;G.push(ee),ee.onclick=()=>{this._revealModifiedHiddenLine(se.startLineNumber)}}}}(0,o.mc)(this._nodes.others,...G)}))}}},90517:function(et,Le,e){"use strict";e.d(Le,{$F:function(){return y},Jv:function(){return u},LE:function(){return c},W3:function(){return f},fO:function(){return g},i_:function(){return n},iq:function(){return r},n_:function(){return l},rd:function(){return i},rq:function(){return D},vv:function(){return a}});var o=e(24752),B=e(68777),x=e(93059),O=e(61652),S=e(97341),p=e(76557);const E=(0,S.P6G)("diffEditor.move.border",{dark:"#8b8b8b9c",light:"#8b8b8b9c",hcDark:"#8b8b8b9c",hcLight:"#8b8b8b9c"},(0,O.NC)("diffEditor.move.border","The border color for text that got moved in the diff editor.")),R=(0,S.P6G)("diffEditor.moveActive.border",{dark:"#FFA500",light:"#FFA500",hcDark:"#FFA500",hcLight:"#FFA500"},(0,O.NC)("diffEditor.moveActive.border","The active border color for text that got moved in the diff editor.")),w=(0,S.P6G)("diffEditor.unchangedRegionShadow",{dark:"#000000",light:"#737373BF",hcDark:"#000000",hcLight:"#737373BF"},(0,O.NC)("diffEditor.unchangedRegionShadow","The color of the shadow around unchanged region widgets.")),m=(0,p.q5)("diff-insert",o.l.add,(0,O.NC)("diffInsertIcon","Line decoration for inserts in the diff editor.")),g=(0,p.q5)("diff-remove",o.l.remove,(0,O.NC)("diffRemoveIcon","Line decoration for removals in the diff editor.")),a=x.qx.register({className:"line-insert",description:"line-insert",isWholeLine:!0,linesDecorationsClassName:"insert-sign "+B.k.asClassName(m),marginClassName:"gutter-insert"}),r=x.qx.register({className:"line-delete",description:"line-delete",isWholeLine:!0,linesDecorationsClassName:"delete-sign "+B.k.asClassName(g),marginClassName:"gutter-delete"}),i=x.qx.register({className:"line-insert",description:"line-insert",isWholeLine:!0,marginClassName:"gutter-insert"}),n=x.qx.register({className:"line-delete",description:"line-delete",isWholeLine:!0,marginClassName:"gutter-delete"}),c=x.qx.register({className:"char-insert",description:"char-insert",shouldFillLineOnLineBreak:!0}),u=x.qx.register({className:"char-insert",description:"char-insert",isWholeLine:!0}),l=x.qx.register({className:"char-insert diff-range-empty",description:"char-insert diff-range-empty"}),D=x.qx.register({className:"char-delete",description:"char-delete",shouldFillLineOnLineBreak:!0}),f=x.qx.register({className:"char-delete",description:"char-delete",isWholeLine:!0}),y=x.qx.register({className:"char-delete diff-range-empty",description:"char-delete diff-range-empty"})},75605:function(et,Le,e){"use strict";e.d(Le,{t2:function(){return K},DU:function(){return l},GD:function(){return C},N9:function(){return y},Vm:function(){return D},xx:function(){return c},RP:function(){return n},bg:function(){return N},Sv:function(){return V},GU:function(){return A},W7:function(){return P},Ap:function(){return i},RL:function(){return u},NW:function(){return b},cV:function(){return Z}});var o=e(15864),B=e(65642),x=e(953);function O(){return x.OB&&!!x.OB.VSCODE_DEV}function S(I){if(O()){const W=p();return W.add(I),{dispose(){W.delete(I)}}}else return{dispose(){}}}function p(){E||(E=new Set);const I=globalThis;return I.$hotReload_applyNewExports||(I.$hotReload_applyNewExports=W=>{const G=vi({config:{mode:void 0}},W);for(const j of E){const Y=j(G);if(Y)return Y}}),E}let E;O()&&S(({oldExports:I,newSrc:W,config:G})=>{if(G.mode==="patch-prototype")return j=>{var Y,H;for(const Q in j){const ie=j[Q];if(console.log(`[hot-reload] Patching prototype methods of '${Q}'`,{exportedItem:ie}),typeof ie=="function"&&ie.prototype){const te=I[Q];if(te){for(const se of Object.getOwnPropertyNames(ie.prototype)){const ne=Object.getOwnPropertyDescriptor(ie.prototype,se),ee=Object.getOwnPropertyDescriptor(te.prototype,se);((Y=ne==null?void 0:ne.value)===null||Y===void 0?void 0:Y.toString())!==((H=ee==null?void 0:ee.value)===null||H===void 0?void 0:H.toString())&&console.log(`[hot-reload] Patching prototype method '${Q}.${se}'`),Object.defineProperty(te.prototype,se,ne)}j[Q]=te}}}return!0}});var R=e(45029),w=e(17009),m=e(84669),g=e(93895),a=e(4694),r=e(39470);function i(I,W,G,j){if(I.length===0)return W;if(W.length===0)return I;const Y=[];let H=0,Q=0;for(;H<I.length&&Q<W.length;){const ie=I[H],te=W[Q],se=G(ie),ne=G(te);se<ne?(Y.push(ie),H++):se>ne?(Y.push(te),Q++):(Y.push(j(ie,te)),H++,Q++)}for(;H<I.length;)Y.push(I[H]),H++;for(;Q<W.length;)Y.push(W[Q]),Q++;return Y}function n(I,W){const G=new R.SL,j=I.createDecorationsCollection();return G.add((0,w.UV)({debugName:()=>`Apply decorations from ${W.debugName}`},Y=>{const H=W.read(Y);j.set(H)})),G.add({dispose:()=>{j.clear()}}),G}function c(I,W){return I.appendChild(W),(0,R.OF)(()=>{I.removeChild(W)})}function u(I,W){return I.prepend(W),(0,R.OF)(()=>{I.removeChild(W)})}class l extends R.JT{get width(){return this._width}get height(){return this._height}constructor(W,G){super(),this.elementSizeObserver=this._register(new m.I(W,G)),this._width=(0,w.uh)(this,this.elementSizeObserver.getWidth()),this._height=(0,w.uh)(this,this.elementSizeObserver.getHeight()),this._register(this.elementSizeObserver.onDidChange(j=>(0,w.PS)(Y=>{this._width.set(this.elementSizeObserver.getWidth(),Y),this._height.set(this.elementSizeObserver.getHeight(),Y)})))}observe(W){this.elementSizeObserver.observe(W)}setAutomaticLayout(W){W?this.elementSizeObserver.startObserving():this.elementSizeObserver.stopObserving()}}function D(I,W,G){let j=W.get(),Y=j,H=j;const Q=(0,w.uh)("animatedValue",j);let ie=-1;const te=300;let se;G.add((0,w.nJ)({createEmptyChangeSummary:()=>({animate:!1}),handleChange:(ee,re)=>(ee.didChange(W)&&(re.animate=re.animate||ee.change),!0)},(ee,re)=>{se!==void 0&&(I.cancelAnimationFrame(se),se=void 0),Y=H,j=W.read(ee),ie=Date.now()-(re.animate?0:te),ne()}));function ne(){const ee=Date.now()-ie;H=Math.floor(f(ee,Y,j-Y,te)),ee<te?se=I.requestAnimationFrame(ne):H=j,Q.set(H,void 0)}return Q}function f(I,W,G,j){return I===j?W+G:G*(-Math.pow(2,-10*I/j)+1)+W}class y extends R.JT{constructor(W,G,j){super(),this._register(new _(W,j)),this._register(N(j,{height:G.actualHeight,top:G.actualTop}))}}class C{get afterLineNumber(){return this._afterLineNumber.get()}constructor(W,G){this._afterLineNumber=W,this.heightInPx=G,this.domNode=document.createElement("div"),this._actualTop=(0,w.uh)(this,void 0),this._actualHeight=(0,w.uh)(this,void 0),this.actualTop=this._actualTop,this.actualHeight=this._actualHeight,this.showInHiddenAreas=!0,this.onChange=this._afterLineNumber,this.onDomNodeTop=j=>{this._actualTop.set(j,void 0)},this.onComputedHeight=j=>{this._actualHeight.set(j,void 0)}}}class _{constructor(W,G){this._editor=W,this._domElement=G,this._overlayWidgetId=`managedOverlayWidget-${_._counter++}`,this._overlayWidget={getId:()=>this._overlayWidgetId,getDomNode:()=>this._domElement,getPosition:()=>null},this._editor.addOverlayWidget(this._overlayWidget)}dispose(){this._editor.removeOverlayWidget(this._overlayWidget)}}_._counter=0;function N(I,W){return(0,w.EH)(G=>{for(let[j,Y]of Object.entries(W))Y&&typeof Y=="object"&&"read"in Y&&(Y=Y.read(G)),typeof Y=="number"&&(Y=`${Y}px`),j=j.replace(/[A-Z]/g,H=>"-"+H.toLowerCase()),I.style[j]=Y})}function b(I,W){return k([I],W),I}function k(I,W){O()&&(0,w.aq)("reload",j=>S(({oldExports:Y})=>{if([...Object.values(Y)].some(H=>I.includes(H)))return H=>(j(void 0),!0)})).read(W)}function V(I,W,G,j){const Y=new R.SL,H=[];return Y.add((0,w.gp)((Q,ie)=>{const te=W.read(Q),se=new Map,ne=new Map;G&&G(!0),I.changeViewZones(ee=>{for(const re of H)ee.removeZone(re),j==null||j.delete(re);H.length=0;for(const re of te){const he=ee.addZone(re);re.setZoneId&&re.setZoneId(he),H.push(he),j==null||j.add(he),se.set(re,he)}}),G&&G(!1),ie.add((0,w.nJ)({createEmptyChangeSummary(){return{zoneIds:[]}},handleChange(ee,re){const he=ne.get(ee.changedObservable);return he!==void 0&&re.zoneIds.push(he),!0}},(ee,re)=>{for(const he of te)he.onChange&&(ne.set(he.onChange,se.get(he)),he.onChange.read(ee));G&&G(!0),I.changeViewZones(he=>{for(const M of re.zoneIds)he.layoutZone(M)}),G&&G(!1)}))})),Y.add({dispose(){G&&G(!0),I.changeViewZones(Q=>{for(const ie of H)Q.removeZone(ie)}),j==null||j.clear(),G&&G(!1)}}),Y}class K extends B.AU{dispose(){super.dispose(!0)}}function Z(I,W){const G=(0,o.dF)(W,Y=>Y.original.startLineNumber<=I.lineNumber);if(!G)return a.e.fromPositions(I);if(G.original.endLineNumberExclusive<=I.lineNumber){const Y=I.lineNumber-G.original.endLineNumberExclusive+G.modified.endLineNumberExclusive;return a.e.fromPositions(new g.L(Y,I.column))}if(!G.innerChanges)return a.e.fromPositions(new g.L(G.modified.startLineNumber,1));const j=(0,o.dF)(G.innerChanges,Y=>Y.originalRange.getStartPosition().isBeforeOrEqual(I));if(!j){const Y=I.lineNumber-G.original.startLineNumber+G.modified.startLineNumber;return a.e.fromPositions(new g.L(Y,I.column))}if(j.originalRange.containsPosition(I))return j.modifiedRange;{const Y=z(j.originalRange.getEndPosition(),I);return a.e.fromPositions(Y.addToPosition(j.modifiedRange.getEndPosition()))}}function z(I,W){return I.lineNumber===W.lineNumber?new r.A(0,W.column-I.column):new r.A(W.lineNumber-I.lineNumber,W.column-1)}function A(I,W,G){const j=I.bindTo(W);return(0,w.UV)({debugName:()=>`Set Context Key "${I.key}"`},Y=>{j.set(G(Y))})}function P(I,W){let G;return I.filter(j=>{const Y=W(j,G);return G=j,Y})}},63038:function(et,Le,e){"use strict";e.d(Le,{$:function(){return i},N:function(){return n}});var o=e(60906),B=e(73275),x=e(25602),O=e(79329),S=e(45029),p=e(43901),E=e(50131),R=e(13057),w=e(86715),m=e(27473),g=function(u,l,D,f){var y=arguments.length,C=y<3?l:f===null?f=Object.getOwnPropertyDescriptor(l,D):f,_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(u,l,D,f);else for(var N=u.length-1;N>=0;N--)(_=u[N])&&(C=(y<3?_(C):y>3?_(l,D,C):_(l,D))||C);return y>3&&C&&Object.defineProperty(l,D,C),C},a=function(u,l){return function(D,f){l(D,f,u)}},r;let i=r=class{constructor(l,D,f){this._options=l,this._languageService=D,this._openerService=f,this._onDidRenderAsync=new O.Q5,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(l,D,f){if(!l)return{element:document.createElement("span"),dispose:()=>{}};const y=new S.SL,C=y.add((0,o.ap)(l,vi(vi({},this._getRenderOptions(l,y)),D),f));return C.element.classList.add("rendered-markdown"),{element:C.element,dispose:()=>y.dispose()}}_getRenderOptions(l,D){return{codeBlockRenderer:(f,y)=>Ft(this,null,function*(){var C,_,N;let b;f?b=this._languageService.getLanguageIdByLanguageName(f):this._options.editor&&(b=(C=this._options.editor.getModel())===null||C===void 0?void 0:C.getLanguageId()),b||(b=R.bd);const k=yield(0,w.C2)(this._languageService,y,b),V=document.createElement("span");if(V.innerHTML=(N=(_=r._ttpTokenizer)===null||_===void 0?void 0:_.createHTML(k))!==null&&N!==void 0?N:k,this._options.editor){const K=this._options.editor.getOption(50);(0,p.N)(V,K)}else this._options.codeBlockFontFamily&&(V.style.fontFamily=this._options.codeBlockFontFamily);return this._options.codeBlockFontSize!==void 0&&(V.style.fontSize=this._options.codeBlockFontSize),V}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:f=>n(this._openerService,f,l.isTrusted),disposables:D}}}};i._ttpTokenizer=(0,B.Z)("tokenizeToString",{createHTML(u){return u}}),i=r=g([a(1,E.O),a(2,m.v)],i);function n(u,l,D){return Ft(this,null,function*(){try{return yield u.open(l,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:c(D)})}catch(f){return(0,x.dL)(f),!1}})}function c(u){return u===!0?!0:u&&Array.isArray(u.enabledCommands)?u.enabledCommands:!1}},73861:function(et,Le,e){"use strict";e.d(Le,{D:function(){return B}});var o=e(43263);class B extends o.Wi{constructor(O){super(),this._getContext=O}runAction(O,S){const p=this._getContext();return super.runAction(O,p)}}},43921:function(et,Le,e){"use strict";e.d(Le,{OY:function(){return x},Sj:function(){return O},T4:function(){return B},Uo:function(){return S},hP:function(){return p}});var o=e(14149);class B{constructor(R,w,m=!1){this._range=R,this._text=w,this.insertsAutoWhitespace=m}getEditOperations(R,w){w.addTrackedEditOperation(this._range,this._text)}computeCursorState(R,w){const g=w.getInverseEditOperations()[0].range;return o.Y.fromPositions(g.getEndPosition())}}class x{constructor(R,w){this._range=R,this._text=w}getEditOperations(R,w){w.addTrackedEditOperation(this._range,this._text)}computeCursorState(R,w){const g=w.getInverseEditOperations()[0].range;return o.Y.fromRange(g,0)}}class O{constructor(R,w,m=!1){this._range=R,this._text=w,this.insertsAutoWhitespace=m}getEditOperations(R,w){w.addTrackedEditOperation(this._range,this._text)}computeCursorState(R,w){const g=w.getInverseEditOperations()[0].range;return o.Y.fromPositions(g.getStartPosition())}}class S{constructor(R,w,m,g,a=!1){this._range=R,this._text=w,this._columnDeltaOffset=g,this._lineNumberDeltaOffset=m,this.insertsAutoWhitespace=a}getEditOperations(R,w){w.addTrackedEditOperation(this._range,this._text)}computeCursorState(R,w){const g=w.getInverseEditOperations()[0].range;return o.Y.fromPositions(g.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}class p{constructor(R,w,m,g=!1){this._range=R,this._text=w,this._initialSelection=m,this._forceMoveMarkers=g,this._selectionId=null}getEditOperations(R,w){w.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=w.trackSelection(this._initialSelection)}computeCursorState(R,w){return w.getTrackedSelection(this._selectionId)}}},45352:function(et,Le,e){"use strict";e.d(Le,{U:function(){return a}});var o=e(30144),B=e(76675),x=e(4694),O=e(14149),S=e(80862),p=e(81275),E=function(r,i,n,c){var u=arguments.length,l=u<3?i:c===null?c=Object.getOwnPropertyDescriptor(i,n):c,D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(r,i,n,c);else for(var f=r.length-1;f>=0;f--)(D=r[f])&&(l=(u<3?D(l):u>3?D(i,n,l):D(i,n))||l);return u>3&&l&&Object.defineProperty(i,n,l),l},R=function(r,i){return function(n,c){i(n,c,r)}},w;const m=Object.create(null);function g(r,i){if(i<=0)return"";m[r]||(m[r]=["",r]);const n=m[r];for(let c=n.length;c<=i;c++)n[c]=n[c-1]+r;return n[i]}let a=w=class{static unshiftIndent(i,n,c,u,l){const D=B.i.visibleColumnFromColumn(i,n,c);if(l){const f=g(" ",u),C=B.i.prevIndentTabStop(D,u)/u;return g(f,C)}else{const f="	",C=B.i.prevRenderTabStop(D,c)/c;return g(f,C)}}static shiftIndent(i,n,c,u,l){const D=B.i.visibleColumnFromColumn(i,n,c);if(l){const f=g(" ",u),C=B.i.nextIndentTabStop(D,u)/u;return g(f,C)}else{const f="	",C=B.i.nextRenderTabStop(D,c)/c;return g(f,C)}}constructor(i,n,c){this._languageConfigurationService=c,this._opts=n,this._selection=i,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}_addEditOperation(i,n,c){this._useLastEditRangeForCursorEndPosition?i.addTrackedEditOperation(n,c):i.addEditOperation(n,c)}getEditOperations(i,n){const c=this._selection.startLineNumber;let u=this._selection.endLineNumber;this._selection.endColumn===1&&c!==u&&(u=u-1);const{tabSize:l,indentSize:D,insertSpaces:f}=this._opts,y=c===u;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(i.getLineContent(c))&&(this._useLastEditRangeForCursorEndPosition=!0);let C=0,_=0;for(let N=c;N<=u;N++,C=_){_=0;const b=i.getLineContent(N);let k=o.LC(b);if(this._opts.isUnshift&&(b.length===0||k===0)||!y&&!this._opts.isUnshift&&b.length===0)continue;if(k===-1&&(k=b.length),N>1&&B.i.visibleColumnFromColumn(b,k+1,l)%D!==0&&i.tokenization.isCheapToTokenize(N-1)){const Z=(0,S.A)(this._opts.autoIndent,i,new x.e(N-1,i.getLineMaxColumn(N-1),N-1,i.getLineMaxColumn(N-1)),this._languageConfigurationService);if(Z){if(_=C,Z.appendText)for(let z=0,A=Z.appendText.length;z<A&&_<D&&Z.appendText.charCodeAt(z)===32;z++)_++;Z.removeText&&(_=Math.max(0,_-Z.removeText));for(let z=0;z<_&&!(k===0||b.charCodeAt(k-1)!==32);z++)k--}}if(this._opts.isUnshift&&k===0)continue;let V;this._opts.isUnshift?V=w.unshiftIndent(b,k+1,l,D,f):V=w.shiftIndent(b,k+1,l,D,f),this._addEditOperation(n,new x.e(N,1,N,k+1),V),N===c&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=k+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&i.getLineLength(c)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const C=f?g(" ",D):"	";for(let _=c;_<=u;_++){const N=i.getLineContent(_);let b=o.LC(N);if(!(this._opts.isUnshift&&(N.length===0||b===0))&&!(!y&&!this._opts.isUnshift&&N.length===0)&&(b===-1&&(b=N.length),!(this._opts.isUnshift&&b===0)))if(this._opts.isUnshift){b=Math.min(b,D);for(let k=0;k<b;k++)if(N.charCodeAt(k)===9){b=k+1;break}this._addEditOperation(n,new x.e(_,1,_,b+1),"")}else this._addEditOperation(n,new x.e(_,1,_,1),C),_===c&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=n.trackSelection(this._selection)}computeCursorState(i,n){if(this._useLastEditRangeForCursorEndPosition){const u=n.getInverseEditOperations()[0];return new O.Y(u.range.endLineNumber,u.range.endColumn,u.range.endLineNumber,u.range.endColumn)}const c=n.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const u=this._selection.startColumn;return c.startColumn<=u?c:c.getDirection()===0?new O.Y(c.startLineNumber,u,c.endLineNumber,c.endColumn):new O.Y(c.endLineNumber,c.endColumn,c.startLineNumber,u)}return c}};a=w=E([R(2,p.c_)],a)},77004:function(et,Le,e){"use strict";e.d(Le,{k:function(){return o}});const o={enableSplitViewResizing:!0,splitViewDefaultRatio:.5,renderSideBySide:!0,renderMarginRevertIcon:!0,renderGutterMenu:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"advanced",accessibilityVerbose:!1,experimental:{showMoves:!1,showEmptyDecorations:!0},hideUnchangedRegions:{enabled:!1,contextLineCount:3,minimumLineCount:3,revealLineCount:20},isInEmbeddedEditor:!1,onlyShowAccessibleDiffViewer:!1,renderSideBySideInlineBreakpoint:900,useInlineViewWhenSpaceIsLimited:!0}},57587:function(et,Le,e){"use strict";e.d(Le,{Pe:function(){return r},ei:function(){return a},wk:function(){return E}});var o=e(77004),B=e(75625),x=e(99022),O=e(61652),S=e(18567),p=e(2816);const E=Object.freeze({id:"editor",order:5,type:"object",title:O.NC("editorConfigurationTitle","Editor"),scope:5}),R=Ki(vi({},E),{properties:{"editor.tabSize":{type:"number",default:x.D.tabSize,minimum:1,markdownDescription:O.NC("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.indentSize":{anyOf:[{type:"string",enum:["tabSize"]},{type:"number",minimum:1}],default:"tabSize",markdownDescription:O.NC("indentSize",'The number of spaces used for indentation or `"tabSize"` to use the value from `#editor.tabSize#`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.')},"editor.insertSpaces":{type:"boolean",default:x.D.insertSpaces,markdownDescription:O.NC("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.detectIndentation":{type:"boolean",default:x.D.detectIndentation,markdownDescription:O.NC("detectIndentation","Controls whether {0} and {1} will be automatically detected when a file is opened based on the file contents.","`#editor.tabSize#`","`#editor.insertSpaces#`")},"editor.trimAutoWhitespace":{type:"boolean",default:x.D.trimAutoWhitespace,description:O.NC("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:x.D.largeFileOptimizations,description:O.NC("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{enum:["off","currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[O.NC("wordBasedSuggestions.off","Turn off Word Based Suggestions."),O.NC("wordBasedSuggestions.currentDocument","Only suggest words from the active document."),O.NC("wordBasedSuggestions.matchingDocuments","Suggest words from all open documents of the same language."),O.NC("wordBasedSuggestions.allDocuments","Suggest words from all open documents.")],description:O.NC("wordBasedSuggestions","Controls whether completions should be computed based on words in the document and from which documents they are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[O.NC("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),O.NC("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),O.NC("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:O.NC("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:O.NC("stablePeek","Keep peek editors open even when double-clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:O.NC("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.experimental.asyncTokenization":{type:"boolean",default:!1,description:O.NC("editor.experimental.asyncTokenization","Controls whether the tokenization should happen asynchronously on a web worker."),tags:["experimental"]},"editor.experimental.asyncTokenizationLogging":{type:"boolean",default:!1,description:O.NC("editor.experimental.asyncTokenizationLogging","Controls whether async tokenization should be logged. For debugging only.")},"editor.experimental.asyncTokenizationVerification":{type:"boolean",default:!1,description:O.NC("editor.experimental.asyncTokenizationVerification","Controls whether async tokenization should be verified against legacy background tokenization. Might slow down tokenization. For debugging only."),tags:["experimental"]},"editor.language.brackets":{type:["array","null"],default:null,description:O.NC("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:O.NC("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:O.NC("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:O.NC("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:O.NC("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:O.NC("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:o.k.maxComputationTime,description:O.NC("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:o.k.maxFileSize,description:O.NC("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:o.k.renderSideBySide,description:O.NC("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.renderSideBySideInlineBreakpoint":{type:"number",default:o.k.renderSideBySideInlineBreakpoint,description:O.NC("renderSideBySideInlineBreakpoint","If the diff editor width is smaller than this value, the inline view is used.")},"diffEditor.useInlineViewWhenSpaceIsLimited":{type:"boolean",default:o.k.useInlineViewWhenSpaceIsLimited,description:O.NC("useInlineViewWhenSpaceIsLimited","If enabled and the editor width is too small, the inline view is used.")},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:o.k.renderMarginRevertIcon,description:O.NC("renderMarginRevertIcon","When enabled, the diff editor shows arrows in its glyph margin to revert changes.")},"diffEditor.renderGutterMenu":{type:"boolean",default:o.k.renderGutterMenu,description:O.NC("renderGutterMenu","When enabled, the diff editor shows a special gutter for revert and stage actions.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:o.k.ignoreTrimWhitespace,description:O.NC("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:o.k.renderIndicators,description:O.NC("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:o.k.diffCodeLens,description:O.NC("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:o.k.diffWordWrap,markdownEnumDescriptions:[O.NC("wordWrap.off","Lines will never wrap."),O.NC("wordWrap.on","Lines will wrap at the viewport width."),O.NC("wordWrap.inherit","Lines will wrap according to the {0} setting.","`#editor.wordWrap#`")]},"diffEditor.diffAlgorithm":{type:"string",enum:["legacy","advanced"],default:o.k.diffAlgorithm,markdownEnumDescriptions:[O.NC("diffAlgorithm.legacy","Uses the legacy diffing algorithm."),O.NC("diffAlgorithm.advanced","Uses the advanced diffing algorithm.")],tags:["experimental"]},"diffEditor.hideUnchangedRegions.enabled":{type:"boolean",default:o.k.hideUnchangedRegions.enabled,markdownDescription:O.NC("hideUnchangedRegions.enabled","Controls whether the diff editor shows unchanged regions.")},"diffEditor.hideUnchangedRegions.revealLineCount":{type:"integer",default:o.k.hideUnchangedRegions.revealLineCount,markdownDescription:O.NC("hideUnchangedRegions.revealLineCount","Controls how many lines are used for unchanged regions."),minimum:1},"diffEditor.hideUnchangedRegions.minimumLineCount":{type:"integer",default:o.k.hideUnchangedRegions.minimumLineCount,markdownDescription:O.NC("hideUnchangedRegions.minimumLineCount","Controls how many lines are used as a minimum for unchanged regions."),minimum:1},"diffEditor.hideUnchangedRegions.contextLineCount":{type:"integer",default:o.k.hideUnchangedRegions.contextLineCount,markdownDescription:O.NC("hideUnchangedRegions.contextLineCount","Controls how many lines are used as context when comparing unchanged regions."),minimum:1},"diffEditor.experimental.showMoves":{type:"boolean",default:o.k.experimental.showMoves,markdownDescription:O.NC("showMoves","Controls whether the diff editor should show detected code moves.")},"diffEditor.experimental.showEmptyDecorations":{type:"boolean",default:o.k.experimental.showEmptyDecorations,description:O.NC("showEmptyDecorations","Controls whether the diff editor shows empty decorations to see where characters got inserted or deleted.")}}});function w(n){return typeof n.type!="undefined"||typeof n.anyOf!="undefined"}for(const n of B.Bc){const c=n.schema;if(typeof c!="undefined")if(w(c))R.properties[`editor.${n.name}`]=c;else for(const u in c)Object.hasOwnProperty.call(c,u)&&(R.properties[u]=c[u])}let m=null;function g(){return m===null&&(m=Object.create(null),Object.keys(R.properties).forEach(n=>{m[n]=!0})),m}function a(n){return g()[`editor.${n}`]||!1}function r(n){return g()[`diffEditor.${n}`]||!1}p.B.as(S.IP.Configuration).registerConfiguration(R)},75625:function(et,Le,e){"use strict";e.d(Le,{$J:function(){return Qe},$r:function(){return ne},Av:function(){return xe},BH:function(){return qt},Bb:function(){return R},Bc:function(){return $t},Bo:function(){return G},LJ:function(){return w},L_:function(){return D},NY:function(){return C},O7:function(){return n},Zc:function(){return u},d2:function(){return Z},gk:function(){return te},hL:function(){return yt},n0:function(){return W},qt:function(){return Ce},rk:function(){return g},y0:function(){return E}});var o=e(71221),B=e(94920),x=e(15122),O=e(99022),S=e(38244),p=e(61652);const E=8;class R{constructor(He){this._values=He}hasChanged(He){return this._values[He]}}class w{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class m{constructor(He,Ct,Gt,Di){this.id=He,this.name=Ct,this.defaultValue=Gt,this.schema=Di}applyUpdate(He,Ct){return a(He,Ct)}compute(He,Ct,Gt){return Gt}}class g{constructor(He,Ct){this.newValue=He,this.didChange=Ct}}function a(Ht,He){if(typeof Ht!="object"||typeof He!="object"||!Ht||!He)return new g(He,Ht!==He);if(Array.isArray(Ht)||Array.isArray(He)){const Gt=Array.isArray(Ht)&&Array.isArray(He)&&o.fS(Ht,He);return new g(He,!Gt)}let Ct=!1;for(const Gt in He)if(He.hasOwnProperty(Gt)){const Di=a(Ht[Gt],He[Gt]);Di.didChange&&(Ht[Gt]=Di.newValue,Ct=!0)}return new g(Ht,Ct)}class r{constructor(He){this.schema=void 0,this.id=He,this.name="_never_",this.defaultValue=void 0}applyUpdate(He,Ct){return a(He,Ct)}validate(He){return this.defaultValue}}class i{constructor(He,Ct,Gt,Di){this.id=He,this.name=Ct,this.defaultValue=Gt,this.schema=Di}applyUpdate(He,Ct){return a(He,Ct)}validate(He){return typeof He=="undefined"?this.defaultValue:He}compute(He,Ct,Gt){return Gt}}function n(Ht,He){return typeof Ht=="undefined"?He:Ht==="false"?!1:!!Ht}class c extends i{constructor(He,Ct,Gt,Di=void 0){typeof Di!="undefined"&&(Di.type="boolean",Di.default=Gt),super(He,Ct,Gt,Di)}validate(He){return n(He,this.defaultValue)}}function u(Ht,He,Ct,Gt){if(typeof Ht=="undefined")return He;let Di=parseInt(Ht,10);return isNaN(Di)?He:(Di=Math.max(Ct,Di),Di=Math.min(Gt,Di),Di|0)}class l extends i{static clampedInt(He,Ct,Gt,Di){return u(He,Ct,Gt,Di)}constructor(He,Ct,Gt,Di,$i,Bi=void 0){typeof Bi!="undefined"&&(Bi.type="integer",Bi.default=Gt,Bi.minimum=Di,Bi.maximum=$i),super(He,Ct,Gt,Bi),this.minimum=Di,this.maximum=$i}validate(He){return l.clampedInt(He,this.defaultValue,this.minimum,this.maximum)}}function D(Ht,He,Ct,Gt){if(typeof Ht=="undefined")return He;const Di=f.float(Ht,He);return f.clamp(Di,Ct,Gt)}class f extends i{static clamp(He,Ct,Gt){return He<Ct?Ct:He>Gt?Gt:He}static float(He,Ct){if(typeof He=="number")return He;if(typeof He=="undefined")return Ct;const Gt=parseFloat(He);return isNaN(Gt)?Ct:Gt}constructor(He,Ct,Gt,Di,$i){typeof $i!="undefined"&&($i.type="number",$i.default=Gt),super(He,Ct,Gt,$i),this.validationFn=Di}validate(He){return this.validationFn(f.float(He,this.defaultValue))}}class y extends i{static string(He,Ct){return typeof He!="string"?Ct:He}constructor(He,Ct,Gt,Di=void 0){typeof Di!="undefined"&&(Di.type="string",Di.default=Gt),super(He,Ct,Gt,Di)}validate(He){return y.string(He,this.defaultValue)}}function C(Ht,He,Ct,Gt){return typeof Ht!="string"?He:Gt&&Ht in Gt?Gt[Ht]:Ct.indexOf(Ht)===-1?He:Ht}class _ extends i{constructor(He,Ct,Gt,Di,$i=void 0){typeof $i!="undefined"&&($i.type="string",$i.enum=Di,$i.default=Gt),super(He,Ct,Gt,$i),this._allowedValues=Di}validate(He){return C(He,this.defaultValue,this._allowedValues)}}class N extends m{constructor(He,Ct,Gt,Di,$i,Bi,Vi=void 0){typeof Vi!="undefined"&&(Vi.type="string",Vi.enum=$i,Vi.default=Di),super(He,Ct,Gt,Vi),this._allowedValues=$i,this._convert=Bi}validate(He){return typeof He!="string"?this.defaultValue:this._allowedValues.indexOf(He)===-1?this.defaultValue:this._convert(He)}}function b(Ht){switch(Ht){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class k extends m{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[p.NC("accessibilitySupport.auto","Use platform APIs to detect when a Screen Reader is attached."),p.NC("accessibilitySupport.on","Optimize for usage with a Screen Reader."),p.NC("accessibilitySupport.off","Assume a screen reader is not attached.")],default:"auto",tags:["accessibility"],description:p.NC("accessibilitySupport","Controls if the UI should run in a mode where it is optimized for screen readers.")})}validate(He){switch(He){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(He,Ct,Gt){return Gt===0?He.accessibilitySupport:Gt}}class V extends m{constructor(){const He={insertSpace:!0,ignoreEmptyLines:!0};super(23,"comments",He,{"editor.comments.insertSpace":{type:"boolean",default:He.insertSpace,description:p.NC("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:He.ignoreEmptyLines,description:p.NC("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(He){if(!He||typeof He!="object")return this.defaultValue;const Ct=He;return{insertSpace:n(Ct.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:n(Ct.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function K(Ht){switch(Ht){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var Z;(function(Ht){Ht[Ht.Line=1]="Line",Ht[Ht.Block=2]="Block",Ht[Ht.Underline=3]="Underline",Ht[Ht.LineThin=4]="LineThin",Ht[Ht.BlockOutline=5]="BlockOutline",Ht[Ht.UnderlineThin=6]="UnderlineThin"})(Z||(Z={}));function z(Ht){switch(Ht){case"line":return Z.Line;case"block":return Z.Block;case"underline":return Z.Underline;case"line-thin":return Z.LineThin;case"block-outline":return Z.BlockOutline;case"underline-thin":return Z.UnderlineThin}}class A extends r{constructor(){super(142)}compute(He,Ct,Gt){const Di=["monaco-editor"];return Ct.get(39)&&Di.push(Ct.get(39)),He.extraEditorClassName&&Di.push(He.extraEditorClassName),Ct.get(74)==="default"?Di.push("mouse-default"):Ct.get(74)==="copy"&&Di.push("mouse-copy"),Ct.get(111)&&Di.push("showUnused"),Ct.get(140)&&Di.push("showDeprecated"),Di.join(" ")}}class P extends c{constructor(){super(37,"emptySelectionClipboard",!0,{description:p.NC("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(He,Ct,Gt){return Gt&&He.emptySelectionClipboard}}class I extends m{constructor(){const He={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(41,"find",He,{"editor.find.cursorMoveOnType":{type:"boolean",default:He.cursorMoveOnType,description:p.NC("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:He.seedSearchStringFromSelection,enumDescriptions:[p.NC("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),p.NC("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),p.NC("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:p.NC("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:He.autoFindInSelection,enumDescriptions:[p.NC("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),p.NC("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),p.NC("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:p.NC("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:He.globalFindClipboard,description:p.NC("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:x.dz},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:He.addExtraSpaceOnTop,description:p.NC("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:He.loop,description:p.NC("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(He){if(!He||typeof He!="object")return this.defaultValue;const Ct=He;return{cursorMoveOnType:n(Ct.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof He.seedSearchStringFromSelection=="boolean"?He.seedSearchStringFromSelection?"always":"never":C(Ct.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof He.autoFindInSelection=="boolean"?He.autoFindInSelection?"always":"never":C(Ct.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:n(Ct.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:n(Ct.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:n(Ct.loop,this.defaultValue.loop)}}}class W extends m{constructor(){super(51,"fontLigatures",W.OFF,{anyOf:[{type:"boolean",description:p.NC("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:p.NC("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:p.NC("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(He){return typeof He=="undefined"?this.defaultValue:typeof He=="string"?He==="false"||He.length===0?W.OFF:He==="true"?W.ON:He:He?W.ON:W.OFF}}W.OFF='"liga" off, "calt" off',W.ON='"liga" on, "calt" on';class G extends m{constructor(){super(54,"fontVariations",G.OFF,{anyOf:[{type:"boolean",description:p.NC("fontVariations","Enables/Disables the translation from font-weight to font-variation-settings. Change this to a string for fine-grained control of the 'font-variation-settings' CSS property.")},{type:"string",description:p.NC("fontVariationSettings","Explicit 'font-variation-settings' CSS property. A boolean can be passed instead if one only needs to translate font-weight to font-variation-settings.")}],description:p.NC("fontVariationsGeneral","Configures font variations. Can be either a boolean to enable/disable the translation from font-weight to font-variation-settings or a string for the value of the CSS 'font-variation-settings' property."),default:!1})}validate(He){return typeof He=="undefined"?this.defaultValue:typeof He=="string"?He==="false"?G.OFF:He==="true"?G.TRANSLATE:He:He?G.TRANSLATE:G.OFF}compute(He,Ct,Gt){return He.fontInfo.fontVariationSettings}}G.OFF="normal",G.TRANSLATE="translate";class j extends r{constructor(){super(50)}compute(He,Ct,Gt){return He.fontInfo}}class Y extends i{constructor(){super(52,"fontSize",yt.fontSize,{type:"number",minimum:6,maximum:100,default:yt.fontSize,description:p.NC("fontSize","Controls the font size in pixels.")})}validate(He){const Ct=f.float(He,this.defaultValue);return Ct===0?yt.fontSize:f.clamp(Ct,6,100)}compute(He,Ct,Gt){return He.fontInfo.fontSize}}class H extends m{constructor(){super(53,"fontWeight",yt.fontWeight,{anyOf:[{type:"number",minimum:H.MINIMUM_VALUE,maximum:H.MAXIMUM_VALUE,errorMessage:p.NC("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:H.SUGGESTION_VALUES}],default:yt.fontWeight,description:p.NC("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(He){return He==="normal"||He==="bold"?He:String(l.clampedInt(He,yt.fontWeight,H.MINIMUM_VALUE,H.MAXIMUM_VALUE))}}H.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],H.MINIMUM_VALUE=1,H.MAXIMUM_VALUE=1e3;class Q extends m{constructor(){const He={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},Ct={type:"string",enum:["peek","gotoAndPeek","goto"],default:He.multiple,enumDescriptions:[p.NC("editor.gotoLocation.multiple.peek","Show Peek view of the results (default)"),p.NC("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a Peek view"),p.NC("editor.gotoLocation.multiple.goto","Go to the primary result and enable Peek-less navigation to others")]},Gt=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(58,"gotoLocation",He,{"editor.gotoLocation.multiple":{deprecationMessage:p.NC("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":vi({description:p.NC("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},Ct),"editor.gotoLocation.multipleTypeDefinitions":vi({description:p.NC("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},Ct),"editor.gotoLocation.multipleDeclarations":vi({description:p.NC("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},Ct),"editor.gotoLocation.multipleImplementations":vi({description:p.NC("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},Ct),"editor.gotoLocation.multipleReferences":vi({description:p.NC("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},Ct),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:He.alternativeDefinitionCommand,enum:Gt,description:p.NC("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:He.alternativeTypeDefinitionCommand,enum:Gt,description:p.NC("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:He.alternativeDeclarationCommand,enum:Gt,description:p.NC("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:He.alternativeImplementationCommand,enum:Gt,description:p.NC("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:He.alternativeReferenceCommand,enum:Gt,description:p.NC("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(He){var Ct,Gt,Di,$i,Bi;if(!He||typeof He!="object")return this.defaultValue;const Vi=He;return{multiple:C(Vi.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(Ct=Vi.multipleDefinitions)!==null&&Ct!==void 0?Ct:C(Vi.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(Gt=Vi.multipleTypeDefinitions)!==null&&Gt!==void 0?Gt:C(Vi.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(Di=Vi.multipleDeclarations)!==null&&Di!==void 0?Di:C(Vi.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:($i=Vi.multipleImplementations)!==null&&$i!==void 0?$i:C(Vi.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(Bi=Vi.multipleReferences)!==null&&Bi!==void 0?Bi:C(Vi.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:y.string(Vi.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:y.string(Vi.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:y.string(Vi.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:y.string(Vi.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:y.string(Vi.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class ie extends m{constructor(){const He={enabled:!0,delay:300,hidingDelay:300,sticky:!0,above:!0};super(60,"hover",He,{"editor.hover.enabled":{type:"boolean",default:He.enabled,description:p.NC("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:He.delay,minimum:0,maximum:1e4,description:p.NC("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:He.sticky,description:p.NC("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.hidingDelay":{type:"integer",minimum:0,default:He.hidingDelay,description:p.NC("hover.hidingDelay","Controls the delay in milliseconds after which the hover is hidden. Requires `editor.hover.sticky` to be enabled.")},"editor.hover.above":{type:"boolean",default:He.above,description:p.NC("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(He){if(!He||typeof He!="object")return this.defaultValue;const Ct=He;return{enabled:n(Ct.enabled,this.defaultValue.enabled),delay:l.clampedInt(Ct.delay,this.defaultValue.delay,0,1e4),sticky:n(Ct.sticky,this.defaultValue.sticky),hidingDelay:l.clampedInt(Ct.hidingDelay,this.defaultValue.hidingDelay,0,6e5),above:n(Ct.above,this.defaultValue.above)}}}class te extends r{constructor(){super(145)}compute(He,Ct,Gt){return te.computeLayout(Ct,{memory:He.memory,outerWidth:He.outerWidth,outerHeight:He.outerHeight,isDominatedByLongLines:He.isDominatedByLongLines,lineHeight:He.fontInfo.lineHeight,viewLineCount:He.viewLineCount,lineNumbersDigitCount:He.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:He.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:He.fontInfo.maxDigitWidth,pixelRatio:He.pixelRatio,glyphMarginDecorationLaneCount:He.glyphMarginDecorationLaneCount})}static computeContainedMinimapLineCount(He){const Ct=He.height/He.lineHeight,Gt=Math.floor(He.paddingTop/He.lineHeight);let Di=Math.floor(He.paddingBottom/He.lineHeight);He.scrollBeyondLastLine&&(Di=Math.max(Di,Ct-1));const $i=(Gt+He.viewLineCount+Di)/(He.pixelRatio*He.height),Bi=Math.floor(He.viewLineCount/$i);return{typicalViewportLineCount:Ct,extraLinesBeforeFirstLine:Gt,extraLinesBeyondLastLine:Di,desiredRatio:$i,minimapLineCount:Bi}}static _computeMinimapLayout(He,Ct){const Gt=He.outerWidth,Di=He.outerHeight,$i=He.pixelRatio;if(!He.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor($i*Di),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:Di};const Bi=Ct.stableMinimapLayoutInput,Vi=Bi&&He.outerHeight===Bi.outerHeight&&He.lineHeight===Bi.lineHeight&&He.typicalHalfwidthCharacterWidth===Bi.typicalHalfwidthCharacterWidth&&He.pixelRatio===Bi.pixelRatio&&He.scrollBeyondLastLine===Bi.scrollBeyondLastLine&&He.paddingTop===Bi.paddingTop&&He.paddingBottom===Bi.paddingBottom&&He.minimap.enabled===Bi.minimap.enabled&&He.minimap.side===Bi.minimap.side&&He.minimap.size===Bi.minimap.size&&He.minimap.showSlider===Bi.minimap.showSlider&&He.minimap.renderCharacters===Bi.minimap.renderCharacters&&He.minimap.maxColumn===Bi.minimap.maxColumn&&He.minimap.scale===Bi.minimap.scale&&He.verticalScrollbarWidth===Bi.verticalScrollbarWidth&&He.isViewportWrapping===Bi.isViewportWrapping,Ji=He.lineHeight,wn=He.typicalHalfwidthCharacterWidth,yn=He.scrollBeyondLastLine,Cn=He.minimap.renderCharacters;let an=$i>=2?Math.round(He.minimap.scale*2):He.minimap.scale;const Rn=He.minimap.maxColumn,kn=He.minimap.size,fn=He.minimap.side,On=He.verticalScrollbarWidth,xn=He.viewLineCount,An=He.remainingWidth,Zt=He.isViewportWrapping,ci=Cn?2:3;let _i=Math.floor($i*Di);const Ri=_i/$i;let Zi=!1,gi=!1,Ze=ci*an,dt=an/$i,Ue=1;if(kn==="fill"||kn==="fit"){const{typicalViewportLineCount:Ge,extraLinesBeforeFirstLine:rt,extraLinesBeyondLastLine:st,desiredRatio:tt,minimapLineCount:_t}=te.computeContainedMinimapLineCount({viewLineCount:xn,scrollBeyondLastLine:yn,paddingTop:He.paddingTop,paddingBottom:He.paddingBottom,height:Di,lineHeight:Ji,pixelRatio:$i});if(xn/_t>1)Zi=!0,gi=!0,an=1,Ze=1,dt=an/$i;else{let at=!1,ht=an+1;if(kn==="fit"){const Mt=Math.ceil((rt+xn+st)*Ze);Zt&&Vi&&An<=Ct.stableFitRemainingWidth?(at=!0,ht=Ct.stableFitMaxMinimapScale):at=Mt>_i}if(kn==="fill"||at){Zi=!0;const Mt=an;Ze=Math.min(Ji*$i,Math.max(1,Math.floor(1/tt))),Zt&&Vi&&An<=Ct.stableFitRemainingWidth&&(ht=Ct.stableFitMaxMinimapScale),an=Math.min(ht,Math.max(1,Math.floor(Ze/ci))),an>Mt&&(Ue=Math.min(2,an/Mt)),dt=an/$i/Ue,_i=Math.ceil(Math.max(Ge,rt+xn+st)*Ze),Zt?(Ct.stableMinimapLayoutInput=He,Ct.stableFitRemainingWidth=An,Ct.stableFitMaxMinimapScale=an):(Ct.stableMinimapLayoutInput=null,Ct.stableFitRemainingWidth=0)}}}const $e=Math.floor(Rn*dt),bt=Math.min($e,Math.max(0,Math.floor((An-On-2)*dt/(wn+dt)))+E);let ft=Math.floor($i*bt);const Ye=ft/$i;ft=Math.floor(ft*Ue);const vt=Cn?1:2,nt=fn==="left"?0:Gt-bt-On;return{renderMinimap:vt,minimapLeft:nt,minimapWidth:bt,minimapHeightIsEditorHeight:Zi,minimapIsSampling:gi,minimapScale:an,minimapLineHeight:Ze,minimapCanvasInnerWidth:ft,minimapCanvasInnerHeight:_i,minimapCanvasOuterWidth:Ye,minimapCanvasOuterHeight:Ri}}static computeLayout(He,Ct){const Gt=Ct.outerWidth|0,Di=Ct.outerHeight|0,$i=Ct.lineHeight|0,Bi=Ct.lineNumbersDigitCount|0,Vi=Ct.typicalHalfwidthCharacterWidth,Ji=Ct.maxDigitWidth,wn=Ct.pixelRatio,yn=Ct.viewLineCount,Cn=He.get(137),an=Cn==="inherit"?He.get(136):Cn,Rn=an==="inherit"?He.get(132):an,kn=He.get(135),fn=Ct.isDominatedByLongLines,On=He.get(57),xn=He.get(68).renderType!==0,An=He.get(69),Zt=He.get(105),ci=He.get(84),_i=He.get(73),Ri=He.get(103),Zi=Ri.verticalScrollbarSize,gi=Ri.verticalHasArrows,Ze=Ri.arrowSize,dt=Ri.horizontalScrollbarSize,Ue=He.get(43),$e=He.get(110)!=="never";let bt=He.get(66);Ue&&$e&&(bt+=16);let ft=0;if(xn){const ke=Math.max(Bi,An);ft=Math.round(ke*Ji)}let Ye=0;On&&(Ye=$i*Ct.glyphMarginDecorationLaneCount);let vt=0,nt=vt+Ye,Ge=nt+ft,rt=Ge+bt;const st=Gt-Ye-ft-bt;let tt=!1,_t=!1,kt=-1;an==="inherit"&&fn?(tt=!0,_t=!0):Rn==="on"||Rn==="bounded"?_t=!0:Rn==="wordWrapColumn"&&(kt=kn);const at=te._computeMinimapLayout({outerWidth:Gt,outerHeight:Di,lineHeight:$i,typicalHalfwidthCharacterWidth:Vi,pixelRatio:wn,scrollBeyondLastLine:Zt,paddingTop:ci.top,paddingBottom:ci.bottom,minimap:_i,verticalScrollbarWidth:Zi,viewLineCount:yn,remainingWidth:st,isViewportWrapping:_t},Ct.memory||new w);at.renderMinimap!==0&&at.minimapLeft===0&&(vt+=at.minimapWidth,nt+=at.minimapWidth,Ge+=at.minimapWidth,rt+=at.minimapWidth);const ht=st-at.minimapWidth,Mt=Math.max(1,Math.floor((ht-Zi-2)/Vi)),ut=gi?Ze:0;return _t&&(kt=Math.max(1,Mt),Rn==="bounded"&&(kt=Math.min(kt,kn))),{width:Gt,height:Di,glyphMarginLeft:vt,glyphMarginWidth:Ye,glyphMarginDecorationLaneCount:Ct.glyphMarginDecorationLaneCount,lineNumbersLeft:nt,lineNumbersWidth:ft,decorationsLeft:Ge,decorationsWidth:bt,contentLeft:rt,contentWidth:ht,minimap:at,viewportColumn:Mt,isWordWrapMinified:tt,isViewportWrapping:_t,wrappingColumn:kt,verticalScrollbarWidth:Zi,horizontalScrollbarHeight:dt,overviewRuler:{top:ut,width:Zi,height:Di-2*ut,right:0}}}}class se extends m{constructor(){super(139,"wrappingStrategy","simple",{"editor.wrappingStrategy":{enumDescriptions:[p.NC("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),p.NC("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],type:"string",enum:["simple","advanced"],default:"simple",description:p.NC("wrappingStrategy","Controls the algorithm that computes wrapping points. Note that when in accessibility mode, advanced will be used for the best experience.")}})}validate(He){return C(He,"simple",["simple","advanced"])}compute(He,Ct,Gt){return Ct.get(2)===2?"advanced":Gt}}var ne;(function(Ht){Ht.Off="off",Ht.OnCode="onCode",Ht.On="on"})(ne||(ne={}));class ee extends m{constructor(){const He={enabled:ne.On};super(65,"lightbulb",He,{"editor.lightbulb.enabled":{type:"string",tags:["experimental"],enum:[ne.Off,ne.OnCode,ne.On],default:He.enabled,enumDescriptions:[p.NC("editor.lightbulb.enabled.off","Disable the code action menu."),p.NC("editor.lightbulb.enabled.onCode","Show the code action menu when the cursor is on lines with code."),p.NC("editor.lightbulb.enabled.on","Show the code action menu when the cursor is on lines with code or on empty lines.")],description:p.NC("enabled","Enables the Code Action lightbulb in the editor.")}})}validate(He){return!He||typeof He!="object"?this.defaultValue:{enabled:C(He.enabled,this.defaultValue.enabled,[ne.Off,ne.OnCode,ne.On])}}}class re extends m{constructor(){const He={enabled:!0,maxLineCount:5,defaultModel:"outlineModel",scrollWithEditor:!0};super(115,"stickyScroll",He,{"editor.stickyScroll.enabled":{type:"boolean",default:He.enabled,description:p.NC("editor.stickyScroll.enabled","Shows the nested current scopes during the scroll at the top of the editor."),tags:["experimental"]},"editor.stickyScroll.maxLineCount":{type:"number",default:He.maxLineCount,minimum:1,maximum:20,description:p.NC("editor.stickyScroll.maxLineCount","Defines the maximum number of sticky lines to show.")},"editor.stickyScroll.defaultModel":{type:"string",enum:["outlineModel","foldingProviderModel","indentationModel"],default:He.defaultModel,description:p.NC("editor.stickyScroll.defaultModel","Defines the model to use for determining which lines to stick. If the outline model does not exist, it will fall back on the folding provider model which falls back on the indentation model. This order is respected in all three cases.")},"editor.stickyScroll.scrollWithEditor":{type:"boolean",default:He.scrollWithEditor,description:p.NC("editor.stickyScroll.scrollWithEditor","Enable scrolling of Sticky Scroll with the editor's horizontal scrollbar.")}})}validate(He){if(!He||typeof He!="object")return this.defaultValue;const Ct=He;return{enabled:n(Ct.enabled,this.defaultValue.enabled),maxLineCount:l.clampedInt(Ct.maxLineCount,this.defaultValue.maxLineCount,1,20),defaultModel:C(Ct.defaultModel,this.defaultValue.defaultModel,["outlineModel","foldingProviderModel","indentationModel"]),scrollWithEditor:n(Ct.scrollWithEditor,this.defaultValue.scrollWithEditor)}}}class he extends m{constructor(){const He={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(141,"inlayHints",He,{"editor.inlayHints.enabled":{type:"string",default:He.enabled,description:p.NC("inlayHints.enable","Enables the inlay hints in the editor."),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[p.NC("editor.inlayHints.on","Inlay hints are enabled"),p.NC("editor.inlayHints.onUnlessPressed","Inlay hints are showing by default and hide when holding {0}",x.dz?"Ctrl+Option":"Ctrl+Alt"),p.NC("editor.inlayHints.offUnlessPressed","Inlay hints are hidden by default and show when holding {0}",x.dz?"Ctrl+Option":"Ctrl+Alt"),p.NC("editor.inlayHints.off","Inlay hints are disabled")]},"editor.inlayHints.fontSize":{type:"number",default:He.fontSize,markdownDescription:p.NC("inlayHints.fontSize","Controls font size of inlay hints in the editor. As default the {0} is used when the configured value is less than {1} or greater than the editor font size.","`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:He.fontFamily,markdownDescription:p.NC("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the {0} is used.","`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:He.padding,description:p.NC("inlayHints.padding","Enables the padding around the inlay hints in the editor.")}})}validate(He){if(!He||typeof He!="object")return this.defaultValue;const Ct=He;return typeof Ct.enabled=="boolean"&&(Ct.enabled=Ct.enabled?"on":"off"),{enabled:C(Ct.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:l.clampedInt(Ct.fontSize,this.defaultValue.fontSize,0,100),fontFamily:y.string(Ct.fontFamily,this.defaultValue.fontFamily),padding:n(Ct.padding,this.defaultValue.padding)}}}class M extends m{constructor(){super(66,"lineDecorationsWidth",10)}validate(He){return typeof He=="string"&&/^\d+(\.\d+)?ch$/.test(He)?-parseFloat(He.substring(0,He.length-2)):l.clampedInt(He,this.defaultValue,0,1e3)}compute(He,Ct,Gt){return Gt<0?l.clampedInt(-Gt*He.fontInfo.typicalHalfwidthCharacterWidth,this.defaultValue,0,1e3):Gt}}class we extends f{constructor(){super(67,"lineHeight",yt.lineHeight,He=>f.clamp(He,0,150),{markdownDescription:p.NC("lineHeight",`Controls the line height. 
 - Use 0 to automatically compute the line height from the font size.
 - Values between 0 and 8 will be used as a multiplier with the font size.
 - Values greater than or equal to 8 will be used as effective values.`)})}compute(He,Ct,Gt){return He.fontInfo.lineHeight}}class We extends m{constructor(){const He={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1,showRegionSectionHeaders:!0,showMarkSectionHeaders:!0,sectionHeaderFontSize:9};super(73,"minimap",He,{"editor.minimap.enabled":{type:"boolean",default:He.enabled,description:p.NC("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.autohide":{type:"boolean",default:He.autohide,description:p.NC("minimap.autohide","Controls whether the minimap is hidden automatically.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[p.NC("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),p.NC("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),p.NC("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:He.size,description:p.NC("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:He.side,description:p.NC("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:He.showSlider,description:p.NC("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:He.scale,minimum:1,maximum:3,enum:[1,2,3],description:p.NC("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:He.renderCharacters,description:p.NC("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:He.maxColumn,description:p.NC("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")},"editor.minimap.showRegionSectionHeaders":{type:"boolean",default:He.showRegionSectionHeaders,description:p.NC("minimap.showRegionSectionHeaders","Controls whether named regions are shown as section headers in the minimap.")},"editor.minimap.showMarkSectionHeaders":{type:"boolean",default:He.showMarkSectionHeaders,description:p.NC("minimap.showMarkSectionHeaders","Controls whether MARK: comments are shown as section headers in the minimap.")},"editor.minimap.sectionHeaderFontSize":{type:"number",default:He.sectionHeaderFontSize,description:p.NC("minimap.sectionHeaderFontSize","Controls the font size of section headers in the minimap.")}})}validate(He){var Ct;if(!He||typeof He!="object")return this.defaultValue;const Gt=He;return{enabled:n(Gt.enabled,this.defaultValue.enabled),autohide:n(Gt.autohide,this.defaultValue.autohide),size:C(Gt.size,this.defaultValue.size,["proportional","fill","fit"]),side:C(Gt.side,this.defaultValue.side,["right","left"]),showSlider:C(Gt.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:n(Gt.renderCharacters,this.defaultValue.renderCharacters),scale:l.clampedInt(Gt.scale,1,1,3),maxColumn:l.clampedInt(Gt.maxColumn,this.defaultValue.maxColumn,1,1e4),showRegionSectionHeaders:n(Gt.showRegionSectionHeaders,this.defaultValue.showRegionSectionHeaders),showMarkSectionHeaders:n(Gt.showMarkSectionHeaders,this.defaultValue.showMarkSectionHeaders),sectionHeaderFontSize:f.clamp((Ct=Gt.sectionHeaderFontSize)!==null&&Ct!==void 0?Ct:this.defaultValue.sectionHeaderFontSize,4,32)}}}function ye(Ht){return Ht==="ctrlCmd"?x.dz?"metaKey":"ctrlKey":"altKey"}class X extends m{constructor(){super(84,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:p.NC("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:p.NC("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(He){if(!He||typeof He!="object")return this.defaultValue;const Ct=He;return{top:l.clampedInt(Ct.top,0,0,1e3),bottom:l.clampedInt(Ct.bottom,0,0,1e3)}}}class ve extends m{constructor(){const He={enabled:!0,cycle:!0};super(86,"parameterHints",He,{"editor.parameterHints.enabled":{type:"boolean",default:He.enabled,description:p.NC("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:He.cycle,description:p.NC("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(He){if(!He||typeof He!="object")return this.defaultValue;const Ct=He;return{enabled:n(Ct.enabled,this.defaultValue.enabled),cycle:n(Ct.cycle,this.defaultValue.cycle)}}}class Ee extends r{constructor(){super(143)}compute(He,Ct,Gt){return He.pixelRatio}}class Oe extends m{constructor(){const He={other:"on",comments:"off",strings:"off"},Ct=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[p.NC("on","Quick suggestions show inside the suggest widget"),p.NC("inline","Quick suggestions show as ghost text"),p.NC("off","Quick suggestions are disabled")]}];super(89,"quickSuggestions",He,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:Ct,default:He.strings,description:p.NC("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{anyOf:Ct,default:He.comments,description:p.NC("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{anyOf:Ct,default:He.other,description:p.NC("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}},default:He,markdownDescription:p.NC("quickSuggestions","Controls whether suggestions should automatically show up while typing. This can be controlled for typing in comments, strings, and other code. Quick suggestion can be configured to show as ghost text or with the suggest widget. Also be aware of the '{0}'-setting which controls if suggestions are triggered by special characters.","#editor.suggestOnTriggerCharacters#")}),this.defaultValue=He}validate(He){if(typeof He=="boolean"){const wn=He?"on":"off";return{comments:wn,strings:wn,other:wn}}if(!He||typeof He!="object")return this.defaultValue;const{other:Ct,comments:Gt,strings:Di}=He,$i=["on","inline","off"];let Bi,Vi,Ji;return typeof Ct=="boolean"?Bi=Ct?"on":"off":Bi=C(Ct,this.defaultValue.other,$i),typeof Gt=="boolean"?Vi=Gt?"on":"off":Vi=C(Gt,this.defaultValue.comments,$i),typeof Di=="boolean"?Ji=Di?"on":"off":Ji=C(Di,this.defaultValue.strings,$i),{other:Bi,comments:Vi,strings:Ji}}}class Ke extends m{constructor(){super(68,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[p.NC("lineNumbers.off","Line numbers are not rendered."),p.NC("lineNumbers.on","Line numbers are rendered as absolute number."),p.NC("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),p.NC("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:p.NC("lineNumbers","Controls the display of line numbers.")})}validate(He){let Ct=this.defaultValue.renderType,Gt=this.defaultValue.renderFn;return typeof He!="undefined"&&(typeof He=="function"?(Ct=4,Gt=He):He==="interval"?Ct=3:He==="relative"?Ct=2:He==="on"?Ct=1:Ct=0),{renderType:Ct,renderFn:Gt}}}function Qe(Ht){const He=Ht.get(98);return He==="editable"?Ht.get(91):He!=="on"}class fe extends m{constructor(){const He=[],Ct={type:"number",description:p.NC("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(102,"rulers",He,{type:"array",items:{anyOf:[Ct,{type:["object"],properties:{column:Ct,color:{type:"string",description:p.NC("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:He,description:p.NC("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(He){if(Array.isArray(He)){const Ct=[];for(const Gt of He)if(typeof Gt=="number")Ct.push({column:l.clampedInt(Gt,0,0,1e4),color:null});else if(Gt&&typeof Gt=="object"){const Di=Gt;Ct.push({column:l.clampedInt(Di.column,0,0,1e4),color:Di.color})}return Ct.sort((Gt,Di)=>Gt.column-Di.column),Ct}return this.defaultValue}}class $ extends m{constructor(){super(92,"readOnlyMessage",void 0)}validate(He){return!He||typeof He!="object"?this.defaultValue:He}}function le(Ht,He){if(typeof Ht!="string")return He;switch(Ht){case"hidden":return 2;case"visible":return 3;default:return 1}}class De extends m{constructor(){const He={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1,ignoreHorizontalScrollbarInContentHeight:!1};super(103,"scrollbar",He,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[p.NC("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),p.NC("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),p.NC("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:p.NC("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[p.NC("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),p.NC("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),p.NC("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:p.NC("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:He.verticalScrollbarSize,description:p.NC("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:He.horizontalScrollbarSize,description:p.NC("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:He.scrollByPage,description:p.NC("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")},"editor.scrollbar.ignoreHorizontalScrollbarInContentHeight":{type:"boolean",default:He.ignoreHorizontalScrollbarInContentHeight,description:p.NC("scrollbar.ignoreHorizontalScrollbarInContentHeight","When set, the horizontal scrollbar will not increase the size of the editor's content.")}})}validate(He){if(!He||typeof He!="object")return this.defaultValue;const Ct=He,Gt=l.clampedInt(Ct.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),Di=l.clampedInt(Ct.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:l.clampedInt(Ct.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:le(Ct.vertical,this.defaultValue.vertical),horizontal:le(Ct.horizontal,this.defaultValue.horizontal),useShadows:n(Ct.useShadows,this.defaultValue.useShadows),verticalHasArrows:n(Ct.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:n(Ct.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:n(Ct.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:n(Ct.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:Gt,horizontalSliderSize:l.clampedInt(Ct.horizontalSliderSize,Gt,0,1e3),verticalScrollbarSize:Di,verticalSliderSize:l.clampedInt(Ct.verticalSliderSize,Di,0,1e3),scrollByPage:n(Ct.scrollByPage,this.defaultValue.scrollByPage),ignoreHorizontalScrollbarInContentHeight:n(Ct.ignoreHorizontalScrollbarInContentHeight,this.defaultValue.ignoreHorizontalScrollbarInContentHeight)}}}const xe="inUntrustedWorkspace",Ce={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};class me extends m{constructor(){const He={nonBasicASCII:xe,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:xe,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(125,"unicodeHighlight",He,{[Ce.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,xe],default:He.nonBasicASCII,description:p.NC("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[Ce.invisibleCharacters]:{restricted:!0,type:"boolean",default:He.invisibleCharacters,description:p.NC("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[Ce.ambiguousCharacters]:{restricted:!0,type:"boolean",default:He.ambiguousCharacters,description:p.NC("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[Ce.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,xe],default:He.includeComments,description:p.NC("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to Unicode highlighting.")},[Ce.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,xe],default:He.includeStrings,description:p.NC("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to Unicode highlighting.")},[Ce.allowedCharacters]:{restricted:!0,type:"object",default:He.allowedCharacters,description:p.NC("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[Ce.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:He.allowedLocales,description:p.NC("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(He,Ct){let Gt=!1;Ct.allowedCharacters&&He&&(B.fS(He.allowedCharacters,Ct.allowedCharacters)||(He=Ki(vi({},He),{allowedCharacters:Ct.allowedCharacters}),Gt=!0)),Ct.allowedLocales&&He&&(B.fS(He.allowedLocales,Ct.allowedLocales)||(He=Ki(vi({},He),{allowedLocales:Ct.allowedLocales}),Gt=!0));const Di=super.applyUpdate(He,Ct);return Gt?new g(Di.newValue,!0):Di}validate(He){if(!He||typeof He!="object")return this.defaultValue;const Ct=He;return{nonBasicASCII:Se(Ct.nonBasicASCII,xe,[!0,!1,xe]),invisibleCharacters:n(Ct.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:n(Ct.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:Se(Ct.includeComments,xe,[!0,!1,xe]),includeStrings:Se(Ct.includeStrings,xe,[!0,!1,xe]),allowedCharacters:this.validateBooleanMap(He.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(He.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(He,Ct){if(typeof He!="object"||!He)return Ct;const Gt={};for(const[Di,$i]of Object.entries(He))$i===!0&&(Gt[Di]=!0);return Gt}}class be extends m{constructor(){const He={enabled:!0,mode:"subwordSmart",showToolbar:"onHover",suppressSuggestions:!1,keepOnBlur:!1,fontFamily:"default"};super(62,"inlineSuggest",He,{"editor.inlineSuggest.enabled":{type:"boolean",default:He.enabled,description:p.NC("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")},"editor.inlineSuggest.showToolbar":{type:"string",default:He.showToolbar,enum:["always","onHover","never"],enumDescriptions:[p.NC("inlineSuggest.showToolbar.always","Show the inline suggestion toolbar whenever an inline suggestion is shown."),p.NC("inlineSuggest.showToolbar.onHover","Show the inline suggestion toolbar when hovering over an inline suggestion."),p.NC("inlineSuggest.showToolbar.never","Never show the inline suggestion toolbar.")],description:p.NC("inlineSuggest.showToolbar","Controls when to show the inline suggestion toolbar.")},"editor.inlineSuggest.suppressSuggestions":{type:"boolean",default:He.suppressSuggestions,description:p.NC("inlineSuggest.suppressSuggestions","Controls how inline suggestions interact with the suggest widget. If enabled, the suggest widget is not shown automatically when inline suggestions are available.")},"editor.inlineSuggest.fontFamily":{type:"string",default:He.fontFamily,description:p.NC("inlineSuggest.fontFamily","Controls the font family of the inline suggestions.")}})}validate(He){if(!He||typeof He!="object")return this.defaultValue;const Ct=He;return{enabled:n(Ct.enabled,this.defaultValue.enabled),mode:C(Ct.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"]),showToolbar:C(Ct.showToolbar,this.defaultValue.showToolbar,["always","onHover","never"]),suppressSuggestions:n(Ct.suppressSuggestions,this.defaultValue.suppressSuggestions),keepOnBlur:n(Ct.keepOnBlur,this.defaultValue.keepOnBlur),fontFamily:y.string(Ct.fontFamily,this.defaultValue.fontFamily)}}}class oe extends m{constructor(){const He={enabled:!1,showToolbar:"onHover",fontFamily:"default",keepOnBlur:!1,backgroundColoring:!1};super(63,"experimentalInlineEdit",He,{"editor.experimentalInlineEdit.enabled":{type:"boolean",default:He.enabled,description:p.NC("inlineEdit.enabled","Controls whether to show inline edits in the editor.")},"editor.experimentalInlineEdit.showToolbar":{type:"string",default:He.showToolbar,enum:["always","onHover","never"],enumDescriptions:[p.NC("inlineEdit.showToolbar.always","Show the inline edit toolbar whenever an inline suggestion is shown."),p.NC("inlineEdit.showToolbar.onHover","Show the inline edit toolbar when hovering over an inline suggestion."),p.NC("inlineEdit.showToolbar.never","Never show the inline edit toolbar.")],description:p.NC("inlineEdit.showToolbar","Controls when to show the inline edit toolbar.")},"editor.experimentalInlineEdit.fontFamily":{type:"string",default:He.fontFamily,description:p.NC("inlineEdit.fontFamily","Controls the font family of the inline edit.")},"editor.experimentalInlineEdit.backgroundColoring":{type:"boolean",default:He.backgroundColoring,description:p.NC("inlineEdit.backgroundColoring","Controls whether to color the background of inline edits.")}})}validate(He){if(!He||typeof He!="object")return this.defaultValue;const Ct=He;return{enabled:n(Ct.enabled,this.defaultValue.enabled),showToolbar:C(Ct.showToolbar,this.defaultValue.showToolbar,["always","onHover","never"]),fontFamily:y.string(Ct.fontFamily,this.defaultValue.fontFamily),keepOnBlur:n(Ct.keepOnBlur,this.defaultValue.keepOnBlur),backgroundColoring:n(Ct.backgroundColoring,this.defaultValue.backgroundColoring)}}}class ue extends m{constructor(){const He={enabled:O.D.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:O.D.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(15,"bracketPairColorization",He,{"editor.bracketPairColorization.enabled":{type:"boolean",default:He.enabled,markdownDescription:p.NC("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use {0} to override the bracket highlight colors.","`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:He.independentColorPoolPerBracketType,description:p.NC("bracketPairColorization.independentColorPoolPerBracketType","Controls whether each bracket type has its own independent color pool.")}})}validate(He){if(!He||typeof He!="object")return this.defaultValue;const Ct=He;return{enabled:n(Ct.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:n(Ct.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}class de extends m{constructor(){const He={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(16,"guides",He,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[p.NC("editor.guides.bracketPairs.true","Enables bracket pair guides."),p.NC("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),p.NC("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:He.bracketPairs,description:p.NC("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[p.NC("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),p.NC("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),p.NC("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:He.bracketPairsHorizontal,description:p.NC("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:He.highlightActiveBracketPair,description:p.NC("editor.guides.highlightActiveBracketPair","Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:He.indentation,description:p.NC("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[p.NC("editor.guides.highlightActiveIndentation.true","Highlights the active indent guide."),p.NC("editor.guides.highlightActiveIndentation.always","Highlights the active indent guide even if bracket guides are highlighted."),p.NC("editor.guides.highlightActiveIndentation.false","Do not highlight the active indent guide.")],default:He.highlightActiveIndentation,description:p.NC("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(He){if(!He||typeof He!="object")return this.defaultValue;const Ct=He;return{bracketPairs:Se(Ct.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:Se(Ct.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:n(Ct.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:n(Ct.indentation,this.defaultValue.indentation),highlightActiveIndentation:Se(Ct.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}function Se(Ht,He,Ct){const Gt=Ct.indexOf(Ht);return Gt===-1?He:Ct[Gt]}class Te extends m{constructor(){const He={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!1,localityBonus:!1,shareSuggestSelections:!1,selectionMode:"always",showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(118,"suggest",He,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[p.NC("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),p.NC("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:He.insertMode,description:p.NC("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:He.filterGraceful,description:p.NC("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:He.localityBonus,description:p.NC("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:He.shareSuggestSelections,markdownDescription:p.NC("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.selectionMode":{type:"string",enum:["always","never","whenTriggerCharacter","whenQuickSuggestion"],enumDescriptions:[p.NC("suggest.insertMode.always","Always select a suggestion when automatically triggering IntelliSense."),p.NC("suggest.insertMode.never","Never select a suggestion when automatically triggering IntelliSense."),p.NC("suggest.insertMode.whenTriggerCharacter","Select a suggestion only when triggering IntelliSense from a trigger character."),p.NC("suggest.insertMode.whenQuickSuggestion","Select a suggestion only when triggering IntelliSense as you type.")],default:He.selectionMode,markdownDescription:p.NC("suggest.selectionMode","Controls whether a suggestion is selected when the widget shows. Note that this only applies to automatically triggered suggestions (`#editor.quickSuggestions#` and `#editor.suggestOnTriggerCharacters#`) and that a suggestion is always selected when explicitly invoked, e.g via `Ctrl+Space`.")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:He.snippetsPreventQuickSuggestions,description:p.NC("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:He.showIcons,description:p.NC("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:He.showStatusBar,description:p.NC("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:He.preview,description:p.NC("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:He.showInlineDetails,description:p.NC("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget.")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:p.NC("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:p.NC("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:p.NC("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:p.NC("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:p.NC("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:p.NC("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:p.NC("editor.suggest.matchOnWordStartOnly","When enabled IntelliSense filtering requires that the first character matches on a word start. For example, `c` on `Console` or `WebContext` but _not_ on `description`. When disabled IntelliSense will show more results but still sorts them by match quality.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:p.NC("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:p.NC("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:p.NC("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:p.NC("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:p.NC("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:p.NC("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:p.NC("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:p.NC("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:p.NC("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:p.NC("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:p.NC("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:p.NC("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:p.NC("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:p.NC("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:p.NC("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:p.NC("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:p.NC("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:p.NC("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:p.NC("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:p.NC("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:p.NC("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:p.NC("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:p.NC("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:p.NC("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:p.NC("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(He){if(!He||typeof He!="object")return this.defaultValue;const Ct=He;return{insertMode:C(Ct.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:n(Ct.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:n(Ct.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:n(Ct.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:n(Ct.shareSuggestSelections,this.defaultValue.shareSuggestSelections),selectionMode:C(Ct.selectionMode,this.defaultValue.selectionMode,["always","never","whenQuickSuggestion","whenTriggerCharacter"]),showIcons:n(Ct.showIcons,this.defaultValue.showIcons),showStatusBar:n(Ct.showStatusBar,this.defaultValue.showStatusBar),preview:n(Ct.preview,this.defaultValue.preview),previewMode:C(Ct.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:n(Ct.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:n(Ct.showMethods,this.defaultValue.showMethods),showFunctions:n(Ct.showFunctions,this.defaultValue.showFunctions),showConstructors:n(Ct.showConstructors,this.defaultValue.showConstructors),showDeprecated:n(Ct.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:n(Ct.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:n(Ct.showFields,this.defaultValue.showFields),showVariables:n(Ct.showVariables,this.defaultValue.showVariables),showClasses:n(Ct.showClasses,this.defaultValue.showClasses),showStructs:n(Ct.showStructs,this.defaultValue.showStructs),showInterfaces:n(Ct.showInterfaces,this.defaultValue.showInterfaces),showModules:n(Ct.showModules,this.defaultValue.showModules),showProperties:n(Ct.showProperties,this.defaultValue.showProperties),showEvents:n(Ct.showEvents,this.defaultValue.showEvents),showOperators:n(Ct.showOperators,this.defaultValue.showOperators),showUnits:n(Ct.showUnits,this.defaultValue.showUnits),showValues:n(Ct.showValues,this.defaultValue.showValues),showConstants:n(Ct.showConstants,this.defaultValue.showConstants),showEnums:n(Ct.showEnums,this.defaultValue.showEnums),showEnumMembers:n(Ct.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:n(Ct.showKeywords,this.defaultValue.showKeywords),showWords:n(Ct.showWords,this.defaultValue.showWords),showColors:n(Ct.showColors,this.defaultValue.showColors),showFiles:n(Ct.showFiles,this.defaultValue.showFiles),showReferences:n(Ct.showReferences,this.defaultValue.showReferences),showFolders:n(Ct.showFolders,this.defaultValue.showFolders),showTypeParameters:n(Ct.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:n(Ct.showSnippets,this.defaultValue.showSnippets),showUsers:n(Ct.showUsers,this.defaultValue.showUsers),showIssues:n(Ct.showIssues,this.defaultValue.showIssues)}}}class Ae extends m{constructor(){super(113,"smartSelect",{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:p.NC("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"},"editor.smartSelect.selectSubwords":{description:p.NC("selectSubwords","Whether subwords (like 'foo' in 'fooBar' or 'foo_bar') should be selected."),default:!0,type:"boolean"}})}validate(He){return!He||typeof He!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:n(He.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace),selectSubwords:n(He.selectSubwords,this.defaultValue.selectSubwords)}}}class pe extends m{constructor(){const He=[];super(130,"wordSegmenterLocales",He,{anyOf:[{description:p.NC("wordSegmenterLocales","Locales to be used for word segmentation when doing word related navigations or operations. Specify the BCP 47 language tag of the word you wish to recognize (e.g., ja, zh-CN, zh-Hant-TW, etc.)."),type:"string"},{description:p.NC("wordSegmenterLocales","Locales to be used for word segmentation when doing word related navigations or operations. Specify the BCP 47 language tag of the word you wish to recognize (e.g., ja, zh-CN, zh-Hant-TW, etc.)."),type:"array",items:{type:"string"}}]})}validate(He){if(typeof He=="string"&&(He=[He]),Array.isArray(He)){const Ct=[];for(const Gt of He)if(typeof Gt=="string")try{Intl.Segmenter.supportedLocalesOf(Gt).length>0&&Ct.push(Gt)}catch(Di){}return Ct}return this.defaultValue}}class je extends m{constructor(){super(138,"wrappingIndent",1,{"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[p.NC("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),p.NC("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),p.NC("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),p.NC("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:p.NC("wrappingIndent","Controls the indentation of wrapped lines."),default:"same"}})}validate(He){switch(He){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}return 1}compute(He,Ct,Gt){return Ct.get(2)===2?0:Gt}}class ot extends r{constructor(){super(146)}compute(He,Ct,Gt){const Di=Ct.get(145);return{isDominatedByLongLines:He.isDominatedByLongLines,isWordWrapMinified:Di.isWordWrapMinified,isViewportWrapping:Di.isViewportWrapping,wrappingColumn:Di.wrappingColumn}}}class xt extends m{constructor(){const He={enabled:!0,showDropSelector:"afterDrop"};super(36,"dropIntoEditor",He,{"editor.dropIntoEditor.enabled":{type:"boolean",default:He.enabled,markdownDescription:p.NC("dropIntoEditor.enabled","Controls whether you can drag and drop a file into a text editor by holding down the `Shift` key (instead of opening the file in an editor).")},"editor.dropIntoEditor.showDropSelector":{type:"string",markdownDescription:p.NC("dropIntoEditor.showDropSelector","Controls if a widget is shown when dropping files into the editor. This widget lets you control how the file is dropped."),enum:["afterDrop","never"],enumDescriptions:[p.NC("dropIntoEditor.showDropSelector.afterDrop","Show the drop selector widget after a file is dropped into the editor."),p.NC("dropIntoEditor.showDropSelector.never","Never show the drop selector widget. Instead the default drop provider is always used.")],default:"afterDrop"}})}validate(He){if(!He||typeof He!="object")return this.defaultValue;const Ct=He;return{enabled:n(Ct.enabled,this.defaultValue.enabled),showDropSelector:C(Ct.showDropSelector,this.defaultValue.showDropSelector,["afterDrop","never"])}}}class jt extends m{constructor(){const He={enabled:!0,showPasteSelector:"afterPaste"};super(85,"pasteAs",He,{"editor.pasteAs.enabled":{type:"boolean",default:He.enabled,markdownDescription:p.NC("pasteAs.enabled","Controls whether you can paste content in different ways.")},"editor.pasteAs.showPasteSelector":{type:"string",markdownDescription:p.NC("pasteAs.showPasteSelector","Controls if a widget is shown when pasting content in to the editor. This widget lets you control how the file is pasted."),enum:["afterPaste","never"],enumDescriptions:[p.NC("pasteAs.showPasteSelector.afterPaste","Show the paste selector widget after content is pasted into the editor."),p.NC("pasteAs.showPasteSelector.never","Never show the paste selector widget. Instead the default pasting behavior is always used.")],default:"afterPaste"}})}validate(He){if(!He||typeof He!="object")return this.defaultValue;const Ct=He;return{enabled:n(Ct.enabled,this.defaultValue.enabled),showPasteSelector:C(Ct.showPasteSelector,this.defaultValue.showPasteSelector,["afterPaste","never"])}}}const yt={fontFamily:x.dz?"Menlo, Monaco, 'Courier New', monospace":x.IJ?"'Droid Sans Mono', 'monospace', monospace":"Consolas, 'Courier New', monospace",fontWeight:"normal",fontSize:x.dz?12:14,lineHeight:0,letterSpacing:0},$t=[];function Nt(Ht){return $t[Ht.id]=Ht,Ht}const qt={acceptSuggestionOnCommitCharacter:Nt(new c(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:p.NC("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:Nt(new _(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",p.NC("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:p.NC("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:Nt(new k),accessibilityPageSize:Nt(new l(3,"accessibilityPageSize",10,1,1073741824,{description:p.NC("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default."),tags:["accessibility"]})),ariaLabel:Nt(new y(4,"ariaLabel",p.NC("editorViewAccessibleLabel","Editor content"))),ariaRequired:Nt(new c(5,"ariaRequired",!1,void 0)),screenReaderAnnounceInlineSuggestion:Nt(new c(8,"screenReaderAnnounceInlineSuggestion",!0,{description:p.NC("screenReaderAnnounceInlineSuggestion","Control whether inline suggestions are announced by a screen reader."),tags:["accessibility"]})),autoClosingBrackets:Nt(new _(6,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",p.NC("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),p.NC("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:p.NC("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingComments:Nt(new _(7,"autoClosingComments","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",p.NC("editor.autoClosingComments.languageDefined","Use language configurations to determine when to autoclose comments."),p.NC("editor.autoClosingComments.beforeWhitespace","Autoclose comments only when the cursor is to the left of whitespace."),""],description:p.NC("autoClosingComments","Controls whether the editor should automatically close comments after the user adds an opening comment.")})),autoClosingDelete:Nt(new _(9,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",p.NC("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:p.NC("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:Nt(new _(10,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",p.NC("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:p.NC("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:Nt(new _(11,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",p.NC("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),p.NC("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:p.NC("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:Nt(new N(12,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],b,{enumDescriptions:[p.NC("editor.autoIndent.none","The editor will not insert indentation automatically."),p.NC("editor.autoIndent.keep","The editor will keep the current line's indentation."),p.NC("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),p.NC("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),p.NC("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:p.NC("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:Nt(new c(13,"automaticLayout",!1)),autoSurround:Nt(new _(14,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[p.NC("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),p.NC("editor.autoSurround.quotes","Surround with quotes but not brackets."),p.NC("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:p.NC("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:Nt(new ue),bracketPairGuides:Nt(new de),stickyTabStops:Nt(new c(116,"stickyTabStops",!1,{description:p.NC("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:Nt(new c(17,"codeLens",!0,{description:p.NC("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:Nt(new y(18,"codeLensFontFamily","",{description:p.NC("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:Nt(new l(19,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:p.NC("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to 0, 90% of `#editor.fontSize#` is used.")})),colorDecorators:Nt(new c(20,"colorDecorators",!0,{description:p.NC("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),colorDecoratorActivatedOn:Nt(new _(148,"colorDecoratorsActivatedOn","clickAndHover",["clickAndHover","hover","click"],{enumDescriptions:[p.NC("editor.colorDecoratorActivatedOn.clickAndHover","Make the color picker appear both on click and hover of the color decorator"),p.NC("editor.colorDecoratorActivatedOn.hover","Make the color picker appear on hover of the color decorator"),p.NC("editor.colorDecoratorActivatedOn.click","Make the color picker appear on click of the color decorator")],description:p.NC("colorDecoratorActivatedOn","Controls the condition to make a color picker appear from a color decorator")})),colorDecoratorsLimit:Nt(new l(21,"colorDecoratorsLimit",500,1,1e6,{markdownDescription:p.NC("colorDecoratorsLimit","Controls the max number of color decorators that can be rendered in an editor at once.")})),columnSelection:Nt(new c(22,"columnSelection",!1,{description:p.NC("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:Nt(new V),contextmenu:Nt(new c(24,"contextmenu",!0)),copyWithSyntaxHighlighting:Nt(new c(25,"copyWithSyntaxHighlighting",!0,{description:p.NC("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:Nt(new N(26,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],K,{description:p.NC("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:Nt(new _(27,"cursorSmoothCaretAnimation","off",["off","explicit","on"],{enumDescriptions:[p.NC("cursorSmoothCaretAnimation.off","Smooth caret animation is disabled."),p.NC("cursorSmoothCaretAnimation.explicit","Smooth caret animation is enabled only when the user moves the cursor with an explicit gesture."),p.NC("cursorSmoothCaretAnimation.on","Smooth caret animation is always enabled.")],description:p.NC("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:Nt(new N(28,"cursorStyle",Z.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],z,{description:p.NC("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:Nt(new l(29,"cursorSurroundingLines",0,0,1073741824,{description:p.NC("cursorSurroundingLines","Controls the minimal number of visible leading lines (minimum 0) and trailing lines (minimum 1) surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:Nt(new _(30,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[p.NC("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),p.NC("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],markdownDescription:p.NC("cursorSurroundingLinesStyle","Controls when `#editor.cursorSurroundingLines#` should be enforced.")})),cursorWidth:Nt(new l(31,"cursorWidth",0,0,1073741824,{markdownDescription:p.NC("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:Nt(new c(32,"disableLayerHinting",!1)),disableMonospaceOptimizations:Nt(new c(33,"disableMonospaceOptimizations",!1)),domReadOnly:Nt(new c(34,"domReadOnly",!1)),dragAndDrop:Nt(new c(35,"dragAndDrop",!0,{description:p.NC("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:Nt(new P),dropIntoEditor:Nt(new xt),stickyScroll:Nt(new re),experimentalWhitespaceRendering:Nt(new _(38,"experimentalWhitespaceRendering","svg",["svg","font","off"],{enumDescriptions:[p.NC("experimentalWhitespaceRendering.svg","Use a new rendering method with svgs."),p.NC("experimentalWhitespaceRendering.font","Use a new rendering method with font characters."),p.NC("experimentalWhitespaceRendering.off","Use the stable rendering method.")],description:p.NC("experimentalWhitespaceRendering","Controls whether whitespace is rendered with a new, experimental method.")})),extraEditorClassName:Nt(new y(39,"extraEditorClassName","")),fastScrollSensitivity:Nt(new f(40,"fastScrollSensitivity",5,Ht=>Ht<=0?5:Ht,{markdownDescription:p.NC("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:Nt(new I),fixedOverflowWidgets:Nt(new c(42,"fixedOverflowWidgets",!1)),folding:Nt(new c(43,"folding",!0,{description:p.NC("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:Nt(new _(44,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[p.NC("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),p.NC("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:p.NC("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:Nt(new c(45,"foldingHighlight",!0,{description:p.NC("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:Nt(new c(46,"foldingImportsByDefault",!1,{description:p.NC("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:Nt(new l(47,"foldingMaximumRegions",5e3,10,65e3,{description:p.NC("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:Nt(new c(48,"unfoldOnClickAfterEndOfLine",!1,{description:p.NC("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:Nt(new y(49,"fontFamily",yt.fontFamily,{description:p.NC("fontFamily","Controls the font family.")})),fontInfo:Nt(new j),fontLigatures2:Nt(new W),fontSize:Nt(new Y),fontWeight:Nt(new H),fontVariations:Nt(new G),formatOnPaste:Nt(new c(55,"formatOnPaste",!1,{description:p.NC("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:Nt(new c(56,"formatOnType",!1,{description:p.NC("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:Nt(new c(57,"glyphMargin",!0,{description:p.NC("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:Nt(new Q),hideCursorInOverviewRuler:Nt(new c(59,"hideCursorInOverviewRuler",!1,{description:p.NC("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:Nt(new ie),inDiffEditor:Nt(new c(61,"inDiffEditor",!1)),letterSpacing:Nt(new f(64,"letterSpacing",yt.letterSpacing,Ht=>f.clamp(Ht,-5,20),{description:p.NC("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:Nt(new ee),lineDecorationsWidth:Nt(new M),lineHeight:Nt(new we),lineNumbers:Nt(new Ke),lineNumbersMinChars:Nt(new l(69,"lineNumbersMinChars",5,1,300)),linkedEditing:Nt(new c(70,"linkedEditing",!1,{description:p.NC("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols such as HTML tags, are updated while editing.")})),links:Nt(new c(71,"links",!0,{description:p.NC("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:Nt(new _(72,"matchBrackets","always",["always","near","never"],{description:p.NC("matchBrackets","Highlight matching brackets.")})),minimap:Nt(new We),mouseStyle:Nt(new _(74,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:Nt(new f(75,"mouseWheelScrollSensitivity",1,Ht=>Ht===0?1:Ht,{markdownDescription:p.NC("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:Nt(new c(76,"mouseWheelZoom",!1,{markdownDescription:x.dz?p.NC("mouseWheelZoom.mac","Zoom the font of the editor when using mouse wheel and holding `Cmd`."):p.NC("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:Nt(new c(77,"multiCursorMergeOverlapping",!0,{description:p.NC("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:Nt(new N(78,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],ye,{markdownEnumDescriptions:[p.NC("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),p.NC("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:p.NC({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the [multicursor modifier](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:Nt(new _(79,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[p.NC("multiCursorPaste.spread","Each cursor pastes a single line of the text."),p.NC("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:p.NC("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),multiCursorLimit:Nt(new l(80,"multiCursorLimit",1e4,1,1e5,{markdownDescription:p.NC("multiCursorLimit","Controls the max number of cursors that can be in an active editor at once.")})),occurrencesHighlight:Nt(new _(81,"occurrencesHighlight","singleFile",["off","singleFile","multiFile"],{markdownEnumDescriptions:[p.NC("occurrencesHighlight.off","Does not highlight occurrences."),p.NC("occurrencesHighlight.singleFile","Highlights occurrences only in the current file."),p.NC("occurrencesHighlight.multiFile","Experimental: Highlights occurrences across all valid open files.")],markdownDescription:p.NC("occurrencesHighlight","Controls whether occurrences should be highlighted across open files.")})),overviewRulerBorder:Nt(new c(82,"overviewRulerBorder",!0,{description:p.NC("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:Nt(new l(83,"overviewRulerLanes",3,0,3)),padding:Nt(new X),pasteAs:Nt(new jt),parameterHints:Nt(new ve),peekWidgetDefaultFocus:Nt(new _(87,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[p.NC("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),p.NC("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:p.NC("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:Nt(new c(88,"definitionLinkOpensInPeek",!1,{description:p.NC("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:Nt(new Oe),quickSuggestionsDelay:Nt(new l(90,"quickSuggestionsDelay",10,0,1073741824,{description:p.NC("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:Nt(new c(91,"readOnly",!1)),readOnlyMessage:Nt(new $),renameOnType:Nt(new c(93,"renameOnType",!1,{description:p.NC("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:p.NC("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:Nt(new c(94,"renderControlCharacters",!0,{description:p.NC("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:Nt(new _(95,"renderFinalNewline",x.IJ?"dimmed":"on",["off","on","dimmed"],{description:p.NC("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:Nt(new _(96,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",p.NC("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:p.NC("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:Nt(new c(97,"renderLineHighlightOnlyWhenFocus",!1,{description:p.NC("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:Nt(new _(98,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:Nt(new _(99,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",p.NC("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),p.NC("renderWhitespace.selection","Render whitespace characters only on selected text."),p.NC("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:p.NC("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:Nt(new l(100,"revealHorizontalRightPadding",15,0,1e3)),roundedSelection:Nt(new c(101,"roundedSelection",!0,{description:p.NC("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:Nt(new fe),scrollbar:Nt(new De),scrollBeyondLastColumn:Nt(new l(104,"scrollBeyondLastColumn",4,0,1073741824,{description:p.NC("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:Nt(new c(105,"scrollBeyondLastLine",!0,{description:p.NC("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:Nt(new c(106,"scrollPredominantAxis",!0,{description:p.NC("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:Nt(new c(107,"selectionClipboard",!0,{description:p.NC("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:x.IJ})),selectionHighlight:Nt(new c(108,"selectionHighlight",!0,{description:p.NC("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:Nt(new c(109,"selectOnLineNumbers",!0)),showFoldingControls:Nt(new _(110,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[p.NC("showFoldingControls.always","Always show the folding controls."),p.NC("showFoldingControls.never","Never show the folding controls and reduce the gutter size."),p.NC("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:p.NC("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:Nt(new c(111,"showUnused",!0,{description:p.NC("showUnused","Controls fading out of unused code.")})),showDeprecated:Nt(new c(140,"showDeprecated",!0,{description:p.NC("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:Nt(new he),snippetSuggestions:Nt(new _(112,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[p.NC("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),p.NC("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),p.NC("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),p.NC("snippetSuggestions.none","Do not show snippet suggestions.")],description:p.NC("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:Nt(new Ae),smoothScrolling:Nt(new c(114,"smoothScrolling",!1,{description:p.NC("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:Nt(new l(117,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:Nt(new Te),inlineSuggest:Nt(new be),inlineEdit:Nt(new oe),inlineCompletionsAccessibilityVerbose:Nt(new c(149,"inlineCompletionsAccessibilityVerbose",!1,{description:p.NC("inlineCompletionsAccessibilityVerbose","Controls whether the accessibility hint should be provided to screen reader users when an inline completion is shown.")})),suggestFontSize:Nt(new l(119,"suggestFontSize",0,0,1e3,{markdownDescription:p.NC("suggestFontSize","Font size for the suggest widget. When set to {0}, the value of {1} is used.","`0`","`#editor.fontSize#`")})),suggestLineHeight:Nt(new l(120,"suggestLineHeight",0,0,1e3,{markdownDescription:p.NC("suggestLineHeight","Line height for the suggest widget. When set to {0}, the value of {1} is used. The minimum value is 8.","`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:Nt(new c(121,"suggestOnTriggerCharacters",!0,{description:p.NC("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:Nt(new _(122,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[p.NC("suggestSelection.first","Always select the first suggestion."),p.NC("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),p.NC("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:p.NC("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:Nt(new _(123,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[p.NC("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),p.NC("tabCompletion.off","Disable tab completions."),p.NC("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:p.NC("tabCompletion","Enables tab completions.")})),tabIndex:Nt(new l(124,"tabIndex",0,-1,1073741824)),unicodeHighlight:Nt(new me),unusualLineTerminators:Nt(new _(126,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[p.NC("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),p.NC("unusualLineTerminators.off","Unusual line terminators are ignored."),p.NC("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:p.NC("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:Nt(new c(127,"useShadowDOM",!0)),useTabStops:Nt(new c(128,"useTabStops",!0,{description:p.NC("useTabStops","Spaces and tabs are inserted and deleted in alignment with tab stops.")})),wordBreak:Nt(new _(129,"wordBreak","normal",["normal","keepAll"],{markdownEnumDescriptions:[p.NC("wordBreak.normal","Use the default line break rule."),p.NC("wordBreak.keepAll","Word breaks should not be used for Chinese/Japanese/Korean (CJK) text. Non-CJK text behavior is the same as for normal.")],description:p.NC("wordBreak","Controls the word break rules used for Chinese/Japanese/Korean (CJK) text.")})),wordSegmenterLocales:Nt(new pe),wordSeparators:Nt(new y(131,"wordSeparators",S.vu,{description:p.NC("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:Nt(new _(132,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[p.NC("wordWrap.off","Lines will never wrap."),p.NC("wordWrap.on","Lines will wrap at the viewport width."),p.NC({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),p.NC({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:p.NC({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:Nt(new y(133,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:Nt(new y(134,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:Nt(new l(135,"wordWrapColumn",80,1,1073741824,{markdownDescription:p.NC({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:Nt(new _(136,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:Nt(new _(137,"wordWrapOverride2","inherit",["off","on","inherit"])),editorClassName:Nt(new A),defaultColorDecorators:Nt(new c(147,"defaultColorDecorators",!1,{markdownDescription:p.NC("defaultColorDecorators","Controls whether inline color decorations should be shown using the default document color provider")})),pixelRatio:Nt(new Ee),tabFocusMode:Nt(new c(144,"tabFocusMode",!1,{markdownDescription:p.NC("tabFocusMode","Controls whether the editor receives tabs or defers them to the workbench for navigation.")})),layoutInfo:Nt(new te),wrappingInfo:Nt(new ot),wrappingIndent:Nt(new je),wrappingStrategy:Nt(new se)}},58001:function(et,Le,e){"use strict";e.d(Le,{C:function(){return B}});var o=e(79329);const B=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new o.Q5,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(x){x=Math.min(Math.max(-5,x),20),this._zoomLevel!==x&&(this._zoomLevel=x,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}},33525:function(et,Le,e){"use strict";e.d(Le,{E4:function(){return p},pR:function(){return R}});var o=e(15122),B=e(75625),x=e(58001);const O=o.dz?1.5:1.35,S=8;class p{static createFromValidatedSettings(m,g,a){const r=m.get(49),i=m.get(53),n=m.get(52),c=m.get(51),u=m.get(54),l=m.get(67),D=m.get(64);return p._create(r,i,n,c,u,l,D,g,a)}static _create(m,g,a,r,i,n,c,u,l){n===0?n=O*a:n<S&&(n=n*a),n=Math.round(n),n<S&&(n=S);const D=1+(l?0:x.C.getZoomLevel()*.1);return a*=D,n*=D,i===B.Bo.TRANSLATE&&(g==="normal"||g==="bold"?i=B.Bo.OFF:(i=`'wght' ${parseInt(g,10)}`,g="normal")),new p({pixelRatio:u,fontFamily:m,fontWeight:g,fontSize:a,fontFeatureSettings:r,fontVariationSettings:i,lineHeight:n,letterSpacing:c})}constructor(m){this._bareFontInfoBrand=void 0,this.pixelRatio=m.pixelRatio,this.fontFamily=String(m.fontFamily),this.fontWeight=String(m.fontWeight),this.fontSize=m.fontSize,this.fontFeatureSettings=m.fontFeatureSettings,this.fontVariationSettings=m.fontVariationSettings,this.lineHeight=m.lineHeight|0,this.letterSpacing=m.letterSpacing}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.fontVariationSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const m=B.hL.fontFamily,g=p._wrapInQuotes(this.fontFamily);return m&&this.fontFamily!==m?`${g}, ${m}`:g}static _wrapInQuotes(m){return/[,"']/.test(m)?m:/[+ ]/.test(m)?`"${m}"`:m}}const E=2;class R extends p{constructor(m,g){super(m),this._editorStylingBrand=void 0,this.version=E,this.isTrusted=g,this.isMonospace=m.isMonospace,this.typicalHalfwidthCharacterWidth=m.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=m.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=m.canUseHalfwidthRightwardsArrow,this.spaceWidth=m.spaceWidth,this.middotWidth=m.middotWidth,this.wsmiddotWidth=m.wsmiddotWidth,this.maxDigitWidth=m.maxDigitWidth}equals(m){return this.fontFamily===m.fontFamily&&this.fontWeight===m.fontWeight&&this.fontSize===m.fontSize&&this.fontFeatureSettings===m.fontFeatureSettings&&this.fontVariationSettings===m.fontVariationSettings&&this.lineHeight===m.lineHeight&&this.letterSpacing===m.letterSpacing&&this.typicalHalfwidthCharacterWidth===m.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===m.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===m.canUseHalfwidthRightwardsArrow&&this.spaceWidth===m.spaceWidth&&this.middotWidth===m.middotWidth&&this.wsmiddotWidth===m.wsmiddotWidth&&this.maxDigitWidth===m.maxDigitWidth}}},89925:function(et,Le,e){"use strict";e.d(Le,{N:function(){return B},q:function(){return x}});var o=e(18973);class B{constructor(S){const p=(0,o.K)(S);this._defaultValue=p,this._asciiMap=B._createAsciiMap(p),this._map=new Map}static _createAsciiMap(S){const p=new Uint8Array(256);return p.fill(S),p}set(S,p){const E=(0,o.K)(p);S>=0&&S<256?this._asciiMap[S]=E:this._map.set(S,E)}get(S){return S>=0&&S<256?this._asciiMap[S]:this._map.get(S)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}}class x{constructor(){this._actual=new B(0)}add(S){this._actual.set(S,1)}has(S){return this._actual.get(S)===1}clear(){return this._actual.clear()}}},76675:function(et,Le,e){"use strict";e.d(Le,{i:function(){return B}});var o=e(30144);class B{static _nextVisibleColumn(O,S,p){return O===9?B.nextRenderTabStop(S,p):o.K7(O)||o.C8(O)?S+2:S+1}static visibleColumnFromColumn(O,S,p){const E=Math.min(S-1,O.length),R=O.substring(0,E),w=new o.W1(R);let m=0;for(;!w.eol();){const g=o.ZH(R,E,w.offset);w.nextGraphemeLength(),m=this._nextVisibleColumn(g,m,p)}return m}static columnFromVisibleColumn(O,S,p){if(S<=0)return 1;const E=O.length,R=new o.W1(O);let w=0,m=1;for(;!R.eol();){const g=o.ZH(O,E,R.offset);R.nextGraphemeLength();const a=this._nextVisibleColumn(g,w,p),r=R.offset+1;if(a>=S){const i=S-w;return a-S<i?r:m}w=a,m=r}return E+1}static nextRenderTabStop(O,S){return O+S-O%S}static nextIndentTabStop(O,S){return O+S-O%S}static prevRenderTabStop(O,S){return Math.max(0,O-1-(O-1)%S)}static prevIndentTabStop(O,S){return Math.max(0,O-1-(O-1)%S)}}},44316:function(et,Le,e){"use strict";e.d(Le,{h:function(){return B}});var o=e(4694);class B{static insert(O,S){return{range:new o.e(O.lineNumber,O.column,O.lineNumber,O.column),text:S,forceMoveMarkers:!0}}static delete(O){return{range:O,text:null}}static replace(O,S){return{range:O,text:S}}static replaceMove(O,S){return{range:O,text:S,forceMoveMarkers:!0}}}},44444:function(et,Le,e){"use strict";e.d(Le,{Bj:function(){return G},CE:function(){return Ke},DS:function(){return Ce},HV:function(){return Ae},H_:function(){return _},Jn:function(){return be},Kh:function(){return S},L7:function(){return Te},Mm:function(){return p},N8:function(){return z},P0:function(){return c},Qb:function(){return ue},Re:function(){return X},Tf:function(){return C},To:function(){return Se},UP:function(){return Qe},Vs:function(){return Oe},Xy:function(){return K},YF:function(){return oe},cK:function(){return Z},dI:function(){return u},e9:function(){return k},eS:function(){return ve},e_:function(){return te},f9:function(){return pe},fY:function(){return a},gS:function(){return y},h1:function(){return N},hw:function(){return l},jD:function(){return r},lK:function(){return ye},lS:function(){return me},ll:function(){return P},m$:function(){return xe},m1:function(){return $},m3:function(){return de},m9:function(){return We},n0:function(){return g},oV:function(){return De},qe:function(){return V},r0:function(){return fe},s2:function(){return i},ts:function(){return le},vP:function(){return b},x_:function(){return n},zJ:function(){return Ee},zd:function(){return A},zu:function(){return ee},zw:function(){return ie}});var o=e(61652),B=e(64707),x=e(97341),O=e(63279);const S=(0,x.P6G)("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},o.NC("lineHighlight","Background color for the highlight of line at the cursor position.")),p=(0,x.P6G)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:x.lRK},o.NC("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),E=(0,x.P6G)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},o.NC("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),R=(0,x.P6G)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:x.xL1,hcLight:x.xL1},o.NC("rangeHighlightBorder","Background color of the border around highlighted ranges.")),w=(0,x.P6G)("editor.symbolHighlightBackground",{dark:x.MUv,light:x.MUv,hcDark:null,hcLight:null},o.NC("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),m=(0,x.P6G)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:x.xL1,hcLight:x.xL1},o.NC("symbolHighlightBorder","Background color of the border around highlighted symbols.")),g=(0,x.P6G)("editorCursor.foreground",{dark:"#AEAFAD",light:B.Il.black,hcDark:B.Il.white,hcLight:"#0F4A85"},o.NC("caret","Color of the editor cursor.")),a=(0,x.P6G)("editorCursor.background",null,o.NC("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),r=(0,x.P6G)("editorMultiCursor.primary.foreground",{dark:g,light:g,hcDark:g,hcLight:g},o.NC("editorMultiCursorPrimaryForeground","Color of the primary editor cursor when multiple cursors are present.")),i=(0,x.P6G)("editorMultiCursor.primary.background",{dark:a,light:a,hcDark:a,hcLight:a},o.NC("editorMultiCursorPrimaryBackground","The background color of the primary editor cursor when multiple cursors are present. Allows customizing the color of a character overlapped by a block cursor.")),n=(0,x.P6G)("editorMultiCursor.secondary.foreground",{dark:g,light:g,hcDark:g,hcLight:g},o.NC("editorMultiCursorSecondaryForeground","Color of secondary editor cursors when multiple cursors are present.")),c=(0,x.P6G)("editorMultiCursor.secondary.background",{dark:a,light:a,hcDark:a,hcLight:a},o.NC("editorMultiCursorSecondaryBackground","The background color of secondary editor cursors when multiple cursors are present. Allows customizing the color of a character overlapped by a block cursor.")),u=(0,x.P6G)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},o.NC("editorWhitespaces","Color of whitespace characters in the editor.")),l=(0,x.P6G)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:B.Il.white,hcLight:"#292929"},o.NC("editorLineNumbers","Color of editor line numbers.")),D=(0,x.P6G)("editorIndentGuide.background",{dark:u,light:u,hcDark:u,hcLight:u},o.NC("editorIndentGuides","Color of the editor indentation guides."),!1,o.NC("deprecatedEditorIndentGuides","'editorIndentGuide.background' is deprecated. Use 'editorIndentGuide.background1' instead.")),f=(0,x.P6G)("editorIndentGuide.activeBackground",{dark:u,light:u,hcDark:u,hcLight:u},o.NC("editorActiveIndentGuide","Color of the active editor indentation guides."),!1,o.NC("deprecatedEditorActiveIndentGuide","'editorIndentGuide.activeBackground' is deprecated. Use 'editorIndentGuide.activeBackground1' instead.")),y=(0,x.P6G)("editorIndentGuide.background1",{dark:D,light:D,hcDark:D,hcLight:D},o.NC("editorIndentGuides1","Color of the editor indentation guides (1).")),C=(0,x.P6G)("editorIndentGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},o.NC("editorIndentGuides2","Color of the editor indentation guides (2).")),_=(0,x.P6G)("editorIndentGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},o.NC("editorIndentGuides3","Color of the editor indentation guides (3).")),N=(0,x.P6G)("editorIndentGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},o.NC("editorIndentGuides4","Color of the editor indentation guides (4).")),b=(0,x.P6G)("editorIndentGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},o.NC("editorIndentGuides5","Color of the editor indentation guides (5).")),k=(0,x.P6G)("editorIndentGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},o.NC("editorIndentGuides6","Color of the editor indentation guides (6).")),V=(0,x.P6G)("editorIndentGuide.activeBackground1",{dark:f,light:f,hcDark:f,hcLight:f},o.NC("editorActiveIndentGuide1","Color of the active editor indentation guides (1).")),K=(0,x.P6G)("editorIndentGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},o.NC("editorActiveIndentGuide2","Color of the active editor indentation guides (2).")),Z=(0,x.P6G)("editorIndentGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},o.NC("editorActiveIndentGuide3","Color of the active editor indentation guides (3).")),z=(0,x.P6G)("editorIndentGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},o.NC("editorActiveIndentGuide4","Color of the active editor indentation guides (4).")),A=(0,x.P6G)("editorIndentGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},o.NC("editorActiveIndentGuide5","Color of the active editor indentation guides (5).")),P=(0,x.P6G)("editorIndentGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},o.NC("editorActiveIndentGuide6","Color of the active editor indentation guides (6).")),I=(0,x.P6G)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:x.xL1,hcLight:x.xL1},o.NC("editorActiveLineNumber","Color of editor active line number"),!1,o.NC("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),W=(0,x.P6G)("editorLineNumber.activeForeground",{dark:I,light:I,hcDark:I,hcLight:I},o.NC("editorActiveLineNumber","Color of editor active line number")),G=(0,x.P6G)("editorLineNumber.dimmedForeground",{dark:null,light:null,hcDark:null,hcLight:null},o.NC("editorDimmedLineNumber","Color of the final editor line when editor.renderFinalNewline is set to dimmed.")),j=(0,x.P6G)("editorRuler.foreground",{dark:"#5A5A5A",light:B.Il.lightgrey,hcDark:B.Il.white,hcLight:"#292929"},o.NC("editorRuler","Color of the editor rulers.")),Y=(0,x.P6G)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},o.NC("editorCodeLensForeground","Foreground color of editor CodeLens")),H=(0,x.P6G)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},o.NC("editorBracketMatchBackground","Background color behind matching brackets")),Q=(0,x.P6G)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:x.lRK,hcLight:x.lRK},o.NC("editorBracketMatchBorder","Color for matching brackets boxes")),ie=(0,x.P6G)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},o.NC("editorOverviewRulerBorder","Color of the overview ruler border.")),te=(0,x.P6G)("editorOverviewRuler.background",null,o.NC("editorOverviewRulerBackground","Background color of the editor overview ruler.")),se=(0,x.P6G)("editorGutter.background",{dark:x.cvW,light:x.cvW,hcDark:x.cvW,hcLight:x.cvW},o.NC("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),ne=(0,x.P6G)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:B.Il.fromHex("#fff").transparent(.8),hcLight:x.lRK},o.NC("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),ee=(0,x.P6G)("editorUnnecessaryCode.opacity",{dark:B.Il.fromHex("#000a"),light:B.Il.fromHex("#0007"),hcDark:null,hcLight:null},o.NC("unnecessaryCodeOpacity",`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`)),re=(0,x.P6G)("editorGhostText.border",{dark:null,light:null,hcDark:B.Il.fromHex("#fff").transparent(.8),hcLight:B.Il.fromHex("#292929").transparent(.8)},o.NC("editorGhostTextBorder","Border color of ghost text in the editor.")),he=(0,x.P6G)("editorGhostText.foreground",{dark:B.Il.fromHex("#ffffff56"),light:B.Il.fromHex("#0007"),hcDark:null,hcLight:null},o.NC("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),M=(0,x.P6G)("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},o.NC("editorGhostTextBackground","Background color of the ghost text in the editor.")),we=new B.Il(new B.VS(0,122,204,.6)),We=(0,x.P6G)("editorOverviewRuler.rangeHighlightForeground",{dark:we,light:we,hcDark:we,hcLight:we},o.NC("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),ye=(0,x.P6G)("editorOverviewRuler.errorForeground",{dark:new B.Il(new B.VS(255,18,18,.7)),light:new B.Il(new B.VS(255,18,18,.7)),hcDark:new B.Il(new B.VS(255,50,50,1)),hcLight:"#B5200D"},o.NC("overviewRuleError","Overview ruler marker color for errors.")),X=(0,x.P6G)("editorOverviewRuler.warningForeground",{dark:x.uoC,light:x.uoC,hcDark:x.pW3,hcLight:x.pW3},o.NC("overviewRuleWarning","Overview ruler marker color for warnings.")),ve=(0,x.P6G)("editorOverviewRuler.infoForeground",{dark:x.c63,light:x.c63,hcDark:x.T83,hcLight:x.T83},o.NC("overviewRuleInfo","Overview ruler marker color for infos.")),Ee=(0,x.P6G)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},o.NC("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),Oe=(0,x.P6G)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},o.NC("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),Ke=(0,x.P6G)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},o.NC("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),Qe=(0,x.P6G)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},o.NC("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),fe=(0,x.P6G)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},o.NC("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),$=(0,x.P6G)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},o.NC("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),le=(0,x.P6G)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new B.Il(new B.VS(255,18,18,.8)),light:new B.Il(new B.VS(255,18,18,.8)),hcDark:new B.Il(new B.VS(255,50,50,1)),hcLight:""},o.NC("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),De=(0,x.P6G)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},o.NC("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),xe=(0,x.P6G)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},o.NC("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),Ce=(0,x.P6G)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},o.NC("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),me=(0,x.P6G)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},o.NC("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),be=(0,x.P6G)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},o.NC("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),oe=(0,x.P6G)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},o.NC("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),ue=(0,x.P6G)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},o.NC("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),de=(0,x.P6G)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},o.NC("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),Se=(0,x.P6G)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},o.NC("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),Te=(0,x.P6G)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},o.NC("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),Ae=(0,x.P6G)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},o.NC("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),pe=(0,x.P6G)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},o.NC("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides.")),je=(0,x.P6G)("editorUnicodeHighlight.border",{dark:x.uoC,light:x.uoC,hcDark:x.uoC,hcLight:x.uoC},o.NC("editorUnicodeHighlight.border","Border color used to highlight unicode characters.")),ot=(0,x.P6G)("editorUnicodeHighlight.background",{dark:x.gpD,light:x.gpD,hcDark:x.gpD,hcLight:x.gpD},o.NC("editorUnicodeHighlight.background","Background color used to highlight unicode characters."));(0,O.Ic)((xt,jt)=>{const oi=xt.getColor(x.cvW),ti=xt.getColor(S),it=ti&&!ti.isTransparent()?ti:oi;it&&jt.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${it}; }`)})},94540:function(et,Le,e){"use strict";e.d(Le,{Q:function(){return o}});function o(B){let x=0,O=0,S=0,p=0;for(let E=0,R=B.length;E<R;E++){const w=B.charCodeAt(E);w===13?(x===0&&(O=E),x++,E+1<R&&B.charCodeAt(E+1)===10?(p|=2,E++):p|=3,S=E+1):w===10&&(p|=1,x===0&&(O=E),x++,S=E+1)}return x===0&&(O=B.length),[x,O,B.length-S,p]}},25724:function(et,Le,e){"use strict";e.d(Le,{x:function(){return O}});var o=e(30144),B=e(76675);function x(S,p,E){let R=0;for(let m=0;m<S.length;m++)S.charAt(m)==="	"?R=B.i.nextIndentTabStop(R,p):R++;let w="";if(!E){const m=Math.floor(R/p);R=R%p;for(let g=0;g<m;g++)w+="	"}for(let m=0;m<R;m++)w+=" ";return w}function O(S,p,E){let R=o.LC(S);return R===-1&&(R=S.length),x(S.substring(0,R),p,E)+S.substring(R)}},56348:function(et,Le,e){"use strict";e.d(Le,{i:function(){return p},z:function(){return S}});var o=e(25602),B=e(98718),x=e(4694),O=e(15864);class S{static fromRangeInclusive(R){return new S(R.startLineNumber,R.endLineNumber+1)}static joinMany(R){if(R.length===0)return[];let w=new p(R[0].slice());for(let m=1;m<R.length;m++)w=w.getUnion(new p(R[m].slice()));return w.ranges}static join(R){if(R.length===0)throw new o.he("lineRanges cannot be empty");let w=R[0].startLineNumber,m=R[0].endLineNumberExclusive;for(let g=1;g<R.length;g++)w=Math.min(w,R[g].startLineNumber),m=Math.max(m,R[g].endLineNumberExclusive);return new S(w,m)}static ofLength(R,w){return new S(R,R+w)}static deserialize(R){return new S(R[0],R[1])}constructor(R,w){if(R>w)throw new o.he(`startLineNumber ${R} cannot be after endLineNumberExclusive ${w}`);this.startLineNumber=R,this.endLineNumberExclusive=w}contains(R){return this.startLineNumber<=R&&R<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(R){return new S(this.startLineNumber+R,this.endLineNumberExclusive+R)}deltaLength(R){return new S(this.startLineNumber,this.endLineNumberExclusive+R)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(R){return new S(Math.min(this.startLineNumber,R.startLineNumber),Math.max(this.endLineNumberExclusive,R.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(R){const w=Math.max(this.startLineNumber,R.startLineNumber),m=Math.min(this.endLineNumberExclusive,R.endLineNumberExclusive);if(w<=m)return new S(w,m)}intersectsStrict(R){return this.startLineNumber<R.endLineNumberExclusive&&R.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(R){return this.startLineNumber<=R.endLineNumberExclusive&&R.startLineNumber<=this.endLineNumberExclusive}equals(R){return this.startLineNumber===R.startLineNumber&&this.endLineNumberExclusive===R.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new x.e(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new x.e(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(R){const w=[];for(let m=this.startLineNumber;m<this.endLineNumberExclusive;m++)w.push(R(m));return w}forEach(R){for(let w=this.startLineNumber;w<this.endLineNumberExclusive;w++)R(w)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(R){return this.startLineNumber<=R&&R<this.endLineNumberExclusive}toOffsetRange(){return new B.q(this.startLineNumber-1,this.endLineNumberExclusive-1)}}class p{constructor(R=[]){this._normalizedRanges=R}get ranges(){return this._normalizedRanges}addRange(R){if(R.length===0)return;const w=(0,O.J_)(this._normalizedRanges,g=>g.endLineNumberExclusive>=R.startLineNumber),m=(0,O.Jw)(this._normalizedRanges,g=>g.startLineNumber<=R.endLineNumberExclusive)+1;if(w===m)this._normalizedRanges.splice(w,0,R);else if(w===m-1){const g=this._normalizedRanges[w];this._normalizedRanges[w]=g.join(R)}else{const g=this._normalizedRanges[w].join(this._normalizedRanges[m-1]).join(R);this._normalizedRanges.splice(w,m-w,g)}}contains(R){const w=(0,O.ti)(this._normalizedRanges,m=>m.startLineNumber<=R);return!!w&&w.endLineNumberExclusive>R}intersects(R){const w=(0,O.ti)(this._normalizedRanges,m=>m.startLineNumber<R.endLineNumberExclusive);return!!w&&w.endLineNumberExclusive>R.startLineNumber}getUnion(R){if(this._normalizedRanges.length===0)return R;if(R._normalizedRanges.length===0)return this;const w=[];let m=0,g=0,a=null;for(;m<this._normalizedRanges.length||g<R._normalizedRanges.length;){let r=null;if(m<this._normalizedRanges.length&&g<R._normalizedRanges.length){const i=this._normalizedRanges[m],n=R._normalizedRanges[g];i.startLineNumber<n.startLineNumber?(r=i,m++):(r=n,g++)}else m<this._normalizedRanges.length?(r=this._normalizedRanges[m],m++):(r=R._normalizedRanges[g],g++);a===null?a=r:a.endLineNumberExclusive>=r.startLineNumber?a=new S(a.startLineNumber,Math.max(a.endLineNumberExclusive,r.endLineNumberExclusive)):(w.push(a),a=r)}return a!==null&&w.push(a),new p(w)}subtractFrom(R){const w=(0,O.J_)(this._normalizedRanges,r=>r.endLineNumberExclusive>=R.startLineNumber),m=(0,O.Jw)(this._normalizedRanges,r=>r.startLineNumber<=R.endLineNumberExclusive)+1;if(w===m)return new p([R]);const g=[];let a=R.startLineNumber;for(let r=w;r<m;r++){const i=this._normalizedRanges[r];i.startLineNumber>a&&g.push(new S(a,i.startLineNumber)),a=i.endLineNumberExclusive}return a<R.endLineNumberExclusive&&g.push(new S(a,R.endLineNumberExclusive)),new p(g)}toString(){return this._normalizedRanges.map(R=>R.toString()).join(", ")}getIntersection(R){const w=[];let m=0,g=0;for(;m<this._normalizedRanges.length&&g<R._normalizedRanges.length;){const a=this._normalizedRanges[m],r=R._normalizedRanges[g],i=a.intersect(r);i&&!i.isEmpty&&w.push(i),a.endLineNumberExclusive<r.endLineNumberExclusive?m++:g++}return new p(w)}getWithDelta(R){return new p(this._normalizedRanges.map(w=>w.delta(R)))}}},98718:function(et,Le,e){"use strict";e.d(Le,{M:function(){return x},q:function(){return B}});var o=e(25602);class B{static addRange(S,p){let E=0;for(;E<p.length&&p[E].endExclusive<S.start;)E++;let R=E;for(;R<p.length&&p[R].start<=S.endExclusive;)R++;if(E===R)p.splice(E,0,S);else{const w=Math.min(S.start,p[E].start),m=Math.max(S.endExclusive,p[R-1].endExclusive);p.splice(E,R-E,new B(w,m))}}static tryCreate(S,p){if(!(S>p))return new B(S,p)}static ofLength(S){return new B(0,S)}static ofStartAndLength(S,p){return new B(S,S+p)}constructor(S,p){if(this.start=S,this.endExclusive=p,S>p)throw new o.he(`Invalid range: ${this.toString()}`)}get isEmpty(){return this.start===this.endExclusive}delta(S){return new B(this.start+S,this.endExclusive+S)}deltaStart(S){return new B(this.start+S,this.endExclusive)}deltaEnd(S){return new B(this.start,this.endExclusive+S)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}contains(S){return this.start<=S&&S<this.endExclusive}join(S){return new B(Math.min(this.start,S.start),Math.max(this.endExclusive,S.endExclusive))}intersect(S){const p=Math.max(this.start,S.start),E=Math.min(this.endExclusive,S.endExclusive);if(p<=E)return new B(p,E)}intersects(S){const p=Math.max(this.start,S.start),E=Math.min(this.endExclusive,S.endExclusive);return p<E}isBefore(S){return this.endExclusive<=S.start}isAfter(S){return this.start>=S.endExclusive}slice(S){return S.slice(this.start,this.endExclusive)}substring(S){return S.substring(this.start,this.endExclusive)}clip(S){if(this.isEmpty)throw new o.he(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,S))}clipCyclic(S){if(this.isEmpty)throw new o.he(`Invalid clipping range: ${this.toString()}`);return S<this.start?this.endExclusive-(this.start-S)%this.length:S>=this.endExclusive?this.start+(S-this.start)%this.length:S}forEach(S){for(let p=this.start;p<this.endExclusive;p++)S(p)}}class x{constructor(){this._sortedRanges=[]}addRange(S){let p=0;for(;p<this._sortedRanges.length&&this._sortedRanges[p].endExclusive<S.start;)p++;let E=p;for(;E<this._sortedRanges.length&&this._sortedRanges[E].start<=S.endExclusive;)E++;if(p===E)this._sortedRanges.splice(p,0,S);else{const R=Math.min(S.start,this._sortedRanges[p].start),w=Math.max(S.endExclusive,this._sortedRanges[E-1].endExclusive);this._sortedRanges.splice(p,E-p,new B(R,w))}}toString(){return this._sortedRanges.map(S=>S.toString()).join(", ")}intersectsStrict(S){let p=0;for(;p<this._sortedRanges.length&&this._sortedRanges[p].endExclusive<=S.start;)p++;return p<this._sortedRanges.length&&this._sortedRanges[p].start<S.endExclusive}intersectWithRange(S){const p=new x;for(const E of this._sortedRanges){const R=E.intersect(S);R&&p.addRange(R)}return p}intersectWithRangeLength(S){return this.intersectWithRange(S).length}get length(){return this._sortedRanges.reduce((S,p)=>S+p.length,0)}}},93895:function(et,Le,e){"use strict";e.d(Le,{L:function(){return o}});class o{constructor(x,O){this.lineNumber=x,this.column=O}with(x=this.lineNumber,O=this.column){return x===this.lineNumber&&O===this.column?this:new o(x,O)}delta(x=0,O=0){return this.with(this.lineNumber+x,this.column+O)}equals(x){return o.equals(this,x)}static equals(x,O){return!x&&!O?!0:!!x&&!!O&&x.lineNumber===O.lineNumber&&x.column===O.column}isBefore(x){return o.isBefore(this,x)}static isBefore(x,O){return x.lineNumber<O.lineNumber?!0:O.lineNumber<x.lineNumber?!1:x.column<O.column}isBeforeOrEqual(x){return o.isBeforeOrEqual(this,x)}static isBeforeOrEqual(x,O){return x.lineNumber<O.lineNumber?!0:O.lineNumber<x.lineNumber?!1:x.column<=O.column}static compare(x,O){const S=x.lineNumber|0,p=O.lineNumber|0;if(S===p){const E=x.column|0,R=O.column|0;return E-R}return S-p}clone(){return new o(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(x){return new o(x.lineNumber,x.column)}static isIPosition(x){return x&&typeof x.lineNumber=="number"&&typeof x.column=="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}}},4694:function(et,Le,e){"use strict";e.d(Le,{e:function(){return B}});var o=e(93895);class B{constructor(O,S,p,E){O>p||O===p&&S>E?(this.startLineNumber=p,this.startColumn=E,this.endLineNumber=O,this.endColumn=S):(this.startLineNumber=O,this.startColumn=S,this.endLineNumber=p,this.endColumn=E)}isEmpty(){return B.isEmpty(this)}static isEmpty(O){return O.startLineNumber===O.endLineNumber&&O.startColumn===O.endColumn}containsPosition(O){return B.containsPosition(this,O)}static containsPosition(O,S){return!(S.lineNumber<O.startLineNumber||S.lineNumber>O.endLineNumber||S.lineNumber===O.startLineNumber&&S.column<O.startColumn||S.lineNumber===O.endLineNumber&&S.column>O.endColumn)}static strictContainsPosition(O,S){return!(S.lineNumber<O.startLineNumber||S.lineNumber>O.endLineNumber||S.lineNumber===O.startLineNumber&&S.column<=O.startColumn||S.lineNumber===O.endLineNumber&&S.column>=O.endColumn)}containsRange(O){return B.containsRange(this,O)}static containsRange(O,S){return!(S.startLineNumber<O.startLineNumber||S.endLineNumber<O.startLineNumber||S.startLineNumber>O.endLineNumber||S.endLineNumber>O.endLineNumber||S.startLineNumber===O.startLineNumber&&S.startColumn<O.startColumn||S.endLineNumber===O.endLineNumber&&S.endColumn>O.endColumn)}strictContainsRange(O){return B.strictContainsRange(this,O)}static strictContainsRange(O,S){return!(S.startLineNumber<O.startLineNumber||S.endLineNumber<O.startLineNumber||S.startLineNumber>O.endLineNumber||S.endLineNumber>O.endLineNumber||S.startLineNumber===O.startLineNumber&&S.startColumn<=O.startColumn||S.endLineNumber===O.endLineNumber&&S.endColumn>=O.endColumn)}plusRange(O){return B.plusRange(this,O)}static plusRange(O,S){let p,E,R,w;return S.startLineNumber<O.startLineNumber?(p=S.startLineNumber,E=S.startColumn):S.startLineNumber===O.startLineNumber?(p=S.startLineNumber,E=Math.min(S.startColumn,O.startColumn)):(p=O.startLineNumber,E=O.startColumn),S.endLineNumber>O.endLineNumber?(R=S.endLineNumber,w=S.endColumn):S.endLineNumber===O.endLineNumber?(R=S.endLineNumber,w=Math.max(S.endColumn,O.endColumn)):(R=O.endLineNumber,w=O.endColumn),new B(p,E,R,w)}intersectRanges(O){return B.intersectRanges(this,O)}static intersectRanges(O,S){let p=O.startLineNumber,E=O.startColumn,R=O.endLineNumber,w=O.endColumn;const m=S.startLineNumber,g=S.startColumn,a=S.endLineNumber,r=S.endColumn;return p<m?(p=m,E=g):p===m&&(E=Math.max(E,g)),R>a?(R=a,w=r):R===a&&(w=Math.min(w,r)),p>R||p===R&&E>w?null:new B(p,E,R,w)}equalsRange(O){return B.equalsRange(this,O)}static equalsRange(O,S){return!O&&!S?!0:!!O&&!!S&&O.startLineNumber===S.startLineNumber&&O.startColumn===S.startColumn&&O.endLineNumber===S.endLineNumber&&O.endColumn===S.endColumn}getEndPosition(){return B.getEndPosition(this)}static getEndPosition(O){return new o.L(O.endLineNumber,O.endColumn)}getStartPosition(){return B.getStartPosition(this)}static getStartPosition(O){return new o.L(O.startLineNumber,O.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(O,S){return new B(this.startLineNumber,this.startColumn,O,S)}setStartPosition(O,S){return new B(O,S,this.endLineNumber,this.endColumn)}collapseToStart(){return B.collapseToStart(this)}static collapseToStart(O){return new B(O.startLineNumber,O.startColumn,O.startLineNumber,O.startColumn)}collapseToEnd(){return B.collapseToEnd(this)}static collapseToEnd(O){return new B(O.endLineNumber,O.endColumn,O.endLineNumber,O.endColumn)}delta(O){return new B(this.startLineNumber+O,this.startColumn,this.endLineNumber+O,this.endColumn)}static fromPositions(O,S=O){return new B(O.lineNumber,O.column,S.lineNumber,S.column)}static lift(O){return O?new B(O.startLineNumber,O.startColumn,O.endLineNumber,O.endColumn):null}static isIRange(O){return O&&typeof O.startLineNumber=="number"&&typeof O.startColumn=="number"&&typeof O.endLineNumber=="number"&&typeof O.endColumn=="number"}static areIntersectingOrTouching(O,S){return!(O.endLineNumber<S.startLineNumber||O.endLineNumber===S.startLineNumber&&O.endColumn<S.startColumn||S.endLineNumber<O.startLineNumber||S.endLineNumber===O.startLineNumber&&S.endColumn<O.startColumn)}static areIntersecting(O,S){return!(O.endLineNumber<S.startLineNumber||O.endLineNumber===S.startLineNumber&&O.endColumn<=S.startColumn||S.endLineNumber<O.startLineNumber||S.endLineNumber===O.startLineNumber&&S.endColumn<=O.startColumn)}static compareRangesUsingStarts(O,S){if(O&&S){const R=O.startLineNumber|0,w=S.startLineNumber|0;if(R===w){const m=O.startColumn|0,g=S.startColumn|0;if(m===g){const a=O.endLineNumber|0,r=S.endLineNumber|0;if(a===r){const i=O.endColumn|0,n=S.endColumn|0;return i-n}return a-r}return m-g}return R-w}return(O?1:0)-(S?1:0)}static compareRangesUsingEnds(O,S){return O.endLineNumber===S.endLineNumber?O.endColumn===S.endColumn?O.startLineNumber===S.startLineNumber?O.startColumn-S.startColumn:O.startLineNumber-S.startLineNumber:O.endColumn-S.endColumn:O.endLineNumber-S.endLineNumber}static spansMultipleLines(O){return O.endLineNumber>O.startLineNumber}toJSON(){return this}}},14149:function(et,Le,e){"use strict";e.d(Le,{Y:function(){return x}});var o=e(93895),B=e(4694);class x extends B.e{constructor(S,p,E,R){super(S,p,E,R),this.selectionStartLineNumber=S,this.selectionStartColumn=p,this.positionLineNumber=E,this.positionColumn=R}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(S){return x.selectionsEqual(this,S)}static selectionsEqual(S,p){return S.selectionStartLineNumber===p.selectionStartLineNumber&&S.selectionStartColumn===p.selectionStartColumn&&S.positionLineNumber===p.positionLineNumber&&S.positionColumn===p.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(S,p){return this.getDirection()===0?new x(this.startLineNumber,this.startColumn,S,p):new x(S,p,this.startLineNumber,this.startColumn)}getPosition(){return new o.L(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new o.L(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(S,p){return this.getDirection()===0?new x(S,p,this.endLineNumber,this.endColumn):new x(this.endLineNumber,this.endColumn,S,p)}static fromPositions(S,p=S){return new x(S.lineNumber,S.column,p.lineNumber,p.column)}static fromRange(S,p){return p===0?new x(S.startLineNumber,S.startColumn,S.endLineNumber,S.endColumn):new x(S.endLineNumber,S.endColumn,S.startLineNumber,S.startColumn)}static liftSelection(S){return new x(S.selectionStartLineNumber,S.selectionStartColumn,S.positionLineNumber,S.positionColumn)}static selectionsArrEqual(S,p){if(S&&!p||!S&&p)return!1;if(!S&&!p)return!0;if(S.length!==p.length)return!1;for(let E=0,R=S.length;E<R;E++)if(!this.selectionsEqual(S[E],p[E]))return!1;return!0}static isISelection(S){return S&&typeof S.selectionStartLineNumber=="number"&&typeof S.selectionStartColumn=="number"&&typeof S.positionLineNumber=="number"&&typeof S.positionColumn=="number"}static createWithDirection(S,p,E,R,w){return w===0?new x(S,p,E,R):new x(E,R,S,p)}}},42065:function(et,Le,e){"use strict";e.d(Le,{HT:function(){return a},kH:function(){return m},oe:function(){return w}});var o=e(30144),B=e(15122),x=e(79475);let O;function S(){return O||(O=new TextDecoder("UTF-16LE")),O}let p;function E(){return p||(p=new TextDecoder("UTF-16BE")),p}let R;function w(){return R||(R=B.r()?S():E()),R}function m(r,i,n){const c=new Uint16Array(r.buffer,i,n);return n>0&&(c[0]===65279||c[0]===65534)?g(r,i,n):S().decode(c)}function g(r,i,n){const c=[];let u=0;for(let l=0;l<n;l++){const D=x.mP(r,i);i+=2,c[u++]=String.fromCharCode(D)}return c.join("")}class a{constructor(i){this._capacity=i|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const i=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return w().decode(i)}_flushBuffer(){const i=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[i]:this._completedStrings[this._completedStrings.length]=i}appendCharCode(i){const n=this._capacity-this._bufferLength;n<=1&&(n===0||o.ZG(i))&&this._flushBuffer(),this._buffer[this._bufferLength++]=i}appendASCIICharCode(i){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=i}appendString(i){const n=i.length;if(this._bufferLength+n>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=i;return}for(let c=0;c<n;c++)this._buffer[this._bufferLength++]=i.charCodeAt(c)}}},51563:function(et,Le,e){"use strict";e.d(Le,{b:function(){return S},q:function(){return O}});var o=e(79475),B=e(42065);function x(E){return E.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class O{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(R,w,m,g){this.oldPosition=R,this.oldText=w,this.newPosition=m,this.newText=g}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${x(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${x(this.oldText)}")`:`(replace@${this.oldPosition} "${x(this.oldText)}" with "${x(this.newText)}")`}static _writeStringSize(R){return 4+2*R.length}static _writeString(R,w,m){const g=w.length;o.T4(R,g,m),m+=4;for(let a=0;a<g;a++)o.oq(R,w.charCodeAt(a),m),m+=2;return m}static _readString(R,w){const m=o.Ag(R,w);return w+=4,(0,B.kH)(R,w,m)}writeSize(){return 8+O._writeStringSize(this.oldText)+O._writeStringSize(this.newText)}write(R,w){return o.T4(R,this.oldPosition,w),w+=4,o.T4(R,this.newPosition,w),w+=4,w=O._writeString(R,this.oldText,w),w=O._writeString(R,this.newText,w),w}static read(R,w,m){const g=o.Ag(R,w);w+=4;const a=o.Ag(R,w);w+=4;const r=O._readString(R,w);w+=O._writeStringSize(r);const i=O._readString(R,w);return w+=O._writeStringSize(i),m.push(new O(g,r,a,i)),w}}function S(E,R){return E===null||E.length===0?R:new p(E,R).compress()}class p{constructor(R,w){this._prevEdits=R,this._currEdits=w,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let R=0,w=0,m=this._getPrev(R),g=this._getCurr(w);for(;R<this._prevLen||w<this._currLen;){if(m===null){this._acceptCurr(g),g=this._getCurr(++w);continue}if(g===null){this._acceptPrev(m),m=this._getPrev(++R);continue}if(g.oldEnd<=m.newPosition){this._acceptCurr(g),g=this._getCurr(++w);continue}if(m.newEnd<=g.oldPosition){this._acceptPrev(m),m=this._getPrev(++R);continue}if(g.oldPosition<m.newPosition){const[c,u]=p._splitCurr(g,m.newPosition-g.oldPosition);this._acceptCurr(c),g=u;continue}if(m.newPosition<g.oldPosition){const[c,u]=p._splitPrev(m,g.oldPosition-m.newPosition);this._acceptPrev(c),m=u;continue}let i,n;if(g.oldEnd===m.newEnd)i=m,n=g,m=this._getPrev(++R),g=this._getCurr(++w);else if(g.oldEnd<m.newEnd){const[c,u]=p._splitPrev(m,g.oldLength);i=c,n=g,m=u,g=this._getCurr(++w)}else{const[c,u]=p._splitCurr(g,m.newLength);i=m,n=c,m=this._getPrev(++R),g=u}this._result[this._resultLen++]=new O(i.oldPosition,i.oldText,n.newPosition,n.newText),this._prevDeltaOffset+=i.newLength-i.oldLength,this._currDeltaOffset+=n.newLength-n.oldLength}const a=p._merge(this._result);return p._removeNoOps(a)}_acceptCurr(R){this._result[this._resultLen++]=p._rebaseCurr(this._prevDeltaOffset,R),this._currDeltaOffset+=R.newLength-R.oldLength}_getCurr(R){return R<this._currLen?this._currEdits[R]:null}_acceptPrev(R){this._result[this._resultLen++]=p._rebasePrev(this._currDeltaOffset,R),this._prevDeltaOffset+=R.newLength-R.oldLength}_getPrev(R){return R<this._prevLen?this._prevEdits[R]:null}static _rebaseCurr(R,w){return new O(w.oldPosition-R,w.oldText,w.newPosition,w.newText)}static _rebasePrev(R,w){return new O(w.oldPosition,w.oldText,w.newPosition+R,w.newText)}static _splitPrev(R,w){const m=R.newText.substr(0,w),g=R.newText.substr(w);return[new O(R.oldPosition,R.oldText,R.newPosition,m),new O(R.oldEnd,"",R.newPosition+w,g)]}static _splitCurr(R,w){const m=R.oldText.substr(0,w),g=R.oldText.substr(w);return[new O(R.oldPosition,m,R.newPosition,R.newText),new O(R.oldPosition+w,g,R.newEnd,"")]}static _merge(R){if(R.length===0)return R;const w=[];let m=0,g=R[0];for(let a=1;a<R.length;a++){const r=R[a];g.oldEnd===r.oldPosition?g=new O(g.oldPosition,g.oldText+r.oldText,g.newPosition,g.newText+r.newText):(w[m++]=g,g=r)}return w[m++]=g,w}static _removeNoOps(R){if(R.length===0)return R;const w=[];let m=0;for(let g=0;g<R.length;g++){const a=R[g];a.oldText!==a.newText&&(w[m++]=a)}return w}}},43281:function(et,Le,e){"use strict";e.d(Le,{MS:function(){return g},At:function(){return w},PY:function(){return R}});var o=e(9751),B=e(25602),x=e(93895),O=e(98718),S=e(39470);class p{constructor(i){this.text=i,this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let n=0;n<i.length;n++)i.charAt(n)===`
`&&this.lineStartOffsetByLineIdx.push(n+1)}getOffset(i){return this.lineStartOffsetByLineIdx[i.lineNumber-1]+i.column-1}getOffsetRange(i){return new O.q(this.getOffset(i.getStartPosition()),this.getOffset(i.getEndPosition()))}get textLength(){const i=this.lineStartOffsetByLineIdx.length-1;return new S.A(i,this.text.length-this.lineStartOffsetByLineIdx[i])}}var E=e(4694);class R{constructor(i){this.edits=i,(0,o.eZ)(()=>(0,o.DM)(i,(n,c)=>n.range.getEndPosition().isBeforeOrEqual(c.range.getStartPosition())))}apply(i){let n="",c=new x.L(1,1);for(const l of this.edits){const D=l.range,f=D.getStartPosition(),y=D.getEndPosition(),C=m(c,f);C.isEmpty()||(n+=i.getValueOfRange(C)),n+=l.text,c=y}const u=m(c,i.endPositionExclusive);return u.isEmpty()||(n+=i.getValueOfRange(u)),n}applyToString(i){const n=new a(i);return this.apply(n)}getNewRanges(){const i=[];let n=0,c=0,u=0;for(const l of this.edits){const D=S.A.ofText(l.text),f=x.L.lift({lineNumber:l.range.startLineNumber+c,column:l.range.startColumn+(l.range.startLineNumber===n?u:0)}),y=D.createRange(f);i.push(y),c=y.endLineNumber-l.range.endLineNumber,u=y.endColumn-l.range.endColumn,n=l.range.endLineNumber}return i}}class w{constructor(i,n){this.range=i,this.text=n}}function m(r,i){if(r.lineNumber===i.lineNumber&&r.column===Number.MAX_SAFE_INTEGER)return E.e.fromPositions(i,i);if(!r.isBeforeOrEqual(i))throw new B.he("start must be before end");return new E.e(r.lineNumber,r.column,i.lineNumber,i.column)}class g{get endPositionExclusive(){return this.length.addToPosition(new x.L(1,1))}}class a extends g{constructor(i){super(),this.value=i,this._t=new p(this.value)}getValueOfRange(i){return this._t.getOffsetRange(i).substring(this.value)}get length(){return this._t.textLength}}},39470:function(et,Le,e){"use strict";e.d(Le,{A:function(){return x}});var o=e(93895),B=e(4694);class x{static betweenPositions(S,p){return S.lineNumber===p.lineNumber?new x(0,p.column-S.column):new x(p.lineNumber-S.lineNumber,p.column-1)}static ofRange(S){return x.betweenPositions(S.getStartPosition(),S.getEndPosition())}static ofText(S){let p=0,E=0;for(const R of S)R===`
`?(p++,E=0):E++;return new x(p,E)}constructor(S,p){this.lineCount=S,this.columnCount=p}isGreaterThanOrEqualTo(S){return this.lineCount!==S.lineCount?this.lineCount>S.lineCount:this.columnCount>=S.columnCount}createRange(S){return this.lineCount===0?new B.e(S.lineNumber,S.column,S.lineNumber,S.column+this.columnCount):new B.e(S.lineNumber,S.column,S.lineNumber+this.lineCount,this.columnCount+1)}addToPosition(S){return this.lineCount===0?new o.L(S.lineNumber,S.column+this.columnCount):new o.L(S.lineNumber+this.lineCount,this.columnCount+1)}toString(){return`${this.lineCount},${this.columnCount}`}}x.zero=new x(0,0)},99022:function(et,Le,e){"use strict";e.d(Le,{D:function(){return o}});const o={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}},47205:function(et,Le,e){"use strict";e.d(Le,{u:function(){return S}});var o=e(79138),B=e(89925);class x extends B.N{constructor(E,R){super(0),this._segmenter=null,this._cachedLine=null,this._cachedSegments=[],this.intlSegmenterLocales=R,this.intlSegmenterLocales.length>0?this._segmenter=new Intl.Segmenter(this.intlSegmenterLocales,{granularity:"word"}):this._segmenter=null;for(let w=0,m=E.length;w<m;w++)this.set(E.charCodeAt(w),2);this.set(32,1),this.set(9,1)}findPrevIntlWordBeforeOrAtOffset(E,R){let w=null;for(const m of this._getIntlSegmenterWordsOnLine(E)){if(m.index>R)break;w=m}return w}findNextIntlWordAtOrAfterOffset(E,R){for(const w of this._getIntlSegmenterWordsOnLine(E))if(!(w.index<R))return w;return null}_getIntlSegmenterWordsOnLine(E){return this._segmenter?this._cachedLine===E?this._cachedSegments:(this._cachedLine=E,this._cachedSegments=this._filterWordSegments(this._segmenter.segment(E)),this._cachedSegments):[]}_filterWordSegments(E){const R=[];for(const w of E)this._isWordLike(w)&&R.push(w);return R}_isWordLike(E){return!!E.isWordLike}}const O=new o.z6(10);function S(p,E){const R=`${p}/${E.join(",")}`;let w=O.get(R);return w||(w=new x(p,E),O.set(R,w)),w}},38244:function(et,Le,e){"use strict";e.d(Le,{Af:function(){return S},eq:function(){return p},t2:function(){return R},vu:function(){return x}});var o=e(852),B=e(50138);const x="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function O(m=""){let g="(-?\\d*\\.\\d\\w*)|([^";for(const a of x)m.indexOf(a)>=0||(g+="\\"+a);return g+="\\s]+)",new RegExp(g,"g")}const S=O();function p(m){let g=S;if(m&&m instanceof RegExp)if(m.global)g=m;else{let a="g";m.ignoreCase&&(a+="i"),m.multiline&&(a+="m"),m.unicode&&(a+="u"),g=new RegExp(m.source,a)}return g.lastIndex=0,g}const E=new B.S;E.unshift({maxLen:1e3,windowSize:15,timeBudget:150});function R(m,g,a,r,i){if(g=p(g),i||(i=o.$.first(E)),a.length>i.maxLen){let D=m-i.maxLen/2;return D<0?D=0:r+=D,a=a.substring(D,m+i.maxLen/2),R(m,g,a,r,i)}const n=Date.now(),c=m-1-r;let u=-1,l=null;for(let D=1;!(Date.now()-n>=i.timeBudget);D++){const f=c-i.windowSize*D;g.lastIndex=Math.max(0,f);const y=w(g,a,c,u);if(!y&&l||(l=y,f<=0))break;u=f}if(l){const D={word:l[0],startColumn:r+1+l.index,endColumn:r+1+l.index+l[0].length};return g.lastIndex=0,D}return null}function w(m,g,a,r){let i;for(;i=m.exec(g);){const n=i.index||0;if(n<=a&&m.lastIndex>=a)return i;if(r>0&&n>r)return null}return null}},61227:function(et,Le,e){"use strict";e.d(Le,{l:function(){return B}});var o=e(76675);class B{static whitespaceVisibleColumn(O,S,p){const E=O.length;let R=0,w=-1,m=-1;for(let g=0;g<E;g++){if(g===S)return[w,m,R];switch(R%p===0&&(w=g,m=R),O.charCodeAt(g)){case 32:R+=1;break;case 9:R=o.i.nextRenderTabStop(R,p);break;default:return[-1,-1,-1]}}return S===E?[w,m,R]:[-1,-1,-1]}static atomicPosition(O,S,p,E){const R=O.length,[w,m,g]=B.whitespaceVisibleColumn(O,S,p);if(g===-1)return-1;let a;switch(E){case 0:a=!0;break;case 1:a=!1;break;case 2:if(g%p===0)return S;a=g%p<=p/2;break}if(a){if(w===-1)return-1;let n=m;for(let c=w;c<R;++c){if(n===m+p)return w;switch(O.charCodeAt(c)){case 32:n+=1;break;case 9:n=o.i.nextRenderTabStop(n,p);break;default:return-1}}return n===m+p?w:-1}const r=o.i.nextRenderTabStop(g,p);let i=g;for(let n=S;n<R;n++){if(i===r)return n;switch(O.charCodeAt(n)){case 32:i+=1;break;case 9:i=o.i.nextRenderTabStop(i,p);break;default:return-1}}return i===r?R:-1}}},51452:function(et,Le,e){"use strict";e.d(Le,{A:function(){return R}});var o=e(30144),B=e(43921),x=e(57247),O=e(76675),S=e(28958),p=e(4694),E=e(93895);class R{static deleteRight(m,g,a,r){const i=[];let n=m!==3;for(let c=0,u=r.length;c<u;c++){const l=r[c];let D=l;if(D.isEmpty()){const f=l.getPosition(),y=S.o.right(g,a,f);D=new p.e(y.lineNumber,y.column,f.lineNumber,f.column)}if(D.isEmpty()){i[c]=null;continue}D.startLineNumber!==D.endLineNumber&&(n=!0),i[c]=new B.T4(D,"")}return[n,i]}static isAutoClosingPairDelete(m,g,a,r,i,n,c){if(g==="never"&&a==="never"||m==="never")return!1;for(let u=0,l=n.length;u<l;u++){const D=n[u],f=D.getPosition();if(!D.isEmpty())return!1;const y=i.getLineContent(f.lineNumber);if(f.column<2||f.column>=y.length+1)return!1;const C=y.charAt(f.column-2),_=r.get(C);if(!_)return!1;if((0,x.LN)(C)){if(a==="never")return!1}else if(g==="never")return!1;const N=y.charAt(f.column-1);let b=!1;for(const k of _)k.open===C&&k.close===N&&(b=!0);if(!b)return!1;if(m==="auto"){let k=!1;for(let V=0,K=c.length;V<K;V++){const Z=c[V];if(f.lineNumber===Z.startLineNumber&&f.column===Z.startColumn){k=!0;break}}if(!k)return!1}}return!0}static _runAutoClosingPairDelete(m,g,a){const r=[];for(let i=0,n=a.length;i<n;i++){const c=a[i].getPosition(),u=new p.e(c.lineNumber,c.column-1,c.lineNumber,c.column+1);r[i]=new B.T4(u,"")}return[!0,r]}static deleteLeft(m,g,a,r,i){if(this.isAutoClosingPairDelete(g.autoClosingDelete,g.autoClosingBrackets,g.autoClosingQuotes,g.autoClosingPairs.autoClosingPairsOpenByEnd,a,r,i))return this._runAutoClosingPairDelete(g,a,r);const n=[];let c=m!==2;for(let u=0,l=r.length;u<l;u++){const D=R.getDeleteRange(r[u],a,g);if(D.isEmpty()){n[u]=null;continue}D.startLineNumber!==D.endLineNumber&&(c=!0),n[u]=new B.T4(D,"")}return[c,n]}static getDeleteRange(m,g,a){if(!m.isEmpty())return m;const r=m.getPosition();if(a.useTabStops&&r.column>1){const i=g.getLineContent(r.lineNumber),n=o.LC(i),c=n===-1?i.length+1:n+1;if(r.column<=c){const u=a.visibleColumnFromColumn(g,r),l=O.i.prevIndentTabStop(u,a.indentSize),D=a.columnFromVisibleColumn(g,r.lineNumber,l);return new p.e(r.lineNumber,D,r.lineNumber,r.column)}}return p.e.fromPositions(R.getPositionAfterDeleteLeft(r,g),r)}static getPositionAfterDeleteLeft(m,g){if(m.column>1){const a=o.oH(m.column-1,g.getLineContent(m.lineNumber));return m.with(void 0,a+1)}else if(m.lineNumber>1){const a=m.lineNumber-1;return new E.L(a,g.getLineMaxColumn(a))}else return m}static cut(m,g,a){const r=[];let i=null;a.sort((n,c)=>E.L.compare(n.getStartPosition(),c.getEndPosition()));for(let n=0,c=a.length;n<c;n++){const u=a[n];if(u.isEmpty())if(m.emptySelectionClipboard){const l=u.getPosition();let D,f,y,C;l.lineNumber<g.getLineCount()?(D=l.lineNumber,f=1,y=l.lineNumber+1,C=1):l.lineNumber>1&&(i==null?void 0:i.endLineNumber)!==l.lineNumber?(D=l.lineNumber-1,f=g.getLineMaxColumn(l.lineNumber-1),y=l.lineNumber,C=g.getLineMaxColumn(l.lineNumber)):(D=l.lineNumber,f=1,y=l.lineNumber,C=g.getLineMaxColumn(l.lineNumber));const _=new p.e(D,f,y,C);i=_,_.isEmpty()?r[n]=null:r[n]=new B.T4(_,"")}else r[n]=null;else r[n]=new B.T4(u,"")}return new x.Tp(0,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}},47844:function(et,Le,e){"use strict";e.d(Le,{N:function(){return R},P:function(){return E}});var o=e(26974),B=e(57247),x=e(28958),O=e(16334),S=e(93895),p=e(4694);class E{static addCursorDown(m,g,a){const r=[];let i=0;for(let n=0,c=g.length;n<c;n++){const u=g[n];r[i++]=new B.Vi(u.modelState,u.viewState),a?r[i++]=B.Vi.fromModelState(x.o.translateDown(m.cursorConfig,m.model,u.modelState)):r[i++]=B.Vi.fromViewState(x.o.translateDown(m.cursorConfig,m,u.viewState))}return r}static addCursorUp(m,g,a){const r=[];let i=0;for(let n=0,c=g.length;n<c;n++){const u=g[n];r[i++]=new B.Vi(u.modelState,u.viewState),a?r[i++]=B.Vi.fromModelState(x.o.translateUp(m.cursorConfig,m.model,u.modelState)):r[i++]=B.Vi.fromViewState(x.o.translateUp(m.cursorConfig,m,u.viewState))}return r}static moveToBeginningOfLine(m,g,a){const r=[];for(let i=0,n=g.length;i<n;i++){const c=g[i];r[i]=this._moveToLineStart(m,c,a)}return r}static _moveToLineStart(m,g,a){const r=g.viewState.position.column,i=g.modelState.position.column,n=r===i,c=g.viewState.position.lineNumber,u=m.getLineFirstNonWhitespaceColumn(c);return!n&&!(r===u)?this._moveToLineStartByView(m,g,a):this._moveToLineStartByModel(m,g,a)}static _moveToLineStartByView(m,g,a){return B.Vi.fromViewState(x.o.moveToBeginningOfLine(m.cursorConfig,m,g.viewState,a))}static _moveToLineStartByModel(m,g,a){return B.Vi.fromModelState(x.o.moveToBeginningOfLine(m.cursorConfig,m.model,g.modelState,a))}static moveToEndOfLine(m,g,a,r){const i=[];for(let n=0,c=g.length;n<c;n++){const u=g[n];i[n]=this._moveToLineEnd(m,u,a,r)}return i}static _moveToLineEnd(m,g,a,r){const i=g.viewState.position,n=m.getLineMaxColumn(i.lineNumber),c=i.column===n,u=g.modelState.position,l=m.model.getLineMaxColumn(u.lineNumber),D=n-i.column===l-u.column;return c||D?this._moveToLineEndByModel(m,g,a,r):this._moveToLineEndByView(m,g,a,r)}static _moveToLineEndByView(m,g,a,r){return B.Vi.fromViewState(x.o.moveToEndOfLine(m.cursorConfig,m,g.viewState,a,r))}static _moveToLineEndByModel(m,g,a,r){return B.Vi.fromModelState(x.o.moveToEndOfLine(m.cursorConfig,m.model,g.modelState,a,r))}static expandLineSelection(m,g){const a=[];for(let r=0,i=g.length;r<i;r++){const n=g[r],c=n.modelState.selection.startLineNumber,u=m.model.getLineCount();let l=n.modelState.selection.endLineNumber,D;l===u?D=m.model.getLineMaxColumn(u):(l++,D=1),a[r]=B.Vi.fromModelState(new B.rS(new p.e(c,1,c,1),0,0,new S.L(l,D),0))}return a}static moveToBeginningOfBuffer(m,g,a){const r=[];for(let i=0,n=g.length;i<n;i++){const c=g[i];r[i]=B.Vi.fromModelState(x.o.moveToBeginningOfBuffer(m.cursorConfig,m.model,c.modelState,a))}return r}static moveToEndOfBuffer(m,g,a){const r=[];for(let i=0,n=g.length;i<n;i++){const c=g[i];r[i]=B.Vi.fromModelState(x.o.moveToEndOfBuffer(m.cursorConfig,m.model,c.modelState,a))}return r}static selectAll(m,g){const a=m.model.getLineCount(),r=m.model.getLineMaxColumn(a);return B.Vi.fromModelState(new B.rS(new p.e(1,1,1,1),0,0,new S.L(a,r),0))}static line(m,g,a,r,i){const n=m.model.validatePosition(r),c=i?m.coordinatesConverter.validateViewPosition(new S.L(i.lineNumber,i.column),n):m.coordinatesConverter.convertModelPositionToViewPosition(n);if(!a){const l=m.model.getLineCount();let D=n.lineNumber+1,f=1;return D>l&&(D=l,f=m.model.getLineMaxColumn(D)),B.Vi.fromModelState(new B.rS(new p.e(n.lineNumber,1,D,f),2,0,new S.L(D,f),0))}const u=g.modelState.selectionStart.getStartPosition().lineNumber;if(n.lineNumber<u)return B.Vi.fromViewState(g.viewState.move(!0,c.lineNumber,1,0));if(n.lineNumber>u){const l=m.getLineCount();let D=c.lineNumber+1,f=1;return D>l&&(D=l,f=m.getLineMaxColumn(D)),B.Vi.fromViewState(g.viewState.move(!0,D,f,0))}else{const l=g.modelState.selectionStart.getEndPosition();return B.Vi.fromModelState(g.modelState.move(!0,l.lineNumber,l.column,0))}}static word(m,g,a,r){const i=m.model.validatePosition(r);return B.Vi.fromModelState(O.w.word(m.cursorConfig,m.model,g.modelState,a,i))}static cancelSelection(m,g){if(!g.modelState.hasSelection())return new B.Vi(g.modelState,g.viewState);const a=g.viewState.position.lineNumber,r=g.viewState.position.column;return B.Vi.fromViewState(new B.rS(new p.e(a,r,a,r),0,0,new S.L(a,r),0))}static moveTo(m,g,a,r,i){if(a){if(g.modelState.selectionStartKind===1)return this.word(m,g,a,r);if(g.modelState.selectionStartKind===2)return this.line(m,g,a,r,i)}const n=m.model.validatePosition(r),c=i?m.coordinatesConverter.validateViewPosition(new S.L(i.lineNumber,i.column),n):m.coordinatesConverter.convertModelPositionToViewPosition(n);return B.Vi.fromViewState(g.viewState.move(a,c.lineNumber,c.column,0))}static simpleMove(m,g,a,r,i,n){switch(a){case 0:return n===4?this._moveHalfLineLeft(m,g,r):this._moveLeft(m,g,r,i);case 1:return n===4?this._moveHalfLineRight(m,g,r):this._moveRight(m,g,r,i);case 2:return n===2?this._moveUpByViewLines(m,g,r,i):this._moveUpByModelLines(m,g,r,i);case 3:return n===2?this._moveDownByViewLines(m,g,r,i):this._moveDownByModelLines(m,g,r,i);case 4:return n===2?g.map(c=>B.Vi.fromViewState(x.o.moveToPrevBlankLine(m.cursorConfig,m,c.viewState,r))):g.map(c=>B.Vi.fromModelState(x.o.moveToPrevBlankLine(m.cursorConfig,m.model,c.modelState,r)));case 5:return n===2?g.map(c=>B.Vi.fromViewState(x.o.moveToNextBlankLine(m.cursorConfig,m,c.viewState,r))):g.map(c=>B.Vi.fromModelState(x.o.moveToNextBlankLine(m.cursorConfig,m.model,c.modelState,r)));case 6:return this._moveToViewMinColumn(m,g,r);case 7:return this._moveToViewFirstNonWhitespaceColumn(m,g,r);case 8:return this._moveToViewCenterColumn(m,g,r);case 9:return this._moveToViewMaxColumn(m,g,r);case 10:return this._moveToViewLastNonWhitespaceColumn(m,g,r);default:return null}}static viewportMove(m,g,a,r,i){const n=m.getCompletelyVisibleViewRange(),c=m.coordinatesConverter.convertViewRangeToModelRange(n);switch(a){case 11:{const u=this._firstLineNumberInRange(m.model,c,i),l=m.model.getLineFirstNonWhitespaceColumn(u);return[this._moveToModelPosition(m,g[0],r,u,l)]}case 13:{const u=this._lastLineNumberInRange(m.model,c,i),l=m.model.getLineFirstNonWhitespaceColumn(u);return[this._moveToModelPosition(m,g[0],r,u,l)]}case 12:{const u=Math.round((c.startLineNumber+c.endLineNumber)/2),l=m.model.getLineFirstNonWhitespaceColumn(u);return[this._moveToModelPosition(m,g[0],r,u,l)]}case 14:{const u=[];for(let l=0,D=g.length;l<D;l++){const f=g[l];u[l]=this.findPositionInViewportIfOutside(m,f,n,r)}return u}default:return null}}static findPositionInViewportIfOutside(m,g,a,r){const i=g.viewState.position.lineNumber;if(a.startLineNumber<=i&&i<=a.endLineNumber-1)return new B.Vi(g.modelState,g.viewState);{let n;i>a.endLineNumber-1?n=a.endLineNumber-1:i<a.startLineNumber?n=a.startLineNumber:n=i;const c=x.o.vertical(m.cursorConfig,m,i,g.viewState.position.column,g.viewState.leftoverVisibleColumns,n,!1);return B.Vi.fromViewState(g.viewState.move(r,c.lineNumber,c.column,c.leftoverVisibleColumns))}}static _firstLineNumberInRange(m,g,a){let r=g.startLineNumber;return g.startColumn!==m.getLineMinColumn(r)&&r++,Math.min(g.endLineNumber,r+a-1)}static _lastLineNumberInRange(m,g,a){let r=g.startLineNumber;return g.startColumn!==m.getLineMinColumn(r)&&r++,Math.max(r,g.endLineNumber-a+1)}static _moveLeft(m,g,a,r){return g.map(i=>B.Vi.fromViewState(x.o.moveLeft(m.cursorConfig,m,i.viewState,a,r)))}static _moveHalfLineLeft(m,g,a){const r=[];for(let i=0,n=g.length;i<n;i++){const c=g[i],u=c.viewState.position.lineNumber,l=Math.round(m.getLineLength(u)/2);r[i]=B.Vi.fromViewState(x.o.moveLeft(m.cursorConfig,m,c.viewState,a,l))}return r}static _moveRight(m,g,a,r){return g.map(i=>B.Vi.fromViewState(x.o.moveRight(m.cursorConfig,m,i.viewState,a,r)))}static _moveHalfLineRight(m,g,a){const r=[];for(let i=0,n=g.length;i<n;i++){const c=g[i],u=c.viewState.position.lineNumber,l=Math.round(m.getLineLength(u)/2);r[i]=B.Vi.fromViewState(x.o.moveRight(m.cursorConfig,m,c.viewState,a,l))}return r}static _moveDownByViewLines(m,g,a,r){const i=[];for(let n=0,c=g.length;n<c;n++){const u=g[n];i[n]=B.Vi.fromViewState(x.o.moveDown(m.cursorConfig,m,u.viewState,a,r))}return i}static _moveDownByModelLines(m,g,a,r){const i=[];for(let n=0,c=g.length;n<c;n++){const u=g[n];i[n]=B.Vi.fromModelState(x.o.moveDown(m.cursorConfig,m.model,u.modelState,a,r))}return i}static _moveUpByViewLines(m,g,a,r){const i=[];for(let n=0,c=g.length;n<c;n++){const u=g[n];i[n]=B.Vi.fromViewState(x.o.moveUp(m.cursorConfig,m,u.viewState,a,r))}return i}static _moveUpByModelLines(m,g,a,r){const i=[];for(let n=0,c=g.length;n<c;n++){const u=g[n];i[n]=B.Vi.fromModelState(x.o.moveUp(m.cursorConfig,m.model,u.modelState,a,r))}return i}static _moveToViewPosition(m,g,a,r,i){return B.Vi.fromViewState(g.viewState.move(a,r,i,0))}static _moveToModelPosition(m,g,a,r,i){return B.Vi.fromModelState(g.modelState.move(a,r,i,0))}static _moveToViewMinColumn(m,g,a){const r=[];for(let i=0,n=g.length;i<n;i++){const c=g[i],u=c.viewState.position.lineNumber,l=m.getLineMinColumn(u);r[i]=this._moveToViewPosition(m,c,a,u,l)}return r}static _moveToViewFirstNonWhitespaceColumn(m,g,a){const r=[];for(let i=0,n=g.length;i<n;i++){const c=g[i],u=c.viewState.position.lineNumber,l=m.getLineFirstNonWhitespaceColumn(u);r[i]=this._moveToViewPosition(m,c,a,u,l)}return r}static _moveToViewCenterColumn(m,g,a){const r=[];for(let i=0,n=g.length;i<n;i++){const c=g[i],u=c.viewState.position.lineNumber,l=Math.round((m.getLineMaxColumn(u)+m.getLineMinColumn(u))/2);r[i]=this._moveToViewPosition(m,c,a,u,l)}return r}static _moveToViewMaxColumn(m,g,a){const r=[];for(let i=0,n=g.length;i<n;i++){const c=g[i],u=c.viewState.position.lineNumber,l=m.getLineMaxColumn(u);r[i]=this._moveToViewPosition(m,c,a,u,l)}return r}static _moveToViewLastNonWhitespaceColumn(m,g,a){const r=[];for(let i=0,n=g.length;i<n;i++){const c=g[i],u=c.viewState.position.lineNumber,l=m.getLineLastNonWhitespaceColumn(u);r[i]=this._moveToViewPosition(m,c,a,u,l)}return r}}var R;(function(w){const m=function(a){if(!o.Kn(a))return!1;const r=a;return!(!o.HD(r.to)||!o.o8(r.select)&&!o.jn(r.select)||!o.o8(r.by)&&!o.HD(r.by)||!o.o8(r.value)&&!o.hj(r.value))};w.metadata={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:m,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},w.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},w.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function g(a){if(!a.to)return null;let r;switch(a.to){case w.RawDirection.Left:r=0;break;case w.RawDirection.Right:r=1;break;case w.RawDirection.Up:r=2;break;case w.RawDirection.Down:r=3;break;case w.RawDirection.PrevBlankLine:r=4;break;case w.RawDirection.NextBlankLine:r=5;break;case w.RawDirection.WrappedLineStart:r=6;break;case w.RawDirection.WrappedLineFirstNonWhitespaceCharacter:r=7;break;case w.RawDirection.WrappedLineColumnCenter:r=8;break;case w.RawDirection.WrappedLineEnd:r=9;break;case w.RawDirection.WrappedLineLastNonWhitespaceCharacter:r=10;break;case w.RawDirection.ViewPortTop:r=11;break;case w.RawDirection.ViewPortBottom:r=13;break;case w.RawDirection.ViewPortCenter:r=12;break;case w.RawDirection.ViewPortIfOutside:r=14;break;default:return null}let i=0;switch(a.by){case w.RawUnit.Line:i=1;break;case w.RawUnit.WrappedLine:i=2;break;case w.RawUnit.Character:i=3;break;case w.RawUnit.HalfLine:i=4;break}return{direction:r,unit:i,select:!!a.select,value:a.value||1}}w.parse=g})(R||(R={}))},28958:function(et,Le,e){"use strict";e.d(Le,{o:function(){return R}});var o=e(30144),B=e(76675),x=e(93895),O=e(4694),S=e(61227),p=e(57247);class E{constructor(m,g,a){this._cursorPositionBrand=void 0,this.lineNumber=m,this.column=g,this.leftoverVisibleColumns=a}}class R{static leftPosition(m,g){if(g.column>m.getLineMinColumn(g.lineNumber))return g.delta(void 0,-o.HO(m.getLineContent(g.lineNumber),g.column-1));if(g.lineNumber>1){const a=g.lineNumber-1;return new x.L(a,m.getLineMaxColumn(a))}else return g}static leftPositionAtomicSoftTabs(m,g,a){if(g.column<=m.getLineIndentColumn(g.lineNumber)){const r=m.getLineMinColumn(g.lineNumber),i=m.getLineContent(g.lineNumber),n=S.l.atomicPosition(i,g.column-1,a,0);if(n!==-1&&n+1>=r)return new x.L(g.lineNumber,n+1)}return this.leftPosition(m,g)}static left(m,g,a){const r=m.stickyTabStops?R.leftPositionAtomicSoftTabs(g,a,m.tabSize):R.leftPosition(g,a);return new E(r.lineNumber,r.column,0)}static moveLeft(m,g,a,r,i){let n,c;if(a.hasSelection()&&!r)n=a.selection.startLineNumber,c=a.selection.startColumn;else{const u=a.position.delta(void 0,-(i-1)),l=g.normalizePosition(R.clipPositionColumn(u,g),0),D=R.left(m,g,l);n=D.lineNumber,c=D.column}return a.move(r,n,c,0)}static clipPositionColumn(m,g){return new x.L(m.lineNumber,R.clipRange(m.column,g.getLineMinColumn(m.lineNumber),g.getLineMaxColumn(m.lineNumber)))}static clipRange(m,g,a){return m<g?g:m>a?a:m}static rightPosition(m,g,a){return a<m.getLineMaxColumn(g)?a=a+o.vH(m.getLineContent(g),a-1):g<m.getLineCount()&&(g=g+1,a=m.getLineMinColumn(g)),new x.L(g,a)}static rightPositionAtomicSoftTabs(m,g,a,r,i){if(a<m.getLineIndentColumn(g)){const n=m.getLineContent(g),c=S.l.atomicPosition(n,a-1,r,1);if(c!==-1)return new x.L(g,c+1)}return this.rightPosition(m,g,a)}static right(m,g,a){const r=m.stickyTabStops?R.rightPositionAtomicSoftTabs(g,a.lineNumber,a.column,m.tabSize,m.indentSize):R.rightPosition(g,a.lineNumber,a.column);return new E(r.lineNumber,r.column,0)}static moveRight(m,g,a,r,i){let n,c;if(a.hasSelection()&&!r)n=a.selection.endLineNumber,c=a.selection.endColumn;else{const u=a.position.delta(void 0,i-1),l=g.normalizePosition(R.clipPositionColumn(u,g),1),D=R.right(m,g,l);n=D.lineNumber,c=D.column}return a.move(r,n,c,0)}static vertical(m,g,a,r,i,n,c,u){const l=B.i.visibleColumnFromColumn(g.getLineContent(a),r,m.tabSize)+i,D=g.getLineCount(),f=a===1&&r===1,y=a===D&&r===g.getLineMaxColumn(a),C=n<a?f:y;if(a=n,a<1?(a=1,c?r=g.getLineMinColumn(a):r=Math.min(g.getLineMaxColumn(a),r)):a>D?(a=D,c?r=g.getLineMaxColumn(a):r=Math.min(g.getLineMaxColumn(a),r)):r=m.columnFromVisibleColumn(g,a,l),C?i=0:i=l-B.i.visibleColumnFromColumn(g.getLineContent(a),r,m.tabSize),u!==void 0){const _=new x.L(a,r),N=g.normalizePosition(_,u);i=i+(r-N.column),a=N.lineNumber,r=N.column}return new E(a,r,i)}static down(m,g,a,r,i,n,c){return this.vertical(m,g,a,r,i,a+n,c,4)}static moveDown(m,g,a,r,i){let n,c;a.hasSelection()&&!r?(n=a.selection.endLineNumber,c=a.selection.endColumn):(n=a.position.lineNumber,c=a.position.column);let u=0,l;do if(l=R.down(m,g,n+u,c,a.leftoverVisibleColumns,i,!0),g.normalizePosition(new x.L(l.lineNumber,l.column),2).lineNumber>n)break;while(u++<10&&n+u<g.getLineCount());return a.move(r,l.lineNumber,l.column,l.leftoverVisibleColumns)}static translateDown(m,g,a){const r=a.selection,i=R.down(m,g,r.selectionStartLineNumber,r.selectionStartColumn,a.selectionStartLeftoverVisibleColumns,1,!1),n=R.down(m,g,r.positionLineNumber,r.positionColumn,a.leftoverVisibleColumns,1,!1);return new p.rS(new O.e(i.lineNumber,i.column,i.lineNumber,i.column),0,i.leftoverVisibleColumns,new x.L(n.lineNumber,n.column),n.leftoverVisibleColumns)}static up(m,g,a,r,i,n,c){return this.vertical(m,g,a,r,i,a-n,c,3)}static moveUp(m,g,a,r,i){let n,c;a.hasSelection()&&!r?(n=a.selection.startLineNumber,c=a.selection.startColumn):(n=a.position.lineNumber,c=a.position.column);const u=R.up(m,g,n,c,a.leftoverVisibleColumns,i,!0);return a.move(r,u.lineNumber,u.column,u.leftoverVisibleColumns)}static translateUp(m,g,a){const r=a.selection,i=R.up(m,g,r.selectionStartLineNumber,r.selectionStartColumn,a.selectionStartLeftoverVisibleColumns,1,!1),n=R.up(m,g,r.positionLineNumber,r.positionColumn,a.leftoverVisibleColumns,1,!1);return new p.rS(new O.e(i.lineNumber,i.column,i.lineNumber,i.column),0,i.leftoverVisibleColumns,new x.L(n.lineNumber,n.column),n.leftoverVisibleColumns)}static _isBlankLine(m,g){return m.getLineFirstNonWhitespaceColumn(g)===0}static moveToPrevBlankLine(m,g,a,r){let i=a.position.lineNumber;for(;i>1&&this._isBlankLine(g,i);)i--;for(;i>1&&!this._isBlankLine(g,i);)i--;return a.move(r,i,g.getLineMinColumn(i),0)}static moveToNextBlankLine(m,g,a,r){const i=g.getLineCount();let n=a.position.lineNumber;for(;n<i&&this._isBlankLine(g,n);)n++;for(;n<i&&!this._isBlankLine(g,n);)n++;return a.move(r,n,g.getLineMinColumn(n),0)}static moveToBeginningOfLine(m,g,a,r){const i=a.position.lineNumber,n=g.getLineMinColumn(i),c=g.getLineFirstNonWhitespaceColumn(i)||n;let u;return a.position.column===c?u=n:u=c,a.move(r,i,u,0)}static moveToEndOfLine(m,g,a,r,i){const n=a.position.lineNumber,c=g.getLineMaxColumn(n);return a.move(r,n,c,i?1073741824-c:0)}static moveToBeginningOfBuffer(m,g,a,r){return a.move(r,1,1,0)}static moveToEndOfBuffer(m,g,a,r){const i=g.getLineCount(),n=g.getLineMaxColumn(i);return a.move(r,i,n,0)}}},40326:function(et,Le,e){"use strict";e.d(Le,{Nu:function(){return D},u6:function(){return u},g_:function(){return l}});var o=e(25602),B=e(30144),x=e(43921),O=e(45352),S=e(4694),p=e(14149);class E{constructor(b,k,V){this._range=b,this._charBeforeSelection=k,this._charAfterSelection=V}getEditOperations(b,k){k.addTrackedEditOperation(new S.e(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),k.addTrackedEditOperation(new S.e(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(b,k){const V=k.getInverseEditOperations(),K=V[0].range,Z=V[1].range;return new p.Y(K.endLineNumber,K.endColumn,Z.endLineNumber,Z.endColumn-this._charAfterSelection.length)}}class R{constructor(b,k,V){this._position=b,this._text=k,this._charAfter=V}getEditOperations(b,k){k.addTrackedEditOperation(new S.e(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(b,k){const K=k.getInverseEditOperations()[0].range;return new p.Y(K.endLineNumber,K.startColumn,K.endLineNumber,K.endColumn-this._charAfter.length)}}var w=e(57247),m=e(47205),g=e(93895),a=e(61031),r=e(81275),i=e(14661),n=e(25409),c=e(80862);class u{static indent(b,k,V){if(k===null||V===null)return[];const K=[];for(let Z=0,z=V.length;Z<z;Z++)K[Z]=new O.U(V[Z],{isUnshift:!1,tabSize:b.tabSize,indentSize:b.indentSize,insertSpaces:b.insertSpaces,useTabStops:b.useTabStops,autoIndent:b.autoIndent},b.languageConfigurationService);return K}static outdent(b,k,V){const K=[];for(let Z=0,z=V.length;Z<z;Z++)K[Z]=new O.U(V[Z],{isUnshift:!0,tabSize:b.tabSize,indentSize:b.indentSize,insertSpaces:b.insertSpaces,useTabStops:b.useTabStops,autoIndent:b.autoIndent},b.languageConfigurationService);return K}static shiftIndent(b,k,V){return V=V||1,O.U.shiftIndent(k,k.length+V,b.tabSize,b.indentSize,b.insertSpaces)}static unshiftIndent(b,k,V){return V=V||1,O.U.unshiftIndent(k,k.length+V,b.tabSize,b.indentSize,b.insertSpaces)}static _distributedPaste(b,k,V,K){const Z=[];for(let z=0,A=V.length;z<A;z++)Z[z]=new x.T4(V[z],K[z]);return new w.Tp(0,Z,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(b,k,V,K,Z){const z=[];for(let A=0,P=V.length;A<P;A++){const I=V[A],W=I.getPosition();if(Z&&!I.isEmpty()&&(Z=!1),Z&&K.indexOf(`
`)!==K.length-1&&(Z=!1),Z){const G=new S.e(W.lineNumber,1,W.lineNumber,1);z[A]=new x.hP(G,K,I,!0)}else z[A]=new x.T4(I,K)}return new w.Tp(0,z,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(b,k,V,K,Z){if(K||k.length===1)return null;if(Z&&Z.length===k.length)return Z;if(b.multiCursorPaste==="spread"){V.charCodeAt(V.length-1)===10&&(V=V.substr(0,V.length-1)),V.charCodeAt(V.length-1)===13&&(V=V.substr(0,V.length-1));const z=B.uq(V);if(z.length===k.length)return z}return null}static paste(b,k,V,K,Z,z){const A=this._distributePasteToCursors(b,V,K,Z,z);return A?(V=V.sort(S.e.compareRangesUsingStarts),this._distributedPaste(b,k,V,A)):this._simplePaste(b,k,V,K,Z)}static _goodIndentForLine(b,k,V){let K=null,Z="";const z=(0,n.r7)(b.autoIndent,k,V,!1,b.languageConfigurationService);if(z)K=z.action,Z=z.indentation;else if(V>1){let A;for(A=V-1;A>=1;A--){const W=k.getLineContent(A);if(B.ow(W)>=0)break}if(A<1)return null;const P=k.getLineMaxColumn(A),I=(0,c.A)(b.autoIndent,k,new S.e(A,P,A,P),b.languageConfigurationService);I&&(Z=I.indentation+I.appendText)}return K&&(K===a.wU.Indent&&(Z=u.shiftIndent(b,Z)),K===a.wU.Outdent&&(Z=u.unshiftIndent(b,Z)),Z=b.normalizeIndentation(Z)),Z||null}static _replaceJumpToNextIndent(b,k,V,K){let Z="";const z=V.getStartPosition();if(b.insertSpaces){const A=b.visibleColumnFromColumn(k,z),P=b.indentSize,I=P-A%P;for(let W=0;W<I;W++)Z+=" "}else Z="	";return new x.T4(V,Z,K)}static tab(b,k,V){const K=[];for(let Z=0,z=V.length;Z<z;Z++){const A=V[Z];if(A.isEmpty()){const P=k.getLineContent(A.startLineNumber);if(/^\s*$/.test(P)&&k.tokenization.isCheapToTokenize(A.startLineNumber)){let I=this._goodIndentForLine(b,k,A.startLineNumber);I=I||"	";const W=b.normalizeIndentation(I);if(!P.startsWith(W)){K[Z]=new x.T4(new S.e(A.startLineNumber,1,A.startLineNumber,P.length+1),W,!0);continue}}K[Z]=this._replaceJumpToNextIndent(b,k,A,!0)}else{if(A.startLineNumber===A.endLineNumber){const P=k.getLineMaxColumn(A.startLineNumber);if(A.startColumn!==1||A.endColumn!==P){K[Z]=this._replaceJumpToNextIndent(b,k,A,!1);continue}}K[Z]=new O.U(A,{isUnshift:!1,tabSize:b.tabSize,indentSize:b.indentSize,insertSpaces:b.insertSpaces,useTabStops:b.useTabStops,autoIndent:b.autoIndent},b.languageConfigurationService)}}return K}static compositionType(b,k,V,K,Z,z,A,P){const I=K.map(W=>this._compositionType(V,W,Z,z,A,P));return new w.Tp(4,I,{shouldPushStackElementBefore:y(b,4),shouldPushStackElementAfter:!1})}static _compositionType(b,k,V,K,Z,z){if(!k.isEmpty())return null;const A=k.getPosition(),P=Math.max(1,A.column-K),I=Math.min(b.getLineMaxColumn(A.lineNumber),A.column+Z),W=new S.e(A.lineNumber,P,A.lineNumber,I);return b.getValueInRange(W)===V&&z===0?null:new x.Uo(W,V,0,z)}static _typeCommand(b,k,V){return V?new x.Sj(b,k,!0):new x.T4(b,k,!0)}static _enter(b,k,V,K){if(b.autoIndent===0)return u._typeCommand(K,`
`,V);if(!k.tokenization.isCheapToTokenize(K.getStartPosition().lineNumber)||b.autoIndent===1){const P=k.getLineContent(K.startLineNumber),I=B.V8(P).substring(0,K.startColumn-1);return u._typeCommand(K,`
`+b.normalizeIndentation(I),V)}const Z=(0,c.A)(b.autoIndent,k,K,b.languageConfigurationService);if(Z){if(Z.indentAction===a.wU.None)return u._typeCommand(K,`
`+b.normalizeIndentation(Z.indentation+Z.appendText),V);if(Z.indentAction===a.wU.Indent)return u._typeCommand(K,`
`+b.normalizeIndentation(Z.indentation+Z.appendText),V);if(Z.indentAction===a.wU.IndentOutdent){const P=b.normalizeIndentation(Z.indentation),I=b.normalizeIndentation(Z.indentation+Z.appendText),W=`
`+I+`
`+P;return V?new x.Sj(K,W,!0):new x.Uo(K,W,-1,I.length-P.length,!0)}else if(Z.indentAction===a.wU.Outdent){const P=u.unshiftIndent(b,Z.indentation);return u._typeCommand(K,`
`+b.normalizeIndentation(P+Z.appendText),V)}}const z=k.getLineContent(K.startLineNumber),A=B.V8(z).substring(0,K.startColumn-1);if(b.autoIndent>=4){const P=(0,n.UF)(b.autoIndent,k,K,{unshiftIndent:I=>u.unshiftIndent(b,I),shiftIndent:I=>u.shiftIndent(b,I),normalizeIndentation:I=>b.normalizeIndentation(I)},b.languageConfigurationService);if(P){let I=b.visibleColumnFromColumn(k,K.getEndPosition());const W=K.endColumn,G=k.getLineContent(K.endLineNumber),j=B.LC(G);if(j>=0?K=K.setEndPosition(K.endLineNumber,Math.max(K.endColumn,j+1)):K=K.setEndPosition(K.endLineNumber,k.getLineMaxColumn(K.endLineNumber)),V)return new x.Sj(K,`
`+b.normalizeIndentation(P.afterEnter),!0);{let Y=0;return W<=j+1&&(b.insertSpaces||(I=Math.ceil(I/b.indentSize)),Y=Math.min(I+1-b.normalizeIndentation(P.afterEnter).length-1,0)),new x.Uo(K,`
`+b.normalizeIndentation(P.afterEnter),0,Y,!0)}}}return u._typeCommand(K,`
`+b.normalizeIndentation(A),V)}static _isAutoIndentType(b,k,V){if(b.autoIndent<4)return!1;for(let K=0,Z=V.length;K<Z;K++)if(!k.tokenization.isCheapToTokenize(V[K].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(b,k,V,K){const Z=(0,r.u0)(k,V.startLineNumber,V.startColumn),z=(0,n.$9)(b.autoIndent,k,V,K,{shiftIndent:A=>u.shiftIndent(b,A),unshiftIndent:A=>u.unshiftIndent(b,A)},b.languageConfigurationService);if(z===null)return null;if(z!==b.normalizeIndentation(Z)){const A=k.getLineFirstNonWhitespaceColumn(V.startLineNumber);return A===0?u._typeCommand(new S.e(V.startLineNumber,1,V.endLineNumber,V.endColumn),b.normalizeIndentation(z)+K,!1):u._typeCommand(new S.e(V.startLineNumber,1,V.endLineNumber,V.endColumn),b.normalizeIndentation(z)+k.getLineContent(V.startLineNumber).substring(A-1,V.startColumn-1)+K,!1)}return null}static _isAutoClosingOvertype(b,k,V,K,Z){if(b.autoClosingOvertype==="never"||!b.autoClosingPairs.autoClosingPairsCloseSingleChar.has(Z))return!1;for(let z=0,A=V.length;z<A;z++){const P=V[z];if(!P.isEmpty())return!1;const I=P.getPosition(),W=k.getLineContent(I.lineNumber);if(W.charAt(I.column-1)!==Z)return!1;const j=(0,w.LN)(Z);if((I.column>2?W.charCodeAt(I.column-2):0)===92&&j)return!1;if(b.autoClosingOvertype==="auto"){let H=!1;for(let Q=0,ie=K.length;Q<ie;Q++){const te=K[Q];if(I.lineNumber===te.startLineNumber&&I.column===te.startColumn){H=!0;break}}if(!H)return!1}}return!0}static _runAutoClosingOvertype(b,k,V,K,Z){const z=[];for(let A=0,P=K.length;A<P;A++){const W=K[A].getPosition(),G=new S.e(W.lineNumber,W.column,W.lineNumber,W.column+1);z[A]=new x.T4(G,Z)}return new w.Tp(4,z,{shouldPushStackElementBefore:y(b,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(b,k){const V=k.charAt(0),K=b.autoClosingPairs.autoClosingPairsOpenByStart.get(V)||[],Z=b.autoClosingPairs.autoClosingPairsCloseByStart.get(V)||[],z=K.some(P=>k.startsWith(P.open)),A=Z.some(P=>k.startsWith(P.close));return!z&&A}static _findAutoClosingPairOpen(b,k,V,K){const Z=b.autoClosingPairs.autoClosingPairsOpenByEnd.get(K);if(!Z)return null;let z=null;for(const A of Z)if(z===null||A.open.length>z.open.length){let P=!0;for(const I of V)if(k.getValueInRange(new S.e(I.lineNumber,I.column-A.open.length+1,I.lineNumber,I.column))+K!==A.open){P=!1;break}P&&(z=A)}return z}static _findContainedAutoClosingPair(b,k){if(k.open.length<=1)return null;const V=k.close.charAt(k.close.length-1),K=b.autoClosingPairs.autoClosingPairsCloseByEnd.get(V)||[];let Z=null;for(const z of K)z.open!==k.open&&k.open.includes(z.open)&&k.close.endsWith(z.close)&&(!Z||z.open.length>Z.open.length)&&(Z=z);return Z}static _getAutoClosingPairClose(b,k,V,K,Z){for(const H of V)if(!H.isEmpty())return null;const z=V.map(H=>{const Q=H.getPosition();return Z?{lineNumber:Q.lineNumber,beforeColumn:Q.column-K.length,afterColumn:Q.column}:{lineNumber:Q.lineNumber,beforeColumn:Q.column,afterColumn:Q.column}}),A=this._findAutoClosingPairOpen(b,k,z.map(H=>new g.L(H.lineNumber,H.beforeColumn)),K);if(!A)return null;let P,I;if((0,w.LN)(K)?(P=b.autoClosingQuotes,I=b.shouldAutoCloseBefore.quote):(b.blockCommentStartToken?A.open.includes(b.blockCommentStartToken):!1)?(P=b.autoClosingComments,I=b.shouldAutoCloseBefore.comment):(P=b.autoClosingBrackets,I=b.shouldAutoCloseBefore.bracket),P==="never")return null;const G=this._findContainedAutoClosingPair(b,A),j=G?G.close:"";let Y=!0;for(const H of z){const{lineNumber:Q,beforeColumn:ie,afterColumn:te}=H,se=k.getLineContent(Q),ne=se.substring(0,ie-1),ee=se.substring(te-1);if(ee.startsWith(j)||(Y=!1),ee.length>0){const we=ee.charAt(0);if(!u._isBeforeClosingBrace(b,ee)&&!I(we))return null}if(A.open.length===1&&(K==="'"||K==='"')&&P!=="always"){const we=(0,m.u)(b.wordSeparators,[]);if(ne.length>0){const We=ne.charCodeAt(ne.length-1);if(we.get(We)===0)return null}}if(!k.tokenization.isCheapToTokenize(Q))return null;k.tokenization.forceTokenization(Q);const re=k.tokenization.getLineTokens(Q),he=(0,i.wH)(re,ie-1);if(!A.shouldAutoClose(he,ie-he.firstCharOffset))return null;const M=A.findNeutralCharacter();if(M){const we=k.tokenization.getTokenTypeIfInsertingCharacter(Q,ie,M);if(!A.isOK(we))return null}}return Y?A.close.substring(0,A.close.length-j.length):A.close}static _runAutoClosingOpenCharType(b,k,V,K,Z,z,A){const P=[];for(let I=0,W=K.length;I<W;I++){const G=K[I];P[I]=new l(G,Z,!z,A)}return new w.Tp(4,P,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(b,k){return(0,w.LN)(k)?b.autoSurround==="quotes"||b.autoSurround==="languageDefined":b.autoSurround==="brackets"||b.autoSurround==="languageDefined"}static _isSurroundSelectionType(b,k,V,K){if(!u._shouldSurroundChar(b,K)||!b.surroundingPairs.hasOwnProperty(K))return!1;const Z=(0,w.LN)(K);for(const z of V){if(z.isEmpty())return!1;let A=!0;for(let P=z.startLineNumber;P<=z.endLineNumber;P++){const I=k.getLineContent(P),W=P===z.startLineNumber?z.startColumn-1:0,G=P===z.endLineNumber?z.endColumn-1:I.length,j=I.substring(W,G);if(/[^ \t]/.test(j)){A=!1;break}}if(A)return!1;if(Z&&z.startLineNumber===z.endLineNumber&&z.startColumn+1===z.endColumn){const P=k.getValueInRange(z);if((0,w.LN)(P))return!1}}return!0}static _runSurroundSelectionType(b,k,V,K,Z){const z=[];for(let A=0,P=K.length;A<P;A++){const I=K[A],W=k.surroundingPairs[Z];z[A]=new E(I,Z,W)}return new w.Tp(0,z,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(b,k,V){return!!(V.length===1&&k.tokenization.isCheapToTokenize(V[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(b,k,V,K,Z){if(!k.electricChars.hasOwnProperty(Z)||!K.isEmpty())return null;const z=K.getPosition();V.tokenization.forceTokenization(z.lineNumber);const A=V.tokenization.getLineTokens(z.lineNumber);let P;try{P=k.onElectricCharacter(Z,A,z.column)}catch(I){return(0,o.dL)(I),null}if(!P)return null;if(P.matchOpenBracket){const I=(A.getLineContent()+Z).lastIndexOf(P.matchOpenBracket)+1,W=V.bracketPairs.findMatchingBracketUp(P.matchOpenBracket,{lineNumber:z.lineNumber,column:I},500);if(W){if(W.startLineNumber===z.lineNumber)return null;const G=V.getLineContent(W.startLineNumber),j=B.V8(G),Y=k.normalizeIndentation(j),H=V.getLineContent(z.lineNumber),Q=V.getLineFirstNonWhitespaceColumn(z.lineNumber)||z.column,ie=H.substring(Q-1,z.column-1),te=Y+ie+Z,se=new S.e(z.lineNumber,1,z.lineNumber,z.column),ne=new x.T4(se,te);return new w.Tp(f(te,b),[ne],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(b,k,V,K,Z,z){if(!K)return null;let A=null;for(const G of K)if(A===null)A=G.insertedText;else if(A!==G.insertedText)return null;if(!A||A.length!==1)return null;const P=A;let I=!1;for(const G of K)if(G.deletedText.length!==0){I=!0;break}if(I){if(!u._shouldSurroundChar(k,P)||!k.surroundingPairs.hasOwnProperty(P))return null;const G=(0,w.LN)(P);for(const H of K)if(H.deletedSelectionStart!==0||H.deletedSelectionEnd!==H.deletedText.length||/^[ \t]+$/.test(H.deletedText)||G&&(0,w.LN)(H.deletedText))return null;const j=[];for(const H of Z){if(!H.isEmpty())return null;j.push(H.getPosition())}if(j.length!==K.length)return null;const Y=[];for(let H=0,Q=j.length;H<Q;H++)Y.push(new R(j[H],K[H].deletedText,k.surroundingPairs[P]));return new w.Tp(4,Y,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(k,V,Z,z,P)){const G=Z.map(j=>new x.T4(new S.e(j.positionLineNumber,j.positionColumn,j.positionLineNumber,j.positionColumn+1),"",!1));return new w.Tp(4,G,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const W=this._getAutoClosingPairClose(k,V,Z,P,!0);return W!==null?this._runAutoClosingOpenCharType(b,k,V,Z,P,!0,W):null}static typeWithInterceptors(b,k,V,K,Z,z,A){if(!b&&A===`
`){const W=[];for(let G=0,j=Z.length;G<j;G++)W[G]=u._enter(V,K,!1,Z[G]);return new w.Tp(4,W,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!b&&this._isAutoIndentType(V,K,Z)){const W=[];let G=!1;for(let j=0,Y=Z.length;j<Y;j++)if(W[j]=this._runAutoIndentType(V,K,Z[j],A),!W[j]){G=!0;break}if(!G)return new w.Tp(4,W,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(V,K,Z,z,A))return this._runAutoClosingOvertype(k,V,K,Z,A);if(!b){const W=this._getAutoClosingPairClose(V,K,Z,A,!1);if(W)return this._runAutoClosingOpenCharType(k,V,K,Z,A,!1,W)}if(!b&&this._isSurroundSelectionType(V,K,Z,A))return this._runSurroundSelectionType(k,V,K,Z,A);if(!b&&this._isTypeInterceptorElectricChar(V,K,Z)){const W=this._typeInterceptorElectricChar(k,V,K,Z[0],A);if(W)return W}const P=[];for(let W=0,G=Z.length;W<G;W++)P[W]=new x.T4(Z[W],A);const I=f(A,k);return new w.Tp(I,P,{shouldPushStackElementBefore:y(k,I),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(b,k,V,K,Z){const z=[];for(let P=0,I=K.length;P<I;P++)z[P]=new x.T4(K[P],Z);const A=f(Z,b);return new w.Tp(A,z,{shouldPushStackElementBefore:y(b,A),shouldPushStackElementAfter:!1})}static lineInsertBefore(b,k,V){if(k===null||V===null)return[];const K=[];for(let Z=0,z=V.length;Z<z;Z++){let A=V[Z].positionLineNumber;if(A===1)K[Z]=new x.Sj(new S.e(1,1,1,1),`
`);else{A--;const P=k.getLineMaxColumn(A);K[Z]=this._enter(b,k,!1,new S.e(A,P,A,P))}}return K}static lineInsertAfter(b,k,V){if(k===null||V===null)return[];const K=[];for(let Z=0,z=V.length;Z<z;Z++){const A=V[Z].positionLineNumber,P=k.getLineMaxColumn(A);K[Z]=this._enter(b,k,!1,new S.e(A,P,A,P))}return K}static lineBreakInsert(b,k,V){const K=[];for(let Z=0,z=V.length;Z<z;Z++)K[Z]=this._enter(b,k,!0,V[Z]);return K}}class l extends x.Uo{constructor(b,k,V,K){super(b,(V?k:"")+K,0,-K.length),this._openCharacter=k,this._closeCharacter=K,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(b,k){const K=k.getInverseEditOperations()[0].range;return this.closeCharacterRange=new S.e(K.startLineNumber,K.endColumn-this._closeCharacter.length,K.endLineNumber,K.endColumn),this.enclosingRange=new S.e(K.startLineNumber,K.endColumn-this._openCharacter.length-this._closeCharacter.length,K.endLineNumber,K.endColumn),super.computeCursorState(b,k)}}class D{constructor(b,k,V,K,Z,z){this.deletedText=b,this.deletedSelectionStart=k,this.deletedSelectionEnd=V,this.insertedText=K,this.insertedSelectionStart=Z,this.insertedSelectionEnd=z}}function f(N,b){return N===" "?b===5||b===6?6:5:4}function y(N,b){return _(N)&&!_(b)?!0:N===5?!1:C(N)!==C(b)}function C(N){return N===6||N===5?"space":N}function _(N){return N===4||N===5||N===6}},16334:function(et,Le,e){"use strict";e.d(Le,{L:function(){return R},w:function(){return E}});var o=e(30144),B=e(57247),x=e(51452),O=e(47205),S=e(93895),p=e(4694);class E{static _createWord(g,a,r,i,n){return{start:i,end:n,wordType:a,nextCharClass:r}}static _createIntlWord(g,a){return{start:g.index,end:g.index+g.segment.length,wordType:1,nextCharClass:a}}static _findPreviousWordOnLine(g,a,r){const i=a.getLineContent(r.lineNumber);return this._doFindPreviousWordOnLine(i,g,r)}static _doFindPreviousWordOnLine(g,a,r){let i=0;const n=a.findPrevIntlWordBeforeOrAtOffset(g,r.column-2);for(let c=r.column-2;c>=0;c--){const u=g.charCodeAt(c),l=a.get(u);if(n&&c===n.index)return this._createIntlWord(n,l);if(l===0){if(i===2)return this._createWord(g,i,l,c+1,this._findEndOfWord(g,a,i,c+1));i=1}else if(l===2){if(i===1)return this._createWord(g,i,l,c+1,this._findEndOfWord(g,a,i,c+1));i=2}else if(l===1&&i!==0)return this._createWord(g,i,l,c+1,this._findEndOfWord(g,a,i,c+1))}return i!==0?this._createWord(g,i,1,0,this._findEndOfWord(g,a,i,0)):null}static _findEndOfWord(g,a,r,i){const n=a.findNextIntlWordAtOrAfterOffset(g,i),c=g.length;for(let u=i;u<c;u++){const l=g.charCodeAt(u),D=a.get(l);if(n&&u===n.index+n.segment.length||D===1||r===1&&D===2||r===2&&D===0)return u}return c}static _findNextWordOnLine(g,a,r){const i=a.getLineContent(r.lineNumber);return this._doFindNextWordOnLine(i,g,r)}static _doFindNextWordOnLine(g,a,r){let i=0;const n=g.length,c=a.findNextIntlWordAtOrAfterOffset(g,r.column-1);for(let u=r.column-1;u<n;u++){const l=g.charCodeAt(u),D=a.get(l);if(c&&u===c.index)return this._createIntlWord(c,D);if(D===0){if(i===2)return this._createWord(g,i,D,this._findStartOfWord(g,a,i,u-1),u);i=1}else if(D===2){if(i===1)return this._createWord(g,i,D,this._findStartOfWord(g,a,i,u-1),u);i=2}else if(D===1&&i!==0)return this._createWord(g,i,D,this._findStartOfWord(g,a,i,u-1),u)}return i!==0?this._createWord(g,i,1,this._findStartOfWord(g,a,i,n-1),n):null}static _findStartOfWord(g,a,r,i){const n=a.findPrevIntlWordBeforeOrAtOffset(g,i);for(let c=i;c>=0;c--){const u=g.charCodeAt(c),l=a.get(u);if(n&&c===n.index)return c;if(l===1||r===1&&l===2||r===2&&l===0)return c+1}return 0}static moveWordLeft(g,a,r,i){let n=r.lineNumber,c=r.column;c===1&&n>1&&(n=n-1,c=a.getLineMaxColumn(n));let u=E._findPreviousWordOnLine(g,a,new S.L(n,c));if(i===0)return new S.L(n,u?u.start+1:1);if(i===1)return u&&u.wordType===2&&u.end-u.start===1&&u.nextCharClass===0&&(u=E._findPreviousWordOnLine(g,a,new S.L(n,u.start+1))),new S.L(n,u?u.start+1:1);if(i===3){for(;u&&u.wordType===2;)u=E._findPreviousWordOnLine(g,a,new S.L(n,u.start+1));return new S.L(n,u?u.start+1:1)}return u&&c<=u.end+1&&(u=E._findPreviousWordOnLine(g,a,new S.L(n,u.start+1))),new S.L(n,u?u.end+1:1)}static _moveWordPartLeft(g,a){const r=a.lineNumber,i=g.getLineMaxColumn(r);if(a.column===1)return r>1?new S.L(r-1,g.getLineMaxColumn(r-1)):a;const n=g.getLineContent(r);for(let c=a.column-1;c>1;c--){const u=n.charCodeAt(c-2),l=n.charCodeAt(c-1);if(u===95&&l!==95)return new S.L(r,c);if(u===45&&l!==45)return new S.L(r,c);if((o.mK(u)||o.T5(u))&&o.df(l))return new S.L(r,c);if(o.df(u)&&o.df(l)&&c+1<i){const D=n.charCodeAt(c);if(o.mK(D)||o.T5(D))return new S.L(r,c)}}return new S.L(r,1)}static moveWordRight(g,a,r,i){let n=r.lineNumber,c=r.column,u=!1;c===a.getLineMaxColumn(n)&&n<a.getLineCount()&&(u=!0,n=n+1,c=1);let l=E._findNextWordOnLine(g,a,new S.L(n,c));if(i===2)l&&l.wordType===2&&l.end-l.start===1&&l.nextCharClass===0&&(l=E._findNextWordOnLine(g,a,new S.L(n,l.end+1))),l?c=l.end+1:c=a.getLineMaxColumn(n);else if(i===3){for(u&&(c=0);l&&(l.wordType===2||l.start+1<=c);)l=E._findNextWordOnLine(g,a,new S.L(n,l.end+1));l?c=l.start+1:c=a.getLineMaxColumn(n)}else l&&!u&&c>=l.start+1&&(l=E._findNextWordOnLine(g,a,new S.L(n,l.end+1))),l?c=l.start+1:c=a.getLineMaxColumn(n);return new S.L(n,c)}static _moveWordPartRight(g,a){const r=a.lineNumber,i=g.getLineMaxColumn(r);if(a.column===i)return r<g.getLineCount()?new S.L(r+1,1):a;const n=g.getLineContent(r);for(let c=a.column+1;c<i;c++){const u=n.charCodeAt(c-2),l=n.charCodeAt(c-1);if(u!==95&&l===95)return new S.L(r,c);if(u!==45&&l===45)return new S.L(r,c);if((o.mK(u)||o.T5(u))&&o.df(l))return new S.L(r,c);if(o.df(u)&&o.df(l)&&c+1<i){const D=n.charCodeAt(c);if(o.mK(D)||o.T5(D))return new S.L(r,c)}}return new S.L(r,i)}static _deleteWordLeftWhitespace(g,a){const r=g.getLineContent(a.lineNumber),i=a.column-2,n=o.ow(r,i);return n+1<i?new p.e(a.lineNumber,n+2,a.lineNumber,a.column):null}static deleteWordLeft(g,a){const r=g.wordSeparators,i=g.model,n=g.selection,c=g.whitespaceHeuristics;if(!n.isEmpty())return n;if(x.A.isAutoClosingPairDelete(g.autoClosingDelete,g.autoClosingBrackets,g.autoClosingQuotes,g.autoClosingPairs.autoClosingPairsOpenByEnd,g.model,[g.selection],g.autoClosedCharacters)){const y=g.selection.getPosition();return new p.e(y.lineNumber,y.column-1,y.lineNumber,y.column+1)}const u=new S.L(n.positionLineNumber,n.positionColumn);let l=u.lineNumber,D=u.column;if(l===1&&D===1)return null;if(c){const y=this._deleteWordLeftWhitespace(i,u);if(y)return y}let f=E._findPreviousWordOnLine(r,i,u);return a===0?f?D=f.start+1:D>1?D=1:(l--,D=i.getLineMaxColumn(l)):(f&&D<=f.end+1&&(f=E._findPreviousWordOnLine(r,i,new S.L(l,f.start+1))),f?D=f.end+1:D>1?D=1:(l--,D=i.getLineMaxColumn(l))),new p.e(l,D,u.lineNumber,u.column)}static deleteInsideWord(g,a,r){if(!r.isEmpty())return r;const i=new S.L(r.positionLineNumber,r.positionColumn),n=this._deleteInsideWordWhitespace(a,i);return n||this._deleteInsideWordDetermineDeleteRange(g,a,i)}static _charAtIsWhitespace(g,a){const r=g.charCodeAt(a);return r===32||r===9}static _deleteInsideWordWhitespace(g,a){const r=g.getLineContent(a.lineNumber),i=r.length;if(i===0)return null;let n=Math.max(a.column-2,0);if(!this._charAtIsWhitespace(r,n))return null;let c=Math.min(a.column-1,i-1);if(!this._charAtIsWhitespace(r,c))return null;for(;n>0&&this._charAtIsWhitespace(r,n-1);)n--;for(;c+1<i&&this._charAtIsWhitespace(r,c+1);)c++;return new p.e(a.lineNumber,n+1,a.lineNumber,c+2)}static _deleteInsideWordDetermineDeleteRange(g,a,r){const i=a.getLineContent(r.lineNumber),n=i.length;if(n===0)return r.lineNumber>1?new p.e(r.lineNumber-1,a.getLineMaxColumn(r.lineNumber-1),r.lineNumber,1):r.lineNumber<a.getLineCount()?new p.e(r.lineNumber,1,r.lineNumber+1,1):new p.e(r.lineNumber,1,r.lineNumber,1);const c=y=>y.start+1<=r.column&&r.column<=y.end+1,u=(y,C)=>(y=Math.min(y,r.column),C=Math.max(C,r.column),new p.e(r.lineNumber,y,r.lineNumber,C)),l=y=>{let C=y.start+1,_=y.end+1,N=!1;for(;_-1<n&&this._charAtIsWhitespace(i,_-1);)N=!0,_++;if(!N)for(;C>1&&this._charAtIsWhitespace(i,C-2);)C--;return u(C,_)},D=E._findPreviousWordOnLine(g,a,r);if(D&&c(D))return l(D);const f=E._findNextWordOnLine(g,a,r);return f&&c(f)?l(f):D&&f?u(D.end+1,f.start+1):D?u(D.start+1,D.end+1):f?u(f.start+1,f.end+1):u(1,n+1)}static _deleteWordPartLeft(g,a){if(!a.isEmpty())return a;const r=a.getPosition(),i=E._moveWordPartLeft(g,r);return new p.e(r.lineNumber,r.column,i.lineNumber,i.column)}static _findFirstNonWhitespaceChar(g,a){const r=g.length;for(let i=a;i<r;i++){const n=g.charAt(i);if(n!==" "&&n!=="	")return i}return r}static _deleteWordRightWhitespace(g,a){const r=g.getLineContent(a.lineNumber),i=a.column-1,n=this._findFirstNonWhitespaceChar(r,i);return i+1<n?new p.e(a.lineNumber,a.column,a.lineNumber,n+1):null}static deleteWordRight(g,a){const r=g.wordSeparators,i=g.model,n=g.selection,c=g.whitespaceHeuristics;if(!n.isEmpty())return n;const u=new S.L(n.positionLineNumber,n.positionColumn);let l=u.lineNumber,D=u.column;const f=i.getLineCount(),y=i.getLineMaxColumn(l);if(l===f&&D===y)return null;if(c){const _=this._deleteWordRightWhitespace(i,u);if(_)return _}let C=E._findNextWordOnLine(r,i,u);return a===2?C?D=C.end+1:D<y||l===f?D=y:(l++,C=E._findNextWordOnLine(r,i,new S.L(l,1)),C?D=C.start+1:D=i.getLineMaxColumn(l)):(C&&D>=C.start+1&&(C=E._findNextWordOnLine(r,i,new S.L(l,C.end+1))),C?D=C.start+1:D<y||l===f?D=y:(l++,C=E._findNextWordOnLine(r,i,new S.L(l,1)),C?D=C.start+1:D=i.getLineMaxColumn(l))),new p.e(l,D,u.lineNumber,u.column)}static _deleteWordPartRight(g,a){if(!a.isEmpty())return a;const r=a.getPosition(),i=E._moveWordPartRight(g,r);return new p.e(r.lineNumber,r.column,i.lineNumber,i.column)}static _createWordAtPosition(g,a,r){const i=new p.e(a,r.start+1,a,r.end+1);return{word:g.getValueInRange(i),startColumn:i.startColumn,endColumn:i.endColumn}}static getWordAtPosition(g,a,r,i){const n=(0,O.u)(a,r),c=E._findPreviousWordOnLine(n,g,i);if(c&&c.wordType===1&&c.start<=i.column-1&&i.column-1<=c.end)return E._createWordAtPosition(g,i.lineNumber,c);const u=E._findNextWordOnLine(n,g,i);return u&&u.wordType===1&&u.start<=i.column-1&&i.column-1<=u.end?E._createWordAtPosition(g,i.lineNumber,u):null}static word(g,a,r,i,n){const c=(0,O.u)(g.wordSeparators,g.wordSegmenterLocales),u=E._findPreviousWordOnLine(c,a,n),l=E._findNextWordOnLine(c,a,n);if(!i){let _,N;return u&&u.wordType===1&&u.start<=n.column-1&&n.column-1<=u.end?(_=u.start+1,N=u.end+1):l&&l.wordType===1&&l.start<=n.column-1&&n.column-1<=l.end?(_=l.start+1,N=l.end+1):(u?_=u.end+1:_=1,l?N=l.start+1:N=a.getLineMaxColumn(n.lineNumber)),new B.rS(new p.e(n.lineNumber,_,n.lineNumber,N),1,0,new S.L(n.lineNumber,N),0)}let D,f;u&&u.wordType===1&&u.start<n.column-1&&n.column-1<u.end?(D=u.start+1,f=u.end+1):l&&l.wordType===1&&l.start<n.column-1&&n.column-1<l.end?(D=l.start+1,f=l.end+1):(D=n.column,f=n.column);const y=n.lineNumber;let C;if(r.selectionStart.containsPosition(n))C=r.selectionStart.endColumn;else if(n.isBeforeOrEqual(r.selectionStart.getStartPosition())){C=D;const _=new S.L(y,C);r.selectionStart.containsPosition(_)&&(C=r.selectionStart.endColumn)}else{C=f;const _=new S.L(y,C);r.selectionStart.containsPosition(_)&&(C=r.selectionStart.startColumn)}return r.move(!0,y,C,0)}}class R extends E{static deleteWordPartLeft(g){const a=w([E.deleteWordLeft(g,0),E.deleteWordLeft(g,2),E._deleteWordPartLeft(g.model,g.selection)]);return a.sort(p.e.compareRangesUsingEnds),a[2]}static deleteWordPartRight(g){const a=w([E.deleteWordRight(g,0),E.deleteWordRight(g,2),E._deleteWordPartRight(g.model,g.selection)]);return a.sort(p.e.compareRangesUsingStarts),a[0]}static moveWordPartLeft(g,a,r){const i=w([E.moveWordLeft(g,a,r,0),E.moveWordLeft(g,a,r,2),E._moveWordPartLeft(a,r)]);return i.sort(S.L.compare),i[2]}static moveWordPartRight(g,a,r){const i=w([E.moveWordRight(g,a,r,0),E.moveWordRight(g,a,r,2),E._moveWordPartRight(a,r)]);return i.sort(S.L.compare),i[0]}}function w(m){return m.filter(g=>!!g)}},57247:function(et,Le,e){"use strict";e.d(Le,{LM:function(){return m},LN:function(){return c},Tp:function(){return n},Vi:function(){return g},rS:function(){return i}});var o=e(93895),B=e(4694),x=e(14149),O=e(14661),S=e(76675),p=e(25724);const E=()=>!0,R=()=>!1,w=u=>u===" "||u==="	";class m{static shouldRecreate(l){return l.hasChanged(145)||l.hasChanged(131)||l.hasChanged(37)||l.hasChanged(77)||l.hasChanged(79)||l.hasChanged(80)||l.hasChanged(6)||l.hasChanged(7)||l.hasChanged(11)||l.hasChanged(9)||l.hasChanged(10)||l.hasChanged(14)||l.hasChanged(128)||l.hasChanged(50)||l.hasChanged(91)||l.hasChanged(130)}constructor(l,D,f,y){var C;this.languageConfigurationService=y,this._cursorMoveConfigurationBrand=void 0,this._languageId=l;const _=f.options,N=_.get(145),b=_.get(50);this.readOnly=_.get(91),this.tabSize=D.tabSize,this.indentSize=D.indentSize,this.insertSpaces=D.insertSpaces,this.stickyTabStops=_.get(116),this.lineHeight=b.lineHeight,this.typicalHalfwidthCharacterWidth=b.typicalHalfwidthCharacterWidth,this.pageSize=Math.max(1,Math.floor(N.height/this.lineHeight)-2),this.useTabStops=_.get(128),this.wordSeparators=_.get(131),this.emptySelectionClipboard=_.get(37),this.copyWithSyntaxHighlighting=_.get(25),this.multiCursorMergeOverlapping=_.get(77),this.multiCursorPaste=_.get(79),this.multiCursorLimit=_.get(80),this.autoClosingBrackets=_.get(6),this.autoClosingComments=_.get(7),this.autoClosingQuotes=_.get(11),this.autoClosingDelete=_.get(9),this.autoClosingOvertype=_.get(10),this.autoSurround=_.get(14),this.autoIndent=_.get(12),this.wordSegmenterLocales=_.get(130),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(l,this.autoClosingQuotes,!0),comment:this._getShouldAutoClose(l,this.autoClosingComments,!1),bracket:this._getShouldAutoClose(l,this.autoClosingBrackets,!1)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(l).getAutoClosingPairs();const k=this.languageConfigurationService.getLanguageConfiguration(l).getSurroundingPairs();if(k)for(const K of k)this.surroundingPairs[K.open]=K.close;const V=this.languageConfigurationService.getLanguageConfiguration(l).comments;this.blockCommentStartToken=(C=V==null?void 0:V.blockCommentStartToken)!==null&&C!==void 0?C:null}get electricChars(){var l;if(!this._electricChars){this._electricChars={};const D=(l=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||l===void 0?void 0:l.getElectricCharacters();if(D)for(const f of D)this._electricChars[f]=!0}return this._electricChars}onElectricCharacter(l,D,f){const y=(0,O.wH)(D,f-1),C=this.languageConfigurationService.getLanguageConfiguration(y.languageId).electricCharacter;return C?C.onElectricCharacter(l,y,f-y.firstCharOffset):null}normalizeIndentation(l){return(0,p.x)(l,this.indentSize,this.insertSpaces)}_getShouldAutoClose(l,D,f){switch(D){case"beforeWhitespace":return w;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(l,f);case"always":return E;case"never":return R}}_getLanguageDefinedShouldAutoClose(l,D){const f=this.languageConfigurationService.getLanguageConfiguration(l).getAutoCloseBeforeSet(D);return y=>f.indexOf(y)!==-1}visibleColumnFromColumn(l,D){return S.i.visibleColumnFromColumn(l.getLineContent(D.lineNumber),D.column,this.tabSize)}columnFromVisibleColumn(l,D,f){const y=S.i.columnFromVisibleColumn(l.getLineContent(D),f,this.tabSize),C=l.getLineMinColumn(D);if(y<C)return C;const _=l.getLineMaxColumn(D);return y>_?_:y}}class g{static fromModelState(l){return new a(l)}static fromViewState(l){return new r(l)}static fromModelSelection(l){const D=x.Y.liftSelection(l),f=new i(B.e.fromPositions(D.getSelectionStart()),0,0,D.getPosition(),0);return g.fromModelState(f)}static fromModelSelections(l){const D=[];for(let f=0,y=l.length;f<y;f++)D[f]=this.fromModelSelection(l[f]);return D}constructor(l,D){this._cursorStateBrand=void 0,this.modelState=l,this.viewState=D}equals(l){return this.viewState.equals(l.viewState)&&this.modelState.equals(l.modelState)}}class a{constructor(l){this.modelState=l,this.viewState=null}}class r{constructor(l){this.modelState=null,this.viewState=l}}class i{constructor(l,D,f,y,C){this.selectionStart=l,this.selectionStartKind=D,this.selectionStartLeftoverVisibleColumns=f,this.position=y,this.leftoverVisibleColumns=C,this._singleCursorStateBrand=void 0,this.selection=i._computeSelection(this.selectionStart,this.position)}equals(l){return this.selectionStartLeftoverVisibleColumns===l.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===l.leftoverVisibleColumns&&this.selectionStartKind===l.selectionStartKind&&this.position.equals(l.position)&&this.selectionStart.equalsRange(l.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(l,D,f,y){return l?new i(this.selectionStart,this.selectionStartKind,this.selectionStartLeftoverVisibleColumns,new o.L(D,f),y):new i(new B.e(D,f,D,f),0,y,new o.L(D,f),y)}static _computeSelection(l,D){return l.isEmpty()||!D.isBeforeOrEqual(l.getStartPosition())?x.Y.fromPositions(l.getStartPosition(),D):x.Y.fromPositions(l.getEndPosition(),D)}}class n{constructor(l,D,f){this._editOperationResultBrand=void 0,this.type=l,this.commands=D,this.shouldPushStackElementBefore=f.shouldPushStackElementBefore,this.shouldPushStackElementAfter=f.shouldPushStackElementAfter}}function c(u){return u==="'"||u==='"'||u==="`"}},50183:function(et,Le,e){"use strict";e.d(Le,{KU:function(){return O},NT:function(){return R},i8:function(){return S},n0:function(){return E},zl:function(){return p}});var o=e(71221),B=e(25602),x=e(98718);class O{static trivial(m,g){return new O([new S(x.q.ofLength(m.length),x.q.ofLength(g.length))],!1)}static trivialTimedOut(m,g){return new O([new S(x.q.ofLength(m.length),x.q.ofLength(g.length))],!0)}constructor(m,g){this.diffs=m,this.hitTimeout=g}}class S{static invert(m,g){const a=[];return(0,o.zy)(m,(r,i)=>{a.push(S.fromOffsetPairs(r?r.getEndExclusives():p.zero,i?i.getStarts():new p(g,(r?r.seq2Range.endExclusive-r.seq1Range.endExclusive:0)+g)))}),a}static fromOffsetPairs(m,g){return new S(new x.q(m.offset1,g.offset1),new x.q(m.offset2,g.offset2))}constructor(m,g){this.seq1Range=m,this.seq2Range=g}swap(){return new S(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}join(m){return new S(this.seq1Range.join(m.seq1Range),this.seq2Range.join(m.seq2Range))}delta(m){return m===0?this:new S(this.seq1Range.delta(m),this.seq2Range.delta(m))}deltaStart(m){return m===0?this:new S(this.seq1Range.deltaStart(m),this.seq2Range.deltaStart(m))}deltaEnd(m){return m===0?this:new S(this.seq1Range.deltaEnd(m),this.seq2Range.deltaEnd(m))}intersect(m){const g=this.seq1Range.intersect(m.seq1Range),a=this.seq2Range.intersect(m.seq2Range);if(!(!g||!a))return new S(g,a)}getStarts(){return new p(this.seq1Range.start,this.seq2Range.start)}getEndExclusives(){return new p(this.seq1Range.endExclusive,this.seq2Range.endExclusive)}}class p{constructor(m,g){this.offset1=m,this.offset2=g}toString(){return`${this.offset1} <-> ${this.offset2}`}delta(m){return m===0?this:new p(this.offset1+m,this.offset2+m)}equals(m){return this.offset1===m.offset1&&this.offset2===m.offset2}}p.zero=new p(0,0),p.max=new p(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER);class E{isValid(){return!0}}E.instance=new E;class R{constructor(m){if(this.timeout=m,this.startTime=Date.now(),this.valid=!0,m<=0)throw new B.he("timeout must be positive")}isValid(){if(!(Date.now()-this.startTime<this.timeout)&&this.valid){this.valid=!1;debugger}return this.valid}}},42826:function(et,Le,e){"use strict";e.d(Le,{DW:function(){return G}});var o=e(71221),B=e(9751),x=e(56348),O=e(98718),S=e(4694),p=e(50183);class E{constructor(Q,ie){this.width=Q,this.height=ie,this.array=[],this.array=new Array(Q*ie)}get(Q,ie){return this.array[Q+ie*this.width]}set(Q,ie,te){this.array[Q+ie*this.width]=te}}function R(H){return H===32||H===9}class w{static getKey(Q){let ie=this.chrKeys.get(Q);return ie===void 0&&(ie=this.chrKeys.size,this.chrKeys.set(Q,ie)),ie}constructor(Q,ie,te){this.range=Q,this.lines=ie,this.source=te,this.histogram=[];let se=0;for(let ne=Q.startLineNumber-1;ne<Q.endLineNumberExclusive-1;ne++){const ee=ie[ne];for(let he=0;he<ee.length;he++){se++;const M=ee[he],we=w.getKey(M);this.histogram[we]=(this.histogram[we]||0)+1}se++;const re=w.getKey(`
`);this.histogram[re]=(this.histogram[re]||0)+1}this.totalCount=se}computeSimilarity(Q){var ie,te;let se=0;const ne=Math.max(this.histogram.length,Q.histogram.length);for(let ee=0;ee<ne;ee++)se+=Math.abs(((ie=this.histogram[ee])!==null&&ie!==void 0?ie:0)-((te=Q.histogram[ee])!==null&&te!==void 0?te:0));return 1-se/(this.totalCount+Q.totalCount)}}w.chrKeys=new Map;class m{compute(Q,ie,te=p.n0.instance,se){if(Q.length===0||ie.length===0)return p.KU.trivial(Q,ie);const ne=new E(Q.length,ie.length),ee=new E(Q.length,ie.length),re=new E(Q.length,ie.length);for(let ve=0;ve<Q.length;ve++)for(let Ee=0;Ee<ie.length;Ee++){if(!te.isValid())return p.KU.trivialTimedOut(Q,ie);const Oe=ve===0?0:ne.get(ve-1,Ee),Ke=Ee===0?0:ne.get(ve,Ee-1);let Qe;Q.getElement(ve)===ie.getElement(Ee)?(ve===0||Ee===0?Qe=0:Qe=ne.get(ve-1,Ee-1),ve>0&&Ee>0&&ee.get(ve-1,Ee-1)===3&&(Qe+=re.get(ve-1,Ee-1)),Qe+=se?se(ve,Ee):1):Qe=-1;const fe=Math.max(Oe,Ke,Qe);if(fe===Qe){const $=ve>0&&Ee>0?re.get(ve-1,Ee-1):0;re.set(ve,Ee,$+1),ee.set(ve,Ee,3)}else fe===Oe?(re.set(ve,Ee,0),ee.set(ve,Ee,1)):fe===Ke&&(re.set(ve,Ee,0),ee.set(ve,Ee,2));ne.set(ve,Ee,fe)}const he=[];let M=Q.length,we=ie.length;function We(ve,Ee){(ve+1!==M||Ee+1!==we)&&he.push(new p.i8(new O.q(ve+1,M),new O.q(Ee+1,we))),M=ve,we=Ee}let ye=Q.length-1,X=ie.length-1;for(;ye>=0&&X>=0;)ee.get(ye,X)===3?(We(ye,X),ye--,X--):ee.get(ye,X)===1?ye--:X--;return We(-1,-1),he.reverse(),new p.KU(he,!1)}}class g{compute(Q,ie,te=p.n0.instance){if(Q.length===0||ie.length===0)return p.KU.trivial(Q,ie);const se=Q,ne=ie;function ee(Ee,Oe){for(;Ee<se.length&&Oe<ne.length&&se.getElement(Ee)===ne.getElement(Oe);)Ee++,Oe++;return Ee}let re=0;const he=new r;he.set(0,ee(0,0));const M=new i;M.set(0,he.get(0)===0?null:new a(null,0,0,he.get(0)));let we=0;e:for(;;){if(re++,!te.isValid())return p.KU.trivialTimedOut(se,ne);const Ee=-Math.min(re,ne.length+re%2),Oe=Math.min(re,se.length+re%2);for(we=Ee;we<=Oe;we+=2){let Ke=0;const Qe=we===Oe?-1:he.get(we+1),fe=we===Ee?-1:he.get(we-1)+1;Ke++;const $=Math.min(Math.max(Qe,fe),se.length),le=$-we;if(Ke++,$>se.length||le>ne.length)continue;const De=ee($,le);he.set(we,De);const xe=$===Qe?M.get(we+1):M.get(we-1);if(M.set(we,De!==$?new a(xe,$,le,De-$):xe),he.get(we)===se.length&&he.get(we)-we===ne.length)break e}}let We=M.get(we);const ye=[];let X=se.length,ve=ne.length;for(;;){const Ee=We?We.x+We.length:0,Oe=We?We.y+We.length:0;if((Ee!==X||Oe!==ve)&&ye.push(new p.i8(new O.q(Ee,X),new O.q(Oe,ve))),!We)break;X=We.x,ve=We.y,We=We.prev}return ye.reverse(),new p.KU(ye,!1)}}class a{constructor(Q,ie,te,se){this.prev=Q,this.x=ie,this.y=te,this.length=se}}class r{constructor(){this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}get(Q){return Q<0?(Q=-Q-1,this.negativeArr[Q]):this.positiveArr[Q]}set(Q,ie){if(Q<0){if(Q=-Q-1,Q>=this.negativeArr.length){const te=this.negativeArr;this.negativeArr=new Int32Array(te.length*2),this.negativeArr.set(te)}this.negativeArr[Q]=ie}else{if(Q>=this.positiveArr.length){const te=this.positiveArr;this.positiveArr=new Int32Array(te.length*2),this.positiveArr.set(te)}this.positiveArr[Q]=ie}}}class i{constructor(){this.positiveArr=[],this.negativeArr=[]}get(Q){return Q<0?(Q=-Q-1,this.negativeArr[Q]):this.positiveArr[Q]}set(Q,ie){Q<0?(Q=-Q-1,this.negativeArr[Q]=ie):this.positiveArr[Q]=ie}}var n=e(83987),c=e(15864),u=e(79138),l=e(93895);class D{constructor(Q,ie,te){this.lines=Q,this.considerWhitespaceChanges=te,this.elements=[],this.firstCharOffsetByLine=[],this.additionalOffsetByLine=[];let se=!1;ie.start>0&&ie.endExclusive>=Q.length&&(ie=new O.q(ie.start-1,ie.endExclusive),se=!0),this.lineRange=ie,this.firstCharOffsetByLine[0]=0;for(let ne=this.lineRange.start;ne<this.lineRange.endExclusive;ne++){let ee=Q[ne],re=0;if(se)re=ee.length,ee="",se=!1;else if(!te){const he=ee.trimStart();re=ee.length-he.length,ee=he.trimEnd()}this.additionalOffsetByLine.push(re);for(let he=0;he<ee.length;he++)this.elements.push(ee.charCodeAt(he));ne<Q.length-1&&(this.elements.push(10),this.firstCharOffsetByLine[ne-this.lineRange.start+1]=this.elements.length)}this.additionalOffsetByLine.push(0)}toString(){return`Slice: "${this.text}"`}get text(){return this.getText(new O.q(0,this.length))}getText(Q){return this.elements.slice(Q.start,Q.endExclusive).map(ie=>String.fromCharCode(ie)).join("")}getElement(Q){return this.elements[Q]}get length(){return this.elements.length}getBoundaryScore(Q){const ie=_(Q>0?this.elements[Q-1]:-1),te=_(Q<this.elements.length?this.elements[Q]:-1);if(ie===7&&te===8)return 0;if(ie===8)return 150;let se=0;return ie!==te&&(se+=10,ie===0&&te===1&&(se+=1)),se+=C(ie),se+=C(te),se}translateOffset(Q){if(this.lineRange.isEmpty)return new l.L(this.lineRange.start+1,1);const ie=(0,c.Jw)(this.firstCharOffsetByLine,te=>te<=Q);return new l.L(this.lineRange.start+ie+1,Q-this.firstCharOffsetByLine[ie]+this.additionalOffsetByLine[ie]+1)}translateRange(Q){return S.e.fromPositions(this.translateOffset(Q.start),this.translateOffset(Q.endExclusive))}findWordContaining(Q){if(Q<0||Q>=this.elements.length||!f(this.elements[Q]))return;let ie=Q;for(;ie>0&&f(this.elements[ie-1]);)ie--;let te=Q;for(;te<this.elements.length&&f(this.elements[te]);)te++;return new O.q(ie,te)}countLinesIn(Q){return this.translateOffset(Q.endExclusive).lineNumber-this.translateOffset(Q.start).lineNumber}isStronglyEqual(Q,ie){return this.elements[Q]===this.elements[ie]}extendToFullLines(Q){var ie,te;const se=(ie=(0,c.ti)(this.firstCharOffsetByLine,ee=>ee<=Q.start))!==null&&ie!==void 0?ie:0,ne=(te=(0,c.cn)(this.firstCharOffsetByLine,ee=>Q.endExclusive<=ee))!==null&&te!==void 0?te:this.elements.length;return new O.q(se,ne)}}function f(H){return H>=97&&H<=122||H>=65&&H<=90||H>=48&&H<=57}const y={0:0,1:0,2:0,3:10,4:2,5:30,6:3,7:10,8:10};function C(H){return y[H]}function _(H){return H===10?8:H===13?7:R(H)?6:H>=97&&H<=122?0:H>=65&&H<=90?1:H>=48&&H<=57?2:H===-1?3:H===44||H===59?5:4}function N(H,Q,ie,te,se,ne){let{moves:ee,excludedChanges:re}=k(H,Q,ie,ne);if(!ne.isValid())return[];const he=H.filter(we=>!re.has(we)),M=V(he,te,se,Q,ie,ne);return(0,o.vA)(ee,M),ee=Z(ee),ee=ee.filter(we=>{const We=we.original.toOffsetRange().slice(Q).map(X=>X.trim());return We.join(`
`).length>=15&&b(We,X=>X.length>=2)>=2}),ee=z(H,ee),ee}function b(H,Q){let ie=0;for(const te of H)Q(te)&&ie++;return ie}function k(H,Q,ie,te){const se=[],ne=H.filter(he=>he.modified.isEmpty&&he.original.length>=3).map(he=>new w(he.original,Q,he)),ee=new Set(H.filter(he=>he.original.isEmpty&&he.modified.length>=3).map(he=>new w(he.modified,ie,he))),re=new Set;for(const he of ne){let M=-1,we;for(const We of ee){const ye=he.computeSimilarity(We);ye>M&&(M=ye,we=We)}if(M>.9&&we&&(ee.delete(we),se.push(new n.f0(he.range,we.range)),re.add(he.source),re.add(we.source)),!te.isValid())return{moves:se,excludedChanges:re}}return{moves:se,excludedChanges:re}}function V(H,Q,ie,te,se,ne){const ee=[],re=new u.ri;for(const ye of H)for(let X=ye.original.startLineNumber;X<ye.original.endLineNumberExclusive-2;X++){const ve=`${Q[X-1]}:${Q[X+1-1]}:${Q[X+2-1]}`;re.add(ve,{range:new x.z(X,X+3)})}const he=[];H.sort((0,o.tT)(ye=>ye.modified.startLineNumber,o.fv));for(const ye of H){let X=[];for(let ve=ye.modified.startLineNumber;ve<ye.modified.endLineNumberExclusive-2;ve++){const Ee=`${ie[ve-1]}:${ie[ve+1-1]}:${ie[ve+2-1]}`,Oe=new x.z(ve,ve+3),Ke=[];re.forEach(Ee,({range:Qe})=>{for(const $ of X)if($.originalLineRange.endLineNumberExclusive+1===Qe.endLineNumberExclusive&&$.modifiedLineRange.endLineNumberExclusive+1===Oe.endLineNumberExclusive){$.originalLineRange=new x.z($.originalLineRange.startLineNumber,Qe.endLineNumberExclusive),$.modifiedLineRange=new x.z($.modifiedLineRange.startLineNumber,Oe.endLineNumberExclusive),Ke.push($);return}const fe={modifiedLineRange:Oe,originalLineRange:Qe};he.push(fe),Ke.push(fe)}),X=Ke}if(!ne.isValid())return[]}he.sort((0,o.BV)((0,o.tT)(ye=>ye.modifiedLineRange.length,o.fv)));const M=new x.i,we=new x.i;for(const ye of he){const X=ye.modifiedLineRange.startLineNumber-ye.originalLineRange.startLineNumber,ve=M.subtractFrom(ye.modifiedLineRange),Ee=we.subtractFrom(ye.originalLineRange).getWithDelta(X),Oe=ve.getIntersection(Ee);for(const Ke of Oe.ranges){if(Ke.length<3)continue;const Qe=Ke,fe=Ke.delta(-X);ee.push(new n.f0(fe,Qe)),M.addRange(Qe),we.addRange(fe)}}ee.sort((0,o.tT)(ye=>ye.original.startLineNumber,o.fv));const We=new c.b1(H);for(let ye=0;ye<ee.length;ye++){const X=ee[ye],ve=We.findLastMonotonous(De=>De.original.startLineNumber<=X.original.startLineNumber),Ee=(0,c.ti)(H,De=>De.modified.startLineNumber<=X.modified.startLineNumber),Oe=Math.max(X.original.startLineNumber-ve.original.startLineNumber,X.modified.startLineNumber-Ee.modified.startLineNumber),Ke=We.findLastMonotonous(De=>De.original.startLineNumber<X.original.endLineNumberExclusive),Qe=(0,c.ti)(H,De=>De.modified.startLineNumber<X.modified.endLineNumberExclusive),fe=Math.max(Ke.original.endLineNumberExclusive-X.original.endLineNumberExclusive,Qe.modified.endLineNumberExclusive-X.modified.endLineNumberExclusive);let $;for($=0;$<Oe;$++){const De=X.original.startLineNumber-$-1,xe=X.modified.startLineNumber-$-1;if(De>te.length||xe>se.length||M.contains(xe)||we.contains(De)||!K(te[De-1],se[xe-1],ne))break}$>0&&(we.addRange(new x.z(X.original.startLineNumber-$,X.original.startLineNumber)),M.addRange(new x.z(X.modified.startLineNumber-$,X.modified.startLineNumber)));let le;for(le=0;le<fe;le++){const De=X.original.endLineNumberExclusive+le,xe=X.modified.endLineNumberExclusive+le;if(De>te.length||xe>se.length||M.contains(xe)||we.contains(De)||!K(te[De-1],se[xe-1],ne))break}le>0&&(we.addRange(new x.z(X.original.endLineNumberExclusive,X.original.endLineNumberExclusive+le)),M.addRange(new x.z(X.modified.endLineNumberExclusive,X.modified.endLineNumberExclusive+le))),($>0||le>0)&&(ee[ye]=new n.f0(new x.z(X.original.startLineNumber-$,X.original.endLineNumberExclusive+le),new x.z(X.modified.startLineNumber-$,X.modified.endLineNumberExclusive+le)))}return ee}function K(H,Q,ie){if(H.trim()===Q.trim())return!0;if(H.length>300&&Q.length>300)return!1;const se=new g().compute(new D([H],new O.q(0,1),!1),new D([Q],new O.q(0,1),!1),ie);let ne=0;const ee=p.i8.invert(se.diffs,H.length);for(const we of ee)we.seq1Range.forEach(We=>{R(H.charCodeAt(We))||ne++});function re(we){let We=0;for(let ye=0;ye<H.length;ye++)R(we.charCodeAt(ye))||We++;return We}const he=re(H.length>Q.length?H:Q);return ne/he>.6&&he>10}function Z(H){if(H.length===0)return H;H.sort((0,o.tT)(ie=>ie.original.startLineNumber,o.fv));const Q=[H[0]];for(let ie=1;ie<H.length;ie++){const te=Q[Q.length-1],se=H[ie],ne=se.original.startLineNumber-te.original.endLineNumberExclusive,ee=se.modified.startLineNumber-te.modified.endLineNumberExclusive;if(ne>=0&&ee>=0&&ne+ee<=2){Q[Q.length-1]=te.join(se);continue}Q.push(se)}return Q}function z(H,Q){const ie=new c.b1(H);return Q=Q.filter(te=>{const se=ie.findLastMonotonous(re=>re.original.startLineNumber<te.original.endLineNumberExclusive)||new n.f0(new x.z(1,1),new x.z(1,1)),ne=(0,c.ti)(H,re=>re.modified.startLineNumber<te.modified.endLineNumberExclusive);return se!==ne}),Q}var A=e(93657);class P{constructor(Q,ie){this.trimmedHash=Q,this.lines=ie}getElement(Q){return this.trimmedHash[Q]}get length(){return this.trimmedHash.length}getBoundaryScore(Q){const ie=Q===0?0:I(this.lines[Q-1]),te=Q===this.lines.length?0:I(this.lines[Q]);return 1e3-(ie+te)}getText(Q){return this.lines.slice(Q.start,Q.endExclusive).join(`
`)}isStronglyEqual(Q,ie){return this.lines[Q]===this.lines[ie]}}function I(H){let Q=0;for(;Q<H.length&&(H.charCodeAt(Q)===32||H.charCodeAt(Q)===9);)Q++;return Q}var W=e(57628);class G{constructor(){this.dynamicProgrammingDiffing=new m,this.myersDiffingAlgorithm=new g}computeDiff(Q,ie,te){if(Q.length<=1&&(0,o.fS)(Q,ie,(le,De)=>le===De))return new W.h([],[],!1);if(Q.length===1&&Q[0].length===0||ie.length===1&&ie[0].length===0)return new W.h([new n.gB(new x.z(1,Q.length+1),new x.z(1,ie.length+1),[new n.iy(new S.e(1,1,Q.length,Q[Q.length-1].length+1),new S.e(1,1,ie.length,ie[ie.length-1].length+1))])],[],!1);const se=te.maxComputationTimeMs===0?p.n0.instance:new p.NT(te.maxComputationTimeMs),ne=!te.ignoreTrimWhitespace,ee=new Map;function re(le){let De=ee.get(le);return De===void 0&&(De=ee.size,ee.set(le,De)),De}const he=Q.map(le=>re(le.trim())),M=ie.map(le=>re(le.trim())),we=new P(he,Q),We=new P(M,ie),ye=we.length+We.length<1700?this.dynamicProgrammingDiffing.compute(we,We,se,(le,De)=>Q[le]===ie[De]?ie[De].length===0?.1:1+Math.log(1+ie[De].length):.99):this.myersDiffingAlgorithm.compute(we,We);let X=ye.diffs,ve=ye.hitTimeout;X=(0,A.xG)(we,We,X),X=(0,A.rh)(we,We,X);const Ee=[],Oe=le=>{if(ne)for(let De=0;De<le;De++){const xe=Ke+De,Ce=Qe+De;if(Q[xe]!==ie[Ce]){const me=this.refineDiff(Q,ie,new p.i8(new O.q(xe,xe+1),new O.q(Ce,Ce+1)),se,ne);for(const be of me.mappings)Ee.push(be);me.hitTimeout&&(ve=!0)}}};let Ke=0,Qe=0;for(const le of X){(0,B.eZ)(()=>le.seq1Range.start-Ke===le.seq2Range.start-Qe);const De=le.seq1Range.start-Ke;Oe(De),Ke=le.seq1Range.endExclusive,Qe=le.seq2Range.endExclusive;const xe=this.refineDiff(Q,ie,le,se,ne);xe.hitTimeout&&(ve=!0);for(const Ce of xe.mappings)Ee.push(Ce)}Oe(Q.length-Ke);const fe=j(Ee,Q,ie);let $=[];return te.computeMoves&&($=this.computeMoves(fe,Q,ie,he,M,se,ne)),(0,B.eZ)(()=>{function le(xe,Ce){if(xe.lineNumber<1||xe.lineNumber>Ce.length)return!1;const me=Ce[xe.lineNumber-1];return!(xe.column<1||xe.column>me.length+1)}function De(xe,Ce){return!(xe.startLineNumber<1||xe.startLineNumber>Ce.length+1||xe.endLineNumberExclusive<1||xe.endLineNumberExclusive>Ce.length+1)}for(const xe of fe){if(!xe.innerChanges)return!1;for(const Ce of xe.innerChanges)if(!(le(Ce.modifiedRange.getStartPosition(),ie)&&le(Ce.modifiedRange.getEndPosition(),ie)&&le(Ce.originalRange.getStartPosition(),Q)&&le(Ce.originalRange.getEndPosition(),Q)))return!1;if(!De(xe.modified,ie)||!De(xe.original,Q))return!1}return!0}),new W.h(fe,$,ve)}computeMoves(Q,ie,te,se,ne,ee,re){return N(Q,ie,te,se,ne,ee).map(we=>{const We=this.refineDiff(ie,te,new p.i8(we.original.toOffsetRange(),we.modified.toOffsetRange()),ee,re),ye=j(We.mappings,ie,te,!0);return new W.y(we,ye)})}refineDiff(Q,ie,te,se,ne){const ee=new D(Q,te.seq1Range,ne),re=new D(ie,te.seq2Range,ne),he=ee.length+re.length<500?this.dynamicProgrammingDiffing.compute(ee,re,se):this.myersDiffingAlgorithm.compute(ee,re,se);let M=he.diffs;return M=(0,A.xG)(ee,re,M),M=(0,A.g0)(ee,re,M),M=(0,A.oK)(ee,re,M),M=(0,A.DI)(ee,re,M),{mappings:M.map(We=>new n.iy(ee.translateRange(We.seq1Range),re.translateRange(We.seq2Range))),hitTimeout:he.hitTimeout}}}function j(H,Q,ie,te=!1){const se=[];for(const ne of(0,o.mw)(H.map(ee=>Y(ee,Q,ie)),(ee,re)=>ee.original.overlapOrTouch(re.original)||ee.modified.overlapOrTouch(re.modified))){const ee=ne[0],re=ne[ne.length-1];se.push(new n.gB(ee.original.join(re.original),ee.modified.join(re.modified),ne.map(he=>he.innerChanges[0])))}return(0,B.eZ)(()=>!te&&se.length>0&&(se[0].modified.startLineNumber!==se[0].original.startLineNumber||ie.length-se[se.length-1].modified.endLineNumberExclusive!==Q.length-se[se.length-1].original.endLineNumberExclusive)?!1:(0,B.DM)(se,(ne,ee)=>ee.original.startLineNumber-ne.original.endLineNumberExclusive===ee.modified.startLineNumber-ne.modified.endLineNumberExclusive&&ne.original.endLineNumberExclusive<ee.original.startLineNumber&&ne.modified.endLineNumberExclusive<ee.modified.startLineNumber)),se}function Y(H,Q,ie){let te=0,se=0;H.modifiedRange.endColumn===1&&H.originalRange.endColumn===1&&H.originalRange.startLineNumber+te<=H.originalRange.endLineNumber&&H.modifiedRange.startLineNumber+te<=H.modifiedRange.endLineNumber&&(se=-1),H.modifiedRange.startColumn-1>=ie[H.modifiedRange.startLineNumber-1].length&&H.originalRange.startColumn-1>=Q[H.originalRange.startLineNumber-1].length&&H.originalRange.startLineNumber<=H.originalRange.endLineNumber+se&&H.modifiedRange.startLineNumber<=H.modifiedRange.endLineNumber+se&&(te=1);const ne=new x.z(H.originalRange.startLineNumber+te,H.originalRange.endLineNumber+1+se),ee=new x.z(H.modifiedRange.startLineNumber+te,H.modifiedRange.endLineNumber+1+se);return new n.gB(ne,ee,[H])}},93657:function(et,Le,e){"use strict";e.d(Le,{DI:function(){return a},g0:function(){return w},oK:function(){return R},rh:function(){return g},xG:function(){return O}});var o=e(71221),B=e(98718),x=e(50183);function O(r,i,n){let c=n;return c=S(r,i,c),c=S(r,i,c),c=p(r,i,c),c}function S(r,i,n){if(n.length===0)return n;const c=[];c.push(n[0]);for(let l=1;l<n.length;l++){const D=c[c.length-1];let f=n[l];if(f.seq1Range.isEmpty||f.seq2Range.isEmpty){const y=f.seq1Range.start-D.seq1Range.endExclusive;let C;for(C=1;C<=y&&!(r.getElement(f.seq1Range.start-C)!==r.getElement(f.seq1Range.endExclusive-C)||i.getElement(f.seq2Range.start-C)!==i.getElement(f.seq2Range.endExclusive-C));C++);if(C--,C===y){c[c.length-1]=new x.i8(new B.q(D.seq1Range.start,f.seq1Range.endExclusive-y),new B.q(D.seq2Range.start,f.seq2Range.endExclusive-y));continue}f=f.delta(-C)}c.push(f)}const u=[];for(let l=0;l<c.length-1;l++){const D=c[l+1];let f=c[l];if(f.seq1Range.isEmpty||f.seq2Range.isEmpty){const y=D.seq1Range.start-f.seq1Range.endExclusive;let C;for(C=0;C<y&&!(!r.isStronglyEqual(f.seq1Range.start+C,f.seq1Range.endExclusive+C)||!i.isStronglyEqual(f.seq2Range.start+C,f.seq2Range.endExclusive+C));C++);if(C===y){c[l+1]=new x.i8(new B.q(f.seq1Range.start+y,D.seq1Range.endExclusive),new B.q(f.seq2Range.start+y,D.seq2Range.endExclusive));continue}C>0&&(f=f.delta(C))}u.push(f)}return c.length>0&&u.push(c[c.length-1]),u}function p(r,i,n){if(!r.getBoundaryScore||!i.getBoundaryScore)return n;for(let c=0;c<n.length;c++){const u=c>0?n[c-1]:void 0,l=n[c],D=c+1<n.length?n[c+1]:void 0,f=new B.q(u?u.seq1Range.endExclusive+1:0,D?D.seq1Range.start-1:r.length),y=new B.q(u?u.seq2Range.endExclusive+1:0,D?D.seq2Range.start-1:i.length);l.seq1Range.isEmpty?n[c]=E(l,r,i,f,y):l.seq2Range.isEmpty&&(n[c]=E(l.swap(),i,r,y,f).swap())}return n}function E(r,i,n,c,u){let D=1;for(;r.seq1Range.start-D>=c.start&&r.seq2Range.start-D>=u.start&&n.isStronglyEqual(r.seq2Range.start-D,r.seq2Range.endExclusive-D)&&D<100;)D++;D--;let f=0;for(;r.seq1Range.start+f<c.endExclusive&&r.seq2Range.endExclusive+f<u.endExclusive&&n.isStronglyEqual(r.seq2Range.start+f,r.seq2Range.endExclusive+f)&&f<100;)f++;if(D===0&&f===0)return r;let y=0,C=-1;for(let _=-D;_<=f;_++){const N=r.seq2Range.start+_,b=r.seq2Range.endExclusive+_,k=r.seq1Range.start+_,V=i.getBoundaryScore(k)+n.getBoundaryScore(N)+n.getBoundaryScore(b);V>C&&(C=V,y=_)}return r.delta(y)}function R(r,i,n){const c=[];for(const u of n){const l=c[c.length-1];if(!l){c.push(u);continue}u.seq1Range.start-l.seq1Range.endExclusive<=2||u.seq2Range.start-l.seq2Range.endExclusive<=2?c[c.length-1]=new x.i8(l.seq1Range.join(u.seq1Range),l.seq2Range.join(u.seq2Range)):c.push(u)}return c}function w(r,i,n){const c=x.i8.invert(n,r.length),u=[];let l=new x.zl(0,0);function D(y,C){if(y.offset1<l.offset1||y.offset2<l.offset2)return;const _=r.findWordContaining(y.offset1),N=i.findWordContaining(y.offset2);if(!_||!N)return;let b=new x.i8(_,N);const k=b.intersect(C);let V=k.seq1Range.length,K=k.seq2Range.length;for(;c.length>0;){const Z=c[0];if(!(Z.seq1Range.intersects(b.seq1Range)||Z.seq2Range.intersects(b.seq2Range)))break;const A=r.findWordContaining(Z.seq1Range.start),P=i.findWordContaining(Z.seq2Range.start),I=new x.i8(A,P),W=I.intersect(Z);if(V+=W.seq1Range.length,K+=W.seq2Range.length,b=b.join(I),b.seq1Range.endExclusive>=Z.seq1Range.endExclusive)c.shift();else break}V+K<(b.seq1Range.length+b.seq2Range.length)*2/3&&u.push(b),l=b.getEndExclusives()}for(;c.length>0;){const y=c.shift();y.seq1Range.isEmpty||(D(y.getStarts(),y),D(y.getEndExclusives().delta(-1),y))}return m(n,u)}function m(r,i){const n=[];for(;r.length>0||i.length>0;){const c=r[0],u=i[0];let l;c&&(!u||c.seq1Range.start<u.seq1Range.start)?l=r.shift():l=i.shift(),n.length>0&&n[n.length-1].seq1Range.endExclusive>=l.seq1Range.start?n[n.length-1]=n[n.length-1].join(l):n.push(l)}return n}function g(r,i,n){let c=n;if(c.length===0)return c;let u=0,l;do{l=!1;const D=[c[0]];for(let f=1;f<c.length;f++){let _=function(b,k){const V=new B.q(C.seq1Range.endExclusive,y.seq1Range.start);return r.getText(V).replace(/\s/g,"").length<=4&&(b.seq1Range.length+b.seq2Range.length>5||k.seq1Range.length+k.seq2Range.length>5)};const y=c[f],C=D[D.length-1];_(C,y)?(l=!0,D[D.length-1]=D[D.length-1].join(y)):D.push(y)}c=D}while(u++<10&&l);return c}function a(r,i,n){let c=n;if(c.length===0)return c;let u=0,l;do{l=!1;const f=[c[0]];for(let y=1;y<c.length;y++){let N=function(k,V){const K=new B.q(_.seq1Range.endExclusive,C.seq1Range.start);if(r.countLinesIn(K)>5||K.length>500)return!1;const z=r.getText(K).trim();if(z.length>20||z.split(/\r\n|\r|\n/).length>1)return!1;const A=r.countLinesIn(k.seq1Range),P=k.seq1Range.length,I=i.countLinesIn(k.seq2Range),W=k.seq2Range.length,G=r.countLinesIn(V.seq1Range),j=V.seq1Range.length,Y=i.countLinesIn(V.seq2Range),H=V.seq2Range.length,Q=2*40+50;function ie(te){return Math.min(te,Q)}return Math.pow(Math.pow(ie(A*40+P),1.5)+Math.pow(ie(I*40+W),1.5),1.5)+Math.pow(Math.pow(ie(G*40+j),1.5)+Math.pow(ie(Y*40+H),1.5),1.5)>Ao(Ao(Q,1.5),1.5)*1.3};const C=c[y],_=f[f.length-1];N(_,C)?(l=!0,f[f.length-1]=f[f.length-1].join(C)):f.push(C)}c=f}while(u++<10&&l);const D=[];return(0,o.KO)(c,(f,y,C)=>{let _=y;function N(z){return z.length>0&&z.trim().length<=3&&y.seq1Range.length+y.seq2Range.length>100}const b=r.extendToFullLines(y.seq1Range),k=r.getText(new B.q(b.start,y.seq1Range.start));N(k)&&(_=_.deltaStart(-k.length));const V=r.getText(new B.q(y.seq1Range.endExclusive,b.endExclusive));N(V)&&(_=_.deltaEnd(V.length));const K=x.i8.fromOffsetPairs(f?f.getEndExclusives():x.zl.zero,C?C.getStarts():x.zl.max),Z=_.intersect(K);D.length>0&&Z.getStarts().equals(D[D.length-1].getEndExclusives())?D[D.length-1]=D[D.length-1].join(Z):D.push(Z)}),D}},57628:function(et,Le,e){"use strict";e.d(Le,{h:function(){return o},y:function(){return B}});class o{constructor(O,S,p){this.changes=O,this.moves=S,this.hitTimeout=p}}class B{constructor(O,S){this.lineRangeMapping=O,this.changes=S}}},83987:function(et,Le,e){"use strict";e.d(Le,{f0:function(){return S},gB:function(){return p},iy:function(){return E}});var o=e(25602),B=e(56348),x=e(4694),O=e(43281);class S{static inverse(w,m,g){const a=[];let r=1,i=1;for(const c of w){const u=new S(new B.z(r,c.original.startLineNumber),new B.z(i,c.modified.startLineNumber));u.modified.isEmpty||a.push(u),r=c.original.endLineNumberExclusive,i=c.modified.endLineNumberExclusive}const n=new S(new B.z(r,m+1),new B.z(i,g+1));return n.modified.isEmpty||a.push(n),a}static clip(w,m,g){const a=[];for(const r of w){const i=r.original.intersect(m),n=r.modified.intersect(g);i&&!i.isEmpty&&n&&!n.isEmpty&&a.push(new S(i,n))}return a}constructor(w,m){this.original=w,this.modified=m}toString(){return`{${this.original.toString()}->${this.modified.toString()}}`}flip(){return new S(this.modified,this.original)}join(w){return new S(this.original.join(w.original),this.modified.join(w.modified))}toRangeMapping(){const w=this.original.toInclusiveRange(),m=this.modified.toInclusiveRange();if(w&&m)return new E(w,m);if(this.original.startLineNumber===1||this.modified.startLineNumber===1){if(!(this.modified.startLineNumber===1&&this.original.startLineNumber===1))throw new o.he("not a valid diff");return new E(new x.e(this.original.startLineNumber,1,this.original.endLineNumberExclusive,1),new x.e(this.modified.startLineNumber,1,this.modified.endLineNumberExclusive,1))}else return new E(new x.e(this.original.startLineNumber-1,Number.MAX_SAFE_INTEGER,this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),new x.e(this.modified.startLineNumber-1,Number.MAX_SAFE_INTEGER,this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER))}}class p extends S{static fromRangeMappings(w){const m=B.z.join(w.map(a=>B.z.fromRangeInclusive(a.originalRange))),g=B.z.join(w.map(a=>B.z.fromRangeInclusive(a.modifiedRange)));return new p(m,g,w)}constructor(w,m,g){super(w,m),this.innerChanges=g}flip(){var w;return new p(this.modified,this.original,(w=this.innerChanges)===null||w===void 0?void 0:w.map(m=>m.flip()))}withInnerChangesFromLineRanges(){return new p(this.original,this.modified,[this.toRangeMapping()])}}class E{constructor(w,m){this.originalRange=w,this.modifiedRange=m}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}flip(){return new E(this.modifiedRange,this.originalRange)}toTextEdit(w){const m=w.getValueOfRange(this.modifiedRange);return new O.At(this.originalRange,m)}}},70654:function(et,Le,e){"use strict";e.d(Le,{p:function(){return o}});class o{constructor(x,O,S,p,E,R,w){this.id=x,this.label=O,this.alias=S,this.metadata=p,this._precondition=E,this._run=R,this._contextKeyService=w}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(x){return this.isSupported()?this._run(x):Promise.resolve(void 0)}}},51525:function(et,Le,e){"use strict";e.d(Le,{g:function(){return o}});const o={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}},22706:function(et,Le,e){"use strict";e.d(Le,{u:function(){return x}});var o=e(61652),B=e(80568),x;(function(O){O.editorSimpleInput=new B.uy("editorSimpleInput",!1,!0),O.editorTextFocus=new B.uy("editorTextFocus",!1,o.NC("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),O.focus=new B.uy("editorFocus",!1,o.NC("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),O.textInputFocus=new B.uy("textInputFocus",!1,o.NC("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),O.readOnly=new B.uy("editorReadonly",!1,o.NC("editorReadonly","Whether the editor is read-only")),O.inDiffEditor=new B.uy("inDiffEditor",!1,o.NC("inDiffEditor","Whether the context is a diff editor")),O.isEmbeddedDiffEditor=new B.uy("isEmbeddedDiffEditor",!1,o.NC("isEmbeddedDiffEditor","Whether the context is an embedded diff editor")),O.inMultiDiffEditor=new B.uy("inMultiDiffEditor",!1,o.NC("inMultiDiffEditor","Whether the context is a multi diff editor")),O.multiDiffEditorAllCollapsed=new B.uy("multiDiffEditorAllCollapsed",void 0,o.NC("multiDiffEditorAllCollapsed","Whether all files in multi diff editor are collapsed")),O.hasChanges=new B.uy("diffEditorHasChanges",!1,o.NC("diffEditorHasChanges","Whether the diff editor has changes")),O.comparingMovedCode=new B.uy("comparingMovedCode",!1,o.NC("comparingMovedCode","Whether a moved code block is selected for comparison")),O.accessibleDiffViewerVisible=new B.uy("accessibleDiffViewerVisible",!1,o.NC("accessibleDiffViewerVisible","Whether the accessible diff viewer is visible")),O.diffEditorRenderSideBySideInlineBreakpointReached=new B.uy("diffEditorRenderSideBySideInlineBreakpointReached",!1,o.NC("diffEditorRenderSideBySideInlineBreakpointReached","Whether the diff editor render side by side inline breakpoint is reached")),O.diffEditorInlineMode=new B.uy("diffEditorInlineMode",!1,o.NC("diffEditorInlineMode","Whether inline mode is active")),O.diffEditorOriginalWritable=new B.uy("diffEditorOriginalWritable",!1,o.NC("diffEditorOriginalWritable","Whether modified is writable in the diff editor")),O.diffEditorModifiedWritable=new B.uy("diffEditorModifiedWritable",!1,o.NC("diffEditorModifiedWritable","Whether modified is writable in the diff editor")),O.diffEditorOriginalUri=new B.uy("diffEditorOriginalUri","",o.NC("diffEditorOriginalUri","The uri of the original document")),O.diffEditorModifiedUri=new B.uy("diffEditorModifiedUri","",o.NC("diffEditorModifiedUri","The uri of the modified document")),O.columnSelection=new B.uy("editorColumnSelection",!1,o.NC("editorColumnSelection","Whether `editor.columnSelection` is enabled")),O.writable=O.readOnly.toNegated(),O.hasNonEmptySelection=new B.uy("editorHasSelection",!1,o.NC("editorHasSelection","Whether the editor has text selected")),O.hasOnlyEmptySelection=O.hasNonEmptySelection.toNegated(),O.hasMultipleSelections=new B.uy("editorHasMultipleSelections",!1,o.NC("editorHasMultipleSelections","Whether the editor has multiple selections")),O.hasSingleSelection=O.hasMultipleSelections.toNegated(),O.tabMovesFocus=new B.uy("editorTabMovesFocus",!1,o.NC("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),O.tabDoesNotMoveFocus=O.tabMovesFocus.toNegated(),O.isInEmbeddedEditor=new B.uy("isInEmbeddedEditor",!1,!0),O.canUndo=new B.uy("canUndo",!1,!0),O.canRedo=new B.uy("canRedo",!1,!0),O.hoverVisible=new B.uy("editorHoverVisible",!1,o.NC("editorHoverVisible","Whether the editor hover is visible")),O.hoverFocused=new B.uy("editorHoverFocused",!1,o.NC("editorHoverFocused","Whether the editor hover is focused")),O.stickyScrollFocused=new B.uy("stickyScrollFocused",!1,o.NC("stickyScrollFocused","Whether the sticky scroll is focused")),O.stickyScrollVisible=new B.uy("stickyScrollVisible",!1,o.NC("stickyScrollVisible","Whether the sticky scroll is visible")),O.standaloneColorPickerVisible=new B.uy("standaloneColorPickerVisible",!1,o.NC("standaloneColorPickerVisible","Whether the standalone color picker is visible")),O.standaloneColorPickerFocused=new B.uy("standaloneColorPickerFocused",!1,o.NC("standaloneColorPickerFocused","Whether the standalone color picker is focused")),O.inCompositeEditor=new B.uy("inCompositeEditor",void 0,o.NC("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),O.notInCompositeEditor=O.inCompositeEditor.toNegated(),O.languageId=new B.uy("editorLangId","",o.NC("editorLangId","The language identifier of the editor")),O.hasCompletionItemProvider=new B.uy("editorHasCompletionItemProvider",!1,o.NC("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),O.hasCodeActionsProvider=new B.uy("editorHasCodeActionsProvider",!1,o.NC("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),O.hasCodeLensProvider=new B.uy("editorHasCodeLensProvider",!1,o.NC("editorHasCodeLensProvider","Whether the editor has a code lens provider")),O.hasDefinitionProvider=new B.uy("editorHasDefinitionProvider",!1,o.NC("editorHasDefinitionProvider","Whether the editor has a definition provider")),O.hasDeclarationProvider=new B.uy("editorHasDeclarationProvider",!1,o.NC("editorHasDeclarationProvider","Whether the editor has a declaration provider")),O.hasImplementationProvider=new B.uy("editorHasImplementationProvider",!1,o.NC("editorHasImplementationProvider","Whether the editor has an implementation provider")),O.hasTypeDefinitionProvider=new B.uy("editorHasTypeDefinitionProvider",!1,o.NC("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),O.hasHoverProvider=new B.uy("editorHasHoverProvider",!1,o.NC("editorHasHoverProvider","Whether the editor has a hover provider")),O.hasDocumentHighlightProvider=new B.uy("editorHasDocumentHighlightProvider",!1,o.NC("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),O.hasDocumentSymbolProvider=new B.uy("editorHasDocumentSymbolProvider",!1,o.NC("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),O.hasReferenceProvider=new B.uy("editorHasReferenceProvider",!1,o.NC("editorHasReferenceProvider","Whether the editor has a reference provider")),O.hasRenameProvider=new B.uy("editorHasRenameProvider",!1,o.NC("editorHasRenameProvider","Whether the editor has a rename provider")),O.hasSignatureHelpProvider=new B.uy("editorHasSignatureHelpProvider",!1,o.NC("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),O.hasInlayHintsProvider=new B.uy("editorHasInlayHintsProvider",!1,o.NC("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),O.hasDocumentFormattingProvider=new B.uy("editorHasDocumentFormattingProvider",!1,o.NC("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),O.hasDocumentSelectionFormattingProvider=new B.uy("editorHasDocumentSelectionFormattingProvider",!1,o.NC("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),O.hasMultipleDocumentFormattingProvider=new B.uy("editorHasMultipleDocumentFormattingProvider",!1,o.NC("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),O.hasMultipleDocumentSelectionFormattingProvider=new B.uy("editorHasMultipleDocumentSelectionFormattingProvider",!1,o.NC("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))})(x||(x={}))},52709:function(et,Le,e){"use strict";e.d(Le,{n:function(){return x},y:function(){return B}});const o=[];function B(O){o.push(O)}function x(){return o.slice(0)}},87597:function(et,Le,e){"use strict";e.d(Le,{N:function(){return o}});class o{static getLanguageId(x){return(x&255)>>>0}static getTokenType(x){return(x&768)>>>8}static containsBalancedBrackets(x){return(x&1024)!==0}static getFontStyle(x){return(x&30720)>>>11}static getForeground(x){return(x&16744448)>>>15}static getBackground(x){return(x&4278190080)>>>24}static getClassNameFromMetadata(x){let S="mtk"+this.getForeground(x);const p=this.getFontStyle(x);return p&1&&(S+=" mtki"),p&2&&(S+=" mtkb"),p&4&&(S+=" mtku"),p&8&&(S+=" mtks"),S}static getInlineStyleFromMetadata(x,O){const S=this.getForeground(x),p=this.getFontStyle(x);let E=`color: ${O[S]};`;p&1&&(E+="font-style: italic;"),p&2&&(E+="font-weight: bold;");let R="";return p&4&&(R+=" underline"),p&8&&(R+=" line-through"),R&&(E+=`text-decoration:${R};`),E}static getPresentationFromMetadata(x){const O=this.getForeground(x),S=this.getFontStyle(x);return{foreground:O,italic:!!(S&1),bold:!!(S&2),underline:!!(S&4),strikethrough:!!(S&8)}}}},84695:function(et,Le,e){"use strict";e.d(Le,{G:function(){return x}});var o=e(17868),B=e(99620);function x(O,S,p,E,R,w){if(Array.isArray(O)){let m=0;for(const g of O){const a=x(g,S,p,E,R,w);if(a===10)return a;a>m&&(m=a)}return m}else{if(typeof O=="string")return E?O==="*"?5:O===p?10:0:0;if(O){const{language:m,pattern:g,scheme:a,hasAccessToAllModels:r,notebookType:i}=O;if(!E&&!r)return 0;i&&R&&(S=R);let n=0;if(a)if(a===S.scheme)n=10;else if(a==="*")n=5;else return 0;if(m)if(m===p)n=10;else if(m==="*")n=Math.max(n,5);else return 0;if(i)if(i===w)n=10;else if(i==="*"&&w!==void 0)n=Math.max(n,5);else return 0;if(g){let c;if(typeof g=="string"?c=g:c=Ki(vi({},g),{base:(0,B.Fv)(g.base)}),c===S.fsPath||(0,o.EQ)(c,S.fsPath))n=10;else return 0}return n}else return 0}}},91895:function(et,Le,e){"use strict";e.d(Le,{mY:function(){return V},gX:function(){return r},MY:function(){return l},Nq:function(){return c},DI:function(){return g},AD:function(){return N},bq:function(){return a},gl:function(){return K},bw:function(){return i},rn:function(){return A},MO:function(){return Z},w:function(){return b},Ll:function(){return k},ln:function(){return n},WW:function(){return u},uZ:function(){return C},WU:function(){return w},RW:function(){return z},hG:function(){return m},R4:function(){return y},vx:function(){return D}});var o=e(24752),B=e(10058),x=e(4694),O=e(79329),S=e(45029);class p{constructor(){this._tokenizationSupports=new Map,this._factories=new Map,this._onDidChange=new O.Q5,this.onDidChange=this._onDidChange.event,this._colorMap=null}handleChange(I){this._onDidChange.fire({changedLanguages:I,changedColorMap:!1})}register(I,W){return this._tokenizationSupports.set(I,W),this.handleChange([I]),(0,S.OF)(()=>{this._tokenizationSupports.get(I)===W&&(this._tokenizationSupports.delete(I),this.handleChange([I]))})}get(I){return this._tokenizationSupports.get(I)||null}registerFactory(I,W){var G;(G=this._factories.get(I))===null||G===void 0||G.dispose();const j=new E(this,I,W);return this._factories.set(I,j),(0,S.OF)(()=>{const Y=this._factories.get(I);!Y||Y!==j||(this._factories.delete(I),Y.dispose())})}getOrCreate(I){return Ft(this,null,function*(){const W=this.get(I);if(W)return W;const G=this._factories.get(I);return!G||G.isResolved?null:(yield G.resolve(),this.get(I))})}isResolved(I){if(this.get(I))return!0;const G=this._factories.get(I);return!!(!G||G.isResolved)}setColorMap(I){this._colorMap=I,this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}class E extends S.JT{get isResolved(){return this._isResolved}constructor(I,W,G){super(),this._registry=I,this._languageId=W,this._factory=G,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return Ft(this,null,function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise})}_create(){return Ft(this,null,function*(){const I=yield this._factory.tokenizationSupport;this._isResolved=!0,I&&!this._isDisposed&&this._register(this._registry.register(this._languageId,I))})}}var R=e(61652);class w{constructor(I,W,G){this.offset=I,this.type=W,this.language=G,this._tokenBrand=void 0}toString(){return"("+this.offset+", "+this.type+")"}}class m{constructor(I,W){this.tokens=I,this.endState=W,this._tokenizationResultBrand=void 0}}class g{constructor(I,W){this.tokens=I,this.endState=W,this._encodedTokenizationResultBrand=void 0}}var a;(function(P){P[P.Increase=0]="Increase",P[P.Decrease=1]="Decrease"})(a||(a={}));var r;(function(P){const I=new Map;I.set(0,o.l.symbolMethod),I.set(1,o.l.symbolFunction),I.set(2,o.l.symbolConstructor),I.set(3,o.l.symbolField),I.set(4,o.l.symbolVariable),I.set(5,o.l.symbolClass),I.set(6,o.l.symbolStruct),I.set(7,o.l.symbolInterface),I.set(8,o.l.symbolModule),I.set(9,o.l.symbolProperty),I.set(10,o.l.symbolEvent),I.set(11,o.l.symbolOperator),I.set(12,o.l.symbolUnit),I.set(13,o.l.symbolValue),I.set(15,o.l.symbolEnum),I.set(14,o.l.symbolConstant),I.set(15,o.l.symbolEnum),I.set(16,o.l.symbolEnumMember),I.set(17,o.l.symbolKeyword),I.set(27,o.l.symbolSnippet),I.set(18,o.l.symbolText),I.set(19,o.l.symbolColor),I.set(20,o.l.symbolFile),I.set(21,o.l.symbolReference),I.set(22,o.l.symbolCustomColor),I.set(23,o.l.symbolFolder),I.set(24,o.l.symbolTypeParameter),I.set(25,o.l.account),I.set(26,o.l.issues);function W(Y){let H=I.get(Y);return H||(console.info("No codicon found for CompletionItemKind "+Y),H=o.l.symbolProperty),H}P.toIcon=W;const G=new Map;G.set("method",0),G.set("function",1),G.set("constructor",2),G.set("field",3),G.set("variable",4),G.set("class",5),G.set("struct",6),G.set("interface",7),G.set("module",8),G.set("property",9),G.set("event",10),G.set("operator",11),G.set("unit",12),G.set("value",13),G.set("constant",14),G.set("enum",15),G.set("enum-member",16),G.set("enumMember",16),G.set("keyword",17),G.set("snippet",27),G.set("text",18),G.set("color",19),G.set("file",20),G.set("reference",21),G.set("customcolor",22),G.set("folder",23),G.set("type-parameter",24),G.set("typeParameter",24),G.set("account",25),G.set("issue",26);function j(Y,H){let Q=G.get(Y);return typeof Q=="undefined"&&!H&&(Q=9),Q}P.fromString=j})(r||(r={}));var i;(function(P){P[P.Automatic=0]="Automatic",P[P.Explicit=1]="Explicit"})(i||(i={}));class n{constructor(I,W,G,j){this.range=I,this.text=W,this.completionKind=G,this.isSnippetText=j}equals(I){return x.e.lift(this.range).equalsRange(I.range)&&this.text===I.text&&this.completionKind===I.completionKind&&this.isSnippetText===I.isSnippetText}}var c;(function(P){P[P.Automatic=0]="Automatic",P[P.PasteAs=1]="PasteAs"})(c||(c={}));var u;(function(P){P[P.Invoke=1]="Invoke",P[P.TriggerCharacter=2]="TriggerCharacter",P[P.ContentChange=3]="ContentChange"})(u||(u={}));var l;(function(P){P[P.Text=0]="Text",P[P.Read=1]="Read",P[P.Write=2]="Write"})(l||(l={}));function D(P){return P&&B.o.isUri(P.uri)&&x.e.isIRange(P.range)&&(x.e.isIRange(P.originSelectionRange)||x.e.isIRange(P.targetSelectionRange))}const f={17:(0,R.NC)("Array","array"),16:(0,R.NC)("Boolean","boolean"),4:(0,R.NC)("Class","class"),13:(0,R.NC)("Constant","constant"),8:(0,R.NC)("Constructor","constructor"),9:(0,R.NC)("Enum","enumeration"),21:(0,R.NC)("EnumMember","enumeration member"),23:(0,R.NC)("Event","event"),7:(0,R.NC)("Field","field"),0:(0,R.NC)("File","file"),11:(0,R.NC)("Function","function"),10:(0,R.NC)("Interface","interface"),19:(0,R.NC)("Key","key"),5:(0,R.NC)("Method","method"),1:(0,R.NC)("Module","module"),2:(0,R.NC)("Namespace","namespace"),20:(0,R.NC)("Null","null"),15:(0,R.NC)("Number","number"),18:(0,R.NC)("Object","object"),24:(0,R.NC)("Operator","operator"),3:(0,R.NC)("Package","package"),6:(0,R.NC)("Property","property"),14:(0,R.NC)("String","string"),22:(0,R.NC)("Struct","struct"),25:(0,R.NC)("TypeParameter","type parameter"),12:(0,R.NC)("Variable","variable")};function y(P,I){return(0,R.NC)("symbolAriaLabel","{0} ({1})",P,f[I])}var C;(function(P){const I=new Map;I.set(0,o.l.symbolFile),I.set(1,o.l.symbolModule),I.set(2,o.l.symbolNamespace),I.set(3,o.l.symbolPackage),I.set(4,o.l.symbolClass),I.set(5,o.l.symbolMethod),I.set(6,o.l.symbolProperty),I.set(7,o.l.symbolField),I.set(8,o.l.symbolConstructor),I.set(9,o.l.symbolEnum),I.set(10,o.l.symbolInterface),I.set(11,o.l.symbolFunction),I.set(12,o.l.symbolVariable),I.set(13,o.l.symbolConstant),I.set(14,o.l.symbolString),I.set(15,o.l.symbolNumber),I.set(16,o.l.symbolBoolean),I.set(17,o.l.symbolArray),I.set(18,o.l.symbolObject),I.set(19,o.l.symbolKey),I.set(20,o.l.symbolNull),I.set(21,o.l.symbolEnumMember),I.set(22,o.l.symbolStruct),I.set(23,o.l.symbolEvent),I.set(24,o.l.symbolOperator),I.set(25,o.l.symbolTypeParameter);function W(G){let j=I.get(G);return j||(console.info("No codicon found for SymbolKind "+G),j=o.l.symbolProperty),j}P.toIcon=W})(C||(C={}));class _{}class N{static fromValue(I){switch(I){case"comment":return N.Comment;case"imports":return N.Imports;case"region":return N.Region}return new N(I)}constructor(I){this.value=I}}N.Comment=new N("comment"),N.Imports=new N("imports"),N.Region=new N("region");var b;(function(P){P[P.AIGenerated=1]="AIGenerated"})(b||(b={}));var k;(function(P){P[P.Invoke=0]="Invoke",P[P.Automatic=1]="Automatic"})(k||(k={}));var V;(function(P){function I(W){return!W||typeof W!="object"?!1:typeof W.id=="string"&&typeof W.title=="string"}P.is=I})(V||(V={}));var K;(function(P){P[P.Type=1]="Type",P[P.Parameter=2]="Parameter"})(K||(K={}));class Z{constructor(I){this.createSupport=I,this._tokenizationSupport=null}dispose(){this._tokenizationSupport&&this._tokenizationSupport.then(I=>{I&&I.dispose()})}get tokenizationSupport(){return this._tokenizationSupport||(this._tokenizationSupport=this.createSupport()),this._tokenizationSupport}}const z=new p;var A;(function(P){P[P.Invoke=0]="Invoke",P[P.Automatic=1]="Automatic"})(A||(A={}))},25409:function(et,Le,e){"use strict";e.d(Le,{$9:function(){return w},UF:function(){return R},n8:function(){return E},r7:function(){return p},tI:function(){return m}});var o=e(30144),B=e(61031),x=e(14661),O=e(81275);function S(g,a,r){const i=g.tokenization.getLanguageIdAtPosition(a,0);if(a>1){let n,c=-1;for(n=a-1;n>=1;n--){if(g.tokenization.getLanguageIdAtPosition(n,0)!==i)return c;const u=g.getLineContent(n);if(r.shouldIgnore(u)||/^\s+$/.test(u)||u===""){c=n;continue}return n}}return-1}function p(g,a,r,i=!0,n){if(g<4)return null;const c=n.getLanguageConfiguration(a.tokenization.getLanguageId()).indentRulesSupport;if(!c)return null;if(r<=1)return{indentation:"",action:null};for(let D=r-1;D>0&&a.getLineContent(D)==="";D--)if(D===1)return{indentation:"",action:null};const u=S(a,r,c);if(u<0)return null;if(u<1)return{indentation:"",action:null};const l=a.getLineContent(u);if(c.shouldIncrease(l)||c.shouldIndentNextLine(l))return{indentation:o.V8(l),action:B.wU.Indent,line:u};if(c.shouldDecrease(l))return{indentation:o.V8(l),action:null,line:u};{if(u===1)return{indentation:o.V8(a.getLineContent(u)),action:null,line:u};const D=u-1,f=c.getIndentMetadata(a.getLineContent(D));if(!(f&3)&&f&4){let y=0;for(let C=D-1;C>0;C--)if(!c.shouldIndentNextLine(a.getLineContent(C))){y=C;break}return{indentation:o.V8(a.getLineContent(y+1)),action:null,line:y+1}}if(i)return{indentation:o.V8(a.getLineContent(u)),action:null,line:u};for(let y=u;y>0;y--){const C=a.getLineContent(y);if(c.shouldIncrease(C))return{indentation:o.V8(C),action:B.wU.Indent,line:y};if(c.shouldIndentNextLine(C)){let _=0;for(let N=y-1;N>0;N--)if(!c.shouldIndentNextLine(a.getLineContent(y))){_=N;break}return{indentation:o.V8(a.getLineContent(_+1)),action:null,line:_+1}}else if(c.shouldDecrease(C))return{indentation:o.V8(C),action:null,line:y}}return{indentation:o.V8(a.getLineContent(1)),action:null,line:1}}}function E(g,a,r,i,n,c){if(g<4)return null;const u=c.getLanguageConfiguration(r);if(!u)return null;const l=c.getLanguageConfiguration(r).indentRulesSupport;if(!l)return null;const D=p(g,a,i,void 0,c),f=a.getLineContent(i);if(D){const y=D.line;if(y!==void 0){let C=!0;for(let _=y;_<i-1;_++)if(!/^\s*$/.test(a.getLineContent(_))){C=!1;break}if(C){const _=u.onEnter(g,"",a.getLineContent(y),"");if(_){let N=o.V8(a.getLineContent(y));return _.removeText&&(N=N.substring(0,N.length-_.removeText)),_.indentAction===B.wU.Indent||_.indentAction===B.wU.IndentOutdent?N=n.shiftIndent(N):_.indentAction===B.wU.Outdent&&(N=n.unshiftIndent(N)),l.shouldDecrease(f)&&(N=n.unshiftIndent(N)),_.appendText&&(N+=_.appendText),o.V8(N)}}}return l.shouldDecrease(f)?D.action===B.wU.Indent?D.indentation:n.unshiftIndent(D.indentation):D.action===B.wU.Indent?n.shiftIndent(D.indentation):D.indentation}return null}function R(g,a,r,i,n){if(g<4)return null;a.tokenization.forceTokenization(r.startLineNumber);const c=a.tokenization.getLineTokens(r.startLineNumber),u=(0,x.wH)(c,r.startColumn-1),l=u.getLineContent();let D=!1,f;u.firstCharOffset>0&&c.getLanguageId(0)!==u.languageId?(D=!0,f=l.substr(0,r.startColumn-1-u.firstCharOffset)):f=c.getLineContent().substring(0,r.startColumn-1);let y;r.isEmpty()?y=l.substr(r.startColumn-1-u.firstCharOffset):y=(0,O.n2)(a,r.endLineNumber,r.endColumn).getLineContent().substr(r.endColumn-1-u.firstCharOffset);const C=n.getLanguageConfiguration(u.languageId).indentRulesSupport;if(!C)return null;const _=f,N=o.V8(f),b={tokenization:{getLineTokens:Z=>a.tokenization.getLineTokens(Z),getLanguageId:()=>a.getLanguageId(),getLanguageIdAtPosition:(Z,z)=>a.getLanguageIdAtPosition(Z,z)},getLineContent:Z=>Z===r.startLineNumber?_:a.getLineContent(Z)},k=o.V8(c.getLineContent()),V=p(g,b,r.startLineNumber+1,void 0,n);if(!V){const Z=D?k:N;return{beforeEnter:Z,afterEnter:Z}}let K=D?k:V.indentation;return V.action===B.wU.Indent&&(K=i.shiftIndent(K)),C.shouldDecrease(y)&&(K=i.unshiftIndent(K)),{beforeEnter:D?k:N,afterEnter:K}}function w(g,a,r,i,n,c){if(g<4)return null;const u=(0,O.n2)(a,r.startLineNumber,r.startColumn);if(u.firstCharOffset)return null;const l=c.getLanguageConfiguration(u.languageId).indentRulesSupport;if(!l)return null;const D=u.getLineContent(),f=D.substr(0,r.startColumn-1-u.firstCharOffset);let y;if(r.isEmpty()?y=D.substr(r.startColumn-1-u.firstCharOffset):y=(0,O.n2)(a,r.endLineNumber,r.endColumn).getLineContent().substr(r.endColumn-1-u.firstCharOffset),!l.shouldDecrease(f+y)&&l.shouldDecrease(f+i+y)){const C=p(g,a,r.startLineNumber,!1,c);if(!C)return null;let _=C.indentation;return C.action!==B.wU.Indent&&(_=n.unshiftIndent(_)),_}return null}function m(g,a,r){const i=r.getLanguageConfiguration(g.getLanguageId()).indentRulesSupport;return!i||a<1||a>g.getLineCount()?null:i.getIndentMetadata(g.getLineContent(a))}},80862:function(et,Le,e){"use strict";e.d(Le,{A:function(){return x}});var o=e(61031),B=e(81275);function x(O,S,p,E){const R=(0,B.n2)(S,p.startLineNumber,p.startColumn),w=E.getLanguageConfiguration(R.languageId);if(!w)return null;const m=R.getLineContent(),g=m.substr(0,p.startColumn-1-R.firstCharOffset);let a;p.isEmpty()?a=m.substr(p.startColumn-1-R.firstCharOffset):a=(0,B.n2)(S,p.endLineNumber,p.endColumn).getLineContent().substr(p.endColumn-1-R.firstCharOffset);let r="";if(p.startLineNumber>1&&R.firstCharOffset===0){const D=(0,B.n2)(S,p.startLineNumber-1);D.languageId===R.languageId&&(r=D.getLineContent())}const i=w.onEnter(O,r,g,a);if(!i)return null;const n=i.indentAction;let c=i.appendText;const u=i.removeText||0;c?n===o.wU.Indent&&(c="	"+c):n===o.wU.Indent||n===o.wU.IndentOutdent?c="	":c="";let l=(0,B.u0)(S,p.startLineNumber,p.startColumn);return u&&(l=l.substring(0,l.length-u)),{indentAction:n,appendText:c,removeText:u,indentation:l}}},50131:function(et,Le,e){"use strict";e.d(Le,{O:function(){return B}});var o=e(87058);const B=(0,o.yh)("languageService")},61031:function(et,Le,e){"use strict";e.d(Le,{V6:function(){return B},c$:function(){return x},wU:function(){return o}});var o;(function(S){S[S.None=0]="None",S[S.Indent=1]="Indent",S[S.IndentOutdent=2]="IndentOutdent",S[S.Outdent=3]="Outdent"})(o||(o={}));class B{constructor(p){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=p.open,this.close=p.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(p.notIn))for(let E=0,R=p.notIn.length;E<R;E++)switch(p.notIn[E]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(p){switch(p){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(p,E){if(p.getTokenCount()===0)return!0;const R=p.findTokenIndexAtOffset(E-2),w=p.getStandardTokenType(R);return this.isOK(w)}_findNeutralCharacterInRange(p,E){for(let R=p;R<=E;R++){const w=String.fromCharCode(R);if(!this.open.includes(w)&&!this.close.includes(w))return w}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}class x{constructor(p){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const E of p)O(this.autoClosingPairsOpenByStart,E.open.charAt(0),E),O(this.autoClosingPairsOpenByEnd,E.open.charAt(E.open.length-1),E),O(this.autoClosingPairsCloseByStart,E.close.charAt(0),E),O(this.autoClosingPairsCloseByEnd,E.close.charAt(E.close.length-1),E),E.close.length===1&&E.open.length===1&&O(this.autoClosingPairsCloseSingleChar,E.close,E)}}function O(S,p,E){S.has(p)?S.get(p).push(E):S.set(p,[E])}},81275:function(et,Le,e){"use strict";e.d(Le,{c_:function(){return Z},u0:function(){return G},n2:function(){return j}});var o=e(79329),B=e(45029),x=e(30144),O=e(38244),S=e(61031),p=e(14661);class E{constructor(ee){if(ee.autoClosingPairs?this._autoClosingPairs=ee.autoClosingPairs.map(re=>new S.V6(re)):ee.brackets?this._autoClosingPairs=ee.brackets.map(re=>new S.V6({open:re[0],close:re[1]})):this._autoClosingPairs=[],ee.__electricCharacterSupport&&ee.__electricCharacterSupport.docComment){const re=ee.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new S.V6({open:re.open,close:re.close||""}))}this._autoCloseBeforeForQuotes=typeof ee.autoCloseBefore=="string"?ee.autoCloseBefore:E.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets=typeof ee.autoCloseBefore=="string"?ee.autoCloseBefore:E.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=ee.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(ee){return ee?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}getSurroundingPairs(){return this._surroundingPairs}}E.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=`;:.,=}])> 
	`,E.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS=`'"\`;:.,=}])> 
	`;var R=e(71221),w=e(94850);class m{constructor(ee){this._richEditBrackets=ee}getElectricCharacters(){const ee=[];if(this._richEditBrackets)for(const re of this._richEditBrackets.brackets)for(const he of re.close){const M=he.charAt(he.length-1);ee.push(M)}return(0,R.EB)(ee)}onElectricCharacter(ee,re,he){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const M=re.findTokenIndexAtOffset(he-1);if((0,p.Bu)(re.getStandardTokenType(M)))return null;const we=this._richEditBrackets.reversedRegex,We=re.getLineContent().substring(0,he-1)+ee,ye=w.Vr.findPrevBracketInRange(we,1,We,0,We.length);if(!ye)return null;const X=We.substring(ye.startColumn-1,ye.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[X])return null;const Ee=re.getActualLineContentBefore(ye.startColumn-1);return/^\s*$/.test(Ee)?{matchOpenBracket:X}:null}}function g(ne){return ne.global&&(ne.lastIndex=0),!0}class a{constructor(ee){this._indentationRules=ee}shouldIncrease(ee){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&g(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(ee))}shouldDecrease(ee){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&g(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(ee))}shouldIndentNextLine(ee){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&g(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(ee))}shouldIgnore(ee){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&g(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(ee))}getIndentMetadata(ee){let re=0;return this.shouldIncrease(ee)&&(re+=1),this.shouldDecrease(ee)&&(re+=2),this.shouldIndentNextLine(ee)&&(re+=4),this.shouldIgnore(ee)&&(re+=8),re}}var r=e(25602);class i{constructor(ee){ee=ee||{},ee.brackets=ee.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],ee.brackets.forEach(re=>{const he=i._createOpenBracketRegExp(re[0]),M=i._createCloseBracketRegExp(re[1]);he&&M&&this._brackets.push({open:re[0],openRegExp:he,close:re[1],closeRegExp:M})}),this._regExpRules=ee.onEnterRules||[]}onEnter(ee,re,he,M){if(ee>=3)for(let we=0,We=this._regExpRules.length;we<We;we++){const ye=this._regExpRules[we];if([{reg:ye.beforeText,text:he},{reg:ye.afterText,text:M},{reg:ye.previousLineText,text:re}].every(ve=>ve.reg?(ve.reg.lastIndex=0,ve.reg.test(ve.text)):!0))return ye.action}if(ee>=2&&he.length>0&&M.length>0)for(let we=0,We=this._brackets.length;we<We;we++){const ye=this._brackets[we];if(ye.openRegExp.test(he)&&ye.closeRegExp.test(M))return{indentAction:S.wU.IndentOutdent}}if(ee>=2&&he.length>0){for(let we=0,We=this._brackets.length;we<We;we++)if(this._brackets[we].openRegExp.test(he))return{indentAction:S.wU.Indent}}return null}static _createOpenBracketRegExp(ee){let re=x.ec(ee);return/\B/.test(re.charAt(0))||(re="\\b"+re),re+="\\s*$",i._safeRegExp(re)}static _createCloseBracketRegExp(ee){let re=x.ec(ee);return/\B/.test(re.charAt(re.length-1))||(re=re+"\\b"),re="^\\s*"+re,i._safeRegExp(re)}static _safeRegExp(ee){try{return new RegExp(ee)}catch(re){return(0,r.dL)(re),null}}}var n=e(87058),c=e(48774),u=e(50131),l=e(98352),D=e(13057),f=e(78329);class y{constructor(ee,re){this.languageId=ee;const he=re.brackets?C(re.brackets):[],M=new f.bQ(ye=>{const X=new Set;return{info:new N(this,ye,X),closing:X}}),we=new f.bQ(ye=>{const X=new Set,ve=new Set;return{info:new b(this,ye,X,ve),opening:X,openingColorized:ve}});for(const[ye,X]of he){const ve=M.get(ye),Ee=we.get(X);ve.closing.add(Ee.info),Ee.opening.add(ve.info)}const We=re.colorizedBracketPairs?C(re.colorizedBracketPairs):he.filter(ye=>!(ye[0]==="<"&&ye[1]===">"));for(const[ye,X]of We){const ve=M.get(ye),Ee=we.get(X);ve.closing.add(Ee.info),Ee.openingColorized.add(ve.info),Ee.opening.add(ve.info)}this._openingBrackets=new Map([...M.cachedValues].map(([ye,X])=>[ye,X.info])),this._closingBrackets=new Map([...we.cachedValues].map(([ye,X])=>[ye,X.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(ee){return this._openingBrackets.get(ee)}getClosingBracketInfo(ee){return this._closingBrackets.get(ee)}getBracketInfo(ee){return this.getOpeningBracketInfo(ee)||this.getClosingBracketInfo(ee)}}function C(ne){return ne.filter(([ee,re])=>ee!==""&&re!=="")}class _{constructor(ee,re){this.config=ee,this.bracketText=re}get languageId(){return this.config.languageId}}class N extends _{constructor(ee,re,he){super(ee,re),this.openedBrackets=he,this.isOpeningBracket=!0}}class b extends _{constructor(ee,re,he,M){super(ee,re),this.openingBrackets=he,this.openingColorizedBrackets=M,this.isOpeningBracket=!1}closes(ee){return ee.config!==this.config?!1:this.openingBrackets.has(ee)}closesColorized(ee){return ee.config!==this.config?!1:this.openingColorizedBrackets.has(ee)}getOpeningBrackets(){return[...this.openingBrackets]}}var k=function(ne,ee,re,he){var M=arguments.length,we=M<3?ee:he===null?he=Object.getOwnPropertyDescriptor(ee,re):he,We;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")we=Reflect.decorate(ne,ee,re,he);else for(var ye=ne.length-1;ye>=0;ye--)(We=ne[ye])&&(we=(M<3?We(we):M>3?We(ee,re,we):We(ee,re))||we);return M>3&&we&&Object.defineProperty(ee,re,we),we},V=function(ne,ee){return function(re,he){ee(re,he,ne)}};class K{constructor(ee){this.languageId=ee}affects(ee){return this.languageId?this.languageId===ee:!0}}const Z=(0,n.yh)("languageConfigurationService");let z=class extends B.JT{constructor(ee,re){super(),this.configurationService=ee,this.languageService=re,this._registry=this._register(new te),this.onDidChangeEmitter=this._register(new o.Q5),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const he=new Set(Object.values(P));this._register(this.configurationService.onDidChangeConfiguration(M=>{const we=M.change.keys.some(ye=>he.has(ye)),We=M.change.overrides.filter(([ye,X])=>X.some(ve=>he.has(ve))).map(([ye])=>ye);if(we)this.configurations.clear(),this.onDidChangeEmitter.fire(new K(void 0));else for(const ye of We)this.languageService.isRegisteredLanguageId(ye)&&(this.configurations.delete(ye),this.onDidChangeEmitter.fire(new K(ye)))})),this._register(this._registry.onDidChange(M=>{this.configurations.delete(M.languageId),this.onDidChangeEmitter.fire(new K(M.languageId))}))}register(ee,re,he){return this._registry.register(ee,re,he)}getLanguageConfiguration(ee){let re=this.configurations.get(ee);return re||(re=A(ee,this._registry,this.configurationService,this.languageService),this.configurations.set(ee,re)),re}};z=k([V(0,c.Ui),V(1,u.O)],z);function A(ne,ee,re,he){let M=ee.getLanguageConfiguration(ne);if(!M){if(!he.isRegisteredLanguageId(ne))return new se(ne,{});M=new se(ne,{})}const we=I(M.languageId,re),We=H([M.underlyingConfig,we]);return new se(M.languageId,We)}const P={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function I(ne,ee){const re=ee.getValue(P.brackets,{overrideIdentifier:ne}),he=ee.getValue(P.colorizedBracketPairs,{overrideIdentifier:ne});return{brackets:W(re),colorizedBracketPairs:W(he)}}function W(ne){if(Array.isArray(ne))return ne.map(ee=>{if(!(!Array.isArray(ee)||ee.length!==2))return[ee[0],ee[1]]}).filter(ee=>!!ee)}function G(ne,ee,re){const he=ne.getLineContent(ee);let M=x.V8(he);return M.length>re-1&&(M=M.substring(0,re-1)),M}function j(ne,ee,re){ne.tokenization.forceTokenization(ee);const he=ne.tokenization.getLineTokens(ee),M=typeof re=="undefined"?ne.getLineMaxColumn(ee)-1:re-1;return(0,p.wH)(he,M)}class Y{constructor(ee){this.languageId=ee,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(ee,re){const he=new Q(ee,re,++this._order);return this._entries.push(he),this._resolved=null,(0,B.OF)(()=>{for(let M=0;M<this._entries.length;M++)if(this._entries[M]===he){this._entries.splice(M,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const ee=this._resolve();ee&&(this._resolved=new se(this.languageId,ee))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(Q.cmp),H(this._entries.map(ee=>ee.configuration)))}}function H(ne){let ee={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const re of ne)ee={comments:re.comments||ee.comments,brackets:re.brackets||ee.brackets,wordPattern:re.wordPattern||ee.wordPattern,indentationRules:re.indentationRules||ee.indentationRules,onEnterRules:re.onEnterRules||ee.onEnterRules,autoClosingPairs:re.autoClosingPairs||ee.autoClosingPairs,surroundingPairs:re.surroundingPairs||ee.surroundingPairs,autoCloseBefore:re.autoCloseBefore||ee.autoCloseBefore,folding:re.folding||ee.folding,colorizedBracketPairs:re.colorizedBracketPairs||ee.colorizedBracketPairs,__electricCharacterSupport:re.__electricCharacterSupport||ee.__electricCharacterSupport};return ee}class Q{constructor(ee,re,he){this.configuration=ee,this.priority=re,this.order=he}static cmp(ee,re){return ee.priority===re.priority?ee.order-re.order:ee.priority-re.priority}}class ie{constructor(ee){this.languageId=ee}}class te extends B.JT{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new o.Q5),this.onDidChange=this._onDidChange.event,this._register(this.register(D.bd,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(ee,re,he=0){let M=this._entries.get(ee);M||(M=new Y(ee),this._entries.set(ee,M));const we=M.register(re,he);return this._onDidChange.fire(new ie(ee)),(0,B.OF)(()=>{we.dispose(),this._onDidChange.fire(new ie(ee))})}getLanguageConfiguration(ee){const re=this._entries.get(ee);return(re==null?void 0:re.getResolvedConfiguration())||null}}class se{constructor(ee,re){this.languageId=ee,this.underlyingConfig=re,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new i(this.underlyingConfig):null,this.comments=se._handleComments(this.underlyingConfig),this.characterPair=new E(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||O.Af,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new a(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new y(ee,this.underlyingConfig)}getWordDefinition(){return(0,O.eq)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new w.EA(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new m(this.brackets)),this._electricCharacter}onEnter(ee,re,he,M){return this._onEnterSupport?this._onEnterSupport.onEnter(ee,re,he,M):null}getAutoClosingPairs(){return new S.c$(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(ee){return this.characterPair.getAutoCloseBeforeSet(ee)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(ee){const re=ee.comments;if(!re)return null;const he={};if(re.lineComment&&(he.lineCommentToken=re.lineComment),re.blockComment){const[M,we]=re.blockComment;he.blockCommentStartToken=M,he.blockCommentEndToken=we}return he}}(0,l.z)(Z,z,1)},13057:function(et,Le,e){"use strict";e.d(Le,{bd:function(){return w},dQ:function(){return R}});var o=e(61652),B=e(79329),x=e(2816),O=e(56742),S=e(18567);const p={ModesRegistry:"editor.modesRegistry"};class E{constructor(){this._onDidChangeLanguages=new B.Q5,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(a){return this._languages.push(a),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let r=0,i=this._languages.length;r<i;r++)if(this._languages[r]===a){this._languages.splice(r,1);return}}}}getLanguages(){return this._languages}}const R=new E;x.B.add(p.ModesRegistry,R);const w="plaintext";R.registerLanguage({id:w,extensions:[".txt"],aliases:[o.NC("plainText.alias","Plain Text"),"text"],mimetypes:[O.v.text]}),x.B.as(S.IP.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])},91187:function(et,Le,e){"use strict";e.d(Le,{Dy:function(){return O},Ri:function(){return x},TJ:function(){return B}});var o=e(91895);const B=new class{clone(){return this}equals(S){return this===S}};function x(S,p){return new o.hG([new o.WU(0,"",S)],p)}function O(S,p){const E=new Uint32Array(2);return E[0]=0,E[1]=(S<<0|0|0|32768|2<<24)>>>0,new o.DI(E,p===null?B:p)}},14661:function(et,Le,e){"use strict";e.d(Le,{Bu:function(){return x},wH:function(){return o}});function o(O,S){const p=O.getCount(),E=O.findTokenIndexAtOffset(S),R=O.getLanguageId(E);let w=E;for(;w+1<p&&O.getLanguageId(w+1)===R;)w++;let m=E;for(;m>0&&O.getLanguageId(m-1)===R;)m--;return new B(O,R,m,w+1,O.getStartOffset(m),O.getEndOffset(w))}class B{constructor(S,p,E,R,w,m){this._scopedLineTokensBrand=void 0,this._actual=S,this.languageId=p,this._firstTokenIndex=E,this._lastTokenIndex=R,this.firstCharOffset=w,this._lastCharOffset=m}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(S){return this._actual.getLineContent().substring(0,this.firstCharOffset+S)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(S){return this._actual.findTokenIndexAtOffset(S+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(S){return this._actual.getStandardTokenType(S+this._firstTokenIndex)}}function x(O){return(O&3)!==0}},94850:function(et,Le,e){"use strict";e.d(Le,{EA:function(){return p},Vr:function(){return u}});var o=e(30144),B=e(42065),x=e(4694);class O{constructor(D,f,y,C,_,N){this._richEditBracketBrand=void 0,this.languageId=D,this.index=f,this.open=y,this.close=C,this.forwardRegex=_,this.reversedRegex=N,this._openSet=O._toSet(this.open),this._closeSet=O._toSet(this.close)}isOpen(D){return this._openSet.has(D)}isClose(D){return this._closeSet.has(D)}static _toSet(D){const f=new Set;for(const y of D)f.add(y);return f}}function S(l){const D=l.length;l=l.map(N=>[N[0].toLowerCase(),N[1].toLowerCase()]);const f=[];for(let N=0;N<D;N++)f[N]=N;const y=(N,b)=>{const[k,V]=N,[K,Z]=b;return k===K||k===Z||V===K||V===Z},C=(N,b)=>{const k=Math.min(N,b),V=Math.max(N,b);for(let K=0;K<D;K++)f[K]===V&&(f[K]=k)};for(let N=0;N<D;N++){const b=l[N];for(let k=N+1;k<D;k++){const V=l[k];y(b,V)&&C(f[N],f[k])}}const _=[];for(let N=0;N<D;N++){const b=[],k=[];for(let V=0;V<D;V++)if(f[V]===N){const[K,Z]=l[V];b.push(K),k.push(Z)}b.length>0&&_.push({open:b,close:k})}return _}class p{constructor(D,f){this._richEditBracketsBrand=void 0;const y=S(f);this.brackets=y.map((C,_)=>new O(D,_,C.open,C.close,m(C.open,C.close,y,_),g(C.open,C.close,y,_))),this.forwardRegex=a(this.brackets),this.reversedRegex=r(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const C of this.brackets){for(const _ of C.open)this.textIsBracket[_]=C,this.textIsOpenBracket[_]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,_.length);for(const _ of C.close)this.textIsBracket[_]=C,this.textIsOpenBracket[_]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,_.length)}}}function E(l,D,f,y){for(let C=0,_=D.length;C<_;C++){if(C===f)continue;const N=D[C];for(const b of N.open)b.indexOf(l)>=0&&y.push(b);for(const b of N.close)b.indexOf(l)>=0&&y.push(b)}}function R(l,D){return l.length-D.length}function w(l){if(l.length<=1)return l;const D=[],f=new Set;for(const y of l)f.has(y)||(D.push(y),f.add(y));return D}function m(l,D,f,y){let C=[];C=C.concat(l),C=C.concat(D);for(let _=0,N=C.length;_<N;_++)E(C[_],f,y,C);return C=w(C),C.sort(R),C.reverse(),n(C)}function g(l,D,f,y){let C=[];C=C.concat(l),C=C.concat(D);for(let _=0,N=C.length;_<N;_++)E(C[_],f,y,C);return C=w(C),C.sort(R),C.reverse(),n(C.map(c))}function a(l){let D=[];for(const f of l){for(const y of f.open)D.push(y);for(const y of f.close)D.push(y)}return D=w(D),n(D)}function r(l){let D=[];for(const f of l){for(const y of f.open)D.push(y);for(const y of f.close)D.push(y)}return D=w(D),n(D.map(c))}function i(l){const D=/^[\w ]+$/.test(l);return l=o.ec(l),D?`\\b${l}\\b`:l}function n(l){const D=`(${l.map(i).join(")|(")})`;return o.GF(D,!0)}const c=function(){function l(y){const C=new Uint16Array(y.length);let _=0;for(let N=y.length-1;N>=0;N--)C[_++]=y.charCodeAt(N);return B.oe().decode(C)}let D=null,f=null;return function(C){return D!==C&&(D=C,f=l(D)),f}}();class u{static _findPrevBracketInText(D,f,y,C){const _=y.match(D);if(!_)return null;const N=y.length-(_.index||0),b=_[0].length,k=C+N;return new x.e(f,k-b+1,f,k+1)}static findPrevBracketInRange(D,f,y,C,_){const b=c(y).substring(y.length-_,y.length-C);return this._findPrevBracketInText(D,f,b,C)}static findNextBracketInText(D,f,y,C){const _=y.match(D);if(!_)return null;const N=_.index||0,b=_[0].length;if(b===0)return null;const k=C+N;return new x.e(f,k+1,f,k+1+b)}static findNextBracketInRange(D,f,y,C,_){const N=y.substring(C,_);return this.findNextBracketInText(D,f,N,C)}}},86715:function(et,Le,e){"use strict";e.d(Le,{C2:function(){return p},Fq:function(){return E}});var o=e(30144),B=e(25114),x=e(91895),O=e(91187);const S={getInitialState:()=>O.TJ,tokenizeEncoded:(w,m,g)=>(0,O.Dy)(0,g)};function p(w,m,g){return Ft(this,null,function*(){if(!g)return R(m,w.languageIdCodec,S);const a=yield x.RW.getOrCreate(g);return R(m,w.languageIdCodec,a||S)})}function E(w,m,g,a,r,i,n){let c="<div>",u=a,l=0,D=!0;for(let f=0,y=m.getCount();f<y;f++){const C=m.getEndOffset(f);if(C<=a)continue;let _="";for(;u<C&&u<r;u++){const N=w.charCodeAt(u);switch(N){case 9:{let b=i-(u+l)%i;for(l+=b-1;b>0;)n&&D?(_+="&#160;",D=!1):(_+=" ",D=!0),b--;break}case 60:_+="&lt;",D=!1;break;case 62:_+="&gt;",D=!1;break;case 38:_+="&amp;",D=!1;break;case 0:_+="&#00;",D=!1;break;case 65279:case 8232:case 8233:case 133:_+="\uFFFD",D=!1;break;case 13:_+="&#8203",D=!1;break;case 32:n&&D?(_+="&#160;",D=!1):(_+=" ",D=!0);break;default:_+=String.fromCharCode(N),D=!1}}if(c+=`<span style="${m.getInlineStyle(f,g)}">${_}</span>`,C>r||u>=r)break}return c+="</div>",c}function R(w,m,g){let a='<div class="monaco-tokenized-source">';const r=o.uq(w);let i=g.getInitialState();for(let n=0,c=r.length;n<c;n++){const u=r[n];n>0&&(a+="<br/>");const l=g.tokenizeEncoded(u,!0,i);B.A.convertToEndOffset(l.tokens,u.length);const f=new B.A(l.tokens,u,m).inflate();let y=0;for(let C=0,_=f.getCount();C<_;C++){const N=f.getClassName(C),b=f.getEndOffset(C);a+=`<span class="${N}">${o.YU(u.substring(y,b))}</span>`,y=b}i=l.endState}return a+="</div>",a}},57204:function(et,Le,e){"use strict";e.d(Le,{Hf:function(){return E},Qi:function(){return R},RM:function(){return O},Tx:function(){return w},U:function(){return x},dJ:function(){return S},je:function(){return m},pt:function(){return g},sh:function(){return B},tk:function(){return p}});var o=e(94920),B;(function(a){a[a.Left=1]="Left",a[a.Center=2]="Center",a[a.Right=4]="Right",a[a.Full=7]="Full"})(B||(B={}));var x;(function(a){a[a.Left=1]="Left",a[a.Center=2]="Center",a[a.Right=3]="Right"})(x||(x={}));var O;(function(a){a[a.Both=0]="Both",a[a.Right=1]="Right",a[a.Left=2]="Left",a[a.None=3]="None"})(O||(O={}));class S{get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(r){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,r.tabSize|0),r.indentSize==="tabSize"?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,r.indentSize|0),this._indentSizeIsTabSize=!1),this.insertSpaces=!!r.insertSpaces,this.defaultEOL=r.defaultEOL|0,this.trimAutoWhitespace=!!r.trimAutoWhitespace,this.bracketPairColorizationOptions=r.bracketPairColorizationOptions}equals(r){return this.tabSize===r.tabSize&&this._indentSizeIsTabSize===r._indentSizeIsTabSize&&this.indentSize===r.indentSize&&this.insertSpaces===r.insertSpaces&&this.defaultEOL===r.defaultEOL&&this.trimAutoWhitespace===r.trimAutoWhitespace&&(0,o.fS)(this.bracketPairColorizationOptions,r.bracketPairColorizationOptions)}createChangeEvent(r){return{tabSize:this.tabSize!==r.tabSize,indentSize:this.indentSize!==r.indentSize,insertSpaces:this.insertSpaces!==r.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==r.trimAutoWhitespace}}}class p{constructor(r,i){this._findMatchBrand=void 0,this.range=r,this.matches=i}}function E(a){return a&&typeof a.read=="function"}class R{constructor(r,i,n,c,u,l){this.identifier=r,this.range=i,this.text=n,this.forceMoveMarkers=c,this.isAutoWhitespaceEdit=u,this._isTracked=l}}class w{constructor(r,i,n){this.regex=r,this.wordSeparators=i,this.simpleSearch=n}}class m{constructor(r,i,n){this.reverseEdits=r,this.changes=i,this.trimAutoWhitespaceLineNumbers=n}}function g(a){return!a.isTooLargeForSyncing()&&!a.isForSimpleWidget}},31929:function(et,Le,e){"use strict";e.d(Le,{BH:function(){return i},Dm:function(){return c},Kd:function(){return p},Y0:function(){return E},n2:function(){return n}});var o=e(25602),B=e(76675),x=e(34084),O=e(77546);class S{get length(){return this._length}constructor(l){this._length=l}}class p extends S{static create(l,D,f){let y=l.length;return D&&(y=(0,x.Ii)(y,D.length)),f&&(y=(0,x.Ii)(y,f.length)),new p(y,l,D,f,D?D.missingOpeningBracketIds:O.tS.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(l){switch(l){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const l=[];return l.push(this.openingBracket),this.child&&l.push(this.child),this.closingBracket&&l.push(this.closingBracket),l}constructor(l,D,f,y,C){super(l),this.openingBracket=D,this.child=f,this.closingBracket=y,this.missingOpeningBracketIds=C}canBeReused(l){return!(this.closingBracket===null||l.intersects(this.missingOpeningBracketIds))}deepClone(){return new p(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(l,D){return this.child?this.child.computeMinIndentation((0,x.Ii)(l,this.openingBracket.length),D):Number.MAX_SAFE_INTEGER}}class E extends S{static create23(l,D,f,y=!1){let C=l.length,_=l.missingOpeningBracketIds;if(l.listHeight!==D.listHeight)throw new Error("Invalid list heights");if(C=(0,x.Ii)(C,D.length),_=_.merge(D.missingOpeningBracketIds),f){if(l.listHeight!==f.listHeight)throw new Error("Invalid list heights");C=(0,x.Ii)(C,f.length),_=_.merge(f.missingOpeningBracketIds)}return y?new w(C,l.listHeight+1,l,D,f,_):new R(C,l.listHeight+1,l,D,f,_)}static getEmpty(){return new g(x.xl,0,[],O.tS.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}constructor(l,D,f){super(l),this.listHeight=D,this._missingOpeningBracketIds=f,this.cachedMinIndentation=-1}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const l=this.childrenLength;if(l===0)return;const D=this.getChild(l-1),f=D.kind===4?D.toMutable():D;return D!==f&&this.setChild(l-1,f),f}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const D=this.getChild(0),f=D.kind===4?D.toMutable():D;return D!==f&&this.setChild(0,f),f}canBeReused(l){if(l.intersects(this.missingOpeningBracketIds)||this.childrenLength===0)return!1;let D=this;for(;D.kind===4;){const f=D.childrenLength;if(f===0)throw new o.he;D=D.getChild(f-1)}return D.canBeReused(l)}handleChildrenChanged(){this.throwIfImmutable();const l=this.childrenLength;let D=this.getChild(0).length,f=this.getChild(0).missingOpeningBracketIds;for(let y=1;y<l;y++){const C=this.getChild(y);D=(0,x.Ii)(D,C.length),f=f.merge(C.missingOpeningBracketIds)}this._length=D,this._missingOpeningBracketIds=f,this.cachedMinIndentation=-1}computeMinIndentation(l,D){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let f=Number.MAX_SAFE_INTEGER,y=l;for(let C=0;C<this.childrenLength;C++){const _=this.getChild(C);_&&(f=Math.min(f,_.computeMinIndentation(y,D)),y=(0,x.Ii)(y,_.length))}return this.cachedMinIndentation=f,f}}class R extends E{get childrenLength(){return this._item3!==null?3:2}getChild(l){switch(l){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(l,D){switch(l){case 0:this._item1=D;return;case 1:this._item2=D;return;case 2:this._item3=D;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}constructor(l,D,f,y,C,_){super(l,D,_),this._item1=f,this._item2=y,this._item3=C}deepClone(){return new R(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(l){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=l,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const l=this._item3;return this._item3=null,this.handleChildrenChanged(),l}prependChildOfSameHeight(l){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=l,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const l=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),l}toMutable(){return this}}class w extends R{toMutable(){return new R(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class m extends E{get childrenLength(){return this._children.length}getChild(l){return this._children[l]}setChild(l,D){this._children[l]=D}get children(){return this._children}constructor(l,D,f,y){super(l,D,y),this._children=f}deepClone(){const l=new Array(this._children.length);for(let D=0;D<this._children.length;D++)l[D]=this._children[D].deepClone();return new m(this.length,this.listHeight,l,this.missingOpeningBracketIds)}appendChildOfSameHeight(l){this.throwIfImmutable(),this._children.push(l),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const l=this._children.pop();return this.handleChildrenChanged(),l}prependChildOfSameHeight(l){this.throwIfImmutable(),this._children.unshift(l),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const l=this._children.shift();return this.handleChildrenChanged(),l}toMutable(){return this}}class g extends m{toMutable(){return new m(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const a=[];class r extends S{get listHeight(){return 0}get childrenLength(){return 0}getChild(l){return null}get children(){return a}deepClone(){return this}}class i extends r{get kind(){return 0}get missingOpeningBracketIds(){return O.tS.getEmpty()}canBeReused(l){return!0}computeMinIndentation(l,D){const f=(0,x.Hw)(l),y=(f.columnCount===0?f.lineCount:f.lineCount+1)+1,C=(0,x.W9)((0,x.Ii)(l,this.length))+1;let _=Number.MAX_SAFE_INTEGER;for(let N=y;N<=C;N++){const b=D.getLineFirstNonWhitespaceColumn(N),k=D.getLineContent(N);if(b===0)continue;const V=B.i.visibleColumnFromColumn(k,b,D.getOptions().tabSize);_=Math.min(_,V)}return _}}class n extends r{static create(l,D,f){return new n(l,D,f)}get kind(){return 1}get missingOpeningBracketIds(){return O.tS.getEmpty()}constructor(l,D,f){super(l),this.bracketInfo=D,this.bracketIds=f}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(l){return!1}computeMinIndentation(l,D){return Number.MAX_SAFE_INTEGER}}class c extends r{get kind(){return 3}constructor(l,D){super(D),this.missingOpeningBracketIds=l}canBeReused(l){return!l.intersects(this.missingOpeningBracketIds)}computeMinIndentation(l,D){return Number.MAX_SAFE_INTEGER}}},86499:function(et,Le,e){"use strict";e.d(Le,{Q:function(){return x},Y:function(){return O}});var o=e(4694),B=e(34084);class x{static fromModelContentChanges(E){return E.map(w=>{const m=o.e.lift(w.range);return new x((0,B.PZ)(m.getStartPosition()),(0,B.PZ)(m.getEndPosition()),(0,B.oR)(w.text))}).reverse()}constructor(E,R,w){this.startOffset=E,this.endOffset=R,this.newLength=w}toString(){return`[${(0,B.Hw)(this.startOffset)}...${(0,B.Hw)(this.endOffset)}) -> ${(0,B.Hw)(this.newLength)}`}}class O{constructor(E){this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=E.map(R=>S.from(R))}getOffsetBeforeChange(E){return this.adjustNextEdit(E),this.translateCurToOld(E)}getDistanceToNextChange(E){this.adjustNextEdit(E);const R=this.edits[this.nextEditIdx],w=R?this.translateOldToCur(R.offsetObj):null;return w===null?null:(0,B.BE)(E,w)}translateOldToCur(E){return E.lineCount===this.deltaLineIdxInOld?(0,B.Hg)(E.lineCount+this.deltaOldToNewLineCount,E.columnCount+this.deltaOldToNewColumnCount):(0,B.Hg)(E.lineCount+this.deltaOldToNewLineCount,E.columnCount)}translateCurToOld(E){const R=(0,B.Hw)(E);return R.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?(0,B.Hg)(R.lineCount-this.deltaOldToNewLineCount,R.columnCount-this.deltaOldToNewColumnCount):(0,B.Hg)(R.lineCount-this.deltaOldToNewLineCount,R.columnCount)}adjustNextEdit(E){for(;this.nextEditIdx<this.edits.length;){const R=this.edits[this.nextEditIdx],w=this.translateOldToCur(R.endOffsetAfterObj);if((0,B.By)(w,E)){this.nextEditIdx++;const m=(0,B.Hw)(w),g=(0,B.Hw)(this.translateOldToCur(R.endOffsetBeforeObj)),a=m.lineCount-g.lineCount;this.deltaOldToNewLineCount+=a;const r=this.deltaLineIdxInOld===R.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,i=m.columnCount-g.columnCount;this.deltaOldToNewColumnCount=r+i,this.deltaLineIdxInOld=R.endOffsetBeforeObj.lineCount}else break}}}class S{static from(E){return new S(E.startOffset,E.endOffset,E.newLength)}constructor(E,R,w){this.endOffsetBeforeObj=(0,B.Hw)(R),this.endOffsetAfterObj=(0,B.Hw)((0,B.Ii)(E,w)),this.offsetObj=(0,B.Hw)(E)}}},21453:function(et,Le,e){"use strict";e.d(Le,{Z:function(){return R}});var o=e(30144),B=e(31929),x=e(34084),O=e(77546),S=e(61696);class p{static createFromLanguage(m,g){function a(i){return g.getKey(`${i.languageId}:::${i.bracketText}`)}const r=new Map;for(const i of m.bracketsNew.openingBrackets){const n=(0,x.Hg)(0,i.bracketText.length),c=a(i),u=O.tS.getEmpty().add(c,O.Qw);r.set(i.bracketText,new S.WU(n,1,c,u,B.n2.create(n,i,u)))}for(const i of m.bracketsNew.closingBrackets){const n=(0,x.Hg)(0,i.bracketText.length);let c=O.tS.getEmpty();const u=i.getOpeningBrackets();for(const l of u)c=c.add(a(l),O.Qw);r.set(i.bracketText,new S.WU(n,2,a(u[0]),c,B.n2.create(n,i,c)))}return new p(r)}constructor(m){this.map=m,this.hasRegExp=!1,this._regExpGlobal=null}getRegExpStr(){if(this.isEmpty)return null;{const m=[...this.map.keys()];return m.sort(),m.reverse(),m.map(g=>E(g)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const m=this.getRegExpStr();this._regExpGlobal=m?new RegExp(m,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(m){return this.map.get(m.toLowerCase())}findClosingTokenText(m){for(const[g,a]of this.map)if(a.kind===2&&a.bracketIds.intersects(m))return g}get isEmpty(){return this.map.size===0}}function E(w){let m=(0,o.ec)(w);return/^[\w ]+/.test(w)&&(m=`\\b${m}`),/[\w ]+$/.test(w)&&(m=`${m}\\b`),m}class R{constructor(m,g){this.denseKeyProvider=m,this.getLanguageConfiguration=g,this.languageIdToBracketTokens=new Map}didLanguageChange(m){return this.languageIdToBracketTokens.has(m)}getSingleLanguageBracketTokens(m){let g=this.languageIdToBracketTokens.get(m);return g||(g=p.createFromLanguage(this.getLanguageConfiguration(m),this.denseKeyProvider),this.languageIdToBracketTokens.set(m,g)),g}}},11720:function(et,Le,e){"use strict";e.d(Le,{o:function(){return O}});var o=e(71221),B=e(86499),x=e(34084);function O(E,R){if(E.length===0)return R;if(R.length===0)return E;const w=new o.H9(p(E)),m=p(R);m.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let g=w.dequeue();function a(c){if(c===void 0){const l=w.takeWhile(D=>!0)||[];return g&&l.unshift(g),l}const u=[];for(;g&&!(0,x.xd)(c);){const[l,D]=g.splitAt(c);u.push(l),c=(0,x.BE)(l.lengthAfter,c),g=D!=null?D:w.dequeue()}return(0,x.xd)(c)||u.push(new S(!1,c,c)),u}const r=[];function i(c,u,l){if(r.length>0&&(0,x.rM)(r[r.length-1].endOffset,c)){const D=r[r.length-1];r[r.length-1]=new B.Q(D.startOffset,u,(0,x.Ii)(D.newLength,l))}else r.push({startOffset:c,endOffset:u,newLength:l})}let n=x.xl;for(const c of m){const u=a(c.lengthBefore);if(c.modified){const l=(0,x.tQ)(u,f=>f.lengthBefore),D=(0,x.Ii)(n,l);i(n,D,c.lengthAfter),n=D}else for(const l of u){const D=n;n=(0,x.Ii)(n,l.lengthBefore),l.modified&&i(D,n,l.lengthAfter)}}return r}class S{constructor(R,w,m){this.modified=R,this.lengthBefore=w,this.lengthAfter=m}splitAt(R){const w=(0,x.BE)(R,this.lengthAfter);return(0,x.rM)(w,x.xl)?[this,void 0]:this.modified?[new S(this.modified,this.lengthBefore,R),new S(this.modified,x.xl,w)]:[new S(this.modified,R,R),new S(this.modified,w,w)]}toString(){return`${this.modified?"M":"U"}:${(0,x.Hw)(this.lengthBefore)} -> ${(0,x.Hw)(this.lengthAfter)}`}}function p(E){const R=[];let w=x.xl;for(const m of E){const g=(0,x.BE)(w,m.startOffset);(0,x.xd)(g)||R.push(new S(!1,g,g));const a=(0,x.BE)(m.startOffset,m.endOffset);R.push(new S(!0,a,m.newLength)),w=m.endOffset}return R}},34084:function(et,Le,e){"use strict";e.d(Le,{BE:function(){return n},By:function(){return u},F_:function(){return g},Hg:function(){return R},Hw:function(){return w},Ii:function(){return a},PZ:function(){return D},Qw:function(){return f},VR:function(){return c},W9:function(){return m},Zq:function(){return l},av:function(){return O},oR:function(){return y},rM:function(){return i},tQ:function(){return r},xd:function(){return p},xl:function(){return S}});var o=e(30144),B=e(4694),x=e(39470);function O(C,_,N,b){return C!==N?R(N-C,b):R(0,b-_)}const S=0;function p(C){return C===0}const E=Ao(2,26);function R(C,_){return C*E+_}function w(C){const _=C,N=Math.floor(_/E),b=_-N*E;return new x.A(N,b)}function m(C){return Math.floor(C/E)}function g(C){return C}function a(C,_){let N=C+_;return _>=E&&(N=N-C%E),N}function r(C,_){return C.reduce((N,b)=>a(N,_(b)),S)}function i(C,_){return C===_}function n(C,_){const N=C,b=_;if(b-N<=0)return S;const V=Math.floor(N/E),K=Math.floor(b/E),Z=b-K*E;if(V===K){const z=N-V*E;return R(0,Z-z)}else return R(K-V,Z)}function c(C,_){return C<_}function u(C,_){return C<=_}function l(C,_){return C>=_}function D(C){return R(C.lineNumber-1,C.column-1)}function f(C,_){const N=C,b=Math.floor(N/E),k=N-b*E,V=_,K=Math.floor(V/E),Z=V-K*E;return new B.e(b+1,k+1,K+1,Z+1)}function y(C){const _=(0,o.uq)(C);return R(_.length-1,_[_.length-1].length)}},88954:function(et,Le,e){"use strict";e.d(Le,{w:function(){return i}});var o=e(31929),B=e(86499),x=e(77546),O=e(34084);function S(c){if(c.length===0)return null;if(c.length===1)return c[0];let u=0;function l(){if(u>=c.length)return null;const C=u,_=c[C].listHeight;for(u++;u<c.length&&c[u].listHeight===_;)u++;return u-C>=2?p(C===0&&u===c.length?c:c.slice(C,u),!1):c[C]}let D=l(),f=l();if(!f)return D;for(let C=l();C;C=l())E(D,f)<=E(f,C)?(D=R(D,f),f=C):f=R(f,C);return R(D,f)}function p(c,u=!1){if(c.length===0)return null;if(c.length===1)return c[0];let l=c.length;for(;l>3;){const D=l>>1;for(let f=0;f<D;f++){const y=f<<1;c[f]=o.Y0.create23(c[y],c[y+1],y+3===l?c[y+2]:null,u)}l=D}return o.Y0.create23(c[0],c[1],l>=3?c[2]:null,u)}function E(c,u){return Math.abs(c.listHeight-u.listHeight)}function R(c,u){return c.listHeight===u.listHeight?o.Y0.create23(c,u,null,!1):c.listHeight>u.listHeight?w(c,u):m(u,c)}function w(c,u){c=c.toMutable();let l=c;const D=[];let f;for(;;){if(u.listHeight===l.listHeight){f=u;break}if(l.kind!==4)throw new Error("unexpected");D.push(l),l=l.makeLastElementMutable()}for(let y=D.length-1;y>=0;y--){const C=D[y];f?C.childrenLength>=3?f=o.Y0.create23(C.unappendChild(),f,null,!1):(C.appendChildOfSameHeight(f),f=void 0):C.handleChildrenChanged()}return f?o.Y0.create23(c,f,null,!1):c}function m(c,u){c=c.toMutable();let l=c;const D=[];for(;u.listHeight!==l.listHeight;){if(l.kind!==4)throw new Error("unexpected");D.push(l),l=l.makeFirstElementMutable()}let f=u;for(let y=D.length-1;y>=0;y--){const C=D[y];f?C.childrenLength>=3?f=o.Y0.create23(f,C.unprependChild(),null,!1):(C.prependChildOfSameHeight(f),f=void 0):C.handleChildrenChanged()}return f?o.Y0.create23(f,c,null,!1):c}class g{constructor(u){this.lastOffset=O.xl,this.nextNodes=[u],this.offsets=[O.xl],this.idxs=[]}readLongestNodeAt(u,l){if((0,O.VR)(u,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=u;;){const D=r(this.nextNodes);if(!D)return;const f=r(this.offsets);if((0,O.VR)(u,f))return;if((0,O.VR)(f,u))if((0,O.Ii)(f,D.length)<=u)this.nextNodeAfterCurrent();else{const y=a(D);y!==-1?(this.nextNodes.push(D.getChild(y)),this.offsets.push(f),this.idxs.push(y)):this.nextNodeAfterCurrent()}else{if(l(D))return this.nextNodeAfterCurrent(),D;{const y=a(D);if(y===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(D.getChild(y)),this.offsets.push(f),this.idxs.push(y)}}}}nextNodeAfterCurrent(){for(;;){const u=r(this.offsets),l=r(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const D=r(this.nextNodes),f=a(D,this.idxs[this.idxs.length-1]);if(f!==-1){this.nextNodes.push(D.getChild(f)),this.offsets.push((0,O.Ii)(u,l.length)),this.idxs[this.idxs.length-1]=f;break}else this.idxs.pop()}}}function a(c,u=-1){for(;;){if(u++,u>=c.childrenLength)return-1;if(c.getChild(u))return u}}function r(c){return c.length>0?c[c.length-1]:void 0}function i(c,u,l,D){return new n(c,u,l,D).parseDocument()}class n{constructor(u,l,D,f){if(this.tokenizer=u,this.createImmutableLists=f,this._itemsConstructed=0,this._itemsFromCache=0,D&&f)throw new Error("Not supported");this.oldNodeReader=D?new g(D):void 0,this.positionMapper=new B.Y(l)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let u=this.parseList(x.tS.getEmpty(),0);return u||(u=o.Y0.getEmpty()),u}parseList(u,l){const D=[];for(;;){let y=this.tryReadChildFromCache(u);if(!y){const C=this.tokenizer.peek();if(!C||C.kind===2&&C.bracketIds.intersects(u))break;y=this.parseChild(u,l+1)}y.kind===4&&y.childrenLength===0||D.push(y)}return this.oldNodeReader?S(D):p(D,this.createImmutableLists)}tryReadChildFromCache(u){if(this.oldNodeReader){const l=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(l===null||!(0,O.xd)(l)){const D=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),f=>l!==null&&!(0,O.VR)(f.length,l)?!1:f.canBeReused(u));if(D)return this._itemsFromCache++,this.tokenizer.skip(D.length),D}}}parseChild(u,l){this._itemsConstructed++;const D=this.tokenizer.read();switch(D.kind){case 2:return new o.Dm(D.bracketIds,D.length);case 0:return D.astNode;case 1:{if(l>300)return new o.BH(D.length);const f=u.merge(D.bracketIds),y=this.parseList(f,l+1),C=this.tokenizer.peek();return C&&C.kind===2&&(C.bracketId===D.bracketId||C.bracketIds.intersects(D.bracketIds))?(this.tokenizer.read(),o.Kd.create(D.astNode,y,C.astNode)):o.Kd.create(D.astNode,y,null)}default:throw new Error("unexpected")}}}},77546:function(et,Le,e){"use strict";e.d(Le,{FE:function(){return O},Qw:function(){return x},tS:function(){return B}});const o=[];class B{static create(p,E){if(p<=128&&E.length===0){let R=B.cache[p];return R||(R=new B(p,E),B.cache[p]=R),R}return new B(p,E)}static getEmpty(){return this.empty}constructor(p,E){this.items=p,this.additionalItems=E}add(p,E){const R=E.getKey(p);let w=R>>5;if(w===0){const g=1<<R|this.items;return g===this.items?this:B.create(g,this.additionalItems)}w--;const m=this.additionalItems.slice(0);for(;m.length<w;)m.push(0);return m[w]|=1<<(R&31),B.create(this.items,m)}merge(p){const E=this.items|p.items;if(this.additionalItems===o&&p.additionalItems===o)return E===this.items?this:E===p.items?p:B.create(E,o);const R=[];for(let w=0;w<Math.max(this.additionalItems.length,p.additionalItems.length);w++){const m=this.additionalItems[w]||0,g=p.additionalItems[w]||0;R.push(m|g)}return B.create(E,R)}intersects(p){if(this.items&p.items)return!0;for(let E=0;E<Math.min(this.additionalItems.length,p.additionalItems.length);E++)if(this.additionalItems[E]&p.additionalItems[E])return!0;return!1}}B.cache=new Array(129),B.empty=B.create(0,o);const x={getKey(S){return S}};class O{constructor(){this.items=new Map}getKey(p){let E=this.items.get(p);return E===void 0&&(E=this.items.size,this.items.set(p,E)),E}}},61696:function(et,Le,e){"use strict";e.d(Le,{WU:function(){return p},g:function(){return w},xH:function(){return E}});var o=e(25602),B=e(87597),x=e(31929),O=e(34084),S=e(77546);class p{constructor(g,a,r,i,n){this.length=g,this.kind=a,this.bracketId=r,this.bracketIds=i,this.astNode=n}}class E{constructor(g,a){this.textModel=g,this.bracketTokens=a,this.reader=new R(this.textModel,this.bracketTokens),this._offset=O.xl,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=g.getLineCount(),this.textBufferLastLineLength=g.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,O.Hg)(this.textBufferLineCount-1,this.textBufferLastLineLength)}skip(g){this.didPeek=!1,this._offset=(0,O.Ii)(this._offset,g);const a=(0,O.Hw)(this._offset);this.reader.setPosition(a.lineCount,a.columnCount)}read(){let g;return this.peeked?(this.didPeek=!1,g=this.peeked):g=this.reader.read(),g&&(this._offset=(0,O.Ii)(this._offset,g.length)),g}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class R{constructor(g,a){this.textModel=g,this.bracketTokens=a,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=g.getLineCount(),this.textBufferLastLineLength=g.getLineLength(this.textBufferLineCount)}setPosition(g,a){g===this.lineIdx?(this.lineCharOffset=a,this.line!==null&&(this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset))):(this.lineIdx=g,this.lineCharOffset=a,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const n=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,O.F_)(n.length),n}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const g=this.lineIdx,a=this.lineCharOffset;let r=0;for(;;){const n=this.lineTokens,c=n.getCount();let u=null;if(this.lineTokenOffset<c){const l=n.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<c&&l===n.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const D=B.N.getTokenType(l)===0,f=B.N.containsBalancedBrackets(l),y=n.getEndOffset(this.lineTokenOffset);if(f&&D&&this.lineCharOffset<y){const C=n.getLanguageId(this.lineTokenOffset),_=this.line.substring(this.lineCharOffset,y),N=this.bracketTokens.getSingleLanguageBracketTokens(C),b=N.regExpGlobal;if(b){b.lastIndex=0;const k=b.exec(_);k&&(u=N.getToken(k[0]),u&&(this.lineCharOffset+=k.index))}}if(r+=y-this.lineCharOffset,u)if(g!==this.lineIdx||a!==this.lineCharOffset){this.peekedToken=u;break}else return this.lineCharOffset+=(0,O.F_)(u.length),u;else this.lineTokenOffset++,this.lineCharOffset=y}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,r+=33,r>1e3))break;if(r>1500)break}const i=(0,O.av)(g,a,this.lineIdx,this.lineCharOffset);return new p(i,0,-1,S.tS.getEmpty(),new x.BH(i))}}class w{constructor(g,a){this.text=g,this._offset=O.xl,this.idx=0;const r=a.getRegExpStr(),i=r?new RegExp(r+`|
`,"gi"):null,n=[];let c,u=0,l=0,D=0,f=0;const y=[];for(let N=0;N<60;N++)y.push(new p((0,O.Hg)(0,N),0,-1,S.tS.getEmpty(),new x.BH((0,O.Hg)(0,N))));const C=[];for(let N=0;N<60;N++)C.push(new p((0,O.Hg)(1,N),0,-1,S.tS.getEmpty(),new x.BH((0,O.Hg)(1,N))));if(i)for(i.lastIndex=0;(c=i.exec(g))!==null;){const N=c.index,b=c[0];if(b===`
`)u++,l=N+1;else{if(D!==N){let k;if(f===u){const V=N-D;if(V<y.length)k=y[V];else{const K=(0,O.Hg)(0,V);k=new p(K,0,-1,S.tS.getEmpty(),new x.BH(K))}}else{const V=u-f,K=N-l;if(V===1&&K<C.length)k=C[K];else{const Z=(0,O.Hg)(V,K);k=new p(Z,0,-1,S.tS.getEmpty(),new x.BH(Z))}}n.push(k)}n.push(a.getToken(b)),D=N+b.length,f=u}}const _=g.length;if(D!==_){const N=f===u?(0,O.Hg)(0,_-D):(0,O.Hg)(u-f,_-l);n.push(new p(N,0,-1,S.tS.getEmpty(),new x.BH(N)))}this.length=(0,O.Hg)(u,_-l),this.tokens=n}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(g){throw new o.B8}}},79788:function(et,Le,e){"use strict";e.d(Le,{NL:function(){return i},e9:function(){return r}});var o=e(61652),B=e(25602),x=e(14149),O=e(10058),S=e(51563),p=e(79475),E=e(2644);function R(n){return n.toString()}class w{static create(c,u){const l=c.getAlternativeVersionId(),D=a(c);return new w(l,l,D,D,u,u,[])}constructor(c,u,l,D,f,y,C){this.beforeVersionId=c,this.afterVersionId=u,this.beforeEOL=l,this.afterEOL=D,this.beforeCursorState=f,this.afterCursorState=y,this.changes=C}append(c,u,l,D,f){u.length>0&&(this.changes=(0,S.b)(this.changes,u)),this.afterEOL=l,this.afterVersionId=D,this.afterCursorState=f}static _writeSelectionsSize(c){return 4+4*4*(c?c.length:0)}static _writeSelections(c,u,l){if(p.T4(c,u?u.length:0,l),l+=4,u)for(const D of u)p.T4(c,D.selectionStartLineNumber,l),l+=4,p.T4(c,D.selectionStartColumn,l),l+=4,p.T4(c,D.positionLineNumber,l),l+=4,p.T4(c,D.positionColumn,l),l+=4;return l}static _readSelections(c,u,l){const D=p.Ag(c,u);u+=4;for(let f=0;f<D;f++){const y=p.Ag(c,u);u+=4;const C=p.Ag(c,u);u+=4;const _=p.Ag(c,u);u+=4;const N=p.Ag(c,u);u+=4,l.push(new x.Y(y,C,_,N))}return u}serialize(){let c=10+w._writeSelectionsSize(this.beforeCursorState)+w._writeSelectionsSize(this.afterCursorState)+4;for(const D of this.changes)c+=D.writeSize();const u=new Uint8Array(c);let l=0;p.T4(u,this.beforeVersionId,l),l+=4,p.T4(u,this.afterVersionId,l),l+=4,p.Cg(u,this.beforeEOL,l),l+=1,p.Cg(u,this.afterEOL,l),l+=1,l=w._writeSelections(u,this.beforeCursorState,l),l=w._writeSelections(u,this.afterCursorState,l),p.T4(u,this.changes.length,l),l+=4;for(const D of this.changes)l=D.write(u,l);return u.buffer}static deserialize(c){const u=new Uint8Array(c);let l=0;const D=p.Ag(u,l);l+=4;const f=p.Ag(u,l);l+=4;const y=p.Q$(u,l);l+=1;const C=p.Q$(u,l);l+=1;const _=[];l=w._readSelections(u,l,_);const N=[];l=w._readSelections(u,l,N);const b=p.Ag(u,l);l+=4;const k=[];for(let V=0;V<b;V++)l=S.q.read(u,l,k);return new w(D,f,y,C,_,N,k)}}class m{get type(){return 0}get resource(){return O.o.isUri(this.model)?this.model:this.model.uri}constructor(c,u,l,D){this.label=c,this.code=u,this.model=l,this._data=w.create(l,D)}toString(){return(this._data instanceof w?this._data:w.deserialize(this._data)).changes.map(u=>u.toString()).join(", ")}matchesResource(c){return(O.o.isUri(this.model)?this.model:this.model.uri).toString()===c.toString()}setModel(c){this.model=c}canAppend(c){return this.model===c&&this._data instanceof w}append(c,u,l,D,f){this._data instanceof w&&this._data.append(c,u,l,D,f)}close(){this._data instanceof w&&(this._data=this._data.serialize())}open(){this._data instanceof w||(this._data=w.deserialize(this._data))}undo(){if(O.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof w&&(this._data=this._data.serialize());const c=w.deserialize(this._data);this.model._applyUndo(c.changes,c.beforeEOL,c.beforeVersionId,c.beforeCursorState)}redo(){if(O.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof w&&(this._data=this._data.serialize());const c=w.deserialize(this._data);this.model._applyRedo(c.changes,c.afterEOL,c.afterVersionId,c.afterCursorState)}heapSize(){return this._data instanceof w&&(this._data=this._data.serialize()),this._data.byteLength+168}}class g{get resources(){return this._editStackElementsArr.map(c=>c.resource)}constructor(c,u,l){this.label=c,this.code=u,this.type=1,this._isOpen=!0,this._editStackElementsArr=l.slice(0),this._editStackElementsMap=new Map;for(const D of this._editStackElementsArr){const f=R(D.resource);this._editStackElementsMap.set(f,D)}this._delegate=null}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(c){const u=R(c);return this._editStackElementsMap.has(u)}setModel(c){const u=R(O.o.isUri(c)?c:c.uri);this._editStackElementsMap.has(u)&&this._editStackElementsMap.get(u).setModel(c)}canAppend(c){if(!this._isOpen)return!1;const u=R(c.uri);return this._editStackElementsMap.has(u)?this._editStackElementsMap.get(u).canAppend(c):!1}append(c,u,l,D,f){const y=R(c.uri);this._editStackElementsMap.get(y).append(c,u,l,D,f)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const c of this._editStackElementsArr)c.undo()}redo(){for(const c of this._editStackElementsArr)c.redo()}heapSize(c){const u=R(c);return this._editStackElementsMap.has(u)?this._editStackElementsMap.get(u).heapSize():0}split(){return this._editStackElementsArr}toString(){const c=[];for(const u of this._editStackElementsArr)c.push(`${(0,E.EZ)(u.resource)}: ${u}`);return`{${c.join(", ")}}`}}function a(n){return n.getEOL()===`
`?0:1}function r(n){return n?n instanceof m||n instanceof g:!1}class i{constructor(c,u){this._model=c,this._undoRedoService=u}pushStackElement(){const c=this._undoRedoService.getLastElement(this._model.uri);r(c)&&c.close()}popStackElement(){const c=this._undoRedoService.getLastElement(this._model.uri);r(c)&&c.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(c,u){const l=this._undoRedoService.getLastElement(this._model.uri);if(r(l)&&l.canAppend(this._model))return l;const D=new m(o.NC("edit","Typing"),"undoredo.textBufferEdit",this._model,c);return this._undoRedoService.pushElement(D,u),D}pushEOL(c){const u=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(c),u.append(this._model,[],a(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(c,u,l,D){const f=this._getOrCreateEditStackElement(c,D),y=this._model.applyEdits(u,!0),C=i._computeCursorState(l,y),_=y.map((N,b)=>({index:b,textChange:N.textChange}));return _.sort((N,b)=>N.textChange.oldPosition===b.textChange.oldPosition?N.index-b.index:N.textChange.oldPosition-b.textChange.oldPosition),f.append(this._model,_.map(N=>N.textChange),a(this._model),this._model.getAlternativeVersionId(),C),C}static _computeCursorState(c,u){try{return c?c(u):null}catch(l){return(0,B.dL)(l),null}}}},18834:function(et,Le,e){"use strict";e.d(Le,{W:function(){return m},l:function(){return w}});var o=e(15864),B=e(30144),x=e(76675),O=e(4694),S=e(12150),p=e(49512),E=e(50126),R=e(25602);class w extends S.U{constructor(a,r){super(),this.textModel=a,this.languageConfigurationService=r}getLanguageConfiguration(a){return this.languageConfigurationService.getLanguageConfiguration(a)}_computeIndentLevel(a){return(0,p.q)(this.textModel.getLineContent(a+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(a,r,i){this.assertNotDisposed();const n=this.textModel.getLineCount();if(a<1||a>n)throw new R.he("Illegal value for lineNumber");const c=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,u=!!(c&&c.offSide);let l=-2,D=-1,f=-2,y=-1;const C=W=>{if(l!==-1&&(l===-2||l>W-1)){l=-1,D=-1;for(let G=W-2;G>=0;G--){const j=this._computeIndentLevel(G);if(j>=0){l=G,D=j;break}}}if(f===-2){f=-1,y=-1;for(let G=W;G<n;G++){const j=this._computeIndentLevel(G);if(j>=0){f=G,y=j;break}}}};let _=-2,N=-1,b=-2,k=-1;const V=W=>{if(_===-2){_=-1,N=-1;for(let G=W-2;G>=0;G--){const j=this._computeIndentLevel(G);if(j>=0){_=G,N=j;break}}}if(b!==-1&&(b===-2||b<W-1)){b=-1,k=-1;for(let G=W;G<n;G++){const j=this._computeIndentLevel(G);if(j>=0){b=G,k=j;break}}}};let K=0,Z=!0,z=0,A=!0,P=0,I=0;for(let W=0;Z||A;W++){const G=a-W,j=a+W;W>1&&(G<1||G<r)&&(Z=!1),W>1&&(j>n||j>i)&&(A=!1),W>5e4&&(Z=!1,A=!1);let Y=-1;if(Z&&G>=1){const Q=this._computeIndentLevel(G-1);Q>=0?(f=G-1,y=Q,Y=Math.ceil(Q/this.textModel.getOptions().indentSize)):(C(G),Y=this._getIndentLevelForWhitespaceLine(u,D,y))}let H=-1;if(A&&j<=n){const Q=this._computeIndentLevel(j-1);Q>=0?(_=j-1,N=Q,H=Math.ceil(Q/this.textModel.getOptions().indentSize)):(V(j),H=this._getIndentLevelForWhitespaceLine(u,N,k))}if(W===0){I=Y;continue}if(W===1){if(j<=n&&H>=0&&I+1===H){Z=!1,K=j,z=j,P=H;continue}if(G>=1&&Y>=0&&Y-1===I){A=!1,K=G,z=G,P=Y;continue}if(K=a,z=a,P=I,P===0)return{startLineNumber:K,endLineNumber:z,indent:P}}Z&&(Y>=P?K=G:Z=!1),A&&(H>=P?z=j:A=!1)}return{startLineNumber:K,endLineNumber:z,indent:P}}getLinesBracketGuides(a,r,i,n){var c;const u=[];for(let _=a;_<=r;_++)u.push([]);const l=!0,D=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new O.e(a,1,r,this.textModel.getLineMaxColumn(r))).toArray();let f;if(i&&D.length>0){const _=(a<=i.lineNumber&&i.lineNumber<=r?D:this.textModel.bracketPairs.getBracketPairsInRange(O.e.fromPositions(i)).toArray()).filter(N=>O.e.strictContainsPosition(N.range,i));f=(c=(0,o.dF)(_,N=>l||N.range.startLineNumber!==N.range.endLineNumber))===null||c===void 0?void 0:c.range}const y=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,C=new m;for(const _ of D){if(!_.closingBracketRange)continue;const N=f&&_.range.equalsRange(f);if(!N&&!n.includeInactive)continue;const b=C.getInlineClassName(_.nestingLevel,_.nestingLevelOfEqualBracketType,y)+(n.highlightActive&&N?" "+C.activeClassName:""),k=_.openingBracketRange.getStartPosition(),V=_.closingBracketRange.getStartPosition(),K=n.horizontalGuides===E.s6.Enabled||n.horizontalGuides===E.s6.EnabledForActive&&N;if(_.range.startLineNumber===_.range.endLineNumber){l&&K&&u[_.range.startLineNumber-a].push(new E.UO(-1,_.openingBracketRange.getEndPosition().column,b,new E.vW(!1,V.column),-1,-1));continue}const Z=this.getVisibleColumnFromPosition(V),z=this.getVisibleColumnFromPosition(_.openingBracketRange.getStartPosition()),A=Math.min(z,Z,_.minVisibleColumnIndentation+1);let P=!1;B.LC(this.textModel.getLineContent(_.closingBracketRange.startLineNumber))<_.closingBracketRange.startColumn-1&&(P=!0);const G=Math.max(k.lineNumber,a),j=Math.min(V.lineNumber,r),Y=P?1:0;for(let H=G;H<j+Y;H++)u[H-a].push(new E.UO(A,-1,b,null,H===k.lineNumber?k.column:-1,H===V.lineNumber?V.column:-1));K&&(k.lineNumber>=a&&z>A&&u[k.lineNumber-a].push(new E.UO(A,-1,b,new E.vW(!1,k.column),-1,-1)),V.lineNumber<=r&&Z>A&&u[V.lineNumber-a].push(new E.UO(A,-1,b,new E.vW(!P,V.column),-1,-1)))}for(const _ of u)_.sort((N,b)=>N.visibleColumn-b.visibleColumn);return u}getVisibleColumnFromPosition(a){return x.i.visibleColumnFromColumn(this.textModel.getLineContent(a.lineNumber),a.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(a,r){this.assertNotDisposed();const i=this.textModel.getLineCount();if(a<1||a>i)throw new Error("Illegal value for startLineNumber");if(r<1||r>i)throw new Error("Illegal value for endLineNumber");const n=this.textModel.getOptions(),c=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,u=!!(c&&c.offSide),l=new Array(r-a+1);let D=-2,f=-1,y=-2,C=-1;for(let _=a;_<=r;_++){const N=_-a,b=this._computeIndentLevel(_-1);if(b>=0){D=_-1,f=b,l[N]=Math.ceil(b/n.indentSize);continue}if(D===-2){D=-1,f=-1;for(let k=_-2;k>=0;k--){const V=this._computeIndentLevel(k);if(V>=0){D=k,f=V;break}}}if(y!==-1&&(y===-2||y<_-1)){y=-1,C=-1;for(let k=_;k<i;k++){const V=this._computeIndentLevel(k);if(V>=0){y=k,C=V;break}}}l[N]=this._getIndentLevelForWhitespaceLine(u,f,C)}return l}_getIndentLevelForWhitespaceLine(a,r,i){const n=this.textModel.getOptions();return r===-1||i===-1?0:r<i?1+Math.floor(r/n.indentSize):r===i||a?Math.ceil(i/n.indentSize):1+Math.floor(i/n.indentSize)}}class m{constructor(){this.activeClassName="indent-active"}getInlineClassName(a,r,i){return this.getInlineClassNameOfLevel(i?r:a)}getInlineClassNameOfLevel(a){return`bracket-indent-guide lvl-${a%30}`}}},22689:function(et,Le,e){"use strict";e.d(Le,{Ck:function(){return O},oQ:function(){return x}});var o=e(71221),B=e(18973);class x{constructor(E){this.values=E,this.prefixSum=new Uint32Array(E.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(E,R){E=(0,B.A)(E);const w=this.values,m=this.prefixSum,g=R.length;return g===0?!1:(this.values=new Uint32Array(w.length+g),this.values.set(w.subarray(0,E),0),this.values.set(w.subarray(E),E+g),this.values.set(R,E),E-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=E-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(m.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(E,R){return E=(0,B.A)(E),R=(0,B.A)(R),this.values[E]===R?!1:(this.values[E]=R,E-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=E-1),!0)}removeValues(E,R){E=(0,B.A)(E),R=(0,B.A)(R);const w=this.values,m=this.prefixSum;if(E>=w.length)return!1;const g=w.length-E;return R>=g&&(R=g),R===0?!1:(this.values=new Uint32Array(w.length-R),this.values.set(w.subarray(0,E),0),this.values.set(w.subarray(E+R),E),this.prefixSum=new Uint32Array(this.values.length),E-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=E-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(m.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(E){return E<0?0:(E=(0,B.A)(E),this._getPrefixSum(E))}_getPrefixSum(E){if(E<=this.prefixSumValidIndex[0])return this.prefixSum[E];let R=this.prefixSumValidIndex[0]+1;R===0&&(this.prefixSum[0]=this.values[0],R++),E>=this.values.length&&(E=this.values.length-1);for(let w=R;w<=E;w++)this.prefixSum[w]=this.prefixSum[w-1]+this.values[w];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],E),this.prefixSum[E]}getIndexOf(E){E=Math.floor(E),this.getTotalSum();let R=0,w=this.values.length-1,m=0,g=0,a=0;for(;R<=w;)if(m=R+(w-R)/2|0,g=this.prefixSum[m],a=g-this.values[m],E<a)w=m-1;else if(E>=g)R=m+1;else break;return new S(m,E-a)}}class O{constructor(E){this._values=E,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(E){return this._ensureValid(),E===0?0:this._prefixSum[E-1]}getIndexOf(E){this._ensureValid();const R=this._indexBySum[E],w=R>0?this._prefixSum[R-1]:0;return new S(R,E-w)}removeValues(E,R){this._values.splice(E,R),this._invalidate(E)}insertValues(E,R){this._values=(0,o.Zv)(this._values,E,R),this._invalidate(E)}_invalidate(E){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,E-1)}_ensureValid(){if(!this._isValid){for(let E=this._validEndIndex+1,R=this._values.length;E<R;E++){const w=this._values[E],m=E>0?this._prefixSum[E-1]:0;this._prefixSum[E]=m+w;for(let g=0;g<w;g++)this._indexBySum[m+g]=E}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(E,R){this._values[E]!==R&&(this._values[E]=R,this._invalidate(E))}}class S{constructor(E,R){this.index=E,this.remainder=R,this._prefixSumIndexOfResultBrand=void 0,this.index=E,this.remainder=R}}},93059:function(et,Le,e){"use strict";e.d(Le,{HS:function(){return yi},qx:function(){return bi},yO:function(){return fi}});var o=e(71221),B=e(64707),x=e(25602),O=e(79329),S=e(45029),p=e(30144),E=e(10058),R=e(94540),w=e(25724),m=e(56348),g=e(93895),a=e(4694),r=e(14149),i=e(99022),n=e(50131),c=e(81275),u=e(57204),l=e(14661),D=e(94850);class f{constructor(T,J,ce,Re){this.range=T,this.nestingLevel=J,this.nestingLevelOfEqualBracketType=ce,this.isInvalid=Re}}class y{constructor(T,J,ce,Re,Be,Xe){this.range=T,this.openingBracketRange=J,this.closingBracketRange=ce,this.nestingLevel=Re,this.nestingLevelOfEqualBracketType=Be,this.bracketPairNode=Xe}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}class C extends y{constructor(T,J,ce,Re,Be,Xe,Et){super(T,J,ce,Re,Be,Xe),this.minVisibleColumnIndentation=Et}}var _=e(86499),N=e(21453),b=e(34084),k=e(88954),V=e(77546),K=e(61696),Z=e(11720);class z extends S.JT{didLanguageChange(T){return this.brackets.didLanguageChange(T)}constructor(T,J){if(super(),this.textModel=T,this.getLanguageConfiguration=J,this.didChangeEmitter=new O.Q5,this.denseKeyProvider=new V.FE,this.brackets=new N.Z(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this.queuedTextEditsForInitialAstWithoutTokens=[],this.queuedTextEdits=[],T.tokenization.hasTokens)T.tokenization.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens);else{const ce=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),Re=new K.g(this.textModel.getValue(),ce);this.initialAstWithoutTokens=(0,k.w)(Re,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){const T=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,T||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:T}){const J=T.map(ce=>new _.Q((0,b.Hg)(ce.fromLineNumber-1,0),(0,b.Hg)(ce.toLineNumber,0),(0,b.Hg)(ce.toLineNumber-ce.fromLineNumber+1,0)));this.handleEdits(J,!0),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(T){const J=_.Q.fromModelContentChanges(T.changes);this.handleEdits(J,!1)}handleEdits(T,J){const ce=(0,Z.o)(this.queuedTextEdits,T);this.queuedTextEdits=ce,this.initialAstWithoutTokens&&!J&&(this.queuedTextEditsForInitialAstWithoutTokens=(0,Z.o)(this.queuedTextEditsForInitialAstWithoutTokens,T))}flushQueue(){this.queuedTextEdits.length>0&&(this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[]),this.queuedTextEditsForInitialAstWithoutTokens.length>0&&(this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1)),this.queuedTextEditsForInitialAstWithoutTokens=[])}parseDocumentFromTextBuffer(T,J,ce){const Be=J,Xe=new K.xH(this.textModel,this.brackets);return(0,k.w)(Xe,T,Be,ce)}getBracketsInRange(T,J){this.flushQueue();const ce=(0,b.Hg)(T.startLineNumber-1,T.startColumn-1),Re=(0,b.Hg)(T.endLineNumber-1,T.endColumn-1);return new o.W$(Be=>{const Xe=this.initialAstWithoutTokens||this.astWithTokens;I(Xe,b.xl,Xe.length,ce,Re,Be,0,0,new Map,J)})}getBracketPairsInRange(T,J){this.flushQueue();const ce=(0,b.PZ)(T.getStartPosition()),Re=(0,b.PZ)(T.getEndPosition());return new o.W$(Be=>{const Xe=this.initialAstWithoutTokens||this.astWithTokens,Et=new W(Be,J,this.textModel);G(Xe,b.xl,Xe.length,ce,Re,Et,0,new Map)})}getFirstBracketAfter(T){this.flushQueue();const J=this.initialAstWithoutTokens||this.astWithTokens;return P(J,b.xl,J.length,(0,b.PZ)(T))}getFirstBracketBefore(T){this.flushQueue();const J=this.initialAstWithoutTokens||this.astWithTokens;return A(J,b.xl,J.length,(0,b.PZ)(T))}}function A(wt,T,J,ce){if(wt.kind===4||wt.kind===2){const Re=[];for(const Be of wt.children)J=(0,b.Ii)(T,Be.length),Re.push({nodeOffsetStart:T,nodeOffsetEnd:J}),T=J;for(let Be=Re.length-1;Be>=0;Be--){const{nodeOffsetStart:Xe,nodeOffsetEnd:Et}=Re[Be];if((0,b.VR)(Xe,ce)){const It=A(wt.children[Be],Xe,Et,ce);if(It)return It}}return null}else{if(wt.kind===3)return null;if(wt.kind===1){const Re=(0,b.Qw)(T,J);return{bracketInfo:wt.bracketInfo,range:Re}}}return null}function P(wt,T,J,ce){if(wt.kind===4||wt.kind===2){for(const Re of wt.children){if(J=(0,b.Ii)(T,Re.length),(0,b.VR)(ce,J)){const Be=P(Re,T,J,ce);if(Be)return Be}T=J}return null}else{if(wt.kind===3)return null;if(wt.kind===1){const Re=(0,b.Qw)(T,J);return{bracketInfo:wt.bracketInfo,range:Re}}}return null}function I(wt,T,J,ce,Re,Be,Xe,Et,It,ni,si=!1){if(Xe>200)return!0;e:for(;;)switch(wt.kind){case 4:{const Xt=wt.childrenLength;for(let ri=0;ri<Xt;ri++){const ui=wt.getChild(ri);if(ui){if(J=(0,b.Ii)(T,ui.length),(0,b.By)(T,Re)&&(0,b.Zq)(J,ce)){if((0,b.Zq)(J,Re)){wt=ui;continue e}if(!I(ui,T,J,ce,Re,Be,Xe,0,It,ni))return!1}T=J}}return!0}case 2:{const Xt=!ni||!wt.closingBracket||wt.closingBracket.bracketInfo.closesColorized(wt.openingBracket.bracketInfo);let ri=0;if(It){let xi=It.get(wt.openingBracket.text);xi===void 0&&(xi=0),ri=xi,Xt&&(xi++,It.set(wt.openingBracket.text,xi))}const ui=wt.childrenLength;for(let xi=0;xi<ui;xi++){const Mi=wt.getChild(xi);if(Mi){if(J=(0,b.Ii)(T,Mi.length),(0,b.By)(T,Re)&&(0,b.Zq)(J,ce)){if((0,b.Zq)(J,Re)&&Mi.kind!==1){wt=Mi,Xt?(Xe++,Et=ri+1):Et=ri;continue e}if((Xt||Mi.kind!==1||!wt.closingBracket)&&!I(Mi,T,J,ce,Re,Be,Xt?Xe+1:Xe,Xt?ri+1:ri,It,ni,!wt.closingBracket))return!1}T=J}}return It==null||It.set(wt.openingBracket.text,ri),!0}case 3:{const Xt=(0,b.Qw)(T,J);return Be(new f(Xt,Xe-1,0,!0))}case 1:{const Xt=(0,b.Qw)(T,J);return Be(new f(Xt,Xe-1,Et-1,si))}case 0:return!0}}class W{constructor(T,J,ce){this.push=T,this.includeMinIndentation=J,this.textModel=ce}}function G(wt,T,J,ce,Re,Be,Xe,Et){var It;if(Xe>200)return!0;let ni=!0;if(wt.kind===2){let si=0;if(Et){let ui=Et.get(wt.openingBracket.text);ui===void 0&&(ui=0),si=ui,ui++,Et.set(wt.openingBracket.text,ui)}const Xt=(0,b.Ii)(T,wt.openingBracket.length);let ri=-1;if(Be.includeMinIndentation&&(ri=wt.computeMinIndentation(T,Be.textModel)),ni=Be.push(new C((0,b.Qw)(T,J),(0,b.Qw)(T,Xt),wt.closingBracket?(0,b.Qw)((0,b.Ii)(Xt,((It=wt.child)===null||It===void 0?void 0:It.length)||b.xl),J):void 0,Xe,si,wt,ri)),T=Xt,ni&&wt.child){const ui=wt.child;if(J=(0,b.Ii)(T,ui.length),(0,b.By)(T,Re)&&(0,b.Zq)(J,ce)&&(ni=G(ui,T,J,ce,Re,Be,Xe+1,Et),!ni))return!1}Et==null||Et.set(wt.openingBracket.text,si)}else{let si=T;for(const Xt of wt.children){const ri=si;if(si=(0,b.Ii)(si,Xt.length),(0,b.By)(ri,Re)&&(0,b.By)(ce,si)&&(ni=G(Xt,ri,si,ce,Re,Be,Xe,Et),!ni))return!1}}return ni}class j extends S.JT{get canBuildAST(){return this.textModel.getValueLength()<=5e6}constructor(T,J){super(),this.textModel=T,this.languageConfigurationService=J,this.bracketPairsTree=this._register(new S.XK),this.onDidChangeEmitter=new O.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange(ce=>{var Re;(!ce.languageId||!((Re=this.bracketPairsTree.value)===null||Re===void 0)&&Re.object.didLanguageChange(ce.languageId))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}handleDidChangeOptions(T){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(T){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(T){var J;(J=this.bracketPairsTree.value)===null||J===void 0||J.object.handleContentChanged(T)}handleDidChangeBackgroundTokenizationState(){var T;(T=this.bracketPairsTree.value)===null||T===void 0||T.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(T){var J;(J=this.bracketPairsTree.value)===null||J===void 0||J.object.handleDidChangeTokens(T)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const T=new S.SL;this.bracketPairsTree.value=Y(T.add(new z(this.textModel,J=>this.languageConfigurationService.getLanguageConfiguration(J))),T),T.add(this.bracketPairsTree.value.object.onDidChange(J=>this.onDidChangeEmitter.fire(J))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(T){var J;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((J=this.bracketPairsTree.value)===null||J===void 0?void 0:J.object.getBracketPairsInRange(T,!1))||o.W$.empty}getBracketPairsInRangeWithMinIndentation(T){var J;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((J=this.bracketPairsTree.value)===null||J===void 0?void 0:J.object.getBracketPairsInRange(T,!0))||o.W$.empty}getBracketsInRange(T,J=!1){var ce;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((ce=this.bracketPairsTree.value)===null||ce===void 0?void 0:ce.object.getBracketsInRange(T,J))||o.W$.empty}findMatchingBracketUp(T,J,ce){const Re=this.textModel.validatePosition(J),Be=this.textModel.getLanguageIdAtPosition(Re.lineNumber,Re.column);if(this.canBuildAST){const Xe=this.languageConfigurationService.getLanguageConfiguration(Be).bracketsNew.getClosingBracketInfo(T);if(!Xe)return null;const Et=this.getBracketPairsInRange(a.e.fromPositions(J,J)).findLast(It=>Xe.closes(It.openingBracketInfo));return Et?Et.openingBracketRange:null}else{const Xe=T.toLowerCase(),Et=this.languageConfigurationService.getLanguageConfiguration(Be).brackets;if(!Et)return null;const It=Et.textIsBracket[Xe];return It?ie(this._findMatchingBracketUp(It,Re,H(ce))):null}}matchBracket(T,J){if(this.canBuildAST){const ce=this.getBracketPairsInRange(a.e.fromPositions(T,T)).filter(Re=>Re.closingBracketRange!==void 0&&(Re.openingBracketRange.containsPosition(T)||Re.closingBracketRange.containsPosition(T))).findLastMaxBy((0,o.tT)(Re=>Re.openingBracketRange.containsPosition(T)?Re.openingBracketRange:Re.closingBracketRange,a.e.compareRangesUsingStarts));return ce?[ce.openingBracketRange,ce.closingBracketRange]:null}else{const ce=H(J);return this._matchBracket(this.textModel.validatePosition(T),ce)}}_establishBracketSearchOffsets(T,J,ce,Re){const Be=J.getCount(),Xe=J.getLanguageId(Re);let Et=Math.max(0,T.column-1-ce.maxBracketLength);for(let ni=Re-1;ni>=0;ni--){const si=J.getEndOffset(ni);if(si<=Et)break;if((0,l.Bu)(J.getStandardTokenType(ni))||J.getLanguageId(ni)!==Xe){Et=si;break}}let It=Math.min(J.getLineContent().length,T.column-1+ce.maxBracketLength);for(let ni=Re+1;ni<Be;ni++){const si=J.getStartOffset(ni);if(si>=It)break;if((0,l.Bu)(J.getStandardTokenType(ni))||J.getLanguageId(ni)!==Xe){It=si;break}}return{searchStartOffset:Et,searchEndOffset:It}}_matchBracket(T,J){const ce=T.lineNumber,Re=this.textModel.tokenization.getLineTokens(ce),Be=this.textModel.getLineContent(ce),Xe=Re.findTokenIndexAtOffset(T.column-1);if(Xe<0)return null;const Et=this.languageConfigurationService.getLanguageConfiguration(Re.getLanguageId(Xe)).brackets;if(Et&&!(0,l.Bu)(Re.getStandardTokenType(Xe))){let{searchStartOffset:It,searchEndOffset:ni}=this._establishBracketSearchOffsets(T,Re,Et,Xe),si=null;for(;;){const Xt=D.Vr.findNextBracketInRange(Et.forwardRegex,ce,Be,It,ni);if(!Xt)break;if(Xt.startColumn<=T.column&&T.column<=Xt.endColumn){const ri=Be.substring(Xt.startColumn-1,Xt.endColumn-1).toLowerCase(),ui=this._matchFoundBracket(Xt,Et.textIsBracket[ri],Et.textIsOpenBracket[ri],J);if(ui){if(ui instanceof Q)return null;si=ui}}It=Xt.endColumn-1}if(si)return si}if(Xe>0&&Re.getStartOffset(Xe)===T.column-1){const It=Xe-1,ni=this.languageConfigurationService.getLanguageConfiguration(Re.getLanguageId(It)).brackets;if(ni&&!(0,l.Bu)(Re.getStandardTokenType(It))){const{searchStartOffset:si,searchEndOffset:Xt}=this._establishBracketSearchOffsets(T,Re,ni,It),ri=D.Vr.findPrevBracketInRange(ni.reversedRegex,ce,Be,si,Xt);if(ri&&ri.startColumn<=T.column&&T.column<=ri.endColumn){const ui=Be.substring(ri.startColumn-1,ri.endColumn-1).toLowerCase(),xi=this._matchFoundBracket(ri,ni.textIsBracket[ui],ni.textIsOpenBracket[ui],J);if(xi)return xi instanceof Q?null:xi}}}return null}_matchFoundBracket(T,J,ce,Re){if(!J)return null;const Be=ce?this._findMatchingBracketDown(J,T.getEndPosition(),Re):this._findMatchingBracketUp(J,T.getStartPosition(),Re);return Be?Be instanceof Q?Be:[T,Be]:null}_findMatchingBracketUp(T,J,ce){const Re=T.languageId,Be=T.reversedRegex;let Xe=-1,Et=0;const It=(ni,si,Xt,ri)=>{for(;;){if(ce&&++Et%100===0&&!ce())return Q.INSTANCE;const ui=D.Vr.findPrevBracketInRange(Be,ni,si,Xt,ri);if(!ui)break;const xi=si.substring(ui.startColumn-1,ui.endColumn-1).toLowerCase();if(T.isOpen(xi)?Xe++:T.isClose(xi)&&Xe--,Xe===0)return ui;ri=ui.startColumn-1}return null};for(let ni=J.lineNumber;ni>=1;ni--){const si=this.textModel.tokenization.getLineTokens(ni),Xt=si.getCount(),ri=this.textModel.getLineContent(ni);let ui=Xt-1,xi=ri.length,Mi=ri.length;ni===J.lineNumber&&(ui=si.findTokenIndexAtOffset(J.column-1),xi=J.column-1,Mi=J.column-1);let Fi=!0;for(;ui>=0;ui--){const Yi=si.getLanguageId(ui)===Re&&!(0,l.Bu)(si.getStandardTokenType(ui));if(Yi)Fi?xi=si.getStartOffset(ui):(xi=si.getStartOffset(ui),Mi=si.getEndOffset(ui));else if(Fi&&xi!==Mi){const mn=It(ni,ri,xi,Mi);if(mn)return mn}Fi=Yi}if(Fi&&xi!==Mi){const Yi=It(ni,ri,xi,Mi);if(Yi)return Yi}}return null}_findMatchingBracketDown(T,J,ce){const Re=T.languageId,Be=T.forwardRegex;let Xe=1,Et=0;const It=(si,Xt,ri,ui)=>{for(;;){if(ce&&++Et%100===0&&!ce())return Q.INSTANCE;const xi=D.Vr.findNextBracketInRange(Be,si,Xt,ri,ui);if(!xi)break;const Mi=Xt.substring(xi.startColumn-1,xi.endColumn-1).toLowerCase();if(T.isOpen(Mi)?Xe++:T.isClose(Mi)&&Xe--,Xe===0)return xi;ri=xi.endColumn-1}return null},ni=this.textModel.getLineCount();for(let si=J.lineNumber;si<=ni;si++){const Xt=this.textModel.tokenization.getLineTokens(si),ri=Xt.getCount(),ui=this.textModel.getLineContent(si);let xi=0,Mi=0,Fi=0;si===J.lineNumber&&(xi=Xt.findTokenIndexAtOffset(J.column-1),Mi=J.column-1,Fi=J.column-1);let Yi=!0;for(;xi<ri;xi++){const mn=Xt.getLanguageId(xi)===Re&&!(0,l.Bu)(Xt.getStandardTokenType(xi));if(mn)Yi||(Mi=Xt.getStartOffset(xi)),Fi=Xt.getEndOffset(xi);else if(Yi&&Mi!==Fi){const hn=It(si,ui,Mi,Fi);if(hn)return hn}Yi=mn}if(Yi&&Mi!==Fi){const mn=It(si,ui,Mi,Fi);if(mn)return mn}}return null}findPrevBracket(T){var J;const ce=this.textModel.validatePosition(T);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((J=this.bracketPairsTree.value)===null||J===void 0?void 0:J.object.getFirstBracketBefore(ce))||null;let Re=null,Be=null,Xe=null;for(let Et=ce.lineNumber;Et>=1;Et--){const It=this.textModel.tokenization.getLineTokens(Et),ni=It.getCount(),si=this.textModel.getLineContent(Et);let Xt=ni-1,ri=si.length,ui=si.length;if(Et===ce.lineNumber){Xt=It.findTokenIndexAtOffset(ce.column-1),ri=ce.column-1,ui=ce.column-1;const Mi=It.getLanguageId(Xt);Re!==Mi&&(Re=Mi,Be=this.languageConfigurationService.getLanguageConfiguration(Re).brackets,Xe=this.languageConfigurationService.getLanguageConfiguration(Re).bracketsNew)}let xi=!0;for(;Xt>=0;Xt--){const Mi=It.getLanguageId(Xt);if(Re!==Mi){if(Be&&Xe&&xi&&ri!==ui){const Yi=D.Vr.findPrevBracketInRange(Be.reversedRegex,Et,si,ri,ui);if(Yi)return this._toFoundBracket(Xe,Yi);xi=!1}Re=Mi,Be=this.languageConfigurationService.getLanguageConfiguration(Re).brackets,Xe=this.languageConfigurationService.getLanguageConfiguration(Re).bracketsNew}const Fi=!!Be&&!(0,l.Bu)(It.getStandardTokenType(Xt));if(Fi)xi?ri=It.getStartOffset(Xt):(ri=It.getStartOffset(Xt),ui=It.getEndOffset(Xt));else if(Xe&&Be&&xi&&ri!==ui){const Yi=D.Vr.findPrevBracketInRange(Be.reversedRegex,Et,si,ri,ui);if(Yi)return this._toFoundBracket(Xe,Yi)}xi=Fi}if(Xe&&Be&&xi&&ri!==ui){const Mi=D.Vr.findPrevBracketInRange(Be.reversedRegex,Et,si,ri,ui);if(Mi)return this._toFoundBracket(Xe,Mi)}}return null}findNextBracket(T){var J;const ce=this.textModel.validatePosition(T);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((J=this.bracketPairsTree.value)===null||J===void 0?void 0:J.object.getFirstBracketAfter(ce))||null;const Re=this.textModel.getLineCount();let Be=null,Xe=null,Et=null;for(let It=ce.lineNumber;It<=Re;It++){const ni=this.textModel.tokenization.getLineTokens(It),si=ni.getCount(),Xt=this.textModel.getLineContent(It);let ri=0,ui=0,xi=0;if(It===ce.lineNumber){ri=ni.findTokenIndexAtOffset(ce.column-1),ui=ce.column-1,xi=ce.column-1;const Fi=ni.getLanguageId(ri);Be!==Fi&&(Be=Fi,Xe=this.languageConfigurationService.getLanguageConfiguration(Be).brackets,Et=this.languageConfigurationService.getLanguageConfiguration(Be).bracketsNew)}let Mi=!0;for(;ri<si;ri++){const Fi=ni.getLanguageId(ri);if(Be!==Fi){if(Et&&Xe&&Mi&&ui!==xi){const mn=D.Vr.findNextBracketInRange(Xe.forwardRegex,It,Xt,ui,xi);if(mn)return this._toFoundBracket(Et,mn);Mi=!1}Be=Fi,Xe=this.languageConfigurationService.getLanguageConfiguration(Be).brackets,Et=this.languageConfigurationService.getLanguageConfiguration(Be).bracketsNew}const Yi=!!Xe&&!(0,l.Bu)(ni.getStandardTokenType(ri));if(Yi)Mi||(ui=ni.getStartOffset(ri)),xi=ni.getEndOffset(ri);else if(Et&&Xe&&Mi&&ui!==xi){const mn=D.Vr.findNextBracketInRange(Xe.forwardRegex,It,Xt,ui,xi);if(mn)return this._toFoundBracket(Et,mn)}Mi=Yi}if(Et&&Xe&&Mi&&ui!==xi){const Fi=D.Vr.findNextBracketInRange(Xe.forwardRegex,It,Xt,ui,xi);if(Fi)return this._toFoundBracket(Et,Fi)}}return null}findEnclosingBrackets(T,J){const ce=this.textModel.validatePosition(T);if(this.canBuildAST){const ui=a.e.fromPositions(ce),xi=this.getBracketPairsInRange(a.e.fromPositions(ce,ce)).findLast(Mi=>Mi.closingBracketRange!==void 0&&Mi.range.strictContainsRange(ui));return xi?[xi.openingBracketRange,xi.closingBracketRange]:null}const Re=H(J),Be=this.textModel.getLineCount(),Xe=new Map;let Et=[];const It=(ui,xi)=>{if(!Xe.has(ui)){const Mi=[];for(let Fi=0,Yi=xi?xi.brackets.length:0;Fi<Yi;Fi++)Mi[Fi]=0;Xe.set(ui,Mi)}Et=Xe.get(ui)};let ni=0;const si=(ui,xi,Mi,Fi,Yi)=>{for(;;){if(Re&&++ni%100===0&&!Re())return Q.INSTANCE;const mn=D.Vr.findNextBracketInRange(ui.forwardRegex,xi,Mi,Fi,Yi);if(!mn)break;const hn=Mi.substring(mn.startColumn-1,mn.endColumn-1).toLowerCase(),Pn=ui.textIsBracket[hn];if(Pn&&(Pn.isOpen(hn)?Et[Pn.index]++:Pn.isClose(hn)&&Et[Pn.index]--,Et[Pn.index]===-1))return this._matchFoundBracket(mn,Pn,!1,Re);Fi=mn.endColumn-1}return null};let Xt=null,ri=null;for(let ui=ce.lineNumber;ui<=Be;ui++){const xi=this.textModel.tokenization.getLineTokens(ui),Mi=xi.getCount(),Fi=this.textModel.getLineContent(ui);let Yi=0,mn=0,hn=0;if(ui===ce.lineNumber){Yi=xi.findTokenIndexAtOffset(ce.column-1),mn=ce.column-1,hn=ce.column-1;const ts=xi.getLanguageId(Yi);Xt!==ts&&(Xt=ts,ri=this.languageConfigurationService.getLanguageConfiguration(Xt).brackets,It(Xt,ri))}let Pn=!0;for(;Yi<Mi;Yi++){const ts=xi.getLanguageId(Yi);if(Xt!==ts){if(ri&&Pn&&mn!==hn){const Gn=si(ri,ui,Fi,mn,hn);if(Gn)return ie(Gn);Pn=!1}Xt=ts,ri=this.languageConfigurationService.getLanguageConfiguration(Xt).brackets,It(Xt,ri)}const is=!!ri&&!(0,l.Bu)(xi.getStandardTokenType(Yi));if(is)Pn||(mn=xi.getStartOffset(Yi)),hn=xi.getEndOffset(Yi);else if(ri&&Pn&&mn!==hn){const Gn=si(ri,ui,Fi,mn,hn);if(Gn)return ie(Gn)}Pn=is}if(ri&&Pn&&mn!==hn){const ts=si(ri,ui,Fi,mn,hn);if(ts)return ie(ts)}}return null}_toFoundBracket(T,J){if(!J)return null;let ce=this.textModel.getValueInRange(J);ce=ce.toLowerCase();const Re=T.getBracketInfo(ce);return Re?{range:J,bracketInfo:Re}:null}}function Y(wt,T){return{object:wt,dispose:()=>T==null?void 0:T.dispose()}}function H(wt){if(typeof wt=="undefined")return()=>!0;{const T=Date.now();return()=>Date.now()-T<=wt}}class Q{constructor(){this._searchCanceledBrand=void 0}}Q.INSTANCE=new Q;function ie(wt){return wt instanceof Q?null:wt}var te=e(44444),se=e(63279);class ne extends S.JT{constructor(T){super(),this.textModel=T,this.colorProvider=new ee,this.onDidChangeEmitter=new O.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=T.getOptions().bracketPairColorizationOptions,this._register(T.bracketPairs.onDidChange(J=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(T){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(T,J,ce,Re){return Re?[]:J===void 0?[]:this.colorizationOptions.enabled?this.textModel.bracketPairs.getBracketsInRange(T,!0).map(Xe=>({id:`bracket${Xe.range.toString()}-${Xe.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(Xe,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:Xe.range})).toArray():[]}getAllDecorations(T,J){return T===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new a.e(1,1,this.textModel.getLineCount(),1),T,J):[]}}class ee{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(T,J){return T.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(J?T.nestingLevelOfEqualBracketType:T.nestingLevel)}getInlineClassNameOfLevel(T){return`bracket-highlighting-${T%30}`}}(0,se.Ic)((wt,T)=>{const J=[te.zJ,te.Vs,te.CE,te.UP,te.r0,te.m1],ce=new ee;T.addRule(`.monaco-editor .${ce.unexpectedClosingBracketClassName} { color: ${wt.getColor(te.ts)}; }`);const Re=J.map(Be=>wt.getColor(Be)).filter(Be=>!!Be).filter(Be=>!Be.isTransparent());for(let Be=0;Be<30;Be++){const Xe=Re[Be%Re.length];T.addRule(`.monaco-editor .${ce.getInlineClassNameOfLevel(Be)} { color: ${Xe}; }`)}});var re=e(79788),he=e(18834);class M{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function we(wt,T,J,ce,Re){Re.spacesDiff=0,Re.looksLikeAlignment=!1;let Be;for(Be=0;Be<T&&Be<ce;Be++){const ri=wt.charCodeAt(Be),ui=J.charCodeAt(Be);if(ri!==ui)break}let Xe=0,Et=0;for(let ri=Be;ri<T;ri++)wt.charCodeAt(ri)===32?Xe++:Et++;let It=0,ni=0;for(let ri=Be;ri<ce;ri++)J.charCodeAt(ri)===32?It++:ni++;if(Xe>0&&Et>0||It>0&&ni>0)return;const si=Math.abs(Et-ni),Xt=Math.abs(Xe-It);if(si===0){Re.spacesDiff=Xt,Xt>0&&0<=It-1&&It-1<wt.length&&It<J.length&&J.charCodeAt(It)!==32&&wt.charCodeAt(It-1)===32&&wt.charCodeAt(wt.length-1)===44&&(Re.looksLikeAlignment=!0);return}if(Xt%si===0){Re.spacesDiff=Xt/si;return}}function We(wt,T,J){const ce=Math.min(wt.getLineCount(),1e4);let Re=0,Be=0,Xe="",Et=0;const It=[2,4,6,8,3,5,7],ni=8,si=[0,0,0,0,0,0,0,0,0],Xt=new M;for(let xi=1;xi<=ce;xi++){const Mi=wt.getLineLength(xi),Fi=wt.getLineContent(xi),Yi=Mi<=65536;let mn=!1,hn=0,Pn=0,ts=0;for(let Gn=0,Vn=Mi;Gn<Vn;Gn++){const Xn=Yi?Fi.charCodeAt(Gn):wt.getLineCharCode(xi,Gn);if(Xn===9)ts++;else if(Xn===32)Pn++;else{mn=!0,hn=Gn;break}}if(!mn||(ts>0?Re++:Pn>1&&Be++,we(Xe,Et,Fi,hn,Xt),Xt.looksLikeAlignment&&!(J&&T===Xt.spacesDiff)))continue;const is=Xt.spacesDiff;is<=ni&&si[is]++,Xe=Fi,Et=hn}let ri=J;Re!==Be&&(ri=Re<Be);let ui=T;if(ri){let xi=ri?0:.1*ce;It.forEach(Mi=>{const Fi=si[Mi];Fi>xi&&(xi=Fi,ui=Mi)}),ui===4&&si[4]>0&&si[2]>0&&si[2]>=si[4]/2&&(ui=2)}return{insertSpaces:ri,tabSize:ui}}function ye(wt){return(wt.metadata&1)>>>0}function X(wt,T){wt.metadata=wt.metadata&254|T<<0}function ve(wt){return(wt.metadata&2)>>>1===1}function Ee(wt,T){wt.metadata=wt.metadata&253|(T?1:0)<<1}function Oe(wt){return(wt.metadata&4)>>>2===1}function Ke(wt,T){wt.metadata=wt.metadata&251|(T?1:0)<<2}function Qe(wt){return(wt.metadata&64)>>>6===1}function fe(wt,T){wt.metadata=wt.metadata&191|(T?1:0)<<6}function $(wt){return(wt.metadata&24)>>>3}function le(wt,T){wt.metadata=wt.metadata&231|T<<3}function De(wt){return(wt.metadata&32)>>>5===1}function xe(wt,T){wt.metadata=wt.metadata&223|(T?1:0)<<5}class Ce{constructor(T,J,ce){this.metadata=0,this.parent=this,this.left=this,this.right=this,X(this,1),this.start=J,this.end=ce,this.delta=0,this.maxEnd=ce,this.id=T,this.ownerId=0,this.options=null,Ke(this,!1),fe(this,!1),le(this,1),xe(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=J,this.cachedAbsoluteEnd=ce,this.range=null,Ee(this,!1)}reset(T,J,ce,Re){this.start=J,this.end=ce,this.maxEnd=ce,this.cachedVersionId=T,this.cachedAbsoluteStart=J,this.cachedAbsoluteEnd=ce,this.range=Re}setOptions(T){this.options=T;const J=this.options.className;Ke(this,J==="squiggly-error"||J==="squiggly-warning"||J==="squiggly-info"),fe(this,this.options.glyphMarginClassName!==null),le(this,this.options.stickiness),xe(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(T,J,ce){this.cachedVersionId!==ce&&(this.range=null),this.cachedVersionId=ce,this.cachedAbsoluteStart=T,this.cachedAbsoluteEnd=J}detach(){this.parent=null,this.left=null,this.right=null}}const me=new Ce(null,0,0);me.parent=me,me.left=me,me.right=me,X(me,0);class be{constructor(){this.root=me,this.requestNormalizeDelta=!1}intervalSearch(T,J,ce,Re,Be,Xe){return this.root===me?[]:ot(this,T,J,ce,Re,Be,Xe)}search(T,J,ce,Re){return this.root===me?[]:je(this,T,J,ce,Re)}collectNodesFromOwner(T){return Ae(this,T)}collectNodesPostOrder(){return pe(this)}insert(T){xt(this,T),this._normalizeDeltaIfNecessary()}delete(T){oi(this,T),this._normalizeDeltaIfNecessary()}resolveNode(T,J){const ce=T;let Re=0;for(;T!==this.root;)T===T.parent.right&&(Re+=T.parent.delta),T=T.parent;const Be=ce.start+Re,Xe=ce.end+Re;ce.setCachedOffsets(Be,Xe,J)}acceptReplace(T,J,ce,Re){const Be=Se(this,T,T+J);for(let Xe=0,Et=Be.length;Xe<Et;Xe++){const It=Be[Xe];oi(this,It)}this._normalizeDeltaIfNecessary(),Te(this,T,T+J,ce),this._normalizeDeltaIfNecessary();for(let Xe=0,Et=Be.length;Xe<Et;Xe++){const It=Be[Xe];It.start=It.cachedAbsoluteStart,It.end=It.cachedAbsoluteEnd,de(It,T,T+J,ce,Re),It.maxEnd=It.end,xt(this,It)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,oe(this))}}function oe(wt){let T=wt.root,J=0;for(;T!==me;){if(T.left!==me&&!ve(T.left)){T=T.left;continue}if(T.right!==me&&!ve(T.right)){J+=T.delta,T=T.right;continue}T.start=J+T.start,T.end=J+T.end,T.delta=0,qt(T),Ee(T,!0),Ee(T.left,!1),Ee(T.right,!1),T===T.parent.right&&(J-=T.parent.delta),T=T.parent}Ee(wt.root,!1)}function ue(wt,T,J,ce){return wt<J?!0:wt>J||ce===1?!1:ce===2?!0:T}function de(wt,T,J,ce,Re){const Be=$(wt),Xe=Be===0||Be===2,Et=Be===1||Be===2,It=J-T,ni=ce,si=Math.min(It,ni),Xt=wt.start;let ri=!1;const ui=wt.end;let xi=!1;T<=Xt&&ui<=J&&De(wt)&&(wt.start=T,ri=!0,wt.end=T,xi=!0);{const Fi=Re?1:It>0?2:0;!ri&&ue(Xt,Xe,T,Fi)&&(ri=!0),!xi&&ue(ui,Et,T,Fi)&&(xi=!0)}if(si>0&&!Re){const Fi=It>ni?2:0;!ri&&ue(Xt,Xe,T+si,Fi)&&(ri=!0),!xi&&ue(ui,Et,T+si,Fi)&&(xi=!0)}{const Fi=Re?1:0;!ri&&ue(Xt,Xe,J,Fi)&&(wt.start=T+ni,ri=!0),!xi&&ue(ui,Et,J,Fi)&&(wt.end=T+ni,xi=!0)}const Mi=ni-It;ri||(wt.start=Math.max(0,Xt+Mi)),xi||(wt.end=Math.max(0,ui+Mi)),wt.start>wt.end&&(wt.end=wt.start)}function Se(wt,T,J){let ce=wt.root,Re=0,Be=0,Xe=0,Et=0;const It=[];let ni=0;for(;ce!==me;){if(ve(ce)){Ee(ce.left,!1),Ee(ce.right,!1),ce===ce.parent.right&&(Re-=ce.parent.delta),ce=ce.parent;continue}if(!ve(ce.left)){if(Be=Re+ce.maxEnd,Be<T){Ee(ce,!0);continue}if(ce.left!==me){ce=ce.left;continue}}if(Xe=Re+ce.start,Xe>J){Ee(ce,!0);continue}if(Et=Re+ce.end,Et>=T&&(ce.setCachedOffsets(Xe,Et,0),It[ni++]=ce),Ee(ce,!0),ce.right!==me&&!ve(ce.right)){Re+=ce.delta,ce=ce.right;continue}}return Ee(wt.root,!1),It}function Te(wt,T,J,ce){let Re=wt.root,Be=0,Xe=0,Et=0;const It=ce-(J-T);for(;Re!==me;){if(ve(Re)){Ee(Re.left,!1),Ee(Re.right,!1),Re===Re.parent.right&&(Be-=Re.parent.delta),qt(Re),Re=Re.parent;continue}if(!ve(Re.left)){if(Xe=Be+Re.maxEnd,Xe<T){Ee(Re,!0);continue}if(Re.left!==me){Re=Re.left;continue}}if(Et=Be+Re.start,Et>J){Re.start+=It,Re.end+=It,Re.delta+=It,(Re.delta<-1073741824||Re.delta>1073741824)&&(wt.requestNormalizeDelta=!0),Ee(Re,!0);continue}if(Ee(Re,!0),Re.right!==me&&!ve(Re.right)){Be+=Re.delta,Re=Re.right;continue}}Ee(wt.root,!1)}function Ae(wt,T){let J=wt.root;const ce=[];let Re=0;for(;J!==me;){if(ve(J)){Ee(J.left,!1),Ee(J.right,!1),J=J.parent;continue}if(J.left!==me&&!ve(J.left)){J=J.left;continue}if(J.ownerId===T&&(ce[Re++]=J),Ee(J,!0),J.right!==me&&!ve(J.right)){J=J.right;continue}}return Ee(wt.root,!1),ce}function pe(wt){let T=wt.root;const J=[];let ce=0;for(;T!==me;){if(ve(T)){Ee(T.left,!1),Ee(T.right,!1),T=T.parent;continue}if(T.left!==me&&!ve(T.left)){T=T.left;continue}if(T.right!==me&&!ve(T.right)){T=T.right;continue}J[ce++]=T,Ee(T,!0)}return Ee(wt.root,!1),J}function je(wt,T,J,ce,Re){let Be=wt.root,Xe=0,Et=0,It=0;const ni=[];let si=0;for(;Be!==me;){if(ve(Be)){Ee(Be.left,!1),Ee(Be.right,!1),Be===Be.parent.right&&(Xe-=Be.parent.delta),Be=Be.parent;continue}if(Be.left!==me&&!ve(Be.left)){Be=Be.left;continue}Et=Xe+Be.start,It=Xe+Be.end,Be.setCachedOffsets(Et,It,ce);let Xt=!0;if(T&&Be.ownerId&&Be.ownerId!==T&&(Xt=!1),J&&Oe(Be)&&(Xt=!1),Re&&!Qe(Be)&&(Xt=!1),Xt&&(ni[si++]=Be),Ee(Be,!0),Be.right!==me&&!ve(Be.right)){Xe+=Be.delta,Be=Be.right;continue}}return Ee(wt.root,!1),ni}function ot(wt,T,J,ce,Re,Be,Xe){let Et=wt.root,It=0,ni=0,si=0,Xt=0;const ri=[];let ui=0;for(;Et!==me;){if(ve(Et)){Ee(Et.left,!1),Ee(Et.right,!1),Et===Et.parent.right&&(It-=Et.parent.delta),Et=Et.parent;continue}if(!ve(Et.left)){if(ni=It+Et.maxEnd,ni<T){Ee(Et,!0);continue}if(Et.left!==me){Et=Et.left;continue}}if(si=It+Et.start,si>J){Ee(Et,!0);continue}if(Xt=It+Et.end,Xt>=T){Et.setCachedOffsets(si,Xt,Be);let xi=!0;ce&&Et.ownerId&&Et.ownerId!==ce&&(xi=!1),Re&&Oe(Et)&&(xi=!1),Xe&&!Qe(Et)&&(xi=!1),xi&&(ri[ui++]=Et)}if(Ee(Et,!0),Et.right!==me&&!ve(Et.right)){It+=Et.delta,Et=Et.right;continue}}return Ee(wt.root,!1),ri}function xt(wt,T){if(wt.root===me)return T.parent=me,T.left=me,T.right=me,X(T,0),wt.root=T,wt.root;jt(wt,T),Ht(T.parent);let J=T;for(;J!==wt.root&&ye(J.parent)===1;)if(J.parent===J.parent.parent.left){const ce=J.parent.parent.right;ye(ce)===1?(X(J.parent,0),X(ce,0),X(J.parent.parent,1),J=J.parent.parent):(J===J.parent.right&&(J=J.parent,yt(wt,J)),X(J.parent,0),X(J.parent.parent,1),$t(wt,J.parent.parent))}else{const ce=J.parent.parent.left;ye(ce)===1?(X(J.parent,0),X(ce,0),X(J.parent.parent,1),J=J.parent.parent):(J===J.parent.left&&(J=J.parent,$t(wt,J)),X(J.parent,0),X(J.parent.parent,1),yt(wt,J.parent.parent))}return X(wt.root,0),T}function jt(wt,T){let J=0,ce=wt.root;const Re=T.start,Be=T.end;for(;;)if(He(Re,Be,ce.start+J,ce.end+J)<0)if(ce.left===me){T.start-=J,T.end-=J,T.maxEnd-=J,ce.left=T;break}else ce=ce.left;else if(ce.right===me){T.start-=J+ce.delta,T.end-=J+ce.delta,T.maxEnd-=J+ce.delta,ce.right=T;break}else J+=ce.delta,ce=ce.right;T.parent=ce,T.left=me,T.right=me,X(T,1)}function oi(wt,T){let J,ce;if(T.left===me?(J=T.right,ce=T,J.delta+=T.delta,(J.delta<-1073741824||J.delta>1073741824)&&(wt.requestNormalizeDelta=!0),J.start+=T.delta,J.end+=T.delta):T.right===me?(J=T.left,ce=T):(ce=ti(T.right),J=ce.right,J.start+=ce.delta,J.end+=ce.delta,J.delta+=ce.delta,(J.delta<-1073741824||J.delta>1073741824)&&(wt.requestNormalizeDelta=!0),ce.start+=T.delta,ce.end+=T.delta,ce.delta=T.delta,(ce.delta<-1073741824||ce.delta>1073741824)&&(wt.requestNormalizeDelta=!0)),ce===wt.root){wt.root=J,X(J,0),T.detach(),it(),qt(J),wt.root.parent=me;return}const Re=ye(ce)===1;if(ce===ce.parent.left?ce.parent.left=J:ce.parent.right=J,ce===T?J.parent=ce.parent:(ce.parent===T?J.parent=ce:J.parent=ce.parent,ce.left=T.left,ce.right=T.right,ce.parent=T.parent,X(ce,ye(T)),T===wt.root?wt.root=ce:T===T.parent.left?T.parent.left=ce:T.parent.right=ce,ce.left!==me&&(ce.left.parent=ce),ce.right!==me&&(ce.right.parent=ce)),T.detach(),Re){Ht(J.parent),ce!==T&&(Ht(ce),Ht(ce.parent)),it();return}Ht(J),Ht(J.parent),ce!==T&&(Ht(ce),Ht(ce.parent));let Be;for(;J!==wt.root&&ye(J)===0;)J===J.parent.left?(Be=J.parent.right,ye(Be)===1&&(X(Be,0),X(J.parent,1),yt(wt,J.parent),Be=J.parent.right),ye(Be.left)===0&&ye(Be.right)===0?(X(Be,1),J=J.parent):(ye(Be.right)===0&&(X(Be.left,0),X(Be,1),$t(wt,Be),Be=J.parent.right),X(Be,ye(J.parent)),X(J.parent,0),X(Be.right,0),yt(wt,J.parent),J=wt.root)):(Be=J.parent.left,ye(Be)===1&&(X(Be,0),X(J.parent,1),$t(wt,J.parent),Be=J.parent.left),ye(Be.left)===0&&ye(Be.right)===0?(X(Be,1),J=J.parent):(ye(Be.left)===0&&(X(Be.right,0),X(Be,1),yt(wt,Be),Be=J.parent.left),X(Be,ye(J.parent)),X(J.parent,0),X(Be.left,0),$t(wt,J.parent),J=wt.root));X(J,0),it()}function ti(wt){for(;wt.left!==me;)wt=wt.left;return wt}function it(){me.parent=me,me.delta=0,me.start=0,me.end=0}function yt(wt,T){const J=T.right;J.delta+=T.delta,(J.delta<-1073741824||J.delta>1073741824)&&(wt.requestNormalizeDelta=!0),J.start+=T.delta,J.end+=T.delta,T.right=J.left,J.left!==me&&(J.left.parent=T),J.parent=T.parent,T.parent===me?wt.root=J:T===T.parent.left?T.parent.left=J:T.parent.right=J,J.left=T,T.parent=J,qt(T),qt(J)}function $t(wt,T){const J=T.left;T.delta-=J.delta,(T.delta<-1073741824||T.delta>1073741824)&&(wt.requestNormalizeDelta=!0),T.start-=J.delta,T.end-=J.delta,T.left=J.right,J.right!==me&&(J.right.parent=T),J.parent=T.parent,T.parent===me?wt.root=J:T===T.parent.right?T.parent.right=J:T.parent.left=J,J.right=T,T.parent=J,qt(T),qt(J)}function Nt(wt){let T=wt.end;if(wt.left!==me){const J=wt.left.maxEnd;J>T&&(T=J)}if(wt.right!==me){const J=wt.right.maxEnd+wt.delta;J>T&&(T=J)}return T}function qt(wt){wt.maxEnd=Nt(wt)}function Ht(wt){for(;wt!==me;){const T=Nt(wt);if(wt.maxEnd===T)return;wt.maxEnd=T,wt=wt.parent}}function He(wt,T,J,ce){return wt===J?T-ce:wt-J}class Ct{constructor(T,J){this.piece=T,this.color=J,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==Gt)return Di(this.right);let T=this;for(;T.parent!==Gt&&T.parent.left!==T;)T=T.parent;return T.parent===Gt?Gt:T.parent}prev(){if(this.left!==Gt)return $i(this.left);let T=this;for(;T.parent!==Gt&&T.parent.right!==T;)T=T.parent;return T.parent===Gt?Gt:T.parent}detach(){this.parent=null,this.left=null,this.right=null}}const Gt=new Ct(null,0);Gt.parent=Gt,Gt.left=Gt,Gt.right=Gt,Gt.color=0;function Di(wt){for(;wt.left!==Gt;)wt=wt.left;return wt}function $i(wt){for(;wt.right!==Gt;)wt=wt.right;return wt}function Bi(wt){return wt===Gt?0:wt.size_left+wt.piece.length+Bi(wt.right)}function Vi(wt){return wt===Gt?0:wt.lf_left+wt.piece.lineFeedCnt+Vi(wt.right)}function Ji(){Gt.parent=Gt}function wn(wt,T){const J=T.right;J.size_left+=T.size_left+(T.piece?T.piece.length:0),J.lf_left+=T.lf_left+(T.piece?T.piece.lineFeedCnt:0),T.right=J.left,J.left!==Gt&&(J.left.parent=T),J.parent=T.parent,T.parent===Gt?wt.root=J:T.parent.left===T?T.parent.left=J:T.parent.right=J,J.left=T,T.parent=J}function yn(wt,T){const J=T.left;T.left=J.right,J.right!==Gt&&(J.right.parent=T),J.parent=T.parent,T.size_left-=J.size_left+(J.piece?J.piece.length:0),T.lf_left-=J.lf_left+(J.piece?J.piece.lineFeedCnt:0),T.parent===Gt?wt.root=J:T===T.parent.right?T.parent.right=J:T.parent.left=J,J.right=T,T.parent=J}function Cn(wt,T){let J,ce;if(T.left===Gt?(ce=T,J=ce.right):T.right===Gt?(ce=T,J=ce.left):(ce=Di(T.right),J=ce.right),ce===wt.root){wt.root=J,J.color=0,T.detach(),Ji(),wt.root.parent=Gt;return}const Re=ce.color===1;if(ce===ce.parent.left?ce.parent.left=J:ce.parent.right=J,ce===T?(J.parent=ce.parent,kn(wt,J)):(ce.parent===T?J.parent=ce:J.parent=ce.parent,kn(wt,J),ce.left=T.left,ce.right=T.right,ce.parent=T.parent,ce.color=T.color,T===wt.root?wt.root=ce:T===T.parent.left?T.parent.left=ce:T.parent.right=ce,ce.left!==Gt&&(ce.left.parent=ce),ce.right!==Gt&&(ce.right.parent=ce),ce.size_left=T.size_left,ce.lf_left=T.lf_left,kn(wt,ce)),T.detach(),J.parent.left===J){const Xe=Bi(J),Et=Vi(J);if(Xe!==J.parent.size_left||Et!==J.parent.lf_left){const It=Xe-J.parent.size_left,ni=Et-J.parent.lf_left;J.parent.size_left=Xe,J.parent.lf_left=Et,Rn(wt,J.parent,It,ni)}}if(kn(wt,J.parent),Re){Ji();return}let Be;for(;J!==wt.root&&J.color===0;)J===J.parent.left?(Be=J.parent.right,Be.color===1&&(Be.color=0,J.parent.color=1,wn(wt,J.parent),Be=J.parent.right),Be.left.color===0&&Be.right.color===0?(Be.color=1,J=J.parent):(Be.right.color===0&&(Be.left.color=0,Be.color=1,yn(wt,Be),Be=J.parent.right),Be.color=J.parent.color,J.parent.color=0,Be.right.color=0,wn(wt,J.parent),J=wt.root)):(Be=J.parent.left,Be.color===1&&(Be.color=0,J.parent.color=1,yn(wt,J.parent),Be=J.parent.left),Be.left.color===0&&Be.right.color===0?(Be.color=1,J=J.parent):(Be.left.color===0&&(Be.right.color=0,Be.color=1,wn(wt,Be),Be=J.parent.left),Be.color=J.parent.color,J.parent.color=0,Be.left.color=0,yn(wt,J.parent),J=wt.root));J.color=0,Ji()}function an(wt,T){for(kn(wt,T);T!==wt.root&&T.parent.color===1;)if(T.parent===T.parent.parent.left){const J=T.parent.parent.right;J.color===1?(T.parent.color=0,J.color=0,T.parent.parent.color=1,T=T.parent.parent):(T===T.parent.right&&(T=T.parent,wn(wt,T)),T.parent.color=0,T.parent.parent.color=1,yn(wt,T.parent.parent))}else{const J=T.parent.parent.left;J.color===1?(T.parent.color=0,J.color=0,T.parent.parent.color=1,T=T.parent.parent):(T===T.parent.left&&(T=T.parent,yn(wt,T)),T.parent.color=0,T.parent.parent.color=1,wn(wt,T.parent.parent))}wt.root.color=0}function Rn(wt,T,J,ce){for(;T!==wt.root&&T!==Gt;)T.parent.left===T&&(T.parent.size_left+=J,T.parent.lf_left+=ce),T=T.parent}function kn(wt,T){let J=0,ce=0;if(T!==wt.root){for(;T!==wt.root&&T===T.parent.right;)T=T.parent;if(T!==wt.root)for(T=T.parent,J=Bi(T.left)-T.size_left,ce=Vi(T.left)-T.lf_left,T.size_left+=J,T.lf_left+=ce;T!==wt.root&&(J!==0||ce!==0);)T.parent.left===T&&(T.parent.size_left+=J,T.parent.lf_left+=ce),T=T.parent}}var fn=e(57612);const On=65535;function xn(wt){let T;return wt[wt.length-1]<65536?T=new Uint16Array(wt.length):T=new Uint32Array(wt.length),T.set(wt,0),T}class An{constructor(T,J,ce,Re,Be){this.lineStarts=T,this.cr=J,this.lf=ce,this.crlf=Re,this.isBasicASCII=Be}}function Zt(wt,T=!0){const J=[0];let ce=1;for(let Re=0,Be=wt.length;Re<Be;Re++){const Xe=wt.charCodeAt(Re);Xe===13?Re+1<Be&&wt.charCodeAt(Re+1)===10?(J[ce++]=Re+2,Re++):J[ce++]=Re+1:Xe===10&&(J[ce++]=Re+1)}return T?xn(J):J}function ci(wt,T){wt.length=0,wt[0]=0;let J=1,ce=0,Re=0,Be=0,Xe=!0;for(let It=0,ni=T.length;It<ni;It++){const si=T.charCodeAt(It);si===13?It+1<ni&&T.charCodeAt(It+1)===10?(Be++,wt[J++]=It+2,It++):(ce++,wt[J++]=It+1):si===10?(Re++,wt[J++]=It+1):Xe&&si!==9&&(si<32||si>126)&&(Xe=!1)}const Et=new An(xn(wt),ce,Re,Be,Xe);return wt.length=0,Et}class _i{constructor(T,J,ce,Re,Be){this.bufferIndex=T,this.start=J,this.end=ce,this.lineFeedCnt=Re,this.length=Be}}class Ri{constructor(T,J){this.buffer=T,this.lineStarts=J}}class Zi{constructor(T,J){this._pieces=[],this._tree=T,this._BOM=J,this._index=0,T.root!==Gt&&T.iterate(T.root,ce=>(ce!==Gt&&this._pieces.push(ce.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class gi{constructor(T){this._limit=T,this._cache=[]}get(T){for(let J=this._cache.length-1;J>=0;J--){const ce=this._cache[J];if(ce.nodeStartOffset<=T&&ce.nodeStartOffset+ce.node.piece.length>=T)return ce}return null}get2(T){for(let J=this._cache.length-1;J>=0;J--){const ce=this._cache[J];if(ce.nodeStartLineNumber&&ce.nodeStartLineNumber<T&&ce.nodeStartLineNumber+ce.node.piece.lineFeedCnt>=T)return ce}return null}set(T){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(T)}validate(T){let J=!1;const ce=this._cache;for(let Re=0;Re<ce.length;Re++){const Be=ce[Re];if(Be.node.parent===null||Be.nodeStartOffset>=T){ce[Re]=null,J=!0;continue}}if(J){const Re=[];for(const Be of ce)Be!==null&&Re.push(Be);this._cache=Re}}}class Ze{constructor(T,J,ce){this.create(T,J,ce)}create(T,J,ce){this._buffers=[new Ri("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=Gt,this._lineCnt=1,this._length=0,this._EOL=J,this._EOLLength=J.length,this._EOLNormalized=ce;let Re=null;for(let Be=0,Xe=T.length;Be<Xe;Be++)if(T[Be].buffer.length>0){T[Be].lineStarts||(T[Be].lineStarts=Zt(T[Be].buffer));const Et=new _i(Be+1,{line:0,column:0},{line:T[Be].lineStarts.length-1,column:T[Be].buffer.length-T[Be].lineStarts[T[Be].lineStarts.length-1]},T[Be].lineStarts.length-1,T[Be].buffer.length);this._buffers.push(T[Be]),Re=this.rbInsertRight(Re,Et)}this._searchCache=new gi(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(T){const J=On,ce=J-Math.floor(J/3),Re=ce*2;let Be="",Xe=0;const Et=[];if(this.iterate(this.root,It=>{const ni=this.getNodeContent(It),si=ni.length;if(Xe<=ce||Xe+si<Re)return Be+=ni,Xe+=si,!0;const Xt=Be.replace(/\r\n|\r|\n/g,T);return Et.push(new Ri(Xt,Zt(Xt))),Be=ni,Xe=si,!0}),Xe>0){const It=Be.replace(/\r\n|\r|\n/g,T);Et.push(new Ri(It,Zt(It)))}this.create(Et,T,!0)}getEOL(){return this._EOL}setEOL(T){this._EOL=T,this._EOLLength=this._EOL.length,this.normalizeEOL(T)}createSnapshot(T){return new Zi(this,T)}getOffsetAt(T,J){let ce=0,Re=this.root;for(;Re!==Gt;)if(Re.left!==Gt&&Re.lf_left+1>=T)Re=Re.left;else if(Re.lf_left+Re.piece.lineFeedCnt+1>=T){ce+=Re.size_left;const Be=this.getAccumulatedValue(Re,T-Re.lf_left-2);return ce+=Be+J-1}else T-=Re.lf_left+Re.piece.lineFeedCnt,ce+=Re.size_left+Re.piece.length,Re=Re.right;return ce}getPositionAt(T){T=Math.floor(T),T=Math.max(0,T);let J=this.root,ce=0;const Re=T;for(;J!==Gt;)if(J.size_left!==0&&J.size_left>=T)J=J.left;else if(J.size_left+J.piece.length>=T){const Be=this.getIndexOf(J,T-J.size_left);if(ce+=J.lf_left+Be.index,Be.index===0){const Xe=this.getOffsetAt(ce+1,1),Et=Re-Xe;return new g.L(ce+1,Et+1)}return new g.L(ce+1,Be.remainder+1)}else if(T-=J.size_left+J.piece.length,ce+=J.lf_left+J.piece.lineFeedCnt,J.right===Gt){const Be=this.getOffsetAt(ce+1,1),Xe=Re-T-Be;return new g.L(ce+1,Xe+1)}else J=J.right;return new g.L(1,1)}getValueInRange(T,J){if(T.startLineNumber===T.endLineNumber&&T.startColumn===T.endColumn)return"";const ce=this.nodeAt2(T.startLineNumber,T.startColumn),Re=this.nodeAt2(T.endLineNumber,T.endColumn),Be=this.getValueInRange2(ce,Re);return J?J!==this._EOL||!this._EOLNormalized?Be.replace(/\r\n|\r|\n/g,J):J===this.getEOL()&&this._EOLNormalized?Be:Be.replace(/\r\n|\r|\n/g,J):Be}getValueInRange2(T,J){if(T.node===J.node){const Et=T.node,It=this._buffers[Et.piece.bufferIndex].buffer,ni=this.offsetInBuffer(Et.piece.bufferIndex,Et.piece.start);return It.substring(ni+T.remainder,ni+J.remainder)}let ce=T.node;const Re=this._buffers[ce.piece.bufferIndex].buffer,Be=this.offsetInBuffer(ce.piece.bufferIndex,ce.piece.start);let Xe=Re.substring(Be+T.remainder,Be+ce.piece.length);for(ce=ce.next();ce!==Gt;){const Et=this._buffers[ce.piece.bufferIndex].buffer,It=this.offsetInBuffer(ce.piece.bufferIndex,ce.piece.start);if(ce===J.node){Xe+=Et.substring(It,It+J.remainder);break}else Xe+=Et.substr(It,ce.piece.length);ce=ce.next()}return Xe}getLinesContent(){const T=[];let J=0,ce="",Re=!1;return this.iterate(this.root,Be=>{if(Be===Gt)return!0;const Xe=Be.piece;let Et=Xe.length;if(Et===0)return!0;const It=this._buffers[Xe.bufferIndex].buffer,ni=this._buffers[Xe.bufferIndex].lineStarts,si=Xe.start.line,Xt=Xe.end.line;let ri=ni[si]+Xe.start.column;if(Re&&(It.charCodeAt(ri)===10&&(ri++,Et--),T[J++]=ce,ce="",Re=!1,Et===0))return!0;if(si===Xt)return!this._EOLNormalized&&It.charCodeAt(ri+Et-1)===13?(Re=!0,ce+=It.substr(ri,Et-1)):ce+=It.substr(ri,Et),!0;ce+=this._EOLNormalized?It.substring(ri,Math.max(ri,ni[si+1]-this._EOLLength)):It.substring(ri,ni[si+1]).replace(/(\r\n|\r|\n)$/,""),T[J++]=ce;for(let ui=si+1;ui<Xt;ui++)ce=this._EOLNormalized?It.substring(ni[ui],ni[ui+1]-this._EOLLength):It.substring(ni[ui],ni[ui+1]).replace(/(\r\n|\r|\n)$/,""),T[J++]=ce;return!this._EOLNormalized&&It.charCodeAt(ni[Xt]+Xe.end.column-1)===13?(Re=!0,Xe.end.column===0?J--:ce=It.substr(ni[Xt],Xe.end.column-1)):ce=It.substr(ni[Xt],Xe.end.column),!0}),Re&&(T[J++]=ce,ce=""),T[J++]=ce,T}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(T){return this._lastVisitedLine.lineNumber===T?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=T,T===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(T):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(T,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(T).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(T){if(T.remainder===T.node.piece.length){const J=T.node.next();if(!J)return 0;const ce=this._buffers[J.piece.bufferIndex],Re=this.offsetInBuffer(J.piece.bufferIndex,J.piece.start);return ce.buffer.charCodeAt(Re)}else{const J=this._buffers[T.node.piece.bufferIndex],Re=this.offsetInBuffer(T.node.piece.bufferIndex,T.node.piece.start)+T.remainder;return J.buffer.charCodeAt(Re)}}getLineCharCode(T,J){const ce=this.nodeAt2(T,J+1);return this._getCharCode(ce)}getLineLength(T){if(T===this.getLineCount()){const J=this.getOffsetAt(T,1);return this.getLength()-J}return this.getOffsetAt(T+1,1)-this.getOffsetAt(T,1)-this._EOLLength}findMatchesInNode(T,J,ce,Re,Be,Xe,Et,It,ni,si,Xt){const ri=this._buffers[T.piece.bufferIndex],ui=this.offsetInBuffer(T.piece.bufferIndex,T.piece.start),xi=this.offsetInBuffer(T.piece.bufferIndex,Be),Mi=this.offsetInBuffer(T.piece.bufferIndex,Xe);let Fi;const Yi={line:0,column:0};let mn,hn;J._wordSeparators?(mn=ri.buffer.substring(xi,Mi),hn=Pn=>Pn+xi,J.reset(0)):(mn=ri.buffer,hn=Pn=>Pn,J.reset(xi));do if(Fi=J.next(mn),Fi){if(hn(Fi.index)>=Mi)return si;this.positionInBuffer(T,hn(Fi.index)-ui,Yi);const Pn=this.getLineFeedCnt(T.piece.bufferIndex,Be,Yi),ts=Yi.line===Be.line?Yi.column-Be.column+Re:Yi.column+1,is=ts+Fi[0].length;if(Xt[si++]=(0,fn.iE)(new a.e(ce+Pn,ts,ce+Pn,is),Fi,It),hn(Fi.index)+Fi[0].length>=Mi||si>=ni)return si}while(Fi);return si}findMatchesLineByLine(T,J,ce,Re){const Be=[];let Xe=0;const Et=new fn.sz(J.wordSeparators,J.regex);let It=this.nodeAt2(T.startLineNumber,T.startColumn);if(It===null)return[];const ni=this.nodeAt2(T.endLineNumber,T.endColumn);if(ni===null)return[];let si=this.positionInBuffer(It.node,It.remainder);const Xt=this.positionInBuffer(ni.node,ni.remainder);if(It.node===ni.node)return this.findMatchesInNode(It.node,Et,T.startLineNumber,T.startColumn,si,Xt,J,ce,Re,Xe,Be),Be;let ri=T.startLineNumber,ui=It.node;for(;ui!==ni.node;){const Mi=this.getLineFeedCnt(ui.piece.bufferIndex,si,ui.piece.end);if(Mi>=1){const Yi=this._buffers[ui.piece.bufferIndex].lineStarts,mn=this.offsetInBuffer(ui.piece.bufferIndex,ui.piece.start),hn=Yi[si.line+Mi],Pn=ri===T.startLineNumber?T.startColumn:1;if(Xe=this.findMatchesInNode(ui,Et,ri,Pn,si,this.positionInBuffer(ui,hn-mn),J,ce,Re,Xe,Be),Xe>=Re)return Be;ri+=Mi}const Fi=ri===T.startLineNumber?T.startColumn-1:0;if(ri===T.endLineNumber){const Yi=this.getLineContent(ri).substring(Fi,T.endColumn-1);return Xe=this._findMatchesInLine(J,Et,Yi,T.endLineNumber,Fi,Xe,Be,ce,Re),Be}if(Xe=this._findMatchesInLine(J,Et,this.getLineContent(ri).substr(Fi),ri,Fi,Xe,Be,ce,Re),Xe>=Re)return Be;ri++,It=this.nodeAt2(ri,1),ui=It.node,si=this.positionInBuffer(It.node,It.remainder)}if(ri===T.endLineNumber){const Mi=ri===T.startLineNumber?T.startColumn-1:0,Fi=this.getLineContent(ri).substring(Mi,T.endColumn-1);return Xe=this._findMatchesInLine(J,Et,Fi,T.endLineNumber,Mi,Xe,Be,ce,Re),Be}const xi=ri===T.startLineNumber?T.startColumn:1;return Xe=this.findMatchesInNode(ni.node,Et,ri,xi,si,Xt,J,ce,Re,Xe,Be),Be}_findMatchesInLine(T,J,ce,Re,Be,Xe,Et,It,ni){const si=T.wordSeparators;if(!It&&T.simpleSearch){const ri=T.simpleSearch,ui=ri.length,xi=ce.length;let Mi=-ui;for(;(Mi=ce.indexOf(ri,Mi+ui))!==-1;)if((!si||(0,fn.cM)(si,ce,xi,Mi,ui))&&(Et[Xe++]=new u.tk(new a.e(Re,Mi+1+Be,Re,Mi+1+ui+Be),null),Xe>=ni))return Xe;return Xe}let Xt;J.reset(0);do if(Xt=J.next(ce),Xt&&(Et[Xe++]=(0,fn.iE)(new a.e(Re,Xt.index+1+Be,Re,Xt.index+1+Xt[0].length+Be),Xt,It),Xe>=ni))return Xe;while(Xt);return Xe}insert(T,J,ce=!1){if(this._EOLNormalized=this._EOLNormalized&&ce,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==Gt){const{node:Re,remainder:Be,nodeStartOffset:Xe}=this.nodeAt(T),Et=Re.piece,It=Et.bufferIndex,ni=this.positionInBuffer(Re,Be);if(Re.piece.bufferIndex===0&&Et.end.line===this._lastChangeBufferPos.line&&Et.end.column===this._lastChangeBufferPos.column&&Xe+Et.length===T&&J.length<On){this.appendToNode(Re,J),this.computeBufferMetadata();return}if(Xe===T)this.insertContentToNodeLeft(J,Re),this._searchCache.validate(T);else if(Xe+Re.piece.length>T){const si=[];let Xt=new _i(Et.bufferIndex,ni,Et.end,this.getLineFeedCnt(Et.bufferIndex,ni,Et.end),this.offsetInBuffer(It,Et.end)-this.offsetInBuffer(It,ni));if(this.shouldCheckCRLF()&&this.endWithCR(J)&&this.nodeCharCodeAt(Re,Be)===10){const Mi={line:Xt.start.line+1,column:0};Xt=new _i(Xt.bufferIndex,Mi,Xt.end,this.getLineFeedCnt(Xt.bufferIndex,Mi,Xt.end),Xt.length-1),J+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(J))if(this.nodeCharCodeAt(Re,Be-1)===13){const Mi=this.positionInBuffer(Re,Be-1);this.deleteNodeTail(Re,Mi),J="\r"+J,Re.piece.length===0&&si.push(Re)}else this.deleteNodeTail(Re,ni);else this.deleteNodeTail(Re,ni);const ri=this.createNewPieces(J);Xt.length>0&&this.rbInsertRight(Re,Xt);let ui=Re;for(let xi=0;xi<ri.length;xi++)ui=this.rbInsertRight(ui,ri[xi]);this.deleteNodes(si)}else this.insertContentToNodeRight(J,Re)}else{const Re=this.createNewPieces(J);let Be=this.rbInsertLeft(null,Re[0]);for(let Xe=1;Xe<Re.length;Xe++)Be=this.rbInsertRight(Be,Re[Xe])}this.computeBufferMetadata()}delete(T,J){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",J<=0||this.root===Gt)return;const ce=this.nodeAt(T),Re=this.nodeAt(T+J),Be=ce.node,Xe=Re.node;if(Be===Xe){const ri=this.positionInBuffer(Be,ce.remainder),ui=this.positionInBuffer(Be,Re.remainder);if(ce.nodeStartOffset===T){if(J===Be.piece.length){const xi=Be.next();Cn(this,Be),this.validateCRLFWithPrevNode(xi),this.computeBufferMetadata();return}this.deleteNodeHead(Be,ui),this._searchCache.validate(T),this.validateCRLFWithPrevNode(Be),this.computeBufferMetadata();return}if(ce.nodeStartOffset+Be.piece.length===T+J){this.deleteNodeTail(Be,ri),this.validateCRLFWithNextNode(Be),this.computeBufferMetadata();return}this.shrinkNode(Be,ri,ui),this.computeBufferMetadata();return}const Et=[],It=this.positionInBuffer(Be,ce.remainder);this.deleteNodeTail(Be,It),this._searchCache.validate(T),Be.piece.length===0&&Et.push(Be);const ni=this.positionInBuffer(Xe,Re.remainder);this.deleteNodeHead(Xe,ni),Xe.piece.length===0&&Et.push(Xe);const si=Be.next();for(let ri=si;ri!==Gt&&ri!==Xe;ri=ri.next())Et.push(ri);const Xt=Be.piece.length===0?Be.prev():Be;this.deleteNodes(Et),this.validateCRLFWithNextNode(Xt),this.computeBufferMetadata()}insertContentToNodeLeft(T,J){const ce=[];if(this.shouldCheckCRLF()&&this.endWithCR(T)&&this.startWithLF(J)){const Xe=J.piece,Et={line:Xe.start.line+1,column:0},It=new _i(Xe.bufferIndex,Et,Xe.end,this.getLineFeedCnt(Xe.bufferIndex,Et,Xe.end),Xe.length-1);J.piece=It,T+=`
`,Rn(this,J,-1,-1),J.piece.length===0&&ce.push(J)}const Re=this.createNewPieces(T);let Be=this.rbInsertLeft(J,Re[Re.length-1]);for(let Xe=Re.length-2;Xe>=0;Xe--)Be=this.rbInsertLeft(Be,Re[Xe]);this.validateCRLFWithPrevNode(Be),this.deleteNodes(ce)}insertContentToNodeRight(T,J){this.adjustCarriageReturnFromNext(T,J)&&(T+=`
`);const ce=this.createNewPieces(T),Re=this.rbInsertRight(J,ce[0]);let Be=Re;for(let Xe=1;Xe<ce.length;Xe++)Be=this.rbInsertRight(Be,ce[Xe]);this.validateCRLFWithPrevNode(Re)}positionInBuffer(T,J,ce){const Re=T.piece,Be=T.piece.bufferIndex,Xe=this._buffers[Be].lineStarts,It=Xe[Re.start.line]+Re.start.column+J;let ni=Re.start.line,si=Re.end.line,Xt=0,ri=0,ui=0;for(;ni<=si&&(Xt=ni+(si-ni)/2|0,ui=Xe[Xt],Xt!==si);)if(ri=Xe[Xt+1],It<ui)si=Xt-1;else if(It>=ri)ni=Xt+1;else break;return ce?(ce.line=Xt,ce.column=It-ui,null):{line:Xt,column:It-ui}}getLineFeedCnt(T,J,ce){if(ce.column===0)return ce.line-J.line;const Re=this._buffers[T].lineStarts;if(ce.line===Re.length-1)return ce.line-J.line;const Be=Re[ce.line+1],Xe=Re[ce.line]+ce.column;if(Be>Xe+1)return ce.line-J.line;const Et=Xe-1;return this._buffers[T].buffer.charCodeAt(Et)===13?ce.line-J.line+1:ce.line-J.line}offsetInBuffer(T,J){return this._buffers[T].lineStarts[J.line]+J.column}deleteNodes(T){for(let J=0;J<T.length;J++)Cn(this,T[J])}createNewPieces(T){if(T.length>On){const si=[];for(;T.length>On;){const ri=T.charCodeAt(On-1);let ui;ri===13||ri>=55296&&ri<=56319?(ui=T.substring(0,On-1),T=T.substring(On-1)):(ui=T.substring(0,On),T=T.substring(On));const xi=Zt(ui);si.push(new _i(this._buffers.length,{line:0,column:0},{line:xi.length-1,column:ui.length-xi[xi.length-1]},xi.length-1,ui.length)),this._buffers.push(new Ri(ui,xi))}const Xt=Zt(T);return si.push(new _i(this._buffers.length,{line:0,column:0},{line:Xt.length-1,column:T.length-Xt[Xt.length-1]},Xt.length-1,T.length)),this._buffers.push(new Ri(T,Xt)),si}let J=this._buffers[0].buffer.length;const ce=Zt(T,!1);let Re=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===J&&J!==0&&this.startWithLF(T)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},Re=this._lastChangeBufferPos;for(let si=0;si<ce.length;si++)ce[si]+=J+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(ce.slice(1)),this._buffers[0].buffer+="_"+T,J+=1}else{if(J!==0)for(let si=0;si<ce.length;si++)ce[si]+=J;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(ce.slice(1)),this._buffers[0].buffer+=T}const Be=this._buffers[0].buffer.length,Xe=this._buffers[0].lineStarts.length-1,Et=Be-this._buffers[0].lineStarts[Xe],It={line:Xe,column:Et},ni=new _i(0,Re,It,this.getLineFeedCnt(0,Re,It),Be-J);return this._lastChangeBufferPos=It,[ni]}getLineRawContent(T,J=0){let ce=this.root,Re="";const Be=this._searchCache.get2(T);if(Be){ce=Be.node;const Xe=this.getAccumulatedValue(ce,T-Be.nodeStartLineNumber-1),Et=this._buffers[ce.piece.bufferIndex].buffer,It=this.offsetInBuffer(ce.piece.bufferIndex,ce.piece.start);if(Be.nodeStartLineNumber+ce.piece.lineFeedCnt===T)Re=Et.substring(It+Xe,It+ce.piece.length);else{const ni=this.getAccumulatedValue(ce,T-Be.nodeStartLineNumber);return Et.substring(It+Xe,It+ni-J)}}else{let Xe=0;const Et=T;for(;ce!==Gt;)if(ce.left!==Gt&&ce.lf_left>=T-1)ce=ce.left;else if(ce.lf_left+ce.piece.lineFeedCnt>T-1){const It=this.getAccumulatedValue(ce,T-ce.lf_left-2),ni=this.getAccumulatedValue(ce,T-ce.lf_left-1),si=this._buffers[ce.piece.bufferIndex].buffer,Xt=this.offsetInBuffer(ce.piece.bufferIndex,ce.piece.start);return Xe+=ce.size_left,this._searchCache.set({node:ce,nodeStartOffset:Xe,nodeStartLineNumber:Et-(T-1-ce.lf_left)}),si.substring(Xt+It,Xt+ni-J)}else if(ce.lf_left+ce.piece.lineFeedCnt===T-1){const It=this.getAccumulatedValue(ce,T-ce.lf_left-2),ni=this._buffers[ce.piece.bufferIndex].buffer,si=this.offsetInBuffer(ce.piece.bufferIndex,ce.piece.start);Re=ni.substring(si+It,si+ce.piece.length);break}else T-=ce.lf_left+ce.piece.lineFeedCnt,Xe+=ce.size_left+ce.piece.length,ce=ce.right}for(ce=ce.next();ce!==Gt;){const Xe=this._buffers[ce.piece.bufferIndex].buffer;if(ce.piece.lineFeedCnt>0){const Et=this.getAccumulatedValue(ce,0),It=this.offsetInBuffer(ce.piece.bufferIndex,ce.piece.start);return Re+=Xe.substring(It,It+Et-J),Re}else{const Et=this.offsetInBuffer(ce.piece.bufferIndex,ce.piece.start);Re+=Xe.substr(Et,ce.piece.length)}ce=ce.next()}return Re}computeBufferMetadata(){let T=this.root,J=1,ce=0;for(;T!==Gt;)J+=T.lf_left+T.piece.lineFeedCnt,ce+=T.size_left+T.piece.length,T=T.right;this._lineCnt=J,this._length=ce,this._searchCache.validate(this._length)}getIndexOf(T,J){const ce=T.piece,Re=this.positionInBuffer(T,J),Be=Re.line-ce.start.line;if(this.offsetInBuffer(ce.bufferIndex,ce.end)-this.offsetInBuffer(ce.bufferIndex,ce.start)===J){const Xe=this.getLineFeedCnt(T.piece.bufferIndex,ce.start,Re);if(Xe!==Be)return{index:Xe,remainder:0}}return{index:Be,remainder:Re.column}}getAccumulatedValue(T,J){if(J<0)return 0;const ce=T.piece,Re=this._buffers[ce.bufferIndex].lineStarts,Be=ce.start.line+J+1;return Be>ce.end.line?Re[ce.end.line]+ce.end.column-Re[ce.start.line]-ce.start.column:Re[Be]-Re[ce.start.line]-ce.start.column}deleteNodeTail(T,J){const ce=T.piece,Re=ce.lineFeedCnt,Be=this.offsetInBuffer(ce.bufferIndex,ce.end),Xe=J,Et=this.offsetInBuffer(ce.bufferIndex,Xe),It=this.getLineFeedCnt(ce.bufferIndex,ce.start,Xe),ni=It-Re,si=Et-Be,Xt=ce.length+si;T.piece=new _i(ce.bufferIndex,ce.start,Xe,It,Xt),Rn(this,T,si,ni)}deleteNodeHead(T,J){const ce=T.piece,Re=ce.lineFeedCnt,Be=this.offsetInBuffer(ce.bufferIndex,ce.start),Xe=J,Et=this.getLineFeedCnt(ce.bufferIndex,Xe,ce.end),It=this.offsetInBuffer(ce.bufferIndex,Xe),ni=Et-Re,si=Be-It,Xt=ce.length+si;T.piece=new _i(ce.bufferIndex,Xe,ce.end,Et,Xt),Rn(this,T,si,ni)}shrinkNode(T,J,ce){const Re=T.piece,Be=Re.start,Xe=Re.end,Et=Re.length,It=Re.lineFeedCnt,ni=J,si=this.getLineFeedCnt(Re.bufferIndex,Re.start,ni),Xt=this.offsetInBuffer(Re.bufferIndex,J)-this.offsetInBuffer(Re.bufferIndex,Be);T.piece=new _i(Re.bufferIndex,Re.start,ni,si,Xt),Rn(this,T,Xt-Et,si-It);const ri=new _i(Re.bufferIndex,ce,Xe,this.getLineFeedCnt(Re.bufferIndex,ce,Xe),this.offsetInBuffer(Re.bufferIndex,Xe)-this.offsetInBuffer(Re.bufferIndex,ce)),ui=this.rbInsertRight(T,ri);this.validateCRLFWithPrevNode(ui)}appendToNode(T,J){this.adjustCarriageReturnFromNext(J,T)&&(J+=`
`);const ce=this.shouldCheckCRLF()&&this.startWithLF(J)&&this.endWithCR(T),Re=this._buffers[0].buffer.length;this._buffers[0].buffer+=J;const Be=Zt(J,!1);for(let ui=0;ui<Be.length;ui++)Be[ui]+=Re;if(ce){const ui=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:Re-ui}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(Be.slice(1));const Xe=this._buffers[0].lineStarts.length-1,Et=this._buffers[0].buffer.length-this._buffers[0].lineStarts[Xe],It={line:Xe,column:Et},ni=T.piece.length+J.length,si=T.piece.lineFeedCnt,Xt=this.getLineFeedCnt(0,T.piece.start,It),ri=Xt-si;T.piece=new _i(T.piece.bufferIndex,T.piece.start,It,Xt,ni),this._lastChangeBufferPos=It,Rn(this,T,J.length,ri)}nodeAt(T){let J=this.root;const ce=this._searchCache.get(T);if(ce)return{node:ce.node,nodeStartOffset:ce.nodeStartOffset,remainder:T-ce.nodeStartOffset};let Re=0;for(;J!==Gt;)if(J.size_left>T)J=J.left;else if(J.size_left+J.piece.length>=T){Re+=J.size_left;const Be={node:J,remainder:T-J.size_left,nodeStartOffset:Re};return this._searchCache.set(Be),Be}else T-=J.size_left+J.piece.length,Re+=J.size_left+J.piece.length,J=J.right;return null}nodeAt2(T,J){let ce=this.root,Re=0;for(;ce!==Gt;)if(ce.left!==Gt&&ce.lf_left>=T-1)ce=ce.left;else if(ce.lf_left+ce.piece.lineFeedCnt>T-1){const Be=this.getAccumulatedValue(ce,T-ce.lf_left-2),Xe=this.getAccumulatedValue(ce,T-ce.lf_left-1);return Re+=ce.size_left,{node:ce,remainder:Math.min(Be+J-1,Xe),nodeStartOffset:Re}}else if(ce.lf_left+ce.piece.lineFeedCnt===T-1){const Be=this.getAccumulatedValue(ce,T-ce.lf_left-2);if(Be+J-1<=ce.piece.length)return{node:ce,remainder:Be+J-1,nodeStartOffset:Re};J-=ce.piece.length-Be;break}else T-=ce.lf_left+ce.piece.lineFeedCnt,Re+=ce.size_left+ce.piece.length,ce=ce.right;for(ce=ce.next();ce!==Gt;){if(ce.piece.lineFeedCnt>0){const Be=this.getAccumulatedValue(ce,0),Xe=this.offsetOfNode(ce);return{node:ce,remainder:Math.min(J-1,Be),nodeStartOffset:Xe}}else if(ce.piece.length>=J-1){const Be=this.offsetOfNode(ce);return{node:ce,remainder:J-1,nodeStartOffset:Be}}else J-=ce.piece.length;ce=ce.next()}return null}nodeCharCodeAt(T,J){if(T.piece.lineFeedCnt<1)return-1;const ce=this._buffers[T.piece.bufferIndex],Re=this.offsetInBuffer(T.piece.bufferIndex,T.piece.start)+J;return ce.buffer.charCodeAt(Re)}offsetOfNode(T){if(!T)return 0;let J=T.size_left;for(;T!==this.root;)T.parent.right===T&&(J+=T.parent.size_left+T.parent.piece.length),T=T.parent;return J}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(T){if(typeof T=="string")return T.charCodeAt(0)===10;if(T===Gt||T.piece.lineFeedCnt===0)return!1;const J=T.piece,ce=this._buffers[J.bufferIndex].lineStarts,Re=J.start.line,Be=ce[Re]+J.start.column;return Re===ce.length-1||ce[Re+1]>Be+1?!1:this._buffers[J.bufferIndex].buffer.charCodeAt(Be)===10}endWithCR(T){return typeof T=="string"?T.charCodeAt(T.length-1)===13:T===Gt||T.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(T,T.piece.length-1)===13}validateCRLFWithPrevNode(T){if(this.shouldCheckCRLF()&&this.startWithLF(T)){const J=T.prev();this.endWithCR(J)&&this.fixCRLF(J,T)}}validateCRLFWithNextNode(T){if(this.shouldCheckCRLF()&&this.endWithCR(T)){const J=T.next();this.startWithLF(J)&&this.fixCRLF(T,J)}}fixCRLF(T,J){const ce=[],Re=this._buffers[T.piece.bufferIndex].lineStarts;let Be;T.piece.end.column===0?Be={line:T.piece.end.line-1,column:Re[T.piece.end.line]-Re[T.piece.end.line-1]-1}:Be={line:T.piece.end.line,column:T.piece.end.column-1};const Xe=T.piece.length-1,Et=T.piece.lineFeedCnt-1;T.piece=new _i(T.piece.bufferIndex,T.piece.start,Be,Et,Xe),Rn(this,T,-1,-1),T.piece.length===0&&ce.push(T);const It={line:J.piece.start.line+1,column:0},ni=J.piece.length-1,si=this.getLineFeedCnt(J.piece.bufferIndex,It,J.piece.end);J.piece=new _i(J.piece.bufferIndex,It,J.piece.end,si,ni),Rn(this,J,-1,-1),J.piece.length===0&&ce.push(J);const Xt=this.createNewPieces(`\r
`);this.rbInsertRight(T,Xt[0]);for(let ri=0;ri<ce.length;ri++)Cn(this,ce[ri])}adjustCarriageReturnFromNext(T,J){if(this.shouldCheckCRLF()&&this.endWithCR(T)){const ce=J.next();if(this.startWithLF(ce)){if(T+=`
`,ce.piece.length===1)Cn(this,ce);else{const Re=ce.piece,Be={line:Re.start.line+1,column:0},Xe=Re.length-1,Et=this.getLineFeedCnt(Re.bufferIndex,Be,Re.end);ce.piece=new _i(Re.bufferIndex,Be,Re.end,Et,Xe),Rn(this,ce,-1,-1)}return!0}}return!1}iterate(T,J){if(T===Gt)return J(Gt);const ce=this.iterate(T.left,J);return ce&&J(T)&&this.iterate(T.right,J)}getNodeContent(T){if(T===Gt)return"";const J=this._buffers[T.piece.bufferIndex],ce=T.piece,Re=this.offsetInBuffer(ce.bufferIndex,ce.start),Be=this.offsetInBuffer(ce.bufferIndex,ce.end);return J.buffer.substring(Re,Be)}getPieceContent(T){const J=this._buffers[T.bufferIndex],ce=this.offsetInBuffer(T.bufferIndex,T.start),Re=this.offsetInBuffer(T.bufferIndex,T.end);return J.buffer.substring(ce,Re)}rbInsertRight(T,J){const ce=new Ct(J,1);if(ce.left=Gt,ce.right=Gt,ce.parent=Gt,ce.size_left=0,ce.lf_left=0,this.root===Gt)this.root=ce,ce.color=0;else if(T.right===Gt)T.right=ce,ce.parent=T;else{const Be=Di(T.right);Be.left=ce,ce.parent=Be}return an(this,ce),ce}rbInsertLeft(T,J){const ce=new Ct(J,1);if(ce.left=Gt,ce.right=Gt,ce.parent=Gt,ce.size_left=0,ce.lf_left=0,this.root===Gt)this.root=ce,ce.color=0;else if(T.left===Gt)T.left=ce,ce.parent=T;else{const Re=$i(T.left);Re.right=ce,ce.parent=Re}return an(this,ce),ce}}var dt=e(51563);class Ue extends S.JT{constructor(T,J,ce,Re,Be,Xe,Et){super(),this._onDidChangeContent=this._register(new O.Q5),this._BOM=J,this._mightContainNonBasicASCII=!Xe,this._mightContainRTL=Re,this._mightContainUnusualLineTerminators=Be,this._pieceTree=new Ze(T,ce,Et)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(T){return this._pieceTree.createSnapshot(T?this._BOM:"")}getOffsetAt(T,J){return this._pieceTree.getOffsetAt(T,J)}getPositionAt(T){return this._pieceTree.getPositionAt(T)}getRangeAt(T,J){const ce=T+J,Re=this.getPositionAt(T),Be=this.getPositionAt(ce);return new a.e(Re.lineNumber,Re.column,Be.lineNumber,Be.column)}getValueInRange(T,J=0){if(T.isEmpty())return"";const ce=this._getEndOfLine(J);return this._pieceTree.getValueInRange(T,ce)}getValueLengthInRange(T,J=0){if(T.isEmpty())return 0;if(T.startLineNumber===T.endLineNumber)return T.endColumn-T.startColumn;const ce=this.getOffsetAt(T.startLineNumber,T.startColumn),Re=this.getOffsetAt(T.endLineNumber,T.endColumn);let Be=0;const Xe=this._getEndOfLine(J),Et=this.getEOL();if(Xe.length!==Et.length){const It=Xe.length-Et.length,ni=T.endLineNumber-T.startLineNumber;Be=It*ni}return Re-ce+Be}getCharacterCountInRange(T,J=0){if(this._mightContainNonBasicASCII){let ce=0;const Re=T.startLineNumber,Be=T.endLineNumber;for(let Xe=Re;Xe<=Be;Xe++){const Et=this.getLineContent(Xe),It=Xe===Re?T.startColumn-1:0,ni=Xe===Be?T.endColumn-1:Et.length;for(let si=It;si<ni;si++)p.ZG(Et.charCodeAt(si))?(ce=ce+1,si=si+1):ce=ce+1}return ce+=this._getEndOfLine(J).length*(Be-Re),ce}return this.getValueLengthInRange(T,J)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(T){return this._pieceTree.getLineContent(T)}getLineCharCode(T,J){return this._pieceTree.getLineCharCode(T,J)}getLineLength(T){return this._pieceTree.getLineLength(T)}getLineFirstNonWhitespaceColumn(T){const J=p.LC(this.getLineContent(T));return J===-1?0:J+1}getLineLastNonWhitespaceColumn(T){const J=p.ow(this.getLineContent(T));return J===-1?0:J+2}_getEndOfLine(T){switch(T){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(T){this._pieceTree.setEOL(T)}applyEdits(T,J,ce){let Re=this._mightContainRTL,Be=this._mightContainUnusualLineTerminators,Xe=this._mightContainNonBasicASCII,Et=!0,It=[];for(let Mi=0;Mi<T.length;Mi++){const Fi=T[Mi];Et&&Fi._isTracked&&(Et=!1);const Yi=Fi.range;if(Fi.text){let is=!0;Xe||(is=!p.$i(Fi.text),Xe=is),!Re&&is&&(Re=p.Ut(Fi.text)),!Be&&is&&(Be=p.ab(Fi.text))}let mn="",hn=0,Pn=0,ts=0;if(Fi.text){let is;[hn,Pn,ts,is]=(0,R.Q)(Fi.text);const Gn=this.getEOL();is===0||is===(Gn===`\r
`?2:1)?mn=Fi.text:mn=Fi.text.replace(/\r\n|\r|\n/g,Gn)}It[Mi]={sortIndex:Mi,identifier:Fi.identifier||null,range:Yi,rangeOffset:this.getOffsetAt(Yi.startLineNumber,Yi.startColumn),rangeLength:this.getValueLengthInRange(Yi),text:mn,eolCount:hn,firstLineLength:Pn,lastLineLength:ts,forceMoveMarkers:!!Fi.forceMoveMarkers,isAutoWhitespaceEdit:Fi.isAutoWhitespaceEdit||!1}}It.sort(Ue._sortOpsAscending);let ni=!1;for(let Mi=0,Fi=It.length-1;Mi<Fi;Mi++){const Yi=It[Mi].range.getEndPosition(),mn=It[Mi+1].range.getStartPosition();if(mn.isBeforeOrEqual(Yi)){if(mn.isBefore(Yi))throw new Error("Overlapping ranges are not allowed!");ni=!0}}Et&&(It=this._reduceOperations(It));const si=ce||J?Ue._getInverseEditRanges(It):[],Xt=[];if(J)for(let Mi=0;Mi<It.length;Mi++){const Fi=It[Mi],Yi=si[Mi];if(Fi.isAutoWhitespaceEdit&&Fi.range.isEmpty())for(let mn=Yi.startLineNumber;mn<=Yi.endLineNumber;mn++){let hn="";mn===Yi.startLineNumber&&(hn=this.getLineContent(Fi.range.startLineNumber),p.LC(hn)!==-1)||Xt.push({lineNumber:mn,oldContent:hn})}}let ri=null;if(ce){let Mi=0;ri=[];for(let Fi=0;Fi<It.length;Fi++){const Yi=It[Fi],mn=si[Fi],hn=this.getValueInRange(Yi.range),Pn=Yi.rangeOffset+Mi;Mi+=Yi.text.length-hn.length,ri[Fi]={sortIndex:Yi.sortIndex,identifier:Yi.identifier,range:mn,text:hn,textChange:new dt.q(Yi.rangeOffset,hn,Pn,Yi.text)}}ni||ri.sort((Fi,Yi)=>Fi.sortIndex-Yi.sortIndex)}this._mightContainRTL=Re,this._mightContainUnusualLineTerminators=Be,this._mightContainNonBasicASCII=Xe;const ui=this._doApplyEdits(It);let xi=null;if(J&&Xt.length>0){Xt.sort((Mi,Fi)=>Fi.lineNumber-Mi.lineNumber),xi=[];for(let Mi=0,Fi=Xt.length;Mi<Fi;Mi++){const Yi=Xt[Mi].lineNumber;if(Mi>0&&Xt[Mi-1].lineNumber===Yi)continue;const mn=Xt[Mi].oldContent,hn=this.getLineContent(Yi);hn.length===0||hn===mn||p.LC(hn)!==-1||xi.push(Yi)}}return this._onDidChangeContent.fire(),new u.je(ri,ui,xi)}_reduceOperations(T){return T.length<1e3?T:[this._toSingleEditOperation(T)]}_toSingleEditOperation(T){let J=!1;const ce=T[0].range,Re=T[T.length-1].range,Be=new a.e(ce.startLineNumber,ce.startColumn,Re.endLineNumber,Re.endColumn);let Xe=ce.startLineNumber,Et=ce.startColumn;const It=[];for(let ui=0,xi=T.length;ui<xi;ui++){const Mi=T[ui],Fi=Mi.range;J=J||Mi.forceMoveMarkers,It.push(this.getValueInRange(new a.e(Xe,Et,Fi.startLineNumber,Fi.startColumn))),Mi.text.length>0&&It.push(Mi.text),Xe=Fi.endLineNumber,Et=Fi.endColumn}const ni=It.join(""),[si,Xt,ri]=(0,R.Q)(ni);return{sortIndex:0,identifier:T[0].identifier,range:Be,rangeOffset:this.getOffsetAt(Be.startLineNumber,Be.startColumn),rangeLength:this.getValueLengthInRange(Be,0),text:ni,eolCount:si,firstLineLength:Xt,lastLineLength:ri,forceMoveMarkers:J,isAutoWhitespaceEdit:!1}}_doApplyEdits(T){T.sort(Ue._sortOpsDescending);const J=[];for(let ce=0;ce<T.length;ce++){const Re=T[ce],Be=Re.range.startLineNumber,Xe=Re.range.startColumn,Et=Re.range.endLineNumber,It=Re.range.endColumn;if(Be===Et&&Xe===It&&Re.text.length===0)continue;Re.text?(this._pieceTree.delete(Re.rangeOffset,Re.rangeLength),this._pieceTree.insert(Re.rangeOffset,Re.text,!0)):this._pieceTree.delete(Re.rangeOffset,Re.rangeLength);const ni=new a.e(Be,Xe,Et,It);J.push({range:ni,rangeLength:Re.rangeLength,text:Re.text,rangeOffset:Re.rangeOffset,forceMoveMarkers:Re.forceMoveMarkers})}return J}findMatchesLineByLine(T,J,ce,Re){return this._pieceTree.findMatchesLineByLine(T,J,ce,Re)}static _getInverseEditRanges(T){const J=[];let ce=0,Re=0,Be=null;for(let Xe=0,Et=T.length;Xe<Et;Xe++){const It=T[Xe];let ni,si;Be?Be.range.endLineNumber===It.range.startLineNumber?(ni=ce,si=Re+(It.range.startColumn-Be.range.endColumn)):(ni=ce+(It.range.startLineNumber-Be.range.endLineNumber),si=It.range.startColumn):(ni=It.range.startLineNumber,si=It.range.startColumn);let Xt;if(It.text.length>0){const ri=It.eolCount+1;ri===1?Xt=new a.e(ni,si,ni,si+It.firstLineLength):Xt=new a.e(ni,si,ni+ri-1,It.lastLineLength+1)}else Xt=new a.e(ni,si,ni,si);ce=Xt.endLineNumber,Re=Xt.endColumn,J.push(Xt),Be=It}return J}static _sortOpsAscending(T,J){const ce=a.e.compareRangesUsingEnds(T.range,J.range);return ce===0?T.sortIndex-J.sortIndex:ce}static _sortOpsDescending(T,J){const ce=a.e.compareRangesUsingEnds(T.range,J.range);return ce===0?J.sortIndex-T.sortIndex:-ce}}class $e{constructor(T,J,ce,Re,Be,Xe,Et,It,ni){this._chunks=T,this._bom=J,this._cr=ce,this._lf=Re,this._crlf=Be,this._containsRTL=Xe,this._containsUnusualLineTerminators=Et,this._isBasicASCII=It,this._normalizeEOL=ni}_getEOL(T){const J=this._cr+this._lf+this._crlf,ce=this._cr+this._crlf;return J===0?T===1?`
`:`\r
`:ce>J/2?`\r
`:`
`}create(T){const J=this._getEOL(T),ce=this._chunks;if(this._normalizeEOL&&(J===`\r
`&&(this._cr>0||this._lf>0)||J===`
`&&(this._cr>0||this._crlf>0)))for(let Be=0,Xe=ce.length;Be<Xe;Be++){const Et=ce[Be].buffer.replace(/\r\n|\r|\n/g,J),It=Zt(Et);ce[Be]=new Ri(Et,It)}const Re=new Ue(ce,this._bom,J,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:Re,disposable:Re}}}class bt{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(T){if(T.length===0)return;this.chunks.length===0&&p.uS(T)&&(this.BOM=p.c1,T=T.substr(1));const J=T.charCodeAt(T.length-1);J===13||J>=55296&&J<=56319?(this._acceptChunk1(T.substr(0,T.length-1),!1),this._hasPreviousChar=!0,this._previousChar=J):(this._acceptChunk1(T,!1),this._hasPreviousChar=!1,this._previousChar=J)}_acceptChunk1(T,J){!J&&T.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+T):this._acceptChunk2(T))}_acceptChunk2(T){const J=ci(this._tmpLineStarts,T);this.chunks.push(new Ri(T,J.lineStarts)),this.cr+=J.cr,this.lf+=J.lf,this.crlf+=J.crlf,J.isBasicASCII||(this.isBasicASCII=!1,this.containsRTL||(this.containsRTL=p.Ut(T)),this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=p.ab(T)))}finish(T=!0){return this._finish(),new $e(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,T)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const T=this.chunks[this.chunks.length-1];T.buffer+=String.fromCharCode(this._previousChar);const J=Zt(T.buffer);T.lineStarts=J,this._previousChar===13&&this.cr++}}}var ft=e(74696),Ye=e(38244),vt=e(91895),nt=e(12150),Ge=e(15122),rt=e(32368),st=e(98718),tt=e(91187);class _t{constructor(T){this._default=T,this._store=[]}get(T){return T<this._store.length?this._store[T]:this._default}set(T,J){for(;T>=this._store.length;)this._store[this._store.length]=this._default;this._store[T]=J}replace(T,J,ce){if(T>=this._store.length)return;if(J===0){this.insert(T,ce);return}else if(ce===0){this.delete(T,J);return}const Re=this._store.slice(0,T),Be=this._store.slice(T+J),Xe=kt(ce,this._default);this._store=Re.concat(Xe,Be)}delete(T,J){J===0||T>=this._store.length||this._store.splice(T,J)}insert(T,J){if(J===0||T>=this._store.length)return;const ce=[];for(let Re=0;Re<J;Re++)ce[Re]=this._default;this._store=(0,o.Zv)(this._store,T,ce)}}function kt(wt,T){const J=[];for(let ce=0;ce<wt;ce++)J[ce]=T;return J}class at{get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}constructor(T,J){this._startLineNumber=T,this._tokens=J}getLineTokens(T){return this._tokens[T-this._startLineNumber]}appendLineTokens(T){this._tokens.push(T)}}class ht{constructor(){this._tokens=[]}add(T,J){if(this._tokens.length>0){const ce=this._tokens[this._tokens.length-1];if(ce.endLineNumber+1===T){ce.appendLineTokens(J);return}}this._tokens.push(new at(T,[J]))}finalize(){return this._tokens}}var Mt=e(25114);class ut{constructor(T,J){this.tokenizationSupport=J,this.initialState=this.tokenizationSupport.getInitialState(),this.store=new lt(T)}getStartState(T){return this.store.getStartState(T,this.initialState)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.initialState)}}class ke extends ut{constructor(T,J,ce,Re){super(T,J),this._textModel=ce,this._languageIdCodec=Re}updateTokensUntilLine(T,J){const ce=this._textModel.getLanguageId();for(;;){const Re=this.getFirstInvalidLine();if(!Re||Re.lineNumber>J)break;const Be=this._textModel.getLineContent(Re.lineNumber),Xe=Tt(this._languageIdCodec,ce,this.tokenizationSupport,Be,!0,Re.startState);T.add(Re.lineNumber,Xe.tokens),this.store.setEndState(Re.lineNumber,Xe.endState)}}getTokenTypeIfInsertingCharacter(T,J){const ce=this.getStartState(T.lineNumber);if(!ce)return 0;const Re=this._textModel.getLanguageId(),Be=this._textModel.getLineContent(T.lineNumber),Xe=Be.substring(0,T.column-1)+J+Be.substring(T.column-1),Et=Tt(this._languageIdCodec,Re,this.tokenizationSupport,Xe,!0,ce),It=new Mt.A(Et.tokens,Xe,this._languageIdCodec);if(It.getCount()===0)return 0;const ni=It.findTokenIndexAtOffset(T.column-1);return It.getStandardTokenType(ni)}tokenizeLineWithEdit(T,J,ce){const Re=T.lineNumber,Be=T.column,Xe=this.getStartState(Re);if(!Xe)return null;const Et=this._textModel.getLineContent(Re),It=Et.substring(0,Be-1)+ce+Et.substring(Be-1+J),ni=this._textModel.getLanguageIdAtPosition(Re,0),si=Tt(this._languageIdCodec,ni,this.tokenizationSupport,It,!0,Xe);return new Mt.A(si.tokens,It,this._languageIdCodec)}hasAccurateTokensForLine(T){const J=this.store.getFirstInvalidEndStateLineNumberOrMax();return T<J}isCheapToTokenize(T){const J=this.store.getFirstInvalidEndStateLineNumberOrMax();return T<J||T===J&&this._textModel.getLineLength(T)<2048}tokenizeHeuristically(T,J,ce){if(ce<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(J<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(T,ce),{heuristicTokens:!1};let Re=this.guessStartState(J);const Be=this._textModel.getLanguageId();for(let Xe=J;Xe<=ce;Xe++){const Et=this._textModel.getLineContent(Xe),It=Tt(this._languageIdCodec,Be,this.tokenizationSupport,Et,!0,Re);T.add(Xe,It.tokens),Re=It.endState}return{heuristicTokens:!0}}guessStartState(T){let J=this._textModel.getLineFirstNonWhitespaceColumn(T);const ce=[];let Re=null;for(let Et=T-1;J>1&&Et>=1;Et--){const It=this._textModel.getLineFirstNonWhitespaceColumn(Et);if(It!==0&&It<J&&(ce.push(this._textModel.getLineContent(Et)),J=It,Re=this.getStartState(Et),Re))break}Re||(Re=this.tokenizationSupport.getInitialState()),ce.reverse();const Be=this._textModel.getLanguageId();let Xe=Re;for(const Et of ce)Xe=Tt(this._languageIdCodec,Be,this.tokenizationSupport,Et,!1,Xe).endState;return Xe}}class lt{constructor(T){this.lineCount=T,this._tokenizationStateStore=new mt,this._invalidEndStatesLineNumbers=new Ve,this._invalidEndStatesLineNumbers.addRange(new st.q(1,T+1))}getEndState(T){return this._tokenizationStateStore.getEndState(T)}setEndState(T,J){if(!J)throw new x.he("Cannot set null/undefined state");this._invalidEndStatesLineNumbers.delete(T);const ce=this._tokenizationStateStore.setEndState(T,J);return ce&&T<this.lineCount&&this._invalidEndStatesLineNumbers.addRange(new st.q(T+1,T+2)),ce}acceptChange(T,J){this.lineCount+=J-T.length,this._tokenizationStateStore.acceptChange(T,J),this._invalidEndStatesLineNumbers.addRangeAndResize(new st.q(T.startLineNumber,T.endLineNumberExclusive),J)}acceptChanges(T){for(const J of T){const[ce]=(0,R.Q)(J.text);this.acceptChange(new m.z(J.range.startLineNumber,J.range.endLineNumber+1),ce+1)}}invalidateEndStateRange(T){this._invalidEndStatesLineNumbers.addRange(new st.q(T.startLineNumber,T.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this._invalidEndStatesLineNumbers.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return this._invalidEndStatesLineNumbers.min===null}getStartState(T,J){return T===1?J:this.getEndState(T-1)}getFirstInvalidLine(T){const J=this.getFirstInvalidEndStateLineNumber();if(J===null)return null;const ce=this.getStartState(J,T);if(!ce)throw new x.he("Start state must be defined");return{lineNumber:J,startState:ce}}}class mt{constructor(){this._lineEndStates=new _t(null)}getEndState(T){return this._lineEndStates.get(T)}setEndState(T,J){const ce=this._lineEndStates.get(T);return ce&&ce.equals(J)?!1:(this._lineEndStates.set(T,J),!0)}acceptChange(T,J){let ce=T.length;J>0&&ce>0&&(ce--,J--),this._lineEndStates.replace(T.startLineNumber,ce,J)}}class Ve{constructor(){this._ranges=[]}get min(){return this._ranges.length===0?null:this._ranges[0].start}delete(T){const J=this._ranges.findIndex(ce=>ce.contains(T));if(J!==-1){const ce=this._ranges[J];ce.start===T?ce.endExclusive===T+1?this._ranges.splice(J,1):this._ranges[J]=new st.q(T+1,ce.endExclusive):ce.endExclusive===T+1?this._ranges[J]=new st.q(ce.start,T):this._ranges.splice(J,1,new st.q(ce.start,T),new st.q(T+1,ce.endExclusive))}}addRange(T){st.q.addRange(T,this._ranges)}addRangeAndResize(T,J){let ce=0;for(;!(ce>=this._ranges.length||T.start<=this._ranges[ce].endExclusive);)ce++;let Re=ce;for(;!(Re>=this._ranges.length||T.endExclusive<this._ranges[Re].start);)Re++;const Be=J-T.length;for(let Xe=Re;Xe<this._ranges.length;Xe++)this._ranges[Xe]=this._ranges[Xe].delta(Be);if(ce===Re){const Xe=new st.q(T.start,T.start+J);Xe.isEmpty||this._ranges.splice(ce,0,Xe)}else{const Xe=Math.min(T.start,this._ranges[ce].start),Et=Math.max(T.endExclusive,this._ranges[Re-1].endExclusive),It=new st.q(Xe,Et+Be);It.isEmpty?this._ranges.splice(ce,Re-ce):this._ranges.splice(ce,Re-ce,It)}}toString(){return this._ranges.map(T=>T.toString()).join(" + ")}}function Tt(wt,T,J,ce,Re,Be){let Xe=null;if(J)try{Xe=J.tokenizeEncoded(ce,Re,Be.clone())}catch(Et){(0,x.dL)(Et)}return Xe||(Xe=(0,tt.Dy)(wt.encodeLanguageId(T),Be)),Mt.A.convertToEndOffset(Xe.tokens,ce.length),Xe}class At{constructor(T,J){this._tokenizerWithStateStore=T,this._backgroundTokenStore=J,this._isDisposed=!1,this._isScheduled=!1}dispose(){this._isDisposed=!0}handleChanges(){this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,ft.jg)(T=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(T)}))}_backgroundTokenizeWithDeadline(T){const J=Date.now()+T.timeRemaining(),ce=()=>{this._isDisposed||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<J?(0,Ge.fn)(ce):this._beginBackgroundTokenization())};ce()}_backgroundTokenizeForAtLeast1ms(){const T=this._tokenizerWithStateStore._textModel.getLineCount(),J=new ht,ce=rt.G.create(!1);do if(ce.elapsed()>1||this._tokenizeOneInvalidLine(J)>=T)break;while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens(J.finalize()),this.checkFinished()}_hasLinesToTokenize(){return this._tokenizerWithStateStore?!this._tokenizerWithStateStore.store.allStatesValid():!1}_tokenizeOneInvalidLine(T){var J;const ce=(J=this._tokenizerWithStateStore)===null||J===void 0?void 0:J.getFirstInvalidLine();return ce?(this._tokenizerWithStateStore.updateTokensUntilLine(T,ce.lineNumber),ce.lineNumber):this._tokenizerWithStateStore._textModel.getLineCount()+1}checkFinished(){this._isDisposed||this._tokenizerWithStateStore.store.allStatesValid()&&this._backgroundTokenStore.backgroundTokenizationFinished()}requestTokens(T,J){this._tokenizerWithStateStore.store.invalidateEndStateRange(new m.z(T,J))}}const Qt=new Uint32Array(0).buffer;class mi{static deleteBeginning(T,J){return T===null||T===Qt?T:mi.delete(T,0,J)}static deleteEnding(T,J){if(T===null||T===Qt)return T;const ce=Ci(T),Re=ce[ce.length-2];return mi.delete(T,J,Re)}static delete(T,J,ce){if(T===null||T===Qt||J===ce)return T;const Re=Ci(T),Be=Re.length>>>1;if(J===0&&Re[Re.length-2]===ce)return Qt;const Xe=Mt.A.findIndexInTokensArray(Re,J),Et=Xe>0?Re[Xe-1<<1]:0,It=Re[Xe<<1];if(ce<It){const ui=ce-J;for(let xi=Xe;xi<Be;xi++)Re[xi<<1]-=ui;return T}let ni,si;Et!==J?(Re[Xe<<1]=J,ni=Xe+1<<1,si=J):(ni=Xe<<1,si=Et);const Xt=ce-J;for(let ui=Xe+1;ui<Be;ui++){const xi=Re[ui<<1]-Xt;xi>si&&(Re[ni++]=xi,Re[ni++]=Re[(ui<<1)+1],si=xi)}if(ni===Re.length)return T;const ri=new Uint32Array(ni);return ri.set(Re.subarray(0,ni),0),ri.buffer}static append(T,J){if(J===Qt)return T;if(T===Qt)return J;if(T===null)return T;if(J===null)return null;const ce=Ci(T),Re=Ci(J),Be=Re.length>>>1,Xe=new Uint32Array(ce.length+Re.length);Xe.set(ce,0);let Et=ce.length;const It=ce[ce.length-2];for(let ni=0;ni<Be;ni++)Xe[Et++]=Re[ni<<1]+It,Xe[Et++]=Re[(ni<<1)+1];return Xe.buffer}static insert(T,J,ce){if(T===null||T===Qt)return T;const Re=Ci(T),Be=Re.length>>>1;let Xe=Mt.A.findIndexInTokensArray(Re,J);Xe>0&&Re[Xe-1<<1]===J&&Xe--;for(let Et=Xe;Et<Be;Et++)Re[Et<<1]+=ce;return T}}function Ci(wt){return wt instanceof Uint32Array?wt:new Uint32Array(wt)}var Oi=e(87597);class Ii{constructor(T){this._lineTokens=[],this._len=0,this._languageIdCodec=T}flush(){this._lineTokens=[],this._len=0}get hasTokens(){return this._lineTokens.length>0}getTokens(T,J,ce){let Re=null;if(J<this._len&&(Re=this._lineTokens[J]),Re!==null&&Re!==Qt)return new Mt.A(Ci(Re),ce,this._languageIdCodec);const Be=new Uint32Array(2);return Be[0]=ce.length,Be[1]=Qi(this._languageIdCodec.encodeLanguageId(T)),new Mt.A(Be,ce,this._languageIdCodec)}static _massageTokens(T,J,ce){const Re=ce?Ci(ce):null;if(J===0){let Be=!1;if(Re&&Re.length>1&&(Be=Oi.N.getLanguageId(Re[1])!==T),!Be)return Qt}if(!Re||Re.length===0){const Be=new Uint32Array(2);return Be[0]=J,Be[1]=Qi(T),Be.buffer}return Re[Re.length-2]=J,Re.byteOffset===0&&Re.byteLength===Re.buffer.byteLength?Re.buffer:Re}_ensureLine(T){for(;T>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(T,J){J!==0&&(T+J>this._len&&(J=this._len-T),this._lineTokens.splice(T,J),this._len-=J)}_insertLines(T,J){if(J===0)return;const ce=[];for(let Re=0;Re<J;Re++)ce[Re]=null;this._lineTokens=o.Zv(this._lineTokens,T,ce),this._len+=J}setTokens(T,J,ce,Re,Be){const Xe=Ii._massageTokens(this._languageIdCodec.encodeLanguageId(T),ce,Re);this._ensureLine(J);const Et=this._lineTokens[J];return this._lineTokens[J]=Xe,Be?!Ii._equals(Et,Xe):!1}static _equals(T,J){if(!T||!J)return!T&&!J;const ce=Ci(T),Re=Ci(J);if(ce.length!==Re.length)return!1;for(let Be=0,Xe=ce.length;Be<Xe;Be++)if(ce[Be]!==Re[Be])return!1;return!0}acceptEdit(T,J,ce){this._acceptDeleteRange(T),this._acceptInsertText(new g.L(T.startLineNumber,T.startColumn),J,ce)}_acceptDeleteRange(T){const J=T.startLineNumber-1;if(J>=this._len)return;if(T.startLineNumber===T.endLineNumber){if(T.startColumn===T.endColumn)return;this._lineTokens[J]=mi.delete(this._lineTokens[J],T.startColumn-1,T.endColumn-1);return}this._lineTokens[J]=mi.deleteEnding(this._lineTokens[J],T.startColumn-1);const ce=T.endLineNumber-1;let Re=null;ce<this._len&&(Re=mi.deleteBeginning(this._lineTokens[ce],T.endColumn-1)),this._lineTokens[J]=mi.append(this._lineTokens[J],Re),this._deleteLines(T.startLineNumber,T.endLineNumber-T.startLineNumber)}_acceptInsertText(T,J,ce){if(J===0&&ce===0)return;const Re=T.lineNumber-1;if(!(Re>=this._len)){if(J===0){this._lineTokens[Re]=mi.insert(this._lineTokens[Re],T.column-1,ce);return}this._lineTokens[Re]=mi.deleteEnding(this._lineTokens[Re],T.column-1),this._lineTokens[Re]=mi.insert(this._lineTokens[Re],T.column-1,ce),this._insertLines(T.lineNumber,J)}}setMultilineTokens(T,J){if(T.length===0)return{changes:[]};const ce=[];for(let Re=0,Be=T.length;Re<Be;Re++){const Xe=T[Re];let Et=0,It=0,ni=!1;for(let si=Xe.startLineNumber;si<=Xe.endLineNumber;si++)ni?(this.setTokens(J.getLanguageId(),si-1,J.getLineLength(si),Xe.getLineTokens(si),!1),It=si):this.setTokens(J.getLanguageId(),si-1,J.getLineLength(si),Xe.getLineTokens(si),!0)&&(ni=!0,Et=si,It=si);ni&&ce.push({fromLineNumber:Et,toLineNumber:It})}return{changes:ce}}}function Qi(wt){return(wt<<0|0|0|32768|2<<24|1024)>>>0}class Wi{constructor(T){this._pieces=[],this._isComplete=!1,this._languageIdCodec=T}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(T,J){this._pieces=T||[],this._isComplete=J}setPartial(T,J){let ce=T;if(J.length>0){const Be=J[0].getRange(),Xe=J[J.length-1].getRange();if(!Be||!Xe)return T;ce=T.plusRange(Be).plusRange(Xe)}let Re=null;for(let Be=0,Xe=this._pieces.length;Be<Xe;Be++){const Et=this._pieces[Be];if(Et.endLineNumber<ce.startLineNumber)continue;if(Et.startLineNumber>ce.endLineNumber){Re=Re||{index:Be};break}if(Et.removeTokens(ce),Et.isEmpty()){this._pieces.splice(Be,1),Be--,Xe--;continue}if(Et.endLineNumber<ce.startLineNumber)continue;if(Et.startLineNumber>ce.endLineNumber){Re=Re||{index:Be};continue}const[It,ni]=Et.split(ce);if(It.isEmpty()){Re=Re||{index:Be};continue}ni.isEmpty()||(this._pieces.splice(Be,1,It,ni),Be++,Xe++,Re=Re||{index:Be})}return Re=Re||{index:this._pieces.length},J.length>0&&(this._pieces=o.Zv(this._pieces,Re.index,J)),ce}isComplete(){return this._isComplete}addSparseTokens(T,J){if(J.getLineContent().length===0)return J;const ce=this._pieces;if(ce.length===0)return J;const Re=Wi._findFirstPieceWithLine(ce,T),Be=ce[Re].getLineTokens(T);if(!Be)return J;const Xe=J.getCount(),Et=Be.getCount();let It=0;const ni=[];let si=0,Xt=0;const ri=(ui,xi)=>{ui!==Xt&&(Xt=ui,ni[si++]=ui,ni[si++]=xi)};for(let ui=0;ui<Et;ui++){const xi=Be.getStartCharacter(ui),Mi=Be.getEndCharacter(ui),Fi=Be.getMetadata(ui),Yi=((Fi&1?2048:0)|(Fi&2?4096:0)|(Fi&4?8192:0)|(Fi&8?16384:0)|(Fi&16?16744448:0)|(Fi&32?4278190080:0))>>>0,mn=~Yi>>>0;for(;It<Xe&&J.getEndOffset(It)<=xi;)ri(J.getEndOffset(It),J.getMetadata(It)),It++;for(It<Xe&&J.getStartOffset(It)<xi&&ri(xi,J.getMetadata(It));It<Xe&&J.getEndOffset(It)<Mi;)ri(J.getEndOffset(It),J.getMetadata(It)&mn|Fi&Yi),It++;if(It<Xe)ri(Mi,J.getMetadata(It)&mn|Fi&Yi),J.getEndOffset(It)===Mi&&It++;else{const hn=Math.min(Math.max(0,It-1),Xe-1);ri(Mi,J.getMetadata(hn)&mn|Fi&Yi)}}for(;It<Xe;)ri(J.getEndOffset(It),J.getMetadata(It)),It++;return new Mt.A(new Uint32Array(ni),J.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(T,J){let ce=0,Re=T.length-1;for(;ce<Re;){let Be=ce+Math.floor((Re-ce)/2);if(T[Be].endLineNumber<J)ce=Be+1;else if(T[Be].startLineNumber>J)Re=Be-1;else{for(;Be>ce&&T[Be-1].startLineNumber<=J&&J<=T[Be-1].endLineNumber;)Be--;return Be}}return ce}acceptEdit(T,J,ce,Re,Be){for(const Xe of this._pieces)Xe.acceptEdit(T,J,ce,Re,Be)}}class Jt extends nt.U{constructor(T,J,ce,Re,Be,Xe){super(),this._languageService=T,this._languageConfigurationService=J,this._textModel=ce,this._bracketPairsTextModelPart=Re,this._languageId=Be,this._attachedViews=Xe,this._semanticTokens=new Wi(this._languageService.languageIdCodec),this._onDidChangeLanguage=this._register(new O.Q5),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new O.Q5),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new O.Q5),this.onDidChangeTokens=this._onDidChangeTokens.event,this.grammarTokens=this._register(new Ne(this._languageService.languageIdCodec,this._textModel,()=>this._languageId,this._attachedViews)),this._register(this._languageConfigurationService.onDidChange(Et=>{Et.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})),this._register(this.grammarTokens.onDidChangeTokens(Et=>{this._emitModelTokensChangedEvent(Et)})),this._register(this.grammarTokens.onDidChangeBackgroundTokenizationState(Et=>{this._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()}))}handleDidChangeContent(T){if(T.isFlush)this._semanticTokens.flush();else if(!T.isEolChange)for(const J of T.changes){const[ce,Re,Be]=(0,R.Q)(J.text);this._semanticTokens.acceptEdit(J.range,ce,Re,Be,J.text.length>0?J.text.charCodeAt(0):0)}this.grammarTokens.handleDidChangeContent(T)}handleDidChangeAttached(){this.grammarTokens.handleDidChangeAttached()}getLineTokens(T){this.validateLineNumber(T);const J=this.grammarTokens.getLineTokens(T);return this._semanticTokens.addSparseTokens(T,J)}_emitModelTokensChangedEvent(T){this._textModel._isDisposing()||(this._bracketPairsTextModelPart.handleDidChangeTokens(T),this._onDidChangeTokens.fire(T))}validateLineNumber(T){if(T<1||T>this._textModel.getLineCount())throw new x.he("Illegal value for lineNumber")}get hasTokens(){return this.grammarTokens.hasTokens}resetTokenization(){this.grammarTokens.resetTokenization()}get backgroundTokenizationState(){return this.grammarTokens.backgroundTokenizationState}forceTokenization(T){this.validateLineNumber(T),this.grammarTokens.forceTokenization(T)}hasAccurateTokensForLine(T){return this.validateLineNumber(T),this.grammarTokens.hasAccurateTokensForLine(T)}isCheapToTokenize(T){return this.validateLineNumber(T),this.grammarTokens.isCheapToTokenize(T)}tokenizeIfCheap(T){this.validateLineNumber(T),this.grammarTokens.tokenizeIfCheap(T)}getTokenTypeIfInsertingCharacter(T,J,ce){return this.grammarTokens.getTokenTypeIfInsertingCharacter(T,J,ce)}tokenizeLineWithEdit(T,J,ce){return this.grammarTokens.tokenizeLineWithEdit(T,J,ce)}setSemanticTokens(T,J){this._semanticTokens.set(T,J),this._emitModelTokensChangedEvent({semanticTokensApplied:T!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(T,J){if(this.hasCompleteSemanticTokens())return;const ce=this._textModel.validateRange(this._semanticTokens.setPartial(T,J));this._emitModelTokensChangedEvent({semanticTokensApplied:!0,ranges:[{fromLineNumber:ce.startLineNumber,toLineNumber:ce.endLineNumber}]})}getWordAtPosition(T){this.assertNotDisposed();const J=this._textModel.validatePosition(T),ce=this._textModel.getLineContent(J.lineNumber),Re=this.getLineTokens(J.lineNumber),Be=Re.findTokenIndexAtOffset(J.column-1),[Xe,Et]=Jt._findLanguageBoundaries(Re,Be),It=(0,Ye.t2)(J.column,this.getLanguageConfiguration(Re.getLanguageId(Be)).getWordDefinition(),ce.substring(Xe,Et),Xe);if(It&&It.startColumn<=T.column&&T.column<=It.endColumn)return It;if(Be>0&&Xe===J.column-1){const[ni,si]=Jt._findLanguageBoundaries(Re,Be-1),Xt=(0,Ye.t2)(J.column,this.getLanguageConfiguration(Re.getLanguageId(Be-1)).getWordDefinition(),ce.substring(ni,si),ni);if(Xt&&Xt.startColumn<=T.column&&T.column<=Xt.endColumn)return Xt}return null}getLanguageConfiguration(T){return this._languageConfigurationService.getLanguageConfiguration(T)}static _findLanguageBoundaries(T,J){const ce=T.getLanguageId(J);let Re=0;for(let Xe=J;Xe>=0&&T.getLanguageId(Xe)===ce;Xe--)Re=T.getStartOffset(Xe);let Be=T.getLineContent().length;for(let Xe=J,Et=T.getCount();Xe<Et&&T.getLanguageId(Xe)===ce;Xe++)Be=T.getEndOffset(Xe);return[Re,Be]}getWordUntilPosition(T){const J=this.getWordAtPosition(T);return J?{word:J.word.substr(0,T.column-J.startColumn),startColumn:J.startColumn,endColumn:T.column}:{word:"",startColumn:T.column,endColumn:T.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(T,J){const ce=this._textModel.validatePosition(new g.L(T,J)),Re=this.getLineTokens(ce.lineNumber);return Re.getLanguageId(Re.findTokenIndexAtOffset(ce.column-1))}setLanguageId(T,J="api"){if(this._languageId===T)return;const ce={oldLanguage:this._languageId,newLanguage:T,source:J};this._languageId=T,this._bracketPairsTextModelPart.handleDidChangeLanguage(ce),this.grammarTokens.resetTokenization(),this._onDidChangeLanguage.fire(ce),this._onDidChangeLanguageConfiguration.fire({})}}class Ne extends S.JT{get backgroundTokenizationState(){return this._backgroundTokenizationState}constructor(T,J,ce,Re){super(),this._languageIdCodec=T,this._textModel=J,this.getLanguageId=ce,this._tokenizer=null,this._defaultBackgroundTokenizer=null,this._backgroundTokenizer=this._register(new S.XK),this._tokens=new Ii(this._languageIdCodec),this._debugBackgroundTokenizer=this._register(new S.XK),this._backgroundTokenizationState=1,this._onDidChangeBackgroundTokenizationState=this._register(new O.Q5),this.onDidChangeBackgroundTokenizationState=this._onDidChangeBackgroundTokenizationState.event,this._onDidChangeTokens=this._register(new O.Q5),this.onDidChangeTokens=this._onDidChangeTokens.event,this._attachedViewStates=this._register(new S.b2),this._register(vt.RW.onDidChange(Be=>{const Xe=this.getLanguageId();Be.changedLanguages.indexOf(Xe)!==-1&&this.resetTokenization()})),this.resetTokenization(),this._register(Re.onDidChangeVisibleRanges(({view:Be,state:Xe})=>{if(Xe){let Et=this._attachedViewStates.get(Be);Et||(Et=new gt(()=>this.refreshRanges(Et.lineRanges)),this._attachedViewStates.set(Be,Et)),Et.handleStateChange(Xe)}else this._attachedViewStates.deleteAndDispose(Be)}))}resetTokenization(T=!0){var J;this._tokens.flush(),(J=this._debugBackgroundTokens)===null||J===void 0||J.flush(),this._debugBackgroundStates&&(this._debugBackgroundStates=new lt(this._textModel.getLineCount())),T&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]});const ce=()=>{if(this._textModel.isTooLargeForTokenization())return[null,null];const Xe=vt.RW.get(this.getLanguageId());if(!Xe)return[null,null];let Et;try{Et=Xe.getInitialState()}catch(It){return(0,x.dL)(It),[null,null]}return[Xe,Et]},[Re,Be]=ce();if(Re&&Be?this._tokenizer=new ke(this._textModel.getLineCount(),Re,this._textModel,this._languageIdCodec):this._tokenizer=null,this._backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizer){const Xe={setTokens:Et=>{this.setTokens(Et)},backgroundTokenizationFinished:()=>{if(this._backgroundTokenizationState===2)return;const Et=2;this._backgroundTokenizationState=Et,this._onDidChangeBackgroundTokenizationState.fire()},setEndState:(Et,It)=>{var ni;if(!this._tokenizer)return;const si=this._tokenizer.store.getFirstInvalidEndStateLineNumber();si!==null&&Et>=si&&((ni=this._tokenizer)===null||ni===void 0||ni.store.setEndState(Et,It))}};Re&&Re.createBackgroundTokenizer&&!Re.backgroundTokenizerShouldOnlyVerifyTokens&&(this._backgroundTokenizer.value=Re.createBackgroundTokenizer(this._textModel,Xe)),!this._backgroundTokenizer.value&&!this._textModel.isTooLargeForTokenization()&&(this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new At(this._tokenizer,Xe),this._defaultBackgroundTokenizer.handleChanges()),Re!=null&&Re.backgroundTokenizerShouldOnlyVerifyTokens&&Re.createBackgroundTokenizer?(this._debugBackgroundTokens=new Ii(this._languageIdCodec),this._debugBackgroundStates=new lt(this._textModel.getLineCount()),this._debugBackgroundTokenizer.clear(),this._debugBackgroundTokenizer.value=Re.createBackgroundTokenizer(this._textModel,{setTokens:Et=>{var It;(It=this._debugBackgroundTokens)===null||It===void 0||It.setMultilineTokens(Et,this._textModel)},backgroundTokenizationFinished(){},setEndState:(Et,It)=>{var ni;(ni=this._debugBackgroundStates)===null||ni===void 0||ni.setEndState(Et,It)}})):(this._debugBackgroundTokens=void 0,this._debugBackgroundStates=void 0,this._debugBackgroundTokenizer.value=void 0)}this.refreshAllVisibleLineTokens()}handleDidChangeAttached(){var T;(T=this._defaultBackgroundTokenizer)===null||T===void 0||T.handleChanges()}handleDidChangeContent(T){var J,ce,Re;if(T.isFlush)this.resetTokenization(!1);else if(!T.isEolChange){for(const Be of T.changes){const[Xe,Et]=(0,R.Q)(Be.text);this._tokens.acceptEdit(Be.range,Xe,Et),(J=this._debugBackgroundTokens)===null||J===void 0||J.acceptEdit(Be.range,Xe,Et)}(ce=this._debugBackgroundStates)===null||ce===void 0||ce.acceptChanges(T.changes),this._tokenizer&&this._tokenizer.store.acceptChanges(T.changes),(Re=this._defaultBackgroundTokenizer)===null||Re===void 0||Re.handleChanges()}}setTokens(T){const{changes:J}=this._tokens.setMultilineTokens(T,this._textModel);return J.length>0&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:J}),{changes:J}}refreshAllVisibleLineTokens(){const T=m.z.joinMany([...this._attachedViewStates].map(([J,ce])=>ce.lineRanges));this.refreshRanges(T)}refreshRanges(T){for(const J of T)this.refreshRange(J.startLineNumber,J.endLineNumberExclusive-1)}refreshRange(T,J){var ce,Re;if(!this._tokenizer)return;T=Math.max(1,Math.min(this._textModel.getLineCount(),T)),J=Math.min(this._textModel.getLineCount(),J);const Be=new ht,{heuristicTokens:Xe}=this._tokenizer.tokenizeHeuristically(Be,T,J),Et=this.setTokens(Be.finalize());if(Xe)for(const It of Et.changes)(ce=this._backgroundTokenizer.value)===null||ce===void 0||ce.requestTokens(It.fromLineNumber,It.toLineNumber+1);(Re=this._defaultBackgroundTokenizer)===null||Re===void 0||Re.checkFinished()}forceTokenization(T){var J,ce;const Re=new ht;(J=this._tokenizer)===null||J===void 0||J.updateTokensUntilLine(Re,T),this.setTokens(Re.finalize()),(ce=this._defaultBackgroundTokenizer)===null||ce===void 0||ce.checkFinished()}hasAccurateTokensForLine(T){return this._tokenizer?this._tokenizer.hasAccurateTokensForLine(T):!0}isCheapToTokenize(T){return this._tokenizer?this._tokenizer.isCheapToTokenize(T):!0}tokenizeIfCheap(T){this.isCheapToTokenize(T)&&this.forceTokenization(T)}getLineTokens(T){var J;const ce=this._textModel.getLineContent(T),Re=this._tokens.getTokens(this._textModel.getLanguageId(),T-1,ce);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer&&this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>T&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>T){const Be=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),T-1,ce);!Re.equals(Be)&&(!((J=this._debugBackgroundTokenizer.value)===null||J===void 0)&&J.reportMismatchingTokens)&&this._debugBackgroundTokenizer.value.reportMismatchingTokens(T)}return Re}getTokenTypeIfInsertingCharacter(T,J,ce){if(!this._tokenizer)return 0;const Re=this._textModel.validatePosition(new g.L(T,J));return this.forceTokenization(Re.lineNumber),this._tokenizer.getTokenTypeIfInsertingCharacter(Re,ce)}tokenizeLineWithEdit(T,J,ce){if(!this._tokenizer)return null;const Re=this._textModel.validatePosition(T);return this.forceTokenization(Re.lineNumber),this._tokenizer.tokenizeLineWithEdit(Re,J,ce)}get hasTokens(){return this._tokens.hasTokens}}class gt extends S.JT{get lineRanges(){return this._lineRanges}constructor(T){super(),this._refreshTokens=T,this.runner=this._register(new ft.pY(()=>this.update(),50)),this._computedLineRanges=[],this._lineRanges=[]}update(){(0,o.fS)(this._computedLineRanges,this._lineRanges,(T,J)=>T.equals(J))||(this._computedLineRanges=this._lineRanges,this._refreshTokens())}handleStateChange(T){this._lineRanges=T.visibleLineRanges,T.stabilized?(this.runner.cancel(),this.update()):this.runner.schedule()}}var Bt=e(44356),di=e(60031),hi=function(wt,T,J,ce){var Re=arguments.length,Be=Re<3?T:ce===null?ce=Object.getOwnPropertyDescriptor(T,J):ce,Xe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Be=Reflect.decorate(wt,T,J,ce);else for(var Et=wt.length-1;Et>=0;Et--)(Xe=wt[Et])&&(Be=(Re<3?Xe(Be):Re>3?Xe(T,J,Be):Xe(T,J))||Be);return Re>3&&Be&&Object.defineProperty(T,J,Be),Be},Ni=function(wt,T){return function(J,ce){T(J,ce,wt)}},zi;function Gi(wt){const T=new bt;return T.acceptChunk(wt),T.finish()}function ln(wt){const T=new bt;let J;for(;typeof(J=wt.read())=="string";)T.acceptChunk(J);return T.finish()}function ji(wt,T){let J;return typeof wt=="string"?J=Gi(wt):u.Hf(wt)?J=ln(wt):J=wt,J.create(T)}let dn=0;const tn=999,Hi=1e4;class rn{constructor(T){this._source=T,this._eos=!1}read(){if(this._eos)return null;const T=[];let J=0,ce=0;do{const Re=this._source.read();if(Re===null)return this._eos=!0,J===0?null:T.join("");if(Re.length>0&&(T[J++]=Re,ce+=Re.length),ce>=64*1024)return T.join("")}while(!0)}}const sn=()=>{throw new Error("Invalid change accessor")};let fi=zi=class extends S.JT{static resolveOptions(T,J){if(J.detectIndentation){const ce=We(T,J.tabSize,J.insertSpaces);return new u.dJ({tabSize:ce.tabSize,indentSize:"tabSize",insertSpaces:ce.insertSpaces,trimAutoWhitespace:J.trimAutoWhitespace,defaultEOL:J.defaultEOL,bracketPairColorizationOptions:J.bracketPairColorizationOptions})}return new u.dJ(J)}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(T){return this._eventEmitter.slowEvent(J=>T(J.contentChangedEvent))}onDidChangeContentOrInjectedText(T){return(0,S.F8)(this._eventEmitter.fastEvent(J=>T(J)),this._onDidChangeInjectedText.event(J=>T(J)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}constructor(T,J,ce,Re=null,Be,Xe,Et){super(),this._undoRedoService=Be,this._languageService=Xe,this._languageConfigurationService=Et,this._onWillDispose=this._register(new O.Q5),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new Xi(ui=>this.handleBeforeFireDecorationsChangedEvent(ui))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new O.Q5),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new O.Q5),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new O.Q5),this._eventEmitter=this._register(new nn),this._languageSelectionListener=this._register(new S.XK),this._deltaDecorationCallCnt=0,this._attachedViews=new Sn,dn++,this.id="$model"+dn,this.isForSimpleWidget=ce.isForSimpleWidget,typeof Re=="undefined"||Re===null?this._associatedResource=E.o.parse("inmemory://model/"+dn):this._associatedResource=Re,this._attachedEditorCount=0;const{textBuffer:It,disposable:ni}=ji(T,ce.defaultEOL);this._buffer=It,this._bufferDisposable=ni,this._options=zi.resolveOptions(this._buffer,ce);const si=typeof J=="string"?J:J.languageId;typeof J!="string"&&(this._languageSelectionListener.value=J.onDidChange(()=>this._setLanguage(J.languageId))),this._bracketPairs=this._register(new j(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new he.l(this,this._languageConfigurationService)),this._decorationProvider=this._register(new ne(this)),this._tokenizationTextModelPart=new Jt(this._languageService,this._languageConfigurationService,this,this._bracketPairs,si,this._attachedViews);const Xt=this._buffer.getLineCount(),ri=this._buffer.getValueLengthInRange(new a.e(1,1,Xt,this._buffer.getLineLength(Xt)+1),0);ce.largeFileOptimizations?(this._isTooLargeForTokenization=ri>zi.LARGE_FILE_SIZE_THRESHOLD||Xt>zi.LARGE_FILE_LINE_COUNT_THRESHOLD,this._isTooLargeForHeapOperation=ri>zi.LARGE_FILE_HEAP_OPERATION_THRESHOLD):(this._isTooLargeForTokenization=!1,this._isTooLargeForHeapOperation=!1),this._isTooLargeForSyncing=ri>zi._MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=p.PJ(dn),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new Vt,this._commandManager=new re.NL(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()})),this._languageService.requestRichLanguageFeatures(si)}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const T=new Ue([],"",`
`,!1,!1,!0,!0);T.dispose(),this._buffer=T,this._bufferDisposable=S.JT.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(T,J){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(J),this._bracketPairs.handleDidChangeContent(J),this._eventEmitter.fire(new Bt.fV(T,J)))}setValue(T){if(this._assertNotDisposed(),T==null)throw(0,x.b1)();const{textBuffer:J,disposable:ce}=ji(T,this._options.defaultEOL);this._setValueFromTextBuffer(J,ce)}_createContentChanged2(T,J,ce,Re,Be,Xe,Et,It){return{changes:[{range:T,rangeOffset:J,rangeLength:ce,text:Re}],eol:this._buffer.getEOL(),isEolChange:It,versionId:this.getVersionId(),isUndoing:Be,isRedoing:Xe,isFlush:Et}}_setValueFromTextBuffer(T,J){this._assertNotDisposed();const ce=this.getFullModelRange(),Re=this.getValueLengthInRange(ce),Be=this.getLineCount(),Xe=this.getLineMaxColumn(Be);this._buffer=T,this._bufferDisposable.dispose(),this._bufferDisposable=J,this._increaseVersionId(),this._decorations=Object.create(null),this._decorationsTree=new Vt,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new Bt.dQ([new Bt.Jx],this._versionId,!1,!1),this._createContentChanged2(new a.e(1,1,Be,Xe),0,Re,this.getValue(),!1,!1,!0,!1))}setEOL(T){this._assertNotDisposed();const J=T===1?`\r
`:`
`;if(this._buffer.getEOL()===J)return;const ce=this.getFullModelRange(),Re=this.getValueLengthInRange(ce),Be=this.getLineCount(),Xe=this.getLineMaxColumn(Be);this._onBeforeEOLChange(),this._buffer.setEOL(J),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new Bt.dQ([new Bt.CZ],this._versionId,!1,!1),this._createContentChanged2(new a.e(1,1,Be,Xe),0,Re,this.getValue(),!1,!1,!1,!0))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const T=this.getVersionId(),J=this._decorationsTree.collectNodesPostOrder();for(let ce=0,Re=J.length;ce<Re;ce++){const Be=J[ce],Xe=Be.range,Et=Be.cachedAbsoluteStart-Be.start,It=this._buffer.getOffsetAt(Xe.startLineNumber,Xe.startColumn),ni=this._buffer.getOffsetAt(Xe.endLineNumber,Xe.endColumn);Be.cachedAbsoluteStart=It,Be.cachedAbsoluteEnd=ni,Be.cachedVersionId=T,Be.start=It-Et,Be.end=ni-Et,qt(Be)}}onBeforeAttached(){return this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.attachView()}onBeforeDetached(T){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.detachView(T)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isTooLargeForHeapOperation(){return this._isTooLargeForHeapOperation}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let T=0,J=0;const ce=this._buffer.getLineCount();for(let Re=1;Re<=ce;Re++){const Be=this._buffer.getLineLength(Re);Be>=Hi?J+=Be:T+=Be}return J>T}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(T){this._assertNotDisposed();const J=typeof T.tabSize!="undefined"?T.tabSize:this._options.tabSize,ce=typeof T.indentSize!="undefined"?T.indentSize:this._options.originalIndentSize,Re=typeof T.insertSpaces!="undefined"?T.insertSpaces:this._options.insertSpaces,Be=typeof T.trimAutoWhitespace!="undefined"?T.trimAutoWhitespace:this._options.trimAutoWhitespace,Xe=typeof T.bracketColorizationOptions!="undefined"?T.bracketColorizationOptions:this._options.bracketPairColorizationOptions,Et=new u.dJ({tabSize:J,indentSize:ce,insertSpaces:Re,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:Be,bracketPairColorizationOptions:Xe});if(this._options.equals(Et))return;const It=this._options.createChangeEvent(Et);this._options=Et,this._bracketPairs.handleDidChangeOptions(It),this._decorationProvider.handleDidChangeOptions(It),this._onDidChangeOptions.fire(It)}detectIndentation(T,J){this._assertNotDisposed();const ce=We(this._buffer,J,T);this.updateOptions({insertSpaces:ce.insertSpaces,tabSize:ce.tabSize,indentSize:ce.tabSize})}normalizeIndentation(T){return this._assertNotDisposed(),(0,w.x)(T,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(T=null){const J=this.findMatches(p.Qe.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(T,J.map(ce=>({range:ce.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(T){this._assertNotDisposed();const J=this._validatePosition(T.lineNumber,T.column,0);return this._buffer.getOffsetAt(J.lineNumber,J.column)}getPositionAt(T){this._assertNotDisposed();const J=Math.min(this._buffer.getLength(),Math.max(0,T));return this._buffer.getPositionAt(J)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(T){this._versionId=T}_overwriteAlternativeVersionId(T){this._alternativeVersionId=T}_overwriteInitialUndoRedoSnapshot(T){this._initialUndoRedoSnapshot=T}getValue(T,J=!1){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new x.he("Operation would exceed heap memory limits");const ce=this.getFullModelRange(),Re=this.getValueInRange(ce,T);return J?this._buffer.getBOM()+Re:Re}createSnapshot(T=!1){return new rn(this._buffer.createSnapshot(T))}getValueLength(T,J=!1){this._assertNotDisposed();const ce=this.getFullModelRange(),Re=this.getValueLengthInRange(ce,T);return J?this._buffer.getBOM().length+Re:Re}getValueInRange(T,J=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(T),J)}getValueLengthInRange(T,J=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(T),J)}getCharacterCountInRange(T,J=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(T),J)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(T){if(this._assertNotDisposed(),T<1||T>this.getLineCount())throw new x.he("Illegal value for lineNumber");return this._buffer.getLineContent(T)}getLineLength(T){if(this._assertNotDisposed(),T<1||T>this.getLineCount())throw new x.he("Illegal value for lineNumber");return this._buffer.getLineLength(T)}getLinesContent(){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new x.he("Operation would exceed heap memory limits");return this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(T){return this._assertNotDisposed(),1}getLineMaxColumn(T){if(this._assertNotDisposed(),T<1||T>this.getLineCount())throw new x.he("Illegal value for lineNumber");return this._buffer.getLineLength(T)+1}getLineFirstNonWhitespaceColumn(T){if(this._assertNotDisposed(),T<1||T>this.getLineCount())throw new x.he("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(T)}getLineLastNonWhitespaceColumn(T){if(this._assertNotDisposed(),T<1||T>this.getLineCount())throw new x.he("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(T)}_validateRangeRelaxedNoAllocations(T){const J=this._buffer.getLineCount(),ce=T.startLineNumber,Re=T.startColumn;let Be=Math.floor(typeof ce=="number"&&!isNaN(ce)?ce:1),Xe=Math.floor(typeof Re=="number"&&!isNaN(Re)?Re:1);if(Be<1)Be=1,Xe=1;else if(Be>J)Be=J,Xe=this.getLineMaxColumn(Be);else if(Xe<=1)Xe=1;else{const Xt=this.getLineMaxColumn(Be);Xe>=Xt&&(Xe=Xt)}const Et=T.endLineNumber,It=T.endColumn;let ni=Math.floor(typeof Et=="number"&&!isNaN(Et)?Et:1),si=Math.floor(typeof It=="number"&&!isNaN(It)?It:1);if(ni<1)ni=1,si=1;else if(ni>J)ni=J,si=this.getLineMaxColumn(ni);else if(si<=1)si=1;else{const Xt=this.getLineMaxColumn(ni);si>=Xt&&(si=Xt)}return ce===Be&&Re===Xe&&Et===ni&&It===si&&T instanceof a.e&&!(T instanceof r.Y)?T:new a.e(Be,Xe,ni,si)}_isValidPosition(T,J,ce){if(typeof T!="number"||typeof J!="number"||isNaN(T)||isNaN(J)||T<1||J<1||(T|0)!==T||(J|0)!==J)return!1;const Re=this._buffer.getLineCount();if(T>Re)return!1;if(J===1)return!0;const Be=this.getLineMaxColumn(T);if(J>Be)return!1;if(ce===1){const Xe=this._buffer.getLineCharCode(T,J-2);if(p.ZG(Xe))return!1}return!0}_validatePosition(T,J,ce){const Re=Math.floor(typeof T=="number"&&!isNaN(T)?T:1),Be=Math.floor(typeof J=="number"&&!isNaN(J)?J:1),Xe=this._buffer.getLineCount();if(Re<1)return new g.L(1,1);if(Re>Xe)return new g.L(Xe,this.getLineMaxColumn(Xe));if(Be<=1)return new g.L(Re,1);const Et=this.getLineMaxColumn(Re);if(Be>=Et)return new g.L(Re,Et);if(ce===1){const It=this._buffer.getLineCharCode(Re,Be-2);if(p.ZG(It))return new g.L(Re,Be-1)}return new g.L(Re,Be)}validatePosition(T){return this._assertNotDisposed(),T instanceof g.L&&this._isValidPosition(T.lineNumber,T.column,1)?T:this._validatePosition(T.lineNumber,T.column,1)}_isValidRange(T,J){const ce=T.startLineNumber,Re=T.startColumn,Be=T.endLineNumber,Xe=T.endColumn;if(!this._isValidPosition(ce,Re,0)||!this._isValidPosition(Be,Xe,0))return!1;if(J===1){const Et=Re>1?this._buffer.getLineCharCode(ce,Re-2):0,It=Xe>1&&Xe<=this._buffer.getLineLength(Be)?this._buffer.getLineCharCode(Be,Xe-2):0,ni=p.ZG(Et),si=p.ZG(It);return!ni&&!si}return!0}validateRange(T){if(this._assertNotDisposed(),T instanceof a.e&&!(T instanceof r.Y)&&this._isValidRange(T,1))return T;const ce=this._validatePosition(T.startLineNumber,T.startColumn,0),Re=this._validatePosition(T.endLineNumber,T.endColumn,0),Be=ce.lineNumber,Xe=ce.column,Et=Re.lineNumber,It=Re.column;{const ni=Xe>1?this._buffer.getLineCharCode(Be,Xe-2):0,si=It>1&&It<=this._buffer.getLineLength(Et)?this._buffer.getLineCharCode(Et,It-2):0,Xt=p.ZG(ni),ri=p.ZG(si);return!Xt&&!ri?new a.e(Be,Xe,Et,It):Be===Et&&Xe===It?new a.e(Be,Xe-1,Et,It-1):Xt&&ri?new a.e(Be,Xe-1,Et,It+1):Xt?new a.e(Be,Xe-1,Et,It):new a.e(Be,Xe,Et,It+1)}return new a.e(Be,Xe,Et,It)}modifyPosition(T,J){this._assertNotDisposed();const ce=this.getOffsetAt(T)+J;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,ce)))}getFullModelRange(){this._assertNotDisposed();const T=this.getLineCount();return new a.e(1,1,T,this.getLineMaxColumn(T))}findMatchesLineByLine(T,J,ce,Re){return this._buffer.findMatchesLineByLine(T,J,ce,Re)}findMatches(T,J,ce,Re,Be,Xe,Et=tn){this._assertNotDisposed();let It=null;J!==null&&(Array.isArray(J)||(J=[J]),J.every(Xt=>a.e.isIRange(Xt))&&(It=J.map(Xt=>this.validateRange(Xt)))),It===null&&(It=[this.getFullModelRange()]),It=It.sort((Xt,ri)=>Xt.startLineNumber-ri.startLineNumber||Xt.startColumn-ri.startColumn);const ni=[];ni.push(It.reduce((Xt,ri)=>a.e.areIntersecting(Xt,ri)?Xt.plusRange(ri):(ni.push(Xt),ri)));let si;if(!ce&&T.indexOf(`
`)<0){const ri=new fn.bc(T,ce,Re,Be).parseSearchRequest();if(!ri)return[];si=ui=>this.findMatchesLineByLine(ui,ri,Xe,Et)}else si=Xt=>fn.pM.findMatches(this,new fn.bc(T,ce,Re,Be),Xt,Xe,Et);return ni.map(si).reduce((Xt,ri)=>Xt.concat(ri),[])}findNextMatch(T,J,ce,Re,Be,Xe){this._assertNotDisposed();const Et=this.validatePosition(J);if(!ce&&T.indexOf(`
`)<0){const ni=new fn.bc(T,ce,Re,Be).parseSearchRequest();if(!ni)return null;const si=this.getLineCount();let Xt=new a.e(Et.lineNumber,Et.column,si,this.getLineMaxColumn(si)),ri=this.findMatchesLineByLine(Xt,ni,Xe,1);return fn.pM.findNextMatch(this,new fn.bc(T,ce,Re,Be),Et,Xe),ri.length>0||(Xt=new a.e(1,1,Et.lineNumber,this.getLineMaxColumn(Et.lineNumber)),ri=this.findMatchesLineByLine(Xt,ni,Xe,1),ri.length>0)?ri[0]:null}return fn.pM.findNextMatch(this,new fn.bc(T,ce,Re,Be),Et,Xe)}findPreviousMatch(T,J,ce,Re,Be,Xe){this._assertNotDisposed();const Et=this.validatePosition(J);return fn.pM.findPreviousMatch(this,new fn.bc(T,ce,Re,Be),Et,Xe)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(T){if((this.getEOL()===`
`?0:1)!==T)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(T)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(T){return T instanceof u.Qi?T:new u.Qi(T.identifier||null,this.validateRange(T.range),T.text,T.forceMoveMarkers||!1,T.isAutoWhitespaceEdit||!1,T._isTracked||!1)}_validateEditOperations(T){const J=[];for(let ce=0,Re=T.length;ce<Re;ce++)J[ce]=this._validateEditOperation(T[ce]);return J}pushEditOperations(T,J,ce,Re){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(T,this._validateEditOperations(J),ce,Re)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(T,J,ce,Re){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const Be=J.map(Et=>({range:this.validateRange(Et.range),text:Et.text}));let Xe=!0;if(T)for(let Et=0,It=T.length;Et<It;Et++){const ni=T[Et];let si=!1;for(let Xt=0,ri=Be.length;Xt<ri;Xt++){const ui=Be[Xt].range,xi=ui.startLineNumber>ni.endLineNumber,Mi=ni.startLineNumber>ui.endLineNumber;if(!xi&&!Mi){si=!0;break}}if(!si){Xe=!1;break}}if(Xe)for(let Et=0,It=this._trimAutoWhitespaceLines.length;Et<It;Et++){const ni=this._trimAutoWhitespaceLines[Et],si=this.getLineMaxColumn(ni);let Xt=!0;for(let ri=0,ui=Be.length;ri<ui;ri++){const xi=Be[ri].range,Mi=Be[ri].text;if(!(ni<xi.startLineNumber||ni>xi.endLineNumber)&&!(ni===xi.startLineNumber&&xi.startColumn===si&&xi.isEmpty()&&Mi&&Mi.length>0&&Mi.charAt(0)===`
`)&&!(ni===xi.startLineNumber&&xi.startColumn===1&&xi.isEmpty()&&Mi&&Mi.length>0&&Mi.charAt(Mi.length-1)===`
`)){Xt=!1;break}}if(Xt){const ri=new a.e(ni,1,ni,si);J.push(new u.Qi(null,ri,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(T,J,ce,Re)}_applyUndo(T,J,ce,Re){const Be=T.map(Xe=>{const Et=this.getPositionAt(Xe.newPosition),It=this.getPositionAt(Xe.newEnd);return{range:new a.e(Et.lineNumber,Et.column,It.lineNumber,It.column),text:Xe.oldText}});this._applyUndoRedoEdits(Be,J,!0,!1,ce,Re)}_applyRedo(T,J,ce,Re){const Be=T.map(Xe=>{const Et=this.getPositionAt(Xe.oldPosition),It=this.getPositionAt(Xe.oldEnd);return{range:new a.e(Et.lineNumber,Et.column,It.lineNumber,It.column),text:Xe.newText}});this._applyUndoRedoEdits(Be,J,!1,!0,ce,Re)}_applyUndoRedoEdits(T,J,ce,Re,Be,Xe){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=ce,this._isRedoing=Re,this.applyEdits(T,!1),this.setEOL(J),this._overwriteAlternativeVersionId(Be)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(Xe),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(T,J=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const ce=this._validateEditOperations(T);return this._doApplyEdits(ce,J)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(T,J){const ce=this._buffer.getLineCount(),Re=this._buffer.applyEdits(T,this._options.trimAutoWhitespace,J),Be=this._buffer.getLineCount(),Xe=Re.changes;if(this._trimAutoWhitespaceLines=Re.trimAutoWhitespaceLineNumbers,Xe.length!==0){for(let ni=0,si=Xe.length;ni<si;ni++){const Xt=Xe[ni];this._decorationsTree.acceptReplace(Xt.rangeOffset,Xt.rangeLength,Xt.text.length,Xt.forceMoveMarkers)}const Et=[];this._increaseVersionId();let It=ce;for(let ni=0,si=Xe.length;ni<si;ni++){const Xt=Xe[ni],[ri]=(0,R.Q)(Xt.text);this._onDidChangeDecorations.fire();const ui=Xt.range.startLineNumber,xi=Xt.range.endLineNumber,Mi=xi-ui,Fi=ri,Yi=Math.min(Mi,Fi),mn=Fi-Mi,hn=Be-It-mn+ui,Pn=hn,ts=hn+Fi,is=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new g.L(Pn,1)),this.getOffsetAt(new g.L(ts,this.getLineMaxColumn(ts))),0),Gn=Bt.gk.fromDecorations(is),Vn=new o.H9(Gn);for(let Xn=Yi;Xn>=0;Xn--){const Cs=ui+Xn,ns=hn+Xn;Vn.takeFromEndWhile(ps=>ps.lineNumber>ns);const Rs=Vn.takeFromEndWhile(ps=>ps.lineNumber===ns);Et.push(new Bt.rU(Cs,this.getLineContent(ns),Rs))}if(Yi<Mi){const Xn=ui+Yi;Et.push(new Bt.lN(Xn+1,xi))}if(Yi<Fi){const Xn=new o.H9(Gn),Cs=ui+Yi,ns=Fi-Yi,Rs=Be-It-ns+Cs+1,ps=[],_s=[];for(let rs=0;rs<ns;rs++){const Ns=Rs+rs;_s[rs]=this.getLineContent(Ns),Xn.takeWhile(qn=>qn.lineNumber<Ns),ps[rs]=Xn.takeWhile(qn=>qn.lineNumber===Ns)}Et.push(new Bt.Tx(Cs+1,ui+Fi,_s,ps))}It+=mn}this._emitContentChangedEvent(new Bt.dQ(Et,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:Xe,eol:this._buffer.getEOL(),isEolChange:!1,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return Re.reverseEdits===null?void 0:Re.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(T){if(T===null||T.size===0)return;const ce=Array.from(T).map(Re=>new Bt.rU(Re,this.getLineContent(Re),this._getInjectedTextInLine(Re)));this._onDidChangeInjectedText.fire(new Bt.D8(ce))}changeDecorations(T,J=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(J,T)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(T,J){const ce={addDecoration:(Be,Xe)=>this._deltaDecorationsImpl(T,[],[{range:Be,options:Xe}])[0],changeDecoration:(Be,Xe)=>{this._changeDecorationImpl(Be,Xe)},changeDecorationOptions:(Be,Xe)=>{this._changeDecorationOptionsImpl(Be,Pi(Xe))},removeDecoration:Be=>{this._deltaDecorationsImpl(T,[Be],[])},deltaDecorations:(Be,Xe)=>Be.length===0&&Xe.length===0?[]:this._deltaDecorationsImpl(T,Be,Xe)};let Re=null;try{Re=J(ce)}catch(Be){(0,x.dL)(Be)}return ce.addDecoration=sn,ce.changeDecoration=sn,ce.changeDecorationOptions=sn,ce.removeDecoration=sn,ce.deltaDecorations=sn,Re}deltaDecorations(T,J,ce=0){if(this._assertNotDisposed(),T||(T=[]),T.length===0&&J.length===0)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),(0,x.dL)(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(ce,T,J)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(T){return this.getDecorationRange(T)}_setTrackedRange(T,J,ce){const Re=T?this._decorations[T]:null;if(!Re)return J?this._deltaDecorationsImpl(0,[],[{range:J,options:Ui[ce]}],!0)[0]:null;if(!J)return this._decorationsTree.delete(Re),delete this._decorations[Re.id],null;const Be=this._validateRangeRelaxedNoAllocations(J),Xe=this._buffer.getOffsetAt(Be.startLineNumber,Be.startColumn),Et=this._buffer.getOffsetAt(Be.endLineNumber,Be.endColumn);return this._decorationsTree.delete(Re),Re.reset(this.getVersionId(),Xe,Et,Be),Re.setOptions(Ui[ce]),this._decorationsTree.insert(Re),Re.id}removeAllDecorationsWithOwnerId(T){if(this._isDisposed)return;const J=this._decorationsTree.collectNodesFromOwner(T);for(let ce=0,Re=J.length;ce<Re;ce++){const Be=J[ce];this._decorationsTree.delete(Be),delete this._decorations[Be.id]}}getDecorationOptions(T){const J=this._decorations[T];return J?J.options:null}getDecorationRange(T){const J=this._decorations[T];return J?this._decorationsTree.getNodeRange(this,J):null}getLineDecorations(T,J=0,ce=!1){return T<1||T>this.getLineCount()?[]:this.getLinesDecorations(T,T,J,ce)}getLinesDecorations(T,J,ce=0,Re=!1,Be=!1){const Xe=this.getLineCount(),Et=Math.min(Xe,Math.max(1,T)),It=Math.min(Xe,Math.max(1,J)),ni=this.getLineMaxColumn(It),si=new a.e(Et,1,It,ni),Xt=this._getDecorationsInRange(si,ce,Re,Be);return(0,o.vA)(Xt,this._decorationProvider.getDecorationsInRange(si,ce,Re)),Xt}getDecorationsInRange(T,J=0,ce=!1,Re=!1,Be=!1){const Xe=this.validateRange(T),Et=this._getDecorationsInRange(Xe,J,ce,Be);return(0,o.vA)(Et,this._decorationProvider.getDecorationsInRange(Xe,J,ce,Re)),Et}getOverviewRulerDecorations(T=0,J=!1){return this._decorationsTree.getAll(this,T,J,!0,!1)}getInjectedTextDecorations(T=0){return this._decorationsTree.getAllInjectedText(this,T)}_getInjectedTextInLine(T){const J=this._buffer.getOffsetAt(T,1),ce=J+this._buffer.getLineLength(T),Re=this._decorationsTree.getInjectedTextInInterval(this,J,ce,0);return Bt.gk.fromDecorations(Re).filter(Be=>Be.lineNumber===T)}getAllDecorations(T=0,J=!1){let ce=this._decorationsTree.getAll(this,T,J,!1,!1);return ce=ce.concat(this._decorationProvider.getAllDecorations(T,J)),ce}getAllMarginDecorations(T=0){return this._decorationsTree.getAll(this,T,!1,!1,!0)}_getDecorationsInRange(T,J,ce,Re){const Be=this._buffer.getOffsetAt(T.startLineNumber,T.startColumn),Xe=this._buffer.getOffsetAt(T.endLineNumber,T.endColumn);return this._decorationsTree.getAllInInterval(this,Be,Xe,J,ce,Re)}getRangeAt(T,J){return this._buffer.getRangeAt(T,J-T)}_changeDecorationImpl(T,J){const ce=this._decorations[T];if(!ce)return;if(ce.options.after){const Et=this.getDecorationRange(T);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Et.endLineNumber)}if(ce.options.before){const Et=this.getDecorationRange(T);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Et.startLineNumber)}const Re=this._validateRangeRelaxedNoAllocations(J),Be=this._buffer.getOffsetAt(Re.startLineNumber,Re.startColumn),Xe=this._buffer.getOffsetAt(Re.endLineNumber,Re.endColumn);this._decorationsTree.delete(ce),ce.reset(this.getVersionId(),Be,Xe,Re),this._decorationsTree.insert(ce),this._onDidChangeDecorations.checkAffectedAndFire(ce.options),ce.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Re.endLineNumber),ce.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Re.startLineNumber)}_changeDecorationOptionsImpl(T,J){const ce=this._decorations[T];if(!ce)return;const Re=!!(ce.options.overviewRuler&&ce.options.overviewRuler.color),Be=!!(J.overviewRuler&&J.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(ce.options),this._onDidChangeDecorations.checkAffectedAndFire(J),ce.options.after||J.after){const It=this._decorationsTree.getNodeRange(this,ce);this._onDidChangeDecorations.recordLineAffectedByInjectedText(It.endLineNumber)}if(ce.options.before||J.before){const It=this._decorationsTree.getNodeRange(this,ce);this._onDidChangeDecorations.recordLineAffectedByInjectedText(It.startLineNumber)}const Xe=Re!==Be,Et=Wt(J)!==Yt(ce);Xe||Et?(this._decorationsTree.delete(ce),ce.setOptions(J),this._decorationsTree.insert(ce)):ce.setOptions(J)}_deltaDecorationsImpl(T,J,ce,Re=!1){const Be=this.getVersionId(),Xe=J.length;let Et=0;const It=ce.length;let ni=0;this._onDidChangeDecorations.beginDeferredEmit();try{const si=new Array(It);for(;Et<Xe||ni<It;){let Xt=null;if(Et<Xe){do Xt=this._decorations[J[Et++]];while(!Xt&&Et<Xe);if(Xt){if(Xt.options.after){const ri=this._decorationsTree.getNodeRange(this,Xt);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ri.endLineNumber)}if(Xt.options.before){const ri=this._decorationsTree.getNodeRange(this,Xt);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ri.startLineNumber)}this._decorationsTree.delete(Xt),Re||this._onDidChangeDecorations.checkAffectedAndFire(Xt.options)}}if(ni<It){if(!Xt){const Yi=++this._lastDecorationId,mn=`${this._instanceId};${Yi}`;Xt=new Ce(mn,0,0),this._decorations[mn]=Xt}const ri=ce[ni],ui=this._validateRangeRelaxedNoAllocations(ri.range),xi=Pi(ri.options),Mi=this._buffer.getOffsetAt(ui.startLineNumber,ui.startColumn),Fi=this._buffer.getOffsetAt(ui.endLineNumber,ui.endColumn);Xt.ownerId=T,Xt.reset(Be,Mi,Fi,ui),Xt.setOptions(xi),Xt.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ui.endLineNumber),Xt.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ui.startLineNumber),Re||this._onDidChangeDecorations.checkAffectedAndFire(xi),this._decorationsTree.insert(Xt),si[ni]=Xt.id,ni++}else Xt&&delete this._decorations[Xt.id]}return si}finally{this._onDidChangeDecorations.endDeferredEmit()}}getLanguageId(){return this.tokenization.getLanguageId()}setLanguage(T,J){typeof T=="string"?(this._languageSelectionListener.clear(),this._setLanguage(T,J)):(this._languageSelectionListener.value=T.onDidChange(()=>this._setLanguage(T.languageId,J)),this._setLanguage(T.languageId,J))}_setLanguage(T,J){this.tokenization.setLanguageId(T,J),this._languageService.requestRichLanguageFeatures(T)}getLanguageIdAtPosition(T,J){return this.tokenization.getLanguageIdAtPosition(T,J)}getWordAtPosition(T){return this._tokenizationTextModelPart.getWordAtPosition(T)}getWordUntilPosition(T){return this._tokenizationTextModelPart.getWordUntilPosition(T)}normalizePosition(T,J){return T}getLineIndentColumn(T){return Je(this.getLineContent(T))+1}};fi._MODEL_SYNC_LIMIT=50*1024*1024,fi.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,fi.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,fi.LARGE_FILE_HEAP_OPERATION_THRESHOLD=256*1024*1024,fi.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:i.D.tabSize,indentSize:i.D.indentSize,insertSpaces:i.D.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:i.D.trimAutoWhitespace,largeFileOptimizations:i.D.largeFileOptimizations,bracketPairColorizationOptions:i.D.bracketPairColorizationOptions},fi=zi=hi([Ni(4,di.tJ),Ni(5,n.O),Ni(6,c.c_)],fi);function Je(wt){let T=0;for(const J of wt)if(J===" "||J==="	")T++;else break;return T}function Pt(wt){return!!(wt.options.overviewRuler&&wt.options.overviewRuler.color)}function Wt(wt){return!!wt.after||!!wt.before}function Yt(wt){return!!wt.options.after||!!wt.options.before}class Vt{constructor(){this._decorationsTree0=new be,this._decorationsTree1=new be,this._injectedTextDecorationsTree=new be}ensureAllNodesHaveRanges(T){this.getAll(T,0,!1,!1,!1)}_ensureNodesHaveRanges(T,J){for(const ce of J)ce.range===null&&(ce.range=T.getRangeAt(ce.cachedAbsoluteStart,ce.cachedAbsoluteEnd));return J}getAllInInterval(T,J,ce,Re,Be,Xe){const Et=T.getVersionId(),It=this._intervalSearch(J,ce,Re,Be,Et,Xe);return this._ensureNodesHaveRanges(T,It)}_intervalSearch(T,J,ce,Re,Be,Xe){const Et=this._decorationsTree0.intervalSearch(T,J,ce,Re,Be,Xe),It=this._decorationsTree1.intervalSearch(T,J,ce,Re,Be,Xe),ni=this._injectedTextDecorationsTree.intervalSearch(T,J,ce,Re,Be,Xe);return Et.concat(It).concat(ni)}getInjectedTextInInterval(T,J,ce,Re){const Be=T.getVersionId(),Xe=this._injectedTextDecorationsTree.intervalSearch(J,ce,Re,!1,Be,!1);return this._ensureNodesHaveRanges(T,Xe).filter(Et=>Et.options.showIfCollapsed||!Et.range.isEmpty())}getAllInjectedText(T,J){const ce=T.getVersionId(),Re=this._injectedTextDecorationsTree.search(J,!1,ce,!1);return this._ensureNodesHaveRanges(T,Re).filter(Be=>Be.options.showIfCollapsed||!Be.range.isEmpty())}getAll(T,J,ce,Re,Be){const Xe=T.getVersionId(),Et=this._search(J,ce,Re,Xe,Be);return this._ensureNodesHaveRanges(T,Et)}_search(T,J,ce,Re,Be){if(ce)return this._decorationsTree1.search(T,J,Re,Be);{const Xe=this._decorationsTree0.search(T,J,Re,Be),Et=this._decorationsTree1.search(T,J,Re,Be),It=this._injectedTextDecorationsTree.search(T,J,Re,Be);return Xe.concat(Et).concat(It)}}collectNodesFromOwner(T){const J=this._decorationsTree0.collectNodesFromOwner(T),ce=this._decorationsTree1.collectNodesFromOwner(T),Re=this._injectedTextDecorationsTree.collectNodesFromOwner(T);return J.concat(ce).concat(Re)}collectNodesPostOrder(){const T=this._decorationsTree0.collectNodesPostOrder(),J=this._decorationsTree1.collectNodesPostOrder(),ce=this._injectedTextDecorationsTree.collectNodesPostOrder();return T.concat(J).concat(ce)}insert(T){Yt(T)?this._injectedTextDecorationsTree.insert(T):Pt(T)?this._decorationsTree1.insert(T):this._decorationsTree0.insert(T)}delete(T){Yt(T)?this._injectedTextDecorationsTree.delete(T):Pt(T)?this._decorationsTree1.delete(T):this._decorationsTree0.delete(T)}getNodeRange(T,J){const ce=T.getVersionId();return J.cachedVersionId!==ce&&this._resolveNode(J,ce),J.range===null&&(J.range=T.getRangeAt(J.cachedAbsoluteStart,J.cachedAbsoluteEnd)),J.range}_resolveNode(T,J){Yt(T)?this._injectedTextDecorationsTree.resolveNode(T,J):Pt(T)?this._decorationsTree1.resolveNode(T,J):this._decorationsTree0.resolveNode(T,J)}acceptReplace(T,J,ce,Re){this._decorationsTree0.acceptReplace(T,J,ce,Re),this._decorationsTree1.acceptReplace(T,J,ce,Re),this._injectedTextDecorationsTree.acceptReplace(T,J,ce,Re)}}function St(wt){return wt.replace(/[^a-z0-9\-_]/gi," ")}class Kt{constructor(T){this.color=T.color||"",this.darkColor=T.darkColor||""}}class ei extends Kt{constructor(T){super(T),this._resolvedColor=null,this.position=typeof T.position=="number"?T.position:u.sh.Center}getColor(T){return this._resolvedColor||(T.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,T):this._resolvedColor=this._resolveColor(this.color,T)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(T,J){if(typeof T=="string")return T;const ce=T?J.getColor(T.id):null;return ce?ce.toString():""}}class Ei{constructor(T){var J;this.position=(J=T==null?void 0:T.position)!==null&&J!==void 0?J:u.U.Center,this.persistLane=T==null?void 0:T.persistLane}}class Li extends Kt{constructor(T){var J,ce;super(T),this.position=T.position,this.sectionHeaderStyle=(J=T.sectionHeaderStyle)!==null&&J!==void 0?J:null,this.sectionHeaderText=(ce=T.sectionHeaderText)!==null&&ce!==void 0?ce:null}getColor(T){return this._resolvedColor||(T.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,T):this._resolvedColor=this._resolveColor(this.color,T)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(T,J){return typeof T=="string"?B.Il.fromHex(T):J.getColor(T.id)}}class yi{static from(T){return T instanceof yi?T:new yi(T)}constructor(T){this.content=T.content||"",this.inlineClassName=T.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=T.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=T.attachedData||null,this.cursorStops=T.cursorStops||null}}class bi{static register(T){return new bi(T)}static createDynamic(T){return new bi(T)}constructor(T){var J,ce,Re,Be,Xe,Et;this.description=T.description,this.blockClassName=T.blockClassName?St(T.blockClassName):null,this.blockDoesNotCollapse=(J=T.blockDoesNotCollapse)!==null&&J!==void 0?J:null,this.blockIsAfterEnd=(ce=T.blockIsAfterEnd)!==null&&ce!==void 0?ce:null,this.blockPadding=(Re=T.blockPadding)!==null&&Re!==void 0?Re:null,this.stickiness=T.stickiness||0,this.zIndex=T.zIndex||0,this.className=T.className?St(T.className):null,this.shouldFillLineOnLineBreak=(Be=T.shouldFillLineOnLineBreak)!==null&&Be!==void 0?Be:null,this.hoverMessage=T.hoverMessage||null,this.glyphMarginHoverMessage=T.glyphMarginHoverMessage||null,this.lineNumberHoverMessage=T.lineNumberHoverMessage||null,this.isWholeLine=T.isWholeLine||!1,this.showIfCollapsed=T.showIfCollapsed||!1,this.collapseOnReplaceEdit=T.collapseOnReplaceEdit||!1,this.overviewRuler=T.overviewRuler?new ei(T.overviewRuler):null,this.minimap=T.minimap?new Li(T.minimap):null,this.glyphMargin=T.glyphMarginClassName?new Ei(T.glyphMargin):null,this.glyphMarginClassName=T.glyphMarginClassName?St(T.glyphMarginClassName):null,this.linesDecorationsClassName=T.linesDecorationsClassName?St(T.linesDecorationsClassName):null,this.lineNumberClassName=T.lineNumberClassName?St(T.lineNumberClassName):null,this.linesDecorationsTooltip=T.linesDecorationsTooltip?p.fA(T.linesDecorationsTooltip):null,this.firstLineDecorationClassName=T.firstLineDecorationClassName?St(T.firstLineDecorationClassName):null,this.marginClassName=T.marginClassName?St(T.marginClassName):null,this.inlineClassName=T.inlineClassName?St(T.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=T.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=T.beforeContentClassName?St(T.beforeContentClassName):null,this.afterContentClassName=T.afterContentClassName?St(T.afterContentClassName):null,this.after=T.after?yi.from(T.after):null,this.before=T.before?yi.from(T.before):null,this.hideInCommentTokens=(Xe=T.hideInCommentTokens)!==null&&Xe!==void 0?Xe:!1,this.hideInStringTokens=(Et=T.hideInStringTokens)!==null&&Et!==void 0?Et:!1}}bi.EMPTY=bi.register({description:"empty"});const Ui=[bi.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),bi.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),bi.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),bi.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function Pi(wt){return wt instanceof bi?wt:bi.createDynamic(wt)}class Xi extends S.JT{constructor(T){super(),this.handleBeforeFire=T,this._actual=this._register(new O.Q5),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._affectsLineNumber=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var T;this._deferredCnt--,this._deferredCnt===0&&(this._shouldFireDeferred&&this.doFire(),(T=this._affectedInjectedTextLines)===null||T===void 0||T.clear(),this._affectedInjectedTextLines=null)}recordLineAffectedByInjectedText(T){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(T)}checkAffectedAndFire(T){var J,ce;this._affectsMinimap||(this._affectsMinimap=!!(!((J=T.minimap)===null||J===void 0)&&J.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(!((ce=T.overviewRuler)===null||ce===void 0)&&ce.color)),this._affectsGlyphMargin||(this._affectsGlyphMargin=!!T.glyphMarginClassName),this._affectsLineNumber||(this._affectsLineNumber=!!T.lineNumberClassName),this.tryFire()}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._affectsGlyphMargin=!0,this.tryFire()}tryFire(){this._deferredCnt===0?this.doFire():this._shouldFireDeferred=!0}doFire(){this.handleBeforeFire(this._affectedInjectedTextLines);const T={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler,affectsGlyphMargin:this._affectsGlyphMargin,affectsLineNumber:this._affectsLineNumber};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._actual.fire(T)}}class nn extends S.JT{constructor(){super(),this._fastEmitter=this._register(new O.Q5),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new O.Q5),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(T=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=T;const J=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(J),this._slowEmitter.fire(J)}}fire(T){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(T):this._deferredEvent=T;return}this._fastEmitter.fire(T),this._slowEmitter.fire(T)}}class Sn{constructor(){this._onDidChangeVisibleRanges=new O.Q5,this.onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event,this._views=new Set}attachView(){const T=new Mn(J=>{this._onDidChangeVisibleRanges.fire({view:T,state:J})});return this._views.add(T),T}detachView(T){this._views.delete(T),this._onDidChangeVisibleRanges.fire({view:T,state:void 0})}}class Mn{constructor(T){this.handleStateChange=T}setVisibleLines(T,J){const ce=T.map(Re=>new m.z(Re.startLineNumber,Re.endLineNumber+1));this.handleStateChange({visibleLineRanges:ce,stabilized:J})}}},12150:function(et,Le,e){"use strict";e.d(Le,{U:function(){return B}});var o=e(45029);class B extends o.JT{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}},57612:function(et,Le,e){"use strict";e.d(Le,{bc:function(){return E},cM:function(){return i},iE:function(){return w},pM:function(){return g},sz:function(){return n}});var o=e(30144),B=e(47205),x=e(93895),O=e(4694),S=e(57204);const p=999;class E{constructor(u,l,D,f){this.searchString=u,this.isRegex=l,this.matchCase=D,this.wordSeparators=f}parseSearchRequest(){if(this.searchString==="")return null;let u;this.isRegex?u=R(this.searchString):u=this.searchString.indexOf(`
`)>=0;let l=null;try{l=o.GF(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:u,global:!0,unicode:!0})}catch(f){return null}if(!l)return null;let D=!this.isRegex&&!u;return D&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(D=this.matchCase),new S.Tx(l,this.wordSeparators?(0,B.u)(this.wordSeparators,[]):null,D?this.searchString:null)}}function R(c){if(!c||c.length===0)return!1;for(let u=0,l=c.length;u<l;u++){const D=c.charCodeAt(u);if(D===10)return!0;if(D===92){if(u++,u>=l)break;const f=c.charCodeAt(u);if(f===110||f===114||f===87)return!0}}return!1}function w(c,u,l){if(!l)return new S.tk(c,null);const D=[];for(let f=0,y=u.length;f<y;f++)D[f]=u[f];return new S.tk(c,D)}class m{constructor(u){const l=[];let D=0;for(let f=0,y=u.length;f<y;f++)u.charCodeAt(f)===10&&(l[D++]=f);this._lineFeedsOffsets=l}findLineFeedCountBeforeOffset(u){const l=this._lineFeedsOffsets;let D=0,f=l.length-1;if(f===-1||u<=l[0])return 0;for(;D<f;){const y=D+((f-D)/2>>0);l[y]>=u?f=y-1:l[y+1]>=u?(D=y,f=y):D=y+1}return D+1}}class g{static findMatches(u,l,D,f,y){const C=l.parseSearchRequest();return C?C.regex.multiline?this._doFindMatchesMultiline(u,D,new n(C.wordSeparators,C.regex),f,y):this._doFindMatchesLineByLine(u,D,C,f,y):[]}static _getMultilineMatchRange(u,l,D,f,y,C){let _,N=0;f?(N=f.findLineFeedCountBeforeOffset(y),_=l+y+N):_=l+y;let b;if(f){const Z=f.findLineFeedCountBeforeOffset(y+C.length)-N;b=_+C.length+Z}else b=_+C.length;const k=u.getPositionAt(_),V=u.getPositionAt(b);return new O.e(k.lineNumber,k.column,V.lineNumber,V.column)}static _doFindMatchesMultiline(u,l,D,f,y){const C=u.getOffsetAt(l.getStartPosition()),_=u.getValueInRange(l,1),N=u.getEOL()===`\r
`?new m(_):null,b=[];let k=0,V;for(D.reset(0);V=D.next(_);)if(b[k++]=w(this._getMultilineMatchRange(u,C,_,N,V.index,V[0]),V,f),k>=y)return b;return b}static _doFindMatchesLineByLine(u,l,D,f,y){const C=[];let _=0;if(l.startLineNumber===l.endLineNumber){const b=u.getLineContent(l.startLineNumber).substring(l.startColumn-1,l.endColumn-1);return _=this._findMatchesInLine(D,b,l.startLineNumber,l.startColumn-1,_,C,f,y),C}const N=u.getLineContent(l.startLineNumber).substring(l.startColumn-1);_=this._findMatchesInLine(D,N,l.startLineNumber,l.startColumn-1,_,C,f,y);for(let b=l.startLineNumber+1;b<l.endLineNumber&&_<y;b++)_=this._findMatchesInLine(D,u.getLineContent(b),b,0,_,C,f,y);if(_<y){const b=u.getLineContent(l.endLineNumber).substring(0,l.endColumn-1);_=this._findMatchesInLine(D,b,l.endLineNumber,0,_,C,f,y)}return C}static _findMatchesInLine(u,l,D,f,y,C,_,N){const b=u.wordSeparators;if(!_&&u.simpleSearch){const K=u.simpleSearch,Z=K.length,z=l.length;let A=-Z;for(;(A=l.indexOf(K,A+Z))!==-1;)if((!b||i(b,l,z,A,Z))&&(C[y++]=new S.tk(new O.e(D,A+1+f,D,A+1+Z+f),null),y>=N))return y;return y}const k=new n(u.wordSeparators,u.regex);let V;k.reset(0);do if(V=k.next(l),V&&(C[y++]=w(new O.e(D,V.index+1+f,D,V.index+1+V[0].length+f),V,_),y>=N))return y;while(V);return y}static findNextMatch(u,l,D,f){const y=l.parseSearchRequest();if(!y)return null;const C=new n(y.wordSeparators,y.regex);return y.regex.multiline?this._doFindNextMatchMultiline(u,D,C,f):this._doFindNextMatchLineByLine(u,D,C,f)}static _doFindNextMatchMultiline(u,l,D,f){const y=new x.L(l.lineNumber,1),C=u.getOffsetAt(y),_=u.getLineCount(),N=u.getValueInRange(new O.e(y.lineNumber,y.column,_,u.getLineMaxColumn(_)),1),b=u.getEOL()===`\r
`?new m(N):null;D.reset(l.column-1);const k=D.next(N);return k?w(this._getMultilineMatchRange(u,C,N,b,k.index,k[0]),k,f):l.lineNumber!==1||l.column!==1?this._doFindNextMatchMultiline(u,new x.L(1,1),D,f):null}static _doFindNextMatchLineByLine(u,l,D,f){const y=u.getLineCount(),C=l.lineNumber,_=u.getLineContent(C),N=this._findFirstMatchInLine(D,_,C,l.column,f);if(N)return N;for(let b=1;b<=y;b++){const k=(C+b-1)%y,V=u.getLineContent(k+1),K=this._findFirstMatchInLine(D,V,k+1,1,f);if(K)return K}return null}static _findFirstMatchInLine(u,l,D,f,y){u.reset(f-1);const C=u.next(l);return C?w(new O.e(D,C.index+1,D,C.index+1+C[0].length),C,y):null}static findPreviousMatch(u,l,D,f){const y=l.parseSearchRequest();if(!y)return null;const C=new n(y.wordSeparators,y.regex);return y.regex.multiline?this._doFindPreviousMatchMultiline(u,D,C,f):this._doFindPreviousMatchLineByLine(u,D,C,f)}static _doFindPreviousMatchMultiline(u,l,D,f){const y=this._doFindMatchesMultiline(u,new O.e(1,1,l.lineNumber,l.column),D,f,10*p);if(y.length>0)return y[y.length-1];const C=u.getLineCount();return l.lineNumber!==C||l.column!==u.getLineMaxColumn(C)?this._doFindPreviousMatchMultiline(u,new x.L(C,u.getLineMaxColumn(C)),D,f):null}static _doFindPreviousMatchLineByLine(u,l,D,f){const y=u.getLineCount(),C=l.lineNumber,_=u.getLineContent(C).substring(0,l.column-1),N=this._findLastMatchInLine(D,_,C,f);if(N)return N;for(let b=1;b<=y;b++){const k=(y+C-b-1)%y,V=u.getLineContent(k+1),K=this._findLastMatchInLine(D,V,k+1,f);if(K)return K}return null}static _findLastMatchInLine(u,l,D,f){let y=null,C;for(u.reset(0);C=u.next(l);)y=w(new O.e(D,C.index+1,D,C.index+1+C[0].length),C,f);return y}}function a(c,u,l,D,f){if(D===0)return!0;const y=u.charCodeAt(D-1);if(c.get(y)!==0||y===13||y===10)return!0;if(f>0){const C=u.charCodeAt(D);if(c.get(C)!==0)return!0}return!1}function r(c,u,l,D,f){if(D+f===l)return!0;const y=u.charCodeAt(D+f);if(c.get(y)!==0||y===13||y===10)return!0;if(f>0){const C=u.charCodeAt(D+f-1);if(c.get(C)!==0)return!0}return!1}function i(c,u,l,D,f){return a(c,u,l,D,f)&&r(c,u,l,D,f)}class n{constructor(u,l){this._wordSeparators=u,this._searchRegex=l,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(u){this._searchRegex.lastIndex=u,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(u){const l=u.length;let D;do{if(this._prevMatchStartIndex+this._prevMatchLength===l||(D=this._searchRegex.exec(u),!D))return null;const f=D.index,y=D[0].length;if(f===this._prevMatchStartIndex&&y===this._prevMatchLength){if(y===0){o.ZH(u,l,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=f,this._prevMatchLength=y,!this._wordSeparators||i(this._wordSeparators,u,l,f,y))return D}while(D);return null}}},49512:function(et,Le,e){"use strict";e.d(Le,{q:function(){return o}});function o(B,x){let O=0,S=0;const p=B.length;for(;S<p;){const E=B.charCodeAt(S);if(E===32)O++;else if(E===9)O=O-O%x+x;else break;S++}return S===p?-1:O}},27942:function(et,Le,e){"use strict";e.d(Le,{O:function(){return g}});var o=e(65642),B=e(79329),x=e(173),O=e(10058),S=e(93895),p=e(4694),E=e(14149),R=e(91895),w=e(91266);class m{static chord(r,i){return(0,x.gx)(r,i)}}m.CtrlCmd=2048,m.Shift=1024,m.Alt=512,m.WinCtrl=256;function g(){return{editor:void 0,languages:void 0,CancellationTokenSource:o.AU,Emitter:B.Q5,KeyCode:w.VD,KeyMod:m,Position:S.L,Range:p.e,Selection:E.Y,SelectionDirection:w.a$,MarkerSeverity:w.ZL,MarkerTag:w.eB,Uri:O.o,Token:R.WU}}},29256:function(et,Le,e){"use strict";e.d(Le,{p:function(){return B}});var o=e(87058);const B=(0,o.yh)("editorWorkerService")},81580:function(et,Le,e){"use strict";e.d(Le,{A:function(){return g}});var o=e(95948),B=e(79138),x=e(12182),O=e(39356),S=e(98352),p=e(87058),E=e(61629),R=e(91649),w=function(c,u,l,D){var f=arguments.length,y=f<3?u:D===null?D=Object.getOwnPropertyDescriptor(u,l):D,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(c,u,l,D);else for(var _=c.length-1;_>=0;_--)(C=c[_])&&(y=(f<3?C(y):f>3?C(u,l,y):C(u,l))||y);return f>3&&y&&Object.defineProperty(u,l,y),y},m=function(c,u){return function(l,D){u(l,D,c)}};const g=(0,p.yh)("ILanguageFeatureDebounceService");var a;(function(c){const u=new WeakMap;let l=0;function D(f){let y=u.get(f);return y===void 0&&(y=++l,u.set(f,y)),y}c.of=D})(a||(a={}));class r{constructor(u){this._default=u}get(u){return this._default}update(u,l){return this._default}default(){return this._default}}class i{constructor(u,l,D,f,y,C){this._logService=u,this._name=l,this._registry=D,this._default=f,this._min=y,this._max=C,this._cache=new B.z6(50,.7)}_key(u){return u.id+this._registry.all(u).reduce((l,D)=>(0,o.SP)(a.of(D),l),0)}get(u){const l=this._key(u),D=this._cache.get(l);return D?(0,x.uZ)(D.value,this._min,this._max):this.default()}update(u,l){const D=this._key(u);let f=this._cache.get(D);f||(f=new x.N(6),this._cache.set(D,f));const y=(0,x.uZ)(f.update(l),this._min,this._max);return(0,R.xn)(u.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${u.uri.toString()} is ${y}ms`),y}_overall(){const u=new x.nM;for(const[,l]of this._cache)u.update(l.value);return u.value}default(){const u=this._overall()|0||this._default;return(0,x.uZ)(u,this._min,this._max)}}let n=class{constructor(u,l){this._logService=u,this._data=new Map,this._isDev=l.isExtensionDevelopment||!l.isBuilt}for(u,l,D){var f,y,C;const _=(f=D==null?void 0:D.min)!==null&&f!==void 0?f:50,N=(y=D==null?void 0:D.max)!==null&&y!==void 0?y:Ao(_,2),b=(C=D==null?void 0:D.key)!==null&&C!==void 0?C:void 0,k=`${a.of(u)},${_}${b?","+b:""}`;let V=this._data.get(k);return V||(this._isDev?(this._logService.debug(`[DEBOUNCE: ${l}] is disabled in developed mode`),V=new r(_*1.5)):V=new i(this._logService,l,u,this._overallAverage()|0||_*1.5,_,N),this._data.set(k,V)),V}_overallAverage(){const u=new x.nM;for(const l of this._data.values())u.update(l.default());return u.value}};n=w([m(0,E.VZ),m(1,O.Y)],n),(0,S.z)(g,n,1)},70546:function(et,Le,e){"use strict";e.d(Le,{p:function(){return B}});var o=e(87058);const B=(0,o.yh)("ILanguageFeaturesService")},43066:function(et,Le,e){"use strict";e.d(Le,{i:function(){return B}});var o=e(87058);const B=(0,o.yh)("markerDecorationsService")},12692:function(et,Le,e){"use strict";e.d(Le,{q:function(){return B}});var o=e(87058);const B=(0,o.yh)("modelService")},21592:function(et,Le,e){"use strict";e.d(Le,{S:function(){return B}});var o=e(87058);const B=(0,o.yh)("textModelService")},39185:function(et,Le,e){"use strict";e.d(Le,{$:function(){return r},h:function(){return i}});var o=e(87597),B=e(63279),x=e(61629),O=e(93895),S=e(4694),p=e(94540);class E{static create(l,D){return new E(l,new R(D))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}constructor(l,D){this._startLineNumber=l,this._tokens=D,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(l){return this._startLineNumber<=l&&l<=this._endLineNumber?this._tokens.getLineTokens(l-this._startLineNumber):null}getRange(){const l=this._tokens.getRange();return l&&new S.e(this._startLineNumber+l.startLineNumber,l.startColumn,this._startLineNumber+l.endLineNumber,l.endColumn)}removeTokens(l){const D=l.startLineNumber-this._startLineNumber,f=l.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(D,l.startColumn-1,f,l.endColumn-1),this._updateEndLineNumber()}split(l){const D=l.startLineNumber-this._startLineNumber,f=l.endLineNumber-this._startLineNumber,[y,C,_]=this._tokens.split(D,l.startColumn-1,f,l.endColumn-1);return[new E(this._startLineNumber,y),new E(this._startLineNumber+_,C)]}applyEdit(l,D){const[f,y,C]=(0,p.Q)(D);this.acceptEdit(l,f,y,C,D.length>0?D.charCodeAt(0):0)}acceptEdit(l,D,f,y,C){this._acceptDeleteRange(l),this._acceptInsertText(new O.L(l.startLineNumber,l.startColumn),D,f,y,C),this._updateEndLineNumber()}_acceptDeleteRange(l){if(l.startLineNumber===l.endLineNumber&&l.startColumn===l.endColumn)return;const D=l.startLineNumber-this._startLineNumber,f=l.endLineNumber-this._startLineNumber;if(f<0){const C=f-D;this._startLineNumber-=C;return}const y=this._tokens.getMaxDeltaLine();if(!(D>=y+1)){if(D<0&&f>=y+1){this._startLineNumber=0,this._tokens.clear();return}if(D<0){const C=-D;this._startLineNumber-=C,this._tokens.acceptDeleteRange(l.startColumn-1,0,0,f,l.endColumn-1)}else this._tokens.acceptDeleteRange(0,D,l.startColumn-1,f,l.endColumn-1)}}_acceptInsertText(l,D,f,y,C){if(D===0&&f===0)return;const _=l.lineNumber-this._startLineNumber;if(_<0){this._startLineNumber+=D;return}const N=this._tokens.getMaxDeltaLine();_>=N+1||this._tokens.acceptInsertText(_,l.column-1,D,f,y,C)}}class R{constructor(l){this._tokens=l,this._tokenCount=l.length/4}toString(l){const D=[];for(let f=0;f<this._tokenCount;f++)D.push(`(${this._getDeltaLine(f)+l},${this._getStartCharacter(f)}-${this._getEndCharacter(f)})`);return`[${D.join(",")}]`}getMaxDeltaLine(){const l=this._getTokenCount();return l===0?-1:this._getDeltaLine(l-1)}getRange(){const l=this._getTokenCount();if(l===0)return null;const D=this._getStartCharacter(0),f=this._getDeltaLine(l-1),y=this._getEndCharacter(l-1);return new S.e(0,D+1,f,y+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(l){return this._tokens[4*l]}_getStartCharacter(l){return this._tokens[4*l+1]}_getEndCharacter(l){return this._tokens[4*l+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(l){let D=0,f=this._getTokenCount()-1;for(;D<f;){const y=D+Math.floor((f-D)/2),C=this._getDeltaLine(y);if(C<l)D=y+1;else if(C>l)f=y-1;else{let _=y;for(;_>D&&this._getDeltaLine(_-1)===l;)_--;let N=y;for(;N<f&&this._getDeltaLine(N+1)===l;)N++;return new w(this._tokens.subarray(4*_,4*N+4))}}return this._getDeltaLine(D)===l?new w(this._tokens.subarray(4*D,4*D+4)):null}clear(){this._tokenCount=0}removeTokens(l,D,f,y){const C=this._tokens,_=this._tokenCount;let N=0,b=!1,k=0;for(let V=0;V<_;V++){const K=4*V,Z=C[K],z=C[K+1],A=C[K+2],P=C[K+3];if((Z>l||Z===l&&A>=D)&&(Z<f||Z===f&&z<=y))b=!0;else{if(N===0&&(k=Z),b){const I=4*N;C[I]=Z-k,C[I+1]=z,C[I+2]=A,C[I+3]=P}N++}}return this._tokenCount=N,k}split(l,D,f,y){const C=this._tokens,_=this._tokenCount,N=[],b=[];let k=N,V=0,K=0;for(let Z=0;Z<_;Z++){const z=4*Z,A=C[z],P=C[z+1],I=C[z+2],W=C[z+3];if(A>l||A===l&&I>=D){if(A<f||A===f&&P<=y)continue;k!==b&&(k=b,V=0,K=A)}k[V++]=A-K,k[V++]=P,k[V++]=I,k[V++]=W}return[new R(new Uint32Array(N)),new R(new Uint32Array(b)),K]}acceptDeleteRange(l,D,f,y,C){const _=this._tokens,N=this._tokenCount,b=y-D;let k=0,V=!1;for(let K=0;K<N;K++){const Z=4*K;let z=_[Z],A=_[Z+1],P=_[Z+2];const I=_[Z+3];if(z<D||z===D&&P<=f){k++;continue}else if(z===D&&A<f)z===y&&P>C?P-=C-f:P=f;else if(z===D&&A===f)if(z===y&&P>C)P-=C-f;else{V=!0;continue}else if(z<y||z===y&&A<C)if(z===y&&P>C)z=D,A=f,P=A+(P-C);else{V=!0;continue}else if(z>y){if(b===0&&!V){k=N;break}z-=b}else if(z===y&&A>=C)l&&z===0&&(A+=l,P+=l),z-=b,A-=C-f,P-=C-f;else throw new Error("Not possible!");const W=4*k;_[W]=z,_[W+1]=A,_[W+2]=P,_[W+3]=I,k++}this._tokenCount=k}acceptInsertText(l,D,f,y,C,_){const N=f===0&&y===1&&(_>=48&&_<=57||_>=65&&_<=90||_>=97&&_<=122),b=this._tokens,k=this._tokenCount;for(let V=0;V<k;V++){const K=4*V;let Z=b[K],z=b[K+1],A=b[K+2];if(!(Z<l||Z===l&&A<D)){if(Z===l&&A===D)if(N)A+=1;else continue;else if(Z===l&&z<D&&D<A)f===0?A+=y:A=D;else{if(Z===l&&z===D&&N)continue;if(Z===l)if(Z+=f,f===0)z+=y,A+=y;else{const P=A-z;z=C+(z-D),A=z+P}else Z+=f}b[K]=Z,b[K+1]=z,b[K+2]=A}}}}class w{constructor(l){this._tokens=l}getCount(){return this._tokens.length/4}getStartCharacter(l){return this._tokens[4*l+1]}getEndCharacter(l){return this._tokens[4*l+2]}getMetadata(l){return this._tokens[4*l+3]}}var m=e(50131),g=function(u,l,D,f){var y=arguments.length,C=y<3?l:f===null?f=Object.getOwnPropertyDescriptor(l,D):f,_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(u,l,D,f);else for(var N=u.length-1;N>=0;N--)(_=u[N])&&(C=(y<3?_(C):y>3?_(l,D,C):_(l,D))||C);return y>3&&C&&Object.defineProperty(l,D,C),C},a=function(u,l){return function(D,f){l(D,f,u)}};let r=class{constructor(l,D,f,y){this._legend=l,this._themeService=D,this._languageService=f,this._logService=y,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new c}getMetadata(l,D,f){const y=this._languageService.languageIdCodec.encodeLanguageId(f),C=this._hashTable.get(l,D,y);let _;if(C)_=C.metadata,this._logService.getLevel()===x.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${l} / ${D}: foreground ${o.N.getForeground(_)}, fontStyle ${o.N.getFontStyle(_).toString(2)}`);else{let N=this._legend.tokenTypes[l];const b=[];if(N){let k=D;for(let K=0;k>0&&K<this._legend.tokenModifiers.length;K++)k&1&&b.push(this._legend.tokenModifiers[K]),k=k>>1;k>0&&this._logService.getLevel()===x.in.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${D.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),b.push("not-in-legend"));const V=this._themeService.getColorTheme().getTokenStyleMetadata(N,b,f);if(typeof V=="undefined")_=2147483647;else{if(_=0,typeof V.italic!="undefined"){const K=(V.italic?1:0)<<11;_|=K|1}if(typeof V.bold!="undefined"){const K=(V.bold?2:0)<<11;_|=K|2}if(typeof V.underline!="undefined"){const K=(V.underline?4:0)<<11;_|=K|4}if(typeof V.strikethrough!="undefined"){const K=(V.strikethrough?8:0)<<11;_|=K|8}if(V.foreground){const K=V.foreground<<15;_|=K|16}_===0&&(_=2147483647)}}else this._logService.getLevel()===x.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${l} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),_=2147483647,N="not-in-legend";this._hashTable.add(l,D,y,_),this._logService.getLevel()===x.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${l} (${N}) / ${D} (${b.join(" ")}): foreground ${o.N.getForeground(_)}, fontStyle ${o.N.getFontStyle(_).toString(2)}`)}return _}warnOverlappingSemanticTokens(l,D){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,this._logService.warn(`Overlapping semantic tokens detected at lineNumber ${l}, column ${D}`))}warnInvalidLengthSemanticTokens(l,D){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,this._logService.warn(`Semantic token with invalid length detected at lineNumber ${l}, column ${D}`))}warnInvalidEditStart(l,D,f,y,C){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,this._logService.warn(`Invalid semantic tokens edit detected (previousResultId: ${l}, resultId: ${D}) at edit #${f}: The provided start offset ${y} is outside the previous data (length ${C}).`))}};r=g([a(1,B.XE),a(2,m.O),a(3,x.VZ)],r);function i(u,l,D){const f=u.data,y=u.data.length/5|0,C=Math.max(Math.ceil(y/1024),400),_=[];let N=0,b=1,k=0;for(;N<y;){const V=N;let K=Math.min(V+C,y);if(K<y){let G=K;for(;G-1>V&&f[5*G]===0;)G--;if(G-1===V){let j=K;for(;j+1<y&&f[5*j]===0;)j++;K=j}else K=G}let Z=new Uint32Array((K-V)*4),z=0,A=0,P=0,I=0;for(;N<K;){const G=5*N,j=f[G],Y=f[G+1],H=b+j|0,Q=j===0?k+Y|0:Y,ie=f[G+2],te=Q+ie|0,se=f[G+3],ne=f[G+4];if(te<=Q)l.warnInvalidLengthSemanticTokens(H,Q+1);else if(P===H&&I>Q)l.warnOverlappingSemanticTokens(H,Q+1);else{const ee=l.getMetadata(se,ne,D);ee!==2147483647&&(A===0&&(A=H),Z[z]=H-A,Z[z+1]=Q,Z[z+2]=te,Z[z+3]=ee,z+=4,P=H,I=te)}b=H,k=Q,N++}z!==Z.length&&(Z=Z.subarray(0,z));const W=E.create(A,Z);_.push(W)}return _}class n{constructor(l,D,f,y){this.tokenTypeIndex=l,this.tokenModifierSet=D,this.languageId=f,this.metadata=y,this.next=null}}class c{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=c._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<c._SIZES.length?2/3*this._currentLength:0),this._elements=[],c._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(l,D){for(let f=0;f<D;f++)l[f]=null}_hash2(l,D){return(l<<5)-l+D|0}_hashFunc(l,D,f){return this._hash2(this._hash2(l,D),f)%this._currentLength}get(l,D,f){const y=this._hashFunc(l,D,f);let C=this._elements[y];for(;C;){if(C.tokenTypeIndex===l&&C.tokenModifierSet===D&&C.languageId===f)return C;C=C.next}return null}add(l,D,f,y){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const C=this._elements;this._currentLengthIndex++,this._currentLength=c._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<c._SIZES.length?2/3*this._currentLength:0),this._elements=[],c._nullOutEntries(this._elements,this._currentLength);for(const _ of C){let N=_;for(;N;){const b=N.next;N.next=null,this._add(N),N=b}}}this._add(new n(l,D,f,y))}_add(l){const D=this._hashFunc(l.tokenTypeIndex,l.tokenModifierSet,l.languageId);l.next=this._elements[D],this._elements[D]=l}}c._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]},19552:function(et,Le,e){"use strict";e.d(Le,{s:function(){return B}});var o=e(87058);const B=(0,o.yh)("semanticTokensStylingService")},15628:function(et,Le,e){"use strict";e.d(Le,{V:function(){return B},y:function(){return x}});var o=e(87058);const B=(0,o.yh)("textResourceConfigurationService"),x=(0,o.yh)("textResourcePropertiesService")},50946:function(et,Le,e){"use strict";e.d(Le,{a:function(){return p}});var o=e(4694),B=e(57612),x=e(30144),O=e(9751),S=e(38244);class p{static computeUnicodeHighlights(g,a,r){const i=r?r.startLineNumber:1,n=r?r.endLineNumber:g.getLineCount(),c=new R(a),u=c.getCandidateCodePoints();let l;u==="allNonBasicAscii"?l=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):l=new RegExp(`${E(Array.from(u))}`,"g");const D=new B.sz(null,l),f=[];let y=!1,C,_=0,N=0,b=0;e:for(let k=i,V=n;k<=V;k++){const K=g.getLineContent(k),Z=K.length;D.reset(0);do if(C=D.next(K),C){let z=C.index,A=C.index+C[0].length;if(z>0){const G=K.charCodeAt(z-1);x.ZG(G)&&z--}if(A+1<Z){const G=K.charCodeAt(A-1);x.ZG(G)&&A++}const P=K.substring(z,A);let I=(0,S.t2)(z+1,S.Af,K,0);I&&I.endColumn<=z+1&&(I=null);const W=c.shouldHighlightNonBasicASCII(P,I?I.word:null);if(W!==0){if(W===3?_++:W===2?N++:W===1?b++:(0,O.vE)(W),f.length>=1e3){y=!0;break e}f.push(new o.e(k,z+1,k,A+1))}}while(C)}return{ranges:f,hasMore:y,ambiguousCharacterCount:_,invisibleCharacterCount:N,nonBasicAsciiCharacterCount:b}}static computeUnicodeHighlightReason(g,a){const r=new R(a);switch(r.shouldHighlightNonBasicASCII(g,null)){case 0:return null;case 2:return{kind:1};case 3:{const n=g.codePointAt(0),c=r.ambiguousCharacters.getPrimaryConfusable(n),u=x.ZK.getLocales().filter(l=>!x.ZK.getInstance(new Set([...a.allowedLocales,l])).isAmbiguous(n));return{kind:0,confusableWith:String.fromCodePoint(c),notAmbiguousInLocales:u}}case 1:return{kind:2}}}}function E(m,g){return`[${x.ec(m.map(r=>String.fromCodePoint(r)).join(""))}]`}class R{constructor(g){this.options=g,this.allowedCodePoints=new Set(g.allowedCodePoints),this.ambiguousCharacters=x.ZK.getInstance(new Set(g.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const g=new Set;if(this.options.invisibleCharacters)for(const a of x.vU.codePoints)w(String.fromCodePoint(a))||g.add(a);if(this.options.ambiguousCharacters)for(const a of this.ambiguousCharacters.getConfusableCodePoints())g.add(a);for(const a of this.allowedCodePoints)g.delete(a);return g}shouldHighlightNonBasicASCII(g,a){const r=g.codePointAt(0);if(this.allowedCodePoints.has(r))return 0;if(this.options.nonBasicASCII)return 1;let i=!1,n=!1;if(a)for(const c of a){const u=c.codePointAt(0),l=x.$i(c);i=i||l,!l&&!this.ambiguousCharacters.isAmbiguous(u)&&!x.vU.isInvisibleCharacter(u)&&(n=!0)}return!i&&n?0:this.options.invisibleCharacters&&!w(g)&&x.vU.isInvisibleCharacter(r)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(r)?3:0}}function w(m){return m===" "||m===`
`||m==="	"}},91266:function(et,Le,e){"use strict";e.d(Le,{$r:function(){return Q},E$:function(){return z},F5:function(){return b},Ij:function(){return p},In:function(){return ne},Ll:function(){return Z},Lu:function(){return W},MG:function(){return V},MY:function(){return m},NA:function(){return P},OI:function(){return re},RM:function(){return l},U:function(){return n},VD:function(){return C},Vi:function(){return R},WG:function(){return k},WW:function(){return ie},ZL:function(){return _},_x:function(){return w},a$:function(){return H},a7:function(){return x},ao:function(){return o},bq:function(){return c},bw:function(){return f},cR:function(){return te},cm:function(){return O},d2:function(){return ee},eB:function(){return N},g4:function(){return j},g_:function(){return Y},gl:function(){return D},gm:function(){return r},jl:function(){return i},np:function(){return B},py:function(){return I},r3:function(){return E},r4:function(){return se},rf:function(){return g},rn:function(){return y},sh:function(){return A},up:function(){return he},vQ:function(){return G},w:function(){return K},wT:function(){return a},wU:function(){return u},we:function(){return S}});var o;(function(M){M[M.Unknown=0]="Unknown",M[M.Disabled=1]="Disabled",M[M.Enabled=2]="Enabled"})(o||(o={}));var B;(function(M){M[M.Invoke=1]="Invoke",M[M.Auto=2]="Auto"})(B||(B={}));var x;(function(M){M[M.None=0]="None",M[M.KeepWhitespace=1]="KeepWhitespace",M[M.InsertAsSnippet=4]="InsertAsSnippet"})(x||(x={}));var O;(function(M){M[M.Method=0]="Method",M[M.Function=1]="Function",M[M.Constructor=2]="Constructor",M[M.Field=3]="Field",M[M.Variable=4]="Variable",M[M.Class=5]="Class",M[M.Struct=6]="Struct",M[M.Interface=7]="Interface",M[M.Module=8]="Module",M[M.Property=9]="Property",M[M.Event=10]="Event",M[M.Operator=11]="Operator",M[M.Unit=12]="Unit",M[M.Value=13]="Value",M[M.Constant=14]="Constant",M[M.Enum=15]="Enum",M[M.EnumMember=16]="EnumMember",M[M.Keyword=17]="Keyword",M[M.Text=18]="Text",M[M.Color=19]="Color",M[M.File=20]="File",M[M.Reference=21]="Reference",M[M.Customcolor=22]="Customcolor",M[M.Folder=23]="Folder",M[M.TypeParameter=24]="TypeParameter",M[M.User=25]="User",M[M.Issue=26]="Issue",M[M.Snippet=27]="Snippet"})(O||(O={}));var S;(function(M){M[M.Deprecated=1]="Deprecated"})(S||(S={}));var p;(function(M){M[M.Invoke=0]="Invoke",M[M.TriggerCharacter=1]="TriggerCharacter",M[M.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(p||(p={}));var E;(function(M){M[M.EXACT=0]="EXACT",M[M.ABOVE=1]="ABOVE",M[M.BELOW=2]="BELOW"})(E||(E={}));var R;(function(M){M[M.NotSet=0]="NotSet",M[M.ContentFlush=1]="ContentFlush",M[M.RecoverFromMarkers=2]="RecoverFromMarkers",M[M.Explicit=3]="Explicit",M[M.Paste=4]="Paste",M[M.Undo=5]="Undo",M[M.Redo=6]="Redo"})(R||(R={}));var w;(function(M){M[M.LF=1]="LF",M[M.CRLF=2]="CRLF"})(w||(w={}));var m;(function(M){M[M.Text=0]="Text",M[M.Read=1]="Read",M[M.Write=2]="Write"})(m||(m={}));var g;(function(M){M[M.None=0]="None",M[M.Keep=1]="Keep",M[M.Brackets=2]="Brackets",M[M.Advanced=3]="Advanced",M[M.Full=4]="Full"})(g||(g={}));var a;(function(M){M[M.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",M[M.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",M[M.accessibilitySupport=2]="accessibilitySupport",M[M.accessibilityPageSize=3]="accessibilityPageSize",M[M.ariaLabel=4]="ariaLabel",M[M.ariaRequired=5]="ariaRequired",M[M.autoClosingBrackets=6]="autoClosingBrackets",M[M.autoClosingComments=7]="autoClosingComments",M[M.screenReaderAnnounceInlineSuggestion=8]="screenReaderAnnounceInlineSuggestion",M[M.autoClosingDelete=9]="autoClosingDelete",M[M.autoClosingOvertype=10]="autoClosingOvertype",M[M.autoClosingQuotes=11]="autoClosingQuotes",M[M.autoIndent=12]="autoIndent",M[M.automaticLayout=13]="automaticLayout",M[M.autoSurround=14]="autoSurround",M[M.bracketPairColorization=15]="bracketPairColorization",M[M.guides=16]="guides",M[M.codeLens=17]="codeLens",M[M.codeLensFontFamily=18]="codeLensFontFamily",M[M.codeLensFontSize=19]="codeLensFontSize",M[M.colorDecorators=20]="colorDecorators",M[M.colorDecoratorsLimit=21]="colorDecoratorsLimit",M[M.columnSelection=22]="columnSelection",M[M.comments=23]="comments",M[M.contextmenu=24]="contextmenu",M[M.copyWithSyntaxHighlighting=25]="copyWithSyntaxHighlighting",M[M.cursorBlinking=26]="cursorBlinking",M[M.cursorSmoothCaretAnimation=27]="cursorSmoothCaretAnimation",M[M.cursorStyle=28]="cursorStyle",M[M.cursorSurroundingLines=29]="cursorSurroundingLines",M[M.cursorSurroundingLinesStyle=30]="cursorSurroundingLinesStyle",M[M.cursorWidth=31]="cursorWidth",M[M.disableLayerHinting=32]="disableLayerHinting",M[M.disableMonospaceOptimizations=33]="disableMonospaceOptimizations",M[M.domReadOnly=34]="domReadOnly",M[M.dragAndDrop=35]="dragAndDrop",M[M.dropIntoEditor=36]="dropIntoEditor",M[M.emptySelectionClipboard=37]="emptySelectionClipboard",M[M.experimentalWhitespaceRendering=38]="experimentalWhitespaceRendering",M[M.extraEditorClassName=39]="extraEditorClassName",M[M.fastScrollSensitivity=40]="fastScrollSensitivity",M[M.find=41]="find",M[M.fixedOverflowWidgets=42]="fixedOverflowWidgets",M[M.folding=43]="folding",M[M.foldingStrategy=44]="foldingStrategy",M[M.foldingHighlight=45]="foldingHighlight",M[M.foldingImportsByDefault=46]="foldingImportsByDefault",M[M.foldingMaximumRegions=47]="foldingMaximumRegions",M[M.unfoldOnClickAfterEndOfLine=48]="unfoldOnClickAfterEndOfLine",M[M.fontFamily=49]="fontFamily",M[M.fontInfo=50]="fontInfo",M[M.fontLigatures=51]="fontLigatures",M[M.fontSize=52]="fontSize",M[M.fontWeight=53]="fontWeight",M[M.fontVariations=54]="fontVariations",M[M.formatOnPaste=55]="formatOnPaste",M[M.formatOnType=56]="formatOnType",M[M.glyphMargin=57]="glyphMargin",M[M.gotoLocation=58]="gotoLocation",M[M.hideCursorInOverviewRuler=59]="hideCursorInOverviewRuler",M[M.hover=60]="hover",M[M.inDiffEditor=61]="inDiffEditor",M[M.inlineSuggest=62]="inlineSuggest",M[M.inlineEdit=63]="inlineEdit",M[M.letterSpacing=64]="letterSpacing",M[M.lightbulb=65]="lightbulb",M[M.lineDecorationsWidth=66]="lineDecorationsWidth",M[M.lineHeight=67]="lineHeight",M[M.lineNumbers=68]="lineNumbers",M[M.lineNumbersMinChars=69]="lineNumbersMinChars",M[M.linkedEditing=70]="linkedEditing",M[M.links=71]="links",M[M.matchBrackets=72]="matchBrackets",M[M.minimap=73]="minimap",M[M.mouseStyle=74]="mouseStyle",M[M.mouseWheelScrollSensitivity=75]="mouseWheelScrollSensitivity",M[M.mouseWheelZoom=76]="mouseWheelZoom",M[M.multiCursorMergeOverlapping=77]="multiCursorMergeOverlapping",M[M.multiCursorModifier=78]="multiCursorModifier",M[M.multiCursorPaste=79]="multiCursorPaste",M[M.multiCursorLimit=80]="multiCursorLimit",M[M.occurrencesHighlight=81]="occurrencesHighlight",M[M.overviewRulerBorder=82]="overviewRulerBorder",M[M.overviewRulerLanes=83]="overviewRulerLanes",M[M.padding=84]="padding",M[M.pasteAs=85]="pasteAs",M[M.parameterHints=86]="parameterHints",M[M.peekWidgetDefaultFocus=87]="peekWidgetDefaultFocus",M[M.definitionLinkOpensInPeek=88]="definitionLinkOpensInPeek",M[M.quickSuggestions=89]="quickSuggestions",M[M.quickSuggestionsDelay=90]="quickSuggestionsDelay",M[M.readOnly=91]="readOnly",M[M.readOnlyMessage=92]="readOnlyMessage",M[M.renameOnType=93]="renameOnType",M[M.renderControlCharacters=94]="renderControlCharacters",M[M.renderFinalNewline=95]="renderFinalNewline",M[M.renderLineHighlight=96]="renderLineHighlight",M[M.renderLineHighlightOnlyWhenFocus=97]="renderLineHighlightOnlyWhenFocus",M[M.renderValidationDecorations=98]="renderValidationDecorations",M[M.renderWhitespace=99]="renderWhitespace",M[M.revealHorizontalRightPadding=100]="revealHorizontalRightPadding",M[M.roundedSelection=101]="roundedSelection",M[M.rulers=102]="rulers",M[M.scrollbar=103]="scrollbar",M[M.scrollBeyondLastColumn=104]="scrollBeyondLastColumn",M[M.scrollBeyondLastLine=105]="scrollBeyondLastLine",M[M.scrollPredominantAxis=106]="scrollPredominantAxis",M[M.selectionClipboard=107]="selectionClipboard",M[M.selectionHighlight=108]="selectionHighlight",M[M.selectOnLineNumbers=109]="selectOnLineNumbers",M[M.showFoldingControls=110]="showFoldingControls",M[M.showUnused=111]="showUnused",M[M.snippetSuggestions=112]="snippetSuggestions",M[M.smartSelect=113]="smartSelect",M[M.smoothScrolling=114]="smoothScrolling",M[M.stickyScroll=115]="stickyScroll",M[M.stickyTabStops=116]="stickyTabStops",M[M.stopRenderingLineAfter=117]="stopRenderingLineAfter",M[M.suggest=118]="suggest",M[M.suggestFontSize=119]="suggestFontSize",M[M.suggestLineHeight=120]="suggestLineHeight",M[M.suggestOnTriggerCharacters=121]="suggestOnTriggerCharacters",M[M.suggestSelection=122]="suggestSelection",M[M.tabCompletion=123]="tabCompletion",M[M.tabIndex=124]="tabIndex",M[M.unicodeHighlighting=125]="unicodeHighlighting",M[M.unusualLineTerminators=126]="unusualLineTerminators",M[M.useShadowDOM=127]="useShadowDOM",M[M.useTabStops=128]="useTabStops",M[M.wordBreak=129]="wordBreak",M[M.wordSegmenterLocales=130]="wordSegmenterLocales",M[M.wordSeparators=131]="wordSeparators",M[M.wordWrap=132]="wordWrap",M[M.wordWrapBreakAfterCharacters=133]="wordWrapBreakAfterCharacters",M[M.wordWrapBreakBeforeCharacters=134]="wordWrapBreakBeforeCharacters",M[M.wordWrapColumn=135]="wordWrapColumn",M[M.wordWrapOverride1=136]="wordWrapOverride1",M[M.wordWrapOverride2=137]="wordWrapOverride2",M[M.wrappingIndent=138]="wrappingIndent",M[M.wrappingStrategy=139]="wrappingStrategy",M[M.showDeprecated=140]="showDeprecated",M[M.inlayHints=141]="inlayHints",M[M.editorClassName=142]="editorClassName",M[M.pixelRatio=143]="pixelRatio",M[M.tabFocusMode=144]="tabFocusMode",M[M.layoutInfo=145]="layoutInfo",M[M.wrappingInfo=146]="wrappingInfo",M[M.defaultColorDecorators=147]="defaultColorDecorators",M[M.colorDecoratorsActivatedOn=148]="colorDecoratorsActivatedOn",M[M.inlineCompletionsAccessibilityVerbose=149]="inlineCompletionsAccessibilityVerbose"})(a||(a={}));var r;(function(M){M[M.TextDefined=0]="TextDefined",M[M.LF=1]="LF",M[M.CRLF=2]="CRLF"})(r||(r={}));var i;(function(M){M[M.LF=0]="LF",M[M.CRLF=1]="CRLF"})(i||(i={}));var n;(function(M){M[M.Left=1]="Left",M[M.Center=2]="Center",M[M.Right=3]="Right"})(n||(n={}));var c;(function(M){M[M.Increase=0]="Increase",M[M.Decrease=1]="Decrease"})(c||(c={}));var u;(function(M){M[M.None=0]="None",M[M.Indent=1]="Indent",M[M.IndentOutdent=2]="IndentOutdent",M[M.Outdent=3]="Outdent"})(u||(u={}));var l;(function(M){M[M.Both=0]="Both",M[M.Right=1]="Right",M[M.Left=2]="Left",M[M.None=3]="None"})(l||(l={}));var D;(function(M){M[M.Type=1]="Type",M[M.Parameter=2]="Parameter"})(D||(D={}));var f;(function(M){M[M.Automatic=0]="Automatic",M[M.Explicit=1]="Explicit"})(f||(f={}));var y;(function(M){M[M.Invoke=0]="Invoke",M[M.Automatic=1]="Automatic"})(y||(y={}));var C;(function(M){M[M.DependsOnKbLayout=-1]="DependsOnKbLayout",M[M.Unknown=0]="Unknown",M[M.Backspace=1]="Backspace",M[M.Tab=2]="Tab",M[M.Enter=3]="Enter",M[M.Shift=4]="Shift",M[M.Ctrl=5]="Ctrl",M[M.Alt=6]="Alt",M[M.PauseBreak=7]="PauseBreak",M[M.CapsLock=8]="CapsLock",M[M.Escape=9]="Escape",M[M.Space=10]="Space",M[M.PageUp=11]="PageUp",M[M.PageDown=12]="PageDown",M[M.End=13]="End",M[M.Home=14]="Home",M[M.LeftArrow=15]="LeftArrow",M[M.UpArrow=16]="UpArrow",M[M.RightArrow=17]="RightArrow",M[M.DownArrow=18]="DownArrow",M[M.Insert=19]="Insert",M[M.Delete=20]="Delete",M[M.Digit0=21]="Digit0",M[M.Digit1=22]="Digit1",M[M.Digit2=23]="Digit2",M[M.Digit3=24]="Digit3",M[M.Digit4=25]="Digit4",M[M.Digit5=26]="Digit5",M[M.Digit6=27]="Digit6",M[M.Digit7=28]="Digit7",M[M.Digit8=29]="Digit8",M[M.Digit9=30]="Digit9",M[M.KeyA=31]="KeyA",M[M.KeyB=32]="KeyB",M[M.KeyC=33]="KeyC",M[M.KeyD=34]="KeyD",M[M.KeyE=35]="KeyE",M[M.KeyF=36]="KeyF",M[M.KeyG=37]="KeyG",M[M.KeyH=38]="KeyH",M[M.KeyI=39]="KeyI",M[M.KeyJ=40]="KeyJ",M[M.KeyK=41]="KeyK",M[M.KeyL=42]="KeyL",M[M.KeyM=43]="KeyM",M[M.KeyN=44]="KeyN",M[M.KeyO=45]="KeyO",M[M.KeyP=46]="KeyP",M[M.KeyQ=47]="KeyQ",M[M.KeyR=48]="KeyR",M[M.KeyS=49]="KeyS",M[M.KeyT=50]="KeyT",M[M.KeyU=51]="KeyU",M[M.KeyV=52]="KeyV",M[M.KeyW=53]="KeyW",M[M.KeyX=54]="KeyX",M[M.KeyY=55]="KeyY",M[M.KeyZ=56]="KeyZ",M[M.Meta=57]="Meta",M[M.ContextMenu=58]="ContextMenu",M[M.F1=59]="F1",M[M.F2=60]="F2",M[M.F3=61]="F3",M[M.F4=62]="F4",M[M.F5=63]="F5",M[M.F6=64]="F6",M[M.F7=65]="F7",M[M.F8=66]="F8",M[M.F9=67]="F9",M[M.F10=68]="F10",M[M.F11=69]="F11",M[M.F12=70]="F12",M[M.F13=71]="F13",M[M.F14=72]="F14",M[M.F15=73]="F15",M[M.F16=74]="F16",M[M.F17=75]="F17",M[M.F18=76]="F18",M[M.F19=77]="F19",M[M.F20=78]="F20",M[M.F21=79]="F21",M[M.F22=80]="F22",M[M.F23=81]="F23",M[M.F24=82]="F24",M[M.NumLock=83]="NumLock",M[M.ScrollLock=84]="ScrollLock",M[M.Semicolon=85]="Semicolon",M[M.Equal=86]="Equal",M[M.Comma=87]="Comma",M[M.Minus=88]="Minus",M[M.Period=89]="Period",M[M.Slash=90]="Slash",M[M.Backquote=91]="Backquote",M[M.BracketLeft=92]="BracketLeft",M[M.Backslash=93]="Backslash",M[M.BracketRight=94]="BracketRight",M[M.Quote=95]="Quote",M[M.OEM_8=96]="OEM_8",M[M.IntlBackslash=97]="IntlBackslash",M[M.Numpad0=98]="Numpad0",M[M.Numpad1=99]="Numpad1",M[M.Numpad2=100]="Numpad2",M[M.Numpad3=101]="Numpad3",M[M.Numpad4=102]="Numpad4",M[M.Numpad5=103]="Numpad5",M[M.Numpad6=104]="Numpad6",M[M.Numpad7=105]="Numpad7",M[M.Numpad8=106]="Numpad8",M[M.Numpad9=107]="Numpad9",M[M.NumpadMultiply=108]="NumpadMultiply",M[M.NumpadAdd=109]="NumpadAdd",M[M.NUMPAD_SEPARATOR=110]="NUMPAD_SEPARATOR",M[M.NumpadSubtract=111]="NumpadSubtract",M[M.NumpadDecimal=112]="NumpadDecimal",M[M.NumpadDivide=113]="NumpadDivide",M[M.KEY_IN_COMPOSITION=114]="KEY_IN_COMPOSITION",M[M.ABNT_C1=115]="ABNT_C1",M[M.ABNT_C2=116]="ABNT_C2",M[M.AudioVolumeMute=117]="AudioVolumeMute",M[M.AudioVolumeUp=118]="AudioVolumeUp",M[M.AudioVolumeDown=119]="AudioVolumeDown",M[M.BrowserSearch=120]="BrowserSearch",M[M.BrowserHome=121]="BrowserHome",M[M.BrowserBack=122]="BrowserBack",M[M.BrowserForward=123]="BrowserForward",M[M.MediaTrackNext=124]="MediaTrackNext",M[M.MediaTrackPrevious=125]="MediaTrackPrevious",M[M.MediaStop=126]="MediaStop",M[M.MediaPlayPause=127]="MediaPlayPause",M[M.LaunchMediaPlayer=128]="LaunchMediaPlayer",M[M.LaunchMail=129]="LaunchMail",M[M.LaunchApp2=130]="LaunchApp2",M[M.Clear=131]="Clear",M[M.MAX_VALUE=132]="MAX_VALUE"})(C||(C={}));var _;(function(M){M[M.Hint=1]="Hint",M[M.Info=2]="Info",M[M.Warning=4]="Warning",M[M.Error=8]="Error"})(_||(_={}));var N;(function(M){M[M.Unnecessary=1]="Unnecessary",M[M.Deprecated=2]="Deprecated"})(N||(N={}));var b;(function(M){M[M.Inline=1]="Inline",M[M.Gutter=2]="Gutter"})(b||(b={}));var k;(function(M){M[M.Normal=1]="Normal",M[M.Underlined=2]="Underlined"})(k||(k={}));var V;(function(M){M[M.UNKNOWN=0]="UNKNOWN",M[M.TEXTAREA=1]="TEXTAREA",M[M.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",M[M.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",M[M.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",M[M.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",M[M.CONTENT_TEXT=6]="CONTENT_TEXT",M[M.CONTENT_EMPTY=7]="CONTENT_EMPTY",M[M.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",M[M.CONTENT_WIDGET=9]="CONTENT_WIDGET",M[M.OVERVIEW_RULER=10]="OVERVIEW_RULER",M[M.SCROLLBAR=11]="SCROLLBAR",M[M.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",M[M.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(V||(V={}));var K;(function(M){M[M.AIGenerated=1]="AIGenerated"})(K||(K={}));var Z;(function(M){M[M.Invoke=0]="Invoke",M[M.Automatic=1]="Automatic"})(Z||(Z={}));var z;(function(M){M[M.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",M[M.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",M[M.TOP_CENTER=2]="TOP_CENTER"})(z||(z={}));var A;(function(M){M[M.Left=1]="Left",M[M.Center=2]="Center",M[M.Right=4]="Right",M[M.Full=7]="Full"})(A||(A={}));var P;(function(M){M[M.Word=0]="Word",M[M.Line=1]="Line",M[M.Suggest=2]="Suggest"})(P||(P={}));var I;(function(M){M[M.Left=0]="Left",M[M.Right=1]="Right",M[M.None=2]="None",M[M.LeftOfInjectedText=3]="LeftOfInjectedText",M[M.RightOfInjectedText=4]="RightOfInjectedText"})(I||(I={}));var W;(function(M){M[M.Off=0]="Off",M[M.On=1]="On",M[M.Relative=2]="Relative",M[M.Interval=3]="Interval",M[M.Custom=4]="Custom"})(W||(W={}));var G;(function(M){M[M.None=0]="None",M[M.Text=1]="Text",M[M.Blocks=2]="Blocks"})(G||(G={}));var j;(function(M){M[M.Smooth=0]="Smooth",M[M.Immediate=1]="Immediate"})(j||(j={}));var Y;(function(M){M[M.Auto=1]="Auto",M[M.Hidden=2]="Hidden",M[M.Visible=3]="Visible"})(Y||(Y={}));var H;(function(M){M[M.LTR=0]="LTR",M[M.RTL=1]="RTL"})(H||(H={}));var Q;(function(M){M.Off="off",M.OnCode="onCode",M.On="on"})(Q||(Q={}));var ie;(function(M){M[M.Invoke=1]="Invoke",M[M.TriggerCharacter=2]="TriggerCharacter",M[M.ContentChange=3]="ContentChange"})(ie||(ie={}));var te;(function(M){M[M.File=0]="File",M[M.Module=1]="Module",M[M.Namespace=2]="Namespace",M[M.Package=3]="Package",M[M.Class=4]="Class",M[M.Method=5]="Method",M[M.Property=6]="Property",M[M.Field=7]="Field",M[M.Constructor=8]="Constructor",M[M.Enum=9]="Enum",M[M.Interface=10]="Interface",M[M.Function=11]="Function",M[M.Variable=12]="Variable",M[M.Constant=13]="Constant",M[M.String=14]="String",M[M.Number=15]="Number",M[M.Boolean=16]="Boolean",M[M.Array=17]="Array",M[M.Object=18]="Object",M[M.Key=19]="Key",M[M.Null=20]="Null",M[M.EnumMember=21]="EnumMember",M[M.Struct=22]="Struct",M[M.Event=23]="Event",M[M.Operator=24]="Operator",M[M.TypeParameter=25]="TypeParameter"})(te||(te={}));var se;(function(M){M[M.Deprecated=1]="Deprecated"})(se||(se={}));var ne;(function(M){M[M.Hidden=0]="Hidden",M[M.Blink=1]="Blink",M[M.Smooth=2]="Smooth",M[M.Phase=3]="Phase",M[M.Expand=4]="Expand",M[M.Solid=5]="Solid"})(ne||(ne={}));var ee;(function(M){M[M.Line=1]="Line",M[M.Block=2]="Block",M[M.Underline=3]="Underline",M[M.LineThin=4]="LineThin",M[M.BlockOutline=5]="BlockOutline",M[M.UnderlineThin=6]="UnderlineThin"})(ee||(ee={}));var re;(function(M){M[M.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",M[M.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",M[M.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",M[M.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(re||(re={}));var he;(function(M){M[M.None=0]="None",M[M.Same=1]="Same",M[M.Indent=2]="Indent",M[M.DeepIndent=3]="DeepIndent"})(he||(he={}))},85096:function(et,Le,e){"use strict";e.d(Le,{B8:function(){return E},UX:function(){return S},aq:function(){return p},iN:function(){return w},ld:function(){return O},qq:function(){return x},ug:function(){return B},xi:function(){return R}});var o=e(61652),B;(function(m){m.inspectTokensAction=o.NC("inspectTokens","Developer: Inspect Tokens")})(B||(B={}));var x;(function(m){m.gotoLineActionLabel=o.NC("gotoLineActionLabel","Go to Line/Column...")})(x||(x={}));var O;(function(m){m.helpQuickAccessActionLabel=o.NC("helpQuickAccess","Show all Quick Access Providers")})(O||(O={}));var S;(function(m){m.quickCommandActionLabel=o.NC("quickCommandActionLabel","Command Palette"),m.quickCommandHelp=o.NC("quickCommandActionHelp","Show And Run Commands")})(S||(S={}));var p;(function(m){m.quickOutlineActionLabel=o.NC("quickOutlineActionLabel","Go to Symbol..."),m.quickOutlineByCategoryActionLabel=o.NC("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")})(p||(p={}));var E;(function(m){m.editorViewAccessibleLabel=o.NC("editorViewAccessibleLabel","Editor content"),m.accessibilityHelpMessage=o.NC("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")})(E||(E={}));var R;(function(m){m.toggleHighContrast=o.NC("toggleHighContrast","Toggle High Contrast Theme")})(R||(R={}));var w;(function(m){m.bulkEditServiceSummary=o.NC("bulkEditServiceSummary","Made {0} edits in {1} files")})(w||(w={}))},44356:function(et,Le,e){"use strict";e.d(Le,{CZ:function(){return p},D8:function(){return R},Jx:function(){return o},Tx:function(){return S},dQ:function(){return E},fV:function(){return w},gk:function(){return B},lN:function(){return O},rU:function(){return x}});class o{constructor(){this.changeType=1}}class B{static applyInjectedText(g,a){if(!a||a.length===0)return g;let r="",i=0;for(const n of a)r+=g.substring(i,n.column-1),i=n.column-1,r+=n.options.content;return r+=g.substring(i),r}static fromDecorations(g){const a=[];for(const r of g)r.options.before&&r.options.before.content.length>0&&a.push(new B(r.ownerId,r.range.startLineNumber,r.range.startColumn,r.options.before,0)),r.options.after&&r.options.after.content.length>0&&a.push(new B(r.ownerId,r.range.endLineNumber,r.range.endColumn,r.options.after,1));return a.sort((r,i)=>r.lineNumber===i.lineNumber?r.column===i.column?r.order-i.order:r.column-i.column:r.lineNumber-i.lineNumber),a}constructor(g,a,r,i,n){this.ownerId=g,this.lineNumber=a,this.column=r,this.options=i,this.order=n}}class x{constructor(g,a,r){this.changeType=2,this.lineNumber=g,this.detail=a,this.injectedText=r}}class O{constructor(g,a){this.changeType=3,this.fromLineNumber=g,this.toLineNumber=a}}class S{constructor(g,a,r,i){this.changeType=4,this.injectedTexts=i,this.fromLineNumber=g,this.toLineNumber=a,this.detail=r}}class p{constructor(){this.changeType=5}}class E{constructor(g,a,r,i){this.changes=g,this.versionId=a,this.isUndoing=r,this.isRedoing=i,this.resultingSelection=null}containsEvent(g){for(let a=0,r=this.changes.length;a<r;a++)if(this.changes[a].changeType===g)return!0;return!1}static merge(g,a){const r=[].concat(g.changes).concat(a.changes),i=a.versionId,n=g.isUndoing||a.isUndoing,c=g.isRedoing||a.isRedoing;return new E(r,i,n,c)}}class R{constructor(g){this.changes=g}}class w{constructor(g,a){this.rawContentChangedEvent=g,this.contentChangedEvent=a}merge(g){const a=E.merge(this.rawContentChangedEvent,g.rawContentChangedEvent),r=w._mergeChangeEvents(this.contentChangedEvent,g.contentChangedEvent);return new w(a,r)}static _mergeChangeEvents(g,a){const r=[].concat(g.changes).concat(a.changes),i=a.eol,n=a.versionId,c=g.isUndoing||a.isUndoing,u=g.isRedoing||a.isRedoing,l=g.isFlush||a.isFlush,D=g.isEolChange&&a.isEolChange;return{changes:r,eol:i,isEolChange:D,versionId:n,isUndoing:c,isRedoing:u,isFlush:l}}}},50126:function(et,Le,e){"use strict";e.d(Le,{UO:function(){return B},s6:function(){return o},vW:function(){return x}});var o;(function(O){O[O.Disabled=0]="Disabled",O[O.EnabledForActive=1]="EnabledForActive",O[O.Enabled=2]="Enabled"})(o||(o={}));class B{constructor(S,p,E,R,w,m){if(this.visibleColumn=S,this.column=p,this.className=E,this.horizontalLine=R,this.forWrappedLinesAfterColumn=w,this.forWrappedLinesBeforeOrAtColumn=m,S!==-1==(p!==-1))throw new Error}}class x{constructor(S,p){this.top=S,this.endColumn=p}}},25114:function(et,Le,e){"use strict";e.d(Le,{A:function(){return B}});var o=e(87597);class B{static createEmpty(S,p){const E=B.defaultTokenMetadata,R=new Uint32Array(2);return R[0]=S.length,R[1]=E,new B(R,S,p)}constructor(S,p,E){this._lineTokensBrand=void 0,this._tokens=S,this._tokensCount=this._tokens.length>>>1,this._text=p,this._languageIdCodec=E}equals(S){return S instanceof B?this.slicedEquals(S,0,this._tokensCount):!1}slicedEquals(S,p,E){if(this._text!==S._text||this._tokensCount!==S._tokensCount)return!1;const R=p<<1,w=R+(E<<1);for(let m=R;m<w;m++)if(this._tokens[m]!==S._tokens[m])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(S){return S>0?this._tokens[S-1<<1]:0}getMetadata(S){return this._tokens[(S<<1)+1]}getLanguageId(S){const p=this._tokens[(S<<1)+1],E=o.N.getLanguageId(p);return this._languageIdCodec.decodeLanguageId(E)}getStandardTokenType(S){const p=this._tokens[(S<<1)+1];return o.N.getTokenType(p)}getForeground(S){const p=this._tokens[(S<<1)+1];return o.N.getForeground(p)}getClassName(S){const p=this._tokens[(S<<1)+1];return o.N.getClassNameFromMetadata(p)}getInlineStyle(S,p){const E=this._tokens[(S<<1)+1];return o.N.getInlineStyleFromMetadata(E,p)}getPresentation(S){const p=this._tokens[(S<<1)+1];return o.N.getPresentationFromMetadata(p)}getEndOffset(S){return this._tokens[S<<1]}findTokenIndexAtOffset(S){return B.findIndexInTokensArray(this._tokens,S)}inflate(){return this}sliceAndInflate(S,p,E){return new x(this,S,p,E)}static convertToEndOffset(S,p){const R=(S.length>>>1)-1;for(let w=0;w<R;w++)S[w<<1]=S[w+1<<1];S[R<<1]=p}static findIndexInTokensArray(S,p){if(S.length<=2)return 0;let E=0,R=(S.length>>>1)-1;for(;E<R;){const w=E+Math.floor((R-E)/2),m=S[w<<1];if(m===p)return w+1;m<p?E=w+1:m>p&&(R=w)}return E}withInserted(S){if(S.length===0)return this;let p=0,E=0,R="";const w=new Array;let m=0;for(;;){const g=p<this._tokensCount?this._tokens[p<<1]:-1,a=E<S.length?S[E]:null;if(g!==-1&&(a===null||g<=a.offset)){R+=this._text.substring(m,g);const r=this._tokens[(p<<1)+1];w.push(R.length,r),p++,m=g}else if(a){if(a.offset>m){R+=this._text.substring(m,a.offset);const r=this._tokens[(p<<1)+1];w.push(R.length,r),m=a.offset}R+=a.text,w.push(R.length,a.tokenMetadata),E++}else break}return new B(new Uint32Array(w),R,this._languageIdCodec)}}B.defaultTokenMetadata=(32768|2<<24)>>>0;class x{constructor(S,p,E,R){this._source=S,this._startOffset=p,this._endOffset=E,this._deltaOffset=R,this._firstTokenIndex=S.findTokenIndexAtOffset(p),this._tokensCount=0;for(let w=this._firstTokenIndex,m=S.getCount();w<m&&!(S.getStartOffset(w)>=E);w++)this._tokensCount++}getMetadata(S){return this._source.getMetadata(this._firstTokenIndex+S)}getLanguageId(S){return this._source.getLanguageId(this._firstTokenIndex+S)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(S){return S instanceof x?this._startOffset===S._startOffset&&this._endOffset===S._endOffset&&this._deltaOffset===S._deltaOffset&&this._source.slicedEquals(S._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(S){return this._source.getForeground(this._firstTokenIndex+S)}getEndOffset(S){const p=this._source.getEndOffset(this._firstTokenIndex+S);return Math.min(this._endOffset,p)-this._startOffset+this._deltaOffset}getClassName(S){return this._source.getClassName(this._firstTokenIndex+S)}getInlineStyle(S,p){return this._source.getInlineStyle(this._firstTokenIndex+S,p)}getPresentation(S){return this._source.getPresentation(this._firstTokenIndex+S)}findTokenIndexAtOffset(S){return this._source.findTokenIndexAtOffset(S+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}},84170:function(et,Le,e){"use strict";e.d(Le,{Kp:function(){return B},k:function(){return S}});var o=e(30144);class B{constructor(E,R,w,m){this.startColumn=E,this.endColumn=R,this.className=w,this.type=m,this._lineDecorationBrand=void 0}static _equals(E,R){return E.startColumn===R.startColumn&&E.endColumn===R.endColumn&&E.className===R.className&&E.type===R.type}static equalsArr(E,R){const w=E.length,m=R.length;if(w!==m)return!1;for(let g=0;g<w;g++)if(!B._equals(E[g],R[g]))return!1;return!0}static extractWrapped(E,R,w){if(E.length===0)return E;const m=R+1,g=w+1,a=w-R,r=[];let i=0;for(const n of E)n.endColumn<=m||n.startColumn>=g||(r[i++]=new B(Math.max(1,n.startColumn-m+1),Math.min(a+1,n.endColumn-m+1),n.className,n.type));return r}static filter(E,R,w,m){if(E.length===0)return[];const g=[];let a=0;for(let r=0,i=E.length;r<i;r++){const n=E[r],c=n.range;if(c.endLineNumber<R||c.startLineNumber>R||c.isEmpty()&&(n.type===0||n.type===3))continue;const u=c.startLineNumber===R?c.startColumn:w,l=c.endLineNumber===R?c.endColumn:m;g[a++]=new B(u,l,n.inlineClassName,n.type)}return g}static _typeCompare(E,R){const w=[2,0,1,3];return w[E]-w[R]}static compare(E,R){if(E.startColumn!==R.startColumn)return E.startColumn-R.startColumn;if(E.endColumn!==R.endColumn)return E.endColumn-R.endColumn;const w=B._typeCompare(E.type,R.type);return w!==0?w:E.className!==R.className?E.className<R.className?-1:1:0}}class x{constructor(E,R,w,m){this.startOffset=E,this.endOffset=R,this.className=w,this.metadata=m}}class O{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(E){let R=0;for(let w=0,m=E.length;w<m;w++)R|=E[w];return R}consumeLowerThan(E,R,w){for(;this.count>0&&this.stopOffsets[0]<E;){let m=0;for(;m+1<this.count&&this.stopOffsets[m]===this.stopOffsets[m+1];)m++;w.push(new x(R,this.stopOffsets[m],this.classNames.join(" "),O._metadata(this.metadata))),R=this.stopOffsets[m]+1,this.stopOffsets.splice(0,m+1),this.classNames.splice(0,m+1),this.metadata.splice(0,m+1),this.count-=m+1}return this.count>0&&R<E&&(w.push(new x(R,E-1,this.classNames.join(" "),O._metadata(this.metadata))),R=E),R}insert(E,R,w){if(this.count===0||this.stopOffsets[this.count-1]<=E)this.stopOffsets.push(E),this.classNames.push(R),this.metadata.push(w);else for(let m=0;m<this.count;m++)if(this.stopOffsets[m]>=E){this.stopOffsets.splice(m,0,E),this.classNames.splice(m,0,R),this.metadata.splice(m,0,w);break}this.count++}}class S{static normalize(E,R){if(R.length===0)return[];const w=[],m=new O;let g=0;for(let a=0,r=R.length;a<r;a++){const i=R[a];let n=i.startColumn,c=i.endColumn;const u=i.className,l=i.type===1?2:i.type===2?4:0;if(n>1){const y=E.charCodeAt(n-2);o.ZG(y)&&n--}if(c>1){const y=E.charCodeAt(c-2);o.ZG(y)&&c--}const D=n-1,f=c-2;g=m.consumeLowerThan(D,g,w),m.count===0&&(g=D),m.insert(f,u,l)}return m.consumeLowerThan(1073741824,g,w),w}}},65158:function(et,Le,e){"use strict";e.d(Le,{Nd:function(){return R},zG:function(){return p},IJ:function(){return E},d1:function(){return g},tF:function(){return r}});var o=e(61652),B=e(30144),x=e(42065),O=e(84170);class S{constructor(k,V,K,Z){this.endIndex=k,this.type=V,this.metadata=K,this.containsRTL=Z,this._linePartBrand=void 0}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}class p{constructor(k,V){this.startOffset=k,this.endOffset=V}equals(k){return this.startOffset===k.startOffset&&this.endOffset===k.endOffset}}class E{constructor(k,V,K,Z,z,A,P,I,W,G,j,Y,H,Q,ie,te,se,ne,ee){this.useMonospaceOptimizations=k,this.canUseHalfwidthRightwardsArrow=V,this.lineContent=K,this.continuesWithWrappedLine=Z,this.isBasicASCII=z,this.containsRTL=A,this.fauxIndentLength=P,this.lineTokens=I,this.lineDecorations=W.sort(O.Kp.compare),this.tabSize=G,this.startVisibleColumn=j,this.spaceWidth=Y,this.stopRenderingLineAfter=ie,this.renderWhitespace=te==="all"?4:te==="boundary"?1:te==="selection"?2:te==="trailing"?3:0,this.renderControlCharacters=se,this.fontLigatures=ne,this.selectionsOnLine=ee&&ee.sort((M,we)=>M.startOffset<we.startOffset?-1:1);const re=Math.abs(Q-Y),he=Math.abs(H-Y);re<he?(this.renderSpaceWidth=Q,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=H,this.renderSpaceCharCode=183)}sameSelection(k){if(this.selectionsOnLine===null)return k===null;if(k===null||k.length!==this.selectionsOnLine.length)return!1;for(let V=0;V<this.selectionsOnLine.length;V++)if(!this.selectionsOnLine[V].equals(k[V]))return!1;return!0}equals(k){return this.useMonospaceOptimizations===k.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===k.canUseHalfwidthRightwardsArrow&&this.lineContent===k.lineContent&&this.continuesWithWrappedLine===k.continuesWithWrappedLine&&this.isBasicASCII===k.isBasicASCII&&this.containsRTL===k.containsRTL&&this.fauxIndentLength===k.fauxIndentLength&&this.tabSize===k.tabSize&&this.startVisibleColumn===k.startVisibleColumn&&this.spaceWidth===k.spaceWidth&&this.renderSpaceWidth===k.renderSpaceWidth&&this.renderSpaceCharCode===k.renderSpaceCharCode&&this.stopRenderingLineAfter===k.stopRenderingLineAfter&&this.renderWhitespace===k.renderWhitespace&&this.renderControlCharacters===k.renderControlCharacters&&this.fontLigatures===k.fontLigatures&&O.Kp.equalsArr(this.lineDecorations,k.lineDecorations)&&this.lineTokens.equals(k.lineTokens)&&this.sameSelection(k.selectionsOnLine)}}class R{constructor(k,V){this.partIndex=k,this.charIndex=V}}class w{static getPartIndex(k){return(k&4294901760)>>>16}static getCharIndex(k){return(k&65535)>>>0}constructor(k,V){this.length=k,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}setColumnInfo(k,V,K,Z){const z=(V<<16|K<<0)>>>0;this._data[k-1]=z,this._horizontalOffset[k-1]=Z}getHorizontalOffset(k){return this._horizontalOffset.length===0?0:this._horizontalOffset[k-1]}charOffsetToPartData(k){return this.length===0?0:k<0?this._data[0]:k>=this.length?this._data[this.length-1]:this._data[k]}getDomPosition(k){const V=this.charOffsetToPartData(k-1),K=w.getPartIndex(V),Z=w.getCharIndex(V);return new R(K,Z)}getColumn(k,V){return this.partDataToCharOffset(k.partIndex,V,k.charIndex)+1}partDataToCharOffset(k,V,K){if(this.length===0)return 0;const Z=(k<<16|K<<0)>>>0;let z=0,A=this.length-1;for(;z+1<A;){const ie=z+A>>>1,te=this._data[ie];if(te===Z)return ie;te>Z?A=ie:z=ie}if(z===A)return z;const P=this._data[z],I=this._data[A];if(P===Z)return z;if(I===Z)return A;const W=w.getPartIndex(P),G=w.getCharIndex(P),j=w.getPartIndex(I);let Y;W!==j?Y=V:Y=w.getCharIndex(I);const H=K-G,Q=Y-K;return H<=Q?z:A}}class m{constructor(k,V,K){this._renderLineOutputBrand=void 0,this.characterMapping=k,this.containsRTL=V,this.containsForeignElements=K}}function g(b,k){if(b.lineContent.length===0){if(b.lineDecorations.length>0){k.appendString("<span>");let V=0,K=0,Z=0;for(const A of b.lineDecorations)(A.type===1||A.type===2)&&(k.appendString('<span class="'),k.appendString(A.className),k.appendString('"></span>'),A.type===1&&(Z|=1,V++),A.type===2&&(Z|=2,K++));k.appendString("</span>");const z=new w(1,V+K);return z.setColumnInfo(1,V,0,0),new m(z,!1,Z)}return k.appendString("<span><span></span></span>"),new m(new w(0,0),!1,0)}return C(n(b),k)}class a{constructor(k,V,K,Z){this.characterMapping=k,this.html=V,this.containsRTL=K,this.containsForeignElements=Z}}function r(b){const k=new x.HT(1e4),V=g(b,k);return new a(V.characterMapping,k.build(),V.containsRTL,V.containsForeignElements)}class i{constructor(k,V,K,Z,z,A,P,I,W,G,j,Y,H,Q,ie,te){this.fontIsMonospace=k,this.canUseHalfwidthRightwardsArrow=V,this.lineContent=K,this.len=Z,this.isOverflowing=z,this.overflowingCharCount=A,this.parts=P,this.containsForeignElements=I,this.fauxIndentLength=W,this.tabSize=G,this.startVisibleColumn=j,this.containsRTL=Y,this.spaceWidth=H,this.renderSpaceCharCode=Q,this.renderWhitespace=ie,this.renderControlCharacters=te}}function n(b){const k=b.lineContent;let V,K,Z;b.stopRenderingLineAfter!==-1&&b.stopRenderingLineAfter<k.length?(V=!0,K=k.length-b.stopRenderingLineAfter,Z=b.stopRenderingLineAfter):(V=!1,K=0,Z=k.length);let z=c(k,b.containsRTL,b.lineTokens,b.fauxIndentLength,Z);b.renderControlCharacters&&!b.isBasicASCII&&(z=D(k,z)),(b.renderWhitespace===4||b.renderWhitespace===1||b.renderWhitespace===2&&b.selectionsOnLine||b.renderWhitespace===3&&!b.continuesWithWrappedLine)&&(z=f(b,k,Z,z));let A=0;if(b.lineDecorations.length>0){for(let P=0,I=b.lineDecorations.length;P<I;P++){const W=b.lineDecorations[P];W.type===3||W.type===1?A|=1:W.type===2&&(A|=2)}z=y(k,Z,z,b.lineDecorations)}return b.containsRTL||(z=u(k,z,!b.isBasicASCII||b.fontLigatures)),new i(b.useMonospaceOptimizations,b.canUseHalfwidthRightwardsArrow,k,Z,V,K,z,A,b.fauxIndentLength,b.tabSize,b.startVisibleColumn,b.containsRTL,b.spaceWidth,b.renderSpaceCharCode,b.renderWhitespace,b.renderControlCharacters)}function c(b,k,V,K,Z){const z=[];let A=0;K>0&&(z[A++]=new S(K,"",0,!1));let P=K;for(let I=0,W=V.getCount();I<W;I++){const G=V.getEndOffset(I);if(G<=K)continue;const j=V.getClassName(I);if(G>=Z){const H=k?B.Ut(b.substring(P,Z)):!1;z[A++]=new S(Z,j,0,H);break}const Y=k?B.Ut(b.substring(P,G)):!1;z[A++]=new S(G,j,0,Y),P=G}return z}function u(b,k,V){let K=0;const Z=[];let z=0;if(V)for(let A=0,P=k.length;A<P;A++){const I=k[A],W=I.endIndex;if(K+50<W){const G=I.type,j=I.metadata,Y=I.containsRTL;let H=-1,Q=K;for(let ie=K;ie<W;ie++)b.charCodeAt(ie)===32&&(H=ie),H!==-1&&ie-Q>=50&&(Z[z++]=new S(H+1,G,j,Y),Q=H+1,H=-1);Q!==W&&(Z[z++]=new S(W,G,j,Y))}else Z[z++]=I;K=W}else for(let A=0,P=k.length;A<P;A++){const I=k[A],W=I.endIndex,G=W-K;if(G>50){const j=I.type,Y=I.metadata,H=I.containsRTL,Q=Math.ceil(G/50);for(let ie=1;ie<Q;ie++){const te=K+ie*50;Z[z++]=new S(te,j,Y,H)}Z[z++]=new S(W,j,Y,H)}else Z[z++]=I;K=W}return Z}function l(b){return b<32?b!==9:b===127||b>=8234&&b<=8238||b>=8294&&b<=8297||b>=8206&&b<=8207||b===1564}function D(b,k){const V=[];let K=new S(0,"",0,!1),Z=0;for(const z of k){const A=z.endIndex;for(;Z<A;Z++){const P=b.charCodeAt(Z);l(P)&&(Z>K.endIndex&&(K=new S(Z,z.type,z.metadata,z.containsRTL),V.push(K)),K=new S(Z+1,"mtkcontrol",z.metadata,!1),V.push(K))}Z>K.endIndex&&(K=new S(A,z.type,z.metadata,z.containsRTL),V.push(K))}return V}function f(b,k,V,K){const Z=b.continuesWithWrappedLine,z=b.fauxIndentLength,A=b.tabSize,P=b.startVisibleColumn,I=b.useMonospaceOptimizations,W=b.selectionsOnLine,G=b.renderWhitespace===1,j=b.renderWhitespace===3,Y=b.renderSpaceWidth!==b.spaceWidth,H=[];let Q=0,ie=0,te=K[ie].type,se=K[ie].containsRTL,ne=K[ie].endIndex;const ee=K.length;let re=!1,he=B.LC(k),M;he===-1?(re=!0,he=V,M=V):M=B.ow(k);let we=!1,We=0,ye=W&&W[We],X=P%A;for(let Ee=z;Ee<V;Ee++){const Oe=k.charCodeAt(Ee);ye&&Ee>=ye.endOffset&&(We++,ye=W&&W[We]);let Ke;if(Ee<he||Ee>M)Ke=!0;else if(Oe===9)Ke=!0;else if(Oe===32)if(G)if(we)Ke=!0;else{const Qe=Ee+1<V?k.charCodeAt(Ee+1):0;Ke=Qe===32||Qe===9}else Ke=!0;else Ke=!1;if(Ke&&W&&(Ke=!!ye&&ye.startOffset<=Ee&&ye.endOffset>Ee),Ke&&j&&(Ke=re||Ee>M),Ke&&se&&Ee>=he&&Ee<=M&&(Ke=!1),we){if(!Ke||!I&&X>=A){if(Y){const Qe=Q>0?H[Q-1].endIndex:z;for(let fe=Qe+1;fe<=Ee;fe++)H[Q++]=new S(fe,"mtkw",1,!1)}else H[Q++]=new S(Ee,"mtkw",1,!1);X=X%A}}else(Ee===ne||Ke&&Ee>z)&&(H[Q++]=new S(Ee,te,0,se),X=X%A);for(Oe===9?X=A:B.K7(Oe)?X+=2:X++,we=Ke;Ee===ne&&(ie++,ie<ee);)te=K[ie].type,se=K[ie].containsRTL,ne=K[ie].endIndex}let ve=!1;if(we)if(Z&&G){const Ee=V>0?k.charCodeAt(V-1):0,Oe=V>1?k.charCodeAt(V-2):0;Ee===32&&Oe!==32&&Oe!==9||(ve=!0)}else ve=!0;if(ve)if(Y){const Ee=Q>0?H[Q-1].endIndex:z;for(let Oe=Ee+1;Oe<=V;Oe++)H[Q++]=new S(Oe,"mtkw",1,!1)}else H[Q++]=new S(V,"mtkw",1,!1);else H[Q++]=new S(V,te,0,se);return H}function y(b,k,V,K){K.sort(O.Kp.compare);const Z=O.k.normalize(b,K),z=Z.length;let A=0;const P=[];let I=0,W=0;for(let j=0,Y=V.length;j<Y;j++){const H=V[j],Q=H.endIndex,ie=H.type,te=H.metadata,se=H.containsRTL;for(;A<z&&Z[A].startOffset<Q;){const ne=Z[A];if(ne.startOffset>W&&(W=ne.startOffset,P[I++]=new S(W,ie,te,se)),ne.endOffset+1<=Q)W=ne.endOffset+1,P[I++]=new S(W,ie+" "+ne.className,te|ne.metadata,se),A++;else{W=Q,P[I++]=new S(W,ie+" "+ne.className,te|ne.metadata,se);break}}Q>W&&(W=Q,P[I++]=new S(W,ie,te,se))}const G=V[V.length-1].endIndex;if(A<z&&Z[A].startOffset===G)for(;A<z&&Z[A].startOffset===G;){const j=Z[A];P[I++]=new S(W,j.className,j.metadata,!1),A++}return P}function C(b,k){const V=b.fontIsMonospace,K=b.canUseHalfwidthRightwardsArrow,Z=b.containsForeignElements,z=b.lineContent,A=b.len,P=b.isOverflowing,I=b.overflowingCharCount,W=b.parts,G=b.fauxIndentLength,j=b.tabSize,Y=b.startVisibleColumn,H=b.containsRTL,Q=b.spaceWidth,ie=b.renderSpaceCharCode,te=b.renderWhitespace,se=b.renderControlCharacters,ne=new w(A+1,W.length);let ee=!1,re=0,he=Y,M=0,we=0,We=0;H?k.appendString('<span dir="ltr">'):k.appendString("<span>");for(let ye=0,X=W.length;ye<X;ye++){const ve=W[ye],Ee=ve.endIndex,Oe=ve.type,Ke=ve.containsRTL,Qe=te!==0&&ve.isWhitespace(),fe=Qe&&!V&&(Oe==="mtkw"||!Z),$=re===Ee&&ve.isPseudoAfter();if(M=0,k.appendString("<span "),Ke&&k.appendString('style="unicode-bidi:isolate" '),k.appendString('class="'),k.appendString(fe?"mtkz":Oe),k.appendASCIICharCode(34),Qe){let le=0;{let De=re,xe=he;for(;De<Ee;De++){const me=(z.charCodeAt(De)===9?j-xe%j:1)|0;le+=me,De>=G&&(xe+=me)}}for(fe&&(k.appendString(' style="width:'),k.appendString(String(Q*le)),k.appendString('px"')),k.appendASCIICharCode(62);re<Ee;re++){ne.setColumnInfo(re+1,ye-We,M,we),We=0;const De=z.charCodeAt(re);let xe,Ce;if(De===9){xe=j-he%j|0,Ce=xe,!K||Ce>1?k.appendCharCode(8594):k.appendCharCode(65515);for(let me=2;me<=Ce;me++)k.appendCharCode(160)}else xe=2,Ce=1,k.appendCharCode(ie),k.appendCharCode(8204);M+=xe,we+=Ce,re>=G&&(he+=Ce)}}else for(k.appendASCIICharCode(62);re<Ee;re++){ne.setColumnInfo(re+1,ye-We,M,we),We=0;const le=z.charCodeAt(re);let De=1,xe=1;switch(le){case 9:De=j-he%j,xe=De;for(let Ce=1;Ce<=De;Ce++)k.appendCharCode(160);break;case 32:k.appendCharCode(160);break;case 60:k.appendString("&lt;");break;case 62:k.appendString("&gt;");break;case 38:k.appendString("&amp;");break;case 0:se?k.appendCharCode(9216):k.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:k.appendCharCode(65533);break;default:B.K7(le)&&xe++,se&&le<32?k.appendCharCode(9216+le):se&&le===127?k.appendCharCode(9249):se&&l(le)?(k.appendString("[U+"),k.appendString(_(le)),k.appendString("]"),De=8,xe=De):k.appendCharCode(le)}M+=De,we+=xe,re>=G&&(he+=xe)}$?We++:We=0,re>=A&&!ee&&ve.isPseudoAfter()&&(ee=!0,ne.setColumnInfo(re+1,ye,M,we)),k.appendString("</span>")}return ee||ne.setColumnInfo(A+1,W.length-1,M,we),P&&(k.appendString('<span class="mtkoverflow">'),k.appendString(o.NC("showMore","Show more ({0})",N(I))),k.appendString("</span>")),k.appendString("</span>"),new m(ne,H,Z)}function _(b){return b.toString(16).toUpperCase().padStart(4,"0")}function N(b){return b<1024?o.NC("overflow.chars","{0} chars",b):b<1024*1024?`${(b/1024).toFixed(1)} KB`:`${(b/1024/1024).toFixed(1)} MB`}},57822:function(et,Le,e){"use strict";e.d(Le,{$l:function(){return m},$t:function(){return R},IP:function(){return p},SQ:function(){return g},Wx:function(){return w},l_:function(){return O},ud:function(){return S},wA:function(){return E}});var o=e(71221),B=e(30144),x=e(4694);class O{constructor(r,i,n,c){this._viewportBrand=void 0,this.top=r|0,this.left=i|0,this.width=n|0,this.height=c|0}}class S{constructor(r,i){this.tabSize=r,this.data=i}}class p{constructor(r,i,n,c,u,l,D){this._viewLineDataBrand=void 0,this.content=r,this.continuesWithWrappedLine=i,this.minColumn=n,this.maxColumn=c,this.startVisibleColumn=u,this.tokens=l,this.inlineDecorations=D}}class E{constructor(r,i,n,c,u,l,D,f,y,C){this.minColumn=r,this.maxColumn=i,this.content=n,this.continuesWithWrappedLine=c,this.isBasicASCII=E.isBasicASCII(n,l),this.containsRTL=E.containsRTL(n,this.isBasicASCII,u),this.tokens=D,this.inlineDecorations=f,this.tabSize=y,this.startVisibleColumn=C}static isBasicASCII(r,i){return i?B.$i(r):!0}static containsRTL(r,i,n){return!i&&n?B.Ut(r):!1}}class R{constructor(r,i,n){this.range=r,this.inlineClassName=i,this.type=n}}class w{constructor(r,i,n,c){this.startOffset=r,this.endOffset=i,this.inlineClassName=n,this.inlineClassNameAffectsLetterSpacing=c}toInlineDecoration(r){return new R(new x.e(r,this.startOffset+1,r,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class m{constructor(r,i){this._viewModelDecorationBrand=void 0,this.range=r,this.options=i}}class g{constructor(r,i,n){this.color=r,this.zIndex=i,this.data=n}static compareByRenderingProps(r,i){return r.zIndex===i.zIndex?r.color<i.color?-1:r.color>i.color?1:0:r.zIndex-i.zIndex}static equals(r,i){return r.color===i.color&&r.zIndex===i.zIndex&&o.fS(r.data,i.data)}static equalsArr(r,i){return o.fS(r,i,g.equals)}}},48408:function(et,Le,e){"use strict";e.d(Le,{EY:function(){return B},Tj:function(){return x}});class o{constructor(S,p,E){this._colorZoneBrand=void 0,this.from=S|0,this.to=p|0,this.colorId=E|0}static compare(S,p){return S.colorId===p.colorId?S.from===p.from?S.to-p.to:S.from-p.from:S.colorId-p.colorId}}class B{constructor(S,p,E,R){this._overviewRulerZoneBrand=void 0,this.startLineNumber=S,this.endLineNumber=p,this.heightInLines=E,this.color=R,this._colorZone=null}static compare(S,p){return S.color===p.color?S.startLineNumber===p.startLineNumber?S.heightInLines===p.heightInLines?S.endLineNumber-p.endLineNumber:S.heightInLines-p.heightInLines:S.startLineNumber-p.startLineNumber:S.color<p.color?-1:1}setColorZone(S){this._colorZone=S}getColorZones(){return this._colorZone}}class x{constructor(S){this._getVerticalOffsetForLine=S,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(S){this._zones=S,this._zones.sort(B.compare)}setLineHeight(S){return this._lineHeight===S?!1:(this._lineHeight=S,this._colorZonesInvalid=!0,!0)}setPixelRatio(S){this._pixelRatio=S,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(S){return this._domWidth===S?!1:(this._domWidth=S,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(S){return this._domHeight===S?!1:(this._domHeight=S,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(S){return this._outerHeight===S?!1:(this._outerHeight=S,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const S=this._colorZonesInvalid,p=Math.floor(this._lineHeight),E=Math.floor(this.getCanvasHeight()),R=Math.floor(this._outerHeight),w=E/R,m=Math.floor(4*this._pixelRatio/2),g=[];for(let a=0,r=this._zones.length;a<r;a++){const i=this._zones[a];if(!S){const N=i.getColorZones();if(N){g.push(N);continue}}const n=this._getVerticalOffsetForLine(i.startLineNumber),c=i.heightInLines===0?this._getVerticalOffsetForLine(i.endLineNumber)+p:n+i.heightInLines*p,u=Math.floor(w*n),l=Math.floor(w*c);let D=Math.floor((u+l)/2),f=l-D;f<m&&(f=m),D-f<0&&(D=f),D+f>E&&(D=E-f);const y=i.color;let C=this._color2Id[y];C||(C=++this._lastAssignedId,this._color2Id[y]=C,this._id2Color[C]=y);const _=new o(D-f,D+f,C);i.setColorZone(_),g.push(_)}return this._colorZonesInvalid=!1,g.sort(o.compare),g}}},22829:function(et,Le,e){"use strict";e.d(Le,{$t:function(){return E},CU:function(){return S},Fd:function(){return p},zg:function(){return R}});var o=e(93895),B=e(4694),x=e(57822),O=e(75625);class S{constructor(g,a,r,i,n){this.editorId=g,this.model=a,this.configuration=r,this._linesCollection=i,this._coordinatesConverter=n,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(g){const a=g.id;let r=this._decorationsCache[a];if(!r){const i=g.range,n=g.options;let c;if(n.isWholeLine){const u=this._coordinatesConverter.convertModelPositionToViewPosition(new o.L(i.startLineNumber,1),0,!1,!0),l=this._coordinatesConverter.convertModelPositionToViewPosition(new o.L(i.endLineNumber,this.model.getLineMaxColumn(i.endLineNumber)),1);c=new B.e(u.lineNumber,u.column,l.lineNumber,l.column)}else c=this._coordinatesConverter.convertModelRangeToViewRange(i,1);r=new x.$l(c,n),this._decorationsCache[a]=r}return r}getMinimapDecorationsInRange(g){return this._getDecorationsInRange(g,!0,!1).decorations}getDecorationsViewportData(g){let a=this._cachedModelDecorationsResolver!==null;return a=a&&g.equalsRange(this._cachedModelDecorationsResolverViewRange),a||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(g,!1,!1),this._cachedModelDecorationsResolverViewRange=g),this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(g,a=!1,r=!1){const i=new B.e(g,this._linesCollection.getViewLineMinColumn(g),g,this._linesCollection.getViewLineMaxColumn(g));return this._getDecorationsInRange(i,a,r).inlineDecorations[0]}_getDecorationsInRange(g,a,r){const i=this._linesCollection.getDecorationsInRange(g,this.editorId,(0,O.$J)(this.configuration.options),a,r),n=g.startLineNumber,c=g.endLineNumber,u=[];let l=0;const D=[];for(let f=n;f<=c;f++)D[f-n]=[];for(let f=0,y=i.length;f<y;f++){const C=i[f],_=C.options;if(!p(this.model,C))continue;const N=this._getOrCreateViewModelDecoration(C),b=N.range;if(u[l++]=N,_.inlineClassName){const k=new x.$t(b,_.inlineClassName,_.inlineClassNameAffectsLetterSpacing?3:0),V=Math.max(n,b.startLineNumber),K=Math.min(c,b.endLineNumber);for(let Z=V;Z<=K;Z++)D[Z-n].push(k)}if(_.beforeContentClassName&&n<=b.startLineNumber&&b.startLineNumber<=c){const k=new x.$t(new B.e(b.startLineNumber,b.startColumn,b.startLineNumber,b.startColumn),_.beforeContentClassName,1);D[b.startLineNumber-n].push(k)}if(_.afterContentClassName&&n<=b.endLineNumber&&b.endLineNumber<=c){const k=new x.$t(new B.e(b.endLineNumber,b.endColumn,b.endLineNumber,b.endColumn),_.afterContentClassName,2);D[b.endLineNumber-n].push(k)}}return{decorations:u,inlineDecorations:D}}}function p(m,g){return!(g.options.hideInCommentTokens&&E(m,g)||g.options.hideInStringTokens&&R(m,g))}function E(m,g){return w(m,g.range,a=>a===1)}function R(m,g){return w(m,g.range,a=>a===2)}function w(m,g,a){for(let r=g.startLineNumber;r<=g.endLineNumber;r++){const i=m.tokenization.getLineTokens(r),n=r===g.startLineNumber,c=r===g.endLineNumber;let u=n?i.findTokenIndexAtOffset(g.startColumn-1):0;for(;u<i.getCount()&&!(c&&i.getStartOffset(u)>g.endColumn-1);){if(!a(i.getStandardTokenType(u)))return!1;u++}}return!0}},39583:function(et,Le,e){"use strict";var o=e(91333),B=e(60473),x=e(173),O=e(92635),S=e(14149),p=e(22706),E=e(61652),R=e(80568),w=function(l,D,f,y){var C=arguments.length,_=C<3?D:y===null?y=Object.getOwnPropertyDescriptor(D,f):y,N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(l,D,f,y);else for(var b=l.length-1;b>=0;b--)(N=l[b])&&(_=(C<3?N(_):C>3?N(D,f,_):N(D,f))||_);return C>3&&_&&Object.defineProperty(D,f,_),_},m=function(l,D){return function(f,y){D(f,y,l)}},g;const a=new R.uy("selectionAnchorSet",!1);let r=g=class{static get(D){return D.getContribution(g.ID)}constructor(D,f){this.editor=D,this.selectionAnchorSetContextKey=a.bindTo(f),this.modelChangeListener=D.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}setSelectionAnchor(){if(this.editor.hasModel()){const D=this.editor.getPosition();this.editor.changeDecorations(f=>{this.decorationId&&f.removeDecoration(this.decorationId),this.decorationId=f.addDecoration(S.Y.fromPositions(D,D),{description:"selection-anchor",stickiness:1,hoverMessage:new B.W5().appendText((0,E.NC)("selectionAnchor","Selection Anchor")),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,o.Z9)((0,E.NC)("anchorSet","Anchor set at {0}:{1}",D.lineNumber,D.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const D=this.editor.getModel().getDecorationRange(this.decorationId);D&&this.editor.setPosition(D.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const D=this.editor.getModel().getDecorationRange(this.decorationId);if(D){const f=this.editor.getPosition();this.editor.setSelection(S.Y.fromPositions(D.getStartPosition(),f)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){const D=this.decorationId;this.editor.changeDecorations(f=>{f.removeDecoration(D),this.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};r.ID="editor.contrib.selectionAnchorController",r=g=w([m(1,R.i6)],r);class i extends O.R6{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,E.NC)("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,x.gx)(2089,2080),weight:100}})}run(D,f){return Ft(this,null,function*(){var y;(y=r.get(f))===null||y===void 0||y.setSelectionAnchor()})}}class n extends O.R6{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,E.NC)("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:a})}run(D,f){return Ft(this,null,function*(){var y;(y=r.get(f))===null||y===void 0||y.goToSelectionAnchor()})}}class c extends O.R6{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,E.NC)("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:a,kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,x.gx)(2089,2089),weight:100}})}run(D,f){return Ft(this,null,function*(){var y;(y=r.get(f))===null||y===void 0||y.selectFromAnchorToCursor()})}}class u extends O.R6{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,E.NC)("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:a,kbOpts:{kbExpr:p.u.editorTextFocus,primary:9,weight:100}})}run(D,f){return Ft(this,null,function*(){var y;(y=r.get(f))===null||y===void 0||y.cancelSelectionAnchor()})}}(0,O._K)(r.ID,r,4),(0,O.Qr)(i),(0,O.Qr)(n),(0,O.Qr)(c),(0,O.Qr)(u)},10451:function(et,Le,e){"use strict";var o=e(74696),B=e(45029),x=e(92635),O=e(93895),S=e(4694),p=e(14149),E=e(22706),R=e(57204),w=e(93059),m=e(61652),g=e(69713),a=e(97341),r=e(63279);const i=(0,a.P6G)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},m.NC("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets."));class n extends x.R6{constructor(){super({id:"editor.action.jumpToBracket",label:m.NC("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:E.u.editorTextFocus,primary:3165,weight:100}})}run(y,C){var _;(_=D.get(C))===null||_===void 0||_.jumpToBracket()}}class c extends x.R6{constructor(){super({id:"editor.action.selectToBracket",label:m.NC("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,metadata:{description:m.vv("smartSelect.selectToBracketDescription","Select the text inside and including the brackets or curly braces"),args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(y,C,_){var N;let b=!0;_&&_.selectBrackets===!1&&(b=!1),(N=D.get(C))===null||N===void 0||N.selectToBracket(b)}}class u extends x.R6{constructor(){super({id:"editor.action.removeBrackets",label:m.NC("smartSelect.removeBrackets","Remove Brackets"),alias:"Remove Brackets",precondition:void 0,kbOpts:{kbExpr:E.u.editorTextFocus,primary:2561,weight:100}})}run(y,C){var _;(_=D.get(C))===null||_===void 0||_.removeBrackets(this.id)}}class l{constructor(y,C,_){this.position=y,this.brackets=C,this.options=_}}class D extends B.JT{static get(y){return y.getContribution(D.ID)}constructor(y){super(),this._editor=y,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new o.pY(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(72),this._updateBracketsSoon.schedule(),this._register(y.onDidChangeCursorPosition(C=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(y.onDidChangeModelContent(C=>{this._updateBracketsSoon.schedule()})),this._register(y.onDidChangeModel(C=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(y.onDidChangeModelLanguageConfiguration(C=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(y.onDidChangeConfiguration(C=>{C.hasChanged(72)&&(this._matchBrackets=this._editor.getOption(72),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(y.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(y.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}jumpToBracket(){if(!this._editor.hasModel())return;const y=this._editor.getModel(),C=this._editor.getSelections().map(_=>{const N=_.getStartPosition(),b=y.bracketPairs.matchBracket(N);let k=null;if(b)b[0].containsPosition(N)&&!b[1].containsPosition(N)?k=b[1].getStartPosition():b[1].containsPosition(N)&&(k=b[0].getStartPosition());else{const V=y.bracketPairs.findEnclosingBrackets(N);if(V)k=V[1].getStartPosition();else{const K=y.bracketPairs.findNextBracket(N);K&&K.range&&(k=K.range.getStartPosition())}}return k?new p.Y(k.lineNumber,k.column,k.lineNumber,k.column):new p.Y(N.lineNumber,N.column,N.lineNumber,N.column)});this._editor.setSelections(C),this._editor.revealRange(C[0])}selectToBracket(y){if(!this._editor.hasModel())return;const C=this._editor.getModel(),_=[];this._editor.getSelections().forEach(N=>{const b=N.getStartPosition();let k=C.bracketPairs.matchBracket(b);if(!k&&(k=C.bracketPairs.findEnclosingBrackets(b),!k)){const Z=C.bracketPairs.findNextBracket(b);Z&&Z.range&&(k=C.bracketPairs.matchBracket(Z.range.getStartPosition()))}let V=null,K=null;if(k){k.sort(S.e.compareRangesUsingStarts);const[Z,z]=k;if(V=y?Z.getStartPosition():Z.getEndPosition(),K=y?z.getEndPosition():z.getStartPosition(),z.containsPosition(b)){const A=V;V=K,K=A}}V&&K&&_.push(new p.Y(V.lineNumber,V.column,K.lineNumber,K.column))}),_.length>0&&(this._editor.setSelections(_),this._editor.revealRange(_[0]))}removeBrackets(y){if(!this._editor.hasModel())return;const C=this._editor.getModel();this._editor.getSelections().forEach(_=>{const N=_.getPosition();let b=C.bracketPairs.matchBracket(N);b||(b=C.bracketPairs.findEnclosingBrackets(N)),b&&(this._editor.pushUndoStop(),this._editor.executeEdits(y,[{range:b[0],text:""},{range:b[1],text:""}]),this._editor.pushUndoStop())})}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();const y=[];let C=0;for(const _ of this._lastBracketsData){const N=_.brackets;N&&(y[C++]={range:N[0],options:_.options},y[C++]={range:N[1],options:_.options})}this._decorations.set(y)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}const y=this._editor.getSelections();if(y.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const C=this._editor.getModel(),_=C.getVersionId();let N=[];this._lastVersionId===_&&(N=this._lastBracketsData);const b=[];let k=0;for(let A=0,P=y.length;A<P;A++){const I=y[A];I.isEmpty()&&(b[k++]=I.getStartPosition())}b.length>1&&b.sort(O.L.compare);const V=[];let K=0,Z=0;const z=N.length;for(let A=0,P=b.length;A<P;A++){const I=b[A];for(;Z<z&&N[Z].position.isBefore(I);)Z++;if(Z<z&&N[Z].position.equals(I))V[K++]=N[Z];else{let W=C.bracketPairs.matchBracket(I,20),G=D._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!W&&this._matchBrackets==="always"&&(W=C.bracketPairs.findEnclosingBrackets(I,20),G=D._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),V[K++]=new l(I,W,G)}}this._lastBracketsData=V,this._lastVersionId=_}}D.ID="editor.contrib.bracketMatchingController",D._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=w.qx.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,r.EN)(i),position:R.sh.Center}}),D._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=w.qx.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,x._K)(D.ID,D,1),(0,x.Qr)(c),(0,x.Qr)(n),(0,x.Qr)(u),g.BH.appendMenuItem(g.eH.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:m.NC({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2})},3398:function(et,Le,e){"use strict";var o=e(92635),B=e(22706),x=e(4694),O=e(14149);class S{constructor(g,a){this._selection=g,this._isMovingLeft=a}getEditOperations(g,a){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const r=this._selection.startLineNumber,i=this._selection.startColumn,n=this._selection.endColumn;if(!(this._isMovingLeft&&i===1)&&!(!this._isMovingLeft&&n===g.getLineMaxColumn(r)))if(this._isMovingLeft){const c=new x.e(r,i-1,r,i),u=g.getValueInRange(c);a.addEditOperation(c,null),a.addEditOperation(new x.e(r,n,r,n),u)}else{const c=new x.e(r,n,r,n+1),u=g.getValueInRange(c);a.addEditOperation(c,null),a.addEditOperation(new x.e(r,i,r,i),u)}}computeCursorState(g,a){return this._isMovingLeft?new O.Y(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new O.Y(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}var p=e(61652);class E extends o.R6{constructor(g,a){super(a),this.left=g}run(g,a){if(!a.hasModel())return;const r=[],i=a.getSelections();for(const n of i)r.push(new S(n,this.left));a.pushUndoStop(),a.executeCommands(this.id,r),a.pushUndoStop()}}class R extends E{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:p.NC("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:B.u.writable})}}class w extends E{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:p.NC("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:B.u.writable})}}(0,o.Qr)(R),(0,o.Qr)(w)},60013:function(et,Le,e){"use strict";var o=e(92635),B=e(43921),x=e(28958),O=e(4694),S=e(22706),p=e(61652);class E extends o.R6{constructor(){super({id:"editor.action.transposeLetters",label:p.NC("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:S.u.writable,kbOpts:{kbExpr:S.u.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(w,m){if(!m.hasModel())return;const g=m.getModel(),a=[],r=m.getSelections();for(const i of r){if(!i.isEmpty())continue;const n=i.startLineNumber,c=i.startColumn,u=g.getLineMaxColumn(n);if(n===1&&(c===1||c===2&&u===2))continue;const l=c===u?i.getPosition():x.o.rightPosition(g,i.getPosition().lineNumber,i.getPosition().column),D=x.o.leftPosition(g,l),f=x.o.leftPosition(g,D),y=g.getValueInRange(O.e.fromPositions(f,D)),C=g.getValueInRange(O.e.fromPositions(D,l)),_=O.e.fromPositions(f,l);a.push(new B.T4(_,C+y))}a.length>0&&(m.pushUndoStop(),m.executeCommands(this.id,a),m.pushUndoStop())}}(0,o.Qr)(E)},90678:function(et,Le,e){"use strict";var o=e(18119),B=e(91540),x=e(15122),O=e(47923),S=e(92635),p=e(89226),E=e(22706),R=e(7708),w=e(61652),m=e(69713),g=e(11796),a=e(80568);const r="9_cutcopypaste",i=x.tY||document.queryCommandSupported("cut"),n=x.tY||document.queryCommandSupported("copy"),c=typeof navigator.clipboard=="undefined"||o.vU?document.queryCommandSupported("paste"):!0;function u(_){return _.register(),_}const l=i?u(new S.AJ({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:x.tY?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:m.eH.MenubarEditMenu,group:"2_ccp",title:w.NC({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:m.eH.EditorContext,group:r,title:w.NC("actions.clipboard.cutLabel","Cut"),when:E.u.writable,order:1},{menuId:m.eH.CommandPalette,group:"",title:w.NC("actions.clipboard.cutLabel","Cut"),order:1},{menuId:m.eH.SimpleEditorContext,group:r,title:w.NC("actions.clipboard.cutLabel","Cut"),when:E.u.writable,order:1}]})):void 0,D=n?u(new S.AJ({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:x.tY?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:m.eH.MenubarEditMenu,group:"2_ccp",title:w.NC({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:m.eH.EditorContext,group:r,title:w.NC("actions.clipboard.copyLabel","Copy"),order:2},{menuId:m.eH.CommandPalette,group:"",title:w.NC("actions.clipboard.copyLabel","Copy"),order:1},{menuId:m.eH.SimpleEditorContext,group:r,title:w.NC("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;m.BH.appendMenuItem(m.eH.MenubarEditMenu,{submenu:m.eH.MenubarCopy,title:w.vv("copy as","Copy As"),group:"2_ccp",order:3}),m.BH.appendMenuItem(m.eH.EditorContext,{submenu:m.eH.EditorContextCopy,title:w.vv("copy as","Copy As"),group:r,order:3}),m.BH.appendMenuItem(m.eH.EditorContext,{submenu:m.eH.EditorContextShare,title:w.vv("share","Share"),group:"11_share",order:-1,when:a.Ao.and(a.Ao.notEquals("resourceScheme","output"),E.u.editorTextFocus)}),m.BH.appendMenuItem(m.eH.EditorTitleContext,{submenu:m.eH.EditorTitleContextShare,title:w.vv("share","Share"),group:"11_share",order:-1}),m.BH.appendMenuItem(m.eH.ExplorerContext,{submenu:m.eH.ExplorerContextShare,title:w.vv("share","Share"),group:"11_share",order:-1});const f=c?u(new S.AJ({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:x.tY?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:m.eH.MenubarEditMenu,group:"2_ccp",title:w.NC({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:m.eH.EditorContext,group:r,title:w.NC("actions.clipboard.pasteLabel","Paste"),when:E.u.writable,order:4},{menuId:m.eH.CommandPalette,group:"",title:w.NC("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:m.eH.SimpleEditorContext,group:r,title:w.NC("actions.clipboard.pasteLabel","Paste"),when:E.u.writable,order:4}]})):void 0;class y extends S.R6{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:w.NC("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:E.u.textInputFocus,primary:0,weight:100}})}run(N,b){!b.hasModel()||!b.getOption(37)&&b.getSelection().isEmpty()||(O.RA.forceCopyWithSyntaxHighlighting=!0,b.focus(),b.getContainerDomNode().ownerDocument.execCommand("copy"),O.RA.forceCopyWithSyntaxHighlighting=!1)}}function C(_,N){_&&(_.addImplementation(1e4,"code-editor",(b,k)=>{const V=b.get(p.$).getFocusedCodeEditor();if(V&&V.hasTextFocus()){const K=V.getOption(37),Z=V.getSelection();return Z&&Z.isEmpty()&&!K||V.getContainerDomNode().ownerDocument.execCommand(N),!0}return!1}),_.addImplementation(0,"generic-dom",(b,k)=>((0,B.uP)().execCommand(N),!0)))}C(l,"cut"),C(D,"copy"),f&&(f.addImplementation(1e4,"code-editor",(_,N)=>{var b,k;const V=_.get(p.$),K=_.get(g.p),Z=V.getFocusedCodeEditor();return Z&&Z.hasTextFocus()?Z.getContainerDomNode().ownerDocument.execCommand("paste")?(k=(b=R.bO.get(Z))===null||b===void 0?void 0:b.finishedPaste())!==null&&k!==void 0?k:Promise.resolve():x.$L?Ft(this,null,function*(){const A=yield K.readText();if(A!==""){const P=O.Nl.INSTANCE.get(A);let I=!1,W=null,G=null;P&&(I=Z.getOption(37)&&!!P.isFromEmptySelection,W=typeof P.multicursorText!="undefined"?P.multicursorText:null,G=P.mode),Z.trigger("keyboard","paste",{text:A,pasteOnNewLine:I,multicursorText:W,mode:G})}}):!0:!1}),f.addImplementation(0,"generic-dom",(_,N)=>((0,B.uP)().execCommand("paste"),!0))),n&&(0,S.Qr)(y)},4793:function(et,Le,e){"use strict";e.d(Le,{Bb:function(){return C},LR:function(){return I},MN:function(){return _},RB:function(){return D},TM:function(){return b},UX:function(){return P},aI:function(){return K},cz:function(){return f},pZ:function(){return y},uH:function(){return N}});var o=e(71221),B=e(65642),x=e(25602),O=e(45029),S=e(10058),p=e(11724),E=e(4694),R=e(14149),w=e(70546),m=e(12692),g=e(31079),a=e(61652),r=e(83349),i=e(52994),n=e(80731),c=e(79553),u=e(73044),l=e(51997);const D="editor.action.codeAction",f="editor.action.quickFix",y="editor.action.autoFix",C="editor.action.refactor",_="editor.action.sourceAction",N="editor.action.organizeImports",b="editor.action.fixAll";class k extends O.JT{static codeActionsPreferredComparator(j,Y){return j.isPreferred&&!Y.isPreferred?-1:!j.isPreferred&&Y.isPreferred?1:0}static codeActionsComparator({action:j},{action:Y}){return j.isAI&&!Y.isAI?1:!j.isAI&&Y.isAI?-1:(0,o.Of)(j.diagnostics)?(0,o.Of)(Y.diagnostics)?k.codeActionsPreferredComparator(j,Y):-1:(0,o.Of)(Y.diagnostics)?1:k.codeActionsPreferredComparator(j,Y)}constructor(j,Y,H){super(),this.documentation=Y,this._register(H),this.allActions=[...j].sort(k.codeActionsComparator),this.validActions=this.allActions.filter(({action:Q})=>!Q.disabled)}get hasAutoFix(){return this.validActions.some(({action:j})=>!!j.kind&&u.yN.QuickFix.contains(new l.o(j.kind))&&!!j.isPreferred)}get hasAIFix(){return this.validActions.some(({action:j})=>!!j.isAI)}get allAIFixes(){return this.validActions.every(({action:j})=>!!j.isAI)}}const V={actions:[],documentation:void 0};function K(G,j,Y,H,Q,ie){return Ft(this,null,function*(){var te;const se=H.filter||{},ne=Ki(vi({},se),{excludes:[...se.excludes||[],u.yN.Notebook]}),ee={only:(te=se.include)===null||te===void 0?void 0:te.value,trigger:H.type},re=new g.YQ(j,ie),he=H.type===2,M=Z(G,j,he?ne:se),we=new O.SL,We=M.map(X=>Ft(this,null,function*(){try{Q.report(X);const ve=yield X.provideCodeActions(j,Y,ee,re.token);if(ve&&we.add(ve),re.token.isCancellationRequested)return V;const Ee=((ve==null?void 0:ve.actions)||[]).filter(Ke=>Ke&&(0,u.Yl)(se,Ke)),Oe=A(X,Ee,se.include);return{actions:Ee.map(Ke=>new u.bA(Ke,X)),documentation:Oe}}catch(ve){if((0,x.n2)(ve))throw ve;return(0,x.Cp)(ve),V}})),ye=G.onDidChange(()=>{const X=G.all(j);(0,o.fS)(X,M)||re.cancel()});try{const X=yield Promise.all(We),ve=X.map(Oe=>Oe.actions).flat(),Ee=[...(0,o.kX)(X.map(Oe=>Oe.documentation)),...z(G,j,H,ve)];return new k(ve,Ee,we)}finally{ye.dispose(),re.dispose()}})}function Z(G,j,Y){return G.all(j).filter(H=>H.providedCodeActionKinds?H.providedCodeActionKinds.some(Q=>(0,u.EU)(Y,new l.o(Q))):!0)}function*z(G,j,Y,H){var Q,ie,te;if(j&&H.length)for(const se of G.all(j))se._getAdditionalMenuItems&&(yield*Sa((Q=se._getAdditionalMenuItems)===null||Q===void 0?void 0:Q.call(se,{trigger:Y.type,only:(te=(ie=Y.filter)===null||ie===void 0?void 0:ie.include)===null||te===void 0?void 0:te.value},H.map(ne=>ne.action))))}function A(G,j,Y){if(!G.documentation)return;const H=G.documentation.map(Q=>({kind:new l.o(Q.kind),command:Q.command}));if(Y){let Q;for(const ie of H)ie.kind.contains(Y)&&(Q?Q.kind.contains(ie.kind)&&(Q=ie):Q=ie);if(Q)return Q==null?void 0:Q.command}for(const Q of j)if(Q.kind){for(const ie of H)if(ie.kind.contains(new l.o(Q.kind)))return ie.command}}var P;(function(G){G.OnSave="onSave",G.FromProblemsView="fromProblemsView",G.FromCodeActions="fromCodeActions",G.FromAILightbulb="fromAILightbulb"})(P||(P={}));function I(ie,te,se,ne){return Ft(this,arguments,function*(G,j,Y,H,Q=B.Ts.None){var ee;const re=G.get(p.vu),he=G.get(r.H),M=G.get(c.b),we=G.get(i.lT);if(M.publicLog2("codeAction.applyCodeAction",{codeActionTitle:j.action.title,codeActionKind:j.action.kind,codeActionIsPreferred:!!j.action.isPreferred,reason:Y}),yield j.resolve(Q),!Q.isCancellationRequested&&!(!((ee=j.action.edit)===null||ee===void 0)&&ee.edits.length&&!(yield re.apply(j.action.edit,{editor:H==null?void 0:H.editor,label:j.action.title,quotableLabel:j.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:Y!==P.OnSave,showPreview:H==null?void 0:H.preview})).isApplied)&&j.action.command)try{yield he.executeCommand(j.action.command.id,...j.action.command.arguments||[])}catch(We){const ye=W(We);we.error(typeof ye=="string"?ye:a.NC("applyCodeActionFailed","An unknown error occurred while applying the code action"))}})}function W(G){return typeof G=="string"?G:G instanceof Error&&typeof G.message=="string"?G.message:void 0}r.P.registerCommand("_executeCodeActionProvider",function(G,j,Y,H,Q){return Ft(this,null,function*(){if(!(j instanceof S.o))throw(0,x.b1)();const{codeActionProvider:ie}=G.get(w.p),te=G.get(m.q).getModel(j);if(!te)throw(0,x.b1)();const se=R.Y.isISelection(Y)?R.Y.liftSelection(Y):E.e.isIRange(Y)?te.validateRange(Y):void 0;if(!se)throw(0,x.b1)();const ne=typeof H=="string"?new l.o(H):void 0,ee=yield K(ie,te,se,{type:1,triggerAction:u.aQ.Default,filter:{includeSourceActions:!0,include:ne}},n.Ex.None,B.Ts.None),re=[],he=Math.min(ee.validActions.length,typeof Q=="number"?Q:0);for(let M=0;M<he;M++)re.push(ee.validActions[M].resolve(B.Ts.None));try{return yield Promise.all(re),ee.validActions.map(M=>M.action)}finally{setTimeout(()=>ee.dispose(),100)}})})},47097:function(et,Le,e){"use strict";var o=e(92635),B=e(57587),x=e(51997),O=e(30144),S=e(22706),p=e(4793),E=e(61652),R=e(80568),w=e(73044),m=e(81687),g=e(99962);function a(b){return R.Ao.regex(g.fj.keys()[0],new RegExp("(\\s|^)"+(0,O.ec)(b.value)+"\\b"))}const r={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:E.NC("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:E.NC("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[E.NC("args.schema.apply.first","Always apply the first returned code action."),E.NC("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),E.NC("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:E.NC("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};function i(b,k,V,K,Z=w.aQ.Default){if(b.hasModel()){const z=m.G.get(b);z==null||z.manualTriggerAtCurrentPosition(k,Z,V,K)}}class n extends o.R6{constructor(){super({id:p.cz,label:E.NC("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:R.Ao.and(S.u.writable,S.u.hasCodeActionsProvider),kbOpts:{kbExpr:S.u.textInputFocus,primary:2137,weight:100}})}run(k,V){return i(V,E.NC("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0,w.aQ.QuickFix)}}class c extends o._l{constructor(){super({id:p.RB,precondition:R.Ao.and(S.u.writable,S.u.hasCodeActionsProvider),metadata:{description:"Trigger a code action",args:[{name:"args",schema:r}]}})}runEditorCommand(k,V,K){const Z=w.wZ.fromUser(K,{kind:x.o.Empty,apply:"ifSingle"});return i(V,typeof(K==null?void 0:K.kind)=="string"?Z.preferred?E.NC("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",K.kind):E.NC("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",K.kind):Z.preferred?E.NC("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):E.NC("editor.action.codeAction.noneMessage","No code actions available"),{include:Z.kind,includeSourceActions:!0,onlyIncludePreferredActions:Z.preferred},Z.apply)}}class u extends o.R6{constructor(){super({id:p.Bb,label:E.NC("refactor.label","Refactor..."),alias:"Refactor...",precondition:R.Ao.and(S.u.writable,S.u.hasCodeActionsProvider),kbOpts:{kbExpr:S.u.textInputFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:R.Ao.and(S.u.writable,a(w.yN.Refactor))},metadata:{description:"Refactor...",args:[{name:"args",schema:r}]}})}run(k,V,K){const Z=w.wZ.fromUser(K,{kind:w.yN.Refactor,apply:"never"});return i(V,typeof(K==null?void 0:K.kind)=="string"?Z.preferred?E.NC("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",K.kind):E.NC("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",K.kind):Z.preferred?E.NC("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):E.NC("editor.action.refactor.noneMessage","No refactorings available"),{include:w.yN.Refactor.contains(Z.kind)?Z.kind:x.o.None,onlyIncludePreferredActions:Z.preferred},Z.apply,w.aQ.Refactor)}}class l extends o.R6{constructor(){super({id:p.MN,label:E.NC("source.label","Source Action..."),alias:"Source Action...",precondition:R.Ao.and(S.u.writable,S.u.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:R.Ao.and(S.u.writable,a(w.yN.Source))},metadata:{description:"Source Action...",args:[{name:"args",schema:r}]}})}run(k,V,K){const Z=w.wZ.fromUser(K,{kind:w.yN.Source,apply:"never"});return i(V,typeof(K==null?void 0:K.kind)=="string"?Z.preferred?E.NC("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",K.kind):E.NC("editor.action.source.noneMessage.kind","No source actions for '{0}' available",K.kind):Z.preferred?E.NC("editor.action.source.noneMessage.preferred","No preferred source actions available"):E.NC("editor.action.source.noneMessage","No source actions available"),{include:w.yN.Source.contains(Z.kind)?Z.kind:x.o.None,includeSourceActions:!0,onlyIncludePreferredActions:Z.preferred},Z.apply,w.aQ.SourceAction)}}class D extends o.R6{constructor(){super({id:p.uH,label:E.NC("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:R.Ao.and(S.u.writable,a(w.yN.SourceOrganizeImports)),kbOpts:{kbExpr:S.u.textInputFocus,primary:1581,weight:100}})}run(k,V){return i(V,E.NC("editor.action.organize.noneMessage","No organize imports action available"),{include:w.yN.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",w.aQ.OrganizeImports)}}class f extends o.R6{constructor(){super({id:p.TM,label:E.NC("fixAll.label","Fix All"),alias:"Fix All",precondition:R.Ao.and(S.u.writable,a(w.yN.SourceFixAll))})}run(k,V){return i(V,E.NC("fixAll.noneMessage","No fix all action available"),{include:w.yN.SourceFixAll,includeSourceActions:!0},"ifSingle",w.aQ.FixAll)}}class y extends o.R6{constructor(){super({id:p.pZ,label:E.NC("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:R.Ao.and(S.u.writable,a(w.yN.QuickFix)),kbOpts:{kbExpr:S.u.textInputFocus,primary:1625,mac:{primary:2649},weight:100}})}run(k,V){return i(V,E.NC("editor.action.autoFix.noneMessage","No auto fixes available"),{include:w.yN.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",w.aQ.AutoFix)}}var C=e(36710),_=e(18567),N=e(2816);(0,o._K)(m.G.ID,m.G,3),(0,o._K)(C.f.ID,C.f,4),(0,o.Qr)(n),(0,o.Qr)(u),(0,o.Qr)(l),(0,o.Qr)(D),(0,o.Qr)(y),(0,o.Qr)(f),(0,o.fK)(new c),N.B.as(_.IP.Configuration).registerConfiguration(Ki(vi({},B.wk),{properties:{"editor.codeActionWidget.showHeaders":{type:"boolean",scope:5,description:E.NC("showCodeActionHeaders","Enable/disable showing group headers in the Code Action menu."),default:!0}}})),N.B.as(_.IP.Configuration).registerConfiguration(Ki(vi({},B.wk),{properties:{"editor.codeActionWidget.includeNearbyQuickFixes":{type:"boolean",scope:5,description:E.NC("includeNearbyQuickFixes","Enable/disable showing nearest Quick Fix within a line when not currently on a diagnostic."),default:!0}}}))},81687:function(et,Le,e){"use strict";e.d(Le,{G:function(){return Se}});var o=e(91540),B=e(91333),x=e(25602),O=e(20359),S=e(45029),p=e(93895),E=e(93059),R=e(70546),w=e(4793),m=e(51997),g=e(73044),a=e(66070),r=function(Te,Ae,pe,je){var ot=arguments.length,xt=ot<3?Ae:je===null?je=Object.getOwnPropertyDescriptor(Ae,pe):je,jt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")xt=Reflect.decorate(Te,Ae,pe,je);else for(var oi=Te.length-1;oi>=0;oi--)(jt=Te[oi])&&(xt=(ot<3?jt(xt):ot>3?jt(Ae,pe,xt):jt(Ae,pe))||xt);return ot>3&&xt&&Object.defineProperty(Ae,pe,xt),xt},i=function(Te,Ae){return function(pe,je){Ae(pe,je,Te)}},n;let c=n=class{constructor(Ae){this.keybindingService=Ae}getResolver(){const Ae=new O.o(()=>this.keybindingService.getKeybindings().filter(pe=>n.codeActionCommands.indexOf(pe.command)>=0).filter(pe=>pe.resolvedKeybinding).map(pe=>{let je=pe.commandArgs;return pe.command===w.uH?je={kind:g.yN.SourceOrganizeImports.value}:pe.command===w.TM&&(je={kind:g.yN.SourceFixAll.value}),vi({resolvedKeybinding:pe.resolvedKeybinding},g.wZ.fromUser(je,{kind:m.o.None,apply:"never"}))}));return pe=>{if(pe.kind){const je=this.bestKeybindingForCodeAction(pe,Ae.value);return je==null?void 0:je.resolvedKeybinding}}}bestKeybindingForCodeAction(Ae,pe){if(!Ae.kind)return;const je=new m.o(Ae.kind);return pe.filter(ot=>ot.kind.contains(je)).filter(ot=>ot.preferred?Ae.isPreferred:!0).reduceRight((ot,xt)=>ot?ot.kind.contains(xt.kind)?xt:ot:xt,void 0)}};c.codeActionCommands=[w.Bb,w.RB,w.MN,w.uH,w.TM],c=n=r([i(0,a.d)],c);var u=e(58411),l=e(24752),D=e(16450),f=e(61652);const y=Object.freeze({kind:m.o.Empty,title:(0,f.NC)("codeAction.widget.id.more","More Actions...")}),C=Object.freeze([{kind:g.yN.QuickFix,title:(0,f.NC)("codeAction.widget.id.quickfix","Quick Fix")},{kind:g.yN.RefactorExtract,title:(0,f.NC)("codeAction.widget.id.extract","Extract"),icon:l.l.wrench},{kind:g.yN.RefactorInline,title:(0,f.NC)("codeAction.widget.id.inline","Inline"),icon:l.l.wrench},{kind:g.yN.RefactorRewrite,title:(0,f.NC)("codeAction.widget.id.convert","Rewrite"),icon:l.l.wrench},{kind:g.yN.RefactorMove,title:(0,f.NC)("codeAction.widget.id.move","Move"),icon:l.l.wrench},{kind:g.yN.SurroundWith,title:(0,f.NC)("codeAction.widget.id.surround","Surround With"),icon:l.l.surroundWith},{kind:g.yN.Source,title:(0,f.NC)("codeAction.widget.id.source","Source Action"),icon:l.l.symbolFile},y]);function _(Te,Ae,pe){if(!Ae)return Te.map(xt=>{var jt;return{kind:"action",item:xt,group:y,disabled:!!xt.action.disabled,label:xt.action.disabled||xt.action.title,canPreview:!!(!((jt=xt.action.edit)===null||jt===void 0)&&jt.edits.length)}});const je=C.map(xt=>({group:xt,actions:[]}));for(const xt of Te){const jt=xt.action.kind?new m.o(xt.action.kind):m.o.None;for(const oi of je)if(oi.group.kind.contains(jt)){oi.actions.push(xt);break}}const ot=[];for(const xt of je)if(xt.actions.length){ot.push({kind:"header",group:xt.group});for(const jt of xt.actions){const oi=xt.group;ot.push({kind:"action",item:jt,group:jt.action.isAI?{title:oi.title,kind:oi.kind,icon:l.l.sparkle}:oi,label:jt.action.title,disabled:!!jt.action.disabled,keybinding:pe(jt.action)})}}return ot}var N=e(36710),b=e(64451),k=e(318),V=e(4647),K=e(66074),Z=e(65642),z=e(15122),A=e(68777),P=e(31949),I=e(26179),W=e(97341),G=function(Te,Ae,pe,je){var ot=arguments.length,xt=ot<3?Ae:je===null?je=Object.getOwnPropertyDescriptor(Ae,pe):je,jt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")xt=Reflect.decorate(Te,Ae,pe,je);else for(var oi=Te.length-1;oi>=0;oi--)(jt=Te[oi])&&(xt=(ot<3?jt(xt):ot>3?jt(Ae,pe,xt):jt(Ae,pe))||xt);return ot>3&&xt&&Object.defineProperty(Ae,pe,xt),xt},j=function(Te,Ae){return function(pe,je){Ae(pe,je,Te)}};const Y="acceptSelectedCodeAction",H="previewSelectedCodeAction";class Q{get templateId(){return"header"}renderTemplate(Ae){Ae.classList.add("group-header");const pe=document.createElement("span");return Ae.append(pe),{container:Ae,text:pe}}renderElement(Ae,pe,je){var ot,xt;je.text.textContent=(xt=(ot=Ae.group)===null||ot===void 0?void 0:ot.title)!==null&&xt!==void 0?xt:""}disposeTemplate(Ae){}}let ie=class{get templateId(){return"action"}constructor(Ae,pe){this._supportsPreview=Ae,this._keybindingService=pe}renderTemplate(Ae){Ae.classList.add(this.templateId);const pe=document.createElement("div");pe.className="icon",Ae.append(pe);const je=document.createElement("span");je.className="title",Ae.append(je);const ot=new V.e(Ae,z.OS);return{container:Ae,icon:pe,text:je,keybinding:ot}}renderElement(Ae,pe,je){var ot,xt,jt;if(!((ot=Ae.group)===null||ot===void 0)&&ot.icon?(je.icon.className=A.k.asClassName(Ae.group.icon),Ae.group.icon.color&&(je.icon.style.color=(0,W.n_1)(Ae.group.icon.color.id))):(je.icon.className=A.k.asClassName(l.l.lightBulb),je.icon.style.color="var(--vscode-editorLightBulb-foreground)"),!Ae.item||!Ae.label)return;je.text.textContent=re(Ae.label),je.keybinding.set(Ae.keybinding),o.iJ(!!Ae.keybinding,je.keybinding.element);const oi=(xt=this._keybindingService.lookupKeybinding(Y))===null||xt===void 0?void 0:xt.getLabel(),ti=(jt=this._keybindingService.lookupKeybinding(H))===null||jt===void 0?void 0:jt.getLabel();je.container.classList.toggle("option-disabled",Ae.disabled),Ae.disabled?je.container.title=Ae.label:oi&&ti?this._supportsPreview&&Ae.canPreview?je.container.title=(0,f.NC)({key:"label-preview",comment:['placeholders are keybindings, e.g "F2 to Apply, Shift+F2 to Preview"']},"{0} to Apply, {1} to Preview",oi,ti):je.container.title=(0,f.NC)({key:"label",comment:['placeholder is a keybinding, e.g "F2 to Apply"']},"{0} to Apply",oi):je.container.title=""}disposeTemplate(Ae){Ae.keybinding.dispose()}};ie=G([j(1,a.d)],ie);class te extends UIEvent{constructor(){super("acceptSelectedAction")}}class se extends UIEvent{constructor(){super("previewSelectedAction")}}function ne(Te){if(Te.kind==="action")return Te.label}let ee=class extends S.JT{constructor(Ae,pe,je,ot,xt,jt){super(),this._delegate=ot,this._contextViewService=xt,this._keybindingService=jt,this._actionLineHeight=24,this._headerLineHeight=26,this.cts=this._register(new Z.AU),this.domNode=document.createElement("div"),this.domNode.classList.add("actionList");const oi={getHeight:ti=>ti.kind==="header"?this._headerLineHeight:this._actionLineHeight,getTemplateId:ti=>ti.kind};this._list=this._register(new K.aV(Ae,this.domNode,oi,[new ie(pe,this._keybindingService),new Q],{keyboardSupport:!1,typeNavigationEnabled:!0,keyboardNavigationLabelProvider:{getKeyboardNavigationLabel:ne},accessibilityProvider:{getAriaLabel:ti=>{if(ti.kind==="action"){let it=ti.label?re(ti==null?void 0:ti.label):"";return ti.disabled&&(it=(0,f.NC)({key:"customQuickFixWidget.labels",comment:["Action widget labels for accessibility."]},"{0}, Disabled Reason: {1}",it,ti.disabled)),it}return null},getWidgetAriaLabel:()=>(0,f.NC)({key:"customQuickFixWidget",comment:["An action widget option"]},"Action Widget"),getRole:ti=>ti.kind==="action"?"option":"separator",getWidgetRole:()=>"listbox"}})),this._list.style(I.O2),this._register(this._list.onMouseClick(ti=>this.onListClick(ti))),this._register(this._list.onMouseOver(ti=>this.onListHover(ti))),this._register(this._list.onDidChangeFocus(()=>this.onFocus())),this._register(this._list.onDidChangeSelection(ti=>this.onListSelection(ti))),this._allMenuItems=je,this._list.splice(0,this._list.length,this._allMenuItems),this._list.length&&this.focusNext()}focusCondition(Ae){return!Ae.disabled&&Ae.kind==="action"}hide(Ae){this._delegate.onHide(Ae),this.cts.cancel(),this._contextViewService.hideContextView()}layout(Ae){const pe=this._allMenuItems.filter(ti=>ti.kind==="header").length,ot=this._allMenuItems.length*this._actionLineHeight+pe*this._headerLineHeight-pe*this._actionLineHeight;this._list.layout(ot);let xt=Ae;if(this._allMenuItems.length>=50)xt=380;else{const ti=this._allMenuItems.map((it,yt)=>{const $t=this.domNode.ownerDocument.getElementById(this._list.getElementID(yt));if($t){$t.style.width="auto";const Nt=$t.getBoundingClientRect().width;return $t.style.width="",Nt}return 0});xt=Math.max(...ti,Ae)}const oi=Math.min(ot,this.domNode.ownerDocument.body.clientHeight*.7);return this._list.layout(oi,xt),this.domNode.style.height=`${oi}px`,this._list.domFocus(),xt}focusPrevious(){this._list.focusPrevious(1,!0,void 0,this.focusCondition)}focusNext(){this._list.focusNext(1,!0,void 0,this.focusCondition)}acceptSelected(Ae){const pe=this._list.getFocus();if(pe.length===0)return;const je=pe[0],ot=this._list.element(je);if(!this.focusCondition(ot))return;const xt=Ae?new se:new te;this._list.setSelection([je],xt)}onListSelection(Ae){if(!Ae.elements.length)return;const pe=Ae.elements[0];pe.item&&this.focusCondition(pe)?this._delegate.onSelect(pe.item,Ae.browserEvent instanceof se):this._list.setSelection([])}onFocus(){var Ae,pe;const je=this._list.getFocus();if(je.length===0)return;const ot=je[0],xt=this._list.element(ot);(pe=(Ae=this._delegate).onFocus)===null||pe===void 0||pe.call(Ae,xt.item)}onListHover(Ae){return Ft(this,null,function*(){const pe=Ae.element;if(pe&&pe.item&&this.focusCondition(pe)){if(this._delegate.onHover&&!pe.disabled&&pe.kind==="action"){const je=yield this._delegate.onHover(pe.item,this.cts.token);pe.canPreview=je?je.canPreview:void 0}Ae.index&&this._list.splice(Ae.index,1,[pe])}this._list.setFocus(typeof Ae.index=="number"?[Ae.index]:[])})}onListClick(Ae){Ae.element&&this.focusCondition(Ae.element)&&this._list.setFocus([])}};ee=G([j(4,P.u),j(5,a.d)],ee);function re(Te){return Te.replace(/\r\n|\r|\n/g," ")}var he=e(69713),M=e(80568),we=e(98352),We=e(87058),ye=function(Te,Ae,pe,je){var ot=arguments.length,xt=ot<3?Ae:je===null?je=Object.getOwnPropertyDescriptor(Ae,pe):je,jt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")xt=Reflect.decorate(Te,Ae,pe,je);else for(var oi=Te.length-1;oi>=0;oi--)(jt=Te[oi])&&(xt=(ot<3?jt(xt):ot>3?jt(Ae,pe,xt):jt(Ae,pe))||xt);return ot>3&&xt&&Object.defineProperty(Ae,pe,xt),xt},X=function(Te,Ae){return function(pe,je){Ae(pe,je,Te)}};(0,W.P6G)("actionBar.toggledBackground",{dark:W.XEs,light:W.XEs,hcDark:W.XEs,hcLight:W.XEs},(0,f.NC)("actionBar.toggledBackground","Background color for toggled action items in action bar."));const ve={Visible:new M.uy("codeActionMenuVisible",!1,(0,f.NC)("codeActionMenuVisible","Whether the action widget list is visible"))},Ee=(0,We.yh)("actionWidgetService");let Oe=class extends S.JT{get isVisible(){return ve.Visible.getValue(this._contextKeyService)||!1}constructor(Ae,pe,je){super(),this._contextViewService=Ae,this._contextKeyService=pe,this._instantiationService=je,this._list=this._register(new S.XK)}show(Ae,pe,je,ot,xt,jt,oi){const ti=ve.Visible.bindTo(this._contextKeyService),it=this._instantiationService.createInstance(ee,Ae,pe,je,ot);this._contextViewService.showContextView({getAnchor:()=>xt,render:yt=>(ti.set(!0),this._renderWidget(yt,it,oi!=null?oi:[])),onHide:yt=>{ti.reset(),this._onWidgetClosed(yt)}},jt,!1)}acceptSelected(Ae){var pe;(pe=this._list.value)===null||pe===void 0||pe.acceptSelected(Ae)}focusPrevious(){var Ae,pe;(pe=(Ae=this._list)===null||Ae===void 0?void 0:Ae.value)===null||pe===void 0||pe.focusPrevious()}focusNext(){var Ae,pe;(pe=(Ae=this._list)===null||Ae===void 0?void 0:Ae.value)===null||pe===void 0||pe.focusNext()}hide(Ae){var pe;(pe=this._list.value)===null||pe===void 0||pe.hide(Ae),this._list.clear()}_renderWidget(Ae,pe,je){var ot;const xt=document.createElement("div");if(xt.classList.add("action-widget"),Ae.appendChild(xt),this._list.value=pe,this._list.value)xt.appendChild(this._list.value.domNode);else throw new Error("List has no value");const jt=new S.SL,oi=document.createElement("div"),ti=Ae.appendChild(oi);ti.classList.add("context-view-block"),jt.add(o.nm(ti,o.tw.MOUSE_DOWN,Ht=>Ht.stopPropagation()));const it=document.createElement("div"),yt=Ae.appendChild(it);yt.classList.add("context-view-pointerBlock"),jt.add(o.nm(yt,o.tw.POINTER_MOVE,()=>yt.remove())),jt.add(o.nm(yt,o.tw.MOUSE_DOWN,()=>yt.remove()));let $t=0;if(je.length){const Ht=this._createActionBar(".action-widget-action-bar",je);Ht&&(xt.appendChild(Ht.getContainer().parentElement),jt.add(Ht),$t=Ht.getContainer().offsetWidth)}const Nt=(ot=this._list.value)===null||ot===void 0?void 0:ot.layout($t);xt.style.width=`${Nt}px`;const qt=jt.add(o.go(Ae));return jt.add(qt.onDidBlur(()=>this.hide(!0))),jt}_createActionBar(Ae,pe){if(!pe.length)return;const je=o.$(Ae),ot=new k.o(je);return ot.push(pe,{icon:!1,label:!0}),ot}_onWidgetClosed(Ae){var pe;(pe=this._list.value)===null||pe===void 0||pe.hide(Ae)}};Oe=ye([X(0,P.u),X(1,M.i6),X(2,We.TG)],Oe),(0,we.z)(Ee,Oe,1);const Ke=1100;(0,he.r1)(class extends he.Ke{constructor(){super({id:"hideCodeActionWidget",title:(0,f.vv)("hideCodeActionWidget.title","Hide action widget"),precondition:ve.Visible,keybinding:{weight:Ke,primary:9,secondary:[1033]}})}run(Te){Te.get(Ee).hide(!0)}}),(0,he.r1)(class extends he.Ke{constructor(){super({id:"selectPrevCodeAction",title:(0,f.vv)("selectPrevCodeAction.title","Select previous action"),precondition:ve.Visible,keybinding:{weight:Ke,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})}run(Te){const Ae=Te.get(Ee);Ae instanceof Oe&&Ae.focusPrevious()}}),(0,he.r1)(class extends he.Ke{constructor(){super({id:"selectNextCodeAction",title:(0,f.vv)("selectNextCodeAction.title","Select next action"),precondition:ve.Visible,keybinding:{weight:Ke,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})}run(Te){const Ae=Te.get(Ee);Ae instanceof Oe&&Ae.focusNext()}}),(0,he.r1)(class extends he.Ke{constructor(){super({id:Y,title:(0,f.vv)("acceptSelected.title","Accept selected action"),precondition:ve.Visible,keybinding:{weight:Ke,primary:3,secondary:[2137]}})}run(Te){const Ae=Te.get(Ee);Ae instanceof Oe&&Ae.acceptSelected()}}),(0,he.r1)(class extends he.Ke{constructor(){super({id:H,title:(0,f.vv)("previewSelected.title","Preview selected action"),precondition:ve.Visible,keybinding:{weight:Ke,primary:2051}})}run(Te){const Ae=Te.get(Ee);Ae instanceof Oe&&Ae.acceptSelected(!0)}});var Qe=e(83349),fe=e(48774),$=e(91466),le=e(80731),De=e(98618),xe=e(63279),Ce=e(99962),me=e(79553),be=function(Te,Ae,pe,je){var ot=arguments.length,xt=ot<3?Ae:je===null?je=Object.getOwnPropertyDescriptor(Ae,pe):je,jt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")xt=Reflect.decorate(Te,Ae,pe,je);else for(var oi=Te.length-1;oi>=0;oi--)(jt=Te[oi])&&(xt=(ot<3?jt(xt):ot>3?jt(Ae,pe,xt):jt(Ae,pe))||xt);return ot>3&&xt&&Object.defineProperty(Ae,pe,xt),xt},oe=function(Te,Ae){return function(pe,je){Ae(pe,je,Te)}},ue;const de="quickfix-edit-highlight";let Se=ue=class extends S.JT{static get(Ae){return Ae.getContribution(ue.ID)}constructor(Ae,pe,je,ot,xt,jt,oi,ti,it,yt,$t){super(),this._commandService=oi,this._configurationService=ti,this._actionWidgetService=it,this._instantiationService=yt,this._telemetryService=$t,this._activeCodeActions=this._register(new S.XK),this._showDisabled=!1,this._disposed=!1,this._editor=Ae,this._model=this._register(new Ce.Jt(this._editor,xt.codeActionProvider,pe,je,jt,ti)),this._register(this._model.onDidChangeState(Nt=>this.update(Nt))),this._lightBulbWidget=new O.o(()=>{const Nt=this._editor.getContribution(N.f.ID);return Nt&&this._register(Nt.onClick(qt=>this.showCodeActionsFromLightbulb(qt.actions,qt))),Nt}),this._resolver=ot.createInstance(c),this._register(this._editor.onDidLayoutChange(()=>this._actionWidgetService.hide()))}dispose(){this._disposed=!0,super.dispose()}showCodeActionsFromLightbulb(Ae,pe){return Ft(this,null,function*(){if(this._telemetryService.publicLog2("codeAction.showCodeActionsFromLightbulb",{codeActionListLength:Ae.validActions.length,codeActions:Ae.validActions.map(je=>je.action.title),codeActionProviders:Ae.validActions.map(je=>{var ot,xt;return(xt=(ot=je.provider)===null||ot===void 0?void 0:ot.displayName)!==null&&xt!==void 0?xt:""})}),Ae.allAIFixes&&Ae.validActions.length===1){const je=Ae.validActions[0],ot=je.action.command;ot&&ot.id==="inlineChat.start"&&ot.arguments&&ot.arguments.length>=1&&(ot.arguments[0]=Ki(vi({},ot.arguments[0]),{autoSend:!1})),yield this._applyCodeAction(je,!1,!1,w.UX.FromAILightbulb);return}yield this.showCodeActionList(Ae,pe,{includeDisabledActions:!1,fromLightbulb:!0})})}showCodeActions(Ae,pe,je){return this.showCodeActionList(pe,je,{includeDisabledActions:!1,fromLightbulb:!1})}manualTriggerAtCurrentPosition(Ae,pe,je,ot){var xt;if(!this._editor.hasModel())return;(xt=b.O.get(this._editor))===null||xt===void 0||xt.closeMessage();const jt=this._editor.getPosition();this._trigger({type:1,triggerAction:pe,filter:je,autoApply:ot,context:{notAvailableMessage:Ae,position:jt}})}_trigger(Ae){return this._model.trigger(Ae)}_applyCodeAction(Ae,pe,je,ot){return Ft(this,null,function*(){try{yield this._instantiationService.invokeFunction(w.LR,Ae,ot,{preview:je,editor:this._editor})}finally{pe&&this._trigger({type:2,triggerAction:g.aQ.QuickFix,filter:{}})}})}update(Ae){return Ft(this,null,function*(){var pe,je,ot,xt,jt,oi,ti;if(Ae.type!==1){(pe=this._lightBulbWidget.rawValue)===null||pe===void 0||pe.hide();return}let it;try{it=yield Ae.actions}catch(yt){(0,x.dL)(yt);return}if(!this._disposed)if((je=this._lightBulbWidget.value)===null||je===void 0||je.update(it,Ae.trigger,Ae.position),Ae.trigger.type===1){if(!((ot=Ae.trigger.filter)===null||ot===void 0)&&ot.include){const $t=this.tryGetValidActionToApply(Ae.trigger,it);if($t){try{(xt=this._lightBulbWidget.value)===null||xt===void 0||xt.hide(),yield this._applyCodeAction($t,!1,!1,w.UX.FromCodeActions)}finally{it.dispose()}return}if(Ae.trigger.context){const Nt=this.getInvalidActionThatWouldHaveBeenApplied(Ae.trigger,it);if(Nt&&Nt.action.disabled){(jt=b.O.get(this._editor))===null||jt===void 0||jt.showMessage(Nt.action.disabled,Ae.trigger.context.position),it.dispose();return}}}const yt=!!(!((oi=Ae.trigger.filter)===null||oi===void 0)&&oi.include);if(Ae.trigger.context&&(!it.allActions.length||!yt&&!it.validActions.length)){(ti=b.O.get(this._editor))===null||ti===void 0||ti.showMessage(Ae.trigger.context.notAvailableMessage,Ae.trigger.context.position),this._activeCodeActions.value=it,it.dispose();return}this._activeCodeActions.value=it,this.showCodeActionList(it,this.toCoords(Ae.position),{includeDisabledActions:yt,fromLightbulb:!1})}else this._actionWidgetService.isVisible?it.dispose():this._activeCodeActions.value=it})}getInvalidActionThatWouldHaveBeenApplied(Ae,pe){if(pe.allActions.length&&(Ae.autoApply==="first"&&pe.validActions.length===0||Ae.autoApply==="ifSingle"&&pe.allActions.length===1))return pe.allActions.find(({action:je})=>je.disabled)}tryGetValidActionToApply(Ae,pe){if(pe.validActions.length&&(Ae.autoApply==="first"&&pe.validActions.length>0||Ae.autoApply==="ifSingle"&&pe.validActions.length===1))return pe.validActions[0]}showCodeActionList(Ae,pe,je){return Ft(this,null,function*(){const ot=this._editor.createDecorationsCollection(),xt=this._editor.getDomNode();if(!xt)return;const jt=je.includeDisabledActions&&(this._showDisabled||Ae.validActions.length===0)?Ae.allActions:Ae.validActions;if(!jt.length)return;const oi=p.L.isIPosition(pe)?this.toCoords(pe):pe,ti={onSelect:(it,yt)=>Ft(this,null,function*(){this._applyCodeAction(it,!0,!!yt,je.fromLightbulb?w.UX.FromAILightbulb:w.UX.FromCodeActions),this._actionWidgetService.hide(!1),ot.clear()}),onHide:it=>{var yt;(yt=this._editor)===null||yt===void 0||yt.focus(),ot.clear(),je.fromLightbulb&&it!==void 0&&this._telemetryService.publicLog2("codeAction.showCodeActionList.onHide",{codeActionListLength:Ae.validActions.length,didCancel:it})},onHover:(it,yt)=>Ft(this,null,function*(){var $t;if(yt.isCancellationRequested)return;let Nt=!1;const qt=it.action.kind;if(qt){const Ht=new m.o(qt);Nt=[g.yN.RefactorExtract,g.yN.RefactorInline,g.yN.RefactorRewrite,g.yN.RefactorMove,g.yN.Source].some(Ct=>Ct.contains(Ht))}return{canPreview:Nt||!!(!(($t=it.action.edit)===null||$t===void 0)&&$t.edits.length)}}),onFocus:it=>{var yt,$t;if(it&&it.action){const Nt=it.action.ranges,qt=it.action.diagnostics;if(ot.clear(),Nt&&Nt.length>0){const Ht=qt&&(qt==null?void 0:qt.length)>1?qt.map(He=>({range:He,options:ue.DECORATION})):Nt.map(He=>({range:He,options:ue.DECORATION}));ot.set(Ht)}else if(qt&&qt.length>0){const Ht=qt.map(Ct=>({range:Ct,options:ue.DECORATION}));ot.set(Ht);const He=qt[0];if(He.startLineNumber&&He.startColumn){const Ct=($t=(yt=this._editor.getModel())===null||yt===void 0?void 0:yt.getWordAtPosition({lineNumber:He.startLineNumber,column:He.startColumn}))===null||$t===void 0?void 0:$t.word;B.i7((0,f.NC)("editingNewSelection","Context: {0} at line {1} and column {2}.",Ct,He.startLineNumber,He.startColumn))}}}else ot.clear()}};this._actionWidgetService.show("codeActionWidget",!0,_(jt,this._shouldShowHeaders(),this._resolver.getResolver()),ti,oi,xt,this._getActionBarActions(Ae,pe,je))})}toCoords(Ae){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(Ae,1),this._editor.render();const pe=this._editor.getScrolledVisiblePosition(Ae),je=(0,o.i)(this._editor.getDomNode()),ot=je.left+pe.left,xt=je.top+pe.top+pe.height;return{x:ot,y:xt}}_shouldShowHeaders(){var Ae;const pe=(Ae=this._editor)===null||Ae===void 0?void 0:Ae.getModel();return this._configurationService.getValue("editor.codeActionWidget.showHeaders",{resource:pe==null?void 0:pe.uri})}_getActionBarActions(Ae,pe,je){if(je.fromLightbulb)return[];const ot=Ae.documentation.map(xt=>{var jt;return{id:xt.id,label:xt.title,tooltip:(jt=xt.tooltip)!==null&&jt!==void 0?jt:"",class:void 0,enabled:!0,run:()=>{var oi;return this._commandService.executeCommand(xt.id,...(oi=xt.arguments)!==null&&oi!==void 0?oi:[])}}});return je.includeDisabledActions&&Ae.validActions.length>0&&Ae.allActions.length!==Ae.validActions.length&&ot.push(this._showDisabled?{id:"hideMoreActions",label:(0,f.NC)("hideMoreActions","Hide Disabled"),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!1,this.showCodeActionList(Ae,pe,je))}:{id:"showMoreActions",label:(0,f.NC)("showMoreActions","Show Disabled"),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!0,this.showCodeActionList(Ae,pe,je))}),ot}};Se.ID="editor.contrib.codeActionController",Se.DECORATION=E.qx.register({description:"quickfix-highlight",className:de}),Se=ue=be([oe(1,$.lT),oe(2,M.i6),oe(3,We.TG),oe(4,R.p),oe(5,le.ek),oe(6,Qe.H),oe(7,fe.Ui),oe(8,Ee),oe(9,We.TG),oe(10,me.b)],Se),(0,xe.Ic)((Te,Ae)=>{((ot,xt)=>{xt&&Ae.addRule(`.monaco-editor ${ot} { background-color: ${xt}; }`)})(".quickfix-edit-highlight",Te.getColor(W.MUv));const je=Te.getColor(W.EiJ);je&&Ae.addRule(`.monaco-editor .quickfix-edit-highlight { border: 1px ${(0,De.c3)(Te.type)?"dotted":"solid"} ${je}; box-sizing: border-box; }`)})},99962:function(et,Le,e){"use strict";e.d(Le,{Jt:function(){return D},fj:function(){return i}});var o=e(74696),B=e(25602),x=e(79329),O=e(45029),S=e(2644),p=e(75625),E=e(93895),R=e(14149),w=e(80568),m=e(80731),g=e(73044),a=e(4793),r=e(51997);const i=new w.uy("supportedCodeAction",""),n="_typescript.applyFixAllCodeAction";class c extends O.JT{constructor(y,C,_,N=250){super(),this._editor=y,this._markerService=C,this._signalChange=_,this._delay=N,this._autoTriggerTimer=this._register(new o._F),this._register(this._markerService.onMarkerChanged(b=>this._onMarkerChanges(b))),this._register(this._editor.onDidChangeCursorPosition(()=>this._tryAutoTrigger()))}trigger(y){const C=this._getRangeOfSelectionUnlessWhitespaceEnclosed(y);this._signalChange(C?{trigger:y,selection:C}:void 0)}_onMarkerChanges(y){const C=this._editor.getModel();C&&y.some(_=>(0,S.Xy)(_,C.uri))&&this._tryAutoTrigger()}_tryAutoTrigger(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:g.aQ.Default})},this._delay)}_getRangeOfSelectionUnlessWhitespaceEnclosed(y){if(!this._editor.hasModel())return;const C=this._editor.getSelection();if(y.type===1)return C;const _=this._editor.getOption(65).enabled;if(_!==p.$r.Off){{if(_===p.$r.On)return C;if(_===p.$r.OnCode){if(!C.isEmpty())return C;const b=this._editor.getModel(),{lineNumber:k,column:V}=C.getPosition(),K=b.getLineContent(k);if(K.length===0)return;if(V===1){if(/\s/.test(K[0]))return}else if(V===b.getLineMaxColumn(k)){if(/\s/.test(K[K.length-1]))return}else if(/\s/.test(K[V-2])&&/\s/.test(K[V-1]))return}}return C}}}var u;(function(f){f.Empty={type:0};class y{constructor(_,N,b){this.trigger=_,this.position=N,this._cancellablePromise=b,this.type=1,this.actions=b.catch(k=>{if((0,B.n2)(k))return l;throw k})}cancel(){this._cancellablePromise.cancel()}}f.Triggered=y})(u||(u={}));const l=Object.freeze({allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1,hasAIFix:!1,allAIFixes:!1});class D extends O.JT{constructor(y,C,_,N,b,k){super(),this._editor=y,this._registry=C,this._markerService=_,this._progressService=b,this._configurationService=k,this._codeActionOracle=this._register(new O.XK),this._state=u.Empty,this._onDidChangeState=this._register(new x.Q5),this.onDidChangeState=this._onDidChangeState.event,this._disposed=!1,this._supportedCodeActions=i.bindTo(N),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._register(this._editor.onDidChangeConfiguration(V=>{V.hasChanged(65)&&this._update()})),this._update()}dispose(){this._disposed||(this._disposed=!0,super.dispose(),this.setState(u.Empty,!0))}_settingEnabledNearbyQuickfixes(){var y;const C=(y=this._editor)===null||y===void 0?void 0:y.getModel();return this._configurationService?this._configurationService.getValue("editor.codeActionWidget.includeNearbyQuickFixes",{resource:C==null?void 0:C.uri}):!1}_update(){if(this._disposed)return;this._codeActionOracle.value=void 0,this.setState(u.Empty);const y=this._editor.getModel();if(y&&this._registry.has(y)&&!this._editor.getOption(91)){const C=this._registry.all(y).flatMap(_=>{var N;return(N=_.providedCodeActionKinds)!==null&&N!==void 0?N:[]});this._supportedCodeActions.set(C.join(" ")),this._codeActionOracle.value=new c(this._editor,this._markerService,_=>{var N;if(!_){this.setState(u.Empty);return}const b=_.selection.getStartPosition(),k=(0,o.PG)(Z=>Ft(this,null,function*(){var z,A,P,I,W,G,j,Y,H,Q;if(this._settingEnabledNearbyQuickfixes()&&_.trigger.type===1&&(_.trigger.triggerAction===g.aQ.QuickFix||!((A=(z=_.trigger.filter)===null||z===void 0?void 0:z.include)===null||A===void 0)&&A.contains(g.yN.QuickFix))){const ie=yield(0,a.aI)(this._registry,y,_.selection,_.trigger,m.Ex.None,Z),te=[...ie.allActions];if(Z.isCancellationRequested)return l;const se=(P=ie.validActions)===null||P===void 0?void 0:P.some(ee=>ee.action.kind?g.yN.QuickFix.contains(new r.o(ee.action.kind)):!1),ne=this._markerService.read({resource:y.uri});if(se){for(const ee of ie.validActions)!((W=(I=ee.action.command)===null||I===void 0?void 0:I.arguments)===null||W===void 0)&&W.some(re=>typeof re=="string"&&re.includes(n))&&(ee.action.diagnostics=[...ne.filter(re=>re.relatedInformation)]);return{validActions:ie.validActions,allActions:te,documentation:ie.documentation,hasAutoFix:ie.hasAutoFix,hasAIFix:ie.hasAIFix,allAIFixes:ie.allAIFixes,dispose:()=>{ie.dispose()}}}else if(!se&&ne.length>0){const ee=_.selection.getPosition();let re=ee,he=Number.MAX_VALUE;const M=[...ie.validActions];for(const We of ne){const ye=We.endColumn,X=We.endLineNumber,ve=We.startLineNumber;if(X===ee.lineNumber||ve===ee.lineNumber){re=new E.L(X,ye);const Ee={type:_.trigger.type,triggerAction:_.trigger.triggerAction,filter:{include:!((G=_.trigger.filter)===null||G===void 0)&&G.include?(j=_.trigger.filter)===null||j===void 0?void 0:j.include:g.yN.QuickFix},autoApply:_.trigger.autoApply,context:{notAvailableMessage:((Y=_.trigger.context)===null||Y===void 0?void 0:Y.notAvailableMessage)||"",position:re}},Oe=new R.Y(re.lineNumber,re.column,re.lineNumber,re.column),Ke=yield(0,a.aI)(this._registry,y,Oe,Ee,m.Ex.None,Z);if(Ke.validActions.length!==0){for(const Qe of Ke.validActions)!((Q=(H=Qe.action.command)===null||H===void 0?void 0:H.arguments)===null||Q===void 0)&&Q.some(fe=>typeof fe=="string"&&fe.includes(n))&&(Qe.action.diagnostics=[...ne.filter(fe=>fe.relatedInformation)]);ie.allActions.length===0&&te.push(...Ke.allActions),Math.abs(ee.column-ye)<he?M.unshift(...Ke.validActions):M.push(...Ke.validActions)}he=Math.abs(ee.column-ye)}}const we=M.filter((We,ye,X)=>X.findIndex(ve=>ve.action.title===We.action.title)===ye);return we.sort((We,ye)=>We.action.isPreferred&&!ye.action.isPreferred?-1:!We.action.isPreferred&&ye.action.isPreferred||We.action.isAI&&!ye.action.isAI?1:!We.action.isAI&&ye.action.isAI?-1:0),{validActions:we,allActions:te,documentation:ie.documentation,hasAutoFix:ie.hasAutoFix,hasAIFix:ie.hasAIFix,allAIFixes:ie.allAIFixes,dispose:()=>{ie.dispose()}}}}return(0,a.aI)(this._registry,y,_.selection,_.trigger,m.Ex.None,Z)}));_.trigger.type===1&&((N=this._progressService)===null||N===void 0||N.showWhile(k,250));const V=new u.Triggered(_.trigger,b,k);let K=!1;this._state.type===1&&(K=this._state.trigger.type===1&&V.type===1&&V.trigger.type===2&&this._state.position!==V.position),K?setTimeout(()=>{this.setState(V)},500):this.setState(V)},void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:g.aQ.Default})}else this._supportedCodeActions.reset()}trigger(y){var C;(C=this._codeActionOracle.value)===null||C===void 0||C.trigger(y)}setState(y,C){y!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=y,!C&&!this._disposed&&this._onDidChangeState.fire(y))}}},36710:function(et,Le,e){"use strict";e.d(Le,{f:function(){return c}});var o=e(91540),B=e(8098),x=e(24752),O=e(79329),S=e(45029),p=e(68777),E=e(49512),R=e(4793),w=e(61652),m=e(83349),g=e(66070),a=function(u,l,D,f){var y=arguments.length,C=y<3?l:f===null?f=Object.getOwnPropertyDescriptor(l,D):f,_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(u,l,D,f);else for(var N=u.length-1;N>=0;N--)(_=u[N])&&(C=(y<3?_(C):y>3?_(l,D,C):_(l,D))||C);return y>3&&C&&Object.defineProperty(l,D,C),C},r=function(u,l){return function(D,f){l(D,f,u)}},i,n;(function(u){u.Hidden={type:0};class l{constructor(f,y,C,_){this.actions=f,this.trigger=y,this.editorPosition=C,this.widgetPosition=_,this.type=1}}u.Showing=l})(n||(n={}));let c=i=class extends S.JT{constructor(l,D,f){super(),this._editor=l,this._keybindingService=D,this._onClick=this._register(new O.Q5),this.onClick=this._onClick.event,this._state=n.Hidden,this._iconClasses=[],this._domNode=o.$("div.lightBulbWidget"),this._domNode.role="listbox",this._register(B.o.ignoreTarget(this._domNode)),this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(y=>{const C=this._editor.getModel();(this.state.type!==1||!C||this.state.editorPosition.lineNumber>=C.getLineCount())&&this.hide()})),this._register(o.GQ(this._domNode,y=>{if(this.state.type!==1)return;this._editor.focus(),y.preventDefault();const{top:C,height:_}=o.i(this._domNode),N=this._editor.getOption(67);let b=Math.floor(N/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(b+=N),this._onClick.fire({x:y.posx,y:C+_+b,actions:this.state.actions,trigger:this.state.trigger})})),this._register(o.nm(this._domNode,"mouseenter",y=>{(y.buttons&1)===1&&this.hide()})),this._register(O.ju.runAndSubscribe(this._keybindingService.onDidUpdateKeybindings,()=>{var y,C,_,N;this._preferredKbLabel=(C=(y=this._keybindingService.lookupKeybinding(R.pZ))===null||y===void 0?void 0:y.getLabel())!==null&&C!==void 0?C:void 0,this._quickFixKbLabel=(N=(_=this._keybindingService.lookupKeybinding(R.cz))===null||_===void 0?void 0:_.getLabel())!==null&&N!==void 0?N:void 0,this._updateLightBulbTitleAndIcon()}))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(l,D,f){if(l.validActions.length<=0)return this.hide();if(!this._editor.getOptions().get(65).enabled)return this.hide();const C=this._editor.getModel();if(!C)return this.hide();const{lineNumber:_,column:N}=C.validatePosition(f),b=C.getOptions().tabSize,k=this._editor.getOptions().get(50),V=C.getLineContent(_),K=(0,E.q)(V,b),Z=k.spaceWidth*K>22,z=I=>I>2&&this._editor.getTopForLineNumber(I)===this._editor.getTopForLineNumber(I-1);let A=_,P=1;if(!Z){if(_>1&&!z(_-1))A-=1;else if(_<C.getLineCount()&&!z(_+1))A+=1;else if(N*k.spaceWidth<22)return this.hide();P=/^\S\s*$/.test(C.getLineContent(A))?2:1}this.state=new n.Showing(l,D,f,{position:{lineNumber:A,column:P},preference:i._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state!==n.Hidden&&(this.state=n.Hidden,this._editor.layoutContentWidget(this))}get state(){return this._state}set state(l){this._state=l,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this._domNode.classList.remove(...this._iconClasses),this._iconClasses=[],this.state.type!==1)return;let l,D=!1;this.state.actions.allAIFixes?(l=x.l.sparkleFilled,this.state.actions.validActions.length===1&&(D=!0)):this.state.actions.hasAutoFix?this.state.actions.hasAIFix?l=x.l.lightbulbSparkleAutofix:l=x.l.lightbulbAutofix:this.state.actions.hasAIFix?l=x.l.lightbulbSparkle:l=x.l.lightBulb,this._updateLightbulbTitle(this.state.actions.hasAutoFix,D),this._iconClasses=p.k.asClassNameArray(l),this._domNode.classList.add(...this._iconClasses)}_updateLightbulbTitle(l,D){this.state.type===1&&(D?this.title=w.NC("codeActionAutoRun","Run: {0}",this.state.actions.validActions[0].action.title):l&&this._preferredKbLabel?this.title=w.NC("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",this._preferredKbLabel):!l&&this._quickFixKbLabel?this.title=w.NC("codeActionWithKb","Show Code Actions ({0})",this._quickFixKbLabel):l||(this.title=w.NC("codeAction","Show Code Actions")))}set title(l){this._domNode.title=l}};c.ID="editor.contrib.lightbulbWidget",c._posPref=[0],c=i=a([r(1,g.d),r(2,m.H)],c)},73044:function(et,Le,e){"use strict";e.d(Le,{EU:function(){return S},Yl:function(){return p},aQ:function(){return O},bA:function(){return w},wZ:function(){return R},yN:function(){return x}});var o=e(25602),B=e(51997);const x=new class{constructor(){this.QuickFix=new B.o("quickfix"),this.Refactor=new B.o("refactor"),this.RefactorExtract=this.Refactor.append("extract"),this.RefactorInline=this.Refactor.append("inline"),this.RefactorMove=this.Refactor.append("move"),this.RefactorRewrite=this.Refactor.append("rewrite"),this.Notebook=new B.o("notebook"),this.Source=new B.o("source"),this.SourceOrganizeImports=this.Source.append("organizeImports"),this.SourceFixAll=this.Source.append("fixAll"),this.SurroundWith=this.Refactor.append("surround")}};var O;(function(m){m.Refactor="refactor",m.RefactorPreview="refactor preview",m.Lightbulb="lightbulb",m.Default="other (default)",m.SourceAction="source action",m.QuickFix="quick fix action",m.FixAll="fix all",m.OrganizeImports="organize imports",m.AutoFix="auto fix",m.QuickFixHover="quick fix hover window",m.OnSave="save participants",m.ProblemsView="problems view"})(O||(O={}));function S(m,g){return!(m.include&&!m.include.intersects(g)||m.excludes&&m.excludes.some(a=>E(g,a,m.include))||!m.includeSourceActions&&x.Source.contains(g))}function p(m,g){const a=g.kind?new B.o(g.kind):void 0;return!(m.include&&(!a||!m.include.contains(a))||m.excludes&&a&&m.excludes.some(r=>E(a,r,m.include))||!m.includeSourceActions&&a&&x.Source.contains(a)||m.onlyIncludePreferredActions&&!g.isPreferred)}function E(m,g,a){return!(!g.contains(m)||a&&g.contains(a))}class R{static fromUser(g,a){return!g||typeof g!="object"?new R(a.kind,a.apply,!1):new R(R.getKindFromUser(g,a.kind),R.getApplyFromUser(g,a.apply),R.getPreferredUser(g))}static getApplyFromUser(g,a){switch(typeof g.apply=="string"?g.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return a}}static getKindFromUser(g,a){return typeof g.kind=="string"?new B.o(g.kind):a}static getPreferredUser(g){return typeof g.preferred=="boolean"?g.preferred:!1}constructor(g,a,r){this.kind=g,this.apply=a,this.preferred=r}}class w{constructor(g,a,r){this.action=g,this.provider=a,this.highlightRange=r}resolve(g){return Ft(this,null,function*(){var a;if(!((a=this.provider)===null||a===void 0)&&a.resolveCodeAction&&!this.action.edit){let r;try{r=yield this.provider.resolveCodeAction(this.action,g)}catch(i){(0,o.Cp)(i)}r&&(this.action.edit=r.edit)}return this})}}},28445:function(et,Le,e){"use strict";var o=e(74696),B=e(25602),x=e(45029),O=e(1356),S=e(92635),p=e(75625),E=e(22706),R=e(65642),w=e(26974),m=e(10058),g=e(12692),a=e(83349),r=e(70546);class i{constructor(){this.lenses=[],this._disposables=new x.SL}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(ee,re){this._disposables.add(ee);for(const he of ee.lenses)this.lenses.push({symbol:he,provider:re})}}function n(ne,ee,re){return Ft(this,null,function*(){const he=ne.ordered(ee),M=new Map,we=new i,We=he.map((ye,X)=>Ft(this,null,function*(){M.set(ye,X);try{const ve=yield Promise.resolve(ye.provideCodeLenses(ee,re));ve&&we.add(ve,ye)}catch(ve){(0,B.Cp)(ve)}}));return yield Promise.all(We),we.lenses=we.lenses.sort((ye,X)=>ye.symbol.range.startLineNumber<X.symbol.range.startLineNumber?-1:ye.symbol.range.startLineNumber>X.symbol.range.startLineNumber?1:M.get(ye.provider)<M.get(X.provider)?-1:M.get(ye.provider)>M.get(X.provider)?1:ye.symbol.range.startColumn<X.symbol.range.startColumn?-1:ye.symbol.range.startColumn>X.symbol.range.startColumn?1:0),we})}a.P.registerCommand("_executeCodeLensProvider",function(ne,...ee){let[re,he]=ee;(0,w.p_)(m.o.isUri(re)),(0,w.p_)(typeof he=="number"||!he);const{codeLensProvider:M}=ne.get(r.p),we=ne.get(g.q).getModel(re);if(!we)throw(0,B.b1)();const We=[],ye=new x.SL;return n(M,we,R.Ts.None).then(X=>{ye.add(X);const ve=[];for(const Ee of X.lenses)he==null||Ee.symbol.command?We.push(Ee.symbol):he-- >0&&Ee.provider.resolveCodeLens&&ve.push(Promise.resolve(Ee.provider.resolveCodeLens(we,Ee.symbol,R.Ts.None)).then(Oe=>We.push(Oe||Ee.symbol)));return Promise.all(ve)}).then(()=>We).finally(()=>{setTimeout(()=>ye.dispose(),100)})});var c=e(79329),u=e(79138),l=e(4694),D=e(98352),f=e(87058),y=e(10783),C=e(44454),_=e(91540),N=function(ne,ee,re,he){var M=arguments.length,we=M<3?ee:he===null?he=Object.getOwnPropertyDescriptor(ee,re):he,We;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")we=Reflect.decorate(ne,ee,re,he);else for(var ye=ne.length-1;ye>=0;ye--)(We=ne[ye])&&(we=(M<3?We(we):M>3?We(ee,re,we):We(ee,re))||we);return M>3&&we&&Object.defineProperty(ee,re,we),we},b=function(ne,ee){return function(re,he){ee(re,he,ne)}};const k=(0,f.yh)("ICodeLensCache");class V{constructor(ee,re){this.lineCount=ee,this.data=re}}let K=class{constructor(ee){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new u.z6(20,.75);const re="codelens/cache";(0,_.se)(C.E,()=>ee.remove(re,1));const he="codelens/cache2",M=ee.get(he,1,"{}");this._deserialize(M),c.ju.once(ee.onWillSaveState)(we=>{we.reason===y.fk.SHUTDOWN&&ee.store(he,this._serialize(),1,1)})}put(ee,re){const he=re.lenses.map(We=>{var ye;return{range:We.symbol.range,command:We.symbol.command&&{id:"",title:(ye=We.symbol.command)===null||ye===void 0?void 0:ye.title}}}),M=new i;M.add({lenses:he,dispose:()=>{}},this._fakeProvider);const we=new V(ee.getLineCount(),M);this._cache.set(ee.uri.toString(),we)}get(ee){const re=this._cache.get(ee.uri.toString());return re&&re.lineCount===ee.getLineCount()?re.data:void 0}delete(ee){this._cache.delete(ee.uri.toString())}_serialize(){const ee=Object.create(null);for(const[re,he]of this._cache){const M=new Set;for(const we of he.data.lenses)M.add(we.symbol.range.startLineNumber);ee[re]={lineCount:he.lineCount,lines:[...M.values()]}}return JSON.stringify(ee)}_deserialize(ee){try{const re=JSON.parse(ee);for(const he in re){const M=re[he],we=[];for(const ye of M.lines)we.push({range:new l.e(ye,1,ye,11)});const We=new i;We.add({lenses:we,dispose(){}},this._fakeProvider),this._cache.set(he,new V(M.lineCount,We))}}catch(re){}}};K=N([b(0,y.Uy)],K),(0,D.z)(k,K,1);var Z=e(60661),z=e(93059);class A{constructor(ee,re,he){this.afterColumn=1073741824,this.afterLineNumber=ee,this.heightInPx=re,this._onHeight=he,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(ee){this._lastHeight===void 0?this._lastHeight=ee:this._lastHeight!==ee&&(this._lastHeight=ee,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class P{constructor(ee,re){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=ee,this._id=`codelens.widget-${P._idPool++}`,this.updatePosition(re),this._domNode=document.createElement("span"),this._domNode.className="codelens-decoration"}withCommands(ee,re){this._commands.clear();const he=[];let M=!1;for(let we=0;we<ee.length;we++){const We=ee[we];if(We&&(M=!0,We.command)){const ye=(0,Z.T)(We.command.title.trim());if(We.command.id){const X=`c${P._idPool++}`;he.push(_.$("a",{id:X,title:We.command.tooltip,role:"button"},...ye)),this._commands.set(X,We.command)}else he.push(_.$("span",{title:We.command.tooltip},...ye));we+1<ee.length&&he.push(_.$("span",void 0,"\xA0|\xA0"))}}M?(_.mc(this._domNode,...he),this._isEmpty&&re&&this._domNode.classList.add("fadein"),this._isEmpty=!1):_.mc(this._domNode,_.$("span",void 0,"no commands"))}getCommand(ee){return ee.parentElement===this._domNode?this._commands.get(ee.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(ee){const re=this._editor.getModel().getLineFirstNonWhitespaceColumn(ee);this._widgetPosition={position:{lineNumber:ee,column:re},preference:[1]}}getPosition(){return this._widgetPosition||null}}P._idPool=0;class I{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(ee,re){this._addDecorations.push(ee),this._addDecorationsCallbacks.push(re)}removeDecoration(ee){this._removeDecorations.push(ee)}commit(ee){const re=ee.deltaDecorations(this._removeDecorations,this._addDecorations);for(let he=0,M=re.length;he<M;he++)this._addDecorationsCallbacks[he](re[he])}}const W=z.qx.register({collapseOnReplaceEdit:!0,description:"codelens"});class G{constructor(ee,re,he,M,we,We){this._isDisposed=!1,this._editor=re,this._data=ee,this._decorationIds=[];let ye;const X=[];this._data.forEach((ve,Ee)=>{ve.symbol.command&&X.push(ve.symbol),he.addDecoration({range:ve.symbol.range,options:W},Oe=>this._decorationIds[Ee]=Oe),ye?ye=l.e.plusRange(ye,ve.symbol.range):ye=l.e.lift(ve.symbol.range)}),this._viewZone=new A(ye.startLineNumber-1,we,We),this._viewZoneId=M.addZone(this._viewZone),X.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(X,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new P(this._editor,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(ee,re){this._decorationIds.forEach(ee.removeDecoration,ee),this._decorationIds=[],re==null||re.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((ee,re)=>{const he=this._editor.getModel().getDecorationRange(ee),M=this._data[re].symbol;return!!(he&&l.e.isEmpty(M.range)===he.isEmpty())})}updateCodeLensSymbols(ee,re){this._decorationIds.forEach(re.removeDecoration,re),this._decorationIds=[],this._data=ee,this._data.forEach((he,M)=>{re.addDecoration({range:he.symbol.range,options:W},we=>this._decorationIds[M]=we)})}updateHeight(ee,re){this._viewZone.heightInPx=ee,re.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(ee){if(!this._viewZone.isVisible())return null;for(let re=0;re<this._decorationIds.length;re++){const he=ee.getDecorationRange(this._decorationIds[re]);he&&(this._data[re].symbol.range=he)}return this._data}updateCommands(ee){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(ee,!0);for(let re=0;re<this._data.length;re++){const he=ee[re];if(he){const{symbol:M}=this._data[re];M.command=he.command||M.command}}}getCommand(ee){var re;return(re=this._contentWidget)===null||re===void 0?void 0:re.getCommand(ee)}getLineNumber(){const ee=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return ee?ee.startLineNumber:-1}update(ee){if(this.isValid()){const re=this._editor.getModel().getDecorationRange(this._decorationIds[0]);re&&(this._viewZone.afterLineNumber=re.startLineNumber-1,ee.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(re.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}var j=e(61652),Y=e(52994),H=e(86773),Q=e(81580),ie=function(ne,ee,re,he){var M=arguments.length,we=M<3?ee:he===null?he=Object.getOwnPropertyDescriptor(ee,re):he,We;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")we=Reflect.decorate(ne,ee,re,he);else for(var ye=ne.length-1;ye>=0;ye--)(We=ne[ye])&&(we=(M<3?We(we):M>3?We(ee,re,we):We(ee,re))||we);return M>3&&we&&Object.defineProperty(ee,re,we),we},te=function(ne,ee){return function(re,he){ee(re,he,ne)}};let se=class{constructor(ee,re,he,M,we,We){this._editor=ee,this._languageFeaturesService=re,this._commandService=M,this._notificationService=we,this._codeLensCache=We,this._disposables=new x.SL,this._localToDispose=new x.SL,this._lenses=[],this._oldCodeLensModels=new x.SL,this._provideCodeLensDebounce=he.for(re.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=he.for(re.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new o.pY(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(ye=>{(ye.hasChanged(50)||ye.hasChanged(19)||ye.hasChanged(18))&&this._updateLensStyle(),ye.hasChanged(17)&&this._onModelChange()})),this._disposables.add(re.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._updateLensStyle()}dispose(){var ee;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(ee=this._currentCodeLensModel)===null||ee===void 0||ee.dispose()}_getLayoutInfo(){const ee=Math.max(1.3,this._editor.getOption(67)/this._editor.getOption(52));let re=this._editor.getOption(19);return(!re||re<5)&&(re=this._editor.getOption(52)*.9|0),{fontSize:re,codeLensHeight:re*ee|0}}_updateLensStyle(){const{codeLensHeight:ee,fontSize:re}=this._getLayoutInfo(),he=this._editor.getOption(18),M=this._editor.getOption(50),{style:we}=this._editor.getContainerDomNode();we.setProperty("--vscode-editorCodeLens-lineHeight",`${ee}px`),we.setProperty("--vscode-editorCodeLens-fontSize",`${re}px`),we.setProperty("--vscode-editorCodeLens-fontFeatureSettings",M.fontFeatureSettings),he&&(we.setProperty("--vscode-editorCodeLens-fontFamily",he),we.setProperty("--vscode-editorCodeLens-fontFamilyDefault",p.hL.fontFamily)),this._editor.changeViewZones(We=>{for(const ye of this._lenses)ye.updateHeight(ee,We)})}_localDispose(){var ee,re,he;(ee=this._getCodeLensModelPromise)===null||ee===void 0||ee.cancel(),this._getCodeLensModelPromise=void 0,(re=this._resolveCodeLensesPromise)===null||re===void 0||re.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(he=this._currentCodeLensModel)===null||he===void 0||he.dispose()}_onModelChange(){this._localDispose();const ee=this._editor.getModel();if(!ee||!this._editor.getOption(17)||ee.isTooLargeForTokenization())return;const re=this._codeLensCache.get(ee);if(re&&this._renderCodeLensSymbols(re),!this._languageFeaturesService.codeLensProvider.has(ee)){re&&(0,o.Vg)(()=>{const M=this._codeLensCache.get(ee);re===M&&(this._codeLensCache.delete(ee),this._onModelChange())},30*1e3,this._localToDispose);return}for(const M of this._languageFeaturesService.codeLensProvider.all(ee))if(typeof M.onDidChange=="function"){const we=M.onDidChange(()=>he.schedule());this._localToDispose.add(we)}const he=new o.pY(()=>{var M;const we=Date.now();(M=this._getCodeLensModelPromise)===null||M===void 0||M.cancel(),this._getCodeLensModelPromise=(0,o.PG)(We=>n(this._languageFeaturesService.codeLensProvider,ee,We)),this._getCodeLensModelPromise.then(We=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=We,this._codeLensCache.put(ee,We);const ye=this._provideCodeLensDebounce.update(ee,Date.now()-we);he.delay=ye,this._renderCodeLensSymbols(We),this._resolveCodeLensesInViewportSoon()},B.dL)},this._provideCodeLensDebounce.get(ee));this._localToDispose.add(he),this._localToDispose.add((0,x.OF)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{var M;this._editor.changeDecorations(we=>{this._editor.changeViewZones(We=>{const ye=[];let X=-1;this._lenses.forEach(Ee=>{!Ee.isValid()||X===Ee.getLineNumber()?ye.push(Ee):(Ee.update(We),X=Ee.getLineNumber())});const ve=new I;ye.forEach(Ee=>{Ee.dispose(ve,We),this._lenses.splice(this._lenses.indexOf(Ee),1)}),ve.commit(we)})}),he.schedule(),this._resolveCodeLensesScheduler.cancel(),(M=this._resolveCodeLensesPromise)===null||M===void 0||M.cancel(),this._resolveCodeLensesPromise=void 0})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{he.schedule()})),this._localToDispose.add(this._editor.onDidBlurEditorText(()=>{he.cancel()})),this._localToDispose.add(this._editor.onDidScrollChange(M=>{M.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,x.OF)(()=>{if(this._editor.getModel()){const M=O.Z.capture(this._editor);this._editor.changeDecorations(we=>{this._editor.changeViewZones(We=>{this._disposeAllLenses(we,We)})}),M.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(M=>{if(M.target.type!==9)return;let we=M.target.element;if((we==null?void 0:we.tagName)==="SPAN"&&(we=we.parentElement),(we==null?void 0:we.tagName)==="A")for(const We of this._lenses){const ye=We.getCommand(we);if(ye){this._commandService.executeCommand(ye.id,...ye.arguments||[]).catch(X=>this._notificationService.error(X));break}}})),he.schedule()}_disposeAllLenses(ee,re){const he=new I;for(const M of this._lenses)M.dispose(he,re);ee&&he.commit(ee),this._lenses.length=0}_renderCodeLensSymbols(ee){if(!this._editor.hasModel())return;const re=this._editor.getModel().getLineCount(),he=[];let M;for(const ye of ee.lenses){const X=ye.symbol.range.startLineNumber;X<1||X>re||(M&&M[M.length-1].symbol.range.startLineNumber===X?M.push(ye):(M=[ye],he.push(M)))}if(!he.length&&!this._lenses.length)return;const we=O.Z.capture(this._editor),We=this._getLayoutInfo();this._editor.changeDecorations(ye=>{this._editor.changeViewZones(X=>{const ve=new I;let Ee=0,Oe=0;for(;Oe<he.length&&Ee<this._lenses.length;){const Ke=he[Oe][0].symbol.range.startLineNumber,Qe=this._lenses[Ee].getLineNumber();Qe<Ke?(this._lenses[Ee].dispose(ve,X),this._lenses.splice(Ee,1)):Qe===Ke?(this._lenses[Ee].updateCodeLensSymbols(he[Oe],ve),Oe++,Ee++):(this._lenses.splice(Ee,0,new G(he[Oe],this._editor,ve,X,We.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),Ee++,Oe++)}for(;Ee<this._lenses.length;)this._lenses[Ee].dispose(ve,X),this._lenses.splice(Ee,1);for(;Oe<he.length;)this._lenses.push(new G(he[Oe],this._editor,ve,X,We.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),Oe++;ve.commit(ye)})}),we.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var ee;(ee=this._resolveCodeLensesPromise)===null||ee===void 0||ee.cancel(),this._resolveCodeLensesPromise=void 0;const re=this._editor.getModel();if(!re)return;const he=[],M=[];if(this._lenses.forEach(ye=>{const X=ye.computeIfNecessary(re);X&&(he.push(X),M.push(ye))}),he.length===0)return;const we=Date.now(),We=(0,o.PG)(ye=>{const X=he.map((ve,Ee)=>{const Oe=new Array(ve.length),Ke=ve.map((Qe,fe)=>!Qe.symbol.command&&typeof Qe.provider.resolveCodeLens=="function"?Promise.resolve(Qe.provider.resolveCodeLens(re,Qe.symbol,ye)).then($=>{Oe[fe]=$},B.Cp):(Oe[fe]=Qe.symbol,Promise.resolve(void 0)));return Promise.all(Ke).then(()=>{!ye.isCancellationRequested&&!M[Ee].isDisposed()&&M[Ee].updateCommands(Oe)})});return Promise.all(X)});this._resolveCodeLensesPromise=We,this._resolveCodeLensesPromise.then(()=>{const ye=this._resolveCodeLensesDebounce.update(re,Date.now()-we);this._resolveCodeLensesScheduler.delay=ye,this._currentCodeLensModel&&this._codeLensCache.put(re,this._currentCodeLensModel),this._oldCodeLensModels.clear(),We===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},ye=>{(0,B.dL)(ye),We===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getModel(){return Ft(this,null,function*(){var ee;return yield this._getCodeLensModelPromise,yield this._resolveCodeLensesPromise,!((ee=this._currentCodeLensModel)===null||ee===void 0)&&ee.isDisposed?void 0:this._currentCodeLensModel})}};se.ID="css.editor.codeLens",se=ie([te(1,r.p),te(2,Q.A),te(3,a.H),te(4,Y.lT),te(5,k)],se),(0,S._K)(se.ID,se,1),(0,S.Qr)(class extends S.R6{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:E.u.hasCodeLensProvider,label:(0,j.NC)("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(ee,re){return Ft(this,null,function*(){if(!re.hasModel())return;const he=ee.get(H.eJ),M=ee.get(a.H),we=ee.get(Y.lT),We=re.getSelection().positionLineNumber,ye=re.getContribution(se.ID);if(!ye)return;const X=yield ye.getModel();if(!X)return;const ve=[];for(const Ke of X.lenses)Ke.symbol.command&&Ke.symbol.range.startLineNumber===We&&ve.push({label:Ke.symbol.command.title,command:Ke.symbol.command});if(ve.length===0)return;const Ee=yield he.pick(ve,{canPickMany:!1,placeHolder:(0,j.NC)("placeHolder","Select a command")});if(!Ee)return;let Oe=Ee.command;if(X.isDisposed){const Ke=yield ye.getModel(),Qe=Ke==null?void 0:Ke.lenses.find(fe=>{var $;return fe.symbol.range.startLineNumber===We&&(($=fe.symbol.command)===null||$===void 0?void 0:$.title)===Oe.title});if(!Qe||!Qe.symbol.command)return;Oe=Qe.symbol.command}try{yield M.executeCommand(Oe.id,...Oe.arguments||[])}catch(Ke){we.error(Ke)}})}})},80679:function(et,Le,e){"use strict";e.d(Le,{E:function(){return m},R:function(){return g}});var o=e(65642),B=e(25602),x=e(10058),O=e(4694),S=e(12692),p=e(83349),E=e(70546),R=e(48609),w=e(48774);function m(u,l,D,f=!0){return Ft(this,null,function*(){return n(new a,u,l,D,f)})}function g(u,l,D,f){return Promise.resolve(D.provideColorPresentations(u,l,f))}class a{constructor(){}compute(l,D,f,y){return Ft(this,null,function*(){const C=yield l.provideDocumentColors(D,f);if(Array.isArray(C))for(const _ of C)y.push({colorInfo:_,provider:l});return Array.isArray(C)})}}class r{constructor(){}compute(l,D,f,y){return Ft(this,null,function*(){const C=yield l.provideDocumentColors(D,f);if(Array.isArray(C))for(const _ of C)y.push({range:_.range,color:[_.color.red,_.color.green,_.color.blue,_.color.alpha]});return Array.isArray(C)})}}class i{constructor(l){this.colorInfo=l}compute(l,D,f,y){return Ft(this,null,function*(){const C=yield l.provideColorPresentations(D,this.colorInfo,o.Ts.None);return Array.isArray(C)&&y.push(...C),Array.isArray(C)})}}function n(u,l,D,f,y){return Ft(this,null,function*(){let C=!1,_;const N=[],b=l.ordered(D);for(let k=b.length-1;k>=0;k--){const V=b[k];if(V instanceof R.G)_=V;else try{(yield u.compute(V,D,f,N))&&(C=!0)}catch(K){(0,B.Cp)(K)}}return C?N:_&&y?(yield u.compute(_,D,f,N),N):[]})}function c(u,l){const{colorProvider:D}=u.get(E.p),f=u.get(S.q).getModel(l);if(!f)throw(0,B.b1)();const y=u.get(w.Ui).getValue("editor.defaultColorDecorators",{resource:l});return{model:f,colorProviderRegistry:D,isDefaultColorDecoratorsEnabled:y}}p.P.registerCommand("_executeDocumentColorProvider",function(u,...l){const[D]=l;if(!(D instanceof x.o))throw(0,B.b1)();const{model:f,colorProviderRegistry:y,isDefaultColorDecoratorsEnabled:C}=c(u,D);return n(new r,y,f,o.Ts.None,C)}),p.P.registerCommand("_executeColorPresentationProvider",function(u,...l){const[D,f]=l,{uri:y,range:C}=f;if(!(y instanceof x.o)||!Array.isArray(D)||D.length!==4||!O.e.isIRange(C))throw(0,B.b1)();const{model:_,colorProviderRegistry:N,isDefaultColorDecoratorsEnabled:b}=c(u,y),[k,V,K,Z]=D;return n(new i({range:C,color:{red:k,green:V,blue:K,alpha:Z}}),N,_,o.Ts.None,b)})},17570:function(et,Le,e){"use strict";var o=e(45029),B=e(92635),x=e(4694),O=e(9001),S=e(72489),p=e(90590),E=e(99041);class R extends o.JT{constructor(m){super(),this._editor=m,this._register(m.onMouseDown(g=>this.onMouseDown(g)))}dispose(){super.dispose()}onMouseDown(m){const g=this._editor.getOption(148);if(g!=="click"&&g!=="clickAndHover")return;const a=m.target;if(a.type!==6||!a.detail.injectedText||a.detail.injectedText.options.attachedData!==O.Ak||!a.range)return;const r=this._editor.getContribution(p.c.ID);if(r&&!r.isColorPickerVisible){const i=new x.e(a.range.startLineNumber,a.range.startColumn+1,a.range.endLineNumber,a.range.endColumn+1);r.showContentHover(i,1,0,!1,!0)}}}R.ID="editor.contrib.colorContribution",(0,B._K)(R.ID,R,2),E.Ae.register(S.nh)},9001:function(et,Le,e){"use strict";e.d(Le,{Ak:function(){return D},if:function(){return f}});var o=e(74696),B=e(64707),x=e(25602),O=e(79329),S=e(45029),p=e(32368),E=e(30144),R=e(41528),w=e(92635),m=e(4694),g=e(93059),a=e(81580),r=e(70546),i=e(80679),n=e(48774),c=function(C,_,N,b){var k=arguments.length,V=k<3?_:b===null?b=Object.getOwnPropertyDescriptor(_,N):b,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")V=Reflect.decorate(C,_,N,b);else for(var Z=C.length-1;Z>=0;Z--)(K=C[Z])&&(V=(k<3?K(V):k>3?K(_,N,V):K(_,N))||V);return k>3&&V&&Object.defineProperty(_,N,V),V},u=function(C,_){return function(N,b){_(N,b,C)}},l;const D=Object.create({});let f=l=class extends S.JT{constructor(_,N,b,k){super(),this._editor=_,this._configurationService=N,this._languageFeaturesService=b,this._localToDispose=this._register(new S.SL),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=this._editor.createDecorationsCollection(),this._ruleFactory=new R.t7(this._editor),this._decoratorLimitReporter=new y,this._colorDecorationClassRefs=this._register(new S.SL),this._debounceInformation=k.for(b.colorProvider,"Document Colors",{min:l.RECOMPUTE_TIME}),this._register(_.onDidChangeModel(()=>{this._isColorDecoratorsEnabled=this.isEnabled(),this.updateColors()})),this._register(_.onDidChangeModelLanguage(()=>this.updateColors())),this._register(b.colorProvider.onDidChange(()=>this.updateColors())),this._register(_.onDidChangeConfiguration(V=>{const K=this._isColorDecoratorsEnabled;this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(147);const Z=K!==this._isColorDecoratorsEnabled||V.hasChanged(21),z=V.hasChanged(147);(Z||z)&&(this._isColorDecoratorsEnabled?this.updateColors():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(147),this.updateColors()}isEnabled(){const _=this._editor.getModel();if(!_)return!1;const N=_.getLanguageId(),b=this._configurationService.getValue(N);if(b&&typeof b=="object"){const k=b.colorDecorators;if(k&&k.enable!==void 0&&!k.enable)return k.enable}return this._editor.getOption(20)}static get(_){return _.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}updateColors(){if(this.stop(),!this._isColorDecoratorsEnabled)return;const _=this._editor.getModel();!_||!this._languageFeaturesService.colorProvider.has(_)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new o._F,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(_)))})),this.beginCompute())}beginCompute(){return Ft(this,null,function*(){this._computePromise=(0,o.PG)(_=>Ft(this,null,function*(){const N=this._editor.getModel();if(!N)return[];const b=new p.G(!1),k=yield(0,i.E)(this._languageFeaturesService.colorProvider,N,_,this._isDefaultColorDecoratorsEnabled);return this._debounceInformation.update(N,b.elapsed()),k}));try{const _=yield this._computePromise;this.updateDecorations(_),this.updateColorDecorators(_),this._computePromise=null}catch(_){(0,x.dL)(_)}})}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(_){const N=_.map(b=>({range:{startLineNumber:b.colorInfo.range.startLineNumber,startColumn:b.colorInfo.range.startColumn,endLineNumber:b.colorInfo.range.endLineNumber,endColumn:b.colorInfo.range.endColumn},options:g.qx.EMPTY}));this._editor.changeDecorations(b=>{this._decorationsIds=b.deltaDecorations(this._decorationsIds,N),this._colorDatas=new Map,this._decorationsIds.forEach((k,V)=>this._colorDatas.set(k,_[V]))})}updateColorDecorators(_){this._colorDecorationClassRefs.clear();const N=[],b=this._editor.getOption(21);for(let V=0;V<_.length&&N.length<b;V++){const{red:K,green:Z,blue:z,alpha:A}=_[V].colorInfo.color,P=new B.VS(Math.round(K*255),Math.round(Z*255),Math.round(z*255),A),I=`rgba(${P.r}, ${P.g}, ${P.b}, ${P.a})`,W=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:I}));N.push({range:{startLineNumber:_[V].colorInfo.range.startLineNumber,startColumn:_[V].colorInfo.range.startColumn,endLineNumber:_[V].colorInfo.range.endLineNumber,endColumn:_[V].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:E.B4,inlineClassName:`${W.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:D}}})}const k=b<_.length?b:!1;this._decoratorLimitReporter.update(_.length,k),this._colorDecoratorIds.set(N)}removeAllDecorations(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}getColorData(_){const N=this._editor.getModel();if(!N)return null;const b=N.getDecorationsInRange(m.e.fromPositions(_,_)).filter(k=>this._colorDatas.has(k.id));return b.length===0?null:this._colorDatas.get(b[0].id)}isColorDecoration(_){return this._colorDecoratorIds.has(_)}};f.ID="editor.contrib.colorDetector",f.RECOMPUTE_TIME=1e3,f=l=c([u(1,n.Ui),u(2,r.p),u(3,a.A)],f);class y{constructor(){this._onDidChange=new O.Q5,this._computed=0,this._limited=!1}update(_,N){(_!==this._computed||N!==this._limited)&&(this._computed=_,this._limited=N,this._onDidChange.fire())}}(0,w._K)(f.ID,f,1)},72489:function(et,Le,e){"use strict";e.d(Le,{nh:function(){return W},PQ:function(){return j}});var o=e(74696),B=e(65642),x=e(64707),O=e(45029),S=e(4694),p=e(80679),E=e(9001),R=e(79329);class w{get color(){return this._color}set color(se){this._color.equals(se)||(this._color=se,this._onDidChangeColor.fire(se))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(se){this._colorPresentations=se,this.presentationIndex>se.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}constructor(se,ne,ee){this.presentationIndex=ee,this._onColorFlushed=new R.Q5,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new R.Q5,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new R.Q5,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=se,this._color=se,this._colorPresentations=ne}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(se,ne){let ee=-1;for(let re=0;re<this.colorPresentations.length;re++)if(ne.toLowerCase()===this.colorPresentations[re].label){ee=re;break}if(ee===-1){const re=ne.split("(")[0].toLowerCase();for(let he=0;he<this.colorPresentations.length;he++)if(this.colorPresentations[he].label.toLowerCase().startsWith(re)){ee=he;break}}ee!==-1&&ee!==this.presentationIndex&&(this.presentationIndex=ee,this._onDidChangePresentation.fire(this.presentation))}flushColor(){this._onColorFlushed.fire(this._color)}}var m=e(88245),g=e(91540),a=e(43446),r=e(60833),i=e(24752),n=e(68777),c=e(90503),u=e(61652),l=e(97341),D=e(76557);const f=g.$;class y extends O.JT{constructor(se,ne,ee,re=!1){super(),this.model=ne,this.showingStandaloneColorPicker=re,this._closeButton=null,this._domNode=f(".colorpicker-header"),g.R3(se,this._domNode),this._pickedColorNode=g.R3(this._domNode,f(".picked-color")),g.R3(this._pickedColorNode,f("span.codicon.codicon-color-mode")),this._pickedColorPresentation=g.R3(this._pickedColorNode,document.createElement("span")),this._pickedColorPresentation.classList.add("picked-color-presentation");const he=(0,u.NC)("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");this._pickedColorNode.setAttribute("title",he),this._originalColorNode=g.R3(this._domNode,f(".original-color")),this._originalColorNode.style.backgroundColor=x.Il.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=ee.getColorTheme().getColor(l.yJx)||x.Il.white,this._register(ee.onDidColorThemeChange(M=>{this.backgroundColor=M.getColor(l.yJx)||x.Il.white})),this._register(g.nm(this._pickedColorNode,g.tw.CLICK,()=>this.model.selectNextColorPresentation())),this._register(g.nm(this._originalColorNode,g.tw.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(ne.onDidChangeColor(this.onDidChangeColor,this)),this._register(ne.onDidChangePresentation(this.onDidChangePresentation,this)),this._pickedColorNode.style.backgroundColor=x.Il.Format.CSS.format(ne.color)||"",this._pickedColorNode.classList.toggle("light",ne.color.rgba.a<.5?this.backgroundColor.isLighter():ne.color.isLighter()),this.onDidChangeColor(this.model.color),this.showingStandaloneColorPicker&&(this._domNode.classList.add("standalone-colorpicker"),this._closeButton=this._register(new C(this._domNode)))}get closeButton(){return this._closeButton}get pickedColorNode(){return this._pickedColorNode}get originalColorNode(){return this._originalColorNode}onDidChangeColor(se){this._pickedColorNode.style.backgroundColor=x.Il.Format.CSS.format(se)||"",this._pickedColorNode.classList.toggle("light",se.rgba.a<.5?this.backgroundColor.isLighter():se.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this._pickedColorPresentation.textContent=this.model.presentation?this.model.presentation.label:""}}class C extends O.JT{constructor(se){super(),this._onClicked=this._register(new R.Q5),this.onClicked=this._onClicked.event,this._button=document.createElement("div"),this._button.classList.add("close-button"),g.R3(se,this._button);const ne=document.createElement("div");ne.classList.add("close-button-inner-div"),g.R3(this._button,ne),g.R3(ne,f(".button"+n.k.asCSSSelector((0,D.q5)("color-picker-close",i.l.close,(0,u.NC)("closeIcon","Icon to close the color picker"))))).classList.add("close-icon"),this._register(g.nm(this._button,g.tw.CLICK,()=>{this._onClicked.fire()}))}}class _ extends O.JT{constructor(se,ne,ee,re=!1){super(),this.model=ne,this.pixelRatio=ee,this._insertButton=null,this._domNode=f(".colorpicker-body"),g.R3(se,this._domNode),this._saturationBox=new N(this._domNode,this.model,this.pixelRatio),this._register(this._saturationBox),this._register(this._saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this._saturationBox.onColorFlushed(this.flushColor,this)),this._opacityStrip=new k(this._domNode,this.model,re),this._register(this._opacityStrip),this._register(this._opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this._opacityStrip.onColorFlushed(this.flushColor,this)),this._hueStrip=new V(this._domNode,this.model,re),this._register(this._hueStrip),this._register(this._hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this._hueStrip.onColorFlushed(this.flushColor,this)),re&&(this._insertButton=this._register(new K(this._domNode)),this._domNode.classList.add("standalone-colorpicker"))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:se,v:ne}){const ee=this.model.color.hsva;this.model.color=new x.Il(new x.tx(ee.h,se,ne,ee.a))}onDidOpacityChange(se){const ne=this.model.color.hsva;this.model.color=new x.Il(new x.tx(ne.h,ne.s,ne.v,se))}onDidHueChange(se){const ne=this.model.color.hsva,ee=(1-se)*360;this.model.color=new x.Il(new x.tx(ee===360?0:ee,ne.s,ne.v,ne.a))}get domNode(){return this._domNode}get saturationBox(){return this._saturationBox}get enterButton(){return this._insertButton}layout(){this._saturationBox.layout(),this._opacityStrip.layout(),this._hueStrip.layout()}}class N extends O.JT{constructor(se,ne,ee){super(),this.model=ne,this.pixelRatio=ee,this._onDidChange=new R.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new R.Q5,this.onColorFlushed=this._onColorFlushed.event,this._domNode=f(".saturation-wrap"),g.R3(se,this._domNode),this._canvas=document.createElement("canvas"),this._canvas.className="saturation-box",g.R3(this._domNode,this._canvas),this.selection=f(".saturation-selection"),g.R3(this._domNode,this.selection),this.layout(),this._register(g.nm(this._domNode,g.tw.POINTER_DOWN,re=>this.onPointerDown(re))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}get domNode(){return this._domNode}onPointerDown(se){if(!se.target||!(se.target instanceof Element))return;this.monitor=this._register(new a.C);const ne=g.i(this._domNode);se.target!==this.selection&&this.onDidChangePosition(se.offsetX,se.offsetY),this.monitor.startMonitoring(se.target,se.pointerId,se.buttons,re=>this.onDidChangePosition(re.pageX-ne.left,re.pageY-ne.top),()=>null);const ee=g.nm(se.target.ownerDocument,g.tw.POINTER_UP,()=>{this._onColorFlushed.fire(),ee.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(se,ne){const ee=Math.max(0,Math.min(1,se/this.width)),re=Math.max(0,Math.min(1,1-ne/this.height));this.paintSelection(ee,re),this._onDidChange.fire({s:ee,v:re})}layout(){this.width=this._domNode.offsetWidth,this.height=this._domNode.offsetHeight,this._canvas.width=this.width*this.pixelRatio,this._canvas.height=this.height*this.pixelRatio,this.paint();const se=this.model.color.hsva;this.paintSelection(se.s,se.v)}paint(){const se=this.model.color.hsva,ne=new x.Il(new x.tx(se.h,1,1,1)),ee=this._canvas.getContext("2d"),re=ee.createLinearGradient(0,0,this._canvas.width,0);re.addColorStop(0,"rgba(255, 255, 255, 1)"),re.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),re.addColorStop(1,"rgba(255, 255, 255, 0)");const he=ee.createLinearGradient(0,0,0,this._canvas.height);he.addColorStop(0,"rgba(0, 0, 0, 0)"),he.addColorStop(1,"rgba(0, 0, 0, 1)"),ee.rect(0,0,this._canvas.width,this._canvas.height),ee.fillStyle=x.Il.Format.CSS.format(ne),ee.fill(),ee.fillStyle=re,ee.fill(),ee.fillStyle=he,ee.fill()}paintSelection(se,ne){this.selection.style.left=`${se*this.width}px`,this.selection.style.top=`${this.height-ne*this.height}px`}onDidChangeColor(se){if(this.monitor&&this.monitor.isMonitoring())return;this.paint();const ne=se.hsva;this.paintSelection(ne.s,ne.v)}}class b extends O.JT{constructor(se,ne,ee=!1){super(),this.model=ne,this._onDidChange=new R.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new R.Q5,this.onColorFlushed=this._onColorFlushed.event,ee?(this.domNode=g.R3(se,f(".standalone-strip")),this.overlay=g.R3(this.domNode,f(".standalone-overlay"))):(this.domNode=g.R3(se,f(".strip")),this.overlay=g.R3(this.domNode,f(".overlay"))),this.slider=g.R3(this.domNode,f(".slider")),this.slider.style.top="0px",this._register(g.nm(this.domNode,g.tw.POINTER_DOWN,re=>this.onPointerDown(re))),this._register(ne.onDidChangeColor(this.onDidChangeColor,this)),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const se=this.getValue(this.model.color);this.updateSliderPosition(se)}onDidChangeColor(se){const ne=this.getValue(se);this.updateSliderPosition(ne)}onPointerDown(se){if(!se.target||!(se.target instanceof Element))return;const ne=this._register(new a.C),ee=g.i(this.domNode);this.domNode.classList.add("grabbing"),se.target!==this.slider&&this.onDidChangeTop(se.offsetY),ne.startMonitoring(se.target,se.pointerId,se.buttons,he=>this.onDidChangeTop(he.pageY-ee.top),()=>null);const re=g.nm(se.target.ownerDocument,g.tw.POINTER_UP,()=>{this._onColorFlushed.fire(),re.dispose(),ne.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(se){const ne=Math.max(0,Math.min(1,1-se/this.height));this.updateSliderPosition(ne),this._onDidChange.fire(ne)}updateSliderPosition(se){this.slider.style.top=`${(1-se)*this.height}px`}}class k extends b{constructor(se,ne,ee=!1){super(se,ne,ee),this.domNode.classList.add("opacity-strip"),this.onDidChangeColor(this.model.color)}onDidChangeColor(se){super.onDidChangeColor(se);const{r:ne,g:ee,b:re}=se.rgba,he=new x.Il(new x.VS(ne,ee,re,1)),M=new x.Il(new x.VS(ne,ee,re,0));this.overlay.style.background=`linear-gradient(to bottom, ${he} 0%, ${M} 100%)`}getValue(se){return se.hsva.a}}class V extends b{constructor(se,ne,ee=!1){super(se,ne,ee),this.domNode.classList.add("hue-strip")}getValue(se){return 1-se.hsva.h/360}}class K extends O.JT{constructor(se){super(),this._onClicked=this._register(new R.Q5),this.onClicked=this._onClicked.event,this._button=g.R3(se,document.createElement("button")),this._button.classList.add("insert-button"),this._button.textContent="Insert",this._register(g.nm(this._button,g.tw.CLICK,()=>{this._onClicked.fire()}))}get button(){return this._button}}class Z extends r.${constructor(se,ne,ee,re,he=!1){super(),this.model=ne,this.pixelRatio=ee,this._register(m.T.getInstance(g.Jj(se)).onDidChange(()=>this.layout()));const M=f(".colorpicker-widget");se.appendChild(M),this.header=this._register(new y(M,this.model,re,he)),this.body=this._register(new _(M,this.model,this.pixelRatio,he))}layout(){this.body.layout()}}var z=e(63279),A=function(te,se,ne,ee){var re=arguments.length,he=re<3?se:ee===null?ee=Object.getOwnPropertyDescriptor(se,ne):ee,M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")he=Reflect.decorate(te,se,ne,ee);else for(var we=te.length-1;we>=0;we--)(M=te[we])&&(he=(re<3?M(he):re>3?M(se,ne,he):M(se,ne))||he);return re>3&&he&&Object.defineProperty(se,ne,he),he},P=function(te,se){return function(ne,ee){se(ne,ee,te)}};class I{constructor(se,ne,ee,re){this.owner=se,this.range=ne,this.model=ee,this.provider=re,this.forceShowAtRange=!0}isValidForHoverAnchor(se){return se.type===1&&this.range.startColumn<=se.range.startColumn&&this.range.endColumn>=se.range.endColumn}}let W=class{constructor(se,ne){this._editor=se,this._themeService=ne,this.hoverOrdinal=2}computeSync(se,ne){return[]}computeAsync(se,ne,ee){return o.Aq.fromPromise(this._computeAsync(se,ne,ee))}_computeAsync(se,ne,ee){return Ft(this,null,function*(){if(!this._editor.hasModel())return[];const re=E.if.get(this._editor);if(!re)return[];for(const he of ne){if(!re.isColorDecoration(he))continue;const M=re.getColorData(he.range.getStartPosition());if(M)return[yield Y(this,this._editor.getModel(),M.colorInfo,M.provider)]}return[]})}renderHoverParts(se,ne){return H(this,this._editor,this._themeService,ne,se)}};W=A([P(1,z.XE)],W);class G{constructor(se,ne,ee,re){this.owner=se,this.range=ne,this.model=ee,this.provider=re}}let j=class{constructor(se,ne){this._editor=se,this._themeService=ne,this._color=null}createColorHover(se,ne,ee){return Ft(this,null,function*(){if(!this._editor.hasModel()||!E.if.get(this._editor))return null;const he=yield(0,p.E)(ee,this._editor.getModel(),B.Ts.None);let M=null,we=null;for(const ve of he){const Ee=ve.colorInfo;S.e.containsRange(Ee.range,se.range)&&(M=Ee,we=ve.provider)}const We=M!=null?M:se,ye=we!=null?we:ne,X=!!M;return{colorHover:yield Y(this,this._editor.getModel(),We,ye),foundInEditor:X}})}updateEditorModel(se){return Ft(this,null,function*(){if(!this._editor.hasModel())return;const ne=se.model;let ee=new S.e(se.range.startLineNumber,se.range.startColumn,se.range.endLineNumber,se.range.endColumn);this._color&&(yield ie(this._editor.getModel(),ne,this._color,ee,se),ee=Q(this._editor,ee,ne))})}renderHoverParts(se,ne){return H(this,this._editor,this._themeService,ne,se)}set color(se){this._color=se}get color(){return this._color}};j=A([P(1,z.XE)],j);function Y(te,se,ne,ee){return Ft(this,null,function*(){const re=se.getValueInRange(ne.range),{red:he,green:M,blue:we,alpha:We}=ne.color,ye=new x.VS(Math.round(he*255),Math.round(M*255),Math.round(we*255),We),X=new x.Il(ye),ve=yield(0,p.R)(se,ne,ee,B.Ts.None),Ee=new w(X,[],0);return Ee.colorPresentations=ve||[],Ee.guessColorPresentation(X,re),te instanceof W?new I(te,S.e.lift(ne.range),Ee,ee):new G(te,S.e.lift(ne.range),Ee,ee)})}function H(te,se,ne,ee,re){if(ee.length===0||!se.hasModel())return O.JT.None;if(re.setMinimumDimensions){const Ee=se.getOption(67)+8;re.setMinimumDimensions(new g.Ro(302,Ee))}const he=new O.SL,M=ee[0],we=se.getModel(),We=M.model,ye=he.add(new Z(re.fragment,We,se.getOption(143),ne,te instanceof j));re.setColorPicker(ye);let X=!1,ve=new S.e(M.range.startLineNumber,M.range.startColumn,M.range.endLineNumber,M.range.endColumn);if(te instanceof j){const Ee=ee[0].model.color;te.color=Ee,ie(we,We,Ee,ve,M),he.add(We.onColorFlushed(Oe=>{te.color=Oe}))}else he.add(We.onColorFlushed(Ee=>Ft(this,null,function*(){yield ie(we,We,Ee,ve,M),X=!0,ve=Q(se,ve,We)})));return he.add(We.onDidChangeColor(Ee=>{ie(we,We,Ee,ve,M)})),he.add(se.onDidChangeModelContent(Ee=>{X?X=!1:(re.hide(),se.focus())})),he}function Q(te,se,ne){var ee,re;const he=[],M=(ee=ne.presentation.textEdit)!==null&&ee!==void 0?ee:{range:se,text:ne.presentation.label,forceMoveMarkers:!1};he.push(M),ne.presentation.additionalTextEdits&&he.push(...ne.presentation.additionalTextEdits);const we=S.e.lift(M.range),We=te.getModel()._setTrackedRange(null,we,3);return te.executeEdits("colorpicker",he),te.pushUndoStop(),(re=te.getModel()._getTrackedRange(We))!==null&&re!==void 0?re:we}function ie(te,se,ne,ee,re){return Ft(this,null,function*(){const he=yield(0,p.R)(te,{range:ee,color:{red:ne.rgba.r/255,green:ne.rgba.g/255,blue:ne.rgba.b/255,alpha:ne.rgba.a}},re.provider,B.Ts.None);se.colorPresentations=he||[]})}},48609:function(et,Le,e){"use strict";e.d(Le,{G:function(){return m}});var o=e(64707),B=e(12408),x=e(12692),O=e(81275),S=e(45029),p=e(70546),E=e(52709),R=function(a,r,i,n){var c=arguments.length,u=c<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,i):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(a,r,i,n);else for(var D=a.length-1;D>=0;D--)(l=a[D])&&(u=(c<3?l(u):c>3?l(r,i,u):l(r,i))||u);return c>3&&u&&Object.defineProperty(r,i,u),u},w=function(a,r){return function(i,n){r(i,n,a)}};class m{constructor(r,i){this._editorWorkerClient=new B.Q8(r,!1,"editorWorkerService",i)}provideDocumentColors(r,i){return Ft(this,null,function*(){return this._editorWorkerClient.computeDefaultDocumentColors(r.uri)})}provideColorPresentations(r,i,n){const c=i.range,u=i.color,l=u.alpha,D=new o.Il(new o.VS(Math.round(255*u.red),Math.round(255*u.green),Math.round(255*u.blue),l)),f=l?o.Il.Format.CSS.formatRGB(D):o.Il.Format.CSS.formatRGBA(D),y=l?o.Il.Format.CSS.formatHSL(D):o.Il.Format.CSS.formatHSLA(D),C=l?o.Il.Format.CSS.formatHex(D):o.Il.Format.CSS.formatHexA(D),_=[];return _.push({label:f,textEdit:{range:c,text:f}}),_.push({label:y,textEdit:{range:c,text:y}}),_.push({label:C,textEdit:{range:c,text:C}}),_}}let g=class extends S.JT{constructor(r,i,n){super(),this._register(n.colorProvider.register("*",new m(r,i)))}};g=R([w(0,x.q),w(1,O.c_),w(2,p.p)],g),(0,E.y)(g)},76327:function(et,Le,e){"use strict";var o=e(92635),B=e(61652),x=e(45029),O=e(72489),S=e(87058),p=e(31939),E=e(66070),R=e(79329),w=e(70546),m=e(22706),g=e(80568),a=e(12692),r=e(81275),i=e(48609),n=e(91540),c=e(90503),u=function(z,A,P,I){var W=arguments.length,G=W<3?A:I===null?I=Object.getOwnPropertyDescriptor(A,P):I,j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")G=Reflect.decorate(z,A,P,I);else for(var Y=z.length-1;Y>=0;Y--)(j=z[Y])&&(G=(W<3?j(G):W>3?j(A,P,G):j(A,P))||G);return W>3&&G&&Object.defineProperty(A,P,G),G},l=function(z,A){return function(P,I){A(P,I,z)}},D,f;let y=D=class extends x.JT{constructor(A,P,I,W,G,j,Y){super(),this._editor=A,this._modelService=I,this._keybindingService=W,this._instantiationService=G,this._languageFeatureService=j,this._languageConfigurationService=Y,this._standaloneColorPickerWidget=null,this._standaloneColorPickerVisible=m.u.standaloneColorPickerVisible.bindTo(P),this._standaloneColorPickerFocused=m.u.standaloneColorPickerFocused.bindTo(P)}showOrFocus(){var A;this._editor.hasModel()&&(this._standaloneColorPickerVisible.get()?this._standaloneColorPickerFocused.get()||(A=this._standaloneColorPickerWidget)===null||A===void 0||A.focus():this._standaloneColorPickerWidget=new N(this._editor,this._standaloneColorPickerVisible,this._standaloneColorPickerFocused,this._instantiationService,this._modelService,this._keybindingService,this._languageFeatureService,this._languageConfigurationService))}hide(){var A;this._standaloneColorPickerFocused.set(!1),this._standaloneColorPickerVisible.set(!1),(A=this._standaloneColorPickerWidget)===null||A===void 0||A.hide(),this._editor.focus()}insertColor(){var A;(A=this._standaloneColorPickerWidget)===null||A===void 0||A.updateEditor(),this.hide()}static get(A){return A.getContribution(D.ID)}};y.ID="editor.contrib.standaloneColorPickerController",y=D=u([l(1,g.i6),l(2,a.q),l(3,E.d),l(4,S.TG),l(5,w.p),l(6,r.c_)],y),(0,o._K)(y.ID,y,1);const C=8,_=22;let N=f=class extends x.JT{constructor(A,P,I,W,G,j,Y,H){var Q;super(),this._editor=A,this._standaloneColorPickerVisible=P,this._standaloneColorPickerFocused=I,this._modelService=G,this._keybindingService=j,this._languageFeaturesService=Y,this._languageConfigurationService=H,this.allowEditorOverflow=!0,this._position=void 0,this._body=document.createElement("div"),this._colorHover=null,this._selectionSetInEditor=!1,this._onResult=this._register(new R.Q5),this.onResult=this._onResult.event,this._standaloneColorPickerVisible.set(!0),this._standaloneColorPickerParticipant=W.createInstance(O.PQ,this._editor),this._position=(Q=this._editor._getViewModel())===null||Q===void 0?void 0:Q.getPrimaryCursorState().modelState.position;const ie=this._editor.getSelection(),te=ie?{startLineNumber:ie.startLineNumber,startColumn:ie.startColumn,endLineNumber:ie.endLineNumber,endColumn:ie.endColumn}:{startLineNumber:0,endLineNumber:0,endColumn:0,startColumn:0},se=this._register(n.go(this._body));this._register(se.onDidBlur(ne=>{this.hide()})),this._register(se.onDidFocus(ne=>{this.focus()})),this._register(this._editor.onDidChangeCursorPosition(()=>{this._selectionSetInEditor?this._selectionSetInEditor=!1:this.hide()})),this._register(this._editor.onMouseMove(ne=>{var ee;const re=(ee=ne.target.element)===null||ee===void 0?void 0:ee.classList;re&&re.contains("colorpicker-color-decoration")&&this.hide()})),this._register(this.onResult(ne=>{this._render(ne.value,ne.foundInEditor)})),this._start(te),this._body.style.zIndex="50",this._editor.addContentWidget(this)}updateEditor(){this._colorHover&&this._standaloneColorPickerParticipant.updateEditorModel(this._colorHover)}getId(){return f.ID}getDomNode(){return this._body}getPosition(){if(!this._position)return null;const A=this._editor.getOption(60).above;return{position:this._position,secondaryPosition:this._position,preference:A?[1,2]:[2,1],positionAffinity:2}}hide(){this.dispose(),this._standaloneColorPickerVisible.set(!1),this._standaloneColorPickerFocused.set(!1),this._editor.removeContentWidget(this),this._editor.focus()}focus(){this._standaloneColorPickerFocused.set(!0),this._body.focus()}_start(A){return Ft(this,null,function*(){const P=yield this._computeAsync(A);P&&this._onResult.fire(new b(P.result,P.foundInEditor))})}_computeAsync(A){return Ft(this,null,function*(){if(!this._editor.hasModel())return null;const P={range:A,color:{red:0,green:0,blue:0,alpha:1}},I=yield this._standaloneColorPickerParticipant.createColorHover(P,new i.G(this._modelService,this._languageConfigurationService),this._languageFeaturesService.colorProvider);return I?{result:I.colorHover,foundInEditor:I.foundInEditor}:null})}_render(A,P){const I=document.createDocumentFragment(),W=this._register(new p.m(this._keybindingService));let G;const j={fragment:I,statusBar:W,setColorPicker:re=>G=re,onContentsChanged:()=>{},hide:()=>this.hide()};if(this._colorHover=A,this._register(this._standaloneColorPickerParticipant.renderHoverParts(j,[A])),G===void 0)return;this._body.classList.add("standalone-colorpicker-body"),this._body.style.maxHeight=Math.max(this._editor.getLayoutInfo().height/4,250)+"px",this._body.style.maxWidth=Math.max(this._editor.getLayoutInfo().width*.66,500)+"px",this._body.tabIndex=0,this._body.appendChild(I),G.layout();const Y=G.body,H=Y.saturationBox.domNode.clientWidth,Q=Y.domNode.clientWidth-H-_-C,ie=G.body.enterButton;ie==null||ie.onClicked(()=>{this.updateEditor(),this.hide()});const te=G.header,se=te.pickedColorNode;se.style.width=H+C+"px";const ne=te.originalColorNode;ne.style.width=Q+"px";const ee=G.header.closeButton;ee==null||ee.onClicked(()=>{this.hide()}),P&&(ie&&(ie.button.textContent="Replace"),this._selectionSetInEditor=!0,this._editor.setSelection(A.range)),this._editor.layoutContentWidget(this)}};N.ID="editor.contrib.standaloneColorPickerWidget",N=f=u([l(3,S.TG),l(4,a.q),l(5,E.d),l(6,w.p),l(7,r.c_)],N);class b{constructor(A,P){this.value=A,this.foundInEditor=P}}var k=e(69713);class V extends o.x1{constructor(){super({id:"editor.action.showOrFocusStandaloneColorPicker",title:Ki(vi({},(0,B.vv)("showOrFocusStandaloneColorPicker","Show or Focus Standalone Color Picker")),{mnemonicTitle:(0,B.NC)({key:"mishowOrFocusStandaloneColorPicker",comment:["&& denotes a mnemonic"]},"&&Show or Focus Standalone Color Picker")}),precondition:void 0,menu:[{id:k.eH.CommandPalette}],metadata:{description:(0,B.vv)("showOrFocusStandaloneColorPickerDescription","Show or focus a standalone color picker which uses the default color provider. It displays hex/rgb/hsl colors.")}})}runEditorCommand(A,P){var I;(I=y.get(P))===null||I===void 0||I.showOrFocus()}}class K extends o.R6{constructor(){super({id:"editor.action.hideColorPicker",label:(0,B.NC)({key:"hideColorPicker",comment:["Action that hides the color picker"]},"Hide the Color Picker"),alias:"Hide the Color Picker",precondition:m.u.standaloneColorPickerVisible.isEqualTo(!0),kbOpts:{primary:9,weight:100},metadata:{description:(0,B.vv)("hideColorPickerDescription","Hide the standalone color picker.")}})}run(A,P){var I;(I=y.get(P))===null||I===void 0||I.hide()}}class Z extends o.R6{constructor(){super({id:"editor.action.insertColorWithStandaloneColorPicker",label:(0,B.NC)({key:"insertColorWithStandaloneColorPicker",comment:["Action that inserts color with standalone color picker"]},"Insert Color with Standalone Color Picker"),alias:"Insert Color with Standalone Color Picker",precondition:m.u.standaloneColorPickerFocused.isEqualTo(!0),kbOpts:{primary:3,weight:100},metadata:{description:(0,B.vv)("insertColorWithStandaloneColorPickerDescription","Insert hex/rgb/hsl colors with the focused standalone color picker.")}})}run(A,P){var I;(I=y.get(P))===null||I===void 0||I.insertColor()}}(0,o.Qr)(K),(0,o.Qr)(Z),(0,k.r1)(V)},17564:function(et,Le,e){"use strict";var o=e(173),B=e(92635),x=e(4694),O=e(22706),S=e(81275),p=e(44316),E=e(93895),R=e(14149);class w{constructor(f,y,C){this.languageConfigurationService=C,this._selection=f,this._insertSpace=y,this._usedEndToken=null}static _haystackHasNeedleAtOffset(f,y,C){if(C<0)return!1;const _=y.length,N=f.length;if(C+_>N)return!1;for(let b=0;b<_;b++){const k=f.charCodeAt(C+b),V=y.charCodeAt(b);if(k!==V&&!(k>=65&&k<=90&&k+32===V)&&!(V>=65&&V<=90&&V+32===k))return!1}return!0}_createOperationsForBlockComment(f,y,C,_,N,b){const k=f.startLineNumber,V=f.startColumn,K=f.endLineNumber,Z=f.endColumn,z=N.getLineContent(k),A=N.getLineContent(K);let P=z.lastIndexOf(y,V-1+y.length),I=A.indexOf(C,Z-1-C.length);if(P!==-1&&I!==-1)if(k===K)z.substring(P+y.length,I).indexOf(C)>=0&&(P=-1,I=-1);else{const G=z.substring(P+y.length),j=A.substring(0,I);(G.indexOf(C)>=0||j.indexOf(C)>=0)&&(P=-1,I=-1)}let W;P!==-1&&I!==-1?(_&&P+y.length<z.length&&z.charCodeAt(P+y.length)===32&&(y=y+" "),_&&I>0&&A.charCodeAt(I-1)===32&&(C=" "+C,I-=1),W=w._createRemoveBlockCommentOperations(new x.e(k,P+y.length+1,K,I+1),y,C)):(W=w._createAddBlockCommentOperations(f,y,C,this._insertSpace),this._usedEndToken=W.length===1?C:null);for(const G of W)b.addTrackedEditOperation(G.range,G.text)}static _createRemoveBlockCommentOperations(f,y,C){const _=[];return x.e.isEmpty(f)?_.push(p.h.delete(new x.e(f.startLineNumber,f.startColumn-y.length,f.endLineNumber,f.endColumn+C.length))):(_.push(p.h.delete(new x.e(f.startLineNumber,f.startColumn-y.length,f.startLineNumber,f.startColumn))),_.push(p.h.delete(new x.e(f.endLineNumber,f.endColumn,f.endLineNumber,f.endColumn+C.length)))),_}static _createAddBlockCommentOperations(f,y,C,_){const N=[];return x.e.isEmpty(f)?N.push(p.h.replace(new x.e(f.startLineNumber,f.startColumn,f.endLineNumber,f.endColumn),y+"  "+C)):(N.push(p.h.insert(new E.L(f.startLineNumber,f.startColumn),y+(_?" ":""))),N.push(p.h.insert(new E.L(f.endLineNumber,f.endColumn),(_?" ":"")+C))),N}getEditOperations(f,y){const C=this._selection.startLineNumber,_=this._selection.startColumn;f.tokenization.tokenizeIfCheap(C);const N=f.getLanguageIdAtPosition(C,_),b=this.languageConfigurationService.getLanguageConfiguration(N).comments;!b||!b.blockCommentStartToken||!b.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,b.blockCommentStartToken,b.blockCommentEndToken,this._insertSpace,f,y)}computeCursorState(f,y){const C=y.getInverseEditOperations();if(C.length===2){const _=C[0],N=C[1];return new R.Y(_.range.endLineNumber,_.range.endColumn,N.range.startLineNumber,N.range.startColumn)}else{const _=C[0].range,N=this._usedEndToken?-this._usedEndToken.length-1:0;return new R.Y(_.endLineNumber,_.endColumn+N,_.endLineNumber,_.endColumn+N)}}}var m=e(30144);class g{constructor(f,y,C,_,N,b,k){this.languageConfigurationService=f,this._selection=y,this._indentSize=C,this._type=_,this._insertSpace=N,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=b,this._ignoreFirstLine=k||!1}static _gatherPreflightCommentStrings(f,y,C,_){f.tokenization.tokenizeIfCheap(y);const N=f.getLanguageIdAtPosition(y,1),b=_.getLanguageConfiguration(N).comments,k=b?b.lineCommentToken:null;if(!k)return null;const V=[];for(let K=0,Z=C-y+1;K<Z;K++)V[K]={ignore:!1,commentStr:k,commentStrOffset:0,commentStrLength:k.length};return V}static _analyzeLines(f,y,C,_,N,b,k,V){let K=!0,Z;f===0?Z=!0:f===1?Z=!1:Z=!0;for(let z=0,A=_.length;z<A;z++){const P=_[z],I=N+z;if(I===N&&k){P.ignore=!0;continue}const W=C.getLineContent(I),G=m.LC(W);if(G===-1){P.ignore=b,P.commentStrOffset=W.length;continue}if(K=!1,P.ignore=!1,P.commentStrOffset=G,Z&&!w._haystackHasNeedleAtOffset(W,P.commentStr,G)&&(f===0?Z=!1:f===1||(P.ignore=!0)),Z&&y){const j=G+P.commentStrLength;j<W.length&&W.charCodeAt(j)===32&&(P.commentStrLength+=1)}}if(f===0&&K){Z=!1;for(let z=0,A=_.length;z<A;z++)_[z].ignore=!1}return{supported:!0,shouldRemoveComments:Z,lines:_}}static _gatherPreflightData(f,y,C,_,N,b,k,V){const K=g._gatherPreflightCommentStrings(C,_,N,V);return K===null?{supported:!1}:g._analyzeLines(f,y,C,K,_,b,k,V)}_executeLineComments(f,y,C,_){let N;C.shouldRemoveComments?N=g._createRemoveLineCommentsOperations(C.lines,_.startLineNumber):(g._normalizeInsertionPoint(f,C.lines,_.startLineNumber,this._indentSize),N=this._createAddLineCommentsOperations(C.lines,_.startLineNumber));const b=new E.L(_.positionLineNumber,_.positionColumn);for(let k=0,V=N.length;k<V;k++)y.addEditOperation(N[k].range,N[k].text),x.e.isEmpty(N[k].range)&&x.e.getStartPosition(N[k].range).equals(b)&&f.getLineContent(b.lineNumber).length+1===b.column&&(this._deltaColumn=(N[k].text||"").length);this._selectionId=y.trackSelection(_)}_attemptRemoveBlockComment(f,y,C,_){let N=y.startLineNumber,b=y.endLineNumber;const k=_.length+Math.max(f.getLineFirstNonWhitespaceColumn(y.startLineNumber),y.startColumn);let V=f.getLineContent(N).lastIndexOf(C,k-1),K=f.getLineContent(b).indexOf(_,y.endColumn-1-C.length);return V!==-1&&K===-1&&(K=f.getLineContent(N).indexOf(_,V+C.length),b=N),V===-1&&K!==-1&&(V=f.getLineContent(b).lastIndexOf(C,K),N=b),y.isEmpty()&&(V===-1||K===-1)&&(V=f.getLineContent(N).indexOf(C),V!==-1&&(K=f.getLineContent(N).indexOf(_,V+C.length))),V!==-1&&f.getLineContent(N).charCodeAt(V+C.length)===32&&(C+=" "),K!==-1&&f.getLineContent(b).charCodeAt(K-1)===32&&(_=" "+_,K-=1),V!==-1&&K!==-1?w._createRemoveBlockCommentOperations(new x.e(N,V+C.length+1,b,K+1),C,_):null}_executeBlockComment(f,y,C){f.tokenization.tokenizeIfCheap(C.startLineNumber);const _=f.getLanguageIdAtPosition(C.startLineNumber,1),N=this.languageConfigurationService.getLanguageConfiguration(_).comments;if(!N||!N.blockCommentStartToken||!N.blockCommentEndToken)return;const b=N.blockCommentStartToken,k=N.blockCommentEndToken;let V=this._attemptRemoveBlockComment(f,C,b,k);if(!V){if(C.isEmpty()){const K=f.getLineContent(C.startLineNumber);let Z=m.LC(K);Z===-1&&(Z=K.length),V=w._createAddBlockCommentOperations(new x.e(C.startLineNumber,Z+1,C.startLineNumber,K.length+1),b,k,this._insertSpace)}else V=w._createAddBlockCommentOperations(new x.e(C.startLineNumber,f.getLineFirstNonWhitespaceColumn(C.startLineNumber),C.endLineNumber,f.getLineMaxColumn(C.endLineNumber)),b,k,this._insertSpace);V.length===1&&(this._deltaColumn=b.length+1)}this._selectionId=y.trackSelection(C);for(const K of V)y.addEditOperation(K.range,K.text)}getEditOperations(f,y){let C=this._selection;if(this._moveEndPositionDown=!1,C.startLineNumber===C.endLineNumber&&this._ignoreFirstLine){y.addEditOperation(new x.e(C.startLineNumber,f.getLineMaxColumn(C.startLineNumber),C.startLineNumber+1,1),C.startLineNumber===f.getLineCount()?"":`
`),this._selectionId=y.trackSelection(C);return}C.startLineNumber<C.endLineNumber&&C.endColumn===1&&(this._moveEndPositionDown=!0,C=C.setEndPosition(C.endLineNumber-1,f.getLineMaxColumn(C.endLineNumber-1)));const _=g._gatherPreflightData(this._type,this._insertSpace,f,C.startLineNumber,C.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return _.supported?this._executeLineComments(f,y,_,C):this._executeBlockComment(f,y,C)}computeCursorState(f,y){let C=y.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(C=C.setEndPosition(C.endLineNumber+1,1)),new R.Y(C.selectionStartLineNumber,C.selectionStartColumn+this._deltaColumn,C.positionLineNumber,C.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(f,y){const C=[];for(let _=0,N=f.length;_<N;_++){const b=f[_];b.ignore||C.push(p.h.delete(new x.e(y+_,b.commentStrOffset+1,y+_,b.commentStrOffset+b.commentStrLength+1)))}return C}_createAddLineCommentsOperations(f,y){const C=[],_=this._insertSpace?" ":"";for(let N=0,b=f.length;N<b;N++){const k=f[N];k.ignore||C.push(p.h.insert(new E.L(y+N,k.commentStrOffset+1),k.commentStr+_))}return C}static nextVisibleColumn(f,y,C,_){return C?f+(y-f%y):f+_}static _normalizeInsertionPoint(f,y,C,_){let N=1073741824,b,k;for(let V=0,K=y.length;V<K;V++){if(y[V].ignore)continue;const Z=f.getLineContent(C+V);let z=0;for(let A=0,P=y[V].commentStrOffset;z<N&&A<P;A++)z=g.nextVisibleColumn(z,_,Z.charCodeAt(A)===9,1);z<N&&(N=z)}N=Math.floor(N/_)*_;for(let V=0,K=y.length;V<K;V++){if(y[V].ignore)continue;const Z=f.getLineContent(C+V);let z=0;for(b=0,k=y[V].commentStrOffset;z<N&&b<k;b++)z=g.nextVisibleColumn(z,_,Z.charCodeAt(b)===9,1);z>N?y[V].commentStrOffset=b-1:y[V].commentStrOffset=b}}}var a=e(61652),r=e(69713);class i extends B.R6{constructor(f,y){super(y),this._type=f}run(f,y){const C=f.get(S.c_);if(!y.hasModel())return;const _=y.getModel(),N=[],b=_.getOptions(),k=y.getOption(23),V=y.getSelections().map((Z,z)=>({selection:Z,index:z,ignoreFirstLine:!1}));V.sort((Z,z)=>x.e.compareRangesUsingStarts(Z.selection,z.selection));let K=V[0];for(let Z=1;Z<V.length;Z++){const z=V[Z];K.selection.endLineNumber===z.selection.startLineNumber&&(K.index<z.index?z.ignoreFirstLine=!0:(K.ignoreFirstLine=!0,K=z))}for(const Z of V)N.push(new g(C,Z.selection,b.indentSize,this._type,k.insertSpace,k.ignoreEmptyLines,Z.ignoreFirstLine));y.pushUndoStop(),y.executeCommands(this.id,N),y.pushUndoStop()}}class n extends i{constructor(){super(0,{id:"editor.action.commentLine",label:a.NC("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:O.u.writable,kbOpts:{kbExpr:O.u.editorTextFocus,primary:2138,weight:100},menuOpts:{menuId:r.eH.MenubarEditMenu,group:"5_insert",title:a.NC({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}}class c extends i{constructor(){super(1,{id:"editor.action.addCommentLine",label:a.NC("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:O.u.writable,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,o.gx)(2089,2081),weight:100}})}}class u extends i{constructor(){super(2,{id:"editor.action.removeCommentLine",label:a.NC("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:O.u.writable,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,o.gx)(2089,2099),weight:100}})}}class l extends B.R6{constructor(){super({id:"editor.action.blockComment",label:a.NC("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:O.u.writable,kbOpts:{kbExpr:O.u.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:r.eH.MenubarEditMenu,group:"5_insert",title:a.NC({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(f,y){const C=f.get(S.c_);if(!y.hasModel())return;const _=y.getOption(23),N=[],b=y.getSelections();for(const k of b)N.push(new w(k,_.insertSpace,C));y.pushUndoStop(),y.executeCommands(this.id,N),y.pushUndoStop()}}(0,B.Qr)(n),(0,B.Qr)(c),(0,B.Qr)(u),(0,B.Qr)(l)},4917:function(et,Le,e){"use strict";var o=e(91540),B=e(75405),x=e(43263),O=e(45029),S=e(15122),p=e(92635),E=e(22706),R=e(61652),w=e(69713),m=e(80568),g=e(31949),a=e(66070),r=e(48774),i=e(48983),n=function(f,y,C,_){var N=arguments.length,b=N<3?y:_===null?_=Object.getOwnPropertyDescriptor(y,C):_,k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(f,y,C,_);else for(var V=f.length-1;V>=0;V--)(k=f[V])&&(b=(N<3?k(b):N>3?k(y,C,b):k(y,C))||b);return N>3&&b&&Object.defineProperty(y,C,b),b},c=function(f,y){return function(C,_){y(C,_,f)}},u;let l=u=class{static get(y){return y.getContribution(u.ID)}constructor(y,C,_,N,b,k,V,K){this._contextMenuService=C,this._contextViewService=_,this._contextKeyService=N,this._keybindingService=b,this._menuService=k,this._configurationService=V,this._workspaceContextService=K,this._toDispose=new O.SL,this._contextMenuIsBeingShownCount=0,this._editor=y,this._toDispose.add(this._editor.onContextMenu(Z=>this._onContextMenu(Z))),this._toDispose.add(this._editor.onMouseWheel(Z=>{if(this._contextMenuIsBeingShownCount>0){const z=this._contextViewService.getContextViewElement(),A=Z.srcElement;A.shadowRoot&&o.Ay(z)===A.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(Z=>{this._editor.getOption(24)&&Z.keyCode===58&&(Z.preventDefault(),Z.stopPropagation(),this.showContextMenu())}))}_onContextMenu(y){if(!this._editor.hasModel())return;if(!this._editor.getOption(24)){this._editor.focus(),y.target.position&&!this._editor.getSelection().containsPosition(y.target.position)&&this._editor.setPosition(y.target.position);return}if(y.target.type===12||y.target.type===6&&y.target.detail.injectedText)return;if(y.event.preventDefault(),y.event.stopPropagation(),y.target.type===11)return this._showScrollbarContextMenu(y.event);if(y.target.type!==6&&y.target.type!==7&&y.target.type!==1)return;if(this._editor.focus(),y.target.position){let _=!1;for(const N of this._editor.getSelections())if(N.containsPosition(y.target.position)){_=!0;break}_||this._editor.setPosition(y.target.position)}let C=null;y.target.type!==1&&(C=y.event),this.showContextMenu(C)}showContextMenu(y){if(!this._editor.getOption(24)||!this._editor.hasModel())return;const C=this._getMenuActions(this._editor.getModel(),this._editor.contextMenuId);C.length>0&&this._doShowContextMenu(C,y)}_getMenuActions(y,C){const _=[],N=this._menuService.createMenu(C,this._contextKeyService),b=N.getActions({arg:y.uri});N.dispose();for(const k of b){const[,V]=k;let K=0;for(const Z of V)if(Z instanceof w.NZ){const z=this._getMenuActions(y,Z.item.submenu);z.length>0&&(_.push(new x.wY(Z.id,Z.label,z)),K++)}else _.push(Z),K++;K&&_.push(new x.Z0)}return _.length&&_.pop(),_}_doShowContextMenu(y,C=null){if(!this._editor.hasModel())return;const _=this._editor.getOption(60);this._editor.updateOptions({hover:{enabled:!1}});let N=C;if(!N){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const k=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),V=o.i(this._editor.getDomNode()),K=V.left+k.left,Z=V.top+k.top+k.height;N={x:K,y:Z}}const b=this._editor.getOption(127)&&!S.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:b?this._editor.getDomNode():void 0,getAnchor:()=>N,getActions:()=>y,getActionViewItem:k=>{const V=this._keybindingFor(k);if(V)return new B.gU(k,k,{label:!0,keybinding:V.getLabel(),isMenu:!0});const K=k;return typeof K.getActionViewItem=="function"?K.getActionViewItem():new B.gU(k,k,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:k=>this._keybindingFor(k),onHide:k=>{this._contextMenuIsBeingShownCount--,this._editor.updateOptions({hover:_})}})}_showScrollbarContextMenu(y){if(!this._editor.hasModel()||(0,i.x)(this._workspaceContextService.getWorkspace()))return;const C=this._editor.getOption(73);let _=0;const N=Z=>({id:`menu-action-${++_}`,label:Z.label,tooltip:"",class:void 0,enabled:typeof Z.enabled=="undefined"?!0:Z.enabled,checked:Z.checked,run:Z.run}),b=(Z,z)=>new x.wY(`menu-action-${++_}`,Z,z,void 0),k=(Z,z,A,P,I)=>{if(!z)return N({label:Z,enabled:z,run:()=>{}});const W=j=>()=>{this._configurationService.updateValue(A,j)},G=[];for(const j of I)G.push(N({label:j.label,checked:P===j.value,run:W(j.value)}));return b(Z,G)},V=[];V.push(N({label:R.NC("context.minimap.minimap","Minimap"),checked:C.enabled,run:()=>{this._configurationService.updateValue("editor.minimap.enabled",!C.enabled)}})),V.push(new x.Z0),V.push(N({label:R.NC("context.minimap.renderCharacters","Render Characters"),enabled:C.enabled,checked:C.renderCharacters,run:()=>{this._configurationService.updateValue("editor.minimap.renderCharacters",!C.renderCharacters)}})),V.push(k(R.NC("context.minimap.size","Vertical size"),C.enabled,"editor.minimap.size",C.size,[{label:R.NC("context.minimap.size.proportional","Proportional"),value:"proportional"},{label:R.NC("context.minimap.size.fill","Fill"),value:"fill"},{label:R.NC("context.minimap.size.fit","Fit"),value:"fit"}])),V.push(k(R.NC("context.minimap.slider","Slider"),C.enabled,"editor.minimap.showSlider",C.showSlider,[{label:R.NC("context.minimap.slider.mouseover","Mouse Over"),value:"mouseover"},{label:R.NC("context.minimap.slider.always","Always"),value:"always"}]));const K=this._editor.getOption(127)&&!S.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:K?this._editor.getDomNode():void 0,getAnchor:()=>y,getActions:()=>V,onHide:Z=>{this._contextMenuIsBeingShownCount--,this._editor.focus()}})}_keybindingFor(y){return this._keybindingService.lookupKeybinding(y.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};l.ID="editor.contrib.contextmenu",l=u=n([c(1,g.i),c(2,g.u),c(3,m.i6),c(4,a.d),c(5,w.co),c(6,r.Ui),c(7,i.ec)],l);class D extends p.R6{constructor(){super({id:"editor.action.showContextMenu",label:R.NC("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:E.u.textInputFocus,primary:1092,weight:100}})}run(y,C){var _;(_=l.get(C))===null||_===void 0||_.showContextMenu()}}(0,p._K)(l.ID,l,2),(0,p.Qr)(D)},69305:function(et,Le,e){"use strict";var o=e(45029),B=e(92635),x=e(22706),O=e(61652);class S{constructor(g){this.selections=g}equals(g){const a=this.selections.length,r=g.selections.length;if(a!==r)return!1;for(let i=0;i<a;i++)if(!this.selections[i].equalsSelection(g.selections[i]))return!1;return!0}}class p{constructor(g,a,r){this.cursorState=g,this.scrollTop=a,this.scrollLeft=r}}class E extends o.JT{static get(g){return g.getContribution(E.ID)}constructor(g){super(),this._editor=g,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(g.onDidChangeModel(a=>{this._undoStack=[],this._redoStack=[]})),this._register(g.onDidChangeModelContent(a=>{this._undoStack=[],this._redoStack=[]})),this._register(g.onDidChangeCursorSelection(a=>{if(this._isCursorUndoRedo||!a.oldSelections||a.oldModelVersionId!==a.modelVersionId)return;const r=new S(a.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(r)||(this._undoStack.push(new p(r,g.getScrollTop(),g.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new p(new S(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new p(new S(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(g){this._isCursorUndoRedo=!0,this._editor.setSelections(g.cursorState.selections),this._editor.setScrollPosition({scrollTop:g.scrollTop,scrollLeft:g.scrollLeft}),this._isCursorUndoRedo=!1}}E.ID="editor.contrib.cursorUndoRedoController";class R extends B.R6{constructor(){super({id:"cursorUndo",label:O.NC("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:x.u.textInputFocus,primary:2099,weight:100}})}run(g,a,r){var i;(i=E.get(a))===null||i===void 0||i.cursorUndo()}}class w extends B.R6{constructor(){super({id:"cursorRedo",label:O.NC("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(g,a,r){var i;(i=E.get(a))===null||i===void 0||i.cursorRedo()}}(0,B._K)(E.ID,E,0),(0,B.Qr)(R),(0,B.Qr)(w)},98013:function(et,Le,e){"use strict";var o=e(71221),B=e(17009),x=e(73434),O=e(75605),S=e(70546),p=e(15202),E=e(45029),R=e(79329),w=function(a,r,i,n){var c=arguments.length,u=c<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,i):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(a,r,i,n);else for(var D=a.length-1;D>=0;D--)(l=a[D])&&(u=(c<3?l(u):c>3?l(r,i,u):l(r,i))||u);return c>3&&u&&Object.defineProperty(r,i,u),u},m=function(a,r){return function(i,n){r(i,n,a)}};let g=class extends E.JT{constructor(r,i,n){super(),this._textModel=r,this._languageFeaturesService=i,this._outlineModelService=n,this._currentModel=(0,B.uh)(this,void 0);const c=(0,B.aq)("documentSymbolProvider.onDidChange",this._languageFeaturesService.documentSymbolProvider.onDidChange),u=(0,B.aq)("_textModel.onDidChangeContent",R.ju.debounce(l=>this._textModel.onDidChangeContent(l),()=>{},100));this._register((0,B.gp)((l,D)=>Ft(this,null,function*(){c.read(l),u.read(l);const f=D.add(new O.t2),y=yield this._outlineModelService.getOrCreate(this._textModel,f.token);D.isDisposed||this._currentModel.set(y,void 0)})))}getBreadcrumbItems(r,i){const n=this._currentModel.read(i);if(!n)return[];const c=n.asListOfDocumentSymbols().filter(u=>r.contains(u.range.startLineNumber)&&!r.contains(u.range.endLineNumber));return c.sort((0,o.BV)((0,o.tT)(u=>u.range.endLineNumber-u.range.startLineNumber,o.fv))),c.map(u=>({name:u.name,kind:u.kind,startLineNumber:u.range.startLineNumber}))}};g=w([m(1,S.p),m(2,p.Je)],g),x.O.setBreadcrumbsSourceFactory((a,r)=>r.createInstance(g,a))},52148:function(et,Le,e){"use strict";var o=e(45029),B=e(15122),x=e(92635),O=e(93895),S=e(4694),p=e(14149),E=e(93059);class R{constructor(a,r,i){this.selection=a,this.targetPosition=r,this.copy=i,this.targetSelection=null}getEditOperations(a,r){const i=a.getValueInRange(this.selection);if(this.copy||r.addEditOperation(this.selection,null),r.addEditOperation(new S.e(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),i),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new p.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new p.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new p.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new p.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new p.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(a,r){return this.targetSelection}}function w(g){return B.dz?g.altKey:g.ctrlKey}class m extends o.JT{constructor(a){super(),this._editor=a,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown(r=>this._onEditorMouseDown(r))),this._register(this._editor.onMouseUp(r=>this._onEditorMouseUp(r))),this._register(this._editor.onMouseDrag(r=>this._onEditorMouseDrag(r))),this._register(this._editor.onMouseDrop(r=>this._onEditorMouseDrop(r))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(r=>this.onEditorKeyDown(r))),this._register(this._editor.onKeyUp(r=>this.onEditorKeyUp(r))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(a){!this._editor.getOption(35)||this._editor.getOption(22)||(w(a)&&(this._modifierPressed=!0),this._mouseDown&&w(a)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(a){!this._editor.getOption(35)||this._editor.getOption(22)||(w(a)&&(this._modifierPressed=!1),this._mouseDown&&a.keyCode===m.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(a){this._mouseDown=!0}_onEditorMouseUp(a){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(a){const r=a.target;if(this._dragSelection===null){const n=(this._editor.getSelections()||[]).filter(c=>r.position&&c.containsPosition(r.position));if(n.length===1)this._dragSelection=n[0];else return}w(a.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),r.position&&(this._dragSelection.containsPosition(r.position)?this._removeDecoration():this.showAt(r.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(a){if(a.target&&(this._hitContent(a.target)||this._hitMargin(a.target))&&a.target.position){const r=new O.L(a.target.position.lineNumber,a.target.position.column);if(this._dragSelection===null){let i=null;if(a.event.shiftKey){const n=this._editor.getSelection();if(n){const{selectionStartLineNumber:c,selectionStartColumn:u}=n;i=[new p.Y(c,u,r.lineNumber,r.column)]}}else i=(this._editor.getSelections()||[]).map(n=>n.containsPosition(r)?new p.Y(r.lineNumber,r.column,r.lineNumber,r.column):n);this._editor.setSelections(i||[],"mouse",3)}else(!this._dragSelection.containsPosition(r)||(w(a.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(r)||this._dragSelection.getStartPosition().equals(r)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(m.ID,new R(this._dragSelection,r,w(a.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(a){this._dndDecorationIds.set([{range:new S.e(a.lineNumber,a.column,a.lineNumber,a.column),options:m._DECORATION_OPTIONS}]),this._editor.revealPosition(a,1)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(a){return a.type===6||a.type===7}_hitMargin(a){return a.type===2||a.type===3||a.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}m.ID="editor.contrib.dragAndDrop",m.TRIGGER_KEY_VALUE=B.dz?6:5,m._DECORATION_OPTIONS=E.qx.register({description:"dnd-target",className:"dnd-target"}),(0,x._K)(m.ID,m,2)},65790:function(et,Le,e){"use strict";var o=e(65642),B=e(26974),x=e(10058),O=e(21592),S=e(15202),p=e(83349);p.P.registerCommand("_executeDocumentSymbolProvider",function(E,...R){return Ft(this,null,function*(){const[w]=R;(0,B.p_)(x.o.isUri(w));const m=E.get(S.Je),a=yield E.get(O.S).createModelReference(w);try{return(yield m.getOrCreate(a.object.textEditorModel,o.Ts.None)).getTopLevelSymbols()}finally{a.dispose()}})})},15202:function(et,Le,e){"use strict";e.d(Le,{C3:function(){return D},H3:function(){return l},Je:function(){return f},sT:function(){return u}});var o=e(71221),B=e(65642),x=e(25602),O=e(852),S=e(79138),p=e(93895),E=e(4694),R=e(81580),w=e(87058),m=e(98352),g=e(12692),a=e(45029),r=e(70546),i=function(C,_,N,b){var k=arguments.length,V=k<3?_:b===null?b=Object.getOwnPropertyDescriptor(_,N):b,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")V=Reflect.decorate(C,_,N,b);else for(var Z=C.length-1;Z>=0;Z--)(K=C[Z])&&(V=(k<3?K(V):k>3?K(_,N,V):K(_,N))||V);return k>3&&V&&Object.defineProperty(_,N,V),V},n=function(C,_){return function(N,b){_(N,b,C)}};class c{remove(){var _;(_=this.parent)===null||_===void 0||_.children.delete(this.id)}static findId(_,N){let b;typeof _=="string"?b=`${N.id}/${_}`:(b=`${N.id}/${_.name}`,N.children.get(b)!==void 0&&(b=`${N.id}/${_.name}_${_.range.startLineNumber}_${_.range.startColumn}`));let k=b;for(let V=0;N.children.get(k)!==void 0;V++)k=`${b}_${V}`;return k}static empty(_){return _.children.size===0}}class u extends c{constructor(_,N,b){super(),this.id=_,this.parent=N,this.symbol=b,this.children=new Map}}class l extends c{constructor(_,N,b,k){super(),this.id=_,this.parent=N,this.label=b,this.order=k,this.children=new Map}}class D extends c{static create(_,N,b){const k=new B.AU(b),V=new D(N.uri),K=_.ordered(N),Z=K.map((A,P)=>{var I;const W=c.findId(`provider_${P}`,V),G=new l(W,V,(I=A.displayName)!==null&&I!==void 0?I:"Unknown Outline Provider",P);return Promise.resolve(A.provideDocumentSymbols(N,k.token)).then(j=>{for(const Y of j||[])D._makeOutlineElement(Y,G);return G},j=>((0,x.Cp)(j),G)).then(j=>{c.empty(j)?j.remove():V._groups.set(W,j)})}),z=_.onDidChange(()=>{const A=_.ordered(N);(0,o.fS)(A,K)||k.cancel()});return Promise.all(Z).then(()=>k.token.isCancellationRequested&&!b.isCancellationRequested?D.create(_,N,b):V._compact()).finally(()=>{k.dispose(),z.dispose(),k.dispose()})}static _makeOutlineElement(_,N){const b=c.findId(_,N),k=new u(b,N,_);if(_.children)for(const V of _.children)D._makeOutlineElement(V,k);N.children.set(k.id,k)}constructor(_){super(),this.uri=_,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}_compact(){let _=0;for(const[N,b]of this._groups)b.children.size===0?this._groups.delete(N):_+=1;if(_!==1)this.children=this._groups;else{const N=O.$.first(this._groups.values());for(const[,b]of N.children)b.parent=this,this.children.set(b.id,b)}return this}getTopLevelSymbols(){const _=[];for(const N of this.children.values())N instanceof u?_.push(N.symbol):_.push(...O.$.map(N.children.values(),b=>b.symbol));return _.sort((N,b)=>E.e.compareRangesUsingStarts(N.range,b.range))}asListOfDocumentSymbols(){const _=this.getTopLevelSymbols(),N=[];return D._flattenDocumentSymbols(N,_,""),N.sort((b,k)=>p.L.compare(E.e.getStartPosition(b.range),E.e.getStartPosition(k.range))||p.L.compare(E.e.getEndPosition(k.range),E.e.getEndPosition(b.range)))}static _flattenDocumentSymbols(_,N,b){for(const k of N)_.push({kind:k.kind,tags:k.tags,name:k.name,detail:k.detail,containerName:k.containerName||b,range:k.range,selectionRange:k.selectionRange,children:void 0}),k.children&&D._flattenDocumentSymbols(_,k.children,k.name)}}const f=(0,w.yh)("IOutlineModelService");let y=class{constructor(_,N,b){this._languageFeaturesService=_,this._disposables=new a.SL,this._cache=new S.z6(10,.7),this._debounceInformation=N.for(_.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(b.onModelRemoved(k=>{this._cache.delete(k.id)}))}dispose(){this._disposables.dispose()}getOrCreate(_,N){return Ft(this,null,function*(){const b=this._languageFeaturesService.documentSymbolProvider,k=b.ordered(_);let V=this._cache.get(_.id);if(!V||V.versionId!==_.getVersionId()||!(0,o.fS)(V.provider,k)){const Z=new B.AU;V={versionId:_.getVersionId(),provider:k,promiseCnt:0,source:Z,promise:D.create(b,_,Z.token),model:void 0},this._cache.set(_.id,V);const z=Date.now();V.promise.then(A=>{V.model=A,this._debounceInformation.update(_,Date.now()-z)}).catch(A=>{this._cache.delete(_.id)})}if(V.model)return V.model;V.promiseCnt+=1;const K=N.onCancellationRequested(()=>{--V.promiseCnt===0&&(V.source.cancel(),this._cache.delete(_.id))});try{return yield V.promise}finally{K.dispose()}})}};y=i([n(0,r.p),n(1,R.A),n(2,g.q)],y),(0,m.z)(f,y,1)},65254:function(et,Le,e){"use strict";var o=e(51997),B=e(92635),x=e(22706),O=e(52709),S=e(7708),p=e(34244),E=e(61652),R;(0,B._K)(S.bO.ID,S.bO,0),(0,O.y)(p.vJ),(0,B.fK)(new class extends B._l{constructor(){super({id:S.iE,precondition:S.wS,kbOpts:{weight:100,primary:2137}})}runEditorCommand(w,m){var g;return(g=S.bO.get(m))===null||g===void 0?void 0:g.changePasteType()}}),(0,B.fK)(new class extends B._l{constructor(){super({id:"editor.hidePasteWidget",precondition:S.wS,kbOpts:{weight:100,primary:9}})}runEditorCommand(w,m){var g;(g=S.bO.get(m))===null||g===void 0||g.clearWidgets()}}),(0,B.Qr)((R=class extends B.R6{constructor(){super({id:"editor.action.pasteAs",label:E.NC("pasteAs","Paste As..."),alias:"Paste As...",precondition:x.u.writable,metadata:{description:"Paste as",args:[{name:"args",schema:R.argsSchema}]}})}run(m,g,a){var r;let i=typeof(a==null?void 0:a.kind)=="string"?a.kind:void 0;return!i&&a&&(i=typeof a.id=="string"?a.id:void 0),(r=S.bO.get(g))===null||r===void 0?void 0:r.pasteAs(i?new o.o(i):void 0)}},R.argsSchema={type:"object",properties:{kind:{type:"string",description:E.NC("pasteAs.kind","The kind of the paste edit to try applying. If not provided or there are multiple edits for this kind, the editor will show a picker.")}}},R)),(0,B.Qr)(class extends B.R6{constructor(){super({id:"editor.action.pasteAsText",label:E.NC("pasteAsText","Paste as Text"),alias:"Paste as Text",precondition:x.u.writable})}run(w,m){var g;return(g=S.bO.get(m))===null||g===void 0?void 0:g.pasteAs({providerId:p.f8.id})}})},7708:function(et,Le,e){"use strict";e.d(Le,{bO:function(){return W},iE:function(){return A},wS:function(){return P}});var o=e(91540),B=e(71221),x=e(74696),O=e(96182),S=e(51997),p=e(45029),E=e(56742),R=e(15122),w=e(78836),m=e(47923),g=e(83133),a=e(11724),r=e(4694),i=e(91895),n=e(70546),c=e(34244),u=e(22185),l=e(31079),D=e(27226),f=e(64451),y=e(61652),C=e(11796),_=e(80568),N=e(87058),b=e(80731),k=e(86773),V=e(14716),K=function(G,j,Y,H){var Q=arguments.length,ie=Q<3?j:H===null?H=Object.getOwnPropertyDescriptor(j,Y):H,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ie=Reflect.decorate(G,j,Y,H);else for(var se=G.length-1;se>=0;se--)(te=G[se])&&(ie=(Q<3?te(ie):Q>3?te(j,Y,ie):te(j,Y))||ie);return Q>3&&ie&&Object.defineProperty(j,Y,ie),ie},Z=function(G,j){return function(Y,H){j(Y,H,G)}},z;const A="editor.changePasteType",P=new _.uy("pasteWidgetVisible",!1,(0,y.NC)("pasteWidgetVisible","Whether the paste widget is showing")),I="application/vnd.code.copyMetadata";let W=z=class extends p.JT{static get(j){return j.getContribution(z.ID)}constructor(j,Y,H,Q,ie,te,se){super(),this._bulkEditService=H,this._clipboardService=Q,this._languageFeaturesService=ie,this._quickInputService=te,this._progressService=se,this._editor=j;const ne=j.getContainerDomNode();this._register((0,o.nm)(ne,"copy",ee=>this.handleCopy(ee))),this._register((0,o.nm)(ne,"cut",ee=>this.handleCopy(ee))),this._register((0,o.nm)(ne,"paste",ee=>this.handlePaste(ee),!0)),this._pasteProgressManager=this._register(new D.r("pasteIntoEditor",j,Y)),this._postPasteWidgetManager=this._register(Y.createInstance(V.p,"pasteIntoEditor",j,P,{id:A,label:(0,y.NC)("postPasteWidgetTitle","Show paste options...")}))}changePasteType(){this._postPasteWidgetManager.tryShowSelector()}pasteAs(j){this._editor.focus();try{this._pasteAsActionContext={preferred:j},(0,o.uP)().execCommand("paste")}finally{this._pasteAsActionContext=void 0}}clearWidgets(){this._postPasteWidgetManager.clear()}isPasteAsEnabled(){return this._editor.getOption(85).enabled&&!this._editor.getOption(91)}finishedPaste(){return Ft(this,null,function*(){yield this._currentPasteOperation})}handleCopy(j){var Y,H;if(!this._editor.hasTextFocus()||(R.$L&&this._clipboardService.writeResources([]),!j.clipboardData||!this.isPasteAsEnabled()))return;const Q=this._editor.getModel(),ie=this._editor.getSelections();if(!Q||!(ie!=null&&ie.length))return;const te=this._editor.getOption(37);let se=ie;const ne=ie.length===1&&ie[0].isEmpty();if(ne){if(!te)return;se=[new r.e(se[0].startLineNumber,1,se[0].startLineNumber,1+Q.getLineLength(se[0].startLineNumber))]}const ee=(Y=this._editor._getViewModel())===null||Y===void 0?void 0:Y.getPlainTextToCopy(ie,te,R.ED),he={multicursorText:Array.isArray(ee)?ee:null,pasteOnNewLine:ne,mode:null},M=this._languageFeaturesService.documentPasteEditProvider.ordered(Q).filter(ve=>!!ve.prepareDocumentPaste);if(!M.length){this.setCopyMetadata(j.clipboardData,{defaultPastePayload:he});return}const we=(0,g.B)(j.clipboardData),We=M.flatMap(ve=>{var Ee;return(Ee=ve.copyMimeTypes)!==null&&Ee!==void 0?Ee:[]}),ye=(0,w.R)();this.setCopyMetadata(j.clipboardData,{id:ye,providerCopyMimeTypes:We,defaultPastePayload:he});const X=(0,x.PG)(ve=>Ft(this,null,function*(){const Ee=(0,B.kX)(yield Promise.all(M.map(Oe=>Ft(this,null,function*(){try{return yield Oe.prepareDocumentPaste(Q,se,we,ve)}catch(Ke){console.error(Ke);return}}))));Ee.reverse();for(const Oe of Ee)for(const[Ke,Qe]of Oe)we.replace(Ke,Qe);return we}));(H=z._currentCopyOperation)===null||H===void 0||H.dataTransferPromise.cancel(),z._currentCopyOperation={handle:ye,dataTransferPromise:X}}handlePaste(j){return Ft(this,null,function*(){var Y,H,Q,ie;if(!j.clipboardData||!this._editor.hasTextFocus())return;(Y=f.O.get(this._editor))===null||Y===void 0||Y.closeMessage(),(H=this._currentPasteOperation)===null||H===void 0||H.cancel(),this._currentPasteOperation=void 0;const te=this._editor.getModel(),se=this._editor.getSelections();if(!(se!=null&&se.length)||!te||!this.isPasteAsEnabled()&&!this._pasteAsActionContext)return;const ne=this.fetchCopyMetadata(j),ee=(0,g.L)(j.clipboardData);ee.delete(I);const re=[...j.clipboardData.types,...(Q=ne==null?void 0:ne.providerCopyMimeTypes)!==null&&Q!==void 0?Q:[],E.v.uriList],he=this._languageFeaturesService.documentPasteEditProvider.ordered(te).filter(M=>{var we,We;const ye=(we=this._pasteAsActionContext)===null||we===void 0?void 0:we.preferred;return ye&&M.providedPasteEditKinds&&!this.providerMatchesPreference(M,ye)?!1:(We=M.pasteMimeTypes)===null||We===void 0?void 0:We.some(X=>(0,O.SN)(X,re))});if(!he.length){!((ie=this._pasteAsActionContext)===null||ie===void 0)&&ie.preferred&&this.showPasteAsNoEditMessage(se,this._pasteAsActionContext.preferred);return}j.preventDefault(),j.stopImmediatePropagation(),this._pasteAsActionContext?this.showPasteAsPick(this._pasteAsActionContext.preferred,he,se,ee,ne):this.doPasteInline(he,se,ee,ne,j)})}showPasteAsNoEditMessage(j,Y){var H;(H=f.O.get(this._editor))===null||H===void 0||H.showMessage((0,y.NC)("pasteAsError","No paste edits for '{0}' found",Y instanceof S.o?Y.value:Y.providerId),j[0].getStartPosition())}doPasteInline(j,Y,H,Q,ie){const te=(0,x.PG)(se=>Ft(this,null,function*(){const ne=this._editor;if(!ne.hasModel())return;const ee=ne.getModel(),re=new l.Dl(ne,3,void 0,se);try{if(yield this.mergeInDataFromCopy(H,Q,re.token),re.token.isCancellationRequested)return;const he=j.filter(We=>this.isSupportedPasteProvider(We,H));if(!he.length||he.length===1&&he[0]instanceof c.f8)return this.applyDefaultPasteHandler(H,Q,re.token,ie);const M={triggerKind:i.Nq.Automatic},we=yield this.getPasteEdits(he,H,ee,Y,M,re.token);if(re.token.isCancellationRequested)return;if(we.length===1&&we[0].provider instanceof c.f8)return this.applyDefaultPasteHandler(H,Q,re.token,ie);if(we.length){const We=ne.getOption(85).showPasteSelector==="afterPaste";return this._postPasteWidgetManager.applyEditAndShowIfNeeded(Y,{activeEditIndex:0,allEdits:we},We,(ye,X)=>Ft(this,null,function*(){var ve,Ee;const Oe=yield(Ee=(ve=ye.provider).resolveDocumentPasteEdit)===null||Ee===void 0?void 0:Ee.call(ve,ye,X);return Oe&&(ye.additionalEdit=Oe.additionalEdit),ye}),re.token)}yield this.applyDefaultPasteHandler(H,Q,re.token,ie)}finally{re.dispose(),this._currentPasteOperation===te&&(this._currentPasteOperation=void 0)}}));this._pasteProgressManager.showWhile(Y[0].getEndPosition(),(0,y.NC)("pasteIntoEditorProgress","Running paste handlers. Click to cancel"),te),this._currentPasteOperation=te}showPasteAsPick(j,Y,H,Q,ie){const te=(0,x.PG)(se=>Ft(this,null,function*(){const ne=this._editor;if(!ne.hasModel())return;const ee=ne.getModel(),re=new l.Dl(ne,3,void 0,se);try{if(yield this.mergeInDataFromCopy(Q,ie,re.token),re.token.isCancellationRequested)return;let he=Y.filter(X=>this.isSupportedPasteProvider(X,Q,j));j&&(he=he.filter(X=>this.providerMatchesPreference(X,j)));const M={triggerKind:i.Nq.PasteAs,only:j&&j instanceof S.o?j:void 0};let we=yield this.getPasteEdits(he,Q,ee,H,M,re.token);if(re.token.isCancellationRequested)return;if(j&&(we=we.filter(X=>j instanceof S.o?j.contains(X.kind):j.providerId===X.provider.id)),!we.length){M.only&&this.showPasteAsNoEditMessage(H,M.only);return}let We;if(j)We=we.at(0);else{const X=yield this._quickInputService.pick(we.map(ve=>{var Ee;return{label:ve.title,description:(Ee=ve.kind)===null||Ee===void 0?void 0:Ee.value,edit:ve}}),{placeHolder:(0,y.NC)("pasteAsPickerPlaceholder","Select Paste Action")});We=X==null?void 0:X.edit}if(!We)return;const ye=(0,u.n)(ee.uri,H,We);yield this._bulkEditService.apply(ye,{editor:this._editor})}finally{re.dispose(),this._currentPasteOperation===te&&(this._currentPasteOperation=void 0)}}));this._progressService.withProgress({location:10,title:(0,y.NC)("pasteAsProgress","Running paste handlers")},()=>te)}setCopyMetadata(j,Y){j.setData(I,JSON.stringify(Y))}fetchCopyMetadata(j){var Y;if(!j.clipboardData)return;const H=j.clipboardData.getData(I);if(H)try{return JSON.parse(H)}catch(te){return}const[Q,ie]=m.b6.getTextData(j.clipboardData);if(ie)return{defaultPastePayload:{mode:ie.mode,multicursorText:(Y=ie.multicursorText)!==null&&Y!==void 0?Y:null,pasteOnNewLine:!!ie.isFromEmptySelection}}}mergeInDataFromCopy(j,Y,H){return Ft(this,null,function*(){var Q;if(Y!=null&&Y.id&&((Q=z._currentCopyOperation)===null||Q===void 0?void 0:Q.handle)===Y.id){const ie=yield z._currentCopyOperation.dataTransferPromise;if(H.isCancellationRequested)return;for(const[te,se]of ie)j.replace(te,se)}if(!j.has(E.v.uriList)){const ie=yield this._clipboardService.readResources();if(H.isCancellationRequested)return;ie.length&&j.append(E.v.uriList,(0,O.ZO)(O.Z0.create(ie)))}})}getPasteEdits(j,Y,H,Q,ie,te){return Ft(this,null,function*(){const se=yield(0,x.eP)(Promise.all(j.map(ee=>Ft(this,null,function*(){var re,he;try{const M=yield(re=ee.provideDocumentPasteEdits)===null||re===void 0?void 0:re.call(ee,H,Q,Y,ie,te);return(he=M==null?void 0:M.edits)===null||he===void 0?void 0:he.map(we=>Ki(vi({},we),{provider:ee}))}catch(M){console.error(M)}}))),te),ne=(0,B.kX)(se!=null?se:[]).flat().filter(ee=>!ie.only||ie.only.contains(ee.kind));return(0,u.C)(ne)})}applyDefaultPasteHandler(j,Y,H,Q){return Ft(this,null,function*(){var ie,te,se,ne;const ee=(ie=j.get(E.v.text))!==null&&ie!==void 0?ie:j.get("text"),re=(te=yield ee==null?void 0:ee.asString())!==null&&te!==void 0?te:"";if(H.isCancellationRequested)return;const he={clipboardEvent:Q,text:re,pasteOnNewLine:(se=Y==null?void 0:Y.defaultPastePayload.pasteOnNewLine)!==null&&se!==void 0?se:!1,multicursorText:(ne=Y==null?void 0:Y.defaultPastePayload.multicursorText)!==null&&ne!==void 0?ne:null,mode:null};this._editor.trigger("keyboard","paste",he)})}isSupportedPasteProvider(j,Y,H){var Q;return!((Q=j.pasteMimeTypes)===null||Q===void 0)&&Q.some(ie=>Y.matches(ie))?!H||this.providerMatchesPreference(j,H):!1}providerMatchesPreference(j,Y){return Y instanceof S.o?j.providedPasteEditKinds?j.providedPasteEditKinds.some(H=>Y.contains(H)):!0:j.id===Y.providerId}};W.ID="editor.contrib.copyPasteActionController",W=z=K([Z(1,N.TG),Z(2,a.vu),Z(3,C.p),Z(4,n.p),Z(5,k.eJ),Z(6,b.R9)],W)},34244:function(et,Le,e){"use strict";e.d(Le,{P4:function(){return y},f8:function(){return c},vJ:function(){return C}});var o=e(71221),B=e(96182),x=e(51997),O=e(45029),S=e(56742),p=e(91649),E=e(2644),R=e(10058),w=e(91895),m=e(70546),g=e(61652),a=e(48983),r=function(_,N,b,k){var V=arguments.length,K=V<3?N:k===null?k=Object.getOwnPropertyDescriptor(N,b):k,Z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")K=Reflect.decorate(_,N,b,k);else for(var z=_.length-1;z>=0;z--)(Z=_[z])&&(K=(V<3?Z(K):V>3?Z(N,b,K):Z(N,b))||K);return V>3&&K&&Object.defineProperty(N,b,K),K},i=function(_,N){return function(b,k){N(b,k,_)}};class n{provideDocumentPasteEdits(N,b,k,V,K){return Ft(this,null,function*(){const Z=yield this.getEdit(k,K);if(Z)return{dispose(){},edits:[{insertText:Z.insertText,title:Z.title,kind:Z.kind,handledMimeType:Z.handledMimeType,yieldTo:Z.yieldTo}]}})}provideDocumentDropEdits(N,b,k,V){return Ft(this,null,function*(){const K=yield this.getEdit(k,V);return K?[{insertText:K.insertText,title:K.title,kind:K.kind,handledMimeType:K.handledMimeType,yieldTo:K.yieldTo}]:void 0})}}class c extends n{constructor(){super(...arguments),this.kind=c.kind,this.dropMimeTypes=[S.v.text],this.pasteMimeTypes=[S.v.text]}getEdit(N,b){return Ft(this,null,function*(){const k=N.get(S.v.text);if(!k||N.has(S.v.uriList))return;const V=yield k.asString();return{handledMimeType:S.v.text,title:(0,g.NC)("text.label","Insert Plain Text"),insertText:V,kind:this.kind}})}}c.id="text",c.kind=new x.o("text.plain");class u extends n{constructor(){super(...arguments),this.kind=new x.o("uri.absolute"),this.dropMimeTypes=[S.v.uriList],this.pasteMimeTypes=[S.v.uriList]}getEdit(N,b){return Ft(this,null,function*(){const k=yield f(N);if(!k.length||b.isCancellationRequested)return;let V=0;const K=k.map(({uri:z,originalText:A})=>z.scheme===p.lg.file?z.fsPath:(V++,A)).join(" ");let Z;return V>0?Z=k.length>1?(0,g.NC)("defaultDropProvider.uriList.uris","Insert Uris"):(0,g.NC)("defaultDropProvider.uriList.uri","Insert Uri"):Z=k.length>1?(0,g.NC)("defaultDropProvider.uriList.paths","Insert Paths"):(0,g.NC)("defaultDropProvider.uriList.path","Insert Path"),{handledMimeType:S.v.uriList,insertText:K,title:Z,kind:this.kind}})}}let l=class extends n{constructor(N){super(),this._workspaceContextService=N,this.kind=new x.o("uri.relative"),this.dropMimeTypes=[S.v.uriList],this.pasteMimeTypes=[S.v.uriList]}getEdit(N,b){return Ft(this,null,function*(){const k=yield f(N);if(!k.length||b.isCancellationRequested)return;const V=(0,o.kX)(k.map(({uri:K})=>{const Z=this._workspaceContextService.getWorkspaceFolder(K);return Z?(0,E.lX)(Z.uri,K):void 0}));if(V.length)return{handledMimeType:S.v.uriList,insertText:V.join(" "),title:k.length>1?(0,g.NC)("defaultDropProvider.uriList.relativePaths","Insert Relative Paths"):(0,g.NC)("defaultDropProvider.uriList.relativePath","Insert Relative Path"),kind:this.kind}})}};l=r([i(0,a.ec)],l);class D{constructor(){this.kind=new x.o("html"),this.pasteMimeTypes=["text/html"],this._yieldTo=[{mimeType:S.v.text}]}provideDocumentPasteEdits(N,b,k,V,K){return Ft(this,null,function*(){var Z;if(V.triggerKind!==w.Nq.PasteAs&&!(!((Z=V.only)===null||Z===void 0)&&Z.contains(this.kind)))return;const z=k.get("text/html"),A=yield z==null?void 0:z.asString();if(!(!A||K.isCancellationRequested))return{dispose(){},edits:[{insertText:A,yieldTo:this._yieldTo,title:(0,g.NC)("pasteHtmlLabel","Insert HTML"),kind:this.kind}]}})}}function f(_){return Ft(this,null,function*(){const N=_.get(S.v.uriList);if(!N)return[];const b=yield N.asString(),k=[];for(const V of B.Z0.parse(b))try{k.push({uri:R.o.parse(V),originalText:V})}catch(K){}return k})}let y=class extends O.JT{constructor(N,b){super(),this._register(N.documentDropEditProvider.register("*",new c)),this._register(N.documentDropEditProvider.register("*",new u)),this._register(N.documentDropEditProvider.register("*",new l(b)))}};y=r([i(0,m.p),i(1,a.ec)],y);let C=class extends O.JT{constructor(N,b){super(),this._register(N.documentPasteEditProvider.register("*",new c)),this._register(N.documentPasteEditProvider.register("*",new u)),this._register(N.documentPasteEditProvider.register("*",new l(b))),this._register(N.documentPasteEditProvider.register("*",new D))}};C=r([i(0,m.p),i(1,a.ec)],C)},27528:function(et,Le,e){"use strict";var o=e(92635),B=e(57587),x=e(52709),O=e(34244),S=e(61652),p=e(18567),E=e(2816),R=e(71221),w=e(74696),m=e(96182),g=e(51997),a=e(45029),r=e(83133),i=e(4694),n=e(70546);class c{constructor(){this._dragOperations=new Map}removeDragOperationTransfer(j){if(j&&this._dragOperations.has(j)){const Y=this._dragOperations.get(j);return this._dragOperations.delete(j),Y}}}class u{constructor(j){this.identifier=j}}var l=e(98352),D=e(87058);const f=(0,D.yh)("treeViewsDndService");(0,l.z)(f,c,1);var y=e(31079),C=e(27226),_=e(48774),N=e(80568),b=e(63805),k=e(22185),V=e(14716),K=function(G,j,Y,H){var Q=arguments.length,ie=Q<3?j:H===null?H=Object.getOwnPropertyDescriptor(j,Y):H,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ie=Reflect.decorate(G,j,Y,H);else for(var se=G.length-1;se>=0;se--)(te=G[se])&&(ie=(Q<3?te(ie):Q>3?te(j,Y,ie):te(j,Y))||ie);return Q>3&&ie&&Object.defineProperty(j,Y,ie),ie},Z=function(G,j){return function(Y,H){j(Y,H,G)}},z;const A="editor.experimental.dropIntoEditor.defaultProvider",P="editor.changeDropType",I=new N.uy("dropWidgetVisible",!1,(0,S.NC)("dropWidgetVisible","Whether the drop widget is showing"));let W=z=class extends a.JT{static get(j){return j.getContribution(z.ID)}constructor(j,Y,H,Q,ie){super(),this._configService=H,this._languageFeaturesService=Q,this._treeViewsDragAndDropService=ie,this.treeItemsTransfer=b.Ej.getInstance(),this._dropProgressManager=this._register(Y.createInstance(C.r,"dropIntoEditor",j)),this._postDropWidgetManager=this._register(Y.createInstance(V.p,"dropIntoEditor",j,I,{id:P,label:(0,S.NC)("postDropWidgetTitle","Show drop options...")})),this._register(j.onDropIntoEditor(te=>this.onDropIntoEditor(j,te.position,te.event)))}clearWidgets(){this._postDropWidgetManager.clear()}changeDropType(){this._postDropWidgetManager.tryShowSelector()}onDropIntoEditor(j,Y,H){return Ft(this,null,function*(){var Q;if(!H.dataTransfer||!j.hasModel())return;(Q=this._currentOperation)===null||Q===void 0||Q.cancel(),j.focus(),j.setPosition(Y);const ie=(0,w.PG)(te=>Ft(this,null,function*(){const se=new y.Dl(j,1,void 0,te);try{const ne=yield this.extractDataTransferData(H);if(ne.size===0||se.token.isCancellationRequested)return;const ee=j.getModel();if(!ee)return;const re=this._languageFeaturesService.documentDropEditProvider.ordered(ee).filter(M=>M.dropMimeTypes?M.dropMimeTypes.some(we=>ne.matches(we)):!0),he=yield this.getDropEdits(re,ee,Y,ne,se);if(se.token.isCancellationRequested)return;if(he.length){const M=this.getInitialActiveEditIndex(ee,he),we=j.getOption(36).showDropSelector==="afterDrop";yield this._postDropWidgetManager.applyEditAndShowIfNeeded([i.e.fromPositions(Y)],{activeEditIndex:M,allEdits:he},we,We=>Ft(this,null,function*(){return We}),te)}}finally{se.dispose(),this._currentOperation===ie&&(this._currentOperation=void 0)}}));this._dropProgressManager.showWhile(Y,(0,S.NC)("dropIntoEditorProgress","Running drop handlers. Click to cancel"),ie),this._currentOperation=ie})}getDropEdits(j,Y,H,Q,ie){return Ft(this,null,function*(){const te=yield(0,w.eP)(Promise.all(j.map(ne=>Ft(this,null,function*(){try{const ee=yield ne.provideDocumentDropEdits(Y,H,Q,ie.token);return ee==null?void 0:ee.map(re=>Ki(vi({},re),{providerId:ne.id}))}catch(ee){console.error(ee)}}))),ie.token),se=(0,R.kX)(te!=null?te:[]).flat();return(0,k.C)(se)})}getInitialActiveEditIndex(j,Y){const H=this._configService.getValue(A,{resource:j.uri});for(const[Q,ie]of Object.entries(H)){const te=new g.o(ie),se=Y.findIndex(ne=>te.value===ne.providerId&&ne.handledMimeType&&(0,m.SN)(Q,[ne.handledMimeType]));if(se>=0)return se}return 0}extractDataTransferData(j){return Ft(this,null,function*(){if(!j.dataTransfer)return new m.Hl;const Y=(0,r.L)(j.dataTransfer);if(this.treeItemsTransfer.hasData(u.prototype)){const H=this.treeItemsTransfer.getData(u.prototype);if(Array.isArray(H))for(const Q of H){const ie=yield this._treeViewsDragAndDropService.removeDragOperationTransfer(Q.identifier);if(ie)for(const[te,se]of ie)Y.replace(te,se)}}return Y})}};W.ID="editor.contrib.dropIntoEditorController",W=z=K([Z(1,D.TG),Z(2,_.Ui),Z(3,n.p),Z(4,f)],W),(0,o._K)(W.ID,W,2),(0,x.y)(O.P4),(0,o.fK)(new class extends o._l{constructor(){super({id:P,precondition:I,kbOpts:{weight:100,primary:2137}})}runEditorCommand(G,j,Y){var H;(H=W.get(j))===null||H===void 0||H.changeDropType()}}),(0,o.fK)(new class extends o._l{constructor(){super({id:"editor.hideDropWidget",precondition:I,kbOpts:{weight:100,primary:9}})}runEditorCommand(G,j,Y){var H;(H=W.get(j))===null||H===void 0||H.clearWidgets()}}),E.B.as(p.IP.Configuration).registerConfiguration(Ki(vi({},B.wk),{properties:{[A]:{type:"object",scope:5,description:S.NC("defaultProviderDescription","Configures the default drop provider to use for content of a given mime type."),default:{},additionalProperties:{type:"string"}}}}))},22185:function(et,Le,e){"use strict";e.d(Le,{C:function(){return O},n:function(){return x}});var o=e(11724),B=e(97022);function x(S,p,E){var R,w,m,g;return(typeof E.insertText=="string"?E.insertText==="":E.insertText.snippet==="")?{edits:(w=(R=E.additionalEdit)===null||R===void 0?void 0:R.edits)!==null&&w!==void 0?w:[]}:{edits:[...p.map(a=>new o.Gl(S,{range:a,text:typeof E.insertText=="string"?B.Yj.escape(E.insertText)+"$0":E.insertText.snippet,insertAsSnippet:!0})),...(g=(m=E.additionalEdit)===null||m===void 0?void 0:m.edits)!==null&&g!==void 0?g:[]]}}function O(S){var p;function E(a,r){return"mimeType"in a?a.mimeType===r.handledMimeType:!!r.kind&&a.kind.contains(r.kind)}const R=new Map;for(const a of S)for(const r of(p=a.yieldTo)!==null&&p!==void 0?p:[])for(const i of S)if(i!==a&&E(r,i)){let n=R.get(a);n||(n=[],R.set(a,n)),n.push(i)}if(!R.size)return Array.from(S);const w=new Set,m=[];function g(a){if(!a.length)return[];const r=a[0];if(m.includes(r))return console.warn("Yield to cycle detected",r),a;if(w.has(r))return g(a.slice(1));let i=[];const n=R.get(r);return n&&(m.push(r),i=g(n),m.pop()),w.add(r),[...i,r,...g(a.slice(1))]}return g(Array.from(S))}},14716:function(et,Le,e){"use strict";e.d(Le,{p:function(){return c}});var o=e(91540),B=e(89527),x=e(43263),O=e(79329),S=e(45029),p=e(11724),E=e(22185),R=e(80568),w=e(31949),m=e(87058),g=e(66070),a=function(u,l,D,f){var y=arguments.length,C=y<3?l:f===null?f=Object.getOwnPropertyDescriptor(l,D):f,_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(u,l,D,f);else for(var N=u.length-1;N>=0;N--)(_=u[N])&&(C=(y<3?_(C):y>3?_(l,D,C):_(l,D))||C);return y>3&&C&&Object.defineProperty(l,D,C),C},r=function(u,l){return function(D,f){l(D,f,u)}},i;let n=i=class extends S.JT{constructor(l,D,f,y,C,_,N,b,k,V){super(),this.typeId=l,this.editor=D,this.showCommand=y,this.range=C,this.edits=_,this.onSelectNewEdit=N,this._contextMenuService=b,this._keybindingService=V,this.allowEditorOverflow=!0,this.suppressMouseDown=!0,this.create(),this.visibleContext=f.bindTo(k),this.visibleContext.set(!0),this._register((0,S.OF)(()=>this.visibleContext.reset())),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this),this._register((0,S.OF)(()=>this.editor.removeContentWidget(this))),this._register(this.editor.onDidChangeCursorPosition(K=>{C.containsPosition(K.position)||this.dispose()})),this._register(O.ju.runAndSubscribe(V.onDidUpdateKeybindings,()=>{this._updateButtonTitle()}))}_updateButtonTitle(){var l;const D=(l=this._keybindingService.lookupKeybinding(this.showCommand.id))===null||l===void 0?void 0:l.getLabel();this.button.element.title=this.showCommand.label+(D?` (${D})`:"")}create(){this.domNode=o.$(".post-edit-widget"),this.button=this._register(new B.z(this.domNode,{supportIcons:!0})),this.button.label="$(insert)",this._register(o.nm(this.domNode,o.tw.CLICK,()=>this.showSelector()))}getId(){return i.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:this.range.getEndPosition(),preference:[2]}}showSelector(){this._contextMenuService.showContextMenu({getAnchor:()=>{const l=o.i(this.button.element);return{x:l.left+l.width,y:l.top+l.height}},getActions:()=>this.edits.allEdits.map((l,D)=>(0,x.xw)({id:"",label:l.title,checked:D===this.edits.activeEditIndex,run:()=>{if(D!==this.edits.activeEditIndex)return this.onSelectNewEdit(D)}}))})}};n.baseId="editor.widget.postEditWidget",n=i=a([r(7,w.i),r(8,R.i6),r(9,g.d)],n);let c=class extends S.JT{constructor(l,D,f,y,C,_){super(),this._id=l,this._editor=D,this._visibleContext=f,this._showCommand=y,this._instantiationService=C,this._bulkEditService=_,this._currentWidget=this._register(new S.XK),this._register(O.ju.any(D.onDidChangeModel,D.onDidChangeModelContent)(()=>this.clear()))}applyEditAndShowIfNeeded(l,D,f,y,C){return Ft(this,null,function*(){const _=this._editor.getModel();if(!_||!l.length)return;const N=D.allEdits.at(D.activeEditIndex);if(!N)return;const b=yield y(N,C);if(C.isCancellationRequested)return;const k=(0,E.n)(_.uri,l,b),V=l[0],K=_.deltaDecorations([],[{range:V,options:{description:"paste-line-suffix",stickiness:0}}]);this._editor.focus();let Z,z;try{Z=yield this._bulkEditService.apply(k,{editor:this._editor,token:C}),z=_.getDecorationRange(K[0])}finally{_.deltaDecorations(K,[])}C.isCancellationRequested||f&&Z.isApplied&&D.allEdits.length>1&&this.show(z!=null?z:V,D,A=>Ft(this,null,function*(){const P=this._editor.getModel();P&&(yield P.undo(),this.applyEditAndShowIfNeeded(l,{activeEditIndex:A,allEdits:D.allEdits},f,y,C))}))})}show(l,D,f){this.clear(),this._editor.hasModel()&&(this._currentWidget.value=this._instantiationService.createInstance(n,this._id,this._editor,this._visibleContext,this._showCommand,l,D,f))}clear(){this._currentWidget.clear()}tryShowSelector(){var l;(l=this._currentWidget.value)===null||l===void 0||l.showSelector()}};c=a([r(4,m.TG),r(5,p.vu)],c)},31079:function(et,Le,e){"use strict";e.d(Le,{yy:function(){return i},Dl:function(){return n},YQ:function(){return c}});var o=e(30144),B=e(4694),x=e(65642),O=e(45029),S=e(92635),p=e(80568),E=e(50138),R=e(87058),w=e(98352),m=e(61652);const g=(0,R.yh)("IEditorCancelService"),a=new p.uy("cancellableOperation",!1,(0,m.NC)("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));(0,w.z)(g,class{constructor(){this._tokens=new WeakMap}add(u,l){let D=this._tokens.get(u);D||(D=u.invokeWithinContext(y=>{const C=a.bindTo(y.get(p.i6)),_=new E.S;return{key:C,tokens:_}}),this._tokens.set(u,D));let f;return D.key.set(!0),f=D.tokens.push(l),()=>{f&&(f(),D.key.set(!D.tokens.isEmpty()),f=void 0)}}cancel(u){const l=this._tokens.get(u);if(!l)return;const D=l.tokens.pop();D&&(D.cancel(),l.key.set(!l.tokens.isEmpty()))}},1);class r extends x.AU{constructor(l,D){super(D),this.editor=l,this._unregister=l.invokeWithinContext(f=>f.get(g).add(l,this))}dispose(){this._unregister(),super.dispose()}}(0,S.fK)(new class extends S._l{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:a})}runEditorCommand(u,l){u.get(g).cancel(l)}});class i{constructor(l,D){if(this.flags=D,this.flags&1){const f=l.getModel();this.modelVersionId=f?o.WU("{0}#{1}",f.uri.toString(),f.getVersionId()):null}else this.modelVersionId=null;this.flags&4?this.position=l.getPosition():this.position=null,this.flags&2?this.selection=l.getSelection():this.selection=null,this.flags&8?(this.scrollLeft=l.getScrollLeft(),this.scrollTop=l.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(l){if(!(l instanceof i))return!1;const D=l;return!(this.modelVersionId!==D.modelVersionId||this.scrollLeft!==D.scrollLeft||this.scrollTop!==D.scrollTop||!this.position&&D.position||this.position&&!D.position||this.position&&D.position&&!this.position.equals(D.position)||!this.selection&&D.selection||this.selection&&!D.selection||this.selection&&D.selection&&!this.selection.equalsRange(D.selection))}validate(l){return this._equals(new i(l,this.flags))}}class n extends r{constructor(l,D,f,y){super(l,y),this._listener=new O.SL,D&4&&this._listener.add(l.onDidChangeCursorPosition(C=>{(!f||!B.e.containsPosition(f,C.position))&&this.cancel()})),D&2&&this._listener.add(l.onDidChangeCursorSelection(C=>{(!f||!B.e.containsRange(f,C.selection))&&this.cancel()})),D&8&&this._listener.add(l.onDidScrollChange(C=>this.cancel())),D&1&&(this._listener.add(l.onDidChangeModel(C=>this.cancel())),this._listener.add(l.onDidChangeModelContent(C=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}class c extends x.AU{constructor(l,D){super(D),this._listener=l.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}},62032:function(et,Le,e){"use strict";e.d(Le,{pR:function(){return $e}});var o=e(74696),B=e(45029),x=e(30144),O=e(92635),S=e(44444),p=e(22706),E=e(57204),R=e(15864),w=e(43921),m=e(93895),g=e(4694),a=e(14149),r=e(57612),i=e(93059),n=e(97341),c=e(63279);class u{constructor(ke){this._editor=ke,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const ke=this._findScopeDecorationIds.map(lt=>this._editor.getModel().getDecorationRange(lt)).filter(lt=>!!lt);if(ke.length)return ke}return null}getStartPosition(){return this._startPosition}setStartPosition(ke){this._startPosition=ke,this.setCurrentFindMatch(null)}_getDecorationIndex(ke){const lt=this._decorations.indexOf(ke);return lt>=0?lt+1:1}getDecorationRangeAt(ke){const lt=ke<this._decorations.length?this._decorations[ke]:null;return lt?this._editor.getModel().getDecorationRange(lt):null}getCurrentMatchesPosition(ke){const lt=this._editor.getModel().getDecorationsInRange(ke);for(const mt of lt){const Ve=mt.options;if(Ve===u._FIND_MATCH_DECORATION||Ve===u._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(mt.id)}return 0}setCurrentFindMatch(ke){let lt=null,mt=0;if(ke)for(let Ve=0,Tt=this._decorations.length;Ve<Tt;Ve++){const At=this._editor.getModel().getDecorationRange(this._decorations[Ve]);if(ke.equalsRange(At)){lt=this._decorations[Ve],mt=Ve+1;break}}return(this._highlightedDecorationId!==null||lt!==null)&&this._editor.changeDecorations(Ve=>{if(this._highlightedDecorationId!==null&&(Ve.changeDecorationOptions(this._highlightedDecorationId,u._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),lt!==null&&(this._highlightedDecorationId=lt,Ve.changeDecorationOptions(this._highlightedDecorationId,u._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(Ve.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),lt!==null){let Tt=this._editor.getModel().getDecorationRange(lt);if(Tt.startLineNumber!==Tt.endLineNumber&&Tt.endColumn===1){const At=Tt.endLineNumber-1,Qt=this._editor.getModel().getLineMaxColumn(At);Tt=new g.e(Tt.startLineNumber,Tt.startColumn,At,Qt)}this._rangeHighlightDecorationId=Ve.addDecoration(Tt,u._RANGE_HIGHLIGHT_DECORATION)}}),mt}set(ke,lt){this._editor.changeDecorations(mt=>{let Ve=u._FIND_MATCH_DECORATION;const Tt=[];if(ke.length>1e3){Ve=u._FIND_MATCH_NO_OVERVIEW_DECORATION;const Qt=this._editor.getModel().getLineCount(),Ci=this._editor.getLayoutInfo().height/Qt,Oi=Math.max(2,Math.ceil(3/Ci));let Ii=ke[0].range.startLineNumber,Qi=ke[0].range.endLineNumber;for(let Wi=1,Jt=ke.length;Wi<Jt;Wi++){const Ne=ke[Wi].range;Qi+Oi>=Ne.startLineNumber?Ne.endLineNumber>Qi&&(Qi=Ne.endLineNumber):(Tt.push({range:new g.e(Ii,1,Qi,1),options:u._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),Ii=Ne.startLineNumber,Qi=Ne.endLineNumber)}Tt.push({range:new g.e(Ii,1,Qi,1),options:u._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}const At=new Array(ke.length);for(let Qt=0,mi=ke.length;Qt<mi;Qt++)At[Qt]={range:ke[Qt].range,options:Ve};this._decorations=mt.deltaDecorations(this._decorations,At),this._overviewRulerApproximateDecorations=mt.deltaDecorations(this._overviewRulerApproximateDecorations,Tt),this._rangeHighlightDecorationId&&(mt.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(Qt=>mt.removeDecoration(Qt)),this._findScopeDecorationIds=[]),lt!=null&&lt.length&&(this._findScopeDecorationIds=lt.map(Qt=>mt.addDecoration(Qt,u._FIND_SCOPE_DECORATION)))})}matchBeforePosition(ke){if(this._decorations.length===0)return null;for(let lt=this._decorations.length-1;lt>=0;lt--){const mt=this._decorations[lt],Ve=this._editor.getModel().getDecorationRange(mt);if(!(!Ve||Ve.endLineNumber>ke.lineNumber)){if(Ve.endLineNumber<ke.lineNumber)return Ve;if(!(Ve.endColumn>ke.column))return Ve}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(ke){if(this._decorations.length===0)return null;for(let lt=0,mt=this._decorations.length;lt<mt;lt++){const Ve=this._decorations[lt],Tt=this._editor.getModel().getDecorationRange(Ve);if(!(!Tt||Tt.startLineNumber<ke.lineNumber)){if(Tt.startLineNumber>ke.lineNumber)return Tt;if(!(Tt.startColumn<ke.column))return Tt}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let ke=[];return ke=ke.concat(this._decorations),ke=ke.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&ke.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&ke.push(this._rangeHighlightDecorationId),ke}}u._CURRENT_FIND_MATCH_DECORATION=i.qx.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,c.EN)(n.Fm_),position:E.sh.Center},minimap:{color:(0,c.EN)(n.SUY),position:1}}),u._FIND_MATCH_DECORATION=i.qx.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,c.EN)(n.Fm_),position:E.sh.Center},minimap:{color:(0,c.EN)(n.SUY),position:1}}),u._FIND_MATCH_NO_OVERVIEW_DECORATION=i.qx.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),u._FIND_MATCH_ONLY_OVERVIEW_DECORATION=i.qx.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,c.EN)(n.Fm_),position:E.sh.Center}}),u._RANGE_HIGHLIGHT_DECORATION=i.qx.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),u._FIND_SCOPE_DECORATION=i.qx.register({description:"find-scope",className:"findScope",isWholeLine:!0});class l{constructor(ke,lt,mt){this._editorSelection=ke,this._ranges=lt,this._replaceStrings=mt,this._trackedEditorSelectionId=null}getEditOperations(ke,lt){if(this._ranges.length>0){const mt=[];for(let At=0;At<this._ranges.length;At++)mt.push({range:this._ranges[At],text:this._replaceStrings[At]});mt.sort((At,Qt)=>g.e.compareRangesUsingStarts(At.range,Qt.range));const Ve=[];let Tt=mt[0];for(let At=1;At<mt.length;At++)Tt.range.endLineNumber===mt[At].range.startLineNumber&&Tt.range.endColumn===mt[At].range.startColumn?(Tt.range=Tt.range.plusRange(mt[At].range),Tt.text=Tt.text+mt[At].text):(Ve.push(Tt),Tt=mt[At]);Ve.push(Tt);for(const At of Ve)lt.addEditOperation(At.range,At.text)}this._trackedEditorSelectionId=lt.trackSelection(this._editorSelection)}computeCursorState(ke,lt){return lt.getTrackedSelection(this._trackedEditorSelectionId)}}function D(ut,ke){if(ut&&ut[0]!==""){const lt=f(ut,ke,"-"),mt=f(ut,ke,"_");return lt&&!mt?y(ut,ke,"-"):!lt&&mt?y(ut,ke,"_"):ut[0].toUpperCase()===ut[0]?ke.toUpperCase():ut[0].toLowerCase()===ut[0]?ke.toLowerCase():x.Kw(ut[0][0])&&ke.length>0?ke[0].toUpperCase()+ke.substr(1):ut[0][0].toUpperCase()!==ut[0][0]&&ke.length>0?ke[0].toLowerCase()+ke.substr(1):ke}else return ke}function f(ut,ke,lt){return ut[0].indexOf(lt)!==-1&&ke.indexOf(lt)!==-1&&ut[0].split(lt).length===ke.split(lt).length}function y(ut,ke,lt){const mt=ke.split(lt),Ve=ut[0].split(lt);let Tt="";return mt.forEach((At,Qt)=>{Tt+=D([Ve[Qt]],At)+lt}),Tt.slice(0,-1)}class C{constructor(ke){this.staticValue=ke,this.kind=0}}class _{constructor(ke){this.pieces=ke,this.kind=1}}class N{static fromStaticValue(ke){return new N([b.staticValue(ke)])}get hasReplacementPatterns(){return this._state.kind===1}constructor(ke){!ke||ke.length===0?this._state=new C(""):ke.length===1&&ke[0].staticValue!==null?this._state=new C(ke[0].staticValue):this._state=new _(ke)}buildReplaceString(ke,lt){if(this._state.kind===0)return lt?D(ke,this._state.staticValue):this._state.staticValue;let mt="";for(let Ve=0,Tt=this._state.pieces.length;Ve<Tt;Ve++){const At=this._state.pieces[Ve];if(At.staticValue!==null){mt+=At.staticValue;continue}let Qt=N._substitute(At.matchIndex,ke);if(At.caseOps!==null&&At.caseOps.length>0){const mi=[],Ci=At.caseOps.length;let Oi=0;for(let Ii=0,Qi=Qt.length;Ii<Qi;Ii++){if(Oi>=Ci){mi.push(Qt.slice(Ii));break}switch(At.caseOps[Oi]){case"U":mi.push(Qt[Ii].toUpperCase());break;case"u":mi.push(Qt[Ii].toUpperCase()),Oi++;break;case"L":mi.push(Qt[Ii].toLowerCase());break;case"l":mi.push(Qt[Ii].toLowerCase()),Oi++;break;default:mi.push(Qt[Ii])}}Qt=mi.join("")}mt+=Qt}return mt}static _substitute(ke,lt){if(lt===null)return"";if(ke===0)return lt[0];let mt="";for(;ke>0;){if(ke<lt.length)return(lt[ke]||"")+mt;mt=String(ke%10)+mt,ke=Math.floor(ke/10)}return"$"+mt}}class b{static staticValue(ke){return new b(ke,-1,null)}static caseOps(ke,lt){return new b(null,ke,lt)}constructor(ke,lt,mt){this.staticValue=ke,this.matchIndex=lt,!mt||mt.length===0?this.caseOps=null:this.caseOps=mt.slice(0)}}class k{constructor(ke){this._source=ke,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(ke){this._emitStatic(this._source.substring(this._lastCharIndex,ke)),this._lastCharIndex=ke}emitStatic(ke,lt){this._emitStatic(ke),this._lastCharIndex=lt}_emitStatic(ke){ke.length!==0&&(this._currentStaticPiece+=ke)}emitMatchIndex(ke,lt,mt){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=b.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=b.caseOps(ke,mt),this._lastCharIndex=lt}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=b.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new N(this._result)}}function V(ut){if(!ut||ut.length===0)return new N(null);const ke=[],lt=new k(ut);for(let mt=0,Ve=ut.length;mt<Ve;mt++){const Tt=ut.charCodeAt(mt);if(Tt===92){if(mt++,mt>=Ve)break;const At=ut.charCodeAt(mt);switch(At){case 92:lt.emitUnchanged(mt-1),lt.emitStatic("\\",mt+1);break;case 110:lt.emitUnchanged(mt-1),lt.emitStatic(`
`,mt+1);break;case 116:lt.emitUnchanged(mt-1),lt.emitStatic("	",mt+1);break;case 117:case 85:case 108:case 76:lt.emitUnchanged(mt-1),lt.emitStatic("",mt+1),ke.push(String.fromCharCode(At));break}continue}if(Tt===36){if(mt++,mt>=Ve)break;const At=ut.charCodeAt(mt);if(At===36){lt.emitUnchanged(mt-1),lt.emitStatic("$",mt+1);continue}if(At===48||At===38){lt.emitUnchanged(mt-1),lt.emitMatchIndex(0,mt+1,ke),ke.length=0;continue}if(49<=At&&At<=57){let Qt=At-48;if(mt+1<Ve){const mi=ut.charCodeAt(mt+1);if(48<=mi&&mi<=57){mt++,Qt=Qt*10+(mi-48),lt.emitUnchanged(mt-2),lt.emitMatchIndex(Qt,mt+1,ke),ke.length=0;continue}}lt.emitUnchanged(mt-1),lt.emitMatchIndex(Qt,mt+1,ke),ke.length=0;continue}}}return lt.finalize()}var K=e(80568);const Z=new K.uy("findWidgetVisible",!1),z=Z.toNegated(),A=new K.uy("findInputFocussed",!1),P=new K.uy("replaceInputFocussed",!1),I={primary:545,mac:{primary:2593}},W={primary:565,mac:{primary:2613}},G={primary:560,mac:{primary:2608}},j={primary:554,mac:{primary:2602}},Y={primary:558,mac:{primary:2606}},H={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",GoToMatchFindAction:"editor.action.goToMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},Q=19999,ie=240;class te{constructor(ke,lt){this._toDispose=new B.SL,this._editor=ke,this._state=lt,this._isDisposed=!1,this._startSearchingTimer=new o._F,this._decorations=new u(ke),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new o.pY(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(mt=>{(mt.reason===3||mt.reason===5||mt.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(mt=>{this._ignoreModelContentChanged||(mt.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(mt=>this._onStateChanged(mt))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,B.B9)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(ke){this._isDisposed||this._editor.hasModel()&&(ke.searchString||ke.isReplaceRevealed||ke.isRegex||ke.wholeWord||ke.matchCase||ke.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{ke.searchScope?this.research(ke.moveCursor,this._state.searchScope):this.research(ke.moveCursor)},ie)):ke.searchScope?this.research(ke.moveCursor,this._state.searchScope):this.research(ke.moveCursor))}static _getSearchRange(ke,lt){return lt||ke.getFullModelRange()}research(ke,lt){let mt=null;typeof lt!="undefined"?lt!==null&&(Array.isArray(lt)?mt=lt:mt=[lt]):mt=this._decorations.getFindScopes(),mt!==null&&(mt=mt.map(Qt=>{if(Qt.startLineNumber!==Qt.endLineNumber){let mi=Qt.endLineNumber;return Qt.endColumn===1&&(mi=mi-1),new g.e(Qt.startLineNumber,1,mi,this._editor.getModel().getLineMaxColumn(mi))}return Qt}));const Ve=this._findMatches(mt,!1,Q);this._decorations.set(Ve,mt);const Tt=this._editor.getSelection();let At=this._decorations.getCurrentMatchesPosition(Tt);if(At===0&&Ve.length>0){const Qt=(0,R.J_)(Ve.map(mi=>mi.range),mi=>g.e.compareRangesUsingStarts(mi,Tt)>=0);At=Qt>0?Qt-1+1:At}this._state.changeMatchInfo(At,this._decorations.getCount(),void 0),ke&&this._editor.getOption(41).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){const ke=this._decorations.getFindScope();return ke&&this._editor.revealRangeInCenterIfOutsideViewport(ke,0),!0}return!1}_setCurrentFindMatch(ke){const lt=this._decorations.setCurrentFindMatch(ke);this._state.changeMatchInfo(lt,this._decorations.getCount(),ke),this._editor.setSelection(ke),this._editor.revealRangeInCenterIfOutsideViewport(ke,0)}_prevSearchPosition(ke){const lt=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:mt,column:Ve}=ke;const Tt=this._editor.getModel();return lt||Ve===1?(mt===1?mt=Tt.getLineCount():mt--,Ve=Tt.getLineMaxColumn(mt)):Ve--,new m.L(mt,Ve)}_moveToPrevMatch(ke,lt=!1){if(!this._state.canNavigateBack()){const Oi=this._decorations.matchAfterPosition(ke);Oi&&this._setCurrentFindMatch(Oi);return}if(this._decorations.getCount()<Q){let Oi=this._decorations.matchBeforePosition(ke);Oi&&Oi.isEmpty()&&Oi.getStartPosition().equals(ke)&&(ke=this._prevSearchPosition(ke),Oi=this._decorations.matchBeforePosition(ke)),Oi&&this._setCurrentFindMatch(Oi);return}if(this._cannotFind())return;const mt=this._decorations.getFindScope(),Ve=te._getSearchRange(this._editor.getModel(),mt);Ve.getEndPosition().isBefore(ke)&&(ke=Ve.getEndPosition()),ke.isBefore(Ve.getStartPosition())&&(ke=Ve.getEndPosition());const{lineNumber:Tt,column:At}=ke,Qt=this._editor.getModel();let mi=new m.L(Tt,At),Ci=Qt.findPreviousMatch(this._state.searchString,mi,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(131):null,!1);if(Ci&&Ci.range.isEmpty()&&Ci.range.getStartPosition().equals(mi)&&(mi=this._prevSearchPosition(mi),Ci=Qt.findPreviousMatch(this._state.searchString,mi,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(131):null,!1)),!!Ci){if(!lt&&!Ve.containsRange(Ci.range))return this._moveToPrevMatch(Ci.range.getStartPosition(),!0);this._setCurrentFindMatch(Ci.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(ke){const lt=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:mt,column:Ve}=ke;const Tt=this._editor.getModel();return lt||Ve===Tt.getLineMaxColumn(mt)?(mt===Tt.getLineCount()?mt=1:mt++,Ve=1):Ve++,new m.L(mt,Ve)}_moveToNextMatch(ke){if(!this._state.canNavigateForward()){const mt=this._decorations.matchBeforePosition(ke);mt&&this._setCurrentFindMatch(mt);return}if(this._decorations.getCount()<Q){let mt=this._decorations.matchAfterPosition(ke);mt&&mt.isEmpty()&&mt.getStartPosition().equals(ke)&&(ke=this._nextSearchPosition(ke),mt=this._decorations.matchAfterPosition(ke)),mt&&this._setCurrentFindMatch(mt);return}const lt=this._getNextMatch(ke,!1,!0);lt&&this._setCurrentFindMatch(lt.range)}_getNextMatch(ke,lt,mt,Ve=!1){if(this._cannotFind())return null;const Tt=this._decorations.getFindScope(),At=te._getSearchRange(this._editor.getModel(),Tt);At.getEndPosition().isBefore(ke)&&(ke=At.getStartPosition()),ke.isBefore(At.getStartPosition())&&(ke=At.getStartPosition());const{lineNumber:Qt,column:mi}=ke,Ci=this._editor.getModel();let Oi=new m.L(Qt,mi),Ii=Ci.findNextMatch(this._state.searchString,Oi,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(131):null,lt);return mt&&Ii&&Ii.range.isEmpty()&&Ii.range.getStartPosition().equals(Oi)&&(Oi=this._nextSearchPosition(Oi),Ii=Ci.findNextMatch(this._state.searchString,Oi,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(131):null,lt)),Ii?!Ve&&!At.containsRange(Ii.range)?this._getNextMatch(Ii.range.getEndPosition(),lt,mt,!0):Ii:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_moveToMatch(ke){const lt=this._decorations.getDecorationRangeAt(ke);lt&&this._setCurrentFindMatch(lt)}moveToMatch(ke){this._moveToMatch(ke)}_getReplacePattern(){return this._state.isRegex?V(this._state.replaceString):N.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;const ke=this._getReplacePattern(),lt=this._editor.getSelection(),mt=this._getNextMatch(lt.getStartPosition(),!0,!1);if(mt)if(lt.equalsRange(mt.range)){const Ve=ke.buildReplaceString(mt.matches,this._state.preserveCase),Tt=new w.T4(lt,Ve);this._executeEditorCommand("replace",Tt),this._decorations.setStartPosition(new m.L(lt.startLineNumber,lt.startColumn+Ve.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(mt.range)}_findMatches(ke,lt,mt){const Ve=(ke||[null]).map(Tt=>te._getSearchRange(this._editor.getModel(),Tt));return this._editor.getModel().findMatches(this._state.searchString,Ve,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(131):null,lt,mt)}replaceAll(){if(!this._hasMatches())return;const ke=this._decorations.getFindScopes();ke===null&&this._state.matchesCount>=Q?this._largeReplaceAll():this._regularReplaceAll(ke),this.research(!1)}_largeReplaceAll(){const lt=new r.bc(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(131):null).parseSearchRequest();if(!lt)return;let mt=lt.regex;if(!mt.multiline){let Ii="mu";mt.ignoreCase&&(Ii+="i"),mt.global&&(Ii+="g"),mt=new RegExp(mt.source,Ii)}const Ve=this._editor.getModel(),Tt=Ve.getValue(1),At=Ve.getFullModelRange(),Qt=this._getReplacePattern();let mi;const Ci=this._state.preserveCase;Qt.hasReplacementPatterns||Ci?mi=Tt.replace(mt,function(){return Qt.buildReplaceString(arguments,Ci)}):mi=Tt.replace(mt,Qt.buildReplaceString(null,Ci));const Oi=new w.hP(At,mi,this._editor.getSelection());this._executeEditorCommand("replaceAll",Oi)}_regularReplaceAll(ke){const lt=this._getReplacePattern(),mt=this._findMatches(ke,lt.hasReplacementPatterns||this._state.preserveCase,1073741824),Ve=[];for(let At=0,Qt=mt.length;At<Qt;At++)Ve[At]=lt.buildReplaceString(mt[At].matches,this._state.preserveCase);const Tt=new l(this._editor.getSelection(),mt.map(At=>At.range),Ve);this._executeEditorCommand("replaceAll",Tt)}selectAllMatches(){if(!this._hasMatches())return;const ke=this._decorations.getFindScopes();let mt=this._findMatches(ke,!1,1073741824).map(Tt=>new a.Y(Tt.range.startLineNumber,Tt.range.startColumn,Tt.range.endLineNumber,Tt.range.endColumn));const Ve=this._editor.getSelection();for(let Tt=0,At=mt.length;Tt<At;Tt++)if(mt[Tt].equalsRange(Ve)){mt=[Ve].concat(mt.slice(0,Tt)).concat(mt.slice(Tt+1));break}this._editor.setSelections(mt)}_executeEditorCommand(ke,lt){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(ke,lt),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}var se=e(91540),ne=e(19071),ee=e(60833),re=e(66503);class he extends ee.${constructor(ke,lt,mt){super(),this._hideSoon=this._register(new o.pY(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=ke,this._state=lt,this._keybindingService=mt,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.style.zIndex="12",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const Ve={inputActiveOptionBorder:(0,n.n_1)(n.PRb),inputActiveOptionForeground:(0,n.n_1)(n.Pvw),inputActiveOptionBackground:(0,n.n_1)(n.XEs)},Tt=this._register((0,re.p0)());this.caseSensitive=this._register(new ne.rk(vi({appendTitle:this._keybindingLabelFor(H.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,hoverDelegate:Tt},Ve))),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new ne.Qx(vi({appendTitle:this._keybindingLabelFor(H.ToggleWholeWordCommand),isChecked:this._state.wholeWord,hoverDelegate:Tt},Ve))),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new ne.eH(vi({appendTitle:this._keybindingLabelFor(H.ToggleRegexCommand),isChecked:this._state.isRegex,hoverDelegate:Tt},Ve))),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(At=>{let Qt=!1;At.isRegex&&(this.regex.checked=this._state.isRegex,Qt=!0),At.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,Qt=!0),At.matchCase&&(this.caseSensitive.checked=this._state.matchCase,Qt=!0),!this._state.isRevealed&&Qt&&this._revealTemporarily()})),this._register(se.nm(this._domNode,se.tw.MOUSE_LEAVE,At=>this._onMouseLeave())),this._register(se.nm(this._domNode,"mouseover",At=>this._onMouseOver()))}_keybindingLabelFor(ke){const lt=this._keybindingService.lookupKeybinding(ke);return lt?` (${lt.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return he.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseLeave(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}}he.ID="editor.contrib.findOptionsWidget";var M=e(79329);function we(ut,ke){return ut===1?!0:ut===2?!1:ke}class We extends B.JT{get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return we(this._isRegexOverride,this._isRegex)}get wholeWord(){return we(this._wholeWordOverride,this._wholeWord)}get matchCase(){return we(this._matchCaseOverride,this._matchCase)}get preserveCase(){return we(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}constructor(){super(),this._onFindReplaceStateChange=this._register(new M.Q5),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}changeMatchInfo(ke,lt,mt){const Ve={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let Tt=!1;lt===0&&(ke=0),ke>lt&&(ke=lt),this._matchesPosition!==ke&&(this._matchesPosition=ke,Ve.matchesPosition=!0,Tt=!0),this._matchesCount!==lt&&(this._matchesCount=lt,Ve.matchesCount=!0,Tt=!0),typeof mt!="undefined"&&(g.e.equalsRange(this._currentMatch,mt)||(this._currentMatch=mt,Ve.currentMatch=!0,Tt=!0)),Tt&&this._onFindReplaceStateChange.fire(Ve)}change(ke,lt,mt=!0){var Ve;const Tt={moveCursor:lt,updateHistory:mt,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let At=!1;const Qt=this.isRegex,mi=this.wholeWord,Ci=this.matchCase,Oi=this.preserveCase;typeof ke.searchString!="undefined"&&this._searchString!==ke.searchString&&(this._searchString=ke.searchString,Tt.searchString=!0,At=!0),typeof ke.replaceString!="undefined"&&this._replaceString!==ke.replaceString&&(this._replaceString=ke.replaceString,Tt.replaceString=!0,At=!0),typeof ke.isRevealed!="undefined"&&this._isRevealed!==ke.isRevealed&&(this._isRevealed=ke.isRevealed,Tt.isRevealed=!0,At=!0),typeof ke.isReplaceRevealed!="undefined"&&this._isReplaceRevealed!==ke.isReplaceRevealed&&(this._isReplaceRevealed=ke.isReplaceRevealed,Tt.isReplaceRevealed=!0,At=!0),typeof ke.isRegex!="undefined"&&(this._isRegex=ke.isRegex),typeof ke.wholeWord!="undefined"&&(this._wholeWord=ke.wholeWord),typeof ke.matchCase!="undefined"&&(this._matchCase=ke.matchCase),typeof ke.preserveCase!="undefined"&&(this._preserveCase=ke.preserveCase),typeof ke.searchScope!="undefined"&&(!((Ve=ke.searchScope)===null||Ve===void 0)&&Ve.every(Ii=>{var Qi;return(Qi=this._searchScope)===null||Qi===void 0?void 0:Qi.some(Wi=>!g.e.equalsRange(Wi,Ii))})||(this._searchScope=ke.searchScope,Tt.searchScope=!0,At=!0)),typeof ke.loop!="undefined"&&this._loop!==ke.loop&&(this._loop=ke.loop,Tt.loop=!0,At=!0),typeof ke.isSearching!="undefined"&&this._isSearching!==ke.isSearching&&(this._isSearching=ke.isSearching,Tt.isSearching=!0,At=!0),typeof ke.filters!="undefined"&&(this._filters?this._filters.update(ke.filters):this._filters=ke.filters,Tt.filters=!0,At=!0),this._isRegexOverride=typeof ke.isRegexOverride!="undefined"?ke.isRegexOverride:0,this._wholeWordOverride=typeof ke.wholeWordOverride!="undefined"?ke.wholeWordOverride:0,this._matchCaseOverride=typeof ke.matchCaseOverride!="undefined"?ke.matchCaseOverride:0,this._preserveCaseOverride=typeof ke.preserveCaseOverride!="undefined"?ke.preserveCaseOverride:0,Qt!==this.isRegex&&(At=!0,Tt.isRegex=!0),mi!==this.wholeWord&&(At=!0,Tt.wholeWord=!0),Ci!==this.matchCase&&(At=!0,Tt.matchCase=!0),Oi!==this.preserveCase&&(At=!0,Tt.preserveCase=!0),At&&this._onFindReplaceStateChange.fire(Tt)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=Q}}var ye=e(91333),X=e(62019),ve=e(15557),Ee=e(24752),Oe=e(25602),Ke=e(15122),Qe=e(61652),fe=e(60931);function $(ut){var ke,lt;return((ke=ut.lookupKeybinding("history.showPrevious"))===null||ke===void 0?void 0:ke.getElectronAccelerator())==="Up"&&((lt=ut.lookupKeybinding("history.showNext"))===null||lt===void 0?void 0:lt.getElectronAccelerator())==="Down"}var le=e(76557),De=e(68777),xe=e(98618),Ce=e(26974),me=e(26179);const be=(0,le.q5)("find-selection",Ee.l.selection,Qe.NC("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),oe=(0,le.q5)("find-collapsed",Ee.l.chevronRight,Qe.NC("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),ue=(0,le.q5)("find-expanded",Ee.l.chevronDown,Qe.NC("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),de=(0,le.q5)("find-replace",Ee.l.replace,Qe.NC("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),Se=(0,le.q5)("find-replace-all",Ee.l.replaceAll,Qe.NC("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),Te=(0,le.q5)("find-previous-match",Ee.l.arrowUp,Qe.NC("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),Ae=(0,le.q5)("find-next-match",Ee.l.arrowDown,Qe.NC("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),pe=Qe.NC("label.findDialog","Find / Replace"),je=Qe.NC("label.find","Find"),ot=Qe.NC("placeholder.find","Find"),xt=Qe.NC("label.previousMatchButton","Previous Match"),jt=Qe.NC("label.nextMatchButton","Next Match"),oi=Qe.NC("label.toggleSelectionFind","Find in Selection"),ti=Qe.NC("label.closeButton","Close"),it=Qe.NC("label.replace","Replace"),yt=Qe.NC("placeholder.replace","Replace"),$t=Qe.NC("label.replaceButton","Replace"),Nt=Qe.NC("label.replaceAllButton","Replace All"),qt=Qe.NC("label.toggleReplaceButton","Toggle Replace"),Ht=Qe.NC("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",Q),He=Qe.NC("label.matchesLocation","{0} of {1}"),Ct=Qe.NC("label.noResults","No results"),Gt=419,$i=275-54;let Bi=69;const Vi=33,Ji="ctrlEnterReplaceAll.windows.donotask",wn=Ke.dz?256:2048;class yn{constructor(ke){this.afterLineNumber=ke,this.heightInPx=Vi,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function Cn(ut,ke,lt){const mt=!!ke.match(/\n/);if(lt&&mt&&lt.selectionStart>0){ut.stopPropagation();return}}function an(ut,ke,lt){const mt=!!ke.match(/\n/);if(lt&&mt&&lt.selectionEnd<lt.value.length){ut.stopPropagation();return}}class Rn extends ee.${constructor(ke,lt,mt,Ve,Tt,At,Qt,mi,Ci,Oi){super(),this._hoverService=Oi,this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=ke,this._controller=lt,this._state=mt,this._contextViewProvider=Ve,this._keybindingService=Tt,this._contextKeyService=At,this._storageService=mi,this._notificationService=Ci,this._ctrlEnterReplaceAllWarningPrompted=!!mi.getBoolean(Ji,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new o.vp(500),this._register((0,B.OF)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(Ii=>this._onStateChanged(Ii))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(Ii=>{if(Ii.hasChanged(91)&&(this._codeEditor.getOption(91)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),Ii.hasChanged(145)&&this._tryUpdateWidgetWidth(),Ii.hasChanged(2)&&this.updateAccessibilitySupport(),Ii.hasChanged(41)){const Qi=this._codeEditor.getOption(41).loop;this._state.change({loop:Qi},!1);const Wi=this._codeEditor.getOption(41).addExtraSpaceOnTop;Wi&&!this._viewZone&&(this._viewZone=new yn(0),this._showViewZone()),!Wi&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>Ft(this,null,function*(){if(this._isVisible){const Ii=yield this._controller.getGlobalBufferTerm();Ii&&Ii!==this._state.searchString&&(this._state.change({searchString:Ii},!1),this._findInput.select())}}))),this._findInputFocused=A.bindTo(At),this._findFocusTracker=this._register(se.go(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=P.bindTo(At),this._replaceFocusTracker=this._register(se.go(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(41).addExtraSpaceOnTop&&(this._viewZone=new yn(0)),this._register(this._codeEditor.onDidChangeModel(()=>{this._isVisible&&(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(Ii=>{if(Ii.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return Rn.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(ke){if(ke.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(ke.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),ke.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),ke.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(91)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=se.w(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(ke.isRevealed||ke.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),ke.isRegex&&this._findInput.setRegex(this._state.isRegex),ke.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),ke.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),ke.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),ke.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),ke.searchString||ke.matchesCount||ke.matchesPosition){const lt=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",lt),this._updateMatchesCount(),this._updateButtons()}(ke.searchString||ke.currentMatch)&&this._layoutViewZone(),ke.updateHistory&&this._delayedUpdateHistory(),ke.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,Oe.dL)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=Bi+"px",this._state.matchesCount>=Q?this._matchesCount.title=Ht:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let ke;if(this._state.matchesCount>0){let lt=String(this._state.matchesCount);this._state.matchesCount>=Q&&(lt+="+");let mt=String(this._state.matchesPosition);mt==="0"&&(mt="?"),ke=x.WU(He,mt,lt)}else ke=Ct;this._matchesCount.appendChild(document.createTextNode(ke)),(0,ye.Z9)(this._getAriaLabel(ke,this._state.currentMatch,this._state.searchString)),Bi=Math.max(Bi,this._matchesCount.clientWidth)}_getAriaLabel(ke,lt,mt){if(ke===Ct)return mt===""?Qe.NC("ariaSearchNoResultEmpty","{0} found",ke):Qe.NC("ariaSearchNoResult","{0} found for '{1}'",ke,mt);if(lt){const Ve=Qe.NC("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",ke,mt,lt.startLineNumber+":"+lt.startColumn),Tt=this._codeEditor.getModel();return Tt&&lt.startLineNumber<=Tt.getLineCount()&&lt.startLineNumber>=1?`${Tt.getLineContent(lt.startLineNumber)}, ${Ve}`:Ve}return Qe.NC("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",ke,mt)}_updateToggleSelectionFindButton(){const ke=this._codeEditor.getSelection(),lt=ke?ke.startLineNumber!==ke.endLineNumber||ke.startColumn!==ke.endColumn:!1,mt=this._toggleSelectionFind.checked;this._isVisible&&(mt||lt)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);const ke=this._state.searchString.length>0,lt=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&ke&&lt&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&ke&&lt&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&ke),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&ke),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);const mt=!this._codeEditor.getOption(91);this._toggleReplaceBtn.setEnabled(this._isVisible&&mt)}_reveal(){if(this._revealTimeouts.forEach(ke=>{clearTimeout(ke)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const ke=this._codeEditor.getSelection();switch(this._codeEditor.getOption(41).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{const mt=!!ke&&ke.startLineNumber!==ke.endLineNumber;this._toggleSelectionFind.checked=mt;break}default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let lt=!0;if(this._codeEditor.getOption(41).seedSearchStringFromSelection&&ke){const mt=this._codeEditor.getDomNode();if(mt){const Ve=se.i(mt),Tt=this._codeEditor.getScrolledVisiblePosition(ke.getStartPosition()),At=Ve.left+(Tt?Tt.left:0),Qt=Tt?Tt.top:0;if(this._viewZone&&Qt<this._viewZone.heightInPx){ke.endLineNumber>ke.startLineNumber&&(lt=!1);const mi=se.xQ(this._domNode).left;At>mi&&(lt=!1);const Ci=this._codeEditor.getScrolledVisiblePosition(ke.getEndPosition());Ve.left+(Ci?Ci.left:0)>mi&&(lt=!1)}}}this._showViewZone(lt)}}_hide(ke){this._revealTimeouts.forEach(lt=>{clearTimeout(lt)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),ke&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(ke){if(!this._codeEditor.getOption(41).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const mt=this._viewZone;this._viewZoneId!==void 0||!mt||this._codeEditor.changeViewZones(Ve=>{mt.heightInPx=this._getHeight(),this._viewZoneId=Ve.addZone(mt),this._codeEditor.setScrollTop(ke||this._codeEditor.getScrollTop()+mt.heightInPx)})}_showViewZone(ke=!0){if(!this._isVisible||!this._codeEditor.getOption(41).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new yn(0));const mt=this._viewZone;this._codeEditor.changeViewZones(Ve=>{if(this._viewZoneId!==void 0){const Tt=this._getHeight();if(Tt===mt.heightInPx)return;const At=Tt-mt.heightInPx;mt.heightInPx=Tt,Ve.layoutZone(this._viewZoneId),ke&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+At);return}else{let Tt=this._getHeight();if(Tt-=this._codeEditor.getOption(84).top,Tt<=0)return;mt.heightInPx=Tt,this._viewZoneId=Ve.addZone(mt),ke&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+Tt)}})}_removeViewZone(){this._codeEditor.changeViewZones(ke=>{this._viewZoneId!==void 0&&(ke.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_tryUpdateWidgetWidth(){if(!this._isVisible||!this._domNode.isConnected)return;const ke=this._codeEditor.getLayoutInfo();if(ke.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const mt=ke.width,Ve=ke.minimap.minimapWidth;let Tt=!1,At=!1,Qt=!1;if(this._resized&&se.w(this._domNode)>Gt){this._domNode.style.maxWidth=`${mt-28-Ve-15}px`,this._replaceInput.width=se.w(this._findInput.domNode);return}if(Gt+28+Ve>=mt&&(At=!0),Gt+28+Ve-Bi>=mt&&(Qt=!0),Gt+28+Ve-Bi>=mt+50&&(Tt=!0),this._domNode.classList.toggle("collapsed-find-widget",Tt),this._domNode.classList.toggle("narrow-find-widget",Qt),this._domNode.classList.toggle("reduced-find-widget",At),!Qt&&!Tt&&(this._domNode.style.maxWidth=`${mt-28-Ve-15}px`),this._findInput.layout({collapsedFindWidget:Tt,narrowFindWidget:Qt,reducedFindWidget:At}),this._resized){const mi=this._findInput.inputBox.element.clientWidth;mi>0&&(this._replaceInput.width=mi)}else this._isReplaceVisible&&(this._replaceInput.width=se.w(this._findInput.domNode))}_getHeight(){let ke=0;return ke+=4,ke+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(ke+=4,ke+=this._replaceInput.inputBox.height+2),ke+=4,ke}_tryUpdateHeight(){const ke=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===ke?!1:(this._cachedHeight=ke,this._domNode.style.height=`${ke}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){const ke=this._codeEditor.getSelections();ke.map(lt=>{lt.endColumn===1&&lt.endLineNumber>lt.startLineNumber&&(lt=lt.setEndPosition(lt.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(lt.endLineNumber-1)));const mt=this._state.currentMatch;return lt.startLineNumber!==lt.endLineNumber&&!g.e.equalsRange(lt,mt)?lt:null}).filter(lt=>!!lt),ke.length&&this._state.change({searchScope:ke},!0)}}_onFindInputMouseDown(ke){ke.middleButton&&ke.stopPropagation()}_onFindInputKeyDown(ke){if(ke.equals(wn|3))if(this._keybindingService.dispatchEvent(ke,ke.target)){ke.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),ke.preventDefault();return}if(ke.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),ke.preventDefault();return}if(ke.equals(2066)){this._codeEditor.focus(),ke.preventDefault();return}if(ke.equals(16))return Cn(ke,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(ke.equals(18))return an(ke,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(ke){if(ke.equals(wn|3))if(this._keybindingService.dispatchEvent(ke,ke.target)){ke.preventDefault();return}else{Ke.ED&&Ke.tY&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(Qe.NC("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(Ji,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),ke.preventDefault();return}if(ke.equals(2)){this._findInput.focusOnCaseSensitive(),ke.preventDefault();return}if(ke.equals(1026)){this._findInput.focus(),ke.preventDefault();return}if(ke.equals(2066)){this._codeEditor.focus(),ke.preventDefault();return}if(ke.equals(16))return Cn(ke,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(ke.equals(18))return an(ke,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(ke){return 0}_keybindingLabelFor(ke){const lt=this._keybindingService.lookupKeybinding(ke);return lt?` (${lt.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new fe.Yb(null,this._contextViewProvider,{width:$i,label:je,placeholder:ot,appendCaseSensitiveLabel:this._keybindingLabelFor(H.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(H.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(H.ToggleRegexCommand),validation:Oi=>{if(Oi.length===0||!this._findInput.getRegex())return null;try{return new RegExp(Oi,"gu"),null}catch(Ii){return{content:Ii.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showCommonFindToggles:!0,showHistoryHint:()=>$(this._keybindingService),inputBoxStyles:me.Hc,toggleStyles:me.pl},this._contextKeyService)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(Oi=>this._onFindInputKeyDown(Oi))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(Oi=>{Oi.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),Oi.preventDefault())})),this._register(this._findInput.onRegexKeyDown(Oi=>{Oi.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),Oi.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(Oi=>{this._tryUpdateHeight()&&this._showViewZone()})),Ke.IJ&&this._register(this._findInput.onMouseDown(Oi=>this._onFindInputMouseDown(Oi))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount();const mt=this._register((0,re.p0)());this._prevBtn=this._register(new kn({label:xt+this._keybindingLabelFor(H.PreviousMatchFindAction),icon:Te,hoverDelegate:mt,onTrigger:()=>{(0,Ce.cW)(this._codeEditor.getAction(H.PreviousMatchFindAction)).run().then(void 0,Oe.dL)}},this._hoverService)),this._nextBtn=this._register(new kn({label:jt+this._keybindingLabelFor(H.NextMatchFindAction),icon:Ae,hoverDelegate:mt,onTrigger:()=>{(0,Ce.cW)(this._codeEditor.getAction(H.NextMatchFindAction)).run().then(void 0,Oe.dL)}},this._hoverService));const Ve=document.createElement("div");Ve.className="find-part",Ve.appendChild(this._findInput.domNode);const Tt=document.createElement("div");Tt.className="find-actions",Ve.appendChild(Tt),Tt.appendChild(this._matchesCount),Tt.appendChild(this._prevBtn.domNode),Tt.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new X.Z({icon:be,title:oi+this._keybindingLabelFor(H.ToggleSearchScopeCommand),isChecked:!1,hoverDelegate:mt,inputActiveOptionBackground:(0,n.n_1)(n.XEs),inputActiveOptionBorder:(0,n.n_1)(n.PRb),inputActiveOptionForeground:(0,n.n_1)(n.Pvw)})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let Oi=this._codeEditor.getSelections();Oi=Oi.map(Ii=>(Ii.endColumn===1&&Ii.endLineNumber>Ii.startLineNumber&&(Ii=Ii.setEndPosition(Ii.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(Ii.endLineNumber-1))),Ii.isEmpty()?null:Ii)).filter(Ii=>!!Ii),Oi.length&&this._state.change({searchScope:Oi},!0)}}else this._state.change({searchScope:null},!0)})),Tt.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new kn({label:ti+this._keybindingLabelFor(H.CloseFindWidgetCommand),icon:le.s_,hoverDelegate:mt,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:Oi=>{Oi.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),Oi.preventDefault())}},this._hoverService)),this._replaceInput=this._register(new fe.Nq(null,void 0,{label:it,placeholder:yt,appendPreserveCaseLabel:this._keybindingLabelFor(H.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>$(this._keybindingService),inputBoxStyles:me.Hc,toggleStyles:me.pl},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(Oi=>this._onReplaceInputKeyDown(Oi))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(Oi=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(Oi=>{Oi.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),Oi.preventDefault())}));const At=this._register((0,re.p0)());this._replaceBtn=this._register(new kn({label:$t+this._keybindingLabelFor(H.ReplaceOneAction),icon:de,hoverDelegate:At,onTrigger:()=>{this._controller.replace()},onKeyDown:Oi=>{Oi.equals(1026)&&(this._closeBtn.focus(),Oi.preventDefault())}},this._hoverService)),this._replaceAllBtn=this._register(new kn({label:Nt+this._keybindingLabelFor(H.ReplaceAllAction),icon:Se,hoverDelegate:At,onTrigger:()=>{this._controller.replaceAll()}},this._hoverService));const Qt=document.createElement("div");Qt.className="replace-part",Qt.appendChild(this._replaceInput.domNode);const mi=document.createElement("div");mi.className="replace-actions",Qt.appendChild(mi),mi.appendChild(this._replaceBtn.domNode),mi.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new kn({label:qt,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=se.w(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}},this._hoverService)),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.ariaLabel=pe,this._domNode.role="dialog",this._domNode.style.width=`${Gt}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(Ve),this._domNode.appendChild(this._closeBtn.domNode),this._domNode.appendChild(Qt),this._resizeSash=this._register(new ve.g(this._domNode,this,{orientation:0,size:2})),this._resized=!1;let Ci=Gt;this._register(this._resizeSash.onDidStart(()=>{Ci=se.w(this._domNode)})),this._register(this._resizeSash.onDidChange(Oi=>{this._resized=!0;const Ii=Ci+Oi.startX-Oi.currentX;if(Ii<Gt)return;const Qi=parseFloat(se.Dx(this._domNode).maxWidth)||0;Ii>Qi||(this._domNode.style.width=`${Ii}px`,this._isReplaceVisible&&(this._replaceInput.width=se.w(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const Oi=se.w(this._domNode);if(Oi<Gt)return;let Ii=Gt;if(!this._resized||Oi===Gt){const Qi=this._codeEditor.getLayoutInfo();Ii=Qi.width-28-Qi.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${Ii}px`,this._isReplaceVisible&&(this._replaceInput.width=se.w(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const ke=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(ke!==2)}}Rn.ID="editor.contrib.findWidget";class kn extends ee.${constructor(ke,lt){var mt;super(),this._opts=ke;let Ve="button";this._opts.className&&(Ve=Ve+" "+this._opts.className),this._opts.icon&&(Ve=Ve+" "+De.k.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.tabIndex=0,this._domNode.className=Ve,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this._register(lt.setupUpdatableHover((mt=ke.hoverDelegate)!==null&&mt!==void 0?mt:(0,re.tM)("element"),this._domNode,this._opts.label)),this.onclick(this._domNode,Tt=>{this._opts.onTrigger(),Tt.preventDefault()}),this.onkeydown(this._domNode,Tt=>{var At,Qt;if(Tt.equals(10)||Tt.equals(3)){this._opts.onTrigger(),Tt.preventDefault();return}(Qt=(At=this._opts).onKeyDown)===null||Qt===void 0||Qt.call(At,Tt)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(ke){this._domNode.classList.toggle("disabled",!ke),this._domNode.setAttribute("aria-disabled",String(!ke)),this._domNode.tabIndex=ke?0:-1}setExpanded(ke){this._domNode.setAttribute("aria-expanded",String(!!ke)),ke?(this._domNode.classList.remove(...De.k.asClassNameArray(oe)),this._domNode.classList.add(...De.k.asClassNameArray(ue))):(this._domNode.classList.remove(...De.k.asClassNameArray(ue)),this._domNode.classList.add(...De.k.asClassNameArray(oe)))}}(0,c.Ic)((ut,ke)=>{const lt=ut.getColor(n.EiJ);lt&&ke.addRule(`.monaco-editor .findMatch { border: 1px ${(0,xe.c3)(ut.type)?"dotted":"solid"} ${lt}; box-sizing: border-box; }`);const mt=ut.getColor(n.gkn);mt&&ke.addRule(`.monaco-editor .findScope { border: 1px ${(0,xe.c3)(ut.type)?"dashed":"solid"} ${mt}; }`);const Ve=ut.getColor(n.lRK);Ve&&ke.addRule(`.monaco-editor .find-widget { border: 1px solid ${Ve}; }`)});var fn=e(69713),On=e(11796),xn=e(31949),An=e(66070),Zt=e(52994),ci=e(86773),_i=e(10783),Ri=e(78307),Zi=function(ut,ke,lt,mt){var Ve=arguments.length,Tt=Ve<3?ke:mt===null?mt=Object.getOwnPropertyDescriptor(ke,lt):mt,At;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Tt=Reflect.decorate(ut,ke,lt,mt);else for(var Qt=ut.length-1;Qt>=0;Qt--)(At=ut[Qt])&&(Tt=(Ve<3?At(Tt):Ve>3?At(ke,lt,Tt):At(ke,lt))||Tt);return Ve>3&&Tt&&Object.defineProperty(ke,lt,Tt),Tt},gi=function(ut,ke){return function(lt,mt){ke(lt,mt,ut)}},Ze;const dt=524288;function Ue(ut,ke="single",lt=!1){if(!ut.hasModel())return null;const mt=ut.getSelection();if(ke==="single"&&mt.startLineNumber===mt.endLineNumber||ke==="multiple"){if(mt.isEmpty()){const Ve=ut.getConfiguredWordAtPosition(mt.getStartPosition());if(Ve&&lt===!1)return Ve.word}else if(ut.getModel().getValueLengthInRange(mt)<dt)return ut.getModel().getValueInRange(mt)}return null}let $e=Ze=class extends B.JT{get editor(){return this._editor}static get(ke){return ke.getContribution(Ze.ID)}constructor(ke,lt,mt,Ve,Tt,At){super(),this._editor=ke,this._findWidgetVisible=Z.bindTo(lt),this._contextKeyService=lt,this._storageService=mt,this._clipboardService=Ve,this._notificationService=Tt,this._hoverService=At,this._updateHistoryDelayer=new o.vp(500),this._state=this._register(new We),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(Qt=>this._onStateChanged(Qt))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{const Qt=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),Qt&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(41).loop})}))}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(ke){this.saveQueryState(ke),ke.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),ke.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(ke){ke.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,1),ke.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,1),ke.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,1),ke.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,1)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!A.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let ke=this._editor.getSelections();ke=ke.map(lt=>(lt.endColumn===1&&lt.endLineNumber>lt.startLineNumber&&(lt=lt.setEndPosition(lt.endLineNumber-1,this._editor.getModel().getLineMaxColumn(lt.endLineNumber-1))),lt.isEmpty()?null:lt)).filter(lt=>!!lt),ke.length&&this._state.change({searchScope:ke},!0)}}setSearchString(ke){this._state.isRegex&&(ke=x.ec(ke)),this._state.change({searchString:ke},!1)}highlightFindOptions(ke=!1){}_start(ke,lt){return Ft(this,null,function*(){if(this.disposeModel(),!this._editor.hasModel())return;const mt=Ki(vi({},lt),{isRevealed:!0});if(ke.seedSearchStringFromSelection==="single"){const Ve=Ue(this._editor,ke.seedSearchStringFromSelection,ke.seedSearchStringFromNonEmptySelection);Ve&&(this._state.isRegex?mt.searchString=x.ec(Ve):mt.searchString=Ve)}else if(ke.seedSearchStringFromSelection==="multiple"&&!ke.updateSearchScope){const Ve=Ue(this._editor,ke.seedSearchStringFromSelection);Ve&&(mt.searchString=Ve)}if(!mt.searchString&&ke.seedSearchStringFromGlobalClipboard){const Ve=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;Ve&&(mt.searchString=Ve)}if(ke.forceRevealReplace||mt.isReplaceRevealed?mt.isReplaceRevealed=!0:this._findWidgetVisible.get()||(mt.isReplaceRevealed=!1),ke.updateSearchScope){const Ve=this._editor.getSelections();Ve.some(Tt=>!Tt.isEmpty())&&(mt.searchScope=Ve)}mt.loop=ke.loop,this._state.change(mt,!1),this._model||(this._model=new te(this._editor,this._state))})}start(ke,lt){return this._start(ke,lt)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}goToMatch(ke){return this._model?(this._model.moveToMatch(ke),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){var ke;return this._model?!((ke=this._editor.getModel())===null||ke===void 0)&&ke.isTooLargeForHeapOperation()?(this._notificationService.warn(Qe.NC("too.large.for.replaceall","The file is too large to perform a replace all operation.")),!1):(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return Ft(this,null,function*(){return this._editor.getOption(41).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(ke){this._editor.getOption(41).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(ke)}};$e.ID="editor.contrib.findController",$e=Ze=Zi([gi(1,K.i6),gi(2,_i.Uy),gi(3,On.p),gi(4,Zt.lT),gi(5,Ri.Bs)],$e);let bt=class gd extends $e{constructor(ke,lt,mt,Ve,Tt,At,Qt,mi,Ci){super(ke,mt,Qt,mi,At,Ci),this._contextViewService=lt,this._keybindingService=Ve,this._themeService=Tt,this._widget=null,this._findOptionsWidget=null}_start(ke,lt){return Ft(this,null,function*(){this._widget||this._createFindWidget();const mt=this._editor.getSelection();let Ve=!1;switch(this._editor.getOption(41).autoFindInSelection){case"always":Ve=!0;break;case"never":Ve=!1;break;case"multiline":{Ve=!!mt&&mt.startLineNumber!==mt.endLineNumber;break}default:break}ke.updateSearchScope=ke.updateSearchScope||Ve,yield pl(gd.prototype,this,"_start").call(this,ke,lt),this._widget&&(ke.shouldFocus===2?this._widget.focusReplaceInput():ke.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(ke=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!ke?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new Rn(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService,this._hoverService)),this._findOptionsWidget=this._register(new he(this._editor,this._state,this._keybindingService))}};bt=Zi([gi(1,xn.u),gi(2,K.i6),gi(3,An.d),gi(4,c.XE),gi(5,Zt.lT),gi(6,_i.Uy),gi(7,On.p),gi(8,Ri.Bs)],bt),(0,O.rn)(new O.jY({id:H.StartFindAction,label:Qe.NC("startFindAction","Find"),alias:"Find",precondition:K.Ao.or(p.u.focus,K.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:fn.eH.MenubarEditMenu,group:"3_find",title:Qe.NC({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}})).addImplementation(0,(ut,ke,lt)=>{const mt=$e.get(ke);return mt?mt.start({forceRevealReplace:!1,seedSearchStringFromSelection:ke.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:ke.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:ke.getOption(41).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:ke.getOption(41).loop}):!1});const Ye={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},isRegex:{type:"boolean"},matchWholeWord:{type:"boolean"},isCaseSensitive:{type:"boolean"},preserveCase:{type:"boolean"},findInSelection:{type:"boolean"}}}}]};class vt extends O.R6{constructor(){super({id:H.StartFindWithArgs,label:Qe.NC("startFindWithArgsAction","Find With Arguments"),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},metadata:Ye})}run(ke,lt,mt){return Ft(this,null,function*(){const Ve=$e.get(lt);if(Ve){const Tt=mt?{searchString:mt.searchString,replaceString:mt.replaceString,isReplaceRevealed:mt.replaceString!==void 0,isRegex:mt.isRegex,wholeWord:mt.matchWholeWord,matchCase:mt.isCaseSensitive,preserveCase:mt.preserveCase}:{};yield Ve.start({forceRevealReplace:!1,seedSearchStringFromSelection:Ve.getState().searchString.length===0&&lt.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:lt.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:(mt==null?void 0:mt.findInSelection)||!1,loop:lt.getOption(41).loop},Tt),Ve.setGlobalBufferTerm(Ve.getState().searchString)}})}}class nt extends O.R6{constructor(){super({id:H.StartFindWithSelection,label:Qe.NC("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(ke,lt){return Ft(this,null,function*(){const mt=$e.get(lt);mt&&(yield mt.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:lt.getOption(41).loop}),mt.setGlobalBufferTerm(mt.getState().searchString))})}}class Ge extends O.R6{run(ke,lt){return Ft(this,null,function*(){const mt=$e.get(lt);mt&&!this._run(mt)&&(yield mt.start({forceRevealReplace:!1,seedSearchStringFromSelection:mt.getState().searchString.length===0&&lt.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:lt.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:lt.getOption(41).loop}),this._run(mt))})}}class rt extends Ge{constructor(){super({id:H.NextMatchFindAction,label:Qe.NC("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:p.u.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:K.Ao.and(p.u.focus,A),primary:3,weight:100}]})}_run(ke){return ke.moveToNextMatch()?(ke.editor.pushUndoStop(),!0):!1}}class st extends Ge{constructor(){super({id:H.PreviousMatchFindAction,label:Qe.NC("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:p.u.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:K.Ao.and(p.u.focus,A),primary:1027,weight:100}]})}_run(ke){return ke.moveToPrevMatch()}}class tt extends O.R6{constructor(){super({id:H.GoToMatchFindAction,label:Qe.NC("findMatchAction.goToMatch","Go to Match..."),alias:"Go to Match...",precondition:Z}),this._highlightDecorations=[]}run(ke,lt,mt){const Ve=$e.get(lt);if(!Ve)return;const Tt=Ve.getState().matchesCount;if(Tt<1){ke.get(Zt.lT).notify({severity:Zt.zb.Warning,message:Qe.NC("findMatchAction.noResults","No matches. Try searching for something else.")});return}const Qt=ke.get(ci.eJ).createInputBox();Qt.placeholder=Qe.NC("findMatchAction.inputPlaceHolder","Type a number to go to a specific match (between 1 and {0})",Tt);const mi=Oi=>{const Ii=parseInt(Oi);if(isNaN(Ii))return;const Qi=Ve.getState().matchesCount;if(Ii>0&&Ii<=Qi)return Ii-1;if(Ii<0&&Ii>=-Qi)return Qi+Ii},Ci=Oi=>{const Ii=mi(Oi);if(typeof Ii=="number"){Qt.validationMessage=void 0,Ve.goToMatch(Ii);const Qi=Ve.getState().currentMatch;Qi&&this.addDecorations(lt,Qi)}else Qt.validationMessage=Qe.NC("findMatchAction.inputValidationMessage","Please type a number between 1 and {0}",Ve.getState().matchesCount),this.clearDecorations(lt)};Qt.onDidChangeValue(Oi=>{Ci(Oi)}),Qt.onDidAccept(()=>{const Oi=mi(Qt.value);typeof Oi=="number"?(Ve.goToMatch(Oi),Qt.hide()):Qt.validationMessage=Qe.NC("findMatchAction.inputValidationMessage","Please type a number between 1 and {0}",Ve.getState().matchesCount)}),Qt.onDidHide(()=>{this.clearDecorations(lt),Qt.dispose()}),Qt.show()}clearDecorations(ke){ke.changeDecorations(lt=>{this._highlightDecorations=lt.deltaDecorations(this._highlightDecorations,[])})}addDecorations(ke,lt){ke.changeDecorations(mt=>{this._highlightDecorations=mt.deltaDecorations(this._highlightDecorations,[{range:lt,options:{description:"find-match-quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:lt,options:{description:"find-match-quick-access-range-highlight-overview",overviewRuler:{color:(0,c.EN)(S.m9),position:E.sh.Full}}}])})}}class _t extends O.R6{run(ke,lt){return Ft(this,null,function*(){const mt=$e.get(lt);if(!mt)return;const Ve=Ue(lt,"single",!1);Ve&&mt.setSearchString(Ve),this._run(mt)||(yield mt.start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:lt.getOption(41).loop}),this._run(mt))})}}class kt extends _t{constructor(){super({id:H.NextSelectionMatchFindAction,label:Qe.NC("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:p.u.focus,primary:2109,weight:100}})}_run(ke){return ke.moveToNextMatch()}}class at extends _t{constructor(){super({id:H.PreviousSelectionMatchFindAction,label:Qe.NC("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:p.u.focus,primary:3133,weight:100}})}_run(ke){return ke.moveToPrevMatch()}}(0,O.rn)(new O.jY({id:H.StartFindReplaceAction,label:Qe.NC("startReplace","Replace"),alias:"Replace",precondition:K.Ao.or(p.u.focus,K.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:fn.eH.MenubarEditMenu,group:"3_find",title:Qe.NC({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}})).addImplementation(0,(ut,ke,lt)=>{if(!ke.hasModel()||ke.getOption(91))return!1;const mt=$e.get(ke);if(!mt)return!1;const Ve=ke.getSelection(),Tt=mt.isFindInputFocused(),At=!Ve.isEmpty()&&Ve.startLineNumber===Ve.endLineNumber&&ke.getOption(41).seedSearchStringFromSelection!=="never"&&!Tt,Qt=Tt||At?2:1;return mt.start({forceRevealReplace:!0,seedSearchStringFromSelection:At?"single":"none",seedSearchStringFromNonEmptySelection:ke.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:ke.getOption(41).seedSearchStringFromSelection!=="never",shouldFocus:Qt,shouldAnimate:!0,updateSearchScope:!1,loop:ke.getOption(41).loop})}),(0,O._K)($e.ID,bt,0),(0,O.Qr)(vt),(0,O.Qr)(nt),(0,O.Qr)(rt),(0,O.Qr)(st),(0,O.Qr)(tt),(0,O.Qr)(kt),(0,O.Qr)(at);const Mt=O._l.bindToContribution($e.get);(0,O.fK)(new Mt({id:H.CloseFindWidgetCommand,precondition:Z,handler:ut=>ut.closeFindWidget(),kbOpts:{weight:105,kbExpr:K.Ao.and(p.u.focus,K.Ao.not("isComposing")),primary:9,secondary:[1033]}})),(0,O.fK)(new Mt({id:H.ToggleCaseSensitiveCommand,precondition:void 0,handler:ut=>ut.toggleCaseSensitive(),kbOpts:{weight:105,kbExpr:p.u.focus,primary:I.primary,mac:I.mac,win:I.win,linux:I.linux}})),(0,O.fK)(new Mt({id:H.ToggleWholeWordCommand,precondition:void 0,handler:ut=>ut.toggleWholeWords(),kbOpts:{weight:105,kbExpr:p.u.focus,primary:W.primary,mac:W.mac,win:W.win,linux:W.linux}})),(0,O.fK)(new Mt({id:H.ToggleRegexCommand,precondition:void 0,handler:ut=>ut.toggleRegex(),kbOpts:{weight:105,kbExpr:p.u.focus,primary:G.primary,mac:G.mac,win:G.win,linux:G.linux}})),(0,O.fK)(new Mt({id:H.ToggleSearchScopeCommand,precondition:void 0,handler:ut=>ut.toggleSearchScope(),kbOpts:{weight:105,kbExpr:p.u.focus,primary:j.primary,mac:j.mac,win:j.win,linux:j.linux}})),(0,O.fK)(new Mt({id:H.TogglePreserveCaseCommand,precondition:void 0,handler:ut=>ut.togglePreserveCase(),kbOpts:{weight:105,kbExpr:p.u.focus,primary:Y.primary,mac:Y.mac,win:Y.win,linux:Y.linux}})),(0,O.fK)(new Mt({id:H.ReplaceOneAction,precondition:Z,handler:ut=>ut.replace(),kbOpts:{weight:105,kbExpr:p.u.focus,primary:3094}})),(0,O.fK)(new Mt({id:H.ReplaceOneAction,precondition:Z,handler:ut=>ut.replace(),kbOpts:{weight:105,kbExpr:K.Ao.and(p.u.focus,P),primary:3}})),(0,O.fK)(new Mt({id:H.ReplaceAllAction,precondition:Z,handler:ut=>ut.replaceAll(),kbOpts:{weight:105,kbExpr:p.u.focus,primary:2563}})),(0,O.fK)(new Mt({id:H.ReplaceAllAction,precondition:Z,handler:ut=>ut.replaceAll(),kbOpts:{weight:105,kbExpr:K.Ao.and(p.u.focus,P),primary:void 0,mac:{primary:2051}}})),(0,O.fK)(new Mt({id:H.SelectAllMatchesAction,precondition:Z,handler:ut=>ut.selectAllMatches(),kbOpts:{weight:105,kbExpr:p.u.focus,primary:515}}))},29329:function(et,Le,e){"use strict";e.d(Le,{f:function(){return Q},n:function(){return ie}});var o=e(74696),B=e(65642),x=e(25602),O=e(173),S=e(45029),p=e(30144),E=e(26974),R=e(1356),w=e(92635),m=e(22706),g=e(91895),a=e(81275),r=e(50078),i=e(15864),n=e(79329),c=e(4694),u=e(94540);class l{get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}constructor(Ce){this._updateEventEmitter=new n.Q5,this._hasLineChanges=!1,this._foldingModel=Ce,this._foldingModelListener=Ce.onDidChange(me=>this.updateHiddenRanges()),this._hiddenRanges=[],Ce.regions.length&&this.updateHiddenRanges()}notifyChangeModelContent(Ce){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=Ce.changes.some(me=>me.range.endLineNumber!==me.range.startLineNumber||(0,u.Q)(me.text)[0]!==0))}updateHiddenRanges(){let Ce=!1;const me=[];let be=0,oe=0,ue=Number.MAX_VALUE,de=-1;const Se=this._foldingModel.regions;for(;be<Se.length;be++){if(!Se.isCollapsed(be))continue;const Te=Se.getStartLineNumber(be)+1,Ae=Se.getEndLineNumber(be);ue<=Te&&Ae<=de||(!Ce&&oe<this._hiddenRanges.length&&this._hiddenRanges[oe].startLineNumber===Te&&this._hiddenRanges[oe].endLineNumber===Ae?(me.push(this._hiddenRanges[oe]),oe++):(Ce=!0,me.push(new c.e(Te,1,Ae,1))),ue=Te,de=Ae)}(this._hasLineChanges||Ce||oe<this._hiddenRanges.length)&&this.applyHiddenRanges(me)}applyHiddenRanges(Ce){this._hiddenRanges=Ce,this._hasLineChanges=!1,this._updateEventEmitter.fire(Ce)}hasRanges(){return this._hiddenRanges.length>0}isHidden(Ce){return f(this._hiddenRanges,Ce)!==null}adjustSelections(Ce){let me=!1;const be=this._foldingModel.textModel;let oe=null;const ue=de=>((!oe||!D(de,oe))&&(oe=f(this._hiddenRanges,de)),oe?oe.startLineNumber-1:null);for(let de=0,Se=Ce.length;de<Se;de++){let Te=Ce[de];const Ae=ue(Te.startLineNumber);Ae&&(Te=Te.setStartPosition(Ae,be.getLineMaxColumn(Ae)),me=!0);const pe=ue(Te.endLineNumber);pe&&(Te=Te.setEndPosition(pe,be.getLineMaxColumn(pe)),me=!0),Ce[de]=Te}return me}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function D(xe,Ce){return xe>=Ce.startLineNumber&&xe<=Ce.endLineNumber}function f(xe,Ce){const me=(0,i.J_)(xe,be=>Ce<be.startLineNumber)-1;return me>=0&&xe[me].endLineNumber>=Ce?xe[me]:null}var y=e(20182),C=e(61652),_=e(80568),N=e(83053),b=e(87390),k=e(27285),V=e(52994),K=e(81580),Z=e(32368),z=e(70546),A=e(83349),P=e(10058),I=e(12692),W=e(48774),G=function(xe,Ce,me,be){var oe=arguments.length,ue=oe<3?Ce:be===null?be=Object.getOwnPropertyDescriptor(Ce,me):be,de;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ue=Reflect.decorate(xe,Ce,me,be);else for(var Se=xe.length-1;Se>=0;Se--)(de=xe[Se])&&(ue=(oe<3?de(ue):oe>3?de(Ce,me,ue):de(Ce,me))||ue);return oe>3&&ue&&Object.defineProperty(Ce,me,ue),ue},j=function(xe,Ce){return function(me,be){Ce(me,be,xe)}},Y;const H=new _.uy("foldingEnabled",!1);let Q=Y=class extends S.JT{static get(Ce){return Ce.getContribution(Y.ID)}static getFoldingRangeProviders(Ce,me){var be,oe;const ue=Ce.foldingRangeProvider.ordered(me);return(oe=(be=Y._foldingRangeSelector)===null||be===void 0?void 0:be.call(Y,ue,me))!==null&&oe!==void 0?oe:ue}constructor(Ce,me,be,oe,ue,de){super(),this.contextKeyService=me,this.languageConfigurationService=be,this.languageFeaturesService=de,this.localToDispose=this._register(new S.SL),this.editor=Ce,this._foldingLimitReporter=new ie(Ce);const Se=this.editor.getOptions();this._isEnabled=Se.get(43),this._useFoldingProviders=Se.get(44)!=="indentation",this._unfoldOnClickAfterEndOfLine=Se.get(48),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=Se.get(46),this.updateDebounceInfo=ue.for(de.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new N.fF(Ce),this.foldingDecorationProvider.showFoldingControls=Se.get(110),this.foldingDecorationProvider.showFoldingHighlights=Se.get(45),this.foldingEnabled=H.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(Te=>{if(Te.hasChanged(43)&&(this._isEnabled=this.editor.getOptions().get(43),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),Te.hasChanged(47)&&this.onModelChanged(),Te.hasChanged(110)||Te.hasChanged(45)){const Ae=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=Ae.get(110),this.foldingDecorationProvider.showFoldingHighlights=Ae.get(45),this.triggerFoldingModelChanged()}Te.hasChanged(44)&&(this._useFoldingProviders=this.editor.getOptions().get(44)!=="indentation",this.onFoldingStrategyChanged()),Te.hasChanged(48)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(48)),Te.hasChanged(46)&&(this._foldingImportsByDefault=this.editor.getOptions().get(46))})),this.onModelChanged()}saveViewState(){const Ce=this.editor.getModel();if(!Ce||!this._isEnabled||Ce.isTooLargeForTokenization())return{};if(this.foldingModel){const me=this.foldingModel.getMemento(),be=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:me,lineCount:Ce.getLineCount(),provider:be,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(Ce){const me=this.editor.getModel();if(!(!me||!this._isEnabled||me.isTooLargeForTokenization()||!this.hiddenRangeModel)&&Ce&&(this._currentModelHasFoldedImports=!!Ce.foldedImports,Ce.collapsedRegions&&Ce.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(Ce.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();const Ce=this.editor.getModel();!this._isEnabled||!Ce||Ce.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new r.av(Ce,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new l(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(me=>this.onHiddenRangesChanges(me))),this.updateScheduler=new o.vp(this.updateDebounceInfo.get(Ce)),this.cursorChangedScheduler=new o.pY(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(me=>this.onDidChangeModelContent(me))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(me=>this.onEditorMouseDown(me))),this.localToDispose.add(this.editor.onMouseUp(me=>this.onEditorMouseUp(me))),this.localToDispose.add({dispose:()=>{var me,be;this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),(me=this.updateScheduler)===null||me===void 0||me.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,(be=this.rangeProvider)===null||be===void 0||be.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){var Ce;(Ce=this.rangeProvider)===null||Ce===void 0||Ce.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(Ce){if(this.rangeProvider)return this.rangeProvider;const me=new y.aI(Ce,this.languageConfigurationService,this._foldingLimitReporter);if(this.rangeProvider=me,this._useFoldingProviders&&this.foldingModel){const be=Y.getFoldingRangeProviders(this.languageFeaturesService,Ce);be.length>0&&(this.rangeProvider=new k.e(Ce,be,()=>this.triggerFoldingModelChanged(),this._foldingLimitReporter,me))}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(Ce){var me;(me=this.hiddenRangeModel)===null||me===void 0||me.notifyChangeModelContent(Ce),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const Ce=this.foldingModel;if(!Ce)return null;const me=new Z.G,be=this.getRangeProvider(Ce.textModel),oe=this.foldingRegionPromise=(0,o.PG)(ue=>be.compute(ue));return oe.then(ue=>{if(ue&&oe===this.foldingRegionPromise){let de;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const pe=ue.setCollapsedAllOfType(g.AD.Imports.value,!0);pe&&(de=R.Z.capture(this.editor),this._currentModelHasFoldedImports=pe)}const Se=this.editor.getSelections(),Te=Se?Se.map(pe=>pe.startLineNumber):[];Ce.update(ue,Te),de==null||de.restore(this.editor);const Ae=this.updateDebounceInfo.update(Ce.textModel,me.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=Ae)}return Ce})}).then(void 0,Ce=>((0,x.dL)(Ce),null)))}onHiddenRangesChanges(Ce){if(this.hiddenRangeModel&&Ce.length&&!this._restoringViewState){const me=this.editor.getSelections();me&&this.hiddenRangeModel.adjustSelections(me)&&this.editor.setSelections(me)}this.editor.setHiddenAreas(Ce,this)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const Ce=this.getFoldingModel();Ce&&Ce.then(me=>{if(me){const be=this.editor.getSelections();if(be&&be.length>0){const oe=[];for(const ue of be){const de=ue.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(de)&&oe.push(...me.getAllRegionsAtLine(de,Se=>Se.isCollapsed&&de>Se.startLineNumber))}oe.length&&(me.toggleCollapseState(oe),this.reveal(be[0].getPosition()))}}}).then(void 0,x.dL)}onEditorMouseDown(Ce){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!Ce.target||!Ce.target.range||!Ce.event.leftButton&&!Ce.event.middleButton)return;const me=Ce.target.range;let be=!1;switch(Ce.target.type){case 4:{const oe=Ce.target.detail,ue=Ce.target.element.offsetLeft;if(oe.offsetX-ue<4)return;be=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!Ce.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){const oe=this.editor.getModel();if(oe&&me.startColumn===oe.getLineMaxColumn(me.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:me.startLineNumber,iconClicked:be}}onEditorMouseUp(Ce){const me=this.foldingModel;if(!me||!this.mouseDownInfo||!Ce.target)return;const be=this.mouseDownInfo.lineNumber,oe=this.mouseDownInfo.iconClicked,ue=Ce.target.range;if(!ue||ue.startLineNumber!==be)return;if(oe){if(Ce.target.type!==4)return}else{const Se=this.editor.getModel();if(!Se||ue.startColumn!==Se.getLineMaxColumn(be))return}const de=me.getRegionAtLine(be);if(de&&de.startLineNumber===be){const Se=de.isCollapsed;if(oe||Se){const Te=Ce.event.altKey;let Ae=[];if(Te){const pe=ot=>!ot.containedBy(de)&&!de.containedBy(ot),je=me.getRegionsInside(null,pe);for(const ot of je)ot.isCollapsed&&Ae.push(ot);Ae.length===0&&(Ae=je)}else{const pe=Ce.event.middleButton||Ce.event.shiftKey;if(pe)for(const je of me.getRegionsInside(de))je.isCollapsed===Se&&Ae.push(je);(Se||!pe||Ae.length===0)&&Ae.push(de)}me.toggleCollapseState(Ae),this.reveal({lineNumber:be,column:1})}}}reveal(Ce){this.editor.revealPositionInCenterIfOutsideViewport(Ce,0)}};Q.ID="editor.contrib.folding",Q=Y=G([j(1,_.i6),j(2,a.c_),j(3,V.lT),j(4,K.A),j(5,z.p)],Q);class ie{constructor(Ce){this.editor=Ce,this._onDidChange=new n.Q5,this._computed=0,this._limited=!1}get limit(){return this.editor.getOptions().get(47)}update(Ce,me){(Ce!==this._computed||me!==this._limited)&&(this._computed=Ce,this._limited=me,this._onDidChange.fire())}}class te extends w.R6{runEditorCommand(Ce,me,be){const oe=Ce.get(a.c_),ue=Q.get(me);if(!ue)return;const de=ue.getFoldingModel();if(de)return this.reportTelemetry(Ce,me),de.then(Se=>{if(Se){this.invoke(ue,Se,me,be,oe);const Te=me.getSelection();Te&&ue.reveal(Te.getStartPosition())}})}getSelectedLines(Ce){const me=Ce.getSelections();return me?me.map(be=>be.startLineNumber):[]}getLineNumbers(Ce,me){return Ce&&Ce.selectionLines?Ce.selectionLines.map(be=>be+1):this.getSelectedLines(me)}run(Ce,me){}}function se(xe){if(!E.o8(xe)){if(!E.Kn(xe))return!1;const Ce=xe;if(!E.o8(Ce.levels)&&!E.hj(Ce.levels)||!E.o8(Ce.direction)&&!E.HD(Ce.direction)||!E.o8(Ce.selectionLines)&&(!Array.isArray(Ce.selectionLines)||!Ce.selectionLines.every(E.hj)))return!1}return!0}class ne extends te{constructor(){super({id:"editor.unfold",label:C.NC("unfoldAction.label","Unfold"),alias:"Unfold",precondition:H,kbOpts:{kbExpr:m.u.editorTextFocus,primary:3166,mac:{primary:2654},weight:100},metadata:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:se,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(Ce,me,be,oe){const ue=oe&&oe.levels||1,de=this.getLineNumbers(oe,be);oe&&oe.direction==="up"?(0,r.gU)(me,!1,ue,de):(0,r.R$)(me,!1,ue,de)}}class ee extends te{constructor(){super({id:"editor.unfoldRecursively",label:C.NC("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:H,kbOpts:{kbExpr:m.u.editorTextFocus,primary:(0,O.gx)(2089,2142),weight:100}})}invoke(Ce,me,be,oe){(0,r.R$)(me,!1,Number.MAX_VALUE,this.getSelectedLines(be))}}class re extends te{constructor(){super({id:"editor.fold",label:C.NC("foldAction.label","Fold"),alias:"Fold",precondition:H,kbOpts:{kbExpr:m.u.editorTextFocus,primary:3164,mac:{primary:2652},weight:100},metadata:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:se,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(Ce,me,be,oe){const ue=this.getLineNumbers(oe,be),de=oe&&oe.levels,Se=oe&&oe.direction;typeof de!="number"&&typeof Se!="string"?(0,r.HX)(me,!0,ue):Se==="up"?(0,r.gU)(me,!0,de||1,ue):(0,r.R$)(me,!0,de||1,ue)}}class he extends te{constructor(){super({id:"editor.toggleFold",label:C.NC("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:H,kbOpts:{kbExpr:m.u.editorTextFocus,primary:(0,O.gx)(2089,2090),weight:100}})}invoke(Ce,me,be){const oe=this.getSelectedLines(be);(0,r.d8)(me,1,oe)}}class M extends te{constructor(){super({id:"editor.foldRecursively",label:C.NC("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:H,kbOpts:{kbExpr:m.u.editorTextFocus,primary:(0,O.gx)(2089,2140),weight:100}})}invoke(Ce,me,be){const oe=this.getSelectedLines(be);(0,r.R$)(me,!0,Number.MAX_VALUE,oe)}}class we extends te{constructor(){super({id:"editor.foldAllBlockComments",label:C.NC("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:H,kbOpts:{kbExpr:m.u.editorTextFocus,primary:(0,O.gx)(2089,2138),weight:100}})}invoke(Ce,me,be,oe,ue){if(me.regions.hasTypes())(0,r.MW)(me,g.AD.Comment.value,!0);else{const de=be.getModel();if(!de)return;const Se=ue.getLanguageConfiguration(de.getLanguageId()).comments;if(Se&&Se.blockCommentStartToken){const Te=new RegExp("^\\s*"+(0,p.ec)(Se.blockCommentStartToken));(0,r.DW)(me,Te,!0)}}}}class We extends te{constructor(){super({id:"editor.foldAllMarkerRegions",label:C.NC("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:H,kbOpts:{kbExpr:m.u.editorTextFocus,primary:(0,O.gx)(2089,2077),weight:100}})}invoke(Ce,me,be,oe,ue){if(me.regions.hasTypes())(0,r.MW)(me,g.AD.Region.value,!0);else{const de=be.getModel();if(!de)return;const Se=ue.getLanguageConfiguration(de.getLanguageId()).foldingRules;if(Se&&Se.markers&&Se.markers.start){const Te=new RegExp(Se.markers.start);(0,r.DW)(me,Te,!0)}}}}class ye extends te{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:C.NC("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:H,kbOpts:{kbExpr:m.u.editorTextFocus,primary:(0,O.gx)(2089,2078),weight:100}})}invoke(Ce,me,be,oe,ue){if(me.regions.hasTypes())(0,r.MW)(me,g.AD.Region.value,!1);else{const de=be.getModel();if(!de)return;const Se=ue.getLanguageConfiguration(de.getLanguageId()).foldingRules;if(Se&&Se.markers&&Se.markers.start){const Te=new RegExp(Se.markers.start);(0,r.DW)(me,Te,!1)}}}}class X extends te{constructor(){super({id:"editor.foldAllExcept",label:C.NC("foldAllExcept.label","Fold All Except Selected"),alias:"Fold All Except Selected",precondition:H,kbOpts:{kbExpr:m.u.editorTextFocus,primary:(0,O.gx)(2089,2136),weight:100}})}invoke(Ce,me,be){const oe=this.getSelectedLines(be);(0,r.YT)(me,!0,oe)}}class ve extends te{constructor(){super({id:"editor.unfoldAllExcept",label:C.NC("unfoldAllExcept.label","Unfold All Except Selected"),alias:"Unfold All Except Selected",precondition:H,kbOpts:{kbExpr:m.u.editorTextFocus,primary:(0,O.gx)(2089,2134),weight:100}})}invoke(Ce,me,be){const oe=this.getSelectedLines(be);(0,r.YT)(me,!1,oe)}}class Ee extends te{constructor(){super({id:"editor.foldAll",label:C.NC("foldAllAction.label","Fold All"),alias:"Fold All",precondition:H,kbOpts:{kbExpr:m.u.editorTextFocus,primary:(0,O.gx)(2089,2069),weight:100}})}invoke(Ce,me,be){(0,r.R$)(me,!0)}}class Oe extends te{constructor(){super({id:"editor.unfoldAll",label:C.NC("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:H,kbOpts:{kbExpr:m.u.editorTextFocus,primary:(0,O.gx)(2089,2088),weight:100}})}invoke(Ce,me,be){(0,r.R$)(me,!1)}}class Ke extends te{getFoldingLevel(){return parseInt(this.id.substr(Ke.ID_PREFIX.length))}invoke(Ce,me,be){(0,r.Ln)(me,this.getFoldingLevel(),!0,this.getSelectedLines(be))}}Ke.ID_PREFIX="editor.foldLevel",Ke.ID=xe=>Ke.ID_PREFIX+xe;class Qe extends te{constructor(){super({id:"editor.gotoParentFold",label:C.NC("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:H,kbOpts:{kbExpr:m.u.editorTextFocus,weight:100}})}invoke(Ce,me,be){const oe=this.getSelectedLines(be);if(oe.length>0){const ue=(0,r.PV)(oe[0],me);ue!==null&&be.setSelection({startLineNumber:ue,startColumn:1,endLineNumber:ue,endColumn:1})}}}class fe extends te{constructor(){super({id:"editor.gotoPreviousFold",label:C.NC("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:H,kbOpts:{kbExpr:m.u.editorTextFocus,weight:100}})}invoke(Ce,me,be){const oe=this.getSelectedLines(be);if(oe.length>0){const ue=(0,r.sK)(oe[0],me);ue!==null&&be.setSelection({startLineNumber:ue,startColumn:1,endLineNumber:ue,endColumn:1})}}}class $ extends te{constructor(){super({id:"editor.gotoNextFold",label:C.NC("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:H,kbOpts:{kbExpr:m.u.editorTextFocus,weight:100}})}invoke(Ce,me,be){const oe=this.getSelectedLines(be);if(oe.length>0){const ue=(0,r.hE)(oe[0],me);ue!==null&&be.setSelection({startLineNumber:ue,startColumn:1,endLineNumber:ue,endColumn:1})}}}class le extends te{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:C.NC("createManualFoldRange.label","Create Folding Range from Selection"),alias:"Create Folding Range from Selection",precondition:H,kbOpts:{kbExpr:m.u.editorTextFocus,primary:(0,O.gx)(2089,2135),weight:100}})}invoke(Ce,me,be){var oe;const ue=[],de=be.getSelections();if(de){for(const Se of de){let Te=Se.endLineNumber;Se.endColumn===1&&--Te,Te>Se.startLineNumber&&(ue.push({startLineNumber:Se.startLineNumber,endLineNumber:Te,type:void 0,isCollapsed:!0,source:1}),be.setSelection({startLineNumber:Se.startLineNumber,startColumn:1,endLineNumber:Se.startLineNumber,endColumn:1}))}if(ue.length>0){ue.sort((Te,Ae)=>Te.startLineNumber-Ae.startLineNumber);const Se=b.MN.sanitizeAndMerge(me.regions,ue,(oe=be.getModel())===null||oe===void 0?void 0:oe.getLineCount());me.updatePost(b.MN.fromFoldRanges(Se))}}}}class De extends te{constructor(){super({id:"editor.removeManualFoldingRanges",label:C.NC("removeManualFoldingRanges.label","Remove Manual Folding Ranges"),alias:"Remove Manual Folding Ranges",precondition:H,kbOpts:{kbExpr:m.u.editorTextFocus,primary:(0,O.gx)(2089,2137),weight:100}})}invoke(Ce,me,be){const oe=be.getSelections();if(oe){const ue=[];for(const de of oe){const{startLineNumber:Se,endLineNumber:Te}=de;ue.push(Te>=Se?{startLineNumber:Se,endLineNumber:Te}:{endLineNumber:Te,startLineNumber:Se})}me.removeManualRanges(ue),Ce.triggerFoldingModelChanged()}}}(0,w._K)(Q.ID,Q,0),(0,w.Qr)(ne),(0,w.Qr)(ee),(0,w.Qr)(re),(0,w.Qr)(M),(0,w.Qr)(Ee),(0,w.Qr)(Oe),(0,w.Qr)(we),(0,w.Qr)(We),(0,w.Qr)(ye),(0,w.Qr)(X),(0,w.Qr)(ve),(0,w.Qr)(he),(0,w.Qr)(Qe),(0,w.Qr)(fe),(0,w.Qr)($),(0,w.Qr)(le),(0,w.Qr)(De);for(let xe=1;xe<=7;xe++)(0,w.QG)(new Ke({id:Ke.ID(xe),label:C.NC("foldLevelAction.label","Fold Level {0}",xe),alias:`Fold Level ${xe}`,precondition:H,kbOpts:{kbExpr:m.u.editorTextFocus,primary:(0,O.gx)(2089,2048|21+xe),weight:100}}));A.P.registerCommand("_executeFoldingRangeProvider",function(xe,...Ce){return Ft(this,null,function*(){const[me]=Ce;if(!(me instanceof P.o))throw(0,x.b1)();const be=xe.get(z.p),oe=xe.get(I.q).getModel(me);if(!oe)throw(0,x.b1)();const ue=xe.get(W.Ui);if(!ue.getValue("editor.folding",{resource:me}))return[];const de=xe.get(a.c_),Se=ue.getValue("editor.foldingStrategy",{resource:me}),Te={get limit(){return ue.getValue("editor.foldingMaximumRegions",{resource:me})},update:(xt,jt)=>{}},Ae=new y.aI(oe,de,Te);let pe=Ae;if(Se!=="indentation"){const xt=Q.getFoldingRangeProviders(be,oe);xt.length&&(pe=new k.e(oe,xt,()=>{},Te,Ae))}const je=yield pe.compute(B.Ts.None),ot=[];try{if(je)for(let xt=0;xt<je.length;xt++){const jt=je.getType(xt);ot.push({start:je.getStartLineNumber(xt),end:je.getEndLineNumber(xt),kind:jt?g.AD.fromValue(jt):void 0})}return ot}finally{pe.dispose()}})})},83053:function(et,Le,e){"use strict";e.d(Le,{Iy:function(){return w},f5:function(){return m},fF:function(){return c}});var o=e(24752),B=e(93059),x=e(61652),O=e(97341),S=e(76557),p=e(63279),E=e(68777);const R=(0,O.P6G)("editor.foldBackground",{light:(0,O.ZnX)(O.hEj,.3),dark:(0,O.ZnX)(O.hEj,.3),hcDark:null,hcLight:null},(0,x.NC)("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0);(0,O.P6G)("editorGutter.foldingControlForeground",{dark:O.XZx,light:O.XZx,hcDark:O.XZx,hcLight:O.XZx},(0,x.NC)("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));const w=(0,S.q5)("folding-expanded",o.l.chevronDown,(0,x.NC)("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),m=(0,S.q5)("folding-collapsed",o.l.chevronRight,(0,x.NC)("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin.")),g=(0,S.q5)("folding-manual-collapsed",m,(0,x.NC)("foldingManualCollapedIcon","Icon for manually collapsed ranges in the editor glyph margin.")),a=(0,S.q5)("folding-manual-expanded",w,(0,x.NC)("foldingManualExpandedIcon","Icon for manually expanded ranges in the editor glyph margin.")),r={color:(0,p.EN)(R),position:1},i=(0,x.NC)("linesCollapsed","Click to expand the range."),n=(0,x.NC)("linesExpanded","Click to collapse the range.");class c{constructor(l){this.editor=l,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(l,D,f){return D?c.HIDDEN_RANGE_DECORATION:this.showFoldingControls==="never"?l?this.showFoldingHighlights?c.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION:c.NO_CONTROLS_COLLAPSED_RANGE_DECORATION:c.NO_CONTROLS_EXPANDED_RANGE_DECORATION:l?f?this.showFoldingHighlights?c.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:c.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?c.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:c.COLLAPSED_VISUAL_DECORATION:this.showFoldingControls==="mouseover"?f?c.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:c.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:f?c.MANUALLY_EXPANDED_VISUAL_DECORATION:c.EXPANDED_VISUAL_DECORATION}changeDecorations(l){return this.editor.changeDecorations(l)}removeDecorations(l){this.editor.removeDecorations(l)}}c.COLLAPSED_VISUAL_DECORATION=B.qx.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:i,firstLineDecorationClassName:E.k.asClassName(m)}),c.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=B.qx.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:r,isWholeLine:!0,linesDecorationsTooltip:i,firstLineDecorationClassName:E.k.asClassName(m)}),c.MANUALLY_COLLAPSED_VISUAL_DECORATION=B.qx.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:i,firstLineDecorationClassName:E.k.asClassName(g)}),c.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=B.qx.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:r,isWholeLine:!0,linesDecorationsTooltip:i,firstLineDecorationClassName:E.k.asClassName(g)}),c.NO_CONTROLS_COLLAPSED_RANGE_DECORATION=B.qx.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:i}),c.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION=B.qx.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:r,isWholeLine:!0,linesDecorationsTooltip:i}),c.EXPANDED_VISUAL_DECORATION=B.qx.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+E.k.asClassName(w),linesDecorationsTooltip:n}),c.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=B.qx.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:E.k.asClassName(w),linesDecorationsTooltip:n}),c.MANUALLY_EXPANDED_VISUAL_DECORATION=B.qx.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+E.k.asClassName(a),linesDecorationsTooltip:n}),c.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=B.qx.register({description:"folding-manually-expanded-auto-hide-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:E.k.asClassName(a),linesDecorationsTooltip:n}),c.NO_CONTROLS_EXPANDED_RANGE_DECORATION=B.qx.register({description:"folding-no-controls-range-decoration",stickiness:0,isWholeLine:!0}),c.HIDDEN_RANGE_DECORATION=B.qx.register({description:"folding-hidden-range-decoration",stickiness:1})},50078:function(et,Le,e){"use strict";e.d(Le,{DW:function(){return g},HX:function(){return R},Ln:function(){return w},MW:function(){return a},PV:function(){return r},R$:function(){return p},YT:function(){return m},av:function(){return O},d8:function(){return S},gU:function(){return E},hE:function(){return n},sK:function(){return i}});var o=e(79329),B=e(87390),x=e(95948);class O{get regions(){return this._regions}get textModel(){return this._textModel}constructor(u,l){this._updateEventEmitter=new o.Q5,this.onDidChange=this._updateEventEmitter.event,this._textModel=u,this._decorationProvider=l,this._regions=new B.MN(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}toggleCollapseState(u){if(!u.length)return;u=u.sort((D,f)=>D.regionIndex-f.regionIndex);const l={};this._decorationProvider.changeDecorations(D=>{let f=0,y=-1,C=-1;const _=N=>{for(;f<N;){const b=this._regions.getEndLineNumber(f),k=this._regions.isCollapsed(f);if(b<=y){const V=this.regions.getSource(f)!==0;D.changeDecorationOptions(this._editorDecorationIds[f],this._decorationProvider.getDecorationOption(k,b<=C,V))}k&&b>C&&(C=b),f++}};for(const N of u){const b=N.regionIndex,k=this._editorDecorationIds[b];if(k&&!l[k]){l[k]=!0,_(b);const V=!this._regions.isCollapsed(b);this._regions.setCollapsed(b,V),y=Math.max(y,this._regions.getEndLineNumber(b))}}_(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:u})}removeManualRanges(u){const l=new Array,D=f=>{for(const y of u)if(!(y.startLineNumber>f.endLineNumber||f.startLineNumber>y.endLineNumber))return!0;return!1};for(let f=0;f<this._regions.length;f++){const y=this._regions.toFoldRange(f);(y.source===0||!D(y))&&l.push(y)}this.updatePost(B.MN.fromFoldRanges(l))}update(u,l=[]){const D=this._currentFoldedOrManualRanges(l),f=B.MN.sanitizeAndMerge(u,D,this._textModel.getLineCount());this.updatePost(B.MN.fromFoldRanges(f))}updatePost(u){const l=[];let D=-1;for(let f=0,y=u.length;f<y;f++){const C=u.getStartLineNumber(f),_=u.getEndLineNumber(f),N=u.isCollapsed(f),b=u.getSource(f)!==0,k={startLineNumber:C,startColumn:this._textModel.getLineMaxColumn(C),endLineNumber:_,endColumn:this._textModel.getLineMaxColumn(_)+1};l.push({range:k,options:this._decorationProvider.getDecorationOption(N,_<=D,b)}),N&&_>D&&(D=_)}this._decorationProvider.changeDecorations(f=>this._editorDecorationIds=f.deltaDecorations(this._editorDecorationIds,l)),this._regions=u,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(u=[]){const l=(f,y)=>{for(const C of u)if(f<C&&C<=y)return!0;return!1},D=[];for(let f=0,y=this._regions.length;f<y;f++){let C=this.regions.isCollapsed(f);const _=this.regions.getSource(f);if(C||_!==0){const N=this._regions.toFoldRange(f),b=this._textModel.getDecorationRange(this._editorDecorationIds[f]);b&&(C&&l(b.startLineNumber,b.endLineNumber)&&(C=!1),D.push({startLineNumber:b.startLineNumber,endLineNumber:b.endLineNumber,type:N.type,isCollapsed:C,source:_}))}}return D}getMemento(){const u=this._currentFoldedOrManualRanges(),l=[],D=this._textModel.getLineCount();for(let f=0,y=u.length;f<y;f++){const C=u[f];if(C.startLineNumber>=C.endLineNumber||C.startLineNumber<1||C.endLineNumber>D)continue;const _=this._getLinesChecksum(C.startLineNumber+1,C.endLineNumber);l.push({startLineNumber:C.startLineNumber,endLineNumber:C.endLineNumber,isCollapsed:C.isCollapsed,source:C.source,checksum:_})}return l.length>0?l:void 0}applyMemento(u){var l,D;if(!Array.isArray(u))return;const f=[],y=this._textModel.getLineCount();for(const _ of u){if(_.startLineNumber>=_.endLineNumber||_.startLineNumber<1||_.endLineNumber>y)continue;const N=this._getLinesChecksum(_.startLineNumber+1,_.endLineNumber);(!_.checksum||N===_.checksum)&&f.push({startLineNumber:_.startLineNumber,endLineNumber:_.endLineNumber,type:void 0,isCollapsed:(l=_.isCollapsed)!==null&&l!==void 0?l:!0,source:(D=_.source)!==null&&D!==void 0?D:0})}const C=B.MN.sanitizeAndMerge(this._regions,f,y);this.updatePost(B.MN.fromFoldRanges(C))}_getLinesChecksum(u,l){return(0,x.vp)(this._textModel.getLineContent(u)+this._textModel.getLineContent(l))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(u,l){const D=[];if(this._regions){let f=this._regions.findRange(u),y=1;for(;f>=0;){const C=this._regions.toRegion(f);(!l||l(C,y))&&D.push(C),y++,f=C.parentIndex}}return D}getRegionAtLine(u){if(this._regions){const l=this._regions.findRange(u);if(l>=0)return this._regions.toRegion(l)}return null}getRegionsInside(u,l){const D=[],f=u?u.regionIndex+1:0,y=u?u.endLineNumber:Number.MAX_VALUE;if(l&&l.length===2){const C=[];for(let _=f,N=this._regions.length;_<N;_++){const b=this._regions.toRegion(_);if(this._regions.getStartLineNumber(_)<y){for(;C.length>0&&!b.containedBy(C[C.length-1]);)C.pop();C.push(b),l(b,C.length)&&D.push(b)}else break}}else for(let C=f,_=this._regions.length;C<_;C++){const N=this._regions.toRegion(C);if(this._regions.getStartLineNumber(C)<y)(!l||l(N))&&D.push(N);else break}return D}}function S(c,u,l){const D=[];for(const f of l){const y=c.getRegionAtLine(f);if(y){const C=!y.isCollapsed;if(D.push(y),u>1){const _=c.getRegionsInside(y,(N,b)=>N.isCollapsed!==C&&b<u);D.push(..._)}}}c.toggleCollapseState(D)}function p(c,u,l=Number.MAX_VALUE,D){const f=[];if(D&&D.length>0)for(const y of D){const C=c.getRegionAtLine(y);if(C&&(C.isCollapsed!==u&&f.push(C),l>1)){const _=c.getRegionsInside(C,(N,b)=>N.isCollapsed!==u&&b<l);f.push(..._)}}else{const y=c.getRegionsInside(null,(C,_)=>C.isCollapsed!==u&&_<l);f.push(...y)}c.toggleCollapseState(f)}function E(c,u,l,D){const f=[];for(const y of D){const C=c.getAllRegionsAtLine(y,(_,N)=>_.isCollapsed!==u&&N<=l);f.push(...C)}c.toggleCollapseState(f)}function R(c,u,l){const D=[];for(const f of l){const y=c.getAllRegionsAtLine(f,C=>C.isCollapsed!==u);y.length>0&&D.push(y[0])}c.toggleCollapseState(D)}function w(c,u,l,D){const f=(C,_)=>_===u&&C.isCollapsed!==l&&!D.some(N=>C.containsLine(N)),y=c.getRegionsInside(null,f);c.toggleCollapseState(y)}function m(c,u,l){const D=[];for(const C of l){const _=c.getAllRegionsAtLine(C,void 0);_.length>0&&D.push(_[0])}const f=C=>D.every(_=>!_.containedBy(C)&&!C.containedBy(_))&&C.isCollapsed!==u,y=c.getRegionsInside(null,f);c.toggleCollapseState(y)}function g(c,u,l){const D=c.textModel,f=c.regions,y=[];for(let C=f.length-1;C>=0;C--)if(l!==f.isCollapsed(C)){const _=f.getStartLineNumber(C);u.test(D.getLineContent(_))&&y.push(f.toRegion(C))}c.toggleCollapseState(y)}function a(c,u,l){const D=c.regions,f=[];for(let y=D.length-1;y>=0;y--)l!==D.isCollapsed(y)&&u===D.getType(y)&&f.push(D.toRegion(y));c.toggleCollapseState(f)}function r(c,u){let l=null;const D=u.getRegionAtLine(c);if(D!==null&&(l=D.startLineNumber,c===l)){const f=D.parentIndex;f!==-1?l=u.regions.getStartLineNumber(f):l=null}return l}function i(c,u){let l=u.getRegionAtLine(c);if(l!==null&&l.startLineNumber===c){if(c!==l.startLineNumber)return l.startLineNumber;{const D=l.parentIndex;let f=0;for(D!==-1&&(f=u.regions.getStartLineNumber(l.parentIndex));l!==null;)if(l.regionIndex>0){if(l=u.regions.toRegion(l.regionIndex-1),l.startLineNumber<=f)return null;if(l.parentIndex===D)return l.startLineNumber}else return null}}else if(u.regions.length>0)for(l=u.regions.toRegion(u.regions.length-1);l!==null;){if(l.startLineNumber<c)return l.startLineNumber;l.regionIndex>0?l=u.regions.toRegion(l.regionIndex-1):l=null}return null}function n(c,u){let l=u.getRegionAtLine(c);if(l!==null&&l.startLineNumber===c){const D=l.parentIndex;let f=0;if(D!==-1)f=u.regions.getEndLineNumber(l.parentIndex);else{if(u.regions.length===0)return null;f=u.regions.getEndLineNumber(u.regions.length-1)}for(;l!==null;)if(l.regionIndex<u.regions.length){if(l=u.regions.toRegion(l.regionIndex+1),l.startLineNumber>=f)return null;if(l.parentIndex===D)return l.startLineNumber}else return null}else if(u.regions.length>0)for(l=u.regions.toRegion(0);l!==null;){if(l.startLineNumber>c)return l.startLineNumber;l.regionIndex<u.regions.length?l=u.regions.toRegion(l.regionIndex+1):l=null}return null}},87390:function(et,Le,e){"use strict";e.d(Le,{MN:function(){return p},Xl:function(){return x}});const o={0:" ",1:"u",2:"r"},B=65535,x=16777215,O=4278190080;class S{constructor(w){const m=Math.ceil(w/32);this._states=new Uint32Array(m)}get(w){const m=w/32|0,g=w%32;return(this._states[m]&1<<g)!==0}set(w,m){const g=w/32|0,a=w%32,r=this._states[g];m?this._states[g]=r|1<<a:this._states[g]=r&~(1<<a)}}class p{constructor(w,m,g){if(w.length!==m.length||w.length>B)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=w,this._endIndexes=m,this._collapseStates=new S(w.length),this._userDefinedStates=new S(w.length),this._recoveredStates=new S(w.length),this._types=g,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;const w=[],m=(g,a)=>{const r=w[w.length-1];return this.getStartLineNumber(r)<=g&&this.getEndLineNumber(r)>=a};for(let g=0,a=this._startIndexes.length;g<a;g++){const r=this._startIndexes[g],i=this._endIndexes[g];if(r>x||i>x)throw new Error("startLineNumber or endLineNumber must not exceed "+x);for(;w.length>0&&!m(r,i);)w.pop();const n=w.length>0?w[w.length-1]:-1;w.push(g),this._startIndexes[g]=r+((n&255)<<24),this._endIndexes[g]=i+((n&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(w){return this._startIndexes[w]&x}getEndLineNumber(w){return this._endIndexes[w]&x}getType(w){return this._types?this._types[w]:void 0}hasTypes(){return!!this._types}isCollapsed(w){return this._collapseStates.get(w)}setCollapsed(w,m){this._collapseStates.set(w,m)}isUserDefined(w){return this._userDefinedStates.get(w)}setUserDefined(w,m){return this._userDefinedStates.set(w,m)}isRecovered(w){return this._recoveredStates.get(w)}setRecovered(w,m){return this._recoveredStates.set(w,m)}getSource(w){return this.isUserDefined(w)?1:this.isRecovered(w)?2:0}setSource(w,m){m===1?(this.setUserDefined(w,!0),this.setRecovered(w,!1)):m===2?(this.setUserDefined(w,!1),this.setRecovered(w,!0)):(this.setUserDefined(w,!1),this.setRecovered(w,!1))}setCollapsedAllOfType(w,m){let g=!1;if(this._types)for(let a=0;a<this._types.length;a++)this._types[a]===w&&(this.setCollapsed(a,m),g=!0);return g}toRegion(w){return new E(this,w)}getParentIndex(w){this.ensureParentIndices();const m=((this._startIndexes[w]&O)>>>24)+((this._endIndexes[w]&O)>>>16);return m===B?-1:m}contains(w,m){return this.getStartLineNumber(w)<=m&&this.getEndLineNumber(w)>=m}findIndex(w){let m=0,g=this._startIndexes.length;if(g===0)return-1;for(;m<g;){const a=Math.floor((m+g)/2);w<this.getStartLineNumber(a)?g=a:m=a+1}return m-1}findRange(w){let m=this.findIndex(w);if(m>=0){if(this.getEndLineNumber(m)>=w)return m;for(m=this.getParentIndex(m);m!==-1;){if(this.contains(m,w))return m;m=this.getParentIndex(m)}}return-1}toString(){const w=[];for(let m=0;m<this.length;m++)w[m]=`[${o[this.getSource(m)]}${this.isCollapsed(m)?"+":"-"}] ${this.getStartLineNumber(m)}/${this.getEndLineNumber(m)}`;return w.join(", ")}toFoldRange(w){return{startLineNumber:this._startIndexes[w]&x,endLineNumber:this._endIndexes[w]&x,type:this._types?this._types[w]:void 0,isCollapsed:this.isCollapsed(w),source:this.getSource(w)}}static fromFoldRanges(w){const m=w.length,g=new Uint32Array(m),a=new Uint32Array(m);let r=[],i=!1;for(let c=0;c<m;c++){const u=w[c];g[c]=u.startLineNumber,a[c]=u.endLineNumber,r.push(u.type),u.type&&(i=!0)}i||(r=void 0);const n=new p(g,a,r);for(let c=0;c<m;c++)w[c].isCollapsed&&n.setCollapsed(c,!0),n.setSource(c,w[c].source);return n}static sanitizeAndMerge(w,m,g){g=g!=null?g:Number.MAX_VALUE;const a=(_,N)=>Array.isArray(_)?b=>b<N?_[b]:void 0:b=>b<N?_.toFoldRange(b):void 0,r=a(w,w.length),i=a(m,m.length);let n=0,c=0,u=r(0),l=i(0);const D=[];let f,y=0;const C=[];for(;u||l;){let _;if(l&&(!u||u.startLineNumber>=l.startLineNumber))u&&u.startLineNumber===l.startLineNumber?(l.source===1?_=l:(_=u,_.isCollapsed=l.isCollapsed&&u.endLineNumber===l.endLineNumber,_.source=0),u=r(++n)):(_=l,l.isCollapsed&&l.source===0&&(_.source=2)),l=i(++c);else{let N=c,b=l;for(;;){if(!b||b.startLineNumber>u.endLineNumber){_=u;break}if(b.source===1&&b.endLineNumber>u.endLineNumber)break;b=i(++N)}u=r(++n)}if(_){for(;f&&f.endLineNumber<_.startLineNumber;)f=D.pop();_.endLineNumber>_.startLineNumber&&_.startLineNumber>y&&_.endLineNumber<=g&&(!f||f.endLineNumber>=_.endLineNumber)&&(C.push(_),y=_.startLineNumber,f&&D.push(f),f=_)}}return C}}class E{constructor(w,m){this.ranges=w,this.index=m}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(w){return w.startLineNumber<=this.startLineNumber&&w.endLineNumber>=this.endLineNumber}containsLine(w){return this.startLineNumber<=w&&w<=this.endLineNumber}}},20182:function(et,Le,e){"use strict";e.d(Le,{aI:function(){return S}});var o=e(49512),B=e(87390);const x=5e3,O="indent";class S{constructor(m,g,a){this.editorModel=m,this.languageConfigurationService=g,this.foldingRangesLimit=a,this.id=O}dispose(){}compute(m){const g=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,a=g&&!!g.offSide,r=g&&g.markers;return Promise.resolve(R(this.editorModel,a,r,this.foldingRangesLimit))}}class p{constructor(m){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=m}insertFirst(m,g,a){if(m>B.Xl||g>B.Xl)return;const r=this._length;this._startIndexes[r]=m,this._endIndexes[r]=g,this._length++,a<1e3&&(this._indentOccurrences[a]=(this._indentOccurrences[a]||0)+1)}toIndentRanges(m){const g=this._foldingRangesLimit.limit;if(this._length<=g){this._foldingRangesLimit.update(this._length,!1);const a=new Uint32Array(this._length),r=new Uint32Array(this._length);for(let i=this._length-1,n=0;i>=0;i--,n++)a[n]=this._startIndexes[i],r[n]=this._endIndexes[i];return new B.MN(a,r)}else{this._foldingRangesLimit.update(this._length,g);let a=0,r=this._indentOccurrences.length;for(let u=0;u<this._indentOccurrences.length;u++){const l=this._indentOccurrences[u];if(l){if(l+a>g){r=u;break}a+=l}}const i=m.getOptions().tabSize,n=new Uint32Array(g),c=new Uint32Array(g);for(let u=this._length-1,l=0;u>=0;u--){const D=this._startIndexes[u],f=m.getLineContent(D),y=(0,o.q)(f,i);(y<r||y===r&&a++<g)&&(n[l]=D,c[l]=this._endIndexes[u],l++)}return new B.MN(n,c)}}}const E={limit:x,update:()=>{}};function R(w,m,g,a=E){const r=w.getOptions().tabSize,i=new p(a);let n;g&&(n=new RegExp(`(${g.start.source})|(?:${g.end.source})`));const c=[],u=w.getLineCount()+1;c.push({indent:-1,endAbove:u,line:u});for(let l=w.getLineCount();l>0;l--){const D=w.getLineContent(l),f=(0,o.q)(D,r);let y=c[c.length-1];if(f===-1){m&&(y.endAbove=l);continue}let C;if(n&&(C=D.match(n)))if(C[1]){let _=c.length-1;for(;_>0&&c[_].indent!==-2;)_--;if(_>0){c.length=_+1,y=c[_],i.insertFirst(l,y.line,f),y.line=l,y.indent=f,y.endAbove=l;continue}}else{c.push({indent:-2,endAbove:l,line:l});continue}if(y.indent>f){do c.pop(),y=c[c.length-1];while(y.indent>f);const _=y.endAbove-1;_-l>=1&&i.insertFirst(l,_,f)}y.indent===f?y.endAbove=l:c.push({indent:f,endAbove:l,line:l})}return i.toIndentRanges(w)}},27285:function(et,Le,e){"use strict";e.d(Le,{e:function(){return p}});var o=e(25602),B=e(45029),x=e(87390);const O={},S="syntax";class p{constructor(g,a,r,i,n){this.editorModel=g,this.providers=a,this.handleFoldingRangesChange=r,this.foldingRangesLimit=i,this.fallbackRangeProvider=n,this.id=S,this.disposables=new B.SL,n&&this.disposables.add(n);for(const c of a)typeof c.onDidChange=="function"&&this.disposables.add(c.onDidChange(r))}compute(g){return E(this.providers,this.editorModel,g).then(a=>{var r,i;return a?w(a,this.foldingRangesLimit):(i=(r=this.fallbackRangeProvider)===null||r===void 0?void 0:r.compute(g))!==null&&i!==void 0?i:null})}dispose(){this.disposables.dispose()}}function E(m,g,a){let r=null;const i=m.map((n,c)=>Promise.resolve(n.provideFoldingRanges(g,O,a)).then(u=>{if(!a.isCancellationRequested&&Array.isArray(u)){Array.isArray(r)||(r=[]);const l=g.getLineCount();for(const D of u)D.start>0&&D.end>D.start&&D.end<=l&&r.push({start:D.start,end:D.end,rank:c,kind:D.kind})}},o.Cp));return Promise.all(i).then(n=>r)}class R{constructor(g){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=g}add(g,a,r,i){if(g>x.Xl||a>x.Xl)return;const n=this._length;this._startIndexes[n]=g,this._endIndexes[n]=a,this._nestingLevels[n]=i,this._types[n]=r,this._length++,i<30&&(this._nestingLevelCounts[i]=(this._nestingLevelCounts[i]||0)+1)}toIndentRanges(){const g=this._foldingRangesLimit.limit;if(this._length<=g){this._foldingRangesLimit.update(this._length,!1);const a=new Uint32Array(this._length),r=new Uint32Array(this._length);for(let i=0;i<this._length;i++)a[i]=this._startIndexes[i],r[i]=this._endIndexes[i];return new x.MN(a,r,this._types)}else{this._foldingRangesLimit.update(this._length,g);let a=0,r=this._nestingLevelCounts.length;for(let u=0;u<this._nestingLevelCounts.length;u++){const l=this._nestingLevelCounts[u];if(l){if(l+a>g){r=u;break}a+=l}}const i=new Uint32Array(g),n=new Uint32Array(g),c=[];for(let u=0,l=0;u<this._length;u++){const D=this._nestingLevels[u];(D<r||D===r&&a++<g)&&(i[l]=this._startIndexes[u],n[l]=this._endIndexes[u],c[l]=this._types[u],l++)}return new x.MN(i,n,c)}}}function w(m,g){const a=m.sort((c,u)=>{let l=c.start-u.start;return l===0&&(l=c.rank-u.rank),l}),r=new R(g);let i;const n=[];for(const c of a)if(!i)i=c,r.add(c.start,c.end,c.kind&&c.kind.value,n.length);else if(c.start>i.start)if(c.end<=i.end)n.push(i),i=c,r.add(c.start,c.end,c.kind&&c.kind.value,n.length);else{if(c.start>i.end){do i=n.pop();while(i&&c.start>i.end);i&&n.push(i),i=c}r.add(c.start,c.end,c.kind&&c.kind.value,n.length)}return r.toIndentRanges()}},32202:function(et,Le,e){"use strict";var o=e(92635),B=e(58001),x=e(61652);class O extends o.R6{constructor(){super({id:"editor.action.fontZoomIn",label:x.NC("EditorFontZoomIn.label","Increase Editor Font Size"),alias:"Increase Editor Font Size",precondition:void 0})}run(R,w){B.C.setZoomLevel(B.C.getZoomLevel()+1)}}class S extends o.R6{constructor(){super({id:"editor.action.fontZoomOut",label:x.NC("EditorFontZoomOut.label","Decrease Editor Font Size"),alias:"Decrease Editor Font Size",precondition:void 0})}run(R,w){B.C.setZoomLevel(B.C.getZoomLevel()-1)}}class p extends o.R6{constructor(){super({id:"editor.action.fontZoomReset",label:x.NC("EditorFontZoomReset.label","Reset Editor Font Size"),alias:"Reset Editor Font Size",precondition:void 0})}run(R,w){B.C.setZoomLevel(0)}}(0,o.Qr)(O),(0,o.Qr)(S),(0,o.Qr)(p)},86284:function(et,Le,e){"use strict";e.d(Le,{xC:function(){return N},x$:function(){return b},Qq:function(){return V},Qs:function(){return A}});var o=e(71221),B=e(65642),x=e(25602),O=e(852),S=e(50138),p=e(26974),E=e(10058),R=e(31079),w=e(70339),m=e(93895),g=e(4694),a=e(14149),r=e(29256),i=e(21592),n=e(52129),c=e(83349);class u{constructor(I){this.value=I,this._lower=I.toLowerCase()}static toKey(I){return typeof I=="string"?I.toLowerCase():I._lower}}class l{constructor(I){if(this._set=new Set,I)for(const W of I)this.add(W)}add(I){this._set.add(u.toKey(I))}has(I){return this._set.has(u.toKey(I))}}var D=e(87058),f=e(70546),y=e(61629),C=e(75881);function _(P,I,W){const G=[],j=new l,Y=P.ordered(W);for(const Q of Y)G.push(Q),Q.extensionId&&j.add(Q.extensionId);const H=I.ordered(W);for(const Q of H){if(Q.extensionId){if(j.has(Q.extensionId))continue;j.add(Q.extensionId)}G.push({displayName:Q.displayName,extensionId:Q.extensionId,provideDocumentFormattingEdits(ie,te,se){return Q.provideDocumentRangeFormattingEdits(ie,ie.getFullModelRange(),te,se)}})}return G}class N{static setFormatterSelector(I){return{dispose:N._selectors.unshift(I)}}static select(I,W,G,j){return Ft(this,null,function*(){if(I.length===0)return;const Y=O.$.first(N._selectors);if(Y)return yield Y(I,W,G,j)})}}N._selectors=new S.S;function b(P,I,W,G,j,Y,H){return Ft(this,null,function*(){const Q=P.get(D.TG),{documentRangeFormattingEditProvider:ie}=P.get(f.p),te=(0,w.CL)(I)?I.getModel():I,se=ie.ordered(te),ne=yield N.select(se,te,G,2);ne&&(j.report(ne),yield Q.invokeFunction(k,ne,I,W,Y,H))})}function k(P,I,W,G,j,Y){return Ft(this,null,function*(){var H,Q;const ie=P.get(r.p),te=P.get(y.VZ),se=P.get(C.IV);let ne,ee;(0,w.CL)(W)?(ne=W.getModel(),ee=new R.Dl(W,5,void 0,j)):(ne=W,ee=new R.YQ(W,j));const re=[];let he=0;for(const X of(0,o._2)(G).sort(g.e.compareRangesUsingStarts))he>0&&g.e.areIntersectingOrTouching(re[he-1],X)?re[he-1]=g.e.fromPositions(re[he-1].getStartPosition(),X.getEndPosition()):he=re.push(X);const M=X=>Ft(this,null,function*(){var ve,Ee;te.trace("[format][provideDocumentRangeFormattingEdits] (request)",(ve=I.extensionId)===null||ve===void 0?void 0:ve.value,X);const Oe=(yield I.provideDocumentRangeFormattingEdits(ne,X,ne.getFormattingOptions(),ee.token))||[];return te.trace("[format][provideDocumentRangeFormattingEdits] (response)",(Ee=I.extensionId)===null||Ee===void 0?void 0:Ee.value,Oe),Oe}),we=(X,ve)=>{if(!X.length||!ve.length)return!1;const Ee=X.reduce((Oe,Ke)=>g.e.plusRange(Oe,Ke.range),X[0].range);if(!ve.some(Oe=>g.e.intersectRanges(Ee,Oe.range)))return!1;for(const Oe of X)for(const Ke of ve)if(g.e.intersectRanges(Oe.range,Ke.range))return!0;return!1},We=[],ye=[];try{if(typeof I.provideDocumentRangesFormattingEdits=="function"){te.trace("[format][provideDocumentRangeFormattingEdits] (request)",(H=I.extensionId)===null||H===void 0?void 0:H.value,re);const X=(yield I.provideDocumentRangesFormattingEdits(ne,re,ne.getFormattingOptions(),ee.token))||[];te.trace("[format][provideDocumentRangeFormattingEdits] (response)",(Q=I.extensionId)===null||Q===void 0?void 0:Q.value,X),ye.push(X)}else{for(const X of re){if(ee.token.isCancellationRequested)return!0;ye.push(yield M(X))}for(let X=0;X<re.length;++X)for(let ve=X+1;ve<re.length;++ve){if(ee.token.isCancellationRequested)return!0;if(we(ye[X],ye[ve])){const Ee=g.e.plusRange(re[X],re[ve]),Oe=yield M(Ee);re.splice(ve,1),re.splice(X,1),re.push(Ee),ye.splice(ve,1),ye.splice(X,1),ye.push(Oe),X=0,ve=0}}}for(const X of ye){if(ee.token.isCancellationRequested)return!0;const ve=yield ie.computeMoreMinimalEdits(ne.uri,X);ve&&We.push(...ve)}}finally{ee.dispose()}if(We.length===0)return!1;if((0,w.CL)(W))n.V.execute(W,We,!0),W.revealPositionInCenterIfOutsideViewport(W.getPosition(),1);else{const[{range:X}]=We,ve=new a.Y(X.startLineNumber,X.startColumn,X.endLineNumber,X.endColumn);ne.pushEditOperations([ve],We.map(Ee=>({text:Ee.text,range:g.e.lift(Ee.range),forceMoveMarkers:!0})),Ee=>{for(const{range:Oe}of Ee)if(g.e.areIntersectingOrTouching(Oe,ve))return[new a.Y(Oe.startLineNumber,Oe.startColumn,Oe.endLineNumber,Oe.endColumn)];return null})}return se.playSignal(C.iP.format,{userGesture:Y}),!0})}function V(P,I,W,G,j,Y){return Ft(this,null,function*(){const H=P.get(D.TG),Q=P.get(f.p),ie=(0,w.CL)(I)?I.getModel():I,te=_(Q.documentFormattingEditProvider,Q.documentRangeFormattingEditProvider,ie),se=yield N.select(te,ie,W,1);se&&(G.report(se),yield H.invokeFunction(K,se,I,W,j,Y))})}function K(P,I,W,G,j,Y){return Ft(this,null,function*(){const H=P.get(r.p),Q=P.get(C.IV);let ie,te;(0,w.CL)(W)?(ie=W.getModel(),te=new R.Dl(W,5,void 0,j)):(ie=W,te=new R.YQ(W,j));let se;try{const ne=yield I.provideDocumentFormattingEdits(ie,ie.getFormattingOptions(),te.token);if(se=yield H.computeMoreMinimalEdits(ie.uri,ne),te.token.isCancellationRequested)return!0}finally{te.dispose()}if(!se||se.length===0)return!1;if((0,w.CL)(W))n.V.execute(W,se,G!==2),G!==2&&W.revealPositionInCenterIfOutsideViewport(W.getPosition(),1);else{const[{range:ne}]=se,ee=new a.Y(ne.startLineNumber,ne.startColumn,ne.endLineNumber,ne.endColumn);ie.pushEditOperations([ee],se.map(re=>({text:re.text,range:g.e.lift(re.range),forceMoveMarkers:!0})),re=>{for(const{range:he}of re)if(g.e.areIntersectingOrTouching(he,ee))return[new a.Y(he.startLineNumber,he.startColumn,he.endLineNumber,he.endColumn)];return null})}return Q.playSignal(C.iP.format,{userGesture:Y}),!0})}function Z(P,I,W,G,j,Y){return Ft(this,null,function*(){const H=I.documentRangeFormattingEditProvider.ordered(W);for(const Q of H){const ie=yield Promise.resolve(Q.provideDocumentRangeFormattingEdits(W,G,j,Y)).catch(x.Cp);if((0,o.Of)(ie))return yield P.computeMoreMinimalEdits(W.uri,ie)}})}function z(P,I,W,G,j){return Ft(this,null,function*(){const Y=_(I.documentFormattingEditProvider,I.documentRangeFormattingEditProvider,W);for(const H of Y){const Q=yield Promise.resolve(H.provideDocumentFormattingEdits(W,G,j)).catch(x.Cp);if((0,o.Of)(Q))return yield P.computeMoreMinimalEdits(W.uri,Q)}})}function A(P,I,W,G,j,Y,H){const Q=I.onTypeFormattingEditProvider.ordered(W);return Q.length===0||Q[0].autoFormatTriggerCharacters.indexOf(j)<0?Promise.resolve(void 0):Promise.resolve(Q[0].provideOnTypeFormattingEdits(W,G,j,Y,H)).catch(x.Cp).then(ie=>P.computeMoreMinimalEdits(W.uri,ie))}c.P.registerCommand("_executeFormatRangeProvider",function(P,...I){return Ft(this,null,function*(){const[W,G,j]=I;(0,p.p_)(E.o.isUri(W)),(0,p.p_)(g.e.isIRange(G));const Y=P.get(i.S),H=P.get(r.p),Q=P.get(f.p),ie=yield Y.createModelReference(W);try{return Z(H,Q,ie.object.textEditorModel,g.e.lift(G),j,B.Ts.None)}finally{ie.dispose()}})}),c.P.registerCommand("_executeFormatDocumentProvider",function(P,...I){return Ft(this,null,function*(){const[W,G]=I;(0,p.p_)(E.o.isUri(W));const j=P.get(i.S),Y=P.get(r.p),H=P.get(f.p),Q=yield j.createModelReference(W);try{return z(Y,H,Q.object.textEditorModel,G,B.Ts.None)}finally{Q.dispose()}})}),c.P.registerCommand("_executeFormatOnTypeProvider",function(P,...I){return Ft(this,null,function*(){const[W,G,j,Y]=I;(0,p.p_)(E.o.isUri(W)),(0,p.p_)(m.L.isIPosition(G)),(0,p.p_)(typeof j=="string");const H=P.get(i.S),Q=P.get(r.p),ie=P.get(f.p),te=yield H.createModelReference(W);try{return A(Q,ie,te.object.textEditorModel,m.L.lift(G),j,Y,B.Ts.None)}finally{te.dispose()}})})},14585:function(et,Le,e){"use strict";var o=e(71221),B=e(65642),x=e(25602),O=e(173),S=e(45029),p=e(92635),E=e(89226),R=e(89925),w=e(4694),m=e(22706),g=e(29256),a=e(70546),r=e(86284),i=e(52129),n=e(61652),c=e(75881),u=e(83349),l=e(80568),D=e(87058),f=e(80731),y=function(V,K,Z,z){var A=arguments.length,P=A<3?K:z===null?z=Object.getOwnPropertyDescriptor(K,Z):z,I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(V,K,Z,z);else for(var W=V.length-1;W>=0;W--)(I=V[W])&&(P=(A<3?I(P):A>3?I(K,Z,P):I(K,Z))||P);return A>3&&P&&Object.defineProperty(K,Z,P),P},C=function(V,K){return function(Z,z){K(Z,z,V)}};let _=class{constructor(K,Z,z,A){this._editor=K,this._languageFeaturesService=Z,this._workerService=z,this._accessibilitySignalService=A,this._disposables=new S.SL,this._sessionDisposables=new S.SL,this._disposables.add(Z.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(K.onDidChangeModel(()=>this._update())),this._disposables.add(K.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(K.onDidChangeConfiguration(P=>{P.hasChanged(56)&&this._update()})),this._update()}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(56)||!this._editor.hasModel())return;const K=this._editor.getModel(),[Z]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(K);if(!Z||!Z.autoFormatTriggerCharacters)return;const z=new R.q;for(const A of Z.autoFormatTriggerCharacters)z.add(A.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(A=>{const P=A.charCodeAt(A.length-1);z.has(P)&&this._trigger(String.fromCharCode(P))}))}_trigger(K){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const Z=this._editor.getModel(),z=this._editor.getPosition(),A=new B.AU,P=this._editor.onDidChangeModelContent(I=>{if(I.isFlush){A.cancel(),P.dispose();return}for(let W=0,G=I.changes.length;W<G;W++)if(I.changes[W].range.endLineNumber<=z.lineNumber){A.cancel(),P.dispose();return}});(0,r.Qs)(this._workerService,this._languageFeaturesService,Z,z,K,Z.getFormattingOptions(),A.token).then(I=>{A.token.isCancellationRequested||(0,o.Of)(I)&&(this._accessibilitySignalService.playSignal(c.iP.format,{userGesture:!1}),i.V.execute(this._editor,I,!0))}).finally(()=>{P.dispose()})}};_.ID="editor.contrib.autoFormat",_=y([C(1,a.p),C(2,g.p),C(3,c.IV)],_);let N=class{constructor(K,Z,z){this.editor=K,this._languageFeaturesService=Z,this._instantiationService=z,this._callOnDispose=new S.SL,this._callOnModel=new S.SL,this._callOnDispose.add(K.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(K.onDidChangeModel(()=>this._update())),this._callOnDispose.add(K.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(Z.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(55)&&this.editor.hasModel()&&this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(({range:K})=>this._trigger(K)))}_trigger(K){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(r.x$,this.editor,K,2,f.Ex.None,B.Ts.None,!1).catch(x.dL))}};N.ID="editor.contrib.formatOnPaste",N=y([C(1,a.p),C(2,D.TG)],N);class b extends p.R6{constructor(){super({id:"editor.action.formatDocument",label:n.NC("formatDocument.label","Format Document"),alias:"Format Document",precondition:l.Ao.and(m.u.notInCompositeEditor,m.u.writable,m.u.hasDocumentFormattingProvider),kbOpts:{kbExpr:m.u.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(K,Z){return Ft(this,null,function*(){if(Z.hasModel()){const z=K.get(D.TG);yield K.get(f.ek).showWhile(z.invokeFunction(r.Qq,Z,1,f.Ex.None,B.Ts.None,!0),250)}})}}class k extends p.R6{constructor(){super({id:"editor.action.formatSelection",label:n.NC("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:l.Ao.and(m.u.writable,m.u.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:m.u.editorTextFocus,primary:(0,O.gx)(2089,2084),weight:100},contextMenuOpts:{when:m.u.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(K,Z){return Ft(this,null,function*(){if(!Z.hasModel())return;const z=K.get(D.TG),A=Z.getModel(),P=Z.getSelections().map(W=>W.isEmpty()?new w.e(W.startLineNumber,1,W.startLineNumber,A.getLineMaxColumn(W.startLineNumber)):W);yield K.get(f.ek).showWhile(z.invokeFunction(r.x$,Z,P,1,f.Ex.None,B.Ts.None,!0),250)})}}(0,p._K)(_.ID,_,2),(0,p._K)(N.ID,N,2),(0,p.Qr)(b),(0,p.Qr)(k),u.P.registerCommand("editor.action.format",V=>Ft(this,null,function*(){const K=V.get(E.$).getFocusedCodeEditor();if(!K||!K.hasModel())return;const Z=V.get(u.H);K.getSelection().isEmpty()?yield Z.executeCommand("editor.action.formatDocument"):yield Z.executeCommand("editor.action.formatSelection")}))},52129:function(et,Le,e){"use strict";e.d(Le,{V:function(){return O}});var o=e(44316),B=e(4694),x=e(1356);class O{static _handleEolEdits(p,E){let R;const w=[];for(const m of E)typeof m.eol=="number"&&(R=m.eol),m.range&&typeof m.text=="string"&&w.push(m);return typeof R=="number"&&p.hasModel()&&p.getModel().pushEOL(R),w}static _isFullModelReplaceEdit(p,E){if(!p.hasModel())return!1;const R=p.getModel(),w=R.validateRange(E.range);return R.getFullModelRange().equalsRange(w)}static execute(p,E,R){R&&p.pushUndoStop();const w=x.Z.capture(p),m=O._handleEolEdits(p,E);m.length===1&&O._isFullModelReplaceEdit(p,m[0])?p.executeEdits("formatEditsCommand",m.map(g=>o.h.replace(B.e.lift(g.range),g.text))):p.executeEdits("formatEditsCommand",m.map(g=>o.h.replaceMove(B.e.lift(g.range),g.text))),R&&p.pushUndoStop(),w.restoreRelativeVerticalPositionOfCursor(p)}}},21070:function(et,Le,e){"use strict";e.d(Le,{c:function(){return $},v:function(){return De}});var o=e(24752),B=e(45029),x=e(92635),O=e(89226),S=e(93895),p=e(4694),E=e(22706),R=e(71221),w=e(79329),m=e(50138),g=e(30144),a=e(10058),r=e(98352),i=e(87058),n=e(91466),c=e(48774),u=function(ue,de,Se,Te){var Ae=arguments.length,pe=Ae<3?de:Te===null?Te=Object.getOwnPropertyDescriptor(de,Se):Te,je;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")pe=Reflect.decorate(ue,de,Se,Te);else for(var ot=ue.length-1;ot>=0;ot--)(je=ue[ot])&&(pe=(Ae<3?je(pe):Ae>3?je(de,Se,pe):je(de,Se))||pe);return Ae>3&&pe&&Object.defineProperty(de,Se,pe),pe},l=function(ue,de){return function(Se,Te){de(Se,Te,ue)}};class D{constructor(de,Se,Te){this.marker=de,this.index=Se,this.total=Te}}let f=class{constructor(de,Se,Te){this._markerService=Se,this._configService=Te,this._onDidChange=new w.Q5,this.onDidChange=this._onDidChange.event,this._dispoables=new B.SL,this._markers=[],this._nextIdx=-1,a.o.isUri(de)?this._resourceFilter=ot=>ot.toString()===de.toString():de&&(this._resourceFilter=de);const Ae=this._configService.getValue("problems.sortOrder"),pe=(ot,xt)=>{let jt=(0,g.qu)(ot.resource.toString(),xt.resource.toString());return jt===0&&(Ae==="position"?jt=p.e.compareRangesUsingStarts(ot,xt)||n.ZL.compare(ot.severity,xt.severity):jt=n.ZL.compare(ot.severity,xt.severity)||p.e.compareRangesUsingStarts(ot,xt)),jt},je=()=>{this._markers=this._markerService.read({resource:a.o.isUri(de)?de:void 0,severities:n.ZL.Error|n.ZL.Warning|n.ZL.Info}),typeof de=="function"&&(this._markers=this._markers.filter(ot=>this._resourceFilter(ot.resource))),this._markers.sort(pe)};je(),this._dispoables.add(Se.onMarkerChanged(ot=>{(!this._resourceFilter||ot.some(xt=>this._resourceFilter(xt)))&&(je(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(de){return!this._resourceFilter&&!de?!0:!this._resourceFilter||!de?!1:this._resourceFilter(de)}get selected(){const de=this._markers[this._nextIdx];return de&&new D(de,this._nextIdx+1,this._markers.length)}_initIdx(de,Se,Te){let Ae=!1,pe=this._markers.findIndex(je=>je.resource.toString()===de.uri.toString());pe<0&&(pe=(0,R.ry)(this._markers,{resource:de.uri},(je,ot)=>(0,g.qu)(je.resource.toString(),ot.resource.toString())),pe<0&&(pe=~pe));for(let je=pe;je<this._markers.length;je++){let ot=p.e.lift(this._markers[je]);if(ot.isEmpty()){const xt=de.getWordAtPosition(ot.getStartPosition());xt&&(ot=new p.e(ot.startLineNumber,xt.startColumn,ot.startLineNumber,xt.endColumn))}if(Se&&(ot.containsPosition(Se)||Se.isBeforeOrEqual(ot.getStartPosition()))){this._nextIdx=je,Ae=!0;break}if(this._markers[je].resource.toString()!==de.uri.toString())break}Ae||(this._nextIdx=Te?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(de,Se,Te){if(this._markers.length===0)return!1;const Ae=this._nextIdx;return this._nextIdx===-1?this._initIdx(Se,Te,de):de?this._nextIdx=(this._nextIdx+1)%this._markers.length:de||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),Ae!==this._nextIdx}find(de,Se){let Te=this._markers.findIndex(Ae=>Ae.resource.toString()===de.toString());if(!(Te<0)){for(;Te<this._markers.length;Te++)if(p.e.containsPosition(this._markers[Te],Se))return new D(this._markers[Te],Te+1,this._markers.length)}}};f=u([l(1,n.lT),l(2,c.Ui)],f);const y=(0,i.yh)("IMarkerNavigationService");let C=class{constructor(de,Se){this._markerService=de,this._configService=Se,this._provider=new m.S}getMarkerList(de){for(const Se of this._provider){const Te=Se.getMarkerList(de);if(Te)return Te}return new f(de,this._markerService,this._configService)}};C=u([l(0,n.lT),l(1,c.Ui)],C),(0,r.z)(y,C,1);var _=e(61652),N=e(69713),b=e(80568),k=e(76557),V=e(91540),K=e(16846),Z=e(64707),z=e(2644),A=e(80125),P=e(88595),I=e(26039),W=e(27473),G=e(68777),j=e(25632),Y;(function(ue){function de(Se){switch(Se){case j.Z.Ignore:return"severity-ignore "+G.k.asClassName(o.l.info);case j.Z.Info:return G.k.asClassName(o.l.info);case j.Z.Warning:return G.k.asClassName(o.l.warning);case j.Z.Error:return G.k.asClassName(o.l.error);default:return""}}ue.className=de})(Y||(Y={}));var H=e(97341),Q=e(63279),ie=function(ue,de,Se,Te){var Ae=arguments.length,pe=Ae<3?de:Te===null?Te=Object.getOwnPropertyDescriptor(de,Se):Te,je;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")pe=Reflect.decorate(ue,de,Se,Te);else for(var ot=ue.length-1;ot>=0;ot--)(je=ue[ot])&&(pe=(Ae<3?je(pe):Ae>3?je(de,Se,pe):je(de,Se))||pe);return Ae>3&&pe&&Object.defineProperty(de,Se,pe),pe},te=function(ue,de){return function(Se,Te){de(Se,Te,ue)}},se;class ne{constructor(de,Se,Te,Ae,pe){this._openerService=Ae,this._labelService=pe,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new B.SL,this._editor=Se;const je=document.createElement("div");je.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),je.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),je.appendChild(this._relatedBlock),this._disposables.add(V.mu(this._relatedBlock,"click",ot=>{ot.preventDefault();const xt=this._relatedDiagnostics.get(ot.target);xt&&Te(xt)})),this._scrollable=new K.NB(je,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),de.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(ot=>{je.style.left=`-${ot.scrollLeft}px`,je.style.top=`-${ot.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,B.B9)(this._disposables)}update(de){const{source:Se,message:Te,relatedInformation:Ae,code:pe}=de;let je=((Se==null?void 0:Se.length)||0)+2;pe&&(typeof pe=="string"?je+=pe.length:je+=pe.value.length);const ot=(0,g.uq)(Te);this._lines=ot.length,this._longestLineLength=0;for(const it of ot)this._longestLineLength=Math.max(it.length+je,this._longestLineLength);V.PO(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(de)),this._editor.applyFontInfo(this._messageBlock);let xt=this._messageBlock;for(const it of ot)xt=document.createElement("div"),xt.innerText=it,it===""&&(xt.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(xt);if(Se||pe){const it=document.createElement("span");if(it.classList.add("details"),xt.appendChild(it),Se){const yt=document.createElement("span");yt.innerText=Se,yt.classList.add("source"),it.appendChild(yt)}if(pe)if(typeof pe=="string"){const yt=document.createElement("span");yt.innerText=`(${pe})`,yt.classList.add("code"),it.appendChild(yt)}else{this._codeLink=V.$("a.code-link"),this._codeLink.setAttribute("href",`${pe.target.toString()}`),this._codeLink.onclick=$t=>{this._openerService.open(pe.target,{allowCommands:!0}),$t.preventDefault(),$t.stopPropagation()};const yt=V.R3(this._codeLink,V.$("span"));yt.innerText=pe.value,it.appendChild(this._codeLink)}}if(V.PO(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,R.Of)(Ae)){const it=this._relatedBlock.appendChild(document.createElement("div"));it.style.paddingTop=`${Math.floor(this._editor.getOption(67)*.66)}px`,this._lines+=1;for(const yt of Ae){const $t=document.createElement("div"),Nt=document.createElement("a");Nt.classList.add("filename"),Nt.innerText=`${this._labelService.getUriBasenameLabel(yt.resource)}(${yt.startLineNumber}, ${yt.startColumn}): `,Nt.title=this._labelService.getUriLabel(yt.resource),this._relatedDiagnostics.set(Nt,yt);const qt=document.createElement("span");qt.innerText=yt.message,$t.appendChild(Nt),$t.appendChild(qt),this._lines+=1,it.appendChild($t)}}const jt=this._editor.getOption(50),oi=Math.ceil(jt.typicalFullwidthCharacterWidth*this._longestLineLength*.75),ti=jt.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:oi,scrollHeight:ti})}layout(de,Se){this._scrollable.getDomNode().style.height=`${de}px`,this._scrollable.getDomNode().style.width=`${Se}px`,this._scrollable.setScrollDimensions({width:Se,height:de})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(de){let Se="";switch(de.severity){case n.ZL.Error:Se=_.NC("Error","Error");break;case n.ZL.Warning:Se=_.NC("Warning","Warning");break;case n.ZL.Info:Se=_.NC("Info","Info");break;case n.ZL.Hint:Se=_.NC("Hint","Hint");break}let Te=_.NC("marker aria","{0} at {1}. ",Se,de.startLineNumber+":"+de.startColumn);const Ae=this._editor.getModel();return Ae&&de.startLineNumber<=Ae.getLineCount()&&de.startLineNumber>=1&&(Te=`${Ae.getLineContent(de.startLineNumber)}, ${Te}`),Te}}let ee=se=class extends A.vk{constructor(de,Se,Te,Ae,pe,je,ot){super(de,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},pe),this._themeService=Se,this._openerService=Te,this._menuService=Ae,this._contextKeyService=je,this._labelService=ot,this._callOnDispose=new B.SL,this._onDidSelectRelatedInformation=new w.Q5,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=n.ZL.Warning,this._backgroundColor=Z.Il.white,this._applyTheme(Se.getColorTheme()),this._callOnDispose.add(Se.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(de){this._backgroundColor=de.getColor(Oe);let Se=we,Te=We;this._severity===n.ZL.Warning?(Se=ye,Te=X):this._severity===n.ZL.Info&&(Se=ve,Te=Ee);const Ae=de.getColor(Se),pe=de.getColor(Te);this.style({arrowColor:Ae,frameColor:Ae,headerBackgroundColor:pe,primaryHeadingColor:de.getColor(A.IH),secondaryHeadingColor:de.getColor(A.R7)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(de){super._fillHead(de),this._disposables.add(this._actionbarWidget.actionRunner.onWillRun(Ae=>this.editor.focus()));const Se=[],Te=this._menuService.createMenu(se.TitleMenu,this._contextKeyService);(0,P.vr)(Te,void 0,Se),this._actionbarWidget.push(Se,{label:!1,icon:!0,index:0}),Te.dispose()}_fillTitleIcon(de){this._icon=V.R3(de,V.$(""))}_fillBody(de){this._parentContainer=de,de.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),de.appendChild(this._container),this._message=new ne(this._container,this.editor,Se=>this._onDidSelectRelatedInformation.fire(Se),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(de,Se,Te){this._container.classList.remove("stale"),this._message.update(de),this._severity=de.severity,this._applyTheme(this._themeService.getColorTheme());const Ae=p.e.lift(de),pe=this.editor.getPosition(),je=pe&&Ae.containsPosition(pe)?pe:Ae.getStartPosition();super.show(je,this.computeRequiredHeight());const ot=this.editor.getModel();if(ot){const xt=Te>1?_.NC("problems","{0} of {1} problems",Se,Te):_.NC("change","{0} of {1} problem",Se,Te);this.setTitle((0,z.EZ)(ot.uri),xt)}this._icon.className=`codicon ${Y.className(n.ZL.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(je,0),this.editor.focus()}updateMarker(de){this._container.classList.remove("stale"),this._message.update(de)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(de,Se){super._doLayoutBody(de,Se),this._heightInPixel=de,this._message.layout(de,Se),this._container.style.height=`${de}px`}_onWidth(de){this._message.layout(this._heightInPixel,de)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};ee.TitleMenu=new N.eH("gotoErrorTitleMenu"),ee=se=ie([te(1,Q.XE),te(2,W.v),te(3,N.co),te(4,i.TG),te(5,b.i6),te(6,I.e)],ee);const re=(0,H.kwl)(H.lXJ,H.b6y),he=(0,H.kwl)(H.uoC,H.pW3),M=(0,H.kwl)(H.c63,H.T83),we=(0,H.P6G)("editorMarkerNavigationError.background",{dark:re,light:re,hcDark:H.lRK,hcLight:H.lRK},_.NC("editorMarkerNavigationError","Editor marker navigation widget error color.")),We=(0,H.P6G)("editorMarkerNavigationError.headerBackground",{dark:(0,H.ZnX)(we,.1),light:(0,H.ZnX)(we,.1),hcDark:null,hcLight:null},_.NC("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),ye=(0,H.P6G)("editorMarkerNavigationWarning.background",{dark:he,light:he,hcDark:H.lRK,hcLight:H.lRK},_.NC("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),X=(0,H.P6G)("editorMarkerNavigationWarning.headerBackground",{dark:(0,H.ZnX)(ye,.1),light:(0,H.ZnX)(ye,.1),hcDark:"#0C141F",hcLight:(0,H.ZnX)(ye,.2)},_.NC("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),ve=(0,H.P6G)("editorMarkerNavigationInfo.background",{dark:M,light:M,hcDark:H.lRK,hcLight:H.lRK},_.NC("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),Ee=(0,H.P6G)("editorMarkerNavigationInfo.headerBackground",{dark:(0,H.ZnX)(ve,.1),light:(0,H.ZnX)(ve,.1),hcDark:null,hcLight:null},_.NC("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),Oe=(0,H.P6G)("editorMarkerNavigation.background",{dark:H.cvW,light:H.cvW,hcDark:H.cvW,hcLight:H.cvW},_.NC("editorMarkerNavigationBackground","Editor marker navigation widget background."));var Ke=function(ue,de,Se,Te){var Ae=arguments.length,pe=Ae<3?de:Te===null?Te=Object.getOwnPropertyDescriptor(de,Se):Te,je;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")pe=Reflect.decorate(ue,de,Se,Te);else for(var ot=ue.length-1;ot>=0;ot--)(je=ue[ot])&&(pe=(Ae<3?je(pe):Ae>3?je(de,Se,pe):je(de,Se))||pe);return Ae>3&&pe&&Object.defineProperty(de,Se,pe),pe},Qe=function(ue,de){return function(Se,Te){de(Se,Te,ue)}},fe;let $=fe=class{static get(de){return de.getContribution(fe.ID)}constructor(de,Se,Te,Ae,pe){this._markerNavigationService=Se,this._contextKeyService=Te,this._editorService=Ae,this._instantiationService=pe,this._sessionDispoables=new B.SL,this._editor=de,this._widgetVisible=be.bindTo(this._contextKeyService)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(de){if(this._model&&this._model.matches(de))return this._model;let Se=!1;return this._model&&(Se=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(de),Se&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(ee,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(Te=>{var Ae,pe,je;(!(!((Ae=this._model)===null||Ae===void 0)&&Ae.selected)||!p.e.containsPosition((pe=this._model)===null||pe===void 0?void 0:pe.selected.marker,Te.position))&&((je=this._model)===null||je===void 0||je.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const Te=this._model.find(this._editor.getModel().uri,this._widget.position);Te?this._widget.updateMarker(Te.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(Te=>{this._editorService.openCodeEditor({resource:Te.resource,options:{pinned:!0,revealIfOpened:!0,selection:p.e.lift(Te).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(de=!0){this._cleanUp(),de&&this._editor.focus()}showAtMarker(de){if(this._editor.hasModel()){const Se=this._getOrCreateModel(this._editor.getModel().uri);Se.resetIndex(),Se.move(!0,this._editor.getModel(),new S.L(de.startLineNumber,de.startColumn)),Se.selected&&this._widget.showAtMarker(Se.selected.marker,Se.selected.index,Se.selected.total)}}nagivate(de,Se){return Ft(this,null,function*(){var Te,Ae;if(this._editor.hasModel()){const pe=this._getOrCreateModel(Se?void 0:this._editor.getModel().uri);if(pe.move(de,this._editor.getModel(),this._editor.getPosition()),!pe.selected)return;if(pe.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const je=yield this._editorService.openCodeEditor({resource:pe.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:pe.selected.marker}},this._editor);je&&((Te=fe.get(je))===null||Te===void 0||Te.close(),(Ae=fe.get(je))===null||Ae===void 0||Ae.nagivate(de,Se))}else this._widget.showAtMarker(pe.selected.marker,pe.selected.index,pe.selected.total)}})}};$.ID="editor.contrib.markerController",$=fe=Ke([Qe(1,y),Qe(2,b.i6),Qe(3,O.$),Qe(4,i.TG)],$);class le extends x.R6{constructor(de,Se,Te){super(Te),this._next=de,this._multiFile=Se}run(de,Se){return Ft(this,null,function*(){var Te;Se.hasModel()&&((Te=$.get(Se))===null||Te===void 0||Te.nagivate(this._next,this._multiFile))})}}class De extends le{constructor(){super(!0,!1,{id:De.ID,label:De.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:E.u.focus,primary:578,weight:100},menuOpts:{menuId:ee.TitleMenu,title:De.LABEL,icon:(0,k.q5)("marker-navigation-next",o.l.arrowDown,_.NC("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}}De.ID="editor.action.marker.next",De.LABEL=_.NC("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");class xe extends le{constructor(){super(!1,!1,{id:xe.ID,label:xe.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:E.u.focus,primary:1602,weight:100},menuOpts:{menuId:ee.TitleMenu,title:xe.LABEL,icon:(0,k.q5)("marker-navigation-previous",o.l.arrowUp,_.NC("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}}xe.ID="editor.action.marker.prev",xe.LABEL=_.NC("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)");class Ce extends le{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:_.NC("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:E.u.focus,primary:66,weight:100},menuOpts:{menuId:N.eH.MenubarGoMenu,title:_.NC({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}class me extends le{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:_.NC("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:E.u.focus,primary:1090,weight:100},menuOpts:{menuId:N.eH.MenubarGoMenu,title:_.NC({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}}(0,x._K)($.ID,$,4),(0,x.Qr)(De),(0,x.Qr)(xe),(0,x.Qr)(Ce),(0,x.Qr)(me);const be=new b.uy("markersNavigationVisible",!1),oe=x._l.bindToContribution($.get);(0,x.fK)(new oe({id:"closeMarkersNavigation",precondition:be,handler:ue=>ue.close(),kbOpts:{weight:150,kbExpr:E.u.focus,primary:9,secondary:[1033]}}))},43527:function(et,Le,e){"use strict";e.d(Le,{BT:function(){return ve},Bj:function(){return X},_k:function(){return ye}});var o=e(91333),B=e(74696),x=e(173),O=e(26974),S=e(10058),p=e(31079),E=e(70339),R=e(92635),w=e(89226),m=e(17604),g=e(93895),a=e(4694),r=e(22706),i=e(91895),n=e(44069),c=e(30374),u=e(79329),l=e(45029),D=e(2644),f=e(61652),y=e(80568),C=e(98352),_=e(87058),N=e(66070),b=e(803),k=e(52994),V=function($,le,De,xe){var Ce=arguments.length,me=Ce<3?le:xe===null?xe=Object.getOwnPropertyDescriptor(le,De):xe,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate($,le,De,xe);else for(var oe=$.length-1;oe>=0;oe--)(be=$[oe])&&(me=(Ce<3?be(me):Ce>3?be(le,De,me):be(le,De))||me);return Ce>3&&me&&Object.defineProperty(le,De,me),me},K=function($,le){return function(De,xe){le(De,xe,$)}};const Z=new y.uy("hasSymbols",!1,(0,f.NC)("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),z=(0,_.yh)("ISymbolNavigationService");let A=class{constructor(le,De,xe,Ce){this._editorService=De,this._notificationService=xe,this._keybindingService=Ce,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=Z.bindTo(le)}reset(){var le,De;this._ctxHasSymbols.reset(),(le=this._currentState)===null||le===void 0||le.dispose(),(De=this._currentMessage)===null||De===void 0||De.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(le){const De=le.parent.parent;if(De.references.length<=1){this.reset();return}this._currentModel=De,this._currentIdx=De.references.indexOf(le),this._ctxHasSymbols.set(!0),this._showMessage();const xe=new P(this._editorService),Ce=xe.onDidChange(me=>{if(this._ignoreEditorChange)return;const be=this._editorService.getActiveCodeEditor();if(!be)return;const oe=be.getModel(),ue=be.getPosition();if(!oe||!ue)return;let de=!1,Se=!1;for(const Te of De.references)if((0,D.Xy)(Te.uri,oe.uri))de=!0,Se=Se||a.e.containsPosition(Te.range,ue);else if(de)break;(!de||!Se)&&this.reset()});this._currentState=(0,l.F8)(xe,Ce)}revealNext(le){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const De=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:De.uri,options:{selection:a.e.collapseToStart(De.range),selectionRevealType:3}},le).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var le;(le=this._currentMessage)===null||le===void 0||le.dispose();const De=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),xe=De?(0,f.NC)("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,De.getLabel()):(0,f.NC)("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(xe)}};A=V([K(0,y.i6),K(1,w.$),K(2,k.lT),K(3,N.d)],A),(0,C.z)(z,A,1),(0,R.fK)(new class extends R._l{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:Z,kbOpts:{weight:100,primary:70}})}runEditorCommand($,le){return $.get(z).revealNext(le)}}),b.W.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:Z,primary:9,handler($){$.get(z).reset()}});let P=class{constructor(le){this._listener=new Map,this._disposables=new l.SL,this._onDidChange=new u.Q5,this.onDidChange=this._onDidChange.event,this._disposables.add(le.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(le.onCodeEditorAdd(this._onDidAddEditor,this)),le.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,l.B9)(this._listener.values())}_onDidAddEditor(le){this._listener.set(le,(0,l.F8)(le.onDidChangeCursorPosition(De=>this._onDidChange.fire({editor:le})),le.onDidChangeModelContent(De=>this._onDidChange.fire({editor:le}))))}_onDidRemoveEditor(le){var De;(De=this._listener.get(le))===null||De===void 0||De.dispose(),this._listener.delete(le)}};P=V([K(0,w.$)],P);var I=e(64451),W=e(80125),G=e(69713),j=e(83349),Y=e(80731),H=e(7142),Q=e(70546),ie=e(852),te=e(48276),se,ne,ee,re,he,M,we,We;G.BH.appendMenuItem(G.eH.EditorContext,{submenu:G.eH.EditorContextPeek,title:f.NC("peek.submenu","Peek"),group:"navigation",order:100});class ye{static is(le){return!le||typeof le!="object"?!1:!!(le instanceof ye||g.L.isIPosition(le.position)&&le.model)}constructor(le,De){this.model=le,this.position=De}}class X extends R.x1{static all(){return X._allSymbolNavigationCommands.values()}static _patchConfig(le){const De=Ki(vi({},le),{f1:!0});if(De.menu)for(const xe of ie.$.wrap(De.menu))(xe.id===G.eH.EditorContext||xe.id===G.eH.EditorContextPeek)&&(xe.when=y.Ao.and(le.precondition,xe.when));return De}constructor(le,De){super(X._patchConfig(De)),this.configuration=le,X._allSymbolNavigationCommands.set(De.id,this)}runEditorCommand(le,De,xe,Ce){if(!De.hasModel())return Promise.resolve(void 0);const me=le.get(k.lT),be=le.get(w.$),oe=le.get(Y.ek),ue=le.get(z),de=le.get(Q.p),Se=le.get(_.TG),Te=De.getModel(),Ae=De.getPosition(),pe=ye.is(xe)?xe:new ye(Te,Ae),je=new p.Dl(De,5),ot=(0,B.eP)(this._getLocationModel(de,pe.model,pe.position,je.token),je.token).then(xt=>Ft(this,null,function*(){var jt;if(!xt||je.token.isCancellationRequested)return;(0,o.Z9)(xt.ariaMessage);let oi;if(xt.referenceAt(Te.uri,Ae)){const it=this._getAlternativeCommand(De);!X._activeAlternativeCommands.has(it)&&X._allSymbolNavigationCommands.has(it)&&(oi=X._allSymbolNavigationCommands.get(it))}const ti=xt.references.length;if(ti===0){if(!this.configuration.muteMessage){const it=Te.getWordAtPosition(Ae);(jt=I.O.get(De))===null||jt===void 0||jt.showMessage(this._getNoResultFoundMessage(it),Ae)}}else if(ti===1&&oi)X._activeAlternativeCommands.add(this.desc.id),Se.invokeFunction(it=>oi.runEditorCommand(it,De,xe,Ce).finally(()=>{X._activeAlternativeCommands.delete(this.desc.id)}));else return this._onResult(be,ue,De,xt,Ce)}),xt=>{me.error(xt)}).finally(()=>{je.dispose()});return oe.showWhile(ot,250),ot}_onResult(le,De,xe,Ce,me){return Ft(this,null,function*(){const be=this._getGoToPreference(xe);if(!(xe instanceof m.H)&&(this.configuration.openInPeek||be==="peek"&&Ce.references.length>1))this._openInPeek(xe,Ce,me);else{const oe=Ce.firstReference(),ue=Ce.references.length>1&&be==="gotoAndPeek",de=yield this._openReference(xe,le,oe,this.configuration.openToSide,!ue);ue&&de?this._openInPeek(de,Ce,me):Ce.dispose(),be==="goto"&&De.put(oe)}})}_openReference(le,De,xe,Ce,me){return Ft(this,null,function*(){let be;if((0,i.vx)(xe)&&(be=xe.targetSelectionRange),be||(be=xe.range),!be)return;const oe=yield De.openCodeEditor({resource:xe.uri,options:{selection:a.e.collapseToStart(be),selectionRevealType:3,selectionSource:"code.jump"}},le,Ce);if(oe){if(me){const ue=oe.getModel(),de=oe.createDecorationsCollection([{range:be,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{oe.getModel()===ue&&de.clear()},350)}return oe}})}_openInPeek(le,De,xe){const Ce=n.J.get(le);Ce&&le.hasModel()?Ce.toggleWidget(xe!=null?xe:le.getSelection(),(0,B.PG)(me=>Promise.resolve(De)),this.configuration.openInPeek):De.dispose()}}X._allSymbolNavigationCommands=new Map,X._activeAlternativeCommands=new Set;class ve extends X{_getLocationModel(le,De,xe,Ce){return Ft(this,null,function*(){return new c.oQ(yield(0,H.nD)(le.definitionProvider,De,xe,Ce),f.NC("def.title","Definitions"))})}_getNoResultFoundMessage(le){return le&&le.word?f.NC("noResultWord","No definition found for '{0}'",le.word):f.NC("generic.noResults","No definition found")}_getAlternativeCommand(le){return le.getOption(58).alternativeDefinitionCommand}_getGoToPreference(le){return le.getOption(58).multipleDefinitions}}(0,G.r1)((se=class extends ve{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:se.id,title:Ki(vi({},f.vv("actions.goToDecl.label","Go to Definition")),{mnemonicTitle:f.NC({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")}),precondition:r.u.hasDefinitionProvider,keybinding:[{when:r.u.editorTextFocus,primary:70,weight:100},{when:y.Ao.and(r.u.editorTextFocus,te.Pf),primary:2118,weight:100}],menu:[{id:G.eH.EditorContext,group:"navigation",order:1.1},{id:G.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:2}]}),j.P.registerCommandAlias("editor.action.goToDeclaration",se.id)}},se.id="editor.action.revealDefinition",se)),(0,G.r1)((ne=class extends ve{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:ne.id,title:f.vv("actions.goToDeclToSide.label","Open Definition to the Side"),precondition:y.Ao.and(r.u.hasDefinitionProvider,r.u.isInEmbeddedEditor.toNegated()),keybinding:[{when:r.u.editorTextFocus,primary:(0,x.gx)(2089,70),weight:100},{when:y.Ao.and(r.u.editorTextFocus,te.Pf),primary:(0,x.gx)(2089,2118),weight:100}]}),j.P.registerCommandAlias("editor.action.openDeclarationToTheSide",ne.id)}},ne.id="editor.action.revealDefinitionAside",ne)),(0,G.r1)((ee=class extends ve{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:ee.id,title:f.vv("actions.previewDecl.label","Peek Definition"),precondition:y.Ao.and(r.u.hasDefinitionProvider,W.Jy.notInPeekEditor,r.u.isInEmbeddedEditor.toNegated()),keybinding:{when:r.u.editorTextFocus,primary:582,linux:{primary:3140},weight:100},menu:{id:G.eH.EditorContextPeek,group:"peek",order:2}}),j.P.registerCommandAlias("editor.action.previewDeclaration",ee.id)}},ee.id="editor.action.peekDefinition",ee));class Ee extends X{_getLocationModel(le,De,xe,Ce){return Ft(this,null,function*(){return new c.oQ(yield(0,H.zq)(le.declarationProvider,De,xe,Ce),f.NC("decl.title","Declarations"))})}_getNoResultFoundMessage(le){return le&&le.word?f.NC("decl.noResultWord","No declaration found for '{0}'",le.word):f.NC("decl.generic.noResults","No declaration found")}_getAlternativeCommand(le){return le.getOption(58).alternativeDeclarationCommand}_getGoToPreference(le){return le.getOption(58).multipleDeclarations}}(0,G.r1)((re=class extends Ee{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:re.id,title:Ki(vi({},f.vv("actions.goToDeclaration.label","Go to Declaration")),{mnemonicTitle:f.NC({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")}),precondition:y.Ao.and(r.u.hasDeclarationProvider,r.u.isInEmbeddedEditor.toNegated()),menu:[{id:G.eH.EditorContext,group:"navigation",order:1.3},{id:G.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}_getNoResultFoundMessage(le){return le&&le.word?f.NC("decl.noResultWord","No declaration found for '{0}'",le.word):f.NC("decl.generic.noResults","No declaration found")}},re.id="editor.action.revealDeclaration",re)),(0,G.r1)(class extends Ee{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",title:f.vv("actions.peekDecl.label","Peek Declaration"),precondition:y.Ao.and(r.u.hasDeclarationProvider,W.Jy.notInPeekEditor,r.u.isInEmbeddedEditor.toNegated()),menu:{id:G.eH.EditorContextPeek,group:"peek",order:3}})}});class Oe extends X{_getLocationModel(le,De,xe,Ce){return Ft(this,null,function*(){return new c.oQ(yield(0,H.L3)(le.typeDefinitionProvider,De,xe,Ce),f.NC("typedef.title","Type Definitions"))})}_getNoResultFoundMessage(le){return le&&le.word?f.NC("goToTypeDefinition.noResultWord","No type definition found for '{0}'",le.word):f.NC("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(le){return le.getOption(58).alternativeTypeDefinitionCommand}_getGoToPreference(le){return le.getOption(58).multipleTypeDefinitions}}(0,G.r1)((he=class extends Oe{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:he.ID,title:Ki(vi({},f.vv("actions.goToTypeDefinition.label","Go to Type Definition")),{mnemonicTitle:f.NC({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")}),precondition:r.u.hasTypeDefinitionProvider,keybinding:{when:r.u.editorTextFocus,primary:0,weight:100},menu:[{id:G.eH.EditorContext,group:"navigation",order:1.4},{id:G.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}},he.ID="editor.action.goToTypeDefinition",he)),(0,G.r1)((M=class extends Oe{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:M.ID,title:f.vv("actions.peekTypeDefinition.label","Peek Type Definition"),precondition:y.Ao.and(r.u.hasTypeDefinitionProvider,W.Jy.notInPeekEditor,r.u.isInEmbeddedEditor.toNegated()),menu:{id:G.eH.EditorContextPeek,group:"peek",order:4}})}},M.ID="editor.action.peekTypeDefinition",M));class Ke extends X{_getLocationModel(le,De,xe,Ce){return Ft(this,null,function*(){return new c.oQ(yield(0,H.f4)(le.implementationProvider,De,xe,Ce),f.NC("impl.title","Implementations"))})}_getNoResultFoundMessage(le){return le&&le.word?f.NC("goToImplementation.noResultWord","No implementation found for '{0}'",le.word):f.NC("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(le){return le.getOption(58).alternativeImplementationCommand}_getGoToPreference(le){return le.getOption(58).multipleImplementations}}(0,G.r1)((we=class extends Ke{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:we.ID,title:Ki(vi({},f.vv("actions.goToImplementation.label","Go to Implementations")),{mnemonicTitle:f.NC({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")}),precondition:r.u.hasImplementationProvider,keybinding:{when:r.u.editorTextFocus,primary:2118,weight:100},menu:[{id:G.eH.EditorContext,group:"navigation",order:1.45},{id:G.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:4}]})}},we.ID="editor.action.goToImplementation",we)),(0,G.r1)((We=class extends Ke{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:We.ID,title:f.vv("actions.peekImplementation.label","Peek Implementations"),precondition:y.Ao.and(r.u.hasImplementationProvider,W.Jy.notInPeekEditor,r.u.isInEmbeddedEditor.toNegated()),keybinding:{when:r.u.editorTextFocus,primary:3142,weight:100},menu:{id:G.eH.EditorContextPeek,group:"peek",order:5}})}},We.ID="editor.action.peekImplementation",We));class Qe extends X{_getNoResultFoundMessage(le){return le?f.NC("references.no","No references found for '{0}'",le.word):f.NC("references.noGeneric","No references found")}_getAlternativeCommand(le){return le.getOption(58).alternativeReferenceCommand}_getGoToPreference(le){return le.getOption(58).multipleReferences}}(0,G.r1)(class extends Qe{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",title:Ki(vi({},f.vv("goToReferences.label","Go to References")),{mnemonicTitle:f.NC({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")}),precondition:y.Ao.and(r.u.hasReferenceProvider,W.Jy.notInPeekEditor,r.u.isInEmbeddedEditor.toNegated()),keybinding:{when:r.u.editorTextFocus,primary:1094,weight:100},menu:[{id:G.eH.EditorContext,group:"navigation",order:1.45},{id:G.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:5}]})}_getLocationModel(le,De,xe,Ce){return Ft(this,null,function*(){return new c.oQ(yield(0,H.aA)(le.referenceProvider,De,xe,!0,Ce),f.NC("ref.title","References"))})}}),(0,G.r1)(class extends Qe{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",title:f.vv("references.action.label","Peek References"),precondition:y.Ao.and(r.u.hasReferenceProvider,W.Jy.notInPeekEditor,r.u.isInEmbeddedEditor.toNegated()),menu:{id:G.eH.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(le,De,xe,Ce){return Ft(this,null,function*(){return new c.oQ(yield(0,H.aA)(le.referenceProvider,De,xe,!1,Ce),f.NC("ref.title","References"))})}});class fe extends X{constructor(le,De,xe){super(le,{id:"editor.action.goToLocation",title:f.vv("label.generic","Go to Any Symbol"),precondition:y.Ao.and(W.Jy.notInPeekEditor,r.u.isInEmbeddedEditor.toNegated())}),this._references=De,this._gotoMultipleBehaviour=xe}_getLocationModel(le,De,xe,Ce){return Ft(this,null,function*(){return new c.oQ(this._references,f.NC("generic.title","Locations"))})}_getNoResultFoundMessage(le){return le&&f.NC("generic.noResult","No results for '{0}'",le.word)||""}_getGoToPreference(le){var De;return(De=this._gotoMultipleBehaviour)!==null&&De!==void 0?De:le.getOption(58).multipleReferences}_getAlternativeCommand(){return""}}j.P.registerCommand({id:"editor.action.goToLocations",metadata:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:S.o},{name:"position",description:"The position at which to start",constraint:g.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto`"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:($,le,De,xe,Ce,me,be)=>Ft(this,null,function*(){(0,O.p_)(S.o.isUri(le)),(0,O.p_)(g.L.isIPosition(De)),(0,O.p_)(Array.isArray(xe)),(0,O.p_)(typeof Ce=="undefined"||typeof Ce=="string"),(0,O.p_)(typeof be=="undefined"||typeof be=="boolean");const oe=$.get(w.$),ue=yield oe.openCodeEditor({resource:le},oe.getFocusedCodeEditor());if((0,E.CL)(ue))return ue.setPosition(De),ue.revealPositionInCenterIfOutsideViewport(De,0),ue.invokeWithinContext(de=>{const Se=new class extends fe{_getNoResultFoundMessage(Te){return me||super._getNoResultFoundMessage(Te)}}({muteMessage:!me,openInPeek:!!be,openToSide:!1},xe,Ce);de.get(_.TG).invokeFunction(Se.run.bind(Se),ue)})})}),j.P.registerCommand({id:"editor.action.peekLocations",metadata:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:S.o},{name:"position",description:"The position at which to start",constraint:g.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto`"}]},handler:($,le,De,xe,Ce)=>Ft(this,null,function*(){$.get(j.H).executeCommand("editor.action.goToLocations",le,De,xe,Ce,void 0,!0)})}),j.P.registerCommand({id:"editor.action.findReferences",handler:($,le,De)=>{(0,O.p_)(S.o.isUri(le)),(0,O.p_)(g.L.isIPosition(De));const xe=$.get(Q.p),Ce=$.get(w.$);return Ce.openCodeEditor({resource:le},Ce.getFocusedCodeEditor()).then(me=>{if(!(0,E.CL)(me)||!me.hasModel())return;const be=n.J.get(me);if(!be)return;const oe=(0,B.PG)(de=>(0,H.aA)(xe.referenceProvider,me.getModel(),g.L.lift(De),!1,de).then(Se=>new c.oQ(Se,f.NC("ref.title","References")))),ue=new a.e(De.lineNumber,De.column,De.lineNumber,De.column);return Promise.resolve(be.toggleWidget(ue,oe,!1))})}}),j.P.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations")},7142:function(et,Le,e){"use strict";e.d(Le,{L3:function(){return g},aA:function(){return a},f4:function(){return m},nD:function(){return R},zq:function(){return w}});var o=e(71221),B=e(65642),x=e(25602),O=e(92635),S=e(70546),p=e(30374);function E(i,n,c,u){return Ft(this,null,function*(){const D=c.ordered(i).map(y=>Promise.resolve(u(y,i,n)).then(void 0,C=>{(0,x.Cp)(C)})),f=yield Promise.all(D);return(0,o.kX)(f.flat())})}function R(i,n,c,u){return E(n,c,i,(l,D,f)=>l.provideDefinition(D,f,u))}function w(i,n,c,u){return E(n,c,i,(l,D,f)=>l.provideDeclaration(D,f,u))}function m(i,n,c,u){return E(n,c,i,(l,D,f)=>l.provideImplementation(D,f,u))}function g(i,n,c,u){return E(n,c,i,(l,D,f)=>l.provideTypeDefinition(D,f,u))}function a(i,n,c,u,l){return E(n,c,i,(D,f,y)=>Ft(this,null,function*(){const C=yield D.provideReferences(f,y,{includeDeclaration:!0},l);if(!u||!C||C.length!==2)return C;const _=yield D.provideReferences(f,y,{includeDeclaration:!1},l);return _&&_.length===1?_:C}))}function r(i){return Ft(this,null,function*(){const n=yield i(),c=new p.oQ(n,""),u=c.references.map(l=>l.link);return c.dispose(),u})}(0,O.sb)("_executeDefinitionProvider",(i,n,c)=>{const u=i.get(S.p),l=R(u.definitionProvider,n,c,B.Ts.None);return r(()=>l)}),(0,O.sb)("_executeTypeDefinitionProvider",(i,n,c)=>{const u=i.get(S.p),l=g(u.typeDefinitionProvider,n,c,B.Ts.None);return r(()=>l)}),(0,O.sb)("_executeDeclarationProvider",(i,n,c)=>{const u=i.get(S.p),l=w(u.declarationProvider,n,c,B.Ts.None);return r(()=>l)}),(0,O.sb)("_executeReferenceProvider",(i,n,c)=>{const u=i.get(S.p),l=a(u.referenceProvider,n,c,!1,B.Ts.None);return r(()=>l)}),(0,O.sb)("_executeImplementationProvider",(i,n,c)=>{const u=i.get(S.p),l=m(u.implementationProvider,n,c,B.Ts.None);return r(()=>l)})},50835:function(et,Le,e){"use strict";e.d(Le,{yN:function(){return w}});var o=e(79329),B=e(45029),x=e(15122);function O(m,g){return!!m[g]}class S{constructor(g,a){this.target=g.target,this.isLeftClick=g.event.leftButton,this.isMiddleClick=g.event.middleButton,this.isRightClick=g.event.rightButton,this.hasTriggerModifier=O(g.event,a.triggerModifier),this.hasSideBySideModifier=O(g.event,a.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=g.event.detail<=1}}class p{constructor(g,a){this.keyCodeIsTriggerKey=g.keyCode===a.triggerKey,this.keyCodeIsSideBySideKey=g.keyCode===a.triggerSideBySideKey,this.hasTriggerModifier=O(g,a.triggerModifier)}}class E{constructor(g,a,r,i){this.triggerKey=g,this.triggerModifier=a,this.triggerSideBySideKey=r,this.triggerSideBySideModifier=i}equals(g){return this.triggerKey===g.triggerKey&&this.triggerModifier===g.triggerModifier&&this.triggerSideBySideKey===g.triggerSideBySideKey&&this.triggerSideBySideModifier===g.triggerSideBySideModifier}}function R(m){return m==="altKey"?x.dz?new E(57,"metaKey",6,"altKey"):new E(5,"ctrlKey",6,"altKey"):x.dz?new E(6,"altKey",57,"metaKey"):new E(6,"altKey",5,"ctrlKey")}class w extends B.JT{constructor(g,a){var r;super(),this._onMouseMoveOrRelevantKeyDown=this._register(new o.Q5),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new o.Q5),this.onExecute=this._onExecute.event,this._onCancel=this._register(new o.Q5),this.onCancel=this._onCancel.event,this._editor=g,this._extractLineNumberFromMouseEvent=(r=a==null?void 0:a.extractLineNumberFromMouseEvent)!==null&&r!==void 0?r:i=>i.target.position?i.target.position.lineNumber:0,this._opts=R(this._editor.getOption(78)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(i=>{if(i.hasChanged(78)){const n=R(this._editor.getOption(78));if(this._opts.equals(n))return;this._opts=n,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(i=>this._onEditorMouseMove(new S(i,this._opts)))),this._register(this._editor.onMouseDown(i=>this._onEditorMouseDown(new S(i,this._opts)))),this._register(this._editor.onMouseUp(i=>this._onEditorMouseUp(new S(i,this._opts)))),this._register(this._editor.onKeyDown(i=>this._onEditorKeyDown(new p(i,this._opts)))),this._register(this._editor.onKeyUp(i=>this._onEditorKeyUp(new p(i,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(i=>this._onDidChangeCursorSelection(i))),this._register(this._editor.onDidChangeModel(i=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(i=>{(i.scrollTopChanged||i.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(g){g.selection&&g.selection.startColumn!==g.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(g){this._lastMouseMoveEvent=g,this._onMouseMoveOrRelevantKeyDown.fire([g,null])}_onEditorMouseDown(g){this._hasTriggerKeyOnMouseDown=g.hasTriggerModifier,this._lineNumberOnMouseDown=this._extractLineNumberFromMouseEvent(g)}_onEditorMouseUp(g){const a=this._extractLineNumberFromMouseEvent(g);this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===a&&this._onExecute.fire(g)}_onEditorKeyDown(g){this._lastMouseMoveEvent&&(g.keyCodeIsTriggerKey||g.keyCodeIsSideBySideKey&&g.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,g]):g.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(g){g.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}},5227:function(et,Le,e){"use strict";e.d(Le,{S:function(){return y}});var o=e(74696),B=e(25602),x=e(60473),O=e(45029),S=e(31079),p=e(92635),E=e(4694),R=e(50131),w=e(21592),m=e(50835),g=e(80125),a=e(61652),r=e(80568),i=e(43527),n=e(7142),c=e(70546),u=e(93059),l=function(C,_,N,b){var k=arguments.length,V=k<3?_:b===null?b=Object.getOwnPropertyDescriptor(_,N):b,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")V=Reflect.decorate(C,_,N,b);else for(var Z=C.length-1;Z>=0;Z--)(K=C[Z])&&(V=(k<3?K(V):k>3?K(_,N,V):K(_,N))||V);return k>3&&V&&Object.defineProperty(_,N,V),V},D=function(C,_){return function(N,b){_(N,b,C)}},f;let y=f=class{constructor(_,N,b,k){this.textModelResolverService=N,this.languageService=b,this.languageFeaturesService=k,this.toUnhook=new O.SL,this.toUnhookForKeyboard=new O.SL,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=_,this.linkDecorations=this.editor.createDecorationsCollection();const V=new m.yN(_);this.toUnhook.add(V),this.toUnhook.add(V.onMouseMoveOrRelevantKeyDown(([K,Z])=>{this.startFindDefinitionFromMouse(K,Z!=null?Z:void 0)})),this.toUnhook.add(V.onExecute(K=>{this.isEnabled(K)&&this.gotoDefinition(K.target.position,K.hasSideBySideModifier).catch(Z=>{(0,B.dL)(Z)}).finally(()=>{this.removeLinkDecorations()})})),this.toUnhook.add(V.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(_){return _.getContribution(f.ID)}startFindDefinitionFromCursor(_){return Ft(this,null,function*(){yield this.startFindDefinition(_),this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(N=>{N&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(_,N){if(_.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(_,N)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const b=_.target.position;this.startFindDefinition(b)}startFindDefinition(_){return Ft(this,null,function*(){var N;this.toUnhookForKeyboard.clear();const b=_?(N=this.editor.getModel())===null||N===void 0?void 0:N.getWordAtPosition(_):null;if(!b){this.currentWordAtPosition=null,this.removeLinkDecorations();return}if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===b.startColumn&&this.currentWordAtPosition.endColumn===b.endColumn&&this.currentWordAtPosition.word===b.word)return;this.currentWordAtPosition=b;const k=new S.yy(this.editor,15);this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,o.PG)(Z=>this.findDefinition(_,Z));let V;try{V=yield this.previousPromise}catch(Z){(0,B.dL)(Z);return}if(!V||!V.length||!k.validate(this.editor)){this.removeLinkDecorations();return}const K=V[0].originSelectionRange?E.e.lift(V[0].originSelectionRange):new E.e(_.lineNumber,b.startColumn,_.lineNumber,b.endColumn);if(V.length>1){let Z=K;for(const{originSelectionRange:z}of V)z&&(Z=E.e.plusRange(Z,z));this.addDecoration(Z,new x.W5().appendText(a.NC("multipleResults","Click to show {0} definitions.",V.length)))}else{const Z=V[0];if(!Z.uri)return;this.textModelResolverService.createModelReference(Z.uri).then(z=>{if(!z.object||!z.object.textEditorModel){z.dispose();return}const{object:{textEditorModel:A}}=z,{startLineNumber:P}=Z.range;if(P<1||P>A.getLineCount()){z.dispose();return}const I=this.getPreviewValue(A,P,Z),W=this.languageService.guessLanguageIdByFilepathOrFirstLine(A.uri);this.addDecoration(K,I?new x.W5().appendCodeblock(W||"",I):void 0),z.dispose()})}})}getPreviewValue(_,N,b){let k=b.range;return k.endLineNumber-k.startLineNumber>=f.MAX_SOURCE_PREVIEW_LINES&&(k=this.getPreviewRangeBasedOnIndentation(_,N)),this.stripIndentationFromPreviewRange(_,N,k)}stripIndentationFromPreviewRange(_,N,b){let V=_.getLineFirstNonWhitespaceColumn(N);for(let Z=N+1;Z<b.endLineNumber;Z++){const z=_.getLineFirstNonWhitespaceColumn(Z);V=Math.min(V,z)}return _.getValueInRange(b).replace(new RegExp(`^\\s{${V-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(_,N){const b=_.getLineFirstNonWhitespaceColumn(N),k=Math.min(_.getLineCount(),N+f.MAX_SOURCE_PREVIEW_LINES);let V=N+1;for(;V<k;V++){const K=_.getLineFirstNonWhitespaceColumn(V);if(b===K)break}return new E.e(N,1,V+1,1)}addDecoration(_,N){const b={range:_,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:N}};this.linkDecorations.set([b])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(_,N){var b;return this.editor.hasModel()&&_.isLeftClick&&_.isNoneOrSingleMouseDown&&_.target.type===6&&!(((b=_.target.detail.injectedText)===null||b===void 0?void 0:b.options)instanceof u.HS)&&(_.hasTriggerModifier||(N?N.keyCodeIsTriggerKey:!1))&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(_,N){const b=this.editor.getModel();return b?(0,n.nD)(this.languageFeaturesService.definitionProvider,b,_,N):Promise.resolve(null)}gotoDefinition(_,N){return this.editor.setPosition(_),this.editor.invokeWithinContext(b=>{const k=!N&&this.editor.getOption(88)&&!this.isInPeekEditor(b);return new i.BT({openToSide:N,openInPeek:k,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(b)})}isInPeekEditor(_){const N=_.get(r.i6);return g.Jy.inPeekEditor.getValue(N)}dispose(){this.toUnhook.dispose(),this.toUnhookForKeyboard.dispose()}};y.ID="editor.contrib.gotodefinitionatposition",y.MAX_SOURCE_PREVIEW_LINES=8,y=f=l([D(1,w.S),D(2,R.O),D(3,c.p)],y),(0,p._K)(y.ID,y,2)},44069:function(et,Le,e){"use strict";e.d(Le,{J:function(){return be}});var o=e(74696),B=e(25602),x=e(173),O=e(45029),S=e(89226),p=e(93895),E=e(4694),R=e(80125),w=e(61652),m=e(83349),g=e(48774),a=e(80568),r=e(87058),i=e(803),n=e(71088),c=e(52994),u=e(10783),l=e(30374),D=e(91540),f=e(37510),y=e(64707),C=e(79329),_=e(91649),N=e(2644),b=e(17604),k=e(93059),V=e(81275),K=e(13057),Z=e(50131),z=e(21592),A=e(40667),P=e(83008),I=e(30655),W=e(87100),G=e(66070),j=e(26039),Y=e(26179),H=function(ue,de,Se,Te){var Ae=arguments.length,pe=Ae<3?de:Te===null?Te=Object.getOwnPropertyDescriptor(de,Se):Te,je;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")pe=Reflect.decorate(ue,de,Se,Te);else for(var ot=ue.length-1;ot>=0;ot--)(je=ue[ot])&&(pe=(Ae<3?je(pe):Ae>3?je(de,Se,pe):je(de,Se))||pe);return Ae>3&&pe&&Object.defineProperty(de,Se,pe),pe},Q=function(ue,de){return function(Se,Te){de(Se,Te,ue)}},ie;let te=class{constructor(de){this._resolverService=de}hasChildren(de){return de instanceof l.oQ||de instanceof l.F2}getChildren(de){if(de instanceof l.oQ)return de.groups;if(de instanceof l.F2)return de.resolve(this._resolverService).then(Se=>Se.children);throw new Error("bad tree")}};te=H([Q(0,z.S)],te);class se{getHeight(){return 23}getTemplateId(de){return de instanceof l.F2?he.id:we.id}}let ne=class{constructor(de){this._keybindingService=de}getKeyboardNavigationLabel(de){var Se;if(de instanceof l.WX){const Te=(Se=de.parent.getPreview(de))===null||Se===void 0?void 0:Se.preview(de.range);if(Te)return Te.value}return(0,N.EZ)(de.uri)}};ne=H([Q(0,G.d)],ne);class ee{getId(de){return de instanceof l.WX?de.id:de.uri}}let re=class extends O.JT{constructor(de,Se){super(),this._labelService=Se;const Te=document.createElement("div");Te.classList.add("reference-file"),this.file=this._register(new I.g(Te,{supportHighlights:!0})),this.badge=new A.Z(D.R3(Te,D.$(".count")),{},Y.ku),de.appendChild(Te)}set(de,Se){const Te=(0,N.XX)(de.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(de.uri),this._labelService.getUriLabel(Te,{relative:!0}),{title:this._labelService.getUriLabel(de.uri),matches:Se});const Ae=de.children.length;this.badge.setCount(Ae),Ae>1?this.badge.setTitleFormat((0,w.NC)("referencesCount","{0} references",Ae)):this.badge.setTitleFormat((0,w.NC)("referenceCount","{0} reference",Ae))}};re=H([Q(1,j.e)],re);let he=ie=class{constructor(de){this._instantiationService=de,this.templateId=ie.id}renderTemplate(de){return this._instantiationService.createInstance(re,de)}renderElement(de,Se,Te){Te.set(de.element,(0,W.mB)(de.filterData))}disposeTemplate(de){de.dispose()}};he.id="FileReferencesRenderer",he=ie=H([Q(0,r.TG)],he);class M extends O.JT{constructor(de){super(),this.label=this._register(new P.q(de))}set(de,Se){var Te;const Ae=(Te=de.parent.getPreview(de))===null||Te===void 0?void 0:Te.preview(de.range);if(!Ae||!Ae.value)this.label.set(`${(0,N.EZ)(de.uri)}:${de.range.startLineNumber+1}:${de.range.startColumn+1}`);else{const{value:pe,highlight:je}=Ae;Se&&!W.CL.isDefault(Se)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(pe,(0,W.mB)(Se))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(pe,[je]))}}}class we{constructor(){this.templateId=we.id}renderTemplate(de){return new M(de)}renderElement(de,Se,Te){Te.set(de.element,de.filterData)}disposeTemplate(de){de.dispose()}}we.id="OneReferenceRenderer";class We{getWidgetAriaLabel(){return(0,w.NC)("treeAriaLabel","References")}getAriaLabel(de){return de.ariaMessage}}var ye=e(63279),X=e(60031),ve=function(ue,de,Se,Te){var Ae=arguments.length,pe=Ae<3?de:Te===null?Te=Object.getOwnPropertyDescriptor(de,Se):Te,je;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")pe=Reflect.decorate(ue,de,Se,Te);else for(var ot=ue.length-1;ot>=0;ot--)(je=ue[ot])&&(pe=(Ae<3?je(pe):Ae>3?je(de,Se,pe):je(de,Se))||pe);return Ae>3&&pe&&Object.defineProperty(de,Se,pe),pe},Ee=function(ue,de){return function(Se,Te){de(Se,Te,ue)}};class Oe{constructor(de,Se){this._editor=de,this._model=Se,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new O.SL,this._callOnModelChange=new O.SL,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const de=this._editor.getModel();if(de){for(const Se of this._model.references)if(Se.uri.toString()===de.uri.toString()){this._addDecorations(Se.parent);return}}}_addDecorations(de){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const Se=[],Te=[];for(let Ae=0,pe=de.children.length;Ae<pe;Ae++){const je=de.children[Ae];this._decorationIgnoreSet.has(je.id)||je.uri.toString()===this._editor.getModel().uri.toString()&&(Se.push({range:je.range,options:Oe.DecorationOptions}),Te.push(Ae))}this._editor.changeDecorations(Ae=>{const pe=Ae.deltaDecorations([],Se);for(let je=0;je<pe.length;je++)this._decorations.set(pe[je],de.children[Te[je]])})}_onDecorationChanged(){const de=[],Se=this._editor.getModel();if(Se){for(const[Te,Ae]of this._decorations){const pe=Se.getDecorationRange(Te);if(!pe)continue;let je=!1;if(!E.e.equalsRange(pe,Ae.range)){if(E.e.spansMultipleLines(pe))je=!0;else{const ot=Ae.range.endColumn-Ae.range.startColumn,xt=pe.endColumn-pe.startColumn;ot!==xt&&(je=!0)}je?(this._decorationIgnoreSet.add(Ae.id),de.push(Te)):Ae.range=pe}}for(let Te=0,Ae=de.length;Te<Ae;Te++)this._decorations.delete(de[Te]);this._editor.removeDecorations(de)}}removeDecorations(){this._editor.removeDecorations([...this._decorations.keys()]),this._decorations.clear()}}Oe.DecorationOptions=k.qx.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class Ke{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(de){let Se,Te;try{const Ae=JSON.parse(de);Se=Ae.ratio,Te=Ae.heightInLines}catch(Ae){}return{ratio:Se||.7,heightInLines:Te||18}}}class Qe extends n.ls{}let fe=class extends R.vk{constructor(de,Se,Te,Ae,pe,je,ot,xt,jt,oi,ti,it){super(de,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},je),this._defaultTreeKeyboardSupport=Se,this.layoutData=Te,this._textModelResolverService=pe,this._instantiationService=je,this._peekViewService=ot,this._uriLabel=xt,this._undoRedoService=jt,this._keybindingService=oi,this._languageService=ti,this._languageConfigurationService=it,this._disposeOnNewModel=new O.SL,this._callOnDispose=new O.SL,this._onDidSelectReference=new C.Q5,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new D.Ro(0,0),this._applyTheme(Ae.getColorTheme()),this._callOnDispose.add(Ae.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(de,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,O.B9)(this._preview),(0,O.B9)(this._previewNotAvailableMessage),(0,O.B9)(this._tree),(0,O.B9)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(de){const Se=de.getColor(R.SC)||y.Il.transparent;this.style({arrowColor:Se,frameColor:Se,headerBackgroundColor:de.getColor(R.KY)||y.Il.transparent,primaryHeadingColor:de.getColor(R.IH),secondaryHeadingColor:de.getColor(R.R7)})}show(de){super.show(de,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(de){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:de.ctrlKey||de.metaKey||de.altKey?"side":"open",source:"title"})}_fillBody(de){this.setCssClass("reference-zone-widget"),this._messageContainer=D.R3(de,D.$("div.messages")),D.Cp(this._messageContainer),this._splitView=new f.z(de,{orientation:1}),this._previewContainer=D.R3(de,D.$("div.preview.inline"));const Se={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!0},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(b.H,this._previewContainer,Se,{},this.editor),D.Cp(this._previewContainer),this._previewNotAvailableMessage=new k.yO(w.NC("missingPreviewMessage","no preview available"),K.bd,k.yO.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=D.R3(de,D.$("div.ref-tree.inline"));const Te={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new We,keyboardNavigationLabelProvider:this._instantiationService.createInstance(ne),identityProvider:new ee,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:R.M8}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(D.mu(this._treeContainer,"keydown",pe=>{pe.equals(9)&&(this._keybindingService.dispatchEvent(pe,pe.target),pe.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(Qe,"ReferencesWidget",this._treeContainer,new se,[this._instantiationService.createInstance(he),this._instantiationService.createInstance(we)],this._instantiationService.createInstance(te),Te),this._splitView.addView({onDidChange:C.ju.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:pe=>{this._preview.layout({height:this._dim.height,width:pe})}},f.M.Distribute),this._splitView.addView({onDidChange:C.ju.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:pe=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${pe}px`,this._tree.layout(this._dim.height,pe)}},f.M.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));const Ae=(pe,je)=>{pe instanceof l.WX&&(je==="show"&&this._revealReference(pe,!1),this._onDidSelectReference.fire({element:pe,kind:je,source:"tree"}))};this._tree.onDidOpen(pe=>{pe.sideBySide?Ae(pe.element,"side"):pe.editorOptions.pinned?Ae(pe.element,"goto"):Ae(pe.element,"show")}),D.Cp(this._treeContainer)}_onWidth(de){this._dim&&this._doLayoutBody(this._dim.height,de)}_doLayoutBody(de,Se){super._doLayoutBody(de,Se),this._dim=new D.Ro(Se,de),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(Se),this._splitView.resizeView(0,Se*this.layoutData.ratio)}setSelection(de){return this._revealReference(de,!0).then(()=>{this._model&&(this._tree.setSelection([de]),this._tree.setFocus([de]))})}setModel(de){return this._disposeOnNewModel.clear(),this._model=de,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=w.NC("noResults","No results"),D.$Z(this._messageContainer),Promise.resolve(void 0)):(D.Cp(this._messageContainer),this._decorationsManager=new Oe(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(de=>this._tree.rerender(de))),this._disposeOnNewModel.add(this._preview.onMouseDown(de=>{const{event:Se,target:Te}=de;if(Se.detail!==2)return;const Ae=this._getFocusedReference();Ae&&this._onDidSelectReference.fire({element:{uri:Ae.uri,range:Te.range},kind:Se.ctrlKey||Se.metaKey||Se.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),D.$Z(this._treeContainer),D.$Z(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[de]=this._tree.getFocus();if(de instanceof l.WX)return de;if(de instanceof l.F2&&de.children.length>0)return de.children[0]}revealReference(de){return Ft(this,null,function*(){yield this._revealReference(de,!1),this._onDidSelectReference.fire({element:de,kind:"goto",source:"tree"})})}_revealReference(de,Se){return Ft(this,null,function*(){if(this._revealedReference===de)return;this._revealedReference=de,de.uri.scheme!==_.lg.inMemory?this.setTitle((0,N.Hx)(de.uri),this._uriLabel.getUriLabel((0,N.XX)(de.uri))):this.setTitle(w.NC("peekView.alternateTitle","References"));const Te=this._textModelResolverService.createModelReference(de.uri);this._tree.getInput()===de.parent?this._tree.reveal(de):(Se&&this._tree.reveal(de.parent),yield this._tree.expand(de.parent),this._tree.reveal(de));const Ae=yield Te;if(!this._model){Ae.dispose();return}(0,O.B9)(this._previewModelReference);const pe=Ae.object;if(pe){const je=this._preview.getModel()===pe.textEditorModel?0:1,ot=E.e.lift(de.range).collapseToStart();this._previewModelReference=Ae,this._preview.setModel(pe.textEditorModel),this._preview.setSelection(ot),this._preview.revealRangeInCenter(ot,je)}else this._preview.setModel(this._previewNotAvailableMessage),Ae.dispose()})}};fe=ve([Ee(3,ye.XE),Ee(4,z.S),Ee(5,r.TG),Ee(6,R.Fw),Ee(7,j.e),Ee(8,X.tJ),Ee(9,G.d),Ee(10,Z.O),Ee(11,V.c_)],fe);var $=e(22706),le=e(48276),De=function(ue,de,Se,Te){var Ae=arguments.length,pe=Ae<3?de:Te===null?Te=Object.getOwnPropertyDescriptor(de,Se):Te,je;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")pe=Reflect.decorate(ue,de,Se,Te);else for(var ot=ue.length-1;ot>=0;ot--)(je=ue[ot])&&(pe=(Ae<3?je(pe):Ae>3?je(de,Se,pe):je(de,Se))||pe);return Ae>3&&pe&&Object.defineProperty(de,Se,pe),pe},xe=function(ue,de){return function(Se,Te){de(Se,Te,ue)}},Ce;const me=new a.uy("referenceSearchVisible",!1,w.NC("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));let be=Ce=class{static get(de){return de.getContribution(Ce.ID)}constructor(de,Se,Te,Ae,pe,je,ot,xt){this._defaultTreeKeyboardSupport=de,this._editor=Se,this._editorService=Ae,this._notificationService=pe,this._instantiationService=je,this._storageService=ot,this._configurationService=xt,this._disposables=new O.SL,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=me.bindTo(Te)}dispose(){var de,Se;this._referenceSearchVisible.reset(),this._disposables.dispose(),(de=this._widget)===null||de===void 0||de.dispose(),(Se=this._model)===null||Se===void 0||Se.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(de,Se,Te){let Ae;if(this._widget&&(Ae=this._widget.position),this.closeWidget(),Ae&&de.containsPosition(Ae))return;this._peekMode=Te,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const pe="peekViewLayout",je=Ke.fromJSON(this._storageService.get(pe,0,"{}"));this._widget=this._instantiationService.createInstance(fe,this._editor,this._defaultTreeKeyboardSupport,je),this._widget.setTitle(w.NC("labelLoading","Loading...")),this._widget.show(de),this._disposables.add(this._widget.onDidClose(()=>{Se.cancel(),this._widget&&(this._storageService.store(pe,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(xt=>{const{element:jt,kind:oi}=xt;if(jt)switch(oi){case"open":(xt.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(jt,!1,!1);break;case"side":this.openReference(jt,!0,!1);break;case"goto":Te?this._gotoReference(jt,!0):this.openReference(jt,!1,!0);break}}));const ot=++this._requestIdPool;Se.then(xt=>{var jt;if(ot!==this._requestIdPool||!this._widget){xt.dispose();return}return(jt=this._model)===null||jt===void 0||jt.dispose(),this._model=xt,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(w.NC("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));const oi=this._editor.getModel().uri,ti=new p.L(de.startLineNumber,de.startColumn),it=this._model.nearestReference(oi,ti);if(it)return this._widget.setSelection(it).then(()=>{this._widget&&this._editor.getOption(87)==="editor"&&this._widget.focusOnPreviewEditor()})}})},xt=>{this._notificationService.error(xt)})}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(de){return Ft(this,null,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const Se=this._widget.position;if(!Se)return;const Te=this._model.nearestReference(this._editor.getModel().uri,Se);if(!Te)return;const Ae=this._model.nextOrPreviousReference(Te,de),pe=this._editor.hasTextFocus(),je=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(Ae),yield this._gotoReference(Ae,!1),pe?this._editor.focus():this._widget&&je&&this._widget.focusOnPreviewEditor()})}revealReference(de){return Ft(this,null,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(de))})}closeWidget(de=!0){var Se,Te;(Se=this._widget)===null||Se===void 0||Se.dispose(),(Te=this._model)===null||Te===void 0||Te.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,de&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(de,Se){var Te;(Te=this._widget)===null||Te===void 0||Te.hide(),this._ignoreModelChangeEvent=!0;const Ae=E.e.lift(de.range).collapseToStart();return this._editorService.openCodeEditor({resource:de.uri,options:{selection:Ae,selectionSource:"code.jump",pinned:Se}},this._editor).then(pe=>{var je;if(this._ignoreModelChangeEvent=!1,!pe||!this._widget){this.closeWidget();return}if(this._editor===pe)this._widget.show(Ae),this._widget.focusOnReferenceTree();else{const ot=Ce.get(pe),xt=this._model.clone();this.closeWidget(),pe.focus(),ot==null||ot.toggleWidget(Ae,(0,o.PG)(jt=>Promise.resolve(xt)),(je=this._peekMode)!==null&&je!==void 0?je:!1)}},pe=>{this._ignoreModelChangeEvent=!1,(0,B.dL)(pe)})}openReference(de,Se,Te){Se||this.closeWidget();const{uri:Ae,range:pe}=de;this._editorService.openCodeEditor({resource:Ae,options:{selection:pe,selectionSource:"code.jump",pinned:Te}},this._editor,Se)}};be.ID="editor.contrib.referencesController",be=Ce=De([xe(2,a.i6),xe(3,S.$),xe(4,c.lT),xe(5,r.TG),xe(6,u.Uy),xe(7,g.Ui)],be);function oe(ue,de){const Se=(0,R.rc)(ue);if(!Se)return;const Te=be.get(Se);Te&&de(Te)}i.W.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,x.gx)(2089,60),when:a.Ao.or(me,R.Jy.inPeekEditor),handler(ue){oe(ue,de=>{de.changeFocusBetweenPreviewAndReferences()})}}),i.W.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:a.Ao.or(me,R.Jy.inPeekEditor),handler(ue){oe(ue,de=>{de.goToNextOrPreviousReference(!0)})}}),i.W.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:a.Ao.or(me,R.Jy.inPeekEditor),handler(ue){oe(ue,de=>{de.goToNextOrPreviousReference(!1)})}}),m.P.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),m.P.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),m.P.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),m.P.registerCommand("closeReferenceSearch",ue=>oe(ue,de=>de.closeWidget())),i.W.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:a.Ao.and(R.Jy.inPeekEditor,a.Ao.not("config.editor.stablePeek"))}),i.W.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:a.Ao.and(me,a.Ao.not("config.editor.stablePeek"),a.Ao.or($.u.editorTextFocus,le.Ul.negate()))}),i.W.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:a.Ao.and(me,n.CQ,n.PS.negate(),n.uJ.negate()),handler(ue){var de;const Te=(de=ue.get(n.Lw).lastFocusedList)===null||de===void 0?void 0:de.getFocus();Array.isArray(Te)&&Te[0]instanceof l.WX&&oe(ue,Ae=>Ae.revealReference(Te[0]))}}),i.W.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:a.Ao.and(me,n.CQ,n.PS.negate(),n.uJ.negate()),handler(ue){var de;const Te=(de=ue.get(n.Lw).lastFocusedList)===null||de===void 0?void 0:de.getFocus();Array.isArray(Te)&&Te[0]instanceof l.WX&&oe(ue,Ae=>Ae.openReference(Te[0],!0,!0))}}),m.P.registerCommand("openReference",ue=>{var de;const Te=(de=ue.get(n.Lw).lastFocusedList)===null||de===void 0?void 0:de.getFocus();Array.isArray(Te)&&Te[0]instanceof l.WX&&oe(ue,Ae=>Ae.openReference(Te[0],!1,!0))})},30374:function(et,Le,e){"use strict";e.d(Le,{F2:function(){return a},WX:function(){return m},oQ:function(){return r}});var o=e(25602),B=e(79329),x=e(16525),O=e(45029),S=e(79138),p=e(2644),E=e(30144),R=e(4694),w=e(61652);class m{constructor(n,c,u,l){this.isProviderFirst=n,this.parent=c,this.link=u,this._rangeCallback=l,this.id=x.a.nextId()}get uri(){return this.link.uri}get range(){var n,c;return(c=(n=this._range)!==null&&n!==void 0?n:this.link.targetSelectionRange)!==null&&c!==void 0?c:this.link.range}set range(n){this._range=n,this._rangeCallback(this)}get ariaMessage(){var n;const c=(n=this.parent.getPreview(this))===null||n===void 0?void 0:n.preview(this.range);return c?(0,w.NC)({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"{0} in {1} on line {2} at column {3}",c.value,(0,p.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn):(0,w.NC)("aria.oneReference","in {0} on line {1} at column {2}",(0,p.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn)}}class g{constructor(n){this._modelReference=n}dispose(){this._modelReference.dispose()}preview(n,c=8){const u=this._modelReference.object.textEditorModel;if(!u)return;const{startLineNumber:l,startColumn:D,endLineNumber:f,endColumn:y}=n,C=u.getWordUntilPosition({lineNumber:l,column:D-c}),_=new R.e(l,C.startColumn,l,D),N=new R.e(f,y,f,1073741824),b=u.getValueInRange(_).replace(/^\s+/,""),k=u.getValueInRange(n),V=u.getValueInRange(N).replace(/\s+$/,"");return{value:b+k+V,highlight:{start:b.length,end:b.length+k.length}}}}class a{constructor(n,c){this.parent=n,this.uri=c,this.children=[],this._previews=new S.Y9}dispose(){(0,O.B9)(this._previews.values()),this._previews.clear()}getPreview(n){return this._previews.get(n.uri)}get ariaMessage(){const n=this.children.length;return n===1?(0,w.NC)("aria.fileReferences.1","1 symbol in {0}, full path {1}",(0,p.EZ)(this.uri),this.uri.fsPath):(0,w.NC)("aria.fileReferences.N","{0} symbols in {1}, full path {2}",n,(0,p.EZ)(this.uri),this.uri.fsPath)}resolve(n){return Ft(this,null,function*(){if(this._previews.size!==0)return this;for(const c of this.children)if(!this._previews.has(c.uri))try{const u=yield n.createModelReference(c.uri);this._previews.set(c.uri,new g(u))}catch(u){(0,o.dL)(u)}return this})}}class r{constructor(n,c){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new B.Q5,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=n,this._title=c;const[u]=n;n.sort(r._compareReferences);let l;for(const D of n)if((!l||!p.SF.isEqual(l.uri,D.uri,!0))&&(l=new a(this,D.uri),this.groups.push(l)),l.children.length===0||r._compareReferences(D,l.children[l.children.length-1])!==0){const f=new m(u===D,l,D,y=>this._onDidChangeReferenceRange.fire(y));this.references.push(f),l.children.push(f)}}dispose(){(0,O.B9)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new r(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?(0,w.NC)("aria.result.0","No results found"):this.references.length===1?(0,w.NC)("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):this.groups.length===1?(0,w.NC)("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):(0,w.NC)("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(n,c){const{parent:u}=n;let l=u.children.indexOf(n);const D=u.children.length,f=u.parent.groups.length;return f===1||c&&l+1<D||!c&&l>0?(c?l=(l+1)%D:l=(l+D-1)%D,u.children[l]):(l=u.parent.groups.indexOf(u),c?(l=(l+1)%f,u.parent.groups[l].children[0]):(l=(l+f-1)%f,u.parent.groups[l].children[u.parent.groups[l].children.length-1]))}nearestReference(n,c){const u=this.references.map((l,D)=>({idx:D,prefixLen:E.Mh(l.uri.toString(),n.toString()),offsetDist:Math.abs(l.range.startLineNumber-c.lineNumber)*100+Math.abs(l.range.startColumn-c.column)})).sort((l,D)=>l.prefixLen>D.prefixLen?-1:l.prefixLen<D.prefixLen?1:l.offsetDist<D.offsetDist?-1:l.offsetDist>D.offsetDist?1:0)[0];if(u)return this.references[u.idx]}referenceAt(n,c){for(const u of this.references)if(u.uri.toString()===n.toString()&&R.e.containsPosition(u.range,c))return u}firstReference(){for(const n of this.references)if(n.isProviderFirst)return n;return this.references[0]}static _compareReferences(n,c){return p.SF.compare(n.uri,c.uri)||R.e.compareRangesUsingStarts(n.range,c.range)}}},31939:function(et,Le,e){"use strict";e.d(Le,{m:function(){return R}});var o=e(91540),B=e(74481),x=e(45029),O=e(66070),S=function(w,m,g,a){var r=arguments.length,i=r<3?m:a===null?a=Object.getOwnPropertyDescriptor(m,g):a,n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(w,m,g,a);else for(var c=w.length-1;c>=0;c--)(n=w[c])&&(i=(r<3?n(i):r>3?n(m,g,i):n(m,g))||i);return r>3&&i&&Object.defineProperty(m,g,i),i},p=function(w,m){return function(g,a){m(g,a,w)}};const E=o.$;let R=class extends x.JT{get hasContent(){return this._hasContent}constructor(m){super(),this._keybindingService=m,this._hasContent=!1,this.hoverElement=E("div.hover-row.status-bar"),this.hoverElement.tabIndex=0,this.actionsElement=o.R3(this.hoverElement,E("div.actions"))}addAction(m){const g=this._keybindingService.lookupKeybinding(m.commandId),a=g?g.getLabel():null;return this._hasContent=!0,this._register(B.Sr.render(this.actionsElement,m,a))}append(m){const g=o.R3(this.actionsElement,m);return this._hasContent=!0,g}};R=S([p(0,O.d)],R)},67555:function(et,Le,e){"use strict";e.d(Le,{OP:function(){return R}});var o=e(74696),B=e(65642),x=e(25602),O=e(92635),S=e(70546);class p{constructor(a,r,i){this.provider=a,this.hover=r,this.ordinal=i}}function E(g,a,r,i,n){return Ft(this,null,function*(){const c=yield Promise.resolve(g.provideHover(r,i,n)).catch(x.Cp);if(!(!c||!m(c)))return new p(g,c,a)})}function R(g,a,r,i){const c=g.ordered(a).map((u,l)=>E(u,l,a,r,i));return o.Aq.fromPromises(c).coalesce()}function w(g,a,r,i){return R(g,a,r,i).map(n=>n.hover).toPromise()}(0,O.sb)("_executeHoverProvider",(g,a,r)=>{const i=g.get(S.p);return w(i.hoverProvider,a,r,B.Ts.None)});function m(g){const a=typeof g.range!="undefined",r=typeof g.contents!="undefined"&&g.contents&&g.contents.length>0;return a&&r}},2528:function(et,Le,e){"use strict";e.d(Le,{B:function(){return R},Gd:function(){return g},Io:function(){return w},UW:function(){return B},cW:function(){return E},eY:function(){return m},iS:function(){return p},m:function(){return a},p:function(){return x},q_:function(){return S},s9:function(){return o},wf:function(){return O}});const o="editor.action.showHover",B="editor.action.showDefinitionPreviewHover",x="editor.action.scrollUpHover",O="editor.action.scrollDownHover",S="editor.action.scrollLeftHover",p="editor.action.scrollRightHover",E="editor.action.pageUpHover",R="editor.action.pageDownHover",w="editor.action.goToTopHover",m="editor.action.goToBottomHover",g="editor.action.increaseHoverVerbosityLevel",a="editor.action.decreaseHoverVerbosityLevel"},65959:function(et,Le,e){"use strict";var o=e(2528),B=e(173),x=e(92635),O=e(4694),S=e(22706),p=e(5227),E=e(90590),R=e(91895),w=e(61652),m=e(87146),g;(function(We){We.NoAutoFocus="noAutoFocus",We.FocusIfVisible="focusIfVisible",We.AutoFocusImmediately="autoFocusImmediately"})(g||(g={}));class a extends x.R6{constructor(){super({id:o.s9,label:w.NC({key:"showOrFocusHover",comment:["Label for action that will trigger the showing/focusing of a hover in the editor.","If the hover is not visible, it will show the hover.","This allows for users to show the hover without using the mouse."]},"Show or Focus Hover"),metadata:{description:w.vv("showOrFocusHoverDescription","Show or focus the editor hover which shows documentation, references, and other content for a symbol at the current cursor position."),args:[{name:"args",schema:{type:"object",properties:{focus:{description:"Controls if and when the hover should take focus upon being triggered by this action.",enum:[g.NoAutoFocus,g.FocusIfVisible,g.AutoFocusImmediately],enumDescriptions:[w.NC("showOrFocusHover.focus.noAutoFocus","The hover will not automatically take focus."),w.NC("showOrFocusHover.focus.focusIfVisible","The hover will take focus only if it is already visible."),w.NC("showOrFocusHover.focus.autoFocusImmediately","The hover will automatically take focus when it appears.")],default:g.FocusIfVisible}}}}]},alias:"Show or Focus Hover",precondition:void 0,kbOpts:{kbExpr:S.u.editorTextFocus,primary:(0,B.gx)(2089,2087),weight:100}})}run(ye,X,ve){if(!X.hasModel())return;const Ee=E.c.get(X);if(!Ee)return;const Oe=ve==null?void 0:ve.focus;let Ke=g.FocusIfVisible;Object.values(g).includes(Oe)?Ke=Oe:typeof Oe=="boolean"&&Oe&&(Ke=g.AutoFocusImmediately);const Qe=$=>{const le=X.getPosition(),De=new O.e(le.lineNumber,le.column,le.lineNumber,le.column);Ee.showContentHover(De,1,1,$)},fe=X.getOption(2)===2;Ee.isHoverVisible?Ke!==g.NoAutoFocus?Ee.focus():Qe(fe):Qe(fe||Ke===g.AutoFocusImmediately)}}class r extends x.R6{constructor(){super({id:o.UW,label:w.NC({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0,metadata:{description:w.vv("showDefinitionPreviewHoverDescription","Show the definition preview hover in the editor.")}})}run(ye,X){const ve=E.c.get(X);if(!ve)return;const Ee=X.getPosition();if(!Ee)return;const Oe=new O.e(Ee.lineNumber,Ee.column,Ee.lineNumber,Ee.column),Ke=p.S.get(X);if(!Ke)return;Ke.startFindDefinitionFromCursor(Ee).then(()=>{ve.showContentHover(Oe,1,1,!0)})}}class i extends x.R6{constructor(){super({id:o.p,label:w.NC({key:"scrollUpHover",comment:["Action that allows to scroll up in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Up Hover"),alias:"Scroll Up Hover",precondition:S.u.hoverFocused,kbOpts:{kbExpr:S.u.hoverFocused,primary:16,weight:100},metadata:{description:w.vv("scrollUpHoverDescription","Scroll up the editor hover.")}})}run(ye,X){const ve=E.c.get(X);ve&&ve.scrollUp()}}class n extends x.R6{constructor(){super({id:o.wf,label:w.NC({key:"scrollDownHover",comment:["Action that allows to scroll down in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Down Hover"),alias:"Scroll Down Hover",precondition:S.u.hoverFocused,kbOpts:{kbExpr:S.u.hoverFocused,primary:18,weight:100},metadata:{description:w.vv("scrollDownHoverDescription","Scroll down the editor hover.")}})}run(ye,X){const ve=E.c.get(X);ve&&ve.scrollDown()}}class c extends x.R6{constructor(){super({id:o.q_,label:w.NC({key:"scrollLeftHover",comment:["Action that allows to scroll left in the hover widget with the left arrow when the hover widget is focused."]},"Scroll Left Hover"),alias:"Scroll Left Hover",precondition:S.u.hoverFocused,kbOpts:{kbExpr:S.u.hoverFocused,primary:15,weight:100},metadata:{description:w.vv("scrollLeftHoverDescription","Scroll left the editor hover.")}})}run(ye,X){const ve=E.c.get(X);ve&&ve.scrollLeft()}}class u extends x.R6{constructor(){super({id:o.iS,label:w.NC({key:"scrollRightHover",comment:["Action that allows to scroll right in the hover widget with the right arrow when the hover widget is focused."]},"Scroll Right Hover"),alias:"Scroll Right Hover",precondition:S.u.hoverFocused,kbOpts:{kbExpr:S.u.hoverFocused,primary:17,weight:100},metadata:{description:w.vv("scrollRightHoverDescription","Scroll right the editor hover.")}})}run(ye,X){const ve=E.c.get(X);ve&&ve.scrollRight()}}class l extends x.R6{constructor(){super({id:o.cW,label:w.NC({key:"pageUpHover",comment:["Action that allows to page up in the hover widget with the page up command when the hover widget is focused."]},"Page Up Hover"),alias:"Page Up Hover",precondition:S.u.hoverFocused,kbOpts:{kbExpr:S.u.hoverFocused,primary:11,secondary:[528],weight:100},metadata:{description:w.vv("pageUpHoverDescription","Page up the editor hover.")}})}run(ye,X){const ve=E.c.get(X);ve&&ve.pageUp()}}class D extends x.R6{constructor(){super({id:o.B,label:w.NC({key:"pageDownHover",comment:["Action that allows to page down in the hover widget with the page down command when the hover widget is focused."]},"Page Down Hover"),alias:"Page Down Hover",precondition:S.u.hoverFocused,kbOpts:{kbExpr:S.u.hoverFocused,primary:12,secondary:[530],weight:100},metadata:{description:w.vv("pageDownHoverDescription","Page down the editor hover.")}})}run(ye,X){const ve=E.c.get(X);ve&&ve.pageDown()}}class f extends x.R6{constructor(){super({id:o.Io,label:w.NC({key:"goToTopHover",comment:["Action that allows to go to the top of the hover widget with the home command when the hover widget is focused."]},"Go To Top Hover"),alias:"Go To Bottom Hover",precondition:S.u.hoverFocused,kbOpts:{kbExpr:S.u.hoverFocused,primary:14,secondary:[2064],weight:100},metadata:{description:w.vv("goToTopHoverDescription","Go to the top of the editor hover.")}})}run(ye,X){const ve=E.c.get(X);ve&&ve.goToTop()}}class y extends x.R6{constructor(){super({id:o.eY,label:w.NC({key:"goToBottomHover",comment:["Action that allows to go to the bottom in the hover widget with the end command when the hover widget is focused."]},"Go To Bottom Hover"),alias:"Go To Bottom Hover",precondition:S.u.hoverFocused,kbOpts:{kbExpr:S.u.hoverFocused,primary:13,secondary:[2066],weight:100},metadata:{description:w.vv("goToBottomHoverDescription","Go to the bottom of the editor hover.")}})}run(ye,X){const ve=E.c.get(X);ve&&ve.goToBottom()}}class C extends x.R6{constructor(){super({id:o.Gd,label:w.NC({key:"increaseHoverVerbosityLevel",comment:["Label for action that will increase the hover verbosity level."]},"Increase Hover Verbosity Level"),alias:"Increase Hover Verbosity Level",precondition:S.u.hoverFocused})}run(ye,X){var ve;(ve=E.c.get(X))===null||ve===void 0||ve.updateFocusedMarkdownHoverVerbosityLevel(R.bq.Increase)}}class _ extends x.R6{constructor(){super({id:o.m,label:w.NC({key:"decreaseHoverVerbosityLevel",comment:["Label for action that will decrease the hover verbosity level."]},"Decrease Hover Verbosity Level"),alias:"Decrease Hover Verbosity Level",precondition:S.u.hoverFocused})}run(ye,X,ve){var Ee;(Ee=E.c.get(X))===null||Ee===void 0||Ee.updateFocusedMarkdownHoverVerbosityLevel(R.bq.Decrease)}}var N=e(97341),b=e(63279),k=e(99041),V=e(27887),K=e(91540),Z=e(71221),z=e(74696),A=e(25602),P=e(45029),I=e(2644),W=e(70546),G=e(43066),j=e(4793),Y=e(81687),H=e(73044),Q=e(21070),ie=e(91466),te=e(27473),se=e(80731),ne=function(We,ye,X,ve){var Ee=arguments.length,Oe=Ee<3?ye:ve===null?ve=Object.getOwnPropertyDescriptor(ye,X):ve,Ke;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Oe=Reflect.decorate(We,ye,X,ve);else for(var Qe=We.length-1;Qe>=0;Qe--)(Ke=We[Qe])&&(Oe=(Ee<3?Ke(Oe):Ee>3?Ke(ye,X,Oe):Ke(ye,X))||Oe);return Ee>3&&Oe&&Object.defineProperty(ye,X,Oe),Oe},ee=function(We,ye){return function(X,ve){ye(X,ve,We)}};const re=K.$;class he{constructor(ye,X,ve){this.owner=ye,this.range=X,this.marker=ve}isValidForHoverAnchor(ye){return ye.type===1&&this.range.startColumn<=ye.range.startColumn&&this.range.endColumn>=ye.range.endColumn}}const M={type:1,filter:{include:H.yN.QuickFix},triggerAction:H.aQ.QuickFixHover};let we=class{constructor(ye,X,ve,Ee){this._editor=ye,this._markerDecorationsService=X,this._openerService=ve,this._languageFeaturesService=Ee,this.hoverOrdinal=1,this.recentMarkerCodeActionsInfo=void 0}computeSync(ye,X){if(!this._editor.hasModel()||ye.type!==1&&!ye.supportsMarkerHover)return[];const ve=this._editor.getModel(),Ee=ye.range.startLineNumber,Oe=ve.getLineMaxColumn(Ee),Ke=[];for(const Qe of X){const fe=Qe.range.startLineNumber===Ee?Qe.range.startColumn:1,$=Qe.range.endLineNumber===Ee?Qe.range.endColumn:Oe,le=this._markerDecorationsService.getMarker(ve.uri,Qe);if(!le)continue;const De=new O.e(ye.range.startLineNumber,fe,ye.range.startLineNumber,$);Ke.push(new he(this,De,le))}return Ke}renderHoverParts(ye,X){if(!X.length)return P.JT.None;const ve=new P.SL;X.forEach(Oe=>ye.fragment.appendChild(this.renderMarkerHover(Oe,ve)));const Ee=X.length===1?X[0]:X.sort((Oe,Ke)=>ie.ZL.compare(Oe.marker.severity,Ke.marker.severity))[0];return this.renderMarkerStatusbar(ye,Ee,ve),ve}renderMarkerHover(ye,X){const ve=re("div.hover-row");ve.tabIndex=0;const Ee=K.R3(ve,re("div.marker.hover-contents")),{source:Oe,message:Ke,code:Qe,relatedInformation:fe}=ye.marker;this._editor.applyFontInfo(Ee);const $=K.R3(Ee,re("span"));if($.style.whiteSpace="pre-wrap",$.innerText=Ke,Oe||Qe)if(Qe&&typeof Qe!="string"){const le=re("span");if(Oe){const me=K.R3(le,re("span"));me.innerText=Oe}const De=K.R3(le,re("a.code-link"));De.setAttribute("href",Qe.target.toString()),X.add(K.nm(De,"click",me=>{this._openerService.open(Qe.target,{allowCommands:!0}),me.preventDefault(),me.stopPropagation()}));const xe=K.R3(De,re("span"));xe.innerText=Qe.value;const Ce=K.R3(Ee,le);Ce.style.opacity="0.6",Ce.style.paddingLeft="6px"}else{const le=K.R3(Ee,re("span"));le.style.opacity="0.6",le.style.paddingLeft="6px",le.innerText=Oe&&Qe?`${Oe}(${Qe})`:Oe||`(${Qe})`}if((0,Z.Of)(fe))for(const{message:le,resource:De,startLineNumber:xe,startColumn:Ce}of fe){const me=K.R3(Ee,re("div"));me.style.marginTop="8px";const be=K.R3(me,re("a"));be.innerText=`${(0,I.EZ)(De)}(${xe}, ${Ce}): `,be.style.cursor="pointer",X.add(K.nm(be,"click",ue=>{ue.stopPropagation(),ue.preventDefault(),this._openerService&&this._openerService.open(De,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:xe,startColumn:Ce}}}).catch(A.dL)}));const oe=K.R3(me,re("span"));oe.innerText=le,this._editor.applyFontInfo(oe)}return ve}renderMarkerStatusbar(ye,X,ve){if(X.marker.severity===ie.ZL.Error||X.marker.severity===ie.ZL.Warning||X.marker.severity===ie.ZL.Info){const Ee=Q.c.get(this._editor);Ee&&ye.statusBar.addAction({label:w.NC("view problem","View Problem"),commandId:Q.v.ID,run:()=>{ye.hide(),Ee.showAtMarker(X.marker),this._editor.focus()}})}if(!this._editor.getOption(91)){const Ee=ye.statusBar.append(re("div"));this.recentMarkerCodeActionsInfo&&(ie.H0.makeKey(this.recentMarkerCodeActionsInfo.marker)===ie.H0.makeKey(X.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(Ee.textContent=w.NC("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const Oe=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?P.JT.None:(0,z.Vg)(()=>Ee.textContent=w.NC("checkingForQuickFixes","Checking for quick fixes..."),200,ve);Ee.textContent||(Ee.textContent="\xA0");const Ke=this.getCodeActions(X.marker);ve.add((0,P.OF)(()=>Ke.cancel())),Ke.then(Qe=>{if(Oe.dispose(),this.recentMarkerCodeActionsInfo={marker:X.marker,hasCodeActions:Qe.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){Qe.dispose(),Ee.textContent=w.NC("noQuickFixes","No quick fixes available");return}Ee.style.display="none";let fe=!1;ve.add((0,P.OF)(()=>{fe||Qe.dispose()})),ye.statusBar.addAction({label:w.NC("quick fixes","Quick Fix..."),commandId:j.cz,run:$=>{fe=!0;const le=Y.G.get(this._editor),De=K.i($);ye.hide(),le==null||le.showCodeActions(M,Qe,{x:De.left,y:De.top,width:De.width,height:De.height})}})},A.dL)}}getCodeActions(ye){return(0,z.PG)(X=>(0,j.aI)(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new O.e(ye.startLineNumber,ye.startColumn,ye.endLineNumber,ye.endColumn),M,se.Ex.None,X))}};we=ne([ee(1,G.i),ee(2,te.v),ee(3,W.p)],we),(0,x._K)(E.c.ID,E.c,2),(0,x.Qr)(a),(0,x.Qr)(r),(0,x.Qr)(i),(0,x.Qr)(n),(0,x.Qr)(c),(0,x.Qr)(u),(0,x.Qr)(l),(0,x.Qr)(D),(0,x.Qr)(f),(0,x.Qr)(y),(0,x.Qr)(C),(0,x.Qr)(_),k.Ae.register(V.D5),k.Ae.register(we),(0,b.Ic)((We,ye)=>{const X=We.getColor(N.CNo);X&&(ye.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${X.transparent(.5)}; }`),ye.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${X.transparent(.5)}; }`),ye.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${X.transparent(.5)}; }`))})},90590:function(et,Le,e){"use strict";e.d(Le,{c:function(){return Qe}});var o=e(2528),B=e(45029),x=e(87058),O=e(61160),S=e(66070),p=e(74696),E=e(91540),R=e(66699),w=e(93895);const m=30,g=24;class a extends B.JT{constructor($,le=new E.Ro(10,10)){super(),this._editor=$,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._resizableNode=this._register(new R.f),this._contentPosition=null,this._isResizing=!1,this._resizableNode.domNode.style.position="absolute",this._resizableNode.minSize=E.Ro.lift(le),this._resizableNode.layout(le.height,le.width),this._resizableNode.enableSashes(!0,!0,!0,!0),this._register(this._resizableNode.onDidResize(De=>{this._resize(new E.Ro(De.dimension.width,De.dimension.height)),De.done&&(this._isResizing=!1)})),this._register(this._resizableNode.onDidWillResize(()=>{this._isResizing=!0}))}get isResizing(){return this._isResizing}getDomNode(){return this._resizableNode.domNode}getPosition(){return this._contentPosition}get position(){var $;return!(($=this._contentPosition)===null||$===void 0)&&$.position?w.L.lift(this._contentPosition.position):void 0}_availableVerticalSpaceAbove($){const le=this._editor.getDomNode(),De=this._editor.getScrolledVisiblePosition($);return!le||!De?void 0:E.i(le).top+De.top-m}_availableVerticalSpaceBelow($){const le=this._editor.getDomNode(),De=this._editor.getScrolledVisiblePosition($);if(!le||!De)return;const xe=E.i(le),Ce=E.D6(le.ownerDocument.body),me=xe.top+De.top+De.height;return Ce.height-me-g}_findPositionPreference($,le){var De,xe;const Ce=Math.min((De=this._availableVerticalSpaceBelow(le))!==null&&De!==void 0?De:1/0,$),me=Math.min((xe=this._availableVerticalSpaceAbove(le))!==null&&xe!==void 0?xe:1/0,$),be=Math.min(Math.max(me,Ce),$),oe=Math.min($,be);let ue;return this._editor.getOption(60).above?ue=oe<=me?1:2:ue=oe<=Ce?2:1,ue===1?this._resizableNode.enableSashes(!0,!0,!1,!1):this._resizableNode.enableSashes(!1,!0,!0,!1),ue}_resize($){this._resizableNode.layout($.height,$.width)}}var r=e(80568),i=e(48774),n=e(84935),c=e(22706),u=e(74481),l=function(fe,$,le,De){var xe=arguments.length,Ce=xe<3?$:De===null?De=Object.getOwnPropertyDescriptor($,le):De,me;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ce=Reflect.decorate(fe,$,le,De);else for(var be=fe.length-1;be>=0;be--)(me=fe[be])&&(Ce=(xe<3?me(Ce):xe>3?me($,le,Ce):me($,le))||Ce);return xe>3&&Ce&&Object.defineProperty($,le,Ce),Ce},D=function(fe,$){return function(le,De){$(le,De,fe)}},f;const y=30,C=6;let _=f=class extends a{get isColorPickerVisible(){var $;return!!(!(($=this._visibleData)===null||$===void 0)&&$.colorPicker)}get isVisibleFromKeyboard(){var $;return(($=this._visibleData)===null||$===void 0?void 0:$.source)===1}get isVisible(){var $;return($=this._hoverVisibleKey.get())!==null&&$!==void 0?$:!1}get isFocused(){var $;return($=this._hoverFocusedKey.get())!==null&&$!==void 0?$:!1}constructor($,le,De,xe,Ce){const me=$.getOption(67)+8,be=150,oe=new E.Ro(be,me);super($,oe),this._configurationService=De,this._accessibilityService=xe,this._keybindingService=Ce,this._hover=this._register(new u.c8),this._minimumSize=oe,this._hoverVisibleKey=c.u.hoverVisible.bindTo(le),this._hoverFocusedKey=c.u.hoverFocused.bindTo(le),E.R3(this._resizableNode.domNode,this._hover.containerDomNode),this._resizableNode.domNode.style.zIndex="50",this._register(this._editor.onDidLayoutChange(()=>{this.isVisible&&this._updateMaxDimensions()})),this._register(this._editor.onDidChangeConfiguration(de=>{de.hasChanged(50)&&this._updateFont()}));const ue=this._register(E.go(this._resizableNode.domNode));this._register(ue.onDidFocus(()=>{this._hoverFocusedKey.set(!0)})),this._register(ue.onDidBlur(()=>{this._hoverFocusedKey.set(!1)})),this._setHoverData(void 0),this._editor.addContentWidget(this)}dispose(){var $;super.dispose(),($=this._visibleData)===null||$===void 0||$.disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return f.ID}static _applyDimensions($,le,De){const xe=typeof le=="number"?`${le}px`:le,Ce=typeof De=="number"?`${De}px`:De;$.style.width=xe,$.style.height=Ce}_setContentsDomNodeDimensions($,le){const De=this._hover.contentsDomNode;return f._applyDimensions(De,$,le)}_setContainerDomNodeDimensions($,le){const De=this._hover.containerDomNode;return f._applyDimensions(De,$,le)}_setHoverWidgetDimensions($,le){this._setContentsDomNodeDimensions($,le),this._setContainerDomNodeDimensions($,le),this._layoutContentWidget()}static _applyMaxDimensions($,le,De){const xe=typeof le=="number"?`${le}px`:le,Ce=typeof De=="number"?`${De}px`:De;$.style.maxWidth=xe,$.style.maxHeight=Ce}_setHoverWidgetMaxDimensions($,le){f._applyMaxDimensions(this._hover.contentsDomNode,$,le),f._applyMaxDimensions(this._hover.containerDomNode,$,le),this._hover.containerDomNode.style.setProperty("--vscode-hover-maxWidth",typeof $=="number"?`${$}px`:$),this._layoutContentWidget()}_setAdjustedHoverWidgetDimensions($){this._setHoverWidgetMaxDimensions("none","none");const le=$.width,De=$.height;this._setHoverWidgetDimensions(le,De)}_updateResizableNodeMaxDimensions(){var $,le;const De=($=this._findMaximumRenderingWidth())!==null&&$!==void 0?$:1/0,xe=(le=this._findMaximumRenderingHeight())!==null&&le!==void 0?le:1/0;this._resizableNode.maxSize=new E.Ro(De,xe),this._setHoverWidgetMaxDimensions(De,xe)}_resize($){var le,De;f._lastDimensions=new E.Ro($.width,$.height),this._setAdjustedHoverWidgetDimensions($),this._resizableNode.layout($.height,$.width),this._updateResizableNodeMaxDimensions(),this._hover.scrollbar.scanDomNode(),this._editor.layoutContentWidget(this),(De=(le=this._visibleData)===null||le===void 0?void 0:le.colorPicker)===null||De===void 0||De.layout()}_findAvailableSpaceVertically(){var $;const le=($=this._visibleData)===null||$===void 0?void 0:$.showAtPosition;if(le)return this._positionPreference===1?this._availableVerticalSpaceAbove(le):this._availableVerticalSpaceBelow(le)}_findMaximumRenderingHeight(){const $=this._findAvailableSpaceVertically();if(!$)return;let le=C;return Array.from(this._hover.contentsDomNode.children).forEach(De=>{le+=De.clientHeight}),Math.min($,le)}_isHoverTextOverflowing(){this._hover.containerDomNode.style.setProperty("--vscode-hover-whiteSpace","nowrap"),this._hover.containerDomNode.style.setProperty("--vscode-hover-sourceWhiteSpace","nowrap");const $=Array.from(this._hover.contentsDomNode.children).some(le=>le.scrollWidth>le.clientWidth);return this._hover.containerDomNode.style.removeProperty("--vscode-hover-whiteSpace"),this._hover.containerDomNode.style.removeProperty("--vscode-hover-sourceWhiteSpace"),$}_findMaximumRenderingWidth(){if(!this._editor||!this._editor.hasModel())return;const $=this._isHoverTextOverflowing(),le=typeof this._contentWidth=="undefined"?0:this._contentWidth-2;return $||this._hover.containerDomNode.clientWidth<le?E.D6(this._hover.containerDomNode.ownerDocument.body).width-14:this._hover.containerDomNode.clientWidth+2}isMouseGettingCloser($,le){if(!this._visibleData)return!1;if(typeof this._visibleData.initialMousePosX=="undefined"||typeof this._visibleData.initialMousePosY=="undefined")return this._visibleData.initialMousePosX=$,this._visibleData.initialMousePosY=le,!1;const De=E.i(this.getDomNode());typeof this._visibleData.closestMouseDistance=="undefined"&&(this._visibleData.closestMouseDistance=N(this._visibleData.initialMousePosX,this._visibleData.initialMousePosY,De.left,De.top,De.width,De.height));const xe=N($,le,De.left,De.top,De.width,De.height);return xe>this._visibleData.closestMouseDistance+4?!1:(this._visibleData.closestMouseDistance=Math.min(this._visibleData.closestMouseDistance,xe),!0)}_setHoverData($){var le;(le=this._visibleData)===null||le===void 0||le.disposables.dispose(),this._visibleData=$,this._hoverVisibleKey.set(!!$),this._hover.containerDomNode.classList.toggle("hidden",!$)}_updateFont(){const{fontSize:$,lineHeight:le}=this._editor.getOption(50),De=this._hover.contentsDomNode;De.style.fontSize=`${$}px`,De.style.lineHeight=`${le/$}`,Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(Ce=>this._editor.applyFontInfo(Ce))}_updateContent($){const le=this._hover.contentsDomNode;le.style.paddingBottom="",le.textContent="",le.appendChild($)}_layoutContentWidget(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}_updateMaxDimensions(){const $=Math.max(this._editor.getLayoutInfo().height/4,250,f._lastDimensions.height),le=Math.max(this._editor.getLayoutInfo().width*.66,500,f._lastDimensions.width);this._setHoverWidgetMaxDimensions(le,$)}_render($,le){this._setHoverData(le),this._updateFont(),this._updateContent($),this._updateMaxDimensions(),this.onContentsChanged(),this._editor.render()}getPosition(){var $;return this._visibleData?{position:this._visibleData.showAtPosition,secondaryPosition:this._visibleData.showAtSecondaryPosition,positionAffinity:this._visibleData.isBeforeContent?3:void 0,preference:[($=this._positionPreference)!==null&&$!==void 0?$:1]}:null}showAt($,le){var De,xe,Ce,me;if(!this._editor||!this._editor.hasModel())return;this._render($,le);const be=E.wn(this._hover.containerDomNode),oe=le.showAtPosition;this._positionPreference=(De=this._findPositionPreference(be,oe))!==null&&De!==void 0?De:1,this.onContentsChanged(),le.stoleFocus&&this._hover.containerDomNode.focus(),(xe=le.colorPicker)===null||xe===void 0||xe.layout();const de=this._hover.containerDomNode.ownerDocument.activeElement===this._hover.containerDomNode&&(0,u.uX)(this._configurationService.getValue("accessibility.verbosity.hover")===!0&&this._accessibilityService.isScreenReaderOptimized(),(me=(Ce=this._keybindingService.lookupKeybinding("editor.action.accessibleView"))===null||Ce===void 0?void 0:Ce.getAriaLabel())!==null&&me!==void 0?me:"");de&&(this._hover.contentsDomNode.ariaLabel=this._hover.contentsDomNode.textContent+", "+de)}hide(){if(!this._visibleData)return;const $=this._visibleData.stoleFocus||this._hoverFocusedKey.get();this._setHoverData(void 0),this._resizableNode.maxSize=new E.Ro(1/0,1/0),this._resizableNode.clearSashHoverState(),this._hoverFocusedKey.set(!1),this._editor.layoutContentWidget(this),$&&this._editor.focus()}_removeConstraintsRenderNormally(){const $=this._editor.getLayoutInfo();this._resizableNode.layout($.height,$.width),this._setHoverWidgetDimensions("auto","auto")}setMinimumDimensions($){this._minimumSize=new E.Ro(Math.max(this._minimumSize.width,$.width),Math.max(this._minimumSize.height,$.height)),this._updateMinimumWidth()}_updateMinimumWidth(){const $=typeof this._contentWidth=="undefined"?this._minimumSize.width:Math.min(this._contentWidth,this._minimumSize.width);this._resizableNode.minSize=new E.Ro($,this._minimumSize.height)}onContentsChanged(){var $;this._removeConstraintsRenderNormally();const le=this._hover.containerDomNode;let De=E.wn(le),xe=E.w(le);if(this._resizableNode.layout(De,xe),this._setHoverWidgetDimensions(xe,De),De=E.wn(le),xe=E.w(le),this._contentWidth=xe,this._updateMinimumWidth(),this._resizableNode.layout(De,xe),!(($=this._visibleData)===null||$===void 0)&&$.showAtPosition){const Ce=E.wn(this._hover.containerDomNode);this._positionPreference=this._findPositionPreference(Ce,this._visibleData.showAtPosition)}this._layoutContentWidget()}focus(){this._hover.containerDomNode.focus()}scrollUp(){const $=this._hover.scrollbar.getScrollPosition().scrollTop,le=this._editor.getOption(50);this._hover.scrollbar.setScrollPosition({scrollTop:$-le.lineHeight})}scrollDown(){const $=this._hover.scrollbar.getScrollPosition().scrollTop,le=this._editor.getOption(50);this._hover.scrollbar.setScrollPosition({scrollTop:$+le.lineHeight})}scrollLeft(){const $=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:$-y})}scrollRight(){const $=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:$+y})}pageUp(){const $=this._hover.scrollbar.getScrollPosition().scrollTop,le=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:$-le})}pageDown(){const $=this._hover.scrollbar.getScrollPosition().scrollTop,le=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:$+le})}goToTop(){this._hover.scrollbar.setScrollPosition({scrollTop:0})}goToBottom(){this._hover.scrollbar.setScrollPosition({scrollTop:this._hover.scrollbar.getScrollDimensions().scrollHeight})}};_.ID="editor.contrib.resizableContentHoverWidget",_._lastDimensions=new E.Ro(0,0),_=f=l([D(1,r.i6),D(2,i.Ui),D(3,n.F),D(4,S.d)],_);function N(fe,$,le,De,xe,Ce){const me=le+xe/2,be=De+Ce/2,oe=Math.max(Math.abs(fe-me)-xe/2,0),ue=Math.max(Math.abs($-be)-Ce/2,0);return Math.sqrt(oe*oe+ue*ue)}var b=e(4694),k=e(93059),V=e(91895),K=e(25602),Z=e(79329);class z{constructor($,le,De){this.value=$,this.isComplete=le,this.hasLoadingMessage=De}}class A extends B.JT{constructor($,le){super(),this._editor=$,this._computer=le,this._onResult=this._register(new Z.Q5),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new p.pY(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new p.pY(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new p.pY(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(60).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState($,le=!0){this._state=$,le&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,p.zS)($=>this._computer.computeAsync($)),Ft(this,null,function*(){try{try{for(var $=bo(this._asyncIterable),le,De,xe;le=!(De=yield $.next()).done;le=!1){const Ce=De.value;Ce&&(this._result.push(Ce),this._fireResult())}}catch(De){xe=[De]}finally{try{le&&(De=$.return)&&(yield De.call($))}finally{if(xe)throw xe[0]}}this._asyncIterableDone=!0,(this._state===3||this._state===4)&&this._setState(0)}catch(Ce){(0,K.dL)(Ce)}})):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){this._state===3&&this._setState(4)}_fireResult(){if(this._state===1||this._state===2)return;const $=this._state===0,le=this._state===4;this._onResult.fire(new z(this._result.slice(0),$,le))}start($){if($===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}var P=e(99041),I=e(27887),W=e(60777),G=e(71221);class j{get anchor(){return this._anchor}set anchor($){this._anchor=$}get shouldFocus(){return this._shouldFocus}set shouldFocus($){this._shouldFocus=$}get source(){return this._source}set source($){this._source=$}get insistOnKeepingHoverVisible(){return this._insistOnKeepingHoverVisible}set insistOnKeepingHoverVisible($){this._insistOnKeepingHoverVisible=$}constructor($,le){this._editor=$,this._participants=le,this._anchor=null,this._shouldFocus=!1,this._source=0,this._insistOnKeepingHoverVisible=!1}static _getLineDecorations($,le){if(le.type!==1&&!le.supportsMarkerHover)return[];const De=$.getModel(),xe=le.range.startLineNumber;if(xe>De.getLineCount())return[];const Ce=De.getLineMaxColumn(xe);return $.getLineDecorations(xe).filter(me=>{if(me.options.isWholeLine)return!0;const be=me.range.startLineNumber===xe?me.range.startColumn:1,oe=me.range.endLineNumber===xe?me.range.endColumn:Ce;if(me.options.showIfCollapsed){if(be>le.range.startColumn+1||le.range.endColumn-1>oe)return!1}else if(be>le.range.startColumn||le.range.endColumn>oe)return!1;return!0})}computeAsync($){const le=this._anchor;if(!this._editor.hasModel()||!le)return p.Aq.EMPTY;const De=j._getLineDecorations(this._editor,le);return p.Aq.merge(this._participants.map(xe=>xe.computeAsync?xe.computeAsync(le,De,$):p.Aq.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const $=j._getLineDecorations(this._editor,this._anchor);let le=[];for(const De of this._participants)le=le.concat(De.computeSync(this._anchor,$));return(0,G.kX)(le)}}class Y{constructor($,le,De){this.anchor=$,this.messages=le,this.isComplete=De}filter($){const le=this.messages.filter(De=>De.isValidForHoverAnchor($));return le.length===this.messages.length?this:new H(this,this.anchor,le,this.isComplete)}}class H extends Y{constructor($,le,De,xe){super(le,De,xe),this.original=$}filter($){return this.original.filter($)}}class Q{constructor($,le,De,xe,Ce,me,be,oe,ue,de){this.initialMousePosX=$,this.initialMousePosY=le,this.colorPicker=De,this.showAtPosition=xe,this.showAtSecondaryPosition=Ce,this.preferAbove=me,this.stoleFocus=be,this.source=oe,this.isBeforeContent=ue,this.disposables=de,this.closestMouseDistance=void 0}}var ie=e(31939),te=function(fe,$,le,De){var xe=arguments.length,Ce=xe<3?$:De===null?De=Object.getOwnPropertyDescriptor($,le):De,me;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ce=Reflect.decorate(fe,$,le,De);else for(var be=fe.length-1;be>=0;be--)(me=fe[be])&&(Ce=(xe<3?me(Ce):xe>3?me($,le,Ce):me($,le))||Ce);return xe>3&&Ce&&Object.defineProperty($,le,Ce),Ce},se=function(fe,$){return function(le,De){$(le,De,fe)}},ne;let ee=ne=class extends B.JT{constructor($,le,De){super(),this._editor=$,this._instantiationService=le,this._keybindingService=De,this._currentResult=null,this._widget=this._register(this._instantiationService.createInstance(_,this._editor)),this._participants=[];for(const xe of P.Ae.getAll()){const Ce=this._instantiationService.createInstance(xe,this._editor);Ce instanceof I.D5&&!(Ce instanceof W.G)&&(this._markdownHoverParticipant=Ce),this._participants.push(Ce)}this._participants.sort((xe,Ce)=>xe.hoverOrdinal-Ce.hoverOrdinal),this._computer=new j(this._editor,this._participants),this._hoverOperation=this._register(new A(this._editor,this._computer)),this._register(this._hoverOperation.onResult(xe=>{if(!this._computer.anchor)return;const Ce=xe.hasLoadingMessage?this._addLoadingMessage(xe.value):xe.value;this._withResult(new Y(this._computer.anchor,Ce,xe.isComplete))})),this._register(E.mu(this._widget.getDomNode(),"keydown",xe=>{xe.equals(9)&&this.hide()})),this._register(V.RW.onDidChange(()=>{this._widget.position&&this._currentResult&&this._setCurrentResult(this._currentResult)}))}_startShowingOrUpdateHover($,le,De,xe,Ce){return!this._widget.position||!this._currentResult?$?(this._startHoverOperationIfNecessary($,le,De,xe,!1),!0):!1:this._editor.getOption(60).sticky&&Ce&&this._widget.isMouseGettingCloser(Ce.event.posx,Ce.event.posy)?($&&this._startHoverOperationIfNecessary($,le,De,xe,!0),!0):$?$&&this._currentResult.anchor.equals($)?!0:$.canAdoptVisibleHover(this._currentResult.anchor,this._widget.position)?(this._setCurrentResult(this._currentResult.filter($)),this._startHoverOperationIfNecessary($,le,De,xe,!1),!0):(this._setCurrentResult(null),this._startHoverOperationIfNecessary($,le,De,xe,!1),!0):(this._setCurrentResult(null),!1)}_startHoverOperationIfNecessary($,le,De,xe,Ce){this._computer.anchor&&this._computer.anchor.equals($)||(this._hoverOperation.cancel(),this._computer.anchor=$,this._computer.shouldFocus=xe,this._computer.source=De,this._computer.insistOnKeepingHoverVisible=Ce,this._hoverOperation.start(le))}_setCurrentResult($){this._currentResult!==$&&($&&$.messages.length===0&&($=null),this._currentResult=$,this._currentResult?this._renderMessages(this._currentResult.anchor,this._currentResult.messages):this._widget.hide())}_addLoadingMessage($){if(this._computer.anchor){for(const le of this._participants)if(le.createLoadingMessage){const De=le.createLoadingMessage(this._computer.anchor);if(De)return $.slice(0).concat([De])}}return $}_withResult($){this._widget.position&&this._currentResult&&this._currentResult.isComplete&&(!$.isComplete||this._computer.insistOnKeepingHoverVisible&&$.messages.length===0)||this._setCurrentResult($)}_renderMessages($,le){const{showAtPosition:De,showAtSecondaryPosition:xe,highlightRange:Ce}=ne.computeHoverRanges(this._editor,$.range,le),me=new B.SL,be=me.add(new ie.m(this._keybindingService)),oe=document.createDocumentFragment();let ue=null;const de={fragment:oe,statusBar:be,setColorPicker:Te=>ue=Te,onContentsChanged:()=>this._widget.onContentsChanged(),setMinimumDimensions:Te=>this._widget.setMinimumDimensions(Te),hide:()=>this.hide()};for(const Te of this._participants){const Ae=le.filter(pe=>pe.owner===Te);Ae.length>0&&me.add(Te.renderHoverParts(de,Ae))}const Se=le.some(Te=>Te.isBeforeContent);if(be.hasContent&&oe.appendChild(be.hoverElement),oe.hasChildNodes()){if(Ce){const Te=this._editor.createDecorationsCollection();Te.set([{range:Ce,options:ne._DECORATION_OPTIONS}]),me.add((0,B.OF)(()=>{Te.clear()}))}this._widget.showAt(oe,new Q($.initialMousePosX,$.initialMousePosY,ue,De,xe,this._editor.getOption(60).above,this._computer.shouldFocus,this._computer.source,Se,me))}else me.dispose()}static computeHoverRanges($,le,De){let xe=1;if($.hasModel()){const Se=$._getViewModel(),Te=Se.coordinatesConverter,Ae=Te.convertModelRangeToViewRange(le),pe=new w.L(Ae.startLineNumber,Se.getLineMinColumn(Ae.startLineNumber));xe=Te.convertViewPositionToModelPosition(pe).column}const Ce=le.startLineNumber;let me=le.startColumn,be=De[0].range,oe=null;for(const Se of De)be=b.e.plusRange(be,Se.range),Se.range.startLineNumber===Ce&&Se.range.endLineNumber===Ce&&(me=Math.max(Math.min(me,Se.range.startColumn),xe)),Se.forceShowAtRange&&(oe=Se.range);const ue=oe?oe.getStartPosition():new w.L(Ce,le.startColumn),de=oe?oe.getStartPosition():new w.L(Ce,me);return{showAtPosition:ue,showAtSecondaryPosition:de,highlightRange:be}}showsOrWillShow($){if(this._widget.isResizing)return!0;const le=[];for(const xe of this._participants)if(xe.suggestHoverAnchor){const Ce=xe.suggestHoverAnchor($);Ce&&le.push(Ce)}const De=$.target;if(De.type===6&&le.push(new P.Qj(0,De.range,$.event.posx,$.event.posy)),De.type===7){const xe=this._editor.getOption(50).typicalHalfwidthCharacterWidth/2;!De.detail.isAfterLines&&typeof De.detail.horizontalDistanceToText=="number"&&De.detail.horizontalDistanceToText<xe&&le.push(new P.Qj(0,De.range,$.event.posx,$.event.posy))}return le.length===0?this._startShowingOrUpdateHover(null,0,0,!1,$):(le.sort((xe,Ce)=>Ce.priority-xe.priority),this._startShowingOrUpdateHover(le[0],0,0,!1,$))}startShowingAtRange($,le,De,xe){this._startShowingOrUpdateHover(new P.Qj(0,$,void 0,void 0),le,De,xe,null)}updateFocusedMarkdownHoverVerbosityLevel($){return Ft(this,null,function*(){var le;(le=this._markdownHoverParticipant)===null||le===void 0||le.updateFocusedMarkdownHoverPartVerbosityLevel($)})}containsNode($){return $?this._widget.getDomNode().contains($):!1}focus(){this._widget.focus()}scrollUp(){this._widget.scrollUp()}scrollDown(){this._widget.scrollDown()}scrollLeft(){this._widget.scrollLeft()}scrollRight(){this._widget.scrollRight()}pageUp(){this._widget.pageUp()}pageDown(){this._widget.pageDown()}goToTop(){this._widget.goToTop()}goToBottom(){this._widget.goToBottom()}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._setCurrentResult(null)}get isColorPickerVisible(){return this._widget.isColorPickerVisible}get isVisibleFromKeyboard(){return this._widget.isVisibleFromKeyboard}get isVisible(){return this._widget.isVisible}get isFocused(){return this._widget.isFocused}get isResizing(){return this._widget.isResizing}get widget(){return this._widget}};ee._DECORATION_OPTIONS=k.qx.register({description:"content-hover-highlight",className:"hoverHighlight"}),ee=ne=te([se(1,x.TG),se(2,S.d)],ee);var re=e(87146),he=e(63038),M=e(60473),we=e(57204);class We{get lineNumber(){return this._lineNumber}set lineNumber($){this._lineNumber=$}get lane(){return this._laneOrLine}set lane($){this._laneOrLine=$}constructor($){this._editor=$,this._lineNumber=-1,this._laneOrLine=we.U.Center}computeSync(){var $,le;const De=be=>({value:be}),xe=this._editor.getLineDecorations(this._lineNumber),Ce=[],me=this._laneOrLine==="lineNo";if(!xe)return Ce;for(const be of xe){const oe=(le=($=be.options.glyphMargin)===null||$===void 0?void 0:$.position)!==null&&le!==void 0?le:we.U.Center;if(!me&&oe!==this._laneOrLine)continue;const ue=me?be.options.lineNumberHoverMessage:be.options.glyphMarginHoverMessage;!ue||(0,M.CP)(ue)||Ce.push(...(0,G._2)(ue).map(De))}return Ce}}const ye=E.$;class X extends B.JT{constructor($,le,De){super(),this._renderDisposeables=this._register(new B.SL),this._editor=$,this._isVisible=!1,this._messages=[],this._hover=this._register(new u.c8),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new he.$({editor:this._editor},le,De)),this._computer=new We(this._editor),this._hoverOperation=this._register(new A(this._editor,this._computer)),this._register(this._hoverOperation.onResult(xe=>{this._withResult(xe.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(xe=>{xe.hasChanged(50)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return X.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(le=>this._editor.applyFontInfo(le))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}showsOrWillShow($){const le=$.target;return le.type===2&&le.detail.glyphMarginLane?(this._startShowingAt(le.position.lineNumber,le.detail.glyphMarginLane),!0):le.type===3?(this._startShowingAt(le.position.lineNumber,"lineNo"),!0):!1}_startShowingAt($,le){this._computer.lineNumber===$&&this._computer.lane===le||(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=$,this._computer.lane=le,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult($){this._messages=$,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages($,le){this._renderDisposeables.clear();const De=document.createDocumentFragment();for(const xe of le){const Ce=ye("div.hover-row.markdown-hover"),me=E.R3(Ce,ye("div.hover-contents")),be=this._renderDisposeables.add(this._markdownRenderer.render(xe.value));me.appendChild(be.element),De.appendChild(Ce)}this._updateContents(De),this._showAt($)}_updateContents($){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild($),this._updateFont()}_showAt($){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const le=this._editor.getLayoutInfo(),De=this._editor.getTopForLineNumber($),xe=this._editor.getScrollTop(),Ce=this._editor.getOption(67),me=this._hover.containerDomNode.clientHeight,be=De-xe-(me-Ce)/2,oe=le.glyphMarginLeft+le.glyphMarginWidth+(this._computer.lane==="lineNo"?le.lineNumbersWidth:0);this._hover.containerDomNode.style.left=`${oe}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(be),0)}px`}}X.ID="editor.contrib.modesGlyphHoverWidget";var ve=function(fe,$,le,De){var xe=arguments.length,Ce=xe<3?$:De===null?De=Object.getOwnPropertyDescriptor($,le):De,me;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ce=Reflect.decorate(fe,$,le,De);else for(var be=fe.length-1;be>=0;be--)(me=fe[be])&&(Ce=(xe<3?me(Ce):xe>3?me($,le,Ce):me($,le))||Ce);return xe>3&&Ce&&Object.defineProperty($,le,Ce),Ce},Ee=function(fe,$){return function(le,De){$(le,De,fe)}},Oe;const Ke=!1;let Qe=Oe=class extends B.JT{constructor($,le,De){super(),this._editor=$,this._instantiationService=le,this._keybindingService=De,this._listenersStore=new B.SL,this._hoverState={mouseDown:!1,activatedByDecoratorClick:!1},this._reactToEditorMouseMoveRunner=this._register(new p.pY(()=>this._reactToEditorMouseMove(this._mouseMoveEvent),0)),this._hookListeners(),this._register(this._editor.onDidChangeConfiguration(xe=>{xe.hasChanged(60)&&(this._unhookListeners(),this._hookListeners())}))}static get($){return $.getContribution(Oe.ID)}_hookListeners(){const $=this._editor.getOption(60);this._hoverSettings={enabled:$.enabled,sticky:$.sticky,hidingDelay:$.delay},$.enabled?(this._listenersStore.add(this._editor.onMouseDown(le=>this._onEditorMouseDown(le))),this._listenersStore.add(this._editor.onMouseUp(()=>this._onEditorMouseUp())),this._listenersStore.add(this._editor.onMouseMove(le=>this._onEditorMouseMove(le))),this._listenersStore.add(this._editor.onKeyDown(le=>this._onKeyDown(le)))):(this._listenersStore.add(this._editor.onMouseMove(le=>this._onEditorMouseMove(le))),this._listenersStore.add(this._editor.onKeyDown(le=>this._onKeyDown(le)))),this._listenersStore.add(this._editor.onMouseLeave(le=>this._onEditorMouseLeave(le))),this._listenersStore.add(this._editor.onDidChangeModel(()=>{this._cancelScheduler(),this._hideWidgets()})),this._listenersStore.add(this._editor.onDidChangeModelContent(()=>this._cancelScheduler())),this._listenersStore.add(this._editor.onDidScrollChange(le=>this._onEditorScrollChanged(le)))}_unhookListeners(){this._listenersStore.clear()}_cancelScheduler(){this._mouseMoveEvent=void 0,this._reactToEditorMouseMoveRunner.cancel()}_onEditorScrollChanged($){($.scrollTopChanged||$.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown($){this._hoverState.mouseDown=!0,!this._shouldNotHideCurrentHoverWidget($)&&this._hideWidgets()}_shouldNotHideCurrentHoverWidget($){return!!(this._isMouseOnContentHoverWidget($)||this._isMouseOnMarginHoverWidget($)||this._isContentWidgetResizing())}_isMouseOnMarginHoverWidget($){const le=$.target;return le?le.type===12&&le.detail===X.ID:!1}_isMouseOnContentHoverWidget($){const le=$.target;return le?le.type===9&&le.detail===_.ID:!1}_onEditorMouseUp(){this._hoverState.mouseDown=!1}_onEditorMouseLeave($){this._cancelScheduler(),!this._shouldNotHideCurrentHoverWidget($)&&(Ke||this._hideWidgets())}_shouldNotRecomputeCurrentHoverWidget($){const le=this._hoverSettings.sticky,De=(be,oe)=>{const ue=this._isMouseOnMarginHoverWidget(be);return oe&&ue},xe=(be,oe)=>{const ue=this._isMouseOnContentHoverWidget(be);return oe&&ue},Ce=be=>{var oe;const ue=this._isMouseOnContentHoverWidget(be),de=(oe=this._contentWidget)===null||oe===void 0?void 0:oe.isColorPickerVisible;return ue&&de},me=(be,oe)=>{var ue,de,Se,Te;return oe&&((ue=this._contentWidget)===null||ue===void 0?void 0:ue.containsNode((de=be.event.browserEvent.view)===null||de===void 0?void 0:de.document.activeElement))&&!(!((Te=(Se=be.event.browserEvent.view)===null||Se===void 0?void 0:Se.getSelection())===null||Te===void 0)&&Te.isCollapsed)};return!!(De($,le)||xe($,le)||Ce($)||me($,le))}_onEditorMouseMove($){var le,De,xe,Ce;if(this._mouseMoveEvent=$,!((le=this._contentWidget)===null||le===void 0)&&le.isFocused||!((De=this._contentWidget)===null||De===void 0)&&De.isResizing)return;const me=this._hoverSettings.sticky;if(me&&(!((xe=this._contentWidget)===null||xe===void 0)&&xe.isVisibleFromKeyboard))return;if(this._shouldNotRecomputeCurrentHoverWidget($)){this._reactToEditorMouseMoveRunner.cancel();return}const oe=this._hoverSettings.hidingDelay;if(((Ce=this._contentWidget)===null||Ce===void 0?void 0:Ce.isVisible)&&me&&oe>0){this._reactToEditorMouseMoveRunner.isScheduled()||this._reactToEditorMouseMoveRunner.schedule(oe);return}this._reactToEditorMouseMove($)}_reactToEditorMouseMove($){var le;if(!$)return;const xe=(le=$.target.element)===null||le===void 0?void 0:le.classList.contains("colorpicker-color-decoration"),Ce=this._editor.getOption(148),me=this._hoverSettings.enabled,be=this._hoverState.activatedByDecoratorClick;if(xe&&(Ce==="click"&&!be||Ce==="hover"&&!me&&!Ke||Ce==="clickAndHover"&&!me&&!be)||!xe&&!me&&!be){this._hideWidgets();return}this._tryShowHoverWidget($,0)||this._tryShowHoverWidget($,1)||Ke||this._hideWidgets()}_tryShowHoverWidget($,le){const De=this._getOrCreateContentWidget(),xe=this._getOrCreateGlyphWidget();let Ce,me;switch(le){case 0:Ce=De,me=xe;break;case 1:Ce=xe,me=De;break;default:throw new Error(`HoverWidgetType ${le} is unrecognized`)}const be=Ce.showsOrWillShow($);return be&&me.hide(),be}_onKeyDown($){var le;if(!this._editor.hasModel())return;const De=this._keybindingService.softDispatch($,this._editor.getDomNode()),xe=De.kind===1||De.kind===2&&(De.commandId===o.s9||De.commandId===o.Gd||De.commandId===o.m)&&((le=this._contentWidget)===null||le===void 0?void 0:le.isVisible);$.keyCode===5||$.keyCode===6||$.keyCode===57||$.keyCode===4||xe||this._hideWidgets()}_hideWidgets(){var $,le,De;Ke||this._hoverState.mouseDown&&(!(($=this._contentWidget)===null||$===void 0)&&$.isColorPickerVisible)||O.QG.dropDownVisible||(this._hoverState.activatedByDecoratorClick=!1,(le=this._glyphWidget)===null||le===void 0||le.hide(),(De=this._contentWidget)===null||De===void 0||De.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(ee,this._editor)),this._contentWidget}_getOrCreateGlyphWidget(){return this._glyphWidget||(this._glyphWidget=this._instantiationService.createInstance(X,this._editor)),this._glyphWidget}showContentHover($,le,De,xe,Ce=!1){this._hoverState.activatedByDecoratorClick=Ce,this._getOrCreateContentWidget().startShowingAtRange($,le,De,xe)}_isContentWidgetResizing(){var $;return(($=this._contentWidget)===null||$===void 0?void 0:$.widget.isResizing)||!1}updateFocusedMarkdownHoverVerbosityLevel($){this._getOrCreateContentWidget().updateFocusedMarkdownHoverVerbosityLevel($)}focus(){var $;($=this._contentWidget)===null||$===void 0||$.focus()}scrollUp(){var $;($=this._contentWidget)===null||$===void 0||$.scrollUp()}scrollDown(){var $;($=this._contentWidget)===null||$===void 0||$.scrollDown()}scrollLeft(){var $;($=this._contentWidget)===null||$===void 0||$.scrollLeft()}scrollRight(){var $;($=this._contentWidget)===null||$===void 0||$.scrollRight()}pageUp(){var $;($=this._contentWidget)===null||$===void 0||$.pageUp()}pageDown(){var $;($=this._contentWidget)===null||$===void 0||$.pageDown()}goToTop(){var $;($=this._contentWidget)===null||$===void 0||$.goToTop()}goToBottom(){var $;($=this._contentWidget)===null||$===void 0||$.goToBottom()}get isColorPickerVisible(){var $;return($=this._contentWidget)===null||$===void 0?void 0:$.isColorPickerVisible}get isHoverVisible(){var $;return($=this._contentWidget)===null||$===void 0?void 0:$.isVisible}dispose(){var $,le;super.dispose(),this._unhookListeners(),this._listenersStore.dispose(),($=this._glyphWidget)===null||$===void 0||$.dispose(),(le=this._contentWidget)===null||le===void 0||le.dispose()}};Qe.ID="editor.contrib.hover",Qe=Oe=ve([Ee(1,x.TG),Ee(2,S.d)],Qe)},99041:function(et,Le,e){"use strict";e.d(Le,{Ae:function(){return x},Qj:function(){return o},YM:function(){return B}});class o{constructor(S,p,E,R){this.priority=S,this.range=p,this.initialMousePosX=E,this.initialMousePosY=R,this.type=1}equals(S){return S.type===1&&this.range.equalsRange(S.range)}canAdoptVisibleHover(S,p){return S.type===1&&p.lineNumber===this.range.startLineNumber}}class B{constructor(S,p,E,R,w,m){this.priority=S,this.owner=p,this.range=E,this.initialMousePosX=R,this.initialMousePosY=w,this.supportsMarkerHover=m,this.type=2}equals(S){return S.type===2&&this.owner===S.owner}canAdoptVisibleHover(S,p){return S.type===2&&this.owner===S.owner}}const x=new class{constructor(){this._participants=[]}register(S){this._participants.push(S)}getAll(){return this._participants}}},27887:function(et,Le,e){"use strict";e.d(Le,{D5:function(){return A},c:function(){return I},hU:function(){return Z}});var o=e(91540),B=e(71221),x=e(65642),O=e(60473),S=e(45029),p=e(63038),E=e(2528),R=e(4694),w=e(50131),m=e(61652),g=e(48774),a=e(27473),r=e(70546),i=e(91895),n=e(76557),c=e(24752),u=e(68777),l=e(25602),D=e(66070),f=e(74481),y=e(78307),C=e(74696),_=e(67555),N=function(G,j,Y,H){var Q=arguments.length,ie=Q<3?j:H===null?H=Object.getOwnPropertyDescriptor(j,Y):H,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ie=Reflect.decorate(G,j,Y,H);else for(var se=G.length-1;se>=0;se--)(te=G[se])&&(ie=(Q<3?te(ie):Q>3?te(j,Y,ie):te(j,Y))||ie);return Q>3&&ie&&Object.defineProperty(j,Y,ie),ie},b=function(G,j){return function(Y,H){j(Y,H,G)}};const k=o.$,V=(0,n.q5)("hover-increase-verbosity",c.l.add,m.NC("increaseHoverVerbosity","Icon for increaseing hover verbosity.")),K=(0,n.q5)("hover-decrease-verbosity",c.l.remove,m.NC("decreaseHoverVerbosity","Icon for decreasing hover verbosity."));class Z{constructor(j,Y,H,Q,ie,te=void 0){this.owner=j,this.range=Y,this.contents=H,this.isBeforeContent=Q,this.ordinal=ie,this.source=te}isValidForHoverAnchor(j){return j.type===1&&this.range.startColumn<=j.range.startColumn&&this.range.endColumn>=j.range.endColumn}}class z{constructor(j,Y,H){this.hover=j,this.hoverProvider=Y,this.hoverPosition=H}supportsVerbosityAction(j){var Y,H;switch(j){case i.bq.Increase:return(Y=this.hover.canIncreaseVerbosity)!==null&&Y!==void 0?Y:!1;case i.bq.Decrease:return(H=this.hover.canDecreaseVerbosity)!==null&&H!==void 0?H:!1}}}let A=class{constructor(j,Y,H,Q,ie,te,se){this._editor=j,this._languageService=Y,this._openerService=H,this._configurationService=Q,this._languageFeaturesService=ie,this._keybindingService=te,this._hoverService=se,this.hoverOrdinal=3}createLoadingMessage(j){return new Z(this,j.range,[new O.W5().appendText(m.NC("modesContentHover.loading","Loading..."))],!1,2e3)}computeSync(j,Y){if(!this._editor.hasModel()||j.type!==1)return[];const H=this._editor.getModel(),Q=j.range.startLineNumber,ie=H.getLineMaxColumn(Q),te=[];let se=1e3;const ne=H.getLineLength(Q),ee=H.getLanguageIdAtPosition(j.range.startLineNumber,j.range.startColumn),re=this._editor.getOption(117),he=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:ee});let M=!1;re>=0&&ne>re&&j.range.startColumn>=re&&(M=!0,te.push(new Z(this,j.range,[{value:m.NC("stopped rendering","Rendering paused for long line for performance reasons. This can be configured via `editor.stopRenderingLineAfter`.")}],!1,se++))),!M&&typeof he=="number"&&ne>=he&&te.push(new Z(this,j.range,[{value:m.NC("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],!1,se++));let we=!1;for(const We of Y){const ye=We.range.startLineNumber===Q?We.range.startColumn:1,X=We.range.endLineNumber===Q?We.range.endColumn:ie,ve=We.options.hoverMessage;if(!ve||(0,O.CP)(ve))continue;We.options.beforeContentClassName&&(we=!0);const Ee=new R.e(j.range.startLineNumber,ye,j.range.startLineNumber,X);te.push(new Z(this,Ee,(0,B._2)(ve),we,se++))}return te}computeAsync(j,Y,H){if(!this._editor.hasModel()||j.type!==1)return C.Aq.EMPTY;const Q=this._editor.getModel(),ie=this._languageFeaturesService.hoverProvider;return ie.has(Q)?this._getMarkdownHovers(ie,Q,j,H):C.Aq.EMPTY}_getMarkdownHovers(j,Y,H,Q){const ie=H.range.getStartPosition();return(0,_.OP)(j,Y,ie,Q).filter(ne=>!(0,O.CP)(ne.hover.contents)).map(ne=>{const ee=ne.hover.range?R.e.lift(ne.hover.range):H.range,re=new z(ne.hover,ne.provider,ie);return new Z(this,ee,ne.hover.contents,!1,ne.ordinal,re)})}renderHoverParts(j,Y){return this._renderedHoverParts=new P(Y,j.fragment,this._editor,this._languageService,this._openerService,this._keybindingService,this._hoverService,this._configurationService,j.onContentsChanged),this._renderedHoverParts}updateFocusedMarkdownHoverPartVerbosityLevel(j){var Y;(Y=this._renderedHoverParts)===null||Y===void 0||Y.updateFocusedHoverPartVerbosityLevel(j)}};A=N([b(1,w.O),b(2,a.v),b(3,g.Ui),b(4,r.p),b(5,D.d),b(6,y.Bs)],A);class P extends S.JT{constructor(j,Y,H,Q,ie,te,se,ne,ee){super(),this._editor=H,this._languageService=Q,this._openerService=ie,this._keybindingService=te,this._hoverService=se,this._configurationService=ne,this._onFinishedRendering=ee,this._hoverFocusInfo={hoverPartIndex:-1,focusRemains:!1},this._renderedHoverParts=this._renderHoverParts(j,Y,this._onFinishedRendering),this._register((0,S.OF)(()=>{this._renderedHoverParts.forEach(re=>{re.disposables.dispose()})}))}_renderHoverParts(j,Y,H){return j.sort((0,B.tT)(Q=>Q.ordinal,B.fv)),j.map((Q,ie)=>{const te=this._renderHoverPart(ie,Q.contents,Q.source,H);return Y.appendChild(te.renderedMarkdown),te})}_renderHoverPart(j,Y,H,Q){const{renderedMarkdown:ie,disposables:te}=this._renderMarkdownContent(Y,Q);if(!H)return{renderedMarkdown:ie,disposables:te};const se=H.supportsVerbosityAction(i.bq.Increase),ne=H.supportsVerbosityAction(i.bq.Decrease);if(!se&&!ne)return{renderedMarkdown:ie,disposables:te,hoverSource:H};const ee=k("div.verbosity-actions");ie.prepend(ee),te.add(this._renderHoverExpansionAction(ee,i.bq.Increase,se)),te.add(this._renderHoverExpansionAction(ee,i.bq.Decrease,ne));const re=te.add(o.go(ie));return te.add(re.onDidFocus(()=>{this._hoverFocusInfo={hoverPartIndex:j,focusRemains:!0}})),te.add(re.onDidBlur(()=>{var he;if(!((he=this._hoverFocusInfo)===null||he===void 0)&&he.focusRemains){this._hoverFocusInfo.focusRemains=!1;return}})),{renderedMarkdown:ie,disposables:te,hoverSource:H}}_renderMarkdownContent(j,Y){const H=k("div.hover-row");H.tabIndex=0;const Q=k("div.hover-row-contents");H.appendChild(Q);const ie=new S.SL;return ie.add(W(this._editor,Q,j,this._languageService,this._openerService,Y)),{renderedMarkdown:H,disposables:ie}}_renderHoverExpansionAction(j,Y,H){const Q=new S.SL,ie=Y===i.bq.Increase,te=o.R3(j,k(u.k.asCSSSelector(ie?V:K)));te.tabIndex=0;const se=new y.mQ("mouse",!1,{target:j,position:{hoverPosition:0}},this._configurationService,this._hoverService);if(ie){const ee=this._keybindingService.lookupKeybinding(E.Gd);Q.add(this._hoverService.setupUpdatableHover(se,te,ee?m.NC("increaseVerbosityWithKb","Increase Verbosity ({0})",ee.getLabel()):m.NC("increaseVerbosity","Increase Verbosity")))}else{const ee=this._keybindingService.lookupKeybinding(E.m);Q.add(this._hoverService.setupUpdatableHover(se,te,ee?m.NC("decreaseVerbosityWithKb","Decrease Verbosity ({0})",ee.getLabel()):m.NC("decreaseVerbosity","Decrease Verbosity")))}if(!H)return te.classList.add("disabled"),Q;te.classList.add("enabled");const ne=()=>this.updateFocusedHoverPartVerbosityLevel(Y);return Q.add(new f.R0(te,ne)),Q.add(new f.rb(te,ne,[3,10])),Q}updateFocusedHoverPartVerbosityLevel(j){return Ft(this,null,function*(){var Y;const H=this._editor.getModel();if(!H)return;const Q=this._hoverFocusInfo.hoverPartIndex,ie=this._getRenderedHoverPartAtIndex(Q);if(!ie||!(!((Y=ie.hoverSource)===null||Y===void 0)&&Y.supportsVerbosityAction(j)))return;const te=ie.hoverSource.hoverPosition,se=ie.hoverSource.hoverProvider,ne=ie.hoverSource.hover,ee={verbosityRequest:{action:j,previousHover:ne}};let re;try{re=yield Promise.resolve(se.provideHover(H,te,x.Ts.None,ee))}catch(we){(0,l.Cp)(we)}if(!re)return;const he=new z(re,se,te),M=this._renderHoverPart(Q,re.contents,he,this._onFinishedRendering);this._replaceRenderedHoverPartAtIndex(Q,M),this._focusOnHoverPartWithIndex(Q),this._onFinishedRendering()})}_replaceRenderedHoverPartAtIndex(j,Y){if(j>=this._renderHoverParts.length||j<0)return;const H=this._renderedHoverParts[j];H.renderedMarkdown.replaceWith(Y.renderedMarkdown),H.disposables.dispose(),this._renderedHoverParts[j]=Y}_focusOnHoverPartWithIndex(j){this._renderedHoverParts[j].renderedMarkdown.focus(),this._hoverFocusInfo.focusRemains=!0}_getRenderedHoverPartAtIndex(j){return this._renderedHoverParts[j]}}function I(G,j,Y,H,Q){j.sort((0,B.tT)(te=>te.ordinal,B.fv));const ie=new S.SL;for(const te of j)ie.add(W(Y,G.fragment,te.contents,H,Q,G.onContentsChanged));return ie}function W(G,j,Y,H,Q,ie){const te=new S.SL;for(const se of Y){if((0,O.CP)(se))continue;const ne=k("div.markdown-hover"),ee=o.R3(ne,k("div.hover-contents")),re=te.add(new p.$({editor:G},H,Q));te.add(re.onDidRenderAsync(()=>{ee.className="hover-contents code-hover-contents",ie()}));const he=te.add(re.render(se));ee.appendChild(he.element),j.appendChild(ne)}return te}},56263:function(et,Le,e){"use strict";var o=e(74696),B=e(25602),x=e(31079),O=e(92635),S=e(4694),p=e(14149),E=e(22706),R=e(93059),w=e(29256),m=e(61652);class g{constructor(D,f,y){this._editRange=D,this._originalSelection=f,this._text=y}getEditOperations(D,f){f.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(D,f){const C=f.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new p.Y(C.endLineNumber,Math.min(this._originalSelection.positionColumn,C.endColumn),C.endLineNumber,Math.min(this._originalSelection.positionColumn,C.endColumn)):new p.Y(C.endLineNumber,C.endColumn-this._text.length,C.endLineNumber,C.endColumn)}}var a=function(l,D,f,y){var C=arguments.length,_=C<3?D:y===null?y=Object.getOwnPropertyDescriptor(D,f):y,N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(l,D,f,y);else for(var b=l.length-1;b>=0;b--)(N=l[b])&&(_=(C<3?N(_):C>3?N(D,f,_):N(D,f))||_);return C>3&&_&&Object.defineProperty(D,f,_),_},r=function(l,D){return function(f,y){D(f,y,l)}},i;let n=i=class{static get(D){return D.getContribution(i.ID)}constructor(D,f){this.editor=D,this.editorWorkerService=f,this.decorations=this.editor.createDecorationsCollection()}dispose(){}run(D,f){var y;(y=this.currentRequest)===null||y===void 0||y.cancel();const C=this.editor.getSelection(),_=this.editor.getModel();if(!_||!C)return;let N=C;if(N.startLineNumber!==N.endLineNumber)return;const b=new x.yy(this.editor,5),k=_.uri;return this.editorWorkerService.canNavigateValueSet(k)?(this.currentRequest=(0,o.PG)(V=>this.editorWorkerService.navigateValueSet(k,N,f)),this.currentRequest.then(V=>{var K;if(!V||!V.range||!V.value||!b.validate(this.editor))return;const Z=S.e.lift(V.range);let z=V.range;const A=V.value.length-(N.endColumn-N.startColumn);z={startLineNumber:z.startLineNumber,startColumn:z.startColumn,endLineNumber:z.endLineNumber,endColumn:z.startColumn+V.value.length},A>1&&(N=new p.Y(N.startLineNumber,N.startColumn,N.endLineNumber,N.endColumn+A-1));const P=new g(Z,N,V.value);this.editor.pushUndoStop(),this.editor.executeCommand(D,P),this.editor.pushUndoStop(),this.decorations.set([{range:z,options:i.DECORATION}]),(K=this.decorationRemover)===null||K===void 0||K.cancel(),this.decorationRemover=(0,o.Vs)(350),this.decorationRemover.then(()=>this.decorations.clear()).catch(B.dL)}).catch(B.dL)):Promise.resolve(void 0)}};n.ID="editor.contrib.inPlaceReplaceController",n.DECORATION=R.qx.register({description:"in-place-replace",className:"valueSetReplacement"}),n=i=a([r(1,w.p)],n);class c extends O.R6{constructor(){super({id:"editor.action.inPlaceReplace.up",label:m.NC("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:E.u.writable,kbOpts:{kbExpr:E.u.editorTextFocus,primary:3159,weight:100}})}run(D,f){const y=n.get(f);return y?y.run(this.id,!1):Promise.resolve(void 0)}}class u extends O.R6{constructor(){super({id:"editor.action.inPlaceReplace.down",label:m.NC("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:E.u.writable,kbOpts:{kbExpr:E.u.editorTextFocus,primary:3161,weight:100}})}run(D,f){const y=n.get(f);return y?y.run(this.id,!0):Promise.resolve(void 0)}}(0,O._K)(n.ID,n,4),(0,O.Qr)(c),(0,O.Qr)(u)},68094:function(et,Le,e){"use strict";var o=e(45029),B=e(30144),x=e(92635),O=e(45352),S=e(4694),p=e(22706),E=e(81275),R=e(12692),w=e(45395),m=e(61652),g=e(86773),a=e(25409),r=e(44316),i=e(25724),n=e(14149);function c(I,W,G,j,Y){if(I.getLineCount()===1&&I.getLineMaxColumn(1)===1)return[];const H=W.getLanguageConfiguration(I.getLanguageId()).indentationRules;if(!H)return[];for(j=Math.min(j,I.getLineCount());G<=j&&H.unIndentedLinePattern;){const We=I.getLineContent(G);if(!H.unIndentedLinePattern.test(We))break;G++}if(G>j-1)return[];const{tabSize:Q,indentSize:ie,insertSpaces:te}=I.getOptions(),se=(We,ye)=>(ye=ye||1,O.U.shiftIndent(We,We.length+ye,Q,ie,te)),ne=(We,ye)=>(ye=ye||1,O.U.unshiftIndent(We,We.length+ye,Q,ie,te)),ee=[];let re;const he=I.getLineContent(G);let M=he;if(Y!=null){re=Y;const We=B.V8(he);M=re+he.substring(We.length),H.decreaseIndentPattern&&H.decreaseIndentPattern.test(M)&&(re=ne(re),M=re+he.substring(We.length)),he!==M&&ee.push(r.h.replaceMove(new n.Y(G,1,G,We.length+1),(0,i.x)(re,ie,te)))}else re=B.V8(he);let we=re;H.increaseIndentPattern&&H.increaseIndentPattern.test(M)?(we=se(we),re=se(re)):H.indentNextLinePattern&&H.indentNextLinePattern.test(M)&&(we=se(we)),G++;for(let We=G;We<=j;We++){const ye=I.getLineContent(We),X=B.V8(ye),ve=we+ye.substring(X.length);H.decreaseIndentPattern&&H.decreaseIndentPattern.test(ve)&&(we=ne(we),re=ne(re)),X!==we&&ee.push(r.h.replaceMove(new n.Y(We,1,We,X.length+1),(0,i.x)(we,ie,te))),!(H.unIndentedLinePattern&&H.unIndentedLinePattern.test(ye))&&(H.increaseIndentPattern&&H.increaseIndentPattern.test(ve)?(re=se(re),we=re):H.indentNextLinePattern&&H.indentNextLinePattern.test(ve)?we=se(we):we=re)}return ee}var u=function(I,W,G,j){var Y=arguments.length,H=Y<3?W:j===null?j=Object.getOwnPropertyDescriptor(W,G):j,Q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(I,W,G,j);else for(var ie=I.length-1;ie>=0;ie--)(Q=I[ie])&&(H=(Y<3?Q(H):Y>3?Q(W,G,H):Q(W,G))||H);return Y>3&&H&&Object.defineProperty(W,G,H),H},l=function(I,W){return function(G,j){W(G,j,I)}};class D extends x.R6{constructor(){super({id:D.ID,label:m.NC("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:p.u.writable,metadata:{description:m.vv("indentationToSpacesDescription","Convert the tab indentation to spaces.")}})}run(W,G){const j=G.getModel();if(!j)return;const Y=j.getOptions(),H=G.getSelection();if(!H)return;const Q=new A(H,Y.tabSize);G.pushUndoStop(),G.executeCommands(this.id,[Q]),G.pushUndoStop(),j.updateOptions({insertSpaces:!0})}}D.ID="editor.action.indentationToSpaces";class f extends x.R6{constructor(){super({id:f.ID,label:m.NC("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:p.u.writable,metadata:{description:m.vv("indentationToTabsDescription","Convert the spaces indentation to tabs.")}})}run(W,G){const j=G.getModel();if(!j)return;const Y=j.getOptions(),H=G.getSelection();if(!H)return;const Q=new P(H,Y.tabSize);G.pushUndoStop(),G.executeCommands(this.id,[Q]),G.pushUndoStop(),j.updateOptions({insertSpaces:!1})}}f.ID="editor.action.indentationToTabs";class y extends x.R6{constructor(W,G,j){super(j),this.insertSpaces=W,this.displaySizeOnly=G}run(W,G){const j=W.get(g.eJ),Y=W.get(R.q),H=G.getModel();if(!H)return;const Q=Y.getCreationOptions(H.getLanguageId(),H.uri,H.isForSimpleWidget),ie=H.getOptions(),te=[1,2,3,4,5,6,7,8].map(ne=>({id:ne.toString(),label:ne.toString(),description:ne===Q.tabSize&&ne===ie.tabSize?m.NC("configuredTabSize","Configured Tab Size"):ne===Q.tabSize?m.NC("defaultTabSize","Default Tab Size"):ne===ie.tabSize?m.NC("currentTabSize","Current Tab Size"):void 0})),se=Math.min(H.getOptions().tabSize-1,7);setTimeout(()=>{j.pick(te,{placeHolder:m.NC({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:te[se]}).then(ne=>{if(ne&&H&&!H.isDisposed()){const ee=parseInt(ne.label,10);this.displaySizeOnly?H.updateOptions({tabSize:ee}):H.updateOptions({tabSize:ee,indentSize:ee,insertSpaces:this.insertSpaces})}})},50)}}class C extends y{constructor(){super(!1,!1,{id:C.ID,label:m.NC("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0,metadata:{description:m.vv("indentUsingTabsDescription","Use indentation with tabs.")}})}}C.ID="editor.action.indentUsingTabs";class _ extends y{constructor(){super(!0,!1,{id:_.ID,label:m.NC("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0,metadata:{description:m.vv("indentUsingSpacesDescription","Use indentation with spaces.")}})}}_.ID="editor.action.indentUsingSpaces";class N extends y{constructor(){super(!0,!0,{id:N.ID,label:m.NC("changeTabDisplaySize","Change Tab Display Size"),alias:"Change Tab Display Size",precondition:void 0,metadata:{description:m.vv("changeTabDisplaySizeDescription","Change the space size equivalent of the tab.")}})}}N.ID="editor.action.changeTabDisplaySize";class b extends x.R6{constructor(){super({id:b.ID,label:m.NC("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0,metadata:{description:m.vv("detectIndentationDescription","Detect the indentation from content.")}})}run(W,G){const j=W.get(R.q),Y=G.getModel();if(!Y)return;const H=j.getCreationOptions(Y.getLanguageId(),Y.uri,Y.isForSimpleWidget);Y.detectIndentation(H.insertSpaces,H.tabSize)}}b.ID="editor.action.detectIndentation";class k extends x.R6{constructor(){super({id:"editor.action.reindentlines",label:m.NC("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:p.u.writable,metadata:{description:m.vv("editor.reindentlinesDescription","Reindent the lines of the editor.")}})}run(W,G){const j=W.get(E.c_),Y=G.getModel();if(!Y)return;const H=c(Y,j,1,Y.getLineCount());H.length>0&&(G.pushUndoStop(),G.executeEdits(this.id,H),G.pushUndoStop())}}class V extends x.R6{constructor(){super({id:"editor.action.reindentselectedlines",label:m.NC("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:p.u.writable,metadata:{description:m.vv("editor.reindentselectedlinesDescription","Reindent the selected lines of the editor.")}})}run(W,G){const j=W.get(E.c_),Y=G.getModel();if(!Y)return;const H=G.getSelections();if(H===null)return;const Q=[];for(const ie of H){let te=ie.startLineNumber,se=ie.endLineNumber;if(te!==se&&ie.endColumn===1&&se--,te===1){if(te===se)continue}else te--;const ne=c(Y,j,te,se);Q.push(...ne)}Q.length>0&&(G.pushUndoStop(),G.executeEdits(this.id,Q),G.pushUndoStop())}}class K{constructor(W,G){this._initialSelection=G,this._edits=[],this._selectionId=null;for(const j of W)j.range&&typeof j.text=="string"&&this._edits.push(j)}getEditOperations(W,G){for(const Y of this._edits)G.addEditOperation(S.e.lift(Y.range),Y.text);let j=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(j=!0,this._selectionId=G.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(j=!0,this._selectionId=G.trackSelection(this._initialSelection,!1))),j||(this._selectionId=G.trackSelection(this._initialSelection))}computeCursorState(W,G){return G.getTrackedSelection(this._selectionId)}}let Z=class{constructor(W,G){this.editor=W,this._languageConfigurationService=G,this.callOnDispose=new o.SL,this.callOnModel=new o.SL,this.callOnDispose.add(W.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(W.onDidChangeModel(()=>this.update())),this.callOnDispose.add(W.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(12)<4||this.editor.getOption(55))&&this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste(({range:W})=>{this.trigger(W)}))}trigger(W){const G=this.editor.getSelections();if(G===null||G.length>1)return;const j=this.editor.getModel();if(!j||!j.tokenization.isCheapToTokenize(W.getStartPosition().lineNumber))return;const Y=this.editor.getOption(12),{tabSize:H,indentSize:Q,insertSpaces:ie}=j.getOptions(),te=[],se={shiftIndent:he=>O.U.shiftIndent(he,he.length+1,H,Q,ie),unshiftIndent:he=>O.U.unshiftIndent(he,he.length+1,H,Q,ie)};let ne=W.startLineNumber;for(;ne<=W.endLineNumber;){if(this.shouldIgnoreLine(j,ne)){ne++;continue}break}if(ne>W.endLineNumber)return;let ee=j.getLineContent(ne);if(!/\S/.test(ee.substring(0,W.startColumn-1))){const he=(0,a.n8)(Y,j,j.getLanguageId(),ne,se,this._languageConfigurationService);if(he!==null){const M=B.V8(ee),we=w.Y(he,H),We=w.Y(M,H);if(we!==We){const ye=w.J(we,H,ie);te.push({range:new S.e(ne,1,ne,M.length+1),text:ye}),ee=ye+ee.substr(M.length)}else{const ye=(0,a.tI)(j,ne,this._languageConfigurationService);if(ye===0||ye===8)return}}}const re=ne;for(;ne<W.endLineNumber;){if(!/\S/.test(j.getLineContent(ne+1))){ne++;continue}break}if(ne!==W.endLineNumber){const he={tokenization:{getLineTokens:we=>j.tokenization.getLineTokens(we),getLanguageId:()=>j.getLanguageId(),getLanguageIdAtPosition:(we,We)=>j.getLanguageIdAtPosition(we,We)},getLineContent:we=>we===re?ee:j.getLineContent(we)},M=(0,a.n8)(Y,he,j.getLanguageId(),ne+1,se,this._languageConfigurationService);if(M!==null){const we=w.Y(M,H),We=w.Y(B.V8(j.getLineContent(ne+1)),H);if(we!==We){const ye=we-We;for(let X=ne+1;X<=W.endLineNumber;X++){const ve=j.getLineContent(X),Ee=B.V8(ve),Ke=w.Y(Ee,H)+ye,Qe=w.J(Ke,H,ie);Qe!==Ee&&te.push({range:new S.e(X,1,X,Ee.length+1),text:Qe})}}}}if(te.length>0){this.editor.pushUndoStop();const he=new K(te,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",he),this.editor.pushUndoStop()}}shouldIgnoreLine(W,G){W.tokenization.forceTokenization(G);const j=W.getLineFirstNonWhitespaceColumn(G);if(j===0)return!0;const Y=W.tokenization.getLineTokens(G);if(Y.getCount()>0){const H=Y.findTokenIndexAtOffset(j);if(H>=0&&Y.getStandardTokenType(H)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};Z.ID="editor.contrib.autoIndentOnPaste",Z=u([l(1,E.c_)],Z);function z(I,W,G,j){if(I.getLineCount()===1&&I.getLineMaxColumn(1)===1)return;let Y="";for(let Q=0;Q<G;Q++)Y+=" ";const H=new RegExp(Y,"gi");for(let Q=1,ie=I.getLineCount();Q<=ie;Q++){let te=I.getLineFirstNonWhitespaceColumn(Q);if(te===0&&(te=I.getLineMaxColumn(Q)),te===1)continue;const se=new S.e(Q,1,Q,te),ne=I.getValueInRange(se),ee=j?ne.replace(/\t/ig,Y):ne.replace(H,"	");W.addEditOperation(se,ee)}}class A{constructor(W,G){this.selection=W,this.tabSize=G,this.selectionId=null}getEditOperations(W,G){this.selectionId=G.trackSelection(this.selection),z(W,G,this.tabSize,!0)}computeCursorState(W,G){return G.getTrackedSelection(this.selectionId)}}class P{constructor(W,G){this.selection=W,this.tabSize=G,this.selectionId=null}getEditOperations(W,G){this.selectionId=G.trackSelection(this.selection),z(W,G,this.tabSize,!1)}computeCursorState(W,G){return G.getTrackedSelection(this.selectionId)}}(0,x._K)(Z.ID,Z,2),(0,x.Qr)(D),(0,x.Qr)(f),(0,x.Qr)(C),(0,x.Qr)(_),(0,x.Qr)(N),(0,x.Qr)(b),(0,x.Qr)(k),(0,x.Qr)(V)},45395:function(et,Le,e){"use strict";e.d(Le,{J:function(){return B},Y:function(){return o}});function o(x,O){let S=0;for(let p=0;p<x.length;p++)x.charAt(p)==="	"?S+=O:S++;return S}function B(x,O,S){x=x<0?0:x;let p="";if(!S){const E=Math.floor(x/O);x=x%O;for(let R=0;R<E;R++)p+="	"}for(let E=0;E<x;E++)p+=" ";return p}},44616:function(et,Le,e){"use strict";e.d(Le,{Q3:function(){return w},UQ:function(){return E},_I:function(){return m}});var o=e(25602),B=e(45029),x=e(93895),O=e(4694),S=e(91649),p=e(10058);class E{constructor(a,r){this.range=a,this.direction=r}}class R{constructor(a,r,i){this.hint=a,this.anchor=r,this.provider=i,this._isResolved=!1}with(a){const r=new R(this.hint,a.anchor,this.provider);return r._isResolved=this._isResolved,r._currentResolve=this._currentResolve,r}resolve(a){return Ft(this,null,function*(){if(typeof this.provider.resolveInlayHint=="function"){if(this._currentResolve)return yield this._currentResolve,a.isCancellationRequested?void 0:this.resolve(a);this._isResolved||(this._currentResolve=this._doResolve(a).finally(()=>this._currentResolve=void 0)),yield this._currentResolve}})}_doResolve(a){return Ft(this,null,function*(){var r,i,n;try{const c=yield Promise.resolve(this.provider.resolveInlayHint(this.hint,a));this.hint.tooltip=(r=c==null?void 0:c.tooltip)!==null&&r!==void 0?r:this.hint.tooltip,this.hint.label=(i=c==null?void 0:c.label)!==null&&i!==void 0?i:this.hint.label,this.hint.textEdits=(n=c==null?void 0:c.textEdits)!==null&&n!==void 0?n:this.hint.textEdits,this._isResolved=!0}catch(c){(0,o.Cp)(c),this._isResolved=!1}})}}class w{static create(a,r,i,n){return Ft(this,null,function*(){const c=[],u=a.ordered(r).reverse().map(l=>i.map(D=>Ft(this,null,function*(){try{const f=yield l.provideInlayHints(r,D,n);(f!=null&&f.hints.length||l.onDidChangeInlayHints)&&c.push([f!=null?f:w._emptyInlayHintList,l])}catch(f){(0,o.Cp)(f)}})));if(yield Promise.all(u.flat()),n.isCancellationRequested||r.isDisposed())throw new o.FU;return new w(i,c,r)})}constructor(a,r,i){this._disposables=new B.SL,this.ranges=a,this.provider=new Set;const n=[];for(const[c,u]of r){this._disposables.add(c),this.provider.add(u);for(const l of c.hints){const D=i.validatePosition(l.position);let f="before";const y=w._getRangeAtPosition(i,D);let C;y.getStartPosition().isBefore(D)?(C=O.e.fromPositions(y.getStartPosition(),D),f="after"):(C=O.e.fromPositions(D,y.getEndPosition()),f="before"),n.push(new R(l,new E(C,f),u))}}this.items=n.sort((c,u)=>x.L.compare(c.hint.position,u.hint.position))}dispose(){this._disposables.dispose()}static _getRangeAtPosition(a,r){const i=r.lineNumber,n=a.getWordAtPosition(r);if(n)return new O.e(i,n.startColumn,i,n.endColumn);a.tokenization.tokenizeIfCheap(i);const c=a.tokenization.getLineTokens(i),u=r.column-1,l=c.findTokenIndexAtOffset(u);let D=c.getStartOffset(l),f=c.getEndOffset(l);return f-D===1&&(D===u&&l>1?(D=c.getStartOffset(l-1),f=c.getEndOffset(l-1)):f===u&&l<c.getCount()-1&&(D=c.getStartOffset(l+1),f=c.getEndOffset(l+1))),new O.e(i,D+1,i,f+1)}}w._emptyInlayHintList=Object.freeze({dispose(){},hints:[]});function m(g){return p.o.from({scheme:S.lg.command,path:g.id,query:g.arguments&&encodeURIComponent(JSON.stringify(g.arguments))}).toString()}},40466:function(et,Le,e){"use strict";var o=e(92635),B=e(99041),x=e(55879),O=e(60777);(0,o._K)(x.K.ID,x.K,1),B.Ae.register(O.G)},55879:function(et,Le,e){"use strict";e.d(Le,{K:function(){return Y},f:function(){return G}});var o=e(91540),B=e(71221),x=e(74696),O=e(65642),S=e(25602),p=e(45029),E=e(79138),R=e(26974),w=e(10058),m=e(41528),g=e(1356),a=e(75625),r=e(44316),i=e(4694),n=e(91895),c=e(57204),u=e(93059),l=e(81580),D=e(70546),f=e(21592),y=e(50835),C=e(44616),_=e(19840),N=e(83349),b=e(98352),k=e(87058),V=e(52994),K=e(97341),Z=e(63279),z=function(Q,ie,te,se){var ne=arguments.length,ee=ne<3?ie:se===null?se=Object.getOwnPropertyDescriptor(ie,te):se,re;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ee=Reflect.decorate(Q,ie,te,se);else for(var he=Q.length-1;he>=0;he--)(re=Q[he])&&(ee=(ne<3?re(ee):ne>3?re(ie,te,ee):re(ie,te))||ee);return ne>3&&ee&&Object.defineProperty(ie,te,ee),ee},A=function(Q,ie){return function(te,se){ie(te,se,Q)}},P;class I{constructor(){this._entries=new E.z6(50)}get(ie){const te=I._key(ie);return this._entries.get(te)}set(ie,te){const se=I._key(ie);this._entries.set(se,te)}static _key(ie){return`${ie.uri.toString()}/${ie.getVersionId()}`}}const W=(0,k.yh)("IInlayHintsCache");(0,b.z)(W,I,1);class G{constructor(ie,te){this.item=ie,this.index=te}get part(){const ie=this.item.hint.label;return typeof ie=="string"?{label:ie}:ie[this.index]}}class j{constructor(ie,te){this.part=ie,this.hasTriggerModifier=te}}let Y=P=class{static get(ie){var te;return(te=ie.getContribution(P.ID))!==null&&te!==void 0?te:void 0}constructor(ie,te,se,ne,ee,re,he){this._editor=ie,this._languageFeaturesService=te,this._inlayHintsCache=ne,this._commandService=ee,this._notificationService=re,this._instaService=he,this._disposables=new p.SL,this._sessionDisposables=new p.SL,this._decorationsMetadata=new Map,this._ruleFactory=new m.t7(this._editor),this._activeRenderMode=0,this._debounceInfo=se.for(te.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(te.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(ie.onDidChangeModel(()=>this._update())),this._disposables.add(ie.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(ie.onDidChangeConfiguration(M=>{M.hasChanged(141)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){this._sessionDisposables.clear(),this._removeAllDecorations();const ie=this._editor.getOption(141);if(ie.enabled==="off")return;const te=this._editor.getModel();if(!te||!this._languageFeaturesService.inlayHintsProvider.has(te))return;if(ie.enabled==="on")this._activeRenderMode=0;else{let he,M;ie.enabled==="onUnlessPressed"?(he=0,M=1):(he=1,M=0),this._activeRenderMode=he,this._sessionDisposables.add(o._q.getInstance().event(we=>{if(!this._editor.hasModel())return;const We=we.altKey&&we.ctrlKey&&!(we.shiftKey||we.metaKey)?M:he;if(We!==this._activeRenderMode){this._activeRenderMode=We;const ye=this._editor.getModel(),X=this._copyInlayHintsWithCurrentAnchor(ye);this._updateHintsDecorators([ye.getFullModelRange()],X),re.schedule(0)}}))}const se=this._inlayHintsCache.get(te);se&&this._updateHintsDecorators([te.getFullModelRange()],se),this._sessionDisposables.add((0,p.OF)(()=>{te.isDisposed()||this._cacheHintsForFastRestore(te)}));let ne;const ee=new Set,re=new x.pY(()=>Ft(this,null,function*(){const he=Date.now();ne==null||ne.dispose(!0),ne=new O.AU;const M=te.onWillDispose(()=>ne==null?void 0:ne.cancel());try{const we=ne.token,We=yield C.Q3.create(this._languageFeaturesService.inlayHintsProvider,te,this._getHintsRanges(),we);if(re.delay=this._debounceInfo.update(te,Date.now()-he),we.isCancellationRequested){We.dispose();return}for(const ye of We.provider)typeof ye.onDidChangeInlayHints=="function"&&!ee.has(ye)&&(ee.add(ye),this._sessionDisposables.add(ye.onDidChangeInlayHints(()=>{re.isScheduled()||re.schedule()})));this._sessionDisposables.add(We),this._updateHintsDecorators(We.ranges,We.items),this._cacheHintsForFastRestore(te)}catch(we){(0,S.dL)(we)}finally{ne.dispose(),M.dispose()}}),this._debounceInfo.get(te));this._sessionDisposables.add(re),this._sessionDisposables.add((0,p.OF)(()=>ne==null?void 0:ne.dispose(!0))),re.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(he=>{(he.scrollTopChanged||!re.isScheduled())&&re.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(he=>{ne==null||ne.cancel();const M=Math.max(re.delay,1250);re.schedule(M)})),this._sessionDisposables.add(this._installDblClickGesture(()=>re.schedule(0))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const ie=new p.SL,te=ie.add(new y.yN(this._editor)),se=new p.SL;return ie.add(se),ie.add(te.onMouseMoveOrRelevantKeyDown(ne=>{const[ee]=ne,re=this._getInlayHintLabelPart(ee),he=this._editor.getModel();if(!re||!he){se.clear();return}const M=new O.AU;se.add((0,p.OF)(()=>M.dispose(!0))),re.item.resolve(M.token),this._activeInlayHintPart=re.part.command||re.part.location?new j(re,ee.hasTriggerModifier):void 0;const we=he.validatePosition(re.item.hint.position).lineNumber,We=new i.e(we,1,we,he.getLineMaxColumn(we)),ye=this._getInlineHintsForRange(We);this._updateHintsDecorators([We],ye),se.add((0,p.OF)(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([We],ye)}))})),ie.add(te.onCancel(()=>se.clear())),ie.add(te.onExecute(ne=>Ft(this,null,function*(){const ee=this._getInlayHintLabelPart(ne);if(ee){const re=ee.part;re.location?this._instaService.invokeFunction(_.K,ne,this._editor,re.location):n.mY.is(re.command)&&(yield this._invokeCommand(re.command,ee.item))}}))),ie}_getInlineHintsForRange(ie){const te=new Set;for(const se of this._decorationsMetadata.values())ie.containsRange(se.item.anchor.range)&&te.add(se.item);return Array.from(te)}_installDblClickGesture(ie){return this._editor.onMouseUp(te=>Ft(this,null,function*(){if(te.event.detail!==2)return;const se=this._getInlayHintLabelPart(te);if(se&&(te.event.preventDefault(),yield se.item.resolve(O.Ts.None),(0,B.Of)(se.item.hint.textEdits))){const ne=se.item.hint.textEdits.map(ee=>r.h.replace(i.e.lift(ee.range),ee.text));this._editor.executeEdits("inlayHint.default",ne),ie()}}))}_installContextMenu(){return this._editor.onContextMenu(ie=>Ft(this,null,function*(){if(!(ie.event.target instanceof HTMLElement))return;const te=this._getInlayHintLabelPart(ie);te&&(yield this._instaService.invokeFunction(_.u,this._editor,ie.event.target,te))}))}_getInlayHintLabelPart(ie){var te;if(ie.target.type!==6)return;const se=(te=ie.target.detail.injectedText)===null||te===void 0?void 0:te.options;if(se instanceof u.HS&&(se==null?void 0:se.attachedData)instanceof G)return se.attachedData}_invokeCommand(ie,te){return Ft(this,null,function*(){var se;try{yield this._commandService.executeCommand(ie.id,...(se=ie.arguments)!==null&&se!==void 0?se:[])}catch(ne){this._notificationService.notify({severity:V.zb.Error,source:te.provider.displayName,message:ne})}})}_cacheHintsForFastRestore(ie){const te=this._copyInlayHintsWithCurrentAnchor(ie);this._inlayHintsCache.set(ie,te)}_copyInlayHintsWithCurrentAnchor(ie){const te=new Map;for(const[se,ne]of this._decorationsMetadata){if(te.has(ne.item))continue;const ee=ie.getDecorationRange(se);if(ee){const re=new C.UQ(ee,ne.item.anchor.direction),he=ne.item.with({anchor:re});te.set(ne.item,he)}}return Array.from(te.values())}_getHintsRanges(){const te=this._editor.getModel(),se=this._editor.getVisibleRangesPlusViewportAboveBelow(),ne=[];for(const ee of se.sort(i.e.compareRangesUsingStarts)){const re=te.validateRange(new i.e(ee.startLineNumber-30,ee.startColumn,ee.endLineNumber+30,ee.endColumn));ne.length===0||!i.e.areIntersectingOrTouching(ne[ne.length-1],re)?ne.push(re):ne[ne.length-1]=i.e.plusRange(ne[ne.length-1],re)}return ne}_updateHintsDecorators(ie,te){var se,ne;const ee=[],re=(Ke,Qe,fe,$,le)=>{const De={content:fe,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:Qe.className,cursorStops:$,attachedData:le};ee.push({item:Ke,classNameRef:Qe,decoration:{range:Ke.anchor.range,options:{description:"InlayHint",showIfCollapsed:Ke.anchor.range.isEmpty(),collapseOnReplaceEdit:!Ke.anchor.range.isEmpty(),stickiness:0,[Ke.anchor.direction]:this._activeRenderMode===0?De:void 0}}})},he=(Ke,Qe)=>{const fe=this._ruleFactory.createClassNameRef({width:`${M/3|0}px`,display:"inline-block"});re(Ke,fe,"\u200A",Qe?c.RM.Right:c.RM.None)},{fontSize:M,fontFamily:we,padding:We,isUniform:ye}=this._getLayoutInfo(),X="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(X,we);let ve={line:0,totalLen:0};for(const Ke of te){if(ve.line!==Ke.anchor.range.startLineNumber&&(ve={line:Ke.anchor.range.startLineNumber,totalLen:0}),ve.totalLen>P._MAX_LABEL_LEN)continue;Ke.hint.paddingLeft&&he(Ke,!1);const Qe=typeof Ke.hint.label=="string"?[{label:Ke.hint.label}]:Ke.hint.label;for(let fe=0;fe<Qe.length;fe++){const $=Qe[fe],le=fe===0,De=fe===Qe.length-1,xe={fontSize:`${M}px`,fontFamily:`var(${X}), ${a.hL.fontFamily}`,verticalAlign:ye?"baseline":"middle",unicodeBidi:"isolate"};(0,B.Of)(Ke.hint.textEdits)&&(xe.cursor="default"),this._fillInColors(xe,Ke.hint),($.command||$.location)&&((se=this._activeInlayHintPart)===null||se===void 0?void 0:se.part.item)===Ke&&this._activeInlayHintPart.part.index===fe&&(xe.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(xe.color=(0,Z.EN)(K._Yy),xe.cursor="pointer")),We&&(le&&De?(xe.padding=`1px ${Math.max(1,M/4)|0}px`,xe.borderRadius=`${M/4|0}px`):le?(xe.padding=`1px 0 1px ${Math.max(1,M/4)|0}px`,xe.borderRadius=`${M/4|0}px 0 0 ${M/4|0}px`):De?(xe.padding=`1px ${Math.max(1,M/4)|0}px 1px 0`,xe.borderRadius=`0 ${M/4|0}px ${M/4|0}px 0`):xe.padding="1px 0 1px 0");let Ce=$.label;ve.totalLen+=Ce.length;let me=!1;const be=ve.totalLen-P._MAX_LABEL_LEN;if(be>0&&(Ce=Ce.slice(0,-be)+"\u2026",me=!0),re(Ke,this._ruleFactory.createClassNameRef(xe),H(Ce),De&&!Ke.hint.paddingRight?c.RM.Right:c.RM.None,new G(Ke,fe)),me)break}if(Ke.hint.paddingRight&&he(Ke,!0),ee.length>P._MAX_DECORATORS)break}const Ee=[];for(const[Ke,Qe]of this._decorationsMetadata){const fe=(ne=this._editor.getModel())===null||ne===void 0?void 0:ne.getDecorationRange(Ke);fe&&ie.some($=>$.containsRange(fe))&&(Ee.push(Ke),Qe.classNameRef.dispose(),this._decorationsMetadata.delete(Ke))}const Oe=g.Z.capture(this._editor);this._editor.changeDecorations(Ke=>{const Qe=Ke.deltaDecorations(Ee,ee.map(fe=>fe.decoration));for(let fe=0;fe<Qe.length;fe++){const $=ee[fe];this._decorationsMetadata.set(Qe[fe],$)}}),Oe.restore(this._editor)}_fillInColors(ie,te){te.kind===n.gl.Parameter?(ie.backgroundColor=(0,Z.EN)(K.phM),ie.color=(0,Z.EN)(K.HCL)):te.kind===n.gl.Type?(ie.backgroundColor=(0,Z.EN)(K.bKB),ie.color=(0,Z.EN)(K.hX8)):(ie.backgroundColor=(0,Z.EN)(K.PpC),ie.color=(0,Z.EN)(K.VVv))}_getLayoutInfo(){const ie=this._editor.getOption(141),te=ie.padding,se=this._editor.getOption(52),ne=this._editor.getOption(49);let ee=ie.fontSize;(!ee||ee<5||ee>se)&&(ee=se);const re=ie.fontFamily||ne;return{fontSize:ee,fontFamily:re,padding:te,isUniform:!te&&re===ne&&ee===se}}_removeAllDecorations(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));for(const ie of this._decorationsMetadata.values())ie.classNameRef.dispose();this._decorationsMetadata.clear()}};Y.ID="editor.contrib.InlayHints",Y._MAX_DECORATORS=1500,Y._MAX_LABEL_LEN=43,Y=P=z([A(1,D.p),A(2,l.A),A(3,W),A(4,N.H),A(5,V.lT),A(6,k.TG)],Y);function H(Q){return Q.replace(/[ \t]/g,"\xA0")}N.P.registerCommand("_executeInlayHintProvider",(Q,...ie)=>Ft(this,null,function*(){const[te,se]=ie;(0,R.p_)(w.o.isUri(te)),(0,R.p_)(i.e.isIRange(se));const{inlayHintsProvider:ne}=Q.get(D.p),ee=yield Q.get(f.S).createModelReference(te);try{const re=yield C.Q3.create(ne,ee.object.textEditorModel,[i.e.lift(se)],O.Ts.None),he=re.items.map(M=>M.hint);return setTimeout(()=>re.dispose(),0),he}finally{ee.dispose()}}))},60777:function(et,Le,e){"use strict";e.d(Le,{G:function(){return _}});var o=e(74696),B=e(60473),x=e(93895),O=e(93059),S=e(99041),p=e(50131),E=e(21592),R=e(67555),w=e(27887),m=e(55879),g=e(48774),a=e(27473),r=e(70546),i=e(61652),n=e(15122),c=e(44616),u=e(71221),l=e(66070),D=e(78307),f=function(N,b,k,V){var K=arguments.length,Z=K<3?b:V===null?V=Object.getOwnPropertyDescriptor(b,k):V,z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Z=Reflect.decorate(N,b,k,V);else for(var A=N.length-1;A>=0;A--)(z=N[A])&&(Z=(K<3?z(Z):K>3?z(b,k,Z):z(b,k))||Z);return K>3&&Z&&Object.defineProperty(b,k,Z),Z},y=function(N,b){return function(k,V){b(k,V,N)}};class C extends S.YM{constructor(b,k,V,K){super(10,k,b.item.anchor.range,V,K,!0),this.part=b}}let _=class extends w.D5{constructor(b,k,V,K,Z,z,A,P){super(b,k,V,z,P,K,Z),this._resolverService=A,this.hoverOrdinal=6}suggestHoverAnchor(b){var k;if(!m.K.get(this._editor)||b.target.type!==6)return null;const K=(k=b.target.detail.injectedText)===null||k===void 0?void 0:k.options;return K instanceof O.HS&&K.attachedData instanceof m.f?new C(K.attachedData,this,b.event.posx,b.event.posy):null}computeSync(){return[]}computeAsync(b,k,V){return b instanceof C?new o.Aq(K=>Ft(this,null,function*(){const{part:Z}=b;if(yield Z.item.resolve(V),V.isCancellationRequested)return;let z;typeof Z.item.hint.tooltip=="string"?z=new B.W5().appendText(Z.item.hint.tooltip):Z.item.hint.tooltip&&(z=Z.item.hint.tooltip),z&&K.emitOne(new w.hU(this,b.range,[z],!1,0)),(0,u.Of)(Z.item.hint.textEdits)&&K.emitOne(new w.hU(this,b.range,[new B.W5().appendText((0,i.NC)("hint.dbl","Double-click to insert"))],!1,10001));let A;if(typeof Z.part.tooltip=="string"?A=new B.W5().appendText(Z.part.tooltip):Z.part.tooltip&&(A=Z.part.tooltip),A&&K.emitOne(new w.hU(this,b.range,[A],!1,1)),Z.part.location||Z.part.command){let Y;const Q=this._editor.getOption(78)==="altKey"?n.dz?(0,i.NC)("links.navigate.kb.meta.mac","cmd + click"):(0,i.NC)("links.navigate.kb.meta","ctrl + click"):n.dz?(0,i.NC)("links.navigate.kb.alt.mac","option + click"):(0,i.NC)("links.navigate.kb.alt","alt + click");Z.part.location&&Z.part.command?Y=new B.W5().appendText((0,i.NC)("hint.defAndCommand","Go to Definition ({0}), right click for more",Q)):Z.part.location?Y=new B.W5().appendText((0,i.NC)("hint.def","Go to Definition ({0})",Q)):Z.part.command&&(Y=new B.W5(`[${(0,i.NC)("hint.cmd","Execute Command")}](${(0,c._I)(Z.part.command)} "${Z.part.command.title}") (${Q})`,{isTrusted:!0})),Y&&K.emitOne(new w.hU(this,b.range,[Y],!1,1e4))}const P=yield this._resolveInlayHintLabelPartHover(Z,V);try{for(var I=bo(P),W,G,j;W=!(G=yield I.next()).done;W=!1){const Y=G.value;K.emitOne(Y)}}catch(G){j=[G]}finally{try{W&&(G=I.return)&&(yield G.call(I))}finally{if(j)throw j[0]}}})):o.Aq.EMPTY}_resolveInlayHintLabelPartHover(b,k){return Ft(this,null,function*(){if(!b.part.location)return o.Aq.EMPTY;const{uri:V,range:K}=b.part.location,Z=yield this._resolverService.createModelReference(V);try{const z=Z.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(z)?(0,R.OP)(this._languageFeaturesService.hoverProvider,z,new x.L(K.startLineNumber,K.startColumn),k).filter(A=>!(0,B.CP)(A.hover.contents)).map(A=>new w.hU(this,b.item.anchor.range,A.hover.contents,!1,2+A.ordinal)):o.Aq.EMPTY}finally{Z.dispose()}})}};_=f([y(1,p.O),y(2,a.v),y(3,l.d),y(4,D.Bs),y(5,g.Ui),y(6,E.S),y(7,r.p)],_)},19840:function(et,Le,e){"use strict";e.d(Le,{K:function(){return c},u:function(){return n}});var o=e(91540),B=e(43263),x=e(65642),O=e(78836),S=e(4694),p=e(21592),E=e(43527),R=e(80125),w=e(69713),m=e(83349),g=e(80568),a=e(31949),r=e(87058),i=e(52994);function n(u,l,D,f){return Ft(this,null,function*(){var y;const C=u.get(p.S),_=u.get(a.i),N=u.get(m.H),b=u.get(r.TG),k=u.get(i.lT);if(yield f.item.resolve(x.Ts.None),!f.part.location)return;const V=f.part.location,K=[],Z=new Set(w.BH.getMenuItems(w.eH.EditorContext).map(A=>(0,w.vr)(A)?A.command.id:(0,O.R)()));for(const A of E.Bj.all())Z.has(A.desc.id)&&K.push(new B.aU(A.desc.id,w.U8.label(A.desc,{renderShortTitle:!0}),void 0,!0,()=>Ft(this,null,function*(){const P=yield C.createModelReference(V.uri);try{const I=new E._k(P.object.textEditorModel,S.e.getStartPosition(V.range)),W=f.item.anchor.range;yield b.invokeFunction(A.runEditorCommand.bind(A),l,I,W)}finally{P.dispose()}})));if(f.part.command){const{command:A}=f.part;K.push(new B.Z0),K.push(new B.aU(A.id,A.title,void 0,!0,()=>Ft(this,null,function*(){var P;try{yield N.executeCommand(A.id,...(P=A.arguments)!==null&&P!==void 0?P:[])}catch(I){k.notify({severity:i.zb.Error,source:f.item.provider.displayName,message:I})}})))}const z=l.getOption(127);_.showContextMenu({domForShadowRoot:z&&(y=l.getDomNode())!==null&&y!==void 0?y:void 0,getAnchor:()=>{const A=o.i(D);return{x:A.left,y:A.top+A.height+8}},getActions:()=>K,onHide:()=>{l.focus()},autoSelectFirstItem:!0})})}function c(u,l,D,f){return Ft(this,null,function*(){const C=yield u.get(p.S).createModelReference(f.uri);yield D.invokeWithinContext(_=>Ft(this,null,function*(){const N=l.hasSideBySideModifier,b=_.get(g.i6),k=R.Jy.inPeekEditor.getValue(b),V=!N&&D.getOption(88)&&!k;return new E.BT({openToSide:N,openInPeek:V,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(_,new E._k(C.object.textEditorModel,S.e.getStartPosition(f.range)),S.e.lift(f.range))})),C.dispose()})}},27381:function(et,Le,e){"use strict";e.d(Le,{Np:function(){return B},OW:function(){return x},Ou:function(){return o}});const o="editor.action.inlineSuggest.commit",B="editor.action.inlineSuggest.showPrevious",x="editor.action.inlineSuggest.showNext"},61400:function(et,Le,e){"use strict";e.d(Le,{HL:function(){return m},NY:function(){return E},Vb:function(){return p},bY:function(){return w},s1:function(){return R}});var o=e(71221),B=e(30144),x=e(93895),O=e(4694),S=e(43281);class p{constructor(a,r){this.lineNumber=a,this.parts=r}equals(a){return this.lineNumber===a.lineNumber&&this.parts.length===a.parts.length&&this.parts.every((r,i)=>r.equals(a.parts[i]))}renderForScreenReader(a){if(this.parts.length===0)return"";const r=this.parts[this.parts.length-1],i=a.substr(0,r.column-1);return new S.PY([...this.parts.map(c=>new S.At(O.e.fromPositions(new x.L(1,c.column)),c.lines.join(`
`)))]).applyToString(i).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every(a=>a.lines.length===0)}get lineCount(){return 1+this.parts.reduce((a,r)=>a+r.lines.length-1,0)}}class E{constructor(a,r,i){this.column=a,this.text=r,this.preview=i,this.lines=(0,B.uq)(this.text)}equals(a){return this.column===a.column&&this.lines.length===a.lines.length&&this.lines.every((r,i)=>r===a.lines[i])}}class R{constructor(a,r,i,n=0){this.lineNumber=a,this.columnRange=r,this.text=i,this.additionalReservedLineCount=n,this.parts=[new E(this.columnRange.endColumnExclusive,this.text,!1)],this.newLines=(0,B.uq)(this.text)}renderForScreenReader(a){return this.newLines.join(`
`)}get lineCount(){return this.newLines.length}isEmpty(){return this.parts.every(a=>a.lines.length===0)}equals(a){return this.lineNumber===a.lineNumber&&this.columnRange.equals(a.columnRange)&&this.newLines.length===a.newLines.length&&this.newLines.every((r,i)=>r===a.newLines[i])&&this.additionalReservedLineCount===a.additionalReservedLineCount}}function w(g,a){return(0,o.fS)(g,a,m)}function m(g,a){return g===a?!0:!g||!a?!1:g instanceof p&&a instanceof p||g instanceof R&&a instanceof R?g.equals(a):!1}},16995:function(et,Le,e){"use strict";e.d(Le,{rw:function(){return C},Wd:function(){return y}});var o=e(73275),B=e(79329),x=e(45029),O=e(17009),S=e(30144),p=e(43901),E=e(75625),R=e(93895),w=e(4694),m=e(42065),g=e(50131),a=e(57204),r=e(25114),i=e(84170),n=e(65158),c=e(61400),u=e(25393),l=function(b,k,V,K){var Z=arguments.length,z=Z<3?k:K===null?K=Object.getOwnPropertyDescriptor(k,V):K,A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")z=Reflect.decorate(b,k,V,K);else for(var P=b.length-1;P>=0;P--)(A=b[P])&&(z=(Z<3?A(z):Z>3?A(k,V,z):A(k,V))||z);return Z>3&&z&&Object.defineProperty(k,V,z),z},D=function(b,k){return function(V,K){k(V,K,b)}};const f="ghost-text";let y=class extends x.JT{constructor(k,V,K){super(),this.editor=k,this.model=V,this.languageService=K,this.isDisposed=(0,O.uh)(this,!1),this.currentTextModel=(0,O.rD)(this.editor.onDidChangeModel,()=>this.editor.getModel()),this.uiState=(0,O.nK)(this,Z=>{if(this.isDisposed.read(Z))return;const z=this.currentTextModel.read(Z);if(z!==this.model.targetTextModel.read(Z))return;const A=this.model.ghostText.read(Z);if(!A)return;const P=A instanceof c.s1?A.columnRange:void 0,I=[],W=[];function G(ie,te){if(W.length>0){const se=W[W.length-1];te&&se.decorations.push(new i.Kp(se.content.length+1,se.content.length+1+ie[0].length,te,0)),se.content+=ie[0],ie=ie.slice(1)}for(const se of ie)W.push({content:se,decorations:te?[new i.Kp(1,se.length+1,te,0)]:[]})}const j=z.getLineContent(A.lineNumber);let Y,H=0;for(const ie of A.parts){let te=ie.lines;Y===void 0?(I.push({column:ie.column,text:te[0],preview:ie.preview}),te=te.slice(1)):G([j.substring(H,ie.column-1)],void 0),te.length>0&&(G(te,f),Y===void 0&&ie.column<=j.length&&(Y=ie.column)),H=ie.column-1}Y!==void 0&&G([j.substring(H)],void 0);const Q=Y!==void 0?new u.rv(Y,j.length+1):void 0;return{replacedRange:P,inlineTexts:I,additionalLines:W,hiddenRange:Q,lineNumber:A.lineNumber,additionalReservedLineCount:this.model.minReservedLineCount.read(Z),targetTextModel:z}}),this.decorations=(0,O.nK)(this,Z=>{const z=this.uiState.read(Z);if(!z)return[];const A=[];z.replacedRange&&A.push({range:z.replacedRange.toRange(z.lineNumber),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}),z.hiddenRange&&A.push({range:z.hiddenRange.toRange(z.lineNumber),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});for(const P of z.inlineTexts)A.push({range:w.e.fromPositions(new R.L(z.lineNumber,P.column)),options:{description:f,after:{content:P.text,inlineClassName:P.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:a.RM.Left},showIfCollapsed:!0}});return A}),this.additionalLinesWidget=this._register(new C(this.editor,this.languageService.languageIdCodec,(0,O.nK)(Z=>{const z=this.uiState.read(Z);return z?{lineNumber:z.lineNumber,additionalLines:z.additionalLines,minReservedLineCount:z.additionalReservedLineCount,targetTextModel:z.targetTextModel}:void 0}))),this._register((0,x.OF)(()=>{this.isDisposed.set(!0,void 0)})),this._register((0,u.RP)(this.editor,this.decorations))}ownsViewZone(k){return this.additionalLinesWidget.viewZoneId===k}};y=l([D(2,g.O)],y);class C extends x.JT{get viewZoneId(){return this._viewZoneId}constructor(k,V,K){super(),this.editor=k,this.languageIdCodec=V,this.lines=K,this._viewZoneId=void 0,this.editorOptionsChanged=(0,O.aq)("editorOptionChanged",B.ju.filter(this.editor.onDidChangeConfiguration,Z=>Z.hasChanged(33)||Z.hasChanged(117)||Z.hasChanged(99)||Z.hasChanged(94)||Z.hasChanged(51)||Z.hasChanged(50)||Z.hasChanged(67))),this._register((0,O.EH)(Z=>{const z=this.lines.read(Z);this.editorOptionsChanged.read(Z),z?this.updateLines(z.lineNumber,z.additionalLines,z.minReservedLineCount):this.clear()}))}dispose(){super.dispose(),this.clear()}clear(){this.editor.changeViewZones(k=>{this._viewZoneId&&(k.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(k,V,K){const Z=this.editor.getModel();if(!Z)return;const{tabSize:z}=Z.getOptions();this.editor.changeViewZones(A=>{this._viewZoneId&&(A.removeZone(this._viewZoneId),this._viewZoneId=void 0);const P=Math.max(V.length,K);if(P>0){const I=document.createElement("div");_(I,z,V,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=A.addZone({afterLineNumber:k,heightInLines:P,domNode:I,afterColumnAffinity:1})}})}}function _(b,k,V,K,Z){const z=K.get(33),A=K.get(117),P="none",I=K.get(94),W=K.get(51),G=K.get(50),j=K.get(67),Y=new m.HT(1e4);Y.appendString('<div class="suggest-preview-text">');for(let ie=0,te=V.length;ie<te;ie++){const se=V[ie],ne=se.content;Y.appendString('<div class="view-line'),Y.appendString('" style="top:'),Y.appendString(String(ie*j)),Y.appendString('px;width:1000000px;">');const ee=S.$i(ne),re=S.Ut(ne),he=r.A.createEmpty(ne,Z);(0,n.d1)(new n.IJ(G.isMonospace&&!z,G.canUseHalfwidthRightwardsArrow,ne,!1,ee,re,0,he,se.decorations,k,0,G.spaceWidth,G.middotWidth,G.wsmiddotWidth,A,P,I,W!==E.n0.OFF,null),Y),Y.appendString("</div>")}Y.appendString("</div>"),(0,p.N)(b,G);const H=Y.build(),Q=N?N.createHTML(H):H;b.innerHTML=Q}const N=(0,o.Z)("editorGhostText",{createHTML:b=>b})},34824:function(et,Le,e){"use strict";e.d(Le,{f:function(){return E}});var o=e(17009),B=e(30144),x=e(76675),O=e(80568),S=e(45029),p=e(61652);class E extends S.JT{constructor(w,m){super(),this.contextKeyService=w,this.model=m,this.inlineCompletionVisible=E.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=E.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=E.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService),this.suppressSuggestions=E.suppressSuggestions.bindTo(this.contextKeyService),this._register((0,o.EH)(g=>{const a=this.model.read(g),r=a==null?void 0:a.state.read(g),i=!!(r!=null&&r.inlineCompletion)&&(r==null?void 0:r.primaryGhostText)!==void 0&&!(r!=null&&r.primaryGhostText.isEmpty());this.inlineCompletionVisible.set(i),r!=null&&r.primaryGhostText&&(r!=null&&r.inlineCompletion)&&this.suppressSuggestions.set(r.inlineCompletion.inlineCompletion.source.inlineCompletions.suppressSuggestions)})),this._register((0,o.EH)(g=>{const a=this.model.read(g);let r=!1,i=!0;const n=a==null?void 0:a.primaryGhostText.read(g);if(a!=null&&a.selectedSuggestItem&&n&&n.parts.length>0){const{column:c,lines:u}=n.parts[0],l=u[0],D=a.textModel.getLineIndentColumn(n.lineNumber);if(c<=D){let y=(0,B.LC)(l);y===-1&&(y=l.length-1),r=y>0;const C=a.textModel.getOptions().tabSize;i=x.i.visibleColumnFromColumn(l,y+1,C)<C}}this.inlineCompletionSuggestsIndentation.set(r),this.inlineCompletionSuggestsIndentationLessThanTabSize.set(i)}))}}E.inlineSuggestionVisible=new O.uy("inlineSuggestionVisible",!1,(0,p.NC)("inlineSuggestionVisible","Whether an inline suggestion is visible")),E.inlineSuggestionHasIndentation=new O.uy("inlineSuggestionHasIndentation",!1,(0,p.NC)("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace")),E.inlineSuggestionHasIndentationLessThanTabSize=new O.uy("inlineSuggestionHasIndentationLessThanTabSize",!0,(0,p.NC)("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab")),E.suppressSuggestions=new O.uy("inlineSuggestionSuppressSuggestions",void 0,(0,p.NC)("suppressSuggestions","Whether suggestions should be suppressed for the current suggestion"))},4500:function(et,Le,e){"use strict";var o=e(92635),B=e(99041),x=e(17009),O=e(60668),S=e(22706),p=e(27381),E=e(34824),R=e(91540),w=e(91333),m=e(74696),g=e(65642),a=e(32254),r=e(45029),i=e(92595),n=e(26974),c=e(2048),u=e(93895),l=e(81580),D=e(70546),f=e(16995),y=e(61160),C=e(71221),_=e(15864),N=e(25602),b=e(30144),k=e(44316),V=e(4694),K=e(14149),Z=e(43281),z=e(39470),A=e(91895),P=e(81275),I=e(61400),W=e(87100),G=e(9751),j=e(79138),Y=e(21453),H=e(34084),Q=e(88954),ie=e(77546),te=e(61696);function se(nt,Ge){const rt=new ie.FE,st=new Y.Z(rt,Mt=>Ge.getLanguageConfiguration(Mt)),tt=new te.xH(new ne([nt]),st),_t=(0,Q.w)(tt,[],void 0,!0);let kt="";const at=nt.getLineContent();function ht(Mt,ut){if(Mt.kind===2)if(ht(Mt.openingBracket,ut),ut=(0,H.Ii)(ut,Mt.openingBracket.length),Mt.child&&(ht(Mt.child,ut),ut=(0,H.Ii)(ut,Mt.child.length)),Mt.closingBracket)ht(Mt.closingBracket,ut),ut=(0,H.Ii)(ut,Mt.closingBracket.length);else{const lt=st.getSingleLanguageBracketTokens(Mt.openingBracket.languageId).findClosingTokenText(Mt.openingBracket.bracketIds);kt+=lt}else if(Mt.kind!==3){if(Mt.kind===0||Mt.kind===1)kt+=at.substring((0,H.F_)(ut),(0,H.F_)((0,H.Ii)(ut,Mt.length)));else if(Mt.kind===4)for(const ke of Mt.children)ht(ke,ut),ut=(0,H.Ii)(ut,ke.length)}}return ht(_t,H.xl),kt}class ne{constructor(Ge){this.lines=Ge,this.tokenization={getLineTokens:rt=>this.lines[rt-1]}}getLineCount(){return this.lines.length}getLineLength(Ge){return this.lines[Ge-1].getLineContent().length}}var ee=e(25393),re=e(97022);function he(kt,at,ht,Mt){return Ft(this,arguments,function*(nt,Ge,rt,st,tt=g.Ts.None,_t){const ut=ye(Ge,rt),ke=nt.all(rt),lt=new j.ri;for(const Ii of ke)Ii.groupId&&lt.add(Ii.groupId,Ii);function mt(Ii){if(!Ii.yieldsToGroupIds)return[];const Qi=[];for(const Wi of Ii.yieldsToGroupIds||[]){const Jt=lt.get(Wi);for(const Ne of Jt)Qi.push(Ne)}return Qi}const Ve=new Map,Tt=new Set;function At(Ii,Qi){if(Qi=[...Qi,Ii],Tt.has(Ii))return Qi;Tt.add(Ii);try{const Wi=mt(Ii);for(const Jt of Wi){const Ne=At(Jt,Qi);if(Ne)return Ne}}finally{Tt.delete(Ii)}}function Qt(Ii){const Qi=Ve.get(Ii);if(Qi)return Qi;const Wi=At(Ii,[]);Wi&&(0,N.Cp)(new Error(`Inline completions: cyclic yield-to dependency detected. Path: ${Wi.map(Ne=>Ne.toString?Ne.toString():""+Ne).join(" -> ")}`));const Jt=new m.CR;return Ve.set(Ii,Jt.p),Ft(this,null,function*(){if(!Wi){const Ne=mt(Ii);for(const gt of Ne){const Bt=yield Qt(gt);if(Bt&&Bt.items.length>0)return}}try{return yield Ii.provideInlineCompletions(rt,Ge,st,tt)}catch(Ne){(0,N.Cp)(Ne);return}}).then(Ne=>Jt.complete(Ne),Ne=>Jt.error(Ne)),Jt.p}const mi=yield Promise.all(ke.map(Ii=>Ft(this,null,function*(){return{provider:Ii,completions:yield Qt(Ii)}}))),Ci=new Map,Oi=[];for(const Ii of mi){const Qi=Ii.completions;if(!Qi)continue;const Wi=new we(Qi,Ii.provider);Oi.push(Wi);for(const Jt of Qi.items){const Ne=We.from(Jt,Wi,ut,rt,_t);Ci.set(Ne.hash(),Ne)}}return new M(Array.from(Ci.values()),new Set(Ci.keys()),Oi)})}class M{constructor(Ge,rt,st){this.completions=Ge,this.hashs=rt,this.providerResults=st}has(Ge){return this.hashs.has(Ge.hash())}dispose(){for(const Ge of this.providerResults)Ge.removeRef()}}class we{constructor(Ge,rt){this.inlineCompletions=Ge,this.provider=rt,this.refCount=1}addRef(){this.refCount++}removeRef(){this.refCount--,this.refCount===0&&this.provider.freeInlineCompletions(this.inlineCompletions)}}class We{static from(Ge,rt,st,tt,_t){let kt,at,ht=Ge.range?V.e.lift(Ge.range):st;if(typeof Ge.insertText=="string"){if(kt=Ge.insertText,_t&&Ge.completeBracketPairs){kt=X(kt,ht.getStartPosition(),tt,_t);const Mt=kt.length-Ge.insertText.length;Mt!==0&&(ht=new V.e(ht.startLineNumber,ht.startColumn,ht.endLineNumber,ht.endColumn+Mt))}at=void 0}else if("snippet"in Ge.insertText){const Mt=Ge.insertText.snippet.length;if(_t&&Ge.completeBracketPairs){Ge.insertText.snippet=X(Ge.insertText.snippet,ht.getStartPosition(),tt,_t);const ke=Ge.insertText.snippet.length-Mt;ke!==0&&(ht=new V.e(ht.startLineNumber,ht.startColumn,ht.endLineNumber,ht.endColumn+ke))}const ut=new re.Yj().parse(Ge.insertText.snippet);ut.children.length===1&&ut.children[0]instanceof re.xv?(kt=ut.children[0].value,at=void 0):(kt=ut.toString(),at={snippet:Ge.insertText.snippet,range:ht})}else(0,G.vE)(Ge.insertText);return new We(kt,Ge.command,ht,kt,at,Ge.additionalTextEdits||(0,ee.He)(),Ge,rt)}constructor(Ge,rt,st,tt,_t,kt,at,ht){this.filterText=Ge,this.command=rt,this.range=st,this.insertText=tt,this.snippetInfo=_t,this.additionalTextEdits=kt,this.sourceInlineCompletion=at,this.source=ht,Ge=Ge.replace(/\r\n|\r/g,`
`),tt=Ge.replace(/\r\n|\r/g,`
`)}withRange(Ge){return new We(this.filterText,this.command,Ge,this.insertText,this.snippetInfo,this.additionalTextEdits,this.sourceInlineCompletion,this.source)}hash(){return JSON.stringify({insertText:this.insertText,range:this.range.toString()})}}function ye(nt,Ge){const rt=Ge.getWordAtPosition(nt),st=Ge.getLineMaxColumn(nt.lineNumber);return rt?new V.e(nt.lineNumber,rt.startColumn,nt.lineNumber,st):V.e.fromPositions(nt,nt.with(void 0,st))}function X(nt,Ge,rt,st){const _t=rt.getLineContent(Ge.lineNumber).substring(0,Ge.column-1)+nt,kt=rt.tokenization.tokenizeLineWithEdit(Ge,_t.length-(Ge.column-1),nt),at=kt==null?void 0:kt.sliceAndInflate(Ge.column-1,_t.length,0);return at?se(at,st):nt}var ve=e(82719);function Ee(nt,Ge,rt){const st=rt?nt.range.intersectRanges(rt):nt.range;if(!st)return nt;const tt=Ge.getValueInRange(st,1),_t=(0,b.Mh)(tt,nt.text),kt=z.A.ofText(tt.substring(0,_t)).addToPosition(nt.range.getStartPosition()),at=nt.text.substring(_t),ht=V.e.fromPositions(kt,nt.range.getEndPosition());return new Z.At(ht,at)}function Oe(nt,Ge){return nt.text.startsWith(Ge.text)&&Qe(nt.range,Ge.range)}function Ke(nt,Ge,rt,st,tt=0){let _t=Ee(nt,Ge);if(_t.range.endLineNumber!==_t.range.startLineNumber)return;const kt=Ge.getLineContent(_t.range.startLineNumber),at=(0,b.V8)(kt).length;if(_t.range.startColumn-1<=at){const Ve=(0,b.V8)(_t.text).length,Tt=kt.substring(_t.range.startColumn-1,at),[At,Qt]=[_t.range.getStartPosition(),_t.range.getEndPosition()],mi=At.column+Tt.length<=Qt.column?At.delta(0,Tt.length):Qt,Ci=V.e.fromPositions(mi,Qt),Oi=_t.text.startsWith(Tt)?_t.text.substring(Tt.length):_t.text.substring(Ve);_t=new Z.At(Ci,Oi)}const Mt=Ge.getValueInRange(_t.range),ut=$(Mt,_t.text);if(!ut)return;const ke=_t.range.startLineNumber,lt=new Array;if(rt==="prefix"){const Ve=ut.filter(Tt=>Tt.originalLength===0);if(Ve.length>1||Ve.length===1&&Ve[0].originalStart!==Mt.length)return}const mt=_t.text.length-tt;for(const Ve of ut){const Tt=_t.range.startColumn+Ve.originalStart+Ve.originalLength;if(rt==="subwordSmart"&&st&&st.lineNumber===_t.range.startLineNumber&&Tt<st.column||Ve.originalLength>0)return;if(Ve.modifiedLength===0)continue;const At=Ve.modifiedStart+Ve.modifiedLength,Qt=Math.max(Ve.modifiedStart,Math.min(At,mt)),mi=_t.text.substring(Ve.modifiedStart,Qt),Ci=_t.text.substring(Qt,Math.max(Ve.modifiedStart,At));mi.length>0&&lt.push(new I.NY(Tt,mi,!1)),Ci.length>0&&lt.push(new I.NY(Tt,Ci,!0))}return new I.Vb(ke,lt)}function Qe(nt,Ge){return Ge.getStartPosition().equals(nt.getStartPosition())&&Ge.getEndPosition().isBeforeOrEqual(nt.getEndPosition())}let fe;function $(nt,Ge){if((fe==null?void 0:fe.originalValue)===nt&&(fe==null?void 0:fe.newValue)===Ge)return fe==null?void 0:fe.changes;{let rt=De(nt,Ge,!0);if(rt){const st=le(rt);if(st>0){const tt=De(nt,Ge,!1);tt&&le(tt)<st&&(rt=tt)}}return fe={originalValue:nt,newValue:Ge,changes:rt},rt}}function le(nt){let Ge=0;for(const rt of nt)Ge+=rt.originalLength;return Ge}function De(nt,Ge,rt){if(nt.length>5e3||Ge.length>5e3)return;function st(Mt){let ut=0;for(let ke=0,lt=Mt.length;ke<lt;ke++){const mt=Mt.charCodeAt(ke);mt>ut&&(ut=mt)}return ut}const tt=Math.max(st(nt),st(Ge));function _t(Mt){if(Mt<0)throw new Error("unexpected");return tt+Mt+1}function kt(Mt){let ut=0,ke=0;const lt=new Int32Array(Mt.length);for(let mt=0,Ve=Mt.length;mt<Ve;mt++)if(rt&&Mt[mt]==="("){const Tt=ke*100+ut;lt[mt]=_t(2*Tt),ut++}else if(rt&&Mt[mt]===")"){ut=Math.max(ut-1,0);const Tt=ke*100+ut;lt[mt]=_t(2*Tt+1),ut===0&&ke++}else lt[mt]=Mt.charCodeAt(mt);return lt}const at=kt(nt),ht=kt(Ge);return new ve.Hs({getElements:()=>at},{getElements:()=>ht}).ComputeDiff(!1).changes}var xe=function(nt,Ge,rt,st){var tt=arguments.length,_t=tt<3?Ge:st===null?st=Object.getOwnPropertyDescriptor(Ge,rt):st,kt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_t=Reflect.decorate(nt,Ge,rt,st);else for(var at=nt.length-1;at>=0;at--)(kt=nt[at])&&(_t=(tt<3?kt(_t):tt>3?kt(Ge,rt,_t):kt(Ge,rt))||_t);return tt>3&&_t&&Object.defineProperty(Ge,rt,_t),_t},Ce=function(nt,Ge){return function(rt,st){Ge(rt,st,nt)}};let me=class extends r.JT{constructor(Ge,rt,st,tt,_t){super(),this.textModel=Ge,this.versionId=rt,this._debounceValue=st,this.languageFeaturesService=tt,this.languageConfigurationService=_t,this._updateOperation=this._register(new r.XK),this.inlineCompletions=(0,x.DN)("inlineCompletions",void 0),this.suggestWidgetInlineCompletions=(0,x.DN)("suggestWidgetInlineCompletions",void 0),this._register(this.textModel.onDidChangeContent(()=>{this._updateOperation.clear()}))}fetch(Ge,rt,st){var tt,_t;const kt=new oe(Ge,rt,this.textModel.getVersionId()),at=rt.selectedSuggestionInfo?this.suggestWidgetInlineCompletions:this.inlineCompletions;if(!((tt=this._updateOperation.value)===null||tt===void 0)&&tt.request.satisfies(kt))return this._updateOperation.value.promise;if(!((_t=at.get())===null||_t===void 0)&&_t.request.satisfies(kt))return Promise.resolve(!0);const ht=!!this._updateOperation.value;this._updateOperation.clear();const Mt=new g.AU,ut=Ft(this,null,function*(){if((ht||rt.triggerKind===A.bw.Automatic)&&(yield be(this._debounceValue.get(this.textModel),Mt.token)),Mt.token.isCancellationRequested||this.textModel.getVersionId()!==kt.versionId)return!1;const mt=new Date,Ve=yield he(this.languageFeaturesService.inlineCompletionsProvider,Ge,this.textModel,rt,Mt.token,this.languageConfigurationService);if(Mt.token.isCancellationRequested||this.textModel.getVersionId()!==kt.versionId)return!1;const Tt=new Date;this._debounceValue.update(this.textModel,Tt.getTime()-mt.getTime());const At=new de(Ve,kt,this.textModel,this.versionId);if(st){const Qt=st.toInlineCompletion(void 0);st.canBeReused(this.textModel,Ge)&&!Ve.has(Qt)&&At.prepend(st.inlineCompletion,Qt.range,!0)}return this._updateOperation.clear(),(0,x.PS)(Qt=>{at.set(At,Qt)}),!0}),ke=new ue(kt,Mt,ut);return this._updateOperation.value=ke,ut}clear(Ge){this._updateOperation.clear(),this.inlineCompletions.set(void 0,Ge),this.suggestWidgetInlineCompletions.set(void 0,Ge)}clearSuggestWidgetInlineCompletions(Ge){var rt;!((rt=this._updateOperation.value)===null||rt===void 0)&&rt.request.context.selectedSuggestionInfo&&this._updateOperation.clear(),this.suggestWidgetInlineCompletions.set(void 0,Ge)}cancelUpdate(){this._updateOperation.clear()}};me=xe([Ce(3,D.p),Ce(4,P.c_)],me);function be(nt,Ge){return new Promise(rt=>{let st;const tt=setTimeout(()=>{st&&st.dispose(),rt()},nt);Ge&&(st=Ge.onCancellationRequested(()=>{clearTimeout(tt),st&&st.dispose(),rt()}))})}class oe{constructor(Ge,rt,st){this.position=Ge,this.context=rt,this.versionId=st}satisfies(Ge){return this.position.equals(Ge.position)&&(0,a.Tx)(this.context.selectedSuggestionInfo,Ge.context.selectedSuggestionInfo,(0,a.$h)())&&(Ge.context.triggerKind===A.bw.Automatic||this.context.triggerKind===A.bw.Explicit)&&this.versionId===Ge.versionId}}class ue{constructor(Ge,rt,st){this.request=Ge,this.cancellationTokenSource=rt,this.promise=st}dispose(){this.cancellationTokenSource.cancel()}}class de{get inlineCompletions(){return this._inlineCompletions}constructor(Ge,rt,st,tt){this.inlineCompletionProviderResult=Ge,this.request=rt,this._textModel=st,this._versionId=tt,this._refCount=1,this._prependedInlineCompletionItems=[];const _t=st.deltaDecorations([],Ge.completions.map(kt=>({range:kt.range,options:{description:"inline-completion-tracking-range"}})));this._inlineCompletions=Ge.completions.map((kt,at)=>new Se(kt,_t[at],this._textModel,this._versionId))}clone(){return this._refCount++,this}dispose(){if(this._refCount--,this._refCount===0){setTimeout(()=>{this._textModel.isDisposed()||this._textModel.deltaDecorations(this._inlineCompletions.map(Ge=>Ge.decorationId),[])},0),this.inlineCompletionProviderResult.dispose();for(const Ge of this._prependedInlineCompletionItems)Ge.source.removeRef()}}prepend(Ge,rt,st){st&&Ge.source.addRef();const tt=this._textModel.deltaDecorations([],[{range:rt,options:{description:"inline-completion-tracking-range"}}])[0];this._inlineCompletions.unshift(new Se(Ge,tt,this._textModel,this._versionId)),this._prependedInlineCompletionItems.push(Ge)}}class Se{get forwardStable(){var Ge;return(Ge=this.inlineCompletion.source.inlineCompletions.enableForwardStability)!==null&&Ge!==void 0?Ge:!1}constructor(Ge,rt,st,tt){this.inlineCompletion=Ge,this.decorationId=rt,this._textModel=st,this._modelVersion=tt,this.semanticId=JSON.stringify([this.inlineCompletion.filterText,this.inlineCompletion.insertText,this.inlineCompletion.range.getStartPosition().toString()]),this._updatedRange=(0,x.bk)({owner:this,equalsFn:V.e.equalsRange},_t=>(this._modelVersion.read(_t),this._textModel.getDecorationRange(this.decorationId)))}toInlineCompletion(Ge){var rt;return this.inlineCompletion.withRange((rt=this._updatedRange.read(Ge))!==null&&rt!==void 0?rt:Te)}toSingleTextEdit(Ge){var rt;return new Z.At((rt=this._updatedRange.read(Ge))!==null&&rt!==void 0?rt:Te,this.inlineCompletion.insertText)}isVisible(Ge,rt,st){const tt=Ee(this._toFilterTextReplacement(st),Ge),_t=this._updatedRange.read(st);if(!_t||!this.inlineCompletion.range.getStartPosition().equals(_t.getStartPosition())||rt.lineNumber!==tt.range.startLineNumber)return!1;const kt=Ge.getValueInRange(tt.range,1),at=tt.text,ht=Math.max(0,rt.column-tt.range.startColumn);let Mt=at.substring(0,ht),ut=at.substring(ht),ke=kt.substring(0,ht),lt=kt.substring(ht);const mt=Ge.getLineIndentColumn(tt.range.startLineNumber);return tt.range.startColumn<=mt&&(ke=ke.trimStart(),ke.length===0&&(lt=lt.trimStart()),Mt=Mt.trimStart(),Mt.length===0&&(ut=ut.trimStart())),Mt.startsWith(ke)&&!!(0,W.Sy)(lt,ut)}canBeReused(Ge,rt){const st=this._updatedRange.read(void 0);return!!st&&st.containsPosition(rt)&&this.isVisible(Ge,rt,void 0)&&z.A.ofRange(st).isGreaterThanOrEqualTo(z.A.ofRange(this.inlineCompletion.range))}_toFilterTextReplacement(Ge){var rt;return new Z.At((rt=this._updatedRange.read(Ge))!==null&&rt!==void 0?rt:Te,this.inlineCompletion.filterText)}}const Te=new V.e(1,1,1,1);var Ae=e(50020),pe=e(83349),je=e(87058),ot=function(nt,Ge,rt,st){var tt=arguments.length,_t=tt<3?Ge:st===null?st=Object.getOwnPropertyDescriptor(Ge,rt):st,kt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_t=Reflect.decorate(nt,Ge,rt,st);else for(var at=nt.length-1;at>=0;at--)(kt=nt[at])&&(_t=(tt<3?kt(_t):tt>3?kt(Ge,rt,_t):kt(Ge,rt))||_t);return tt>3&&_t&&Object.defineProperty(Ge,rt,_t),_t},xt=function(nt,Ge){return function(rt,st){Ge(rt,st,nt)}},jt;(function(nt){nt[nt.Undo=0]="Undo",nt[nt.Redo=1]="Redo",nt[nt.AcceptWord=2]="AcceptWord",nt[nt.Other=3]="Other"})(jt||(jt={}));let oi=class extends r.JT{get isAcceptingPartially(){return this._isAcceptingPartially}constructor(Ge,rt,st,tt,_t,kt,at,ht,Mt,ut,ke,lt){super(),this.textModel=Ge,this.selectedSuggestItem=rt,this.textModelVersionId=st,this._positions=tt,this._debounceValue=_t,this._suggestPreviewEnabled=kt,this._suggestPreviewMode=at,this._inlineSuggestMode=ht,this._enabled=Mt,this._instantiationService=ut,this._commandService=ke,this._languageConfigurationService=lt,this._source=this._register(this._instantiationService.createInstance(me,this.textModel,this.textModelVersionId,this._debounceValue)),this._isActive=(0,x.uh)(this,!1),this._forceUpdateExplicitlySignal=(0,x.GN)(this),this._selectedInlineCompletionId=(0,x.uh)(this,void 0),this._primaryPosition=(0,x.nK)(this,Ve=>{var Tt;return(Tt=this._positions.read(Ve)[0])!==null&&Tt!==void 0?Tt:new u.L(1,1)}),this._isAcceptingPartially=!1,this._preserveCurrentCompletionReasons=new Set([jt.Redo,jt.Undo,jt.AcceptWord]),this._fetchInlineCompletionsPromise=(0,x.aK)({owner:this,createEmptyChangeSummary:()=>({preserveCurrentCompletion:!1,inlineCompletionTriggerKind:A.bw.Automatic}),handleChange:(Ve,Tt)=>(Ve.didChange(this.textModelVersionId)&&this._preserveCurrentCompletionReasons.has(Ve.change)?Tt.preserveCurrentCompletion=!0:Ve.didChange(this._forceUpdateExplicitlySignal)&&(Tt.inlineCompletionTriggerKind=A.bw.Explicit),!0)},(Ve,Tt)=>{if(this._forceUpdateExplicitlySignal.read(Ve),!(this._enabled.read(Ve)&&this.selectedSuggestItem.read(Ve)||this._isActive.read(Ve))){this._source.cancelUpdate();return}this.textModelVersionId.read(Ve);const Qt=this._source.suggestWidgetInlineCompletions.get(),mi=this.selectedSuggestItem.read(Ve);if(Qt&&!mi){const Wi=this._source.inlineCompletions.get();(0,x.PS)(Jt=>{(!Wi||Qt.request.versionId>Wi.request.versionId)&&this._source.inlineCompletions.set(Qt.clone(),Jt),this._source.clearSuggestWidgetInlineCompletions(Jt)})}const Ci=this._primaryPosition.read(Ve),Oi={triggerKind:Tt.inlineCompletionTriggerKind,selectedSuggestionInfo:mi==null?void 0:mi.toSelectedSuggestionInfo()},Ii=this.selectedInlineCompletion.get(),Qi=Tt.preserveCurrentCompletion||Ii!=null&&Ii.forwardStable?Ii:void 0;return this._source.fetch(Ci,Oi,Qi)}),this._filteredInlineCompletionItems=(0,x.bk)({owner:this,equalsFn:(0,a.ZC)()},Ve=>{const Tt=this._source.inlineCompletions.read(Ve);if(!Tt)return[];const At=this._primaryPosition.read(Ve);return Tt.inlineCompletions.filter(mi=>mi.isVisible(this.textModel,At,Ve))}),this.selectedInlineCompletionIndex=(0,x.nK)(this,Ve=>{const Tt=this._selectedInlineCompletionId.read(Ve),At=this._filteredInlineCompletionItems.read(Ve),Qt=this._selectedInlineCompletionId===void 0?-1:At.findIndex(mi=>mi.semanticId===Tt);return Qt===-1?(this._selectedInlineCompletionId.set(void 0,void 0),0):Qt}),this.selectedInlineCompletion=(0,x.nK)(this,Ve=>{const Tt=this._filteredInlineCompletionItems.read(Ve),At=this.selectedInlineCompletionIndex.read(Ve);return Tt[At]}),this.activeCommands=(0,x.bk)({owner:this,equalsFn:(0,a.ZC)()},Ve=>{var Tt,At;return(At=(Tt=this.selectedInlineCompletion.read(Ve))===null||Tt===void 0?void 0:Tt.inlineCompletion.source.inlineCompletions.commands)!==null&&At!==void 0?At:[]}),this.lastTriggerKind=this._source.inlineCompletions.map(this,Ve=>Ve==null?void 0:Ve.request.context.triggerKind),this.inlineCompletionsCount=(0,x.nK)(this,Ve=>{if(this.lastTriggerKind.read(Ve)===A.bw.Explicit)return this._filteredInlineCompletionItems.read(Ve).length}),this.state=(0,x.bk)({owner:this,equalsFn:(Ve,Tt)=>!Ve||!Tt?Ve===Tt:(0,I.bY)(Ve.ghostTexts,Tt.ghostTexts)&&Ve.inlineCompletion===Tt.inlineCompletion&&Ve.suggestItem===Tt.suggestItem},Ve=>{var Tt,At;const Qt=this.textModel,mi=this.selectedSuggestItem.read(Ve);if(mi){const Ci=Ee(mi.toSingleTextEdit(),Qt),Oi=this._computeAugmentation(Ci,Ve);if(!this._suggestPreviewEnabled.read(Ve)&&!Oi)return;const Qi=(Tt=Oi==null?void 0:Oi.edit)!==null&&Tt!==void 0?Tt:Ci,Wi=Oi?Oi.edit.text.length-Ci.text.length:0,Jt=this._suggestPreviewMode.read(Ve),Ne=this._positions.read(Ve),gt=[Qi,...ti(this.textModel,Ne,Qi)],Bt=gt.map((hi,Ni)=>Ke(hi,Qt,Jt,Ne[Ni],Wi)).filter(n.$K),di=(At=Bt[0])!==null&&At!==void 0?At:new I.Vb(Qi.range.endLineNumber,[]);return{edits:gt,primaryGhostText:di,ghostTexts:Bt,inlineCompletion:Oi==null?void 0:Oi.completion,suggestItem:mi}}else{if(!this._isActive.read(Ve))return;const Ci=this.selectedInlineCompletion.read(Ve);if(!Ci)return;const Oi=Ci.toSingleTextEdit(Ve),Ii=this._inlineSuggestMode.read(Ve),Qi=this._positions.read(Ve),Wi=[Oi,...ti(this.textModel,Qi,Oi)],Jt=Wi.map((Ne,gt)=>Ke(Ne,Qt,Ii,Qi[gt],0)).filter(n.$K);return Jt[0]?{edits:Wi,primaryGhostText:Jt[0],ghostTexts:Jt,inlineCompletion:Ci,suggestItem:void 0}:void 0}}),this.ghostTexts=(0,x.bk)({owner:this,equalsFn:I.bY},Ve=>{const Tt=this.state.read(Ve);if(Tt)return Tt.ghostTexts}),this.primaryGhostText=(0,x.bk)({owner:this,equalsFn:I.HL},Ve=>{const Tt=this.state.read(Ve);if(Tt)return Tt==null?void 0:Tt.primaryGhostText}),this._register((0,x.jx)(this._fetchInlineCompletionsPromise));let mt;this._register((0,x.EH)(Ve=>{var Tt,At;const Qt=this.state.read(Ve),mi=Qt==null?void 0:Qt.inlineCompletion;if((mi==null?void 0:mi.semanticId)!==(mt==null?void 0:mt.semanticId)&&(mt=mi,mi)){const Ci=mi.inlineCompletion,Oi=Ci.source;(At=(Tt=Oi.provider).handleItemDidShow)===null||At===void 0||At.call(Tt,Oi.inlineCompletions,Ci.sourceInlineCompletion,Ci.insertText)}}))}trigger(Ge){return Ft(this,null,function*(){this._isActive.set(!0,Ge),yield this._fetchInlineCompletionsPromise.get()})}triggerExplicitly(Ge){return Ft(this,null,function*(){(0,x.c8)(Ge,rt=>{this._isActive.set(!0,rt),this._forceUpdateExplicitlySignal.trigger(rt)}),yield this._fetchInlineCompletionsPromise.get()})}stop(Ge){(0,x.c8)(Ge,rt=>{this._isActive.set(!1,rt),this._source.clear(rt)})}_computeAugmentation(Ge,rt){const st=this.textModel,tt=this._source.suggestWidgetInlineCompletions.read(rt),_t=tt?tt.inlineCompletions:[this.selectedInlineCompletion.read(rt)].filter(n.$K);return(0,_.Fr)(_t,at=>{let ht=at.toSingleTextEdit(rt);return ht=Ee(ht,st,V.e.fromPositions(ht.range.getStartPosition(),Ge.range.getEndPosition())),Oe(ht,Ge)?{completion:at,edit:ht}:void 0})}_deltaSelectedInlineCompletionIndex(Ge){return Ft(this,null,function*(){yield this.triggerExplicitly();const rt=this._filteredInlineCompletionItems.get()||[];if(rt.length>0){const st=(this.selectedInlineCompletionIndex.get()+Ge+rt.length)%rt.length;this._selectedInlineCompletionId.set(rt[st].semanticId,void 0)}else this._selectedInlineCompletionId.set(void 0,void 0)})}next(){return Ft(this,null,function*(){yield this._deltaSelectedInlineCompletionIndex(1)})}previous(){return Ft(this,null,function*(){yield this._deltaSelectedInlineCompletionIndex(-1)})}accept(Ge){return Ft(this,null,function*(){var rt;if(Ge.getModel()!==this.textModel)throw new N.he;const st=this.state.get();if(!st||st.primaryGhostText.isEmpty()||!st.inlineCompletion)return;const tt=st.inlineCompletion.toInlineCompletion(void 0);if(Ge.pushUndoStop(),tt.snippetInfo)Ge.executeEdits("inlineSuggestion.accept",[k.h.replace(tt.range,""),...tt.additionalTextEdits]),Ge.setPosition(tt.snippetInfo.range.getStartPosition(),"inlineCompletionAccept"),(rt=Ae.f.get(Ge))===null||rt===void 0||rt.insert(tt.snippetInfo.snippet,{undoStopBefore:!1});else{const _t=st.edits,kt=yt(_t).map(at=>K.Y.fromPositions(at));Ge.executeEdits("inlineSuggestion.accept",[..._t.map(at=>k.h.replace(at.range,at.text)),...tt.additionalTextEdits]),Ge.setSelections(kt,"inlineCompletionAccept")}tt.command&&tt.source.addRef(),(0,x.PS)(_t=>{this._source.clear(_t),this._isActive.set(!1,_t)}),tt.command&&(yield this._commandService.executeCommand(tt.command.id,...tt.command.arguments||[]).then(void 0,N.Cp),tt.source.removeRef())})}acceptNextWord(Ge){return Ft(this,null,function*(){yield this._acceptNext(Ge,(rt,st)=>{const tt=this.textModel.getLanguageIdAtPosition(rt.lineNumber,rt.column),_t=this._languageConfigurationService.getLanguageConfiguration(tt),kt=new RegExp(_t.wordDefinition.source,_t.wordDefinition.flags.replace("g","")),at=st.match(kt);let ht=0;at&&at.index!==void 0?at.index===0?ht=at[0].length:ht=at.index:ht=st.length;const ut=/\s+/g.exec(st);return ut&&ut.index!==void 0&&ut.index+ut[0].length<ht&&(ht=ut.index+ut[0].length),ht},0)})}acceptNextLine(Ge){return Ft(this,null,function*(){yield this._acceptNext(Ge,(rt,st)=>{const tt=st.match(/\n/);return tt&&tt.index!==void 0?tt.index+1:st.length},1)})}_acceptNext(Ge,rt,st){return Ft(this,null,function*(){if(Ge.getModel()!==this.textModel)throw new N.he;const tt=this.state.get();if(!tt||tt.primaryGhostText.isEmpty()||!tt.inlineCompletion)return;const _t=tt.primaryGhostText,kt=tt.inlineCompletion.toInlineCompletion(void 0);if(kt.snippetInfo||kt.filterText!==kt.insertText){yield this.accept(Ge);return}const at=_t.parts[0],ht=new u.L(_t.lineNumber,at.column),Mt=at.text,ut=rt(ht,Mt);if(ut===Mt.length&&_t.parts.length===1){this.accept(Ge);return}const ke=Mt.substring(0,ut),lt=this._positions.get(),mt=lt[0];kt.source.addRef();try{this._isAcceptingPartially=!0;try{Ge.pushUndoStop();const Ve=V.e.fromPositions(mt,ht),Tt=Ge.getModel().getValueInRange(Ve)+ke,At=new Z.At(Ve,Tt),Qt=[At,...ti(this.textModel,lt,At)],mi=yt(Qt).map(Ci=>K.Y.fromPositions(Ci));Ge.executeEdits("inlineSuggestion.accept",Qt.map(Ci=>k.h.replace(Ci.range,Ci.text))),Ge.setSelections(mi,"inlineCompletionPartialAccept")}finally{this._isAcceptingPartially=!1}if(kt.source.provider.handlePartialAccept){const Ve=V.e.fromPositions(kt.range.getStartPosition(),z.A.ofText(ke).addToPosition(ht)),Tt=Ge.getModel().getValueInRange(Ve,1);kt.source.provider.handlePartialAccept(kt.source.inlineCompletions,kt.sourceInlineCompletion,Tt.length,{kind:st})}}finally{kt.source.removeRef()}})}handleSuggestAccepted(Ge){var rt,st;const tt=Ee(Ge.toSingleTextEdit(),this.textModel),_t=this._computeAugmentation(tt,void 0);if(!_t)return;const kt=_t.completion.inlineCompletion;(st=(rt=kt.source.provider).handlePartialAccept)===null||st===void 0||st.call(rt,kt.source.inlineCompletions,kt.sourceInlineCompletion,tt.text.length,{kind:2})}};oi=ot([xt(9,je.TG),xt(10,pe.H),xt(11,P.c_)],oi);function ti(nt,Ge,rt){if(Ge.length===1)return[];const st=Ge[0],tt=Ge.slice(1),_t=rt.range.getStartPosition(),kt=rt.range.getEndPosition(),at=nt.getValueInRange(V.e.fromPositions(st,kt)),ht=(0,ee.Bm)(st,_t);if(ht.lineNumber<1)return(0,N.dL)(new N.he(`positionWithinTextEdit line number should be bigger than 0.
			Invalid subtraction between ${st.toString()} and ${_t.toString()}`)),[];const Mt=it(rt.text,ht);return tt.map(ut=>{const ke=(0,ee.QO)((0,ee.Bm)(ut,_t),kt),lt=nt.getValueInRange(V.e.fromPositions(ut,ke)),mt=(0,b.Mh)(at,lt),Ve=V.e.fromPositions(ut,ut.delta(0,mt));return new Z.At(Ve,Mt)})}function it(nt,Ge){let rt="";const st=(0,b.Fw)(nt);for(let tt=Ge.lineNumber-1;tt<st.length;tt++)rt+=st[tt].substring(tt===Ge.lineNumber-1?Ge.column-1:0);return rt}function yt(nt){const Ge=C._i.createSortPermutation(nt,(_t,kt)=>V.e.compareRangesUsingStarts(_t.range,kt.range)),st=new Z.PY(Ge.apply(nt)).getNewRanges();return Ge.inverse().apply(st).map(_t=>_t.getEndPosition())}var $t=e(79329),Nt=e(87257),qt=e(86811);class Ht extends r.JT{get selectedItem(){return this._selectedItem}constructor(Ge,rt,st,tt){super(),this.editor=Ge,this.suggestControllerPreselector=rt,this.checkModelVersion=st,this.onWillAccept=tt,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this._selectedItem=(0,x.uh)(this,void 0),this._register(Ge.onKeyDown(kt=>{kt.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(Ge.onKeyUp(kt=>{kt.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const _t=qt.n.get(this.editor);if(_t){this._register(_t.registerSelector({priority:100,select:(ht,Mt,ut)=>{(0,x.PS)(Qt=>this.checkModelVersion(Qt));const ke=this.editor.getModel();if(!ke)return-1;const lt=this.suggestControllerPreselector(),mt=lt?Ee(lt,ke):void 0;if(!mt)return-1;const Ve=u.L.lift(Mt),Tt=ut.map((Qt,mi)=>{const Ci=He.fromSuggestion(_t,ke,Ve,Qt,this.isShiftKeyPressed),Oi=Ee(Ci.toSingleTextEdit(),ke),Ii=Oe(mt,Oi);return{index:mi,valid:Ii,prefixLength:Oi.text.length,suggestItem:Qt}}).filter(Qt=>Qt&&Qt.valid&&Qt.prefixLength>0),At=(0,_.hV)(Tt,(0,C.tT)(Qt=>Qt.prefixLength,C.fv));return At?At.index:-1}}));let kt=!1;const at=()=>{kt||(kt=!0,this._register(_t.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(_t.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.update(!1)})),this._register(_t.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register($t.ju.once(_t.model.onDidTrigger)(ht=>{at()})),this._register(_t.onWillInsertSuggestItem(ht=>{const Mt=this.editor.getPosition(),ut=this.editor.getModel();if(!Mt||!ut)return;const ke=He.fromSuggestion(_t,ut,Mt,ht.item,this.isShiftKeyPressed);this.onWillAccept(ke)}))}this.update(this._isActive)}update(Ge){const rt=this.getSuggestItemInfo();(this._isActive!==Ge||!Ct(this._currentSuggestItemInfo,rt))&&(this._isActive=Ge,this._currentSuggestItemInfo=rt,(0,x.PS)(st=>{this.checkModelVersion(st),this._selectedItem.set(this._isActive?this._currentSuggestItemInfo:void 0,st)}))}getSuggestItemInfo(){const Ge=qt.n.get(this.editor);if(!Ge||!this.isSuggestWidgetVisible)return;const rt=Ge.widget.value.getFocusedItem(),st=this.editor.getPosition(),tt=this.editor.getModel();if(!(!rt||!st||!tt))return He.fromSuggestion(Ge,tt,st,rt.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const Ge=qt.n.get(this.editor);Ge==null||Ge.stopForceRenderingAbove()}forceRenderingAbove(){const Ge=qt.n.get(this.editor);Ge==null||Ge.forceRenderingAbove()}}class He{static fromSuggestion(Ge,rt,st,tt,_t){let{insertText:kt}=tt.completion,at=!1;if(tt.completion.insertTextRules&4){const Mt=new re.Yj().parse(kt);Mt.children.length<100&&Nt.l.adjustWhitespace(rt,st,!0,Mt),kt=Mt.toString(),at=!0}const ht=Ge.getOverwriteInfo(tt,_t);return new He(V.e.fromPositions(st.delta(0,-ht.overwriteBefore),st.delta(0,Math.max(ht.overwriteAfter,0))),kt,tt.completion.kind,at)}constructor(Ge,rt,st,tt){this.range=Ge,this.insertText=rt,this.completionItemKind=st,this.isSnippetText=tt}equals(Ge){return this.range.equalsRange(Ge.range)&&this.insertText===Ge.insertText&&this.completionItemKind===Ge.completionItemKind&&this.isSnippetText===Ge.isSnippetText}toSelectedSuggestionInfo(){return new A.ln(this.range,this.insertText,this.completionItemKind,this.isSnippetText)}toSingleTextEdit(){return new Z.At(this.range,this.insertText)}}function Ct(nt,Ge){return nt===Ge?!0:!nt||!Ge?!1:nt.equals(Ge)}var Gt=e(61652),Di=e(84935),$i=e(75881),Bi=e(48774),Vi=e(80568),Ji=e(66070),wn=function(nt,Ge,rt,st){var tt=arguments.length,_t=tt<3?Ge:st===null?st=Object.getOwnPropertyDescriptor(Ge,rt):st,kt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_t=Reflect.decorate(nt,Ge,rt,st);else for(var at=nt.length-1;at>=0;at--)(kt=nt[at])&&(_t=(tt<3?kt(_t):tt>3?kt(Ge,rt,_t):kt(Ge,rt))||_t);return tt>3&&_t&&Object.defineProperty(Ge,rt,_t),_t},yn=function(nt,Ge){return function(rt,st){Ge(rt,st,nt)}},Cn;let an=Cn=class extends r.JT{static get(Ge){return Ge.getContribution(Cn.ID)}constructor(Ge,rt,st,tt,_t,kt,at,ht,Mt,ut){super(),this.editor=Ge,this._instantiationService=rt,this._contextKeyService=st,this._configurationService=tt,this._commandService=_t,this._debounceService=kt,this._languageFeaturesService=at,this._accessibilitySignalService=ht,this._keybindingService=Mt,this._accessibilityService=ut,this.model=this._register((0,x.DN)("inlineCompletionModel",void 0)),this._textModelVersionId=(0,x.uh)(this,-1),this._positions=(0,O.Ku)({owner:this,equalsFn:(0,a.ZC)((0,a.$h)())},[new u.L(1,1)]),this._suggestWidgetAdaptor=this._register(new Ht(this.editor,()=>{var Tt,At;return(At=(Tt=this.model.get())===null||Tt===void 0?void 0:Tt.selectedInlineCompletion.get())===null||At===void 0?void 0:At.toSingleTextEdit(void 0)},Tt=>this.updateObservables(Tt,jt.Other),Tt=>{(0,x.PS)(At=>{var Qt;this.updateObservables(At,jt.Other),(Qt=this.model.get())===null||Qt===void 0||Qt.handleSuggestAccepted(Tt)})})),this._enabledInConfig=(0,x.rD)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).enabled),this._isScreenReaderEnabled=(0,x.rD)(this._accessibilityService.onDidChangeScreenReaderOptimized,()=>this._accessibilityService.isScreenReaderOptimized()),this._editorDictationInProgress=(0,x.rD)(this._contextKeyService.onDidChangeContext,()=>this._contextKeyService.getContext(this.editor.getDomNode()).getValue("editorDictation.inProgress")===!0),this._enabled=(0,x.nK)(this,Tt=>this._enabledInConfig.read(Tt)&&(!this._isScreenReaderEnabled.read(Tt)||!this._editorDictationInProgress.read(Tt))),this._fontFamily=(0,x.rD)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).fontFamily),this._ghostTexts=(0,x.nK)(this,Tt=>{var At;const Qt=this.model.read(Tt);return(At=Qt==null?void 0:Qt.ghostTexts.read(Tt))!==null&&At!==void 0?At:[]}),this._stablizedGhostTexts=Rn(this._ghostTexts,this._store),this._ghostTextWidgets=(0,i.Zg)(this,this._stablizedGhostTexts,(Tt,At)=>At.add(this._instantiationService.createInstance(f.Wd,this.editor,{ghostText:Tt,minReservedLineCount:(0,x.Dz)(0),targetTextModel:this.model.map(Qt=>Qt==null?void 0:Qt.textModel)}))).recomputeInitiallyAndOnChange(this._store),this._debounceValue=this._debounceService.for(this._languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),this._playAccessibilitySignal=(0,x.GN)(this),this._isReadonly=(0,x.rD)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(91)),this._textModel=(0,x.rD)(this.editor.onDidChangeModel,()=>this.editor.getModel()),this._textModelIfWritable=(0,x.nK)(Tt=>this._isReadonly.read(Tt)?void 0:this._textModel.read(Tt)),this._register(new E.f(this._contextKeyService,this.model)),this._register((0,x.EH)(Tt=>{const At=this._textModelIfWritable.read(Tt);(0,x.PS)(Qt=>{if(this.model.set(void 0,Qt),this.updateObservables(Qt,jt.Other),At){const mi=rt.createInstance(oi,At,this._suggestWidgetAdaptor.selectedItem,this._textModelVersionId,this._positions,this._debounceValue,(0,x.rD)(Ge.onDidChangeConfiguration,()=>Ge.getOption(118).preview),(0,x.rD)(Ge.onDidChangeConfiguration,()=>Ge.getOption(118).previewMode),(0,x.rD)(Ge.onDidChangeConfiguration,()=>Ge.getOption(62).mode),this._enabled);this.model.set(mi,Qt)}})}));const ke=this._register((0,R.aU)());this._register((0,x.EH)(Tt=>{const At=this._fontFamily.read(Tt);ke.setStyle(At===""||At==="default"?"":`
.monaco-editor .ghost-text-decoration,
.monaco-editor .ghost-text-decoration-preview,
.monaco-editor .ghost-text {
	font-family: ${At};
}`)}));const lt=Tt=>{var At;return Tt.isUndoing?jt.Undo:Tt.isRedoing?jt.Redo:!((At=this.model.get())===null||At===void 0)&&At.isAcceptingPartially?jt.AcceptWord:jt.Other};this._register(Ge.onDidChangeModelContent(Tt=>(0,x.PS)(At=>this.updateObservables(At,lt(Tt))))),this._register(Ge.onDidChangeCursorPosition(Tt=>(0,x.PS)(At=>{var Qt;this.updateObservables(At,jt.Other),(Tt.reason===3||Tt.source==="api")&&((Qt=this.model.get())===null||Qt===void 0||Qt.stop(At))}))),this._register(Ge.onDidType(()=>(0,x.PS)(Tt=>{var At;this.updateObservables(Tt,jt.Other),this._enabled.get()&&((At=this.model.get())===null||At===void 0||At.trigger(Tt))}))),this._register(this._commandService.onDidExecuteCommand(Tt=>{new Set([c.wk.Tab.id,c.wk.DeleteLeft.id,c.wk.DeleteRight.id,p.Ou,"acceptSelectedSuggestion"]).has(Tt.commandId)&&Ge.hasTextFocus()&&this._enabled.get()&&(0,x.PS)(Qt=>{var mi;(mi=this.model.get())===null||mi===void 0||mi.trigger(Qt)})})),this._register(this.editor.onDidBlurEditorWidget(()=>{this._contextKeyService.getContextKeyValue("accessibleViewIsShown")||this._configurationService.getValue("editor.inlineSuggest.keepOnBlur")||Ge.getOption(62).keepOnBlur||y.QG.dropDownVisible||(0,x.PS)(Tt=>{var At;(At=this.model.get())===null||At===void 0||At.stop(Tt)})})),this._register((0,x.EH)(Tt=>{var At;const Qt=(At=this.model.read(Tt))===null||At===void 0?void 0:At.state.read(Tt);Qt!=null&&Qt.suggestItem?Qt.primaryGhostText.lineCount>=2&&this._suggestWidgetAdaptor.forceRenderingAbove():this._suggestWidgetAdaptor.stopForceRenderingAbove()})),this._register((0,r.OF)(()=>{this._suggestWidgetAdaptor.stopForceRenderingAbove()}));const mt=this._register(new r.SL);let Ve;this._register((0,x.nJ)({handleChange:(Tt,At)=>(Tt.didChange(this._playAccessibilitySignal)&&(Ve=void 0),!0)},(Tt,At)=>Ft(this,null,function*(){this._playAccessibilitySignal.read(Tt);const Qt=this.model.read(Tt),mi=Qt==null?void 0:Qt.state.read(Tt);if(!Qt||!mi||!mi.inlineCompletion){Ve=void 0;return}if(mi.inlineCompletion.semanticId!==Ve){mt.clear(),Ve=mi.inlineCompletion.semanticId;const Ci=Qt.textModel.getLineContent(mi.primaryGhostText.lineNumber);yield(0,m.Vs)(50,(0,g.bP)(mt)),yield(0,x.F_)(this._suggestWidgetAdaptor.selectedItem,n.o8,()=>!1,(0,g.bP)(mt)),yield this._accessibilitySignalService.playSignal($i.iP.inlineSuggestion),this.editor.getOption(8)&&this.provideScreenReaderUpdate(mi.primaryGhostText.renderForScreenReader(Ci))}}))),this._register(new y.oU(this.editor,this.model,this._instantiationService)),this._register(this._configurationService.onDidChangeConfiguration(Tt=>{Tt.affectsConfiguration("accessibility.verbosity.inlineCompletions")&&this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this._configurationService.getValue("accessibility.verbosity.inlineCompletions")})})),this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this._configurationService.getValue("accessibility.verbosity.inlineCompletions")})}playAccessibilitySignal(Ge){this._playAccessibilitySignal.trigger(Ge)}provideScreenReaderUpdate(Ge){const rt=this._contextKeyService.getContextKeyValue("accessibleViewIsShown"),st=this._keybindingService.lookupKeybinding("editor.action.accessibleView");let tt;!rt&&st&&this.editor.getOption(149)&&(tt=(0,Gt.NC)("showAccessibleViewHint","Inspect this in the accessible view ({0})",st.getAriaLabel())),tt?(0,w.Z9)(Ge+", "+tt):(0,w.Z9)(Ge)}updateObservables(Ge,rt){var st,tt,_t;const kt=this.editor.getModel();this._textModelVersionId.set((st=kt==null?void 0:kt.getVersionId())!==null&&st!==void 0?st:-1,Ge,rt),this._positions.set((_t=(tt=this.editor.getSelections())===null||tt===void 0?void 0:tt.map(at=>at.getPosition()))!==null&&_t!==void 0?_t:[new u.L(1,1)],Ge)}shouldShowHoverAt(Ge){var rt;const st=(rt=this.model.get())===null||rt===void 0?void 0:rt.primaryGhostText.get();return st?st.parts.some(tt=>Ge.containsPosition(new u.L(st.lineNumber,tt.column))):!1}shouldShowHoverAtViewZone(Ge){var rt,st;return(st=(rt=this._ghostTextWidgets.get()[0])===null||rt===void 0?void 0:rt.ownsViewZone(Ge))!==null&&st!==void 0?st:!1}};an.ID="editor.contrib.inlineCompletionsController",an=Cn=wn([yn(1,je.TG),yn(2,Vi.i6),yn(3,Bi.Ui),yn(4,pe.H),yn(5,l.A),yn(6,D.p),yn(7,$i.IV),yn(8,Ji.d),yn(9,Di.F)],an);function Rn(nt,Ge){const rt=(0,x.uh)("result",[]),st=[];return Ge.add((0,x.EH)(tt=>{const _t=nt.read(tt);(0,x.PS)(kt=>{if(_t.length!==st.length){st.length=_t.length;for(let at=0;at<st.length;at++)st[at]||(st[at]=(0,x.uh)("item",_t[at]));rt.set([...st],kt)}st.forEach((at,ht)=>at.set(_t[ht],kt))})})),rt}var kn=e(73746),fn=e(69713);class On extends o.R6{constructor(){super({id:On.ID,label:Gt.NC("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:Vi.Ao.and(S.u.writable,E.f.inlineSuggestionVisible),kbOpts:{weight:100,primary:606}})}run(Ge,rt){return Ft(this,null,function*(){var st;const tt=an.get(rt);(st=tt==null?void 0:tt.model.get())===null||st===void 0||st.next()})}}On.ID=p.OW;class xn extends o.R6{constructor(){super({id:xn.ID,label:Gt.NC("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:Vi.Ao.and(S.u.writable,E.f.inlineSuggestionVisible),kbOpts:{weight:100,primary:604}})}run(Ge,rt){return Ft(this,null,function*(){var st;const tt=an.get(rt);(st=tt==null?void 0:tt.model.get())===null||st===void 0||st.previous()})}}xn.ID=p.Np;class An extends o.R6{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:Gt.NC("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:S.u.writable})}run(Ge,rt){return Ft(this,null,function*(){const st=an.get(rt);yield(0,O.Hr)(tt=>Ft(this,null,function*(){var _t;yield(_t=st==null?void 0:st.model.get())===null||_t===void 0?void 0:_t.triggerExplicitly(tt),st==null||st.playAccessibilitySignal(tt)}))})}}class Zt extends o.R6{constructor(){super({id:"editor.action.inlineSuggest.acceptNextWord",label:Gt.NC("action.inlineSuggest.acceptNextWord","Accept Next Word Of Inline Suggestion"),alias:"Accept Next Word Of Inline Suggestion",precondition:Vi.Ao.and(S.u.writable,E.f.inlineSuggestionVisible),kbOpts:{weight:101,primary:2065,kbExpr:Vi.Ao.and(S.u.writable,E.f.inlineSuggestionVisible)},menuOpts:[{menuId:fn.eH.InlineSuggestionToolbar,title:Gt.NC("acceptWord","Accept Word"),group:"primary",order:2}]})}run(Ge,rt){return Ft(this,null,function*(){var st;const tt=an.get(rt);yield(st=tt==null?void 0:tt.model.get())===null||st===void 0?void 0:st.acceptNextWord(tt.editor)})}}class ci extends o.R6{constructor(){super({id:"editor.action.inlineSuggest.acceptNextLine",label:Gt.NC("action.inlineSuggest.acceptNextLine","Accept Next Line Of Inline Suggestion"),alias:"Accept Next Line Of Inline Suggestion",precondition:Vi.Ao.and(S.u.writable,E.f.inlineSuggestionVisible),kbOpts:{weight:101},menuOpts:[{menuId:fn.eH.InlineSuggestionToolbar,title:Gt.NC("acceptLine","Accept Line"),group:"secondary",order:2}]})}run(Ge,rt){return Ft(this,null,function*(){var st;const tt=an.get(rt);yield(st=tt==null?void 0:tt.model.get())===null||st===void 0?void 0:st.acceptNextLine(tt.editor)})}}class _i extends o.R6{constructor(){super({id:p.Ou,label:Gt.NC("action.inlineSuggest.accept","Accept Inline Suggestion"),alias:"Accept Inline Suggestion",precondition:E.f.inlineSuggestionVisible,menuOpts:[{menuId:fn.eH.InlineSuggestionToolbar,title:Gt.NC("accept","Accept"),group:"primary",order:1}],kbOpts:{primary:2,weight:200,kbExpr:Vi.Ao.and(E.f.inlineSuggestionVisible,S.u.tabMovesFocus.toNegated(),E.f.inlineSuggestionHasIndentationLessThanTabSize,kn._y.Visible.toNegated(),S.u.hoverFocused.toNegated())}})}run(Ge,rt){return Ft(this,null,function*(){var st;const tt=an.get(rt);tt&&((st=tt.model.get())===null||st===void 0||st.accept(tt.editor),tt.editor.focus())})}}class Ri extends o.R6{constructor(){super({id:Ri.ID,label:Gt.NC("action.inlineSuggest.hide","Hide Inline Suggestion"),alias:"Hide Inline Suggestion",precondition:E.f.inlineSuggestionVisible,kbOpts:{weight:100,primary:9}})}run(Ge,rt){return Ft(this,null,function*(){const st=an.get(rt);(0,x.PS)(tt=>{var _t;(_t=st==null?void 0:st.model.get())===null||_t===void 0||_t.stop(tt)})})}}Ri.ID="editor.action.inlineSuggest.hide";class Zi extends fn.Ke{constructor(){super({id:Zi.ID,title:Gt.NC("action.inlineSuggest.alwaysShowToolbar","Always Show Toolbar"),f1:!1,precondition:void 0,menu:[{id:fn.eH.InlineSuggestionToolbar,group:"secondary",order:10}],toggled:Vi.Ao.equals("config.editor.inlineSuggest.showToolbar","always")})}run(Ge,rt){return Ft(this,null,function*(){const st=Ge.get(Bi.Ui),_t=st.getValue("editor.inlineSuggest.showToolbar")==="always"?"onHover":"always";st.updateValue("editor.inlineSuggest.showToolbar",_t)})}}Zi.ID="editor.action.inlineSuggest.toggleAlwaysShowToolbar";var gi=e(60473),Ze=e(50131),dt=e(63038),Ue=e(27473),$e=e(79553),bt=function(nt,Ge,rt,st){var tt=arguments.length,_t=tt<3?Ge:st===null?st=Object.getOwnPropertyDescriptor(Ge,rt):st,kt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_t=Reflect.decorate(nt,Ge,rt,st);else for(var at=nt.length-1;at>=0;at--)(kt=nt[at])&&(_t=(tt<3?kt(_t):tt>3?kt(Ge,rt,_t):kt(Ge,rt))||_t);return tt>3&&_t&&Object.defineProperty(Ge,rt,_t),_t},ft=function(nt,Ge){return function(rt,st){Ge(rt,st,nt)}};class Ye{constructor(Ge,rt,st){this.owner=Ge,this.range=rt,this.controller=st}isValidForHoverAnchor(Ge){return Ge.type===1&&this.range.startColumn<=Ge.range.startColumn&&this.range.endColumn>=Ge.range.endColumn}}let vt=class{constructor(Ge,rt,st,tt,_t,kt){this._editor=Ge,this._languageService=rt,this._openerService=st,this.accessibilityService=tt,this._instantiationService=_t,this._telemetryService=kt,this.hoverOrdinal=4}suggestHoverAnchor(Ge){const rt=an.get(this._editor);if(!rt)return null;const st=Ge.target;if(st.type===8){const tt=st.detail;if(rt.shouldShowHoverAtViewZone(tt.viewZoneId))return new B.YM(1e3,this,V.e.fromPositions(this._editor.getModel().validatePosition(tt.positionBefore||tt.position)),Ge.event.posx,Ge.event.posy,!1)}return st.type===7&&rt.shouldShowHoverAt(st.range)?new B.YM(1e3,this,st.range,Ge.event.posx,Ge.event.posy,!1):st.type===6&&st.detail.mightBeForeignElement&&rt.shouldShowHoverAt(st.range)?new B.YM(1e3,this,st.range,Ge.event.posx,Ge.event.posy,!1):null}computeSync(Ge,rt){if(this._editor.getOption(62).showToolbar!=="onHover")return[];const st=an.get(this._editor);return st&&st.shouldShowHoverAt(Ge.range)?[new Ye(this,Ge.range,st)]:[]}renderHoverParts(Ge,rt){const st=new r.SL,tt=rt[0];this._telemetryService.publicLog2("inlineCompletionHover.shown"),this.accessibilityService.isScreenReaderOptimized()&&!this._editor.getOption(8)&&this.renderScreenReaderText(Ge,tt,st);const _t=tt.controller.model.get(),kt=this._instantiationService.createInstance(y.QG,this._editor,!1,(0,x.Dz)(null),_t.selectedInlineCompletionIndex,_t.inlineCompletionsCount,_t.activeCommands);return Ge.fragment.appendChild(kt.getDomNode()),_t.triggerExplicitly(),st.add(kt),st}renderScreenReaderText(Ge,rt,st){const tt=R.$,_t=tt("div.hover-row.markdown-hover"),kt=R.R3(_t,tt("div.hover-contents",{"aria-live":"assertive"})),at=st.add(new dt.$({editor:this._editor},this._languageService,this._openerService)),ht=Mt=>{st.add(at.onDidRenderAsync(()=>{kt.className="hover-contents code-hover-contents",Ge.onContentsChanged()}));const ut=Gt.NC("inlineSuggestionFollows","Suggestion:"),ke=st.add(at.render(new gi.W5().appendText(ut).appendCodeblock("text",Mt)));kt.replaceChildren(ke.element)};st.add((0,x.EH)(Mt=>{var ut;const ke=(ut=rt.controller.model.read(Mt))===null||ut===void 0?void 0:ut.primaryGhostText.read(Mt);if(ke){const lt=this._editor.getModel().getLineContent(ke.lineNumber);ht(ke.renderForScreenReader(lt))}else R.mc(kt)})),Ge.fragment.appendChild(_t)}};vt=bt([ft(1,Ze.O),ft(2,Ue.v),ft(3,Di.F),ft(4,je.TG),ft(5,$e.b)],vt),(0,o._K)(an.ID,an,3),(0,o.Qr)(An),(0,o.Qr)(On),(0,o.Qr)(xn),(0,o.Qr)(Zt),(0,o.Qr)(ci),(0,o.Qr)(_i),(0,o.Qr)(Ri),(0,fn.r1)(Zi),B.Ae.register(vt)},61160:function(et,Le,e){"use strict";e.d(Le,{oU:function(){return Z},QG:function(){return P}});var o=e(91540),B=e(75405),x=e(4647),O=e(43263),S=e(71221),p=e(74696),E=e(24752),R=e(45029),w=e(17009),m=e(15122),g=e(68777),a=e(93895),r=e(91895),i=e(27381),n=e(61652),c=e(88595),u=e(78937),l=e(69713),D=e(83349),f=e(80568),y=e(31949),C=e(87058),_=e(66070),N=e(79553),b=e(76557),k=function(j,Y,H,Q){var ie=arguments.length,te=ie<3?Y:Q===null?Q=Object.getOwnPropertyDescriptor(Y,H):Q,se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(j,Y,H,Q);else for(var ne=j.length-1;ne>=0;ne--)(se=j[ne])&&(te=(ie<3?se(te):ie>3?se(Y,H,te):se(Y,H))||te);return ie>3&&te&&Object.defineProperty(Y,H,te),te},V=function(j,Y){return function(H,Q){Y(H,Q,j)}},K;let Z=class extends R.JT{constructor(Y,H,Q){super(),this.editor=Y,this.model=H,this.instantiationService=Q,this.alwaysShowToolbar=(0,w.rD)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).showToolbar==="always"),this.sessionPosition=void 0,this.position=(0,w.nK)(this,ie=>{var te,se,ne;const ee=(te=this.model.read(ie))===null||te===void 0?void 0:te.primaryGhostText.read(ie);if(!this.alwaysShowToolbar.read(ie)||!ee||ee.parts.length===0)return this.sessionPosition=void 0,null;const re=ee.parts[0].column;this.sessionPosition&&this.sessionPosition.lineNumber!==ee.lineNumber&&(this.sessionPosition=void 0);const he=new a.L(ee.lineNumber,Math.min(re,(ne=(se=this.sessionPosition)===null||se===void 0?void 0:se.column)!==null&&ne!==void 0?ne:Number.MAX_SAFE_INTEGER));return this.sessionPosition=he,he}),this._register((0,w.gp)((ie,te)=>{const se=this.model.read(ie);if(!se||!this.alwaysShowToolbar.read(ie))return;const ne=te.add(this.instantiationService.createInstance(P,this.editor,!0,this.position,se.selectedInlineCompletionIndex,se.inlineCompletionsCount,se.activeCommands));Y.addContentWidget(ne),te.add((0,R.OF)(()=>Y.removeContentWidget(ne))),te.add((0,w.EH)(ee=>{this.position.read(ee)&&se.lastTriggerKind.read(ee)!==r.bw.Explicit&&se.triggerExplicitly()}))}))}};Z=k([V(2,C.TG)],Z);const z=(0,b.q5)("inline-suggestion-hints-next",E.l.chevronRight,(0,n.NC)("parameterHintsNextIcon","Icon for show next parameter hint.")),A=(0,b.q5)("inline-suggestion-hints-previous",E.l.chevronLeft,(0,n.NC)("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let P=K=class extends R.JT{static get dropDownVisible(){return this._dropDownVisible}createCommandAction(Y,H,Q){const ie=new O.aU(Y,H,Q,!0,()=>this._commandService.executeCommand(Y)),te=this.keybindingService.lookupKeybinding(Y,this._contextKeyService);let se=H;return te&&(se=(0,n.NC)({key:"content",comment:["A label","A keybinding"]},"{0} ({1})",H,te.getLabel())),ie.tooltip=se,ie}constructor(Y,H,Q,ie,te,se,ne,ee,re,he,M){super(),this.editor=Y,this.withBorder=H,this._position=Q,this._currentSuggestionIdx=ie,this._suggestionCount=te,this._extraCommands=se,this._commandService=ne,this.keybindingService=re,this._contextKeyService=he,this._menuService=M,this.id=`InlineSuggestionHintsContentWidget${K.id++}`,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.nodes=(0,o.h)("div.inlineSuggestionsHints",{className:this.withBorder?".withBorder":""},[(0,o.h)("div@toolBar")]),this.previousAction=this.createCommandAction(i.Np,(0,n.NC)("previous","Previous"),g.k.asClassName(A)),this.availableSuggestionCountAction=new O.aU("inlineSuggestionHints.availableSuggestionCount","",void 0,!1),this.nextAction=this.createCommandAction(i.OW,(0,n.NC)("next","Next"),g.k.asClassName(z)),this.inlineCompletionsActionsMenus=this._register(this._menuService.createMenu(l.eH.InlineCompletionsActions,this._contextKeyService)),this.clearAvailableSuggestionCountLabelDebounced=this._register(new p.pY(()=>{this.availableSuggestionCountAction.label=""},100)),this.disableButtonsDebounced=this._register(new p.pY(()=>{this.previousAction.enabled=this.nextAction.enabled=!1},100)),this.toolBar=this._register(ee.createInstance(G,this.nodes.toolBar,l.eH.InlineSuggestionToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:we=>we.startsWith("primary")},actionViewItemProvider:(we,We)=>{if(we instanceof l.U8)return ee.createInstance(W,we,void 0);if(we===this.availableSuggestionCountAction){const ye=new I(void 0,we,{label:!0,icon:!1});return ye.setClass("availableSuggestionCount"),ye}},telemetrySource:"InlineSuggestionToolbar"})),this.toolBar.setPrependedPrimaryActions([this.previousAction,this.availableSuggestionCountAction,this.nextAction]),this._register(this.toolBar.onDidChangeDropdownVisibility(we=>{K._dropDownVisible=we})),this._register((0,w.EH)(we=>{this._position.read(we),this.editor.layoutContentWidget(this)})),this._register((0,w.EH)(we=>{const We=this._suggestionCount.read(we),ye=this._currentSuggestionIdx.read(we);We!==void 0?(this.clearAvailableSuggestionCountLabelDebounced.cancel(),this.availableSuggestionCountAction.label=`${ye+1}/${We}`):this.clearAvailableSuggestionCountLabelDebounced.schedule(),We!==void 0&&We>1?(this.disableButtonsDebounced.cancel(),this.previousAction.enabled=this.nextAction.enabled=!0):this.disableButtonsDebounced.schedule()})),this._register((0,w.EH)(we=>{const ye=this._extraCommands.read(we).map(X=>({class:void 0,id:X.id,enabled:!0,tooltip:X.tooltip||"",label:X.title,run:ve=>this._commandService.executeCommand(X.id)}));for(const[X,ve]of this.inlineCompletionsActionsMenus.getActions())for(const Ee of ve)Ee instanceof l.U8&&ye.push(Ee);ye.length>0&&ye.unshift(new O.Z0),this.toolBar.setAdditionalSecondaryActions(ye)}))}getId(){return this.id}getDomNode(){return this.nodes.root}getPosition(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}}};P._dropDownVisible=!1,P.id=0,P=K=k([V(6,D.H),V(7,C.TG),V(8,_.d),V(9,f.i6),V(10,l.co)],P);class I extends B.gU{constructor(){super(...arguments),this._className=void 0}setClass(Y){this._className=Y}render(Y){super.render(Y),this._className&&Y.classList.add(this._className)}updateTooltip(){}}class W extends c.Mm{updateLabel(){const Y=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!Y)return super.updateLabel();if(this.label){const H=(0,o.h)("div.keybinding").root;this._register(new x.e(H,m.OS,vi({disableTitle:!0},x.F))).set(Y),this.label.textContent=this._action.label,this.label.appendChild(H),this.label.classList.add("inlineSuggestionStatusBarItemLabel")}}updateTooltip(){}}let G=class extends u.T{constructor(Y,H,Q,ie,te,se,ne,ee,re){super(Y,vi({resetMenu:H},Q),ie,te,se,ne,ee,re),this.menuId=H,this.options2=Q,this.menuService=ie,this.contextKeyService=te,this.menu=this._store.add(this.menuService.createMenu(this.menuId,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.additionalActions=[],this.prependedPrimaryActions=[],this._store.add(this.menu.onDidChange(()=>this.updateToolbar())),this.updateToolbar()}updateToolbar(){var Y,H,Q,ie,te,se,ne;const ee=[],re=[];(0,c.vr)(this.menu,(Y=this.options2)===null||Y===void 0?void 0:Y.menuOptions,{primary:ee,secondary:re},(Q=(H=this.options2)===null||H===void 0?void 0:H.toolbarOptions)===null||Q===void 0?void 0:Q.primaryGroup,(te=(ie=this.options2)===null||ie===void 0?void 0:ie.toolbarOptions)===null||te===void 0?void 0:te.shouldInlineSubmenu,(ne=(se=this.options2)===null||se===void 0?void 0:se.toolbarOptions)===null||ne===void 0?void 0:ne.useSeparatorsInPrimaryActions),re.push(...this.additionalActions),ee.unshift(...this.prependedPrimaryActions),this.setActions(ee,re)}setPrependedPrimaryActions(Y){(0,S.fS)(this.prependedPrimaryActions,Y,(H,Q)=>H===Q)||(this.prependedPrimaryActions=Y,this.updateToolbar())}setAdditionalSecondaryActions(Y){(0,S.fS)(this.additionalActions,Y,(H,Q)=>H===Q)||(this.additionalActions=Y,this.updateToolbar())}};G=k([V(3,l.co),V(4,f.i6),V(5,y.i),V(6,_.d),V(7,D.H),V(8,N.b)],G)},25393:function(et,Le,e){"use strict";e.d(Le,{Bm:function(){return g},He:function(){return E},QO:function(){return m},RP:function(){return w},rv:function(){return R}});var o=e(25602),B=e(45029),x=e(17009),O=e(93895),S=e(4694);const p=[];function E(){return p}class R{constructor(r,i){if(this.startColumn=r,this.endColumnExclusive=i,r>i)throw new o.he(`startColumn ${r} cannot be after endColumnExclusive ${i}`)}toRange(r){return new S.e(r,this.startColumn,r,this.endColumnExclusive)}equals(r){return this.startColumn===r.startColumn&&this.endColumnExclusive===r.endColumnExclusive}}function w(a,r){const i=new B.SL,n=a.createDecorationsCollection();return i.add((0,x.UV)({debugName:()=>`Apply decorations from ${r.debugName}`},c=>{const u=r.read(c);n.set(u)})),i.add({dispose:()=>{n.clear()}}),i}function m(a,r){return new O.L(a.lineNumber+r.lineNumber-1,r.lineNumber===1?a.column+r.column-1:r.column)}function g(a,r){return new O.L(a.lineNumber-r.lineNumber+1,a.lineNumber-r.lineNumber===0?a.column-r.column+1:a.column)}},17440:function(et,Le,e){"use strict";var o=e(92635),B=e(99041),x=e(22706);const O="editor.action.inlineEdit.accept",S="editor.action.inlineEdit.reject",p="editor.action.inlineEdit.jumpTo",E="editor.action.inlineEdit.jumpBack";var R=e(45029),w=e(17009),m=e(44316),g=e(93895),a=e(4694),r=e(50131),i=e(57204),n=e(84170),c=e(16995),u=e(25393),l=function(be,oe,ue,de){var Se=arguments.length,Te=Se<3?oe:de===null?de=Object.getOwnPropertyDescriptor(oe,ue):de,Ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Te=Reflect.decorate(be,oe,ue,de);else for(var pe=be.length-1;pe>=0;pe--)(Ae=be[pe])&&(Te=(Se<3?Ae(Te):Se>3?Ae(oe,ue,Te):Ae(oe,ue))||Te);return Se>3&&Te&&Object.defineProperty(oe,ue,Te),Te},D=function(be,oe){return function(ue,de){oe(ue,de,be)}};const f="inline-edit";let y=class extends R.JT{constructor(oe,ue,de){super(),this.editor=oe,this.model=ue,this.languageService=de,this.isDisposed=(0,w.uh)(this,!1),this.currentTextModel=(0,w.rD)(this.editor.onDidChangeModel,()=>this.editor.getModel()),this.uiState=(0,w.nK)(this,Se=>{var Te;if(this.isDisposed.read(Se))return;const Ae=this.currentTextModel.read(Se);if(Ae!==this.model.targetTextModel.read(Se))return;const pe=this.model.ghostText.read(Se);if(!pe)return;let je=(Te=this.model.range)===null||Te===void 0?void 0:Te.read(Se);je&&je.startLineNumber===je.endLineNumber&&je.startColumn===je.endColumn&&(je=void 0);const ot=(je?je.startLineNumber===je.endLineNumber:!0)&&pe.parts.length===1&&pe.parts[0].lines.length===1,xt=pe.parts.length===1&&pe.parts[0].lines.every(Ht=>Ht.length===0),jt=[],oi=[];function ti(Ht,He){if(oi.length>0){const Ct=oi[oi.length-1];He&&Ct.decorations.push(new n.Kp(Ct.content.length+1,Ct.content.length+1+Ht[0].length,He,0)),Ct.content+=Ht[0],Ht=Ht.slice(1)}for(const Ct of Ht)oi.push({content:Ct,decorations:He?[new n.Kp(1,Ct.length+1,He,0)]:[]})}const it=Ae.getLineContent(pe.lineNumber);let yt,$t=0;if(!xt){for(const Ht of pe.parts){let He=Ht.lines;je&&!ot&&(ti(He,f),He=[]),yt===void 0?(jt.push({column:Ht.column,text:He[0],preview:Ht.preview}),He=He.slice(1)):ti([it.substring($t,Ht.column-1)],void 0),He.length>0&&(ti(He,f),yt===void 0&&Ht.column<=it.length&&(yt=Ht.column)),$t=Ht.column-1}yt!==void 0&&ti([it.substring($t)],void 0)}const Nt=yt!==void 0?new u.rv(yt,it.length+1):void 0,qt=ot||!je?pe.lineNumber:je.endLineNumber-1;return{inlineTexts:jt,additionalLines:oi,hiddenRange:Nt,lineNumber:qt,additionalReservedLineCount:this.model.minReservedLineCount.read(Se),targetTextModel:Ae,range:je,isSingleLine:ot,isPureRemove:xt,backgroundColoring:this.model.backgroundColoring.read(Se)}}),this.decorations=(0,w.nK)(this,Se=>{const Te=this.uiState.read(Se);if(!Te)return[];const Ae=[];if(Te.hiddenRange&&Ae.push({range:Te.hiddenRange.toRange(Te.lineNumber),options:{inlineClassName:"inline-edit-hidden",description:"inline-edit-hidden"}}),Te.range){const pe=[];if(Te.isSingleLine)pe.push(Te.range);else if(Te.isPureRemove){const ot=Te.range.endLineNumber-Te.range.startLineNumber;for(let xt=0;xt<ot;xt++){const jt=Te.range.startLineNumber+xt,oi=Te.targetTextModel.getLineFirstNonWhitespaceColumn(jt),ti=Te.targetTextModel.getLineLastNonWhitespaceColumn(jt),it=new a.e(jt,oi,jt,ti);pe.push(it)}}else{const ot=Te.range.endLineNumber-Te.range.startLineNumber;for(let xt=0;xt<ot;xt++){const jt=Te.range.startLineNumber+xt,oi=Te.targetTextModel.getLineFirstNonWhitespaceColumn(jt),ti=Te.targetTextModel.getLineLastNonWhitespaceColumn(jt),it=new a.e(jt,oi,jt,ti);pe.push(it)}}const je=Te.backgroundColoring?"inline-edit-remove backgroundColoring":"inline-edit-remove";for(const ot of pe)Ae.push({range:ot,options:{inlineClassName:je,description:"inline-edit-remove"}})}for(const pe of Te.inlineTexts)Ae.push({range:a.e.fromPositions(new g.L(Te.lineNumber,pe.column)),options:{description:f,after:{content:pe.text,inlineClassName:pe.preview?"inline-edit-decoration-preview":"inline-edit-decoration",cursorStops:i.RM.Left},showIfCollapsed:!0}});return Ae}),this.additionalLinesWidget=this._register(new c.rw(this.editor,this.languageService.languageIdCodec,(0,w.nK)(Se=>{const Te=this.uiState.read(Se);return Te&&!Te.isPureRemove?{lineNumber:Te.lineNumber,additionalLines:Te.additionalLines,minReservedLineCount:Te.additionalReservedLineCount,targetTextModel:Te.targetTextModel}:void 0}))),this._register((0,R.OF)(()=>{this.isDisposed.set(!0,void 0)})),this._register((0,u.RP)(this.editor,this.decorations))}ownsViewZone(oe){return this.additionalLinesWidget.viewZoneId===oe}};y=l([D(2,r.O)],y);var C=e(80568),_=e(87058),N=e(91895),b=e(70546),k=e(65642),V=e(61400),K=e(83349),Z=e(91540),z=e(4647),A=e(43263),P=e(71221),I=e(15122),W=e(88595),G=e(78937),j=e(69713),Y=e(31949),H=e(66070),Q=e(79553),ie=function(be,oe,ue,de){var Se=arguments.length,Te=Se<3?oe:de===null?de=Object.getOwnPropertyDescriptor(oe,ue):de,Ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Te=Reflect.decorate(be,oe,ue,de);else for(var pe=be.length-1;pe>=0;pe--)(Ae=be[pe])&&(Te=(Se<3?Ae(Te):Se>3?Ae(oe,ue,Te):Ae(oe,ue))||Te);return Se>3&&Te&&Object.defineProperty(oe,ue,Te),Te},te=function(be,oe){return function(ue,de){oe(ue,de,be)}},se;let ne=class extends R.JT{constructor(oe,ue,de){super(),this.editor=oe,this.model=ue,this.instantiationService=de,this.alwaysShowToolbar=(0,w.rD)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).showToolbar==="always"),this.sessionPosition=void 0,this.position=(0,w.nK)(this,Se=>{var Te,Ae,pe;const je=(Te=this.model.read(Se))===null||Te===void 0?void 0:Te.widget.model.ghostText.read(Se);if(!this.alwaysShowToolbar.read(Se)||!je||je.parts.length===0)return this.sessionPosition=void 0,null;const ot=je.parts[0].column;this.sessionPosition&&this.sessionPosition.lineNumber!==je.lineNumber&&(this.sessionPosition=void 0);const xt=new g.L(je.lineNumber,Math.min(ot,(pe=(Ae=this.sessionPosition)===null||Ae===void 0?void 0:Ae.column)!==null&&pe!==void 0?pe:Number.MAX_SAFE_INTEGER));return this.sessionPosition=xt,xt}),this._register((0,w.gp)((Se,Te)=>{if(!this.model.read(Se)||!this.alwaysShowToolbar.read(Se))return;const pe=Te.add(this.instantiationService.createInstance(ee,this.editor,!0,this.position));oe.addContentWidget(pe),Te.add((0,R.OF)(()=>oe.removeContentWidget(pe)))}))}};ne=ie([te(2,_.TG)],ne);let ee=se=class extends R.JT{constructor(oe,ue,de,Se,Te,Ae){super(),this.editor=oe,this.withBorder=ue,this._position=de,this._contextKeyService=Te,this._menuService=Ae,this.id=`InlineEditHintsContentWidget${se.id++}`,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.nodes=(0,Z.h)("div.inlineEditHints",{className:this.withBorder?".withBorder":""},[(0,Z.h)("div@toolBar")]),this.inlineCompletionsActionsMenus=this._register(this._menuService.createMenu(j.eH.InlineEditActions,this._contextKeyService)),this.toolBar=this._register(Se.createInstance(he,this.nodes.toolBar,this.editor,j.eH.InlineEditToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:pe=>pe.startsWith("primary")},actionViewItemProvider:(pe,je)=>{if(pe instanceof j.U8)return Se.createInstance(re,pe,void 0)},telemetrySource:"InlineEditToolbar"})),this._register(this.toolBar.onDidChangeDropdownVisibility(pe=>{se._dropDownVisible=pe})),this._register((0,w.EH)(pe=>{this._position.read(pe),this.editor.layoutContentWidget(this)})),this._register((0,w.EH)(pe=>{const je=[];for(const[ot,xt]of this.inlineCompletionsActionsMenus.getActions())for(const jt of xt)jt instanceof j.U8&&je.push(jt);je.length>0&&je.unshift(new A.Z0),this.toolBar.setAdditionalSecondaryActions(je)}))}getId(){return this.id}getDomNode(){return this.nodes.root}getPosition(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}}};ee._dropDownVisible=!1,ee.id=0,ee=se=ie([te(3,_.TG),te(4,C.i6),te(5,j.co)],ee);class re extends W.Mm{updateLabel(){const oe=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!oe)return super.updateLabel();if(this.label){const ue=(0,Z.h)("div.keybinding").root;this._register(new z.e(ue,I.OS,vi({disableTitle:!0},z.F))).set(oe),this.label.textContent=this._action.label,this.label.appendChild(ue),this.label.classList.add("inlineEditStatusBarItemLabel")}}updateTooltip(){}}let he=class extends G.T{constructor(oe,ue,de,Se,Te,Ae,pe,je,ot,xt){super(oe,vi({resetMenu:de},Se),Te,Ae,pe,je,ot,xt),this.editor=ue,this.menuId=de,this.options2=Se,this.menuService=Te,this.contextKeyService=Ae,this.menu=this._store.add(this.menuService.createMenu(this.menuId,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.additionalActions=[],this.prependedPrimaryActions=[],this._store.add(this.menu.onDidChange(()=>this.updateToolbar())),this._store.add(this.editor.onDidChangeCursorPosition(()=>this.updateToolbar())),this.updateToolbar()}updateToolbar(){var oe,ue,de,Se,Te,Ae,pe;const je=[],ot=[];(0,W.vr)(this.menu,(oe=this.options2)===null||oe===void 0?void 0:oe.menuOptions,{primary:je,secondary:ot},(de=(ue=this.options2)===null||ue===void 0?void 0:ue.toolbarOptions)===null||de===void 0?void 0:de.primaryGroup,(Te=(Se=this.options2)===null||Se===void 0?void 0:Se.toolbarOptions)===null||Te===void 0?void 0:Te.shouldInlineSubmenu,(pe=(Ae=this.options2)===null||Ae===void 0?void 0:Ae.toolbarOptions)===null||pe===void 0?void 0:pe.useSeparatorsInPrimaryActions),ot.push(...this.additionalActions),je.unshift(...this.prependedPrimaryActions),this.setActions(je,ot)}setAdditionalSecondaryActions(oe){(0,P.fS)(this.additionalActions,oe,(ue,de)=>ue===de)||(this.additionalActions=oe,this.updateToolbar())}};he=ie([te(4,j.co),te(5,C.i6),te(6,Y.i),te(7,H.d),te(8,K.H),te(9,Q.b)],he);var M=e(48774),we=e(25602),We=function(be,oe,ue,de){var Se=arguments.length,Te=Se<3?oe:de===null?de=Object.getOwnPropertyDescriptor(oe,ue):de,Ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Te=Reflect.decorate(be,oe,ue,de);else for(var pe=be.length-1;pe>=0;pe--)(Ae=be[pe])&&(Te=(Se<3?Ae(Te):Se>3?Ae(oe,ue,Te):Ae(oe,ue))||Te);return Se>3&&Te&&Object.defineProperty(oe,ue,Te),Te},ye=function(be,oe){return function(ue,de){oe(ue,de,be)}},X;class ve{constructor(oe,ue){this.widget=oe,this.edit=ue}dispose(){this.widget.dispose()}}let Ee=X=class extends R.JT{static get(oe){return oe.getContribution(X.ID)}constructor(oe,ue,de,Se,Te,Ae){super(),this.editor=oe,this.instantiationService=ue,this.contextKeyService=de,this.languageFeaturesService=Se,this._commandService=Te,this._configurationService=Ae,this._isVisibleContext=X.inlineEditVisibleContext.bindTo(this.contextKeyService),this._isCursorAtInlineEditContext=X.cursorAtInlineEditContext.bindTo(this.contextKeyService),this._currentEdit=this._register((0,w.DN)(this,void 0)),this._isAccepting=(0,w.uh)(this,!1),this._enabled=(0,w.rD)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).enabled),this._fontFamily=(0,w.rD)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).fontFamily),this._backgroundColoring=(0,w.rD)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).backgroundColoring);const pe=(0,w.aq)("InlineEditController.modelContentChangedSignal",oe.onDidChangeModelContent);this._register((0,w.EH)(oi=>{this._enabled.read(oi)&&(pe.read(oi),!this._isAccepting.read(oi)&&this.getInlineEdit(oe,!0))}));const je=(0,w.rD)(oe.onDidChangeCursorPosition,()=>oe.getPosition());this._register((0,w.EH)(oi=>{if(!this._enabled.read(oi))return;const ti=je.read(oi);ti&&this.checkCursorPosition(ti)})),this._register((0,w.EH)(oi=>{const ti=this._currentEdit.read(oi);if(this._isCursorAtInlineEditContext.set(!1),!ti){this._isVisibleContext.set(!1);return}this._isVisibleContext.set(!0);const it=oe.getPosition();it&&this.checkCursorPosition(it)}));const ot=(0,w.aq)("InlineEditController.editorBlurSignal",oe.onDidBlurEditorWidget);this._register((0,w.EH)(oi=>Ft(this,null,function*(){var ti;this._enabled.read(oi)&&(ot.read(oi),!(this._configurationService.getValue("editor.experimentalInlineEdit.keepOnBlur")||oe.getOption(63).keepOnBlur)&&((ti=this._currentRequestCts)===null||ti===void 0||ti.dispose(!0),this._currentRequestCts=void 0,yield this.clear(!1)))})));const xt=(0,w.aq)("InlineEditController.editorFocusSignal",oe.onDidFocusEditorText);this._register((0,w.EH)(oi=>{this._enabled.read(oi)&&(xt.read(oi),this.getInlineEdit(oe,!0))}));const jt=this._register((0,Z.aU)());this._register((0,w.EH)(oi=>{const ti=this._fontFamily.read(oi);jt.setStyle(ti===""||ti==="default"?"":`
.monaco-editor .inline-edit-decoration,
.monaco-editor .inline-edit-decoration-preview,
.monaco-editor .inline-edit {
	font-family: ${ti};
}`)})),this._register(new ne(this.editor,this._currentEdit,this.instantiationService))}checkCursorPosition(oe){var ue;if(!this._currentEdit){this._isCursorAtInlineEditContext.set(!1);return}const de=(ue=this._currentEdit.get())===null||ue===void 0?void 0:ue.edit;if(!de){this._isCursorAtInlineEditContext.set(!1);return}this._isCursorAtInlineEditContext.set(a.e.containsPosition(de.range,oe))}validateInlineEdit(oe,ue){var de,Se;if(ue.text.includes(`
`)&&ue.range.startLineNumber!==ue.range.endLineNumber&&ue.range.startColumn!==ue.range.endColumn){if(ue.range.startColumn!==1)return!1;const Ae=ue.range.endLineNumber,pe=ue.range.endColumn,je=(Se=(de=oe.getModel())===null||de===void 0?void 0:de.getLineLength(Ae))!==null&&Se!==void 0?Se:0;if(pe!==je+1)return!1}return!0}fetchInlineEdit(oe,ue){return Ft(this,null,function*(){this._currentRequestCts&&this._currentRequestCts.dispose(!0);const de=oe.getModel();if(!de)return;const Se=de.getVersionId(),Te=this.languageFeaturesService.inlineEditProvider.all(de);if(Te.length===0)return;const Ae=Te[0];this._currentRequestCts=new k.AU;const pe=this._currentRequestCts.token,je=ue?N.rn.Automatic:N.rn.Invoke;if(ue&&(yield Oe(50,pe)),pe.isCancellationRequested||de.isDisposed()||de.getVersionId()!==Se)return;const xt=yield Ae.provideInlineEdit(de,{triggerKind:je},pe);if(xt&&!(pe.isCancellationRequested||de.isDisposed()||de.getVersionId()!==Se)&&this.validateInlineEdit(oe,xt))return xt})}getInlineEdit(oe,ue){return Ft(this,null,function*(){var de;this._isCursorAtInlineEditContext.set(!1),yield this.clear();const Se=yield this.fetchInlineEdit(oe,ue);if(!Se)return;const Te=Se.range.endLineNumber,Ae=Se.range.endColumn,pe=Se.text.endsWith(`
`)&&!(Se.range.startLineNumber===Se.range.endLineNumber&&Se.range.startColumn===Se.range.endColumn)?Se.text.slice(0,-1):Se.text,je=new V.Vb(Te,[new V.NY(Ae,pe,!1)]),ot=this.instantiationService.createInstance(y,this.editor,{ghostText:(0,w.Dz)(je),minReservedLineCount:(0,w.Dz)(0),targetTextModel:(0,w.Dz)((de=this.editor.getModel())!==null&&de!==void 0?de:void 0),range:(0,w.Dz)(Se.range),backgroundColoring:this._backgroundColoring});this._currentEdit.set(new ve(ot,Se),void 0)})}trigger(){return Ft(this,null,function*(){yield this.getInlineEdit(this.editor,!1)})}jumpBack(){return Ft(this,null,function*(){this._jumpBackPosition&&(this.editor.setPosition(this._jumpBackPosition),this.editor.revealPositionInCenterIfOutsideViewport(this._jumpBackPosition))})}accept(){return Ft(this,null,function*(){var oe;this._isAccepting.set(!0,void 0);const ue=(oe=this._currentEdit.get())===null||oe===void 0?void 0:oe.edit;if(!ue)return;let de=ue.text;ue.text.startsWith(`
`)&&(de=ue.text.substring(1)),this.editor.pushUndoStop(),this.editor.executeEdits("acceptCurrent",[m.h.replace(a.e.lift(ue.range),de)]),ue.accepted&&(yield this._commandService.executeCommand(ue.accepted.id,...ue.accepted.arguments||[]).then(void 0,we.Cp)),this.freeEdit(ue),(0,w.PS)(Se=>{this._currentEdit.set(void 0,Se),this._isAccepting.set(!1,Se)})})}jumpToCurrent(){var oe,ue;this._jumpBackPosition=(oe=this.editor.getSelection())===null||oe===void 0?void 0:oe.getStartPosition();const de=(ue=this._currentEdit.get())===null||ue===void 0?void 0:ue.edit;if(!de)return;const Se=g.L.lift({lineNumber:de.range.startLineNumber,column:de.range.startColumn});this.editor.setPosition(Se),this.editor.revealPositionInCenterIfOutsideViewport(Se)}clear(oe=!0){return Ft(this,null,function*(){var ue;const de=(ue=this._currentEdit.get())===null||ue===void 0?void 0:ue.edit;de&&(de!=null&&de.rejected)&&oe&&(yield this._commandService.executeCommand(de.rejected.id,...de.rejected.arguments||[]).then(void 0,we.Cp)),de&&this.freeEdit(de),this._currentEdit.set(void 0,void 0)})}freeEdit(oe){const ue=this.editor.getModel();if(!ue)return;const de=this.languageFeaturesService.inlineEditProvider.all(ue);de.length!==0&&de[0].freeInlineEdit(oe)}shouldShowHoverAt(oe){const ue=this._currentEdit.get();if(!ue)return!1;const de=ue.edit,Se=ue.widget.model;if(a.e.containsPosition(de.range,oe.getStartPosition())||a.e.containsPosition(de.range,oe.getEndPosition()))return!0;const Ae=Se.ghostText.get();return Ae?Ae.parts.some(pe=>oe.containsPosition(new g.L(Ae.lineNumber,pe.column))):!1}shouldShowHoverAtViewZone(oe){var ue,de;return(de=(ue=this._currentEdit.get())===null||ue===void 0?void 0:ue.widget.ownsViewZone(oe))!==null&&de!==void 0?de:!1}};Ee.ID="editor.contrib.inlineEditController",Ee.inlineEditVisibleKey="inlineEditVisible",Ee.inlineEditVisibleContext=new C.uy(X.inlineEditVisibleKey,!1),Ee.cursorAtInlineEditKey="cursorAtInlineEdit",Ee.cursorAtInlineEditContext=new C.uy(X.cursorAtInlineEditKey,!1),Ee=X=We([ye(1,_.TG),ye(2,C.i6),ye(3,b.p),ye(4,K.H),ye(5,M.Ui)],Ee);function Oe(be,oe){return new Promise(ue=>{let de;const Se=setTimeout(()=>{de&&de.dispose(),ue()},be);oe&&(de=oe.onCancellationRequested(()=>{clearTimeout(Se),de&&de.dispose(),ue()}))})}class Ke extends o.R6{constructor(){super({id:O,label:"Accept Inline Edit",alias:"Accept Inline Edit",precondition:C.Ao.and(x.u.writable,Ee.inlineEditVisibleContext),kbOpts:[{weight:101,primary:2,kbExpr:C.Ao.and(x.u.writable,Ee.inlineEditVisibleContext,Ee.cursorAtInlineEditContext)}],menuOpts:[{menuId:j.eH.InlineEditToolbar,title:"Accept",group:"primary",order:1}]})}run(oe,ue){return Ft(this,null,function*(){const de=Ee.get(ue);yield de==null?void 0:de.accept()})}}class Qe extends o.R6{constructor(){const oe=C.Ao.and(x.u.writable,C.Ao.not(Ee.inlineEditVisibleKey));super({id:"editor.action.inlineEdit.trigger",label:"Trigger Inline Edit",alias:"Trigger Inline Edit",precondition:oe,kbOpts:{weight:101,primary:2646,kbExpr:oe}})}run(oe,ue){return Ft(this,null,function*(){const de=Ee.get(ue);de==null||de.trigger()})}}class fe extends o.R6{constructor(){const oe=C.Ao.and(x.u.writable,Ee.inlineEditVisibleContext,C.Ao.not(Ee.cursorAtInlineEditKey));super({id:p,label:"Jump to Inline Edit",alias:"Jump to Inline Edit",precondition:oe,kbOpts:{weight:101,primary:2646,kbExpr:oe},menuOpts:[{menuId:j.eH.InlineEditToolbar,title:"Jump To Edit",group:"primary",order:3,when:oe}]})}run(oe,ue){return Ft(this,null,function*(){const de=Ee.get(ue);de==null||de.jumpToCurrent()})}}class $ extends o.R6{constructor(){const oe=C.Ao.and(x.u.writable,Ee.cursorAtInlineEditContext);super({id:E,label:"Jump Back from Inline Edit",alias:"Jump Back from Inline Edit",precondition:oe,kbOpts:{weight:110,primary:2646,kbExpr:oe},menuOpts:[{menuId:j.eH.InlineEditToolbar,title:"Jump Back",group:"primary",order:3,when:oe}]})}run(oe,ue){return Ft(this,null,function*(){const de=Ee.get(ue);de==null||de.jumpBack()})}}class le extends o.R6{constructor(){const oe=C.Ao.and(x.u.writable,Ee.inlineEditVisibleContext);super({id:S,label:"Reject Inline Edit",alias:"Reject Inline Edit",precondition:oe,kbOpts:{weight:100,primary:9,kbExpr:oe},menuOpts:[{menuId:j.eH.InlineEditToolbar,title:"Reject",group:"secondary",order:2}]})}run(oe,ue){return Ft(this,null,function*(){const de=Ee.get(ue);yield de==null?void 0:de.clear()})}}var De=function(be,oe,ue,de){var Se=arguments.length,Te=Se<3?oe:de===null?de=Object.getOwnPropertyDescriptor(oe,ue):de,Ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Te=Reflect.decorate(be,oe,ue,de);else for(var pe=be.length-1;pe>=0;pe--)(Ae=be[pe])&&(Te=(Se<3?Ae(Te):Se>3?Ae(oe,ue,Te):Ae(oe,ue))||Te);return Se>3&&Te&&Object.defineProperty(oe,ue,Te),Te},xe=function(be,oe){return function(ue,de){oe(ue,de,be)}};class Ce{constructor(oe,ue,de){this.owner=oe,this.range=ue,this.controller=de}isValidForHoverAnchor(oe){return oe.type===1&&this.range.startColumn<=oe.range.startColumn&&this.range.endColumn>=oe.range.endColumn}}let me=class{constructor(oe,ue,de){this._editor=oe,this._instantiationService=ue,this._telemetryService=de,this.hoverOrdinal=5}suggestHoverAnchor(oe){const ue=Ee.get(this._editor);if(!ue)return null;const de=oe.target;if(de.type===8){const Se=de.detail;if(ue.shouldShowHoverAtViewZone(Se.viewZoneId)){const Te=de.range;return new B.YM(1e3,this,Te,oe.event.posx,oe.event.posy,!1)}}return de.type===7&&ue.shouldShowHoverAt(de.range)?new B.YM(1e3,this,de.range,oe.event.posx,oe.event.posy,!1):de.type===6&&de.detail.mightBeForeignElement&&ue.shouldShowHoverAt(de.range)?new B.YM(1e3,this,de.range,oe.event.posx,oe.event.posy,!1):null}computeSync(oe,ue){if(this._editor.getOption(63).showToolbar!=="onHover")return[];const de=Ee.get(this._editor);return de&&de.shouldShowHoverAt(oe.range)?[new Ce(this,oe.range,de)]:[]}renderHoverParts(oe,ue){const de=new R.SL;this._telemetryService.publicLog2("inlineEditHover.shown");const Se=this._instantiationService.createInstance(ee,this._editor,!1,(0,w.Dz)(null));return oe.fragment.appendChild(Se.getDomNode()),de.add(Se),de}};me=De([xe(1,_.TG),xe(2,Q.b)],me),(0,o.Qr)(Ke),(0,o.Qr)(le),(0,o.Qr)(fe),(0,o.Qr)($),(0,o.Qr)(Qe),(0,o._K)(Ee.ID,Ee,3),B.Ae.register(me)},27226:function(et,Le,e){"use strict";e.d(Le,{r:function(){return i}});var o=e(91540),B=e(74696),x=e(24752),O=e(45029),S=e(30144),p=e(68777),E=e(4694),R=e(93059),w=e(87058),m=function(n,c,u,l){var D=arguments.length,f=D<3?c:l===null?l=Object.getOwnPropertyDescriptor(c,u):l,y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(n,c,u,l);else for(var C=n.length-1;C>=0;C--)(y=n[C])&&(f=(D<3?y(f):D>3?y(c,u,f):y(c,u))||f);return D>3&&f&&Object.defineProperty(c,u,f),f},g=function(n,c){return function(u,l){c(u,l,n)}};const a=R.qx.register({description:"inline-progress-widget",stickiness:1,showIfCollapsed:!0,after:{content:S.B4,inlineClassName:"inline-editor-progress-decoration",inlineClassNameAffectsLetterSpacing:!0}});class r extends O.JT{constructor(c,u,l,D,f){super(),this.typeId=c,this.editor=u,this.range=l,this.delegate=f,this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this.create(D),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this)}create(c){this.domNode=o.$(".inline-progress-widget"),this.domNode.role="button",this.domNode.title=c;const u=o.$("span.icon");this.domNode.append(u),u.classList.add(...p.k.asClassNameArray(x.l.loading),"codicon-modifier-spin");const l=()=>{const D=this.editor.getOption(67);this.domNode.style.height=`${D}px`,this.domNode.style.width=`${Math.ceil(.8*D)}px`};l(),this._register(this.editor.onDidChangeConfiguration(D=>{(D.hasChanged(52)||D.hasChanged(67))&&l()})),this._register(o.nm(this.domNode,o.tw.CLICK,D=>{this.delegate.cancel()}))}getId(){return r.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:{lineNumber:this.range.startLineNumber,column:this.range.startColumn},preference:[0]}}dispose(){super.dispose(),this.editor.removeContentWidget(this)}}r.baseId="editor.widget.inlineProgressWidget";let i=class extends O.JT{constructor(c,u,l){super(),this.id=c,this._editor=u,this._instantiationService=l,this._showDelay=500,this._showPromise=this._register(new O.XK),this._currentWidget=new O.XK,this._operationIdPool=0,this._currentDecorations=u.createDecorationsCollection()}showWhile(c,u,l){return Ft(this,null,function*(){const D=this._operationIdPool++;this._currentOperation=D,this.clear(),this._showPromise.value=(0,B.Vg)(()=>{const f=E.e.fromPositions(c);this._currentDecorations.set([{range:f,options:a}]).length>0&&(this._currentWidget.value=this._instantiationService.createInstance(r,this.id,this._editor,f,u,l))},this._showDelay);try{return yield l}finally{this._currentOperation===D&&(this.clear(),this._currentOperation=void 0)}})}clear(){this._showPromise.clear(),this._currentDecorations.clear(),this._currentWidget.clear()}};i=m([g(2,w.TG)],i)},38246:function(et,Le,e){"use strict";var o=e(92635),B=e(47844),x=e(22706),O=e(61652);class S extends o.R6{constructor(){super({id:"expandLineSelection",label:O.NC("expandLineSelection","Expand Line Selection"),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:x.u.textInputFocus,primary:2090}})}run(E,R,w){if(w=w||{},!R.hasModel())return;const m=R._getViewModel();m.model.pushStackElement(),m.setCursorStates(w.source,3,B.P.expandLineSelection(m,m.getCursorStates())),m.revealAllCursors(w.source,!0)}}(0,o.Qr)(S)},87288:function(et,Le,e){"use strict";var o=e(173),B=e(2048),x=e(92635),O=e(43921),S=e(30144),p=e(44316),E=e(4694);class R{constructor(Ce,me,be){this._selection=Ce,this._cursors=me,this._selectionId=null,this._trimInRegexesAndStrings=be}getEditOperations(Ce,me){const be=w(Ce,this._cursors,this._trimInRegexesAndStrings);for(let oe=0,ue=be.length;oe<ue;oe++){const de=be[oe];me.addEditOperation(de.range,de.text)}this._selectionId=me.trackSelection(this._selection)}computeCursorState(Ce,me){return me.getTrackedSelection(this._selectionId)}}function w(xe,Ce,me){Ce.sort((Se,Te)=>Se.lineNumber===Te.lineNumber?Se.column-Te.column:Se.lineNumber-Te.lineNumber);for(let Se=Ce.length-2;Se>=0;Se--)Ce[Se].lineNumber===Ce[Se+1].lineNumber&&Ce.splice(Se,1);const be=[];let oe=0,ue=0;const de=Ce.length;for(let Se=1,Te=xe.getLineCount();Se<=Te;Se++){const Ae=xe.getLineContent(Se),pe=Ae.length+1;let je=0;if(ue<de&&Ce[ue].lineNumber===Se&&(je=Ce[ue].column,ue++,je===pe)||Ae.length===0)continue;const ot=S.ow(Ae);let xt=0;if(ot===-1)xt=1;else if(ot!==Ae.length-1)xt=ot+2;else continue;if(!me){if(!xe.tokenization.hasAccurateTokensForLine(Se))continue;const jt=xe.tokenization.getLineTokens(Se),oi=jt.getStandardTokenType(jt.findTokenIndexAtOffset(xt));if(oi===2||oi===3)continue}xt=Math.max(je,xt),be[oe++]=p.h.delete(new E.e(Se,xt,Se,pe))}return be}var m=e(40326),g=e(93895),a=e(14149),r=e(22706);class i{constructor(Ce,me,be){this._selection=Ce,this._isCopyingDown=me,this._noop=be||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(Ce,me){let be=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,be.startLineNumber<be.endLineNumber&&be.endColumn===1&&(this._endLineNumberDelta=1,be=be.setEndPosition(be.endLineNumber-1,Ce.getLineMaxColumn(be.endLineNumber-1)));const oe=[];for(let de=be.startLineNumber;de<=be.endLineNumber;de++)oe.push(Ce.getLineContent(de));const ue=oe.join(`
`);ue===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?me.addEditOperation(new E.e(be.endLineNumber,Ce.getLineMaxColumn(be.endLineNumber),be.endLineNumber+1,1),be.endLineNumber===Ce.getLineCount()?"":`
`):this._isCopyingDown?me.addEditOperation(new E.e(be.startLineNumber,1,be.startLineNumber,1),ue+`
`):me.addEditOperation(new E.e(be.endLineNumber,Ce.getLineMaxColumn(be.endLineNumber),be.endLineNumber,Ce.getLineMaxColumn(be.endLineNumber)),`
`+ue),this._selectionId=me.trackSelection(be),this._selectionDirection=this._selection.getDirection()}computeCursorState(Ce,me){let be=me.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let oe=be.startLineNumber,ue=be.startColumn,de=be.endLineNumber,Se=be.endColumn;this._startLineNumberDelta!==0&&(oe=oe+this._startLineNumberDelta,ue=1),this._endLineNumberDelta!==0&&(de=de+this._endLineNumberDelta,Se=1),be=a.Y.createWithDirection(oe,ue,de,Se,this._selectionDirection)}return be}}var n=e(45352),c=e(61031),u=e(81275),l=e(45395),D=e(25409),f=e(80862),y=function(xe,Ce,me,be){var oe=arguments.length,ue=oe<3?Ce:be===null?be=Object.getOwnPropertyDescriptor(Ce,me):be,de;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ue=Reflect.decorate(xe,Ce,me,be);else for(var Se=xe.length-1;Se>=0;Se--)(de=xe[Se])&&(ue=(oe<3?de(ue):oe>3?de(Ce,me,ue):de(Ce,me))||ue);return oe>3&&ue&&Object.defineProperty(Ce,me,ue),ue},C=function(xe,Ce){return function(me,be){Ce(me,be,xe)}};let _=class{constructor(Ce,me,be,oe){this._languageConfigurationService=oe,this._selection=Ce,this._isMovingDown=me,this._autoIndent=be,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(Ce,me){const be=Ce.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===be){this._selectionId=me.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=me.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let oe=this._selection;oe.startLineNumber<oe.endLineNumber&&oe.endColumn===1&&(this._moveEndPositionDown=!0,oe=oe.setEndPosition(oe.endLineNumber-1,Ce.getLineMaxColumn(oe.endLineNumber-1)));const{tabSize:ue,indentSize:de,insertSpaces:Se}=Ce.getOptions(),Te=this.buildIndentConverter(ue,de,Se),Ae={tokenization:{getLineTokens:pe=>Ce.tokenization.getLineTokens(pe),getLanguageId:()=>Ce.getLanguageId(),getLanguageIdAtPosition:(pe,je)=>Ce.getLanguageIdAtPosition(pe,je)},getLineContent:null};if(oe.startLineNumber===oe.endLineNumber&&Ce.getLineMaxColumn(oe.startLineNumber)===1){const pe=oe.startLineNumber,je=this._isMovingDown?pe+1:pe-1;Ce.getLineMaxColumn(je)===1?me.addEditOperation(new E.e(1,1,1,1),null):(me.addEditOperation(new E.e(pe,1,pe,1),Ce.getLineContent(je)),me.addEditOperation(new E.e(je,1,je,Ce.getLineMaxColumn(je)),null)),oe=new a.Y(je,1,je,1)}else{let pe,je;if(this._isMovingDown){pe=oe.endLineNumber+1,je=Ce.getLineContent(pe),me.addEditOperation(new E.e(pe-1,Ce.getLineMaxColumn(pe-1),pe,Ce.getLineMaxColumn(pe)),null);let ot=je;if(this.shouldAutoIndent(Ce,oe)){const xt=this.matchEnterRule(Ce,Te,ue,pe,oe.startLineNumber-1);if(xt!==null){const oi=S.V8(Ce.getLineContent(pe)),ti=xt+l.Y(oi,ue);ot=l.J(ti,ue,Se)+this.trimStart(je)}else{Ae.getLineContent=ti=>ti===oe.startLineNumber?Ce.getLineContent(pe):Ce.getLineContent(ti);const oi=(0,D.n8)(this._autoIndent,Ae,Ce.getLanguageIdAtPosition(pe,1),oe.startLineNumber,Te,this._languageConfigurationService);if(oi!==null){const ti=S.V8(Ce.getLineContent(pe)),it=l.Y(oi,ue),yt=l.Y(ti,ue);it!==yt&&(ot=l.J(it,ue,Se)+this.trimStart(je))}}me.addEditOperation(new E.e(oe.startLineNumber,1,oe.startLineNumber,1),ot+`
`);const jt=this.matchEnterRuleMovingDown(Ce,Te,ue,oe.startLineNumber,pe,ot);if(jt!==null)jt!==0&&this.getIndentEditsOfMovingBlock(Ce,me,oe,ue,Se,jt);else{Ae.getLineContent=ti=>ti===oe.startLineNumber?ot:ti>=oe.startLineNumber+1&&ti<=oe.endLineNumber+1?Ce.getLineContent(ti-1):Ce.getLineContent(ti);const oi=(0,D.n8)(this._autoIndent,Ae,Ce.getLanguageIdAtPosition(pe,1),oe.startLineNumber+1,Te,this._languageConfigurationService);if(oi!==null){const ti=S.V8(Ce.getLineContent(oe.startLineNumber)),it=l.Y(oi,ue),yt=l.Y(ti,ue);if(it!==yt){const $t=it-yt;this.getIndentEditsOfMovingBlock(Ce,me,oe,ue,Se,$t)}}}}else me.addEditOperation(new E.e(oe.startLineNumber,1,oe.startLineNumber,1),ot+`
`)}else if(pe=oe.startLineNumber-1,je=Ce.getLineContent(pe),me.addEditOperation(new E.e(pe,1,pe+1,1),null),me.addEditOperation(new E.e(oe.endLineNumber,Ce.getLineMaxColumn(oe.endLineNumber),oe.endLineNumber,Ce.getLineMaxColumn(oe.endLineNumber)),`
`+je),this.shouldAutoIndent(Ce,oe)){Ae.getLineContent=xt=>xt===pe?Ce.getLineContent(oe.startLineNumber):Ce.getLineContent(xt);const ot=this.matchEnterRule(Ce,Te,ue,oe.startLineNumber,oe.startLineNumber-2);if(ot!==null)ot!==0&&this.getIndentEditsOfMovingBlock(Ce,me,oe,ue,Se,ot);else{const xt=(0,D.n8)(this._autoIndent,Ae,Ce.getLanguageIdAtPosition(oe.startLineNumber,1),pe,Te,this._languageConfigurationService);if(xt!==null){const jt=S.V8(Ce.getLineContent(oe.startLineNumber)),oi=l.Y(xt,ue),ti=l.Y(jt,ue);if(oi!==ti){const it=oi-ti;this.getIndentEditsOfMovingBlock(Ce,me,oe,ue,Se,it)}}}}}this._selectionId=me.trackSelection(oe)}buildIndentConverter(Ce,me,be){return{shiftIndent:oe=>n.U.shiftIndent(oe,oe.length+1,Ce,me,be),unshiftIndent:oe=>n.U.unshiftIndent(oe,oe.length+1,Ce,me,be)}}parseEnterResult(Ce,me,be,oe,ue){if(ue){let de=ue.indentation;ue.indentAction===c.wU.None||ue.indentAction===c.wU.Indent?de=ue.indentation+ue.appendText:ue.indentAction===c.wU.IndentOutdent?de=ue.indentation:ue.indentAction===c.wU.Outdent&&(de=me.unshiftIndent(ue.indentation)+ue.appendText);const Se=Ce.getLineContent(oe);if(this.trimStart(Se).indexOf(this.trimStart(de))>=0){const Te=S.V8(Ce.getLineContent(oe));let Ae=S.V8(de);const pe=(0,D.tI)(Ce,oe,this._languageConfigurationService);pe!==null&&pe&2&&(Ae=me.unshiftIndent(Ae));const je=l.Y(Ae,be),ot=l.Y(Te,be);return je-ot}}return null}matchEnterRuleMovingDown(Ce,me,be,oe,ue,de){if(S.ow(de)>=0){const Se=Ce.getLineMaxColumn(ue),Te=(0,f.A)(this._autoIndent,Ce,new E.e(ue,Se,ue,Se),this._languageConfigurationService);return this.parseEnterResult(Ce,me,be,oe,Te)}else{let Se=oe-1;for(;Se>=1;){const pe=Ce.getLineContent(Se);if(S.ow(pe)>=0)break;Se--}if(Se<1||oe>Ce.getLineCount())return null;const Te=Ce.getLineMaxColumn(Se),Ae=(0,f.A)(this._autoIndent,Ce,new E.e(Se,Te,Se,Te),this._languageConfigurationService);return this.parseEnterResult(Ce,me,be,oe,Ae)}}matchEnterRule(Ce,me,be,oe,ue,de){let Se=ue;for(;Se>=1;){let pe;if(Se===ue&&de!==void 0?pe=de:pe=Ce.getLineContent(Se),S.ow(pe)>=0)break;Se--}if(Se<1||oe>Ce.getLineCount())return null;const Te=Ce.getLineMaxColumn(Se),Ae=(0,f.A)(this._autoIndent,Ce,new E.e(Se,Te,Se,Te),this._languageConfigurationService);return this.parseEnterResult(Ce,me,be,oe,Ae)}trimStart(Ce){return Ce.replace(/^\s+/,"")}shouldAutoIndent(Ce,me){if(this._autoIndent<4||!Ce.tokenization.isCheapToTokenize(me.startLineNumber))return!1;const be=Ce.getLanguageIdAtPosition(me.startLineNumber,1),oe=Ce.getLanguageIdAtPosition(me.endLineNumber,1);return!(be!==oe||this._languageConfigurationService.getLanguageConfiguration(be).indentRulesSupport===null)}getIndentEditsOfMovingBlock(Ce,me,be,oe,ue,de){for(let Se=be.startLineNumber;Se<=be.endLineNumber;Se++){const Te=Ce.getLineContent(Se),Ae=S.V8(Te),je=l.Y(Ae,oe)+de,ot=l.J(je,oe,ue);ot!==Ae&&(me.addEditOperation(new E.e(Se,1,Se,Ae.length+1),ot),Se===be.endLineNumber&&be.endColumn<=Ae.length+1&&ot===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(Ce,me){let be=me.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(be=be.setEndPosition(be.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&be.startLineNumber<be.endLineNumber&&(be=be.setEndPosition(be.endLineNumber,2)),be}};_=y([C(3,u.c_)],_);class N{static getCollator(){return N._COLLATOR||(N._COLLATOR=new Intl.Collator),N._COLLATOR}constructor(Ce,me){this.selection=Ce,this.descending=me,this.selectionId=null}getEditOperations(Ce,me){const be=k(Ce,this.selection,this.descending);be&&me.addEditOperation(be.range,be.text),this.selectionId=me.trackSelection(this.selection)}computeCursorState(Ce,me){return me.getTrackedSelection(this.selectionId)}static canRun(Ce,me,be){if(Ce===null)return!1;const oe=b(Ce,me,be);if(!oe)return!1;for(let ue=0,de=oe.before.length;ue<de;ue++)if(oe.before[ue]!==oe.after[ue])return!0;return!1}}N._COLLATOR=null;function b(xe,Ce,me){const be=Ce.startLineNumber;let oe=Ce.endLineNumber;if(Ce.endColumn===1&&oe--,be>=oe)return null;const ue=[];for(let Se=be;Se<=oe;Se++)ue.push(xe.getLineContent(Se));let de=ue.slice(0);return de.sort(N.getCollator().compare),me===!0&&(de=de.reverse()),{startLineNumber:be,endLineNumber:oe,before:ue,after:de}}function k(xe,Ce,me){const be=b(xe,Ce,me);return be?p.h.replace(new E.e(be.startLineNumber,1,be.endLineNumber,xe.getLineMaxColumn(be.endLineNumber)),be.after.join(`
`)):null}var V=e(61652),K=e(69713),Z=e(48774);class z extends x.R6{constructor(Ce,me){super(me),this.down=Ce}run(Ce,me){if(!me.hasModel())return;const be=me.getSelections().map((de,Se)=>({selection:de,index:Se,ignore:!1}));be.sort((de,Se)=>E.e.compareRangesUsingStarts(de.selection,Se.selection));let oe=be[0];for(let de=1;de<be.length;de++){const Se=be[de];oe.selection.endLineNumber===Se.selection.startLineNumber&&(oe.index<Se.index?Se.ignore=!0:(oe.ignore=!0,oe=Se))}const ue=[];for(const de of be)ue.push(new i(de.selection,this.down,de.ignore));me.pushUndoStop(),me.executeCommands(this.id,ue),me.pushUndoStop()}}class A extends z{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:V.NC("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:r.u.writable,kbOpts:{kbExpr:r.u.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:K.eH.MenubarSelectionMenu,group:"2_line",title:V.NC({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}class P extends z{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:V.NC("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:r.u.writable,kbOpts:{kbExpr:r.u.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:K.eH.MenubarSelectionMenu,group:"2_line",title:V.NC({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}class I extends x.R6{constructor(){super({id:"editor.action.duplicateSelection",label:V.NC("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:r.u.writable,menuOpts:{menuId:K.eH.MenubarSelectionMenu,group:"2_line",title:V.NC({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(Ce,me,be){if(!me.hasModel())return;const oe=[],ue=me.getSelections(),de=me.getModel();for(const Se of ue)if(Se.isEmpty())oe.push(new i(Se,!0));else{const Te=new a.Y(Se.endLineNumber,Se.endColumn,Se.endLineNumber,Se.endColumn);oe.push(new O.OY(Te,de.getValueInRange(Se)))}me.pushUndoStop(),me.executeCommands(this.id,oe),me.pushUndoStop()}}class W extends x.R6{constructor(Ce,me){super(me),this.down=Ce}run(Ce,me){const be=Ce.get(u.c_),oe=[],ue=me.getSelections()||[],de=me.getOption(12);for(const Se of ue)oe.push(new _(Se,this.down,de,be));me.pushUndoStop(),me.executeCommands(this.id,oe),me.pushUndoStop()}}class G extends W{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:V.NC("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:r.u.writable,kbOpts:{kbExpr:r.u.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:K.eH.MenubarSelectionMenu,group:"2_line",title:V.NC({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}class j extends W{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:V.NC("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:r.u.writable,kbOpts:{kbExpr:r.u.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:K.eH.MenubarSelectionMenu,group:"2_line",title:V.NC({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}class Y extends x.R6{constructor(Ce,me){super(me),this.descending=Ce}run(Ce,me){if(!me.hasModel())return;const be=me.getModel();let oe=me.getSelections();oe.length===1&&oe[0].isEmpty()&&(oe=[new a.Y(1,1,be.getLineCount(),be.getLineMaxColumn(be.getLineCount()))]);for(const de of oe)if(!N.canRun(me.getModel(),de,this.descending))return;const ue=[];for(let de=0,Se=oe.length;de<Se;de++)ue[de]=new N(oe[de],this.descending);me.pushUndoStop(),me.executeCommands(this.id,ue),me.pushUndoStop()}}class H extends Y{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:V.NC("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:r.u.writable})}}class Q extends Y{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:V.NC("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:r.u.writable})}}class ie extends x.R6{constructor(){super({id:"editor.action.removeDuplicateLines",label:V.NC("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:r.u.writable})}run(Ce,me){if(!me.hasModel())return;const be=me.getModel();if(be.getLineCount()===1&&be.getLineMaxColumn(1)===1)return;const oe=[],ue=[];let de=0,Se=!0,Te=me.getSelections();Te.length===1&&Te[0].isEmpty()&&(Te=[new a.Y(1,1,be.getLineCount(),be.getLineMaxColumn(be.getLineCount()))],Se=!1);for(const Ae of Te){const pe=new Set,je=[];for(let oi=Ae.startLineNumber;oi<=Ae.endLineNumber;oi++){const ti=be.getLineContent(oi);pe.has(ti)||(je.push(ti),pe.add(ti))}const ot=new a.Y(Ae.startLineNumber,1,Ae.endLineNumber,be.getLineMaxColumn(Ae.endLineNumber)),xt=Ae.startLineNumber-de,jt=new a.Y(xt,1,xt+je.length-1,je[je.length-1].length);oe.push(p.h.replace(ot,je.join(`
`))),ue.push(jt),de+=Ae.endLineNumber-Ae.startLineNumber+1-je.length}me.pushUndoStop(),me.executeEdits(this.id,oe,Se?ue:void 0),me.pushUndoStop()}}class te extends x.R6{constructor(){super({id:te.ID,label:V.NC("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:r.u.writable,kbOpts:{kbExpr:r.u.editorTextFocus,primary:(0,o.gx)(2089,2102),weight:100}})}run(Ce,me,be){let oe=[];be.reason==="auto-save"&&(oe=(me.getSelections()||[]).map(pe=>new g.L(pe.positionLineNumber,pe.positionColumn)));const ue=me.getSelection();if(ue===null)return;const de=Ce.get(Z.Ui),Se=me.getModel(),Te=de.getValue("files.trimTrailingWhitespaceInRegexAndStrings",{overrideIdentifier:Se==null?void 0:Se.getLanguageId(),resource:Se==null?void 0:Se.uri}),Ae=new R(ue,oe,Te);me.pushUndoStop(),me.executeCommands(this.id,[Ae]),me.pushUndoStop()}}te.ID="editor.action.trimTrailingWhitespace";class se extends x.R6{constructor(){super({id:"editor.action.deleteLines",label:V.NC("lines.delete","Delete Line"),alias:"Delete Line",precondition:r.u.writable,kbOpts:{kbExpr:r.u.textInputFocus,primary:3113,weight:100}})}run(Ce,me){if(!me.hasModel())return;const be=this._getLinesToRemove(me),oe=me.getModel();if(oe.getLineCount()===1&&oe.getLineMaxColumn(1)===1)return;let ue=0;const de=[],Se=[];for(let Te=0,Ae=be.length;Te<Ae;Te++){const pe=be[Te];let je=pe.startLineNumber,ot=pe.endLineNumber,xt=1,jt=oe.getLineMaxColumn(ot);ot<oe.getLineCount()?(ot+=1,jt=1):je>1&&(je-=1,xt=oe.getLineMaxColumn(je)),de.push(p.h.replace(new a.Y(je,xt,ot,jt),"")),Se.push(new a.Y(je-ue,pe.positionColumn,je-ue,pe.positionColumn)),ue+=pe.endLineNumber-pe.startLineNumber+1}me.pushUndoStop(),me.executeEdits(this.id,de,Se),me.pushUndoStop()}_getLinesToRemove(Ce){const me=Ce.getSelections().map(ue=>{let de=ue.endLineNumber;return ue.startLineNumber<ue.endLineNumber&&ue.endColumn===1&&(de-=1),{startLineNumber:ue.startLineNumber,selectionStartColumn:ue.selectionStartColumn,endLineNumber:de,positionColumn:ue.positionColumn}});me.sort((ue,de)=>ue.startLineNumber===de.startLineNumber?ue.endLineNumber-de.endLineNumber:ue.startLineNumber-de.startLineNumber);const be=[];let oe=me[0];for(let ue=1;ue<me.length;ue++)oe.endLineNumber+1>=me[ue].startLineNumber?oe.endLineNumber=me[ue].endLineNumber:(be.push(oe),oe=me[ue]);return be.push(oe),be}}class ne extends x.R6{constructor(){super({id:"editor.action.indentLines",label:V.NC("lines.indent","Indent Line"),alias:"Indent Line",precondition:r.u.writable,kbOpts:{kbExpr:r.u.editorTextFocus,primary:2142,weight:100}})}run(Ce,me){const be=me._getViewModel();be&&(me.pushUndoStop(),me.executeCommands(this.id,m.u6.indent(be.cursorConfig,me.getModel(),me.getSelections())),me.pushUndoStop())}}class ee extends x.R6{constructor(){super({id:"editor.action.outdentLines",label:V.NC("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:r.u.writable,kbOpts:{kbExpr:r.u.editorTextFocus,primary:2140,weight:100}})}run(Ce,me){B.wk.Outdent.runEditorCommand(Ce,me,null)}}class re extends x.R6{constructor(){super({id:"editor.action.insertLineBefore",label:V.NC("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:r.u.writable,kbOpts:{kbExpr:r.u.editorTextFocus,primary:3075,weight:100}})}run(Ce,me){const be=me._getViewModel();be&&(me.pushUndoStop(),me.executeCommands(this.id,m.u6.lineInsertBefore(be.cursorConfig,me.getModel(),me.getSelections())))}}class he extends x.R6{constructor(){super({id:"editor.action.insertLineAfter",label:V.NC("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:r.u.writable,kbOpts:{kbExpr:r.u.editorTextFocus,primary:2051,weight:100}})}run(Ce,me){const be=me._getViewModel();be&&(me.pushUndoStop(),me.executeCommands(this.id,m.u6.lineInsertAfter(be.cursorConfig,me.getModel(),me.getSelections())))}}class M extends x.R6{run(Ce,me){if(!me.hasModel())return;const be=me.getSelection(),oe=this._getRangesToDelete(me),ue=[];for(let Te=0,Ae=oe.length-1;Te<Ae;Te++){const pe=oe[Te],je=oe[Te+1];E.e.intersectRanges(pe,je)===null?ue.push(pe):oe[Te+1]=E.e.plusRange(pe,je)}ue.push(oe[oe.length-1]);const de=this._getEndCursorState(be,ue),Se=ue.map(Te=>p.h.replace(Te,""));me.pushUndoStop(),me.executeEdits(this.id,Se,de),me.pushUndoStop()}}class we extends M{constructor(){super({id:"deleteAllLeft",label:V.NC("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:r.u.writable,kbOpts:{kbExpr:r.u.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(Ce,me){let be=null;const oe=[];let ue=0;return me.forEach(de=>{let Se;if(de.endColumn===1&&ue>0){const Te=de.startLineNumber-ue;Se=new a.Y(Te,de.startColumn,Te,de.startColumn)}else Se=new a.Y(de.startLineNumber,de.startColumn,de.startLineNumber,de.startColumn);ue+=de.endLineNumber-de.startLineNumber,de.intersectRanges(Ce)?be=Se:oe.push(Se)}),be&&oe.unshift(be),oe}_getRangesToDelete(Ce){const me=Ce.getSelections();if(me===null)return[];let be=me;const oe=Ce.getModel();return oe===null?[]:(be.sort(E.e.compareRangesUsingStarts),be=be.map(ue=>{if(ue.isEmpty())if(ue.startColumn===1){const de=Math.max(1,ue.startLineNumber-1),Se=ue.startLineNumber===1?1:oe.getLineLength(de)+1;return new E.e(de,Se,ue.startLineNumber,1)}else return new E.e(ue.startLineNumber,1,ue.startLineNumber,ue.startColumn);else return new E.e(ue.startLineNumber,1,ue.endLineNumber,ue.endColumn)}),be)}}class We extends M{constructor(){super({id:"deleteAllRight",label:V.NC("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:r.u.writable,kbOpts:{kbExpr:r.u.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(Ce,me){let be=null;const oe=[];for(let ue=0,de=me.length,Se=0;ue<de;ue++){const Te=me[ue],Ae=new a.Y(Te.startLineNumber-Se,Te.startColumn,Te.startLineNumber-Se,Te.startColumn);Te.intersectRanges(Ce)?be=Ae:oe.push(Ae)}return be&&oe.unshift(be),oe}_getRangesToDelete(Ce){const me=Ce.getModel();if(me===null)return[];const be=Ce.getSelections();if(be===null)return[];const oe=be.map(ue=>{if(ue.isEmpty()){const de=me.getLineMaxColumn(ue.startLineNumber);return ue.startColumn===de?new E.e(ue.startLineNumber,ue.startColumn,ue.startLineNumber+1,1):new E.e(ue.startLineNumber,ue.startColumn,ue.startLineNumber,de)}return ue});return oe.sort(E.e.compareRangesUsingStarts),oe}}class ye extends x.R6{constructor(){super({id:"editor.action.joinLines",label:V.NC("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:r.u.writable,kbOpts:{kbExpr:r.u.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(Ce,me){const be=me.getSelections();if(be===null)return;let oe=me.getSelection();if(oe===null)return;be.sort(E.e.compareRangesUsingStarts);const ue=[],de=be.reduce((ot,xt)=>ot.isEmpty()?ot.endLineNumber===xt.startLineNumber?(oe.equalsSelection(ot)&&(oe=xt),xt):xt.startLineNumber>ot.endLineNumber+1?(ue.push(ot),xt):new a.Y(ot.startLineNumber,ot.startColumn,xt.endLineNumber,xt.endColumn):xt.startLineNumber>ot.endLineNumber?(ue.push(ot),xt):new a.Y(ot.startLineNumber,ot.startColumn,xt.endLineNumber,xt.endColumn));ue.push(de);const Se=me.getModel();if(Se===null)return;const Te=[],Ae=[];let pe=oe,je=0;for(let ot=0,xt=ue.length;ot<xt;ot++){const jt=ue[ot],oi=jt.startLineNumber,ti=1;let it=0,yt,$t;const Nt=Se.getLineLength(jt.endLineNumber)-jt.endColumn;if(jt.isEmpty()||jt.startLineNumber===jt.endLineNumber){const He=jt.getStartPosition();He.lineNumber<Se.getLineCount()?(yt=oi+1,$t=Se.getLineMaxColumn(yt)):(yt=He.lineNumber,$t=Se.getLineMaxColumn(He.lineNumber))}else yt=jt.endLineNumber,$t=Se.getLineMaxColumn(yt);let qt=Se.getLineContent(oi);for(let He=oi+1;He<=yt;He++){const Ct=Se.getLineContent(He),Gt=Se.getLineFirstNonWhitespaceColumn(He);if(Gt>=1){let Di=!0;qt===""&&(Di=!1),Di&&(qt.charAt(qt.length-1)===" "||qt.charAt(qt.length-1)==="	")&&(Di=!1,qt=qt.replace(/[\s\uFEFF\xA0]+$/g," "));const $i=Ct.substr(Gt-1);qt+=(Di?" ":"")+$i,Di?it=$i.length+1:it=$i.length}else it=0}const Ht=new E.e(oi,ti,yt,$t);if(!Ht.isEmpty()){let He;jt.isEmpty()?(Te.push(p.h.replace(Ht,qt)),He=new a.Y(Ht.startLineNumber-je,qt.length-it+1,oi-je,qt.length-it+1)):jt.startLineNumber===jt.endLineNumber?(Te.push(p.h.replace(Ht,qt)),He=new a.Y(jt.startLineNumber-je,jt.startColumn,jt.endLineNumber-je,jt.endColumn)):(Te.push(p.h.replace(Ht,qt)),He=new a.Y(jt.startLineNumber-je,jt.startColumn,jt.startLineNumber-je,qt.length-Nt)),E.e.intersectRanges(Ht,oe)!==null?pe=He:Ae.push(He)}je+=Ht.endLineNumber-Ht.startLineNumber}Ae.unshift(pe),me.pushUndoStop(),me.executeEdits(this.id,Te,Ae),me.pushUndoStop()}}class X extends x.R6{constructor(){super({id:"editor.action.transpose",label:V.NC("editor.transpose","Transpose Characters around the Cursor"),alias:"Transpose Characters around the Cursor",precondition:r.u.writable})}run(Ce,me){const be=me.getSelections();if(be===null)return;const oe=me.getModel();if(oe===null)return;const ue=[];for(let de=0,Se=be.length;de<Se;de++){const Te=be[de];if(!Te.isEmpty())continue;const Ae=Te.getStartPosition(),pe=oe.getLineMaxColumn(Ae.lineNumber);if(Ae.column>=pe){if(Ae.lineNumber===oe.getLineCount())continue;const je=new E.e(Ae.lineNumber,Math.max(1,Ae.column-1),Ae.lineNumber+1,1),ot=oe.getValueInRange(je).split("").reverse().join("");ue.push(new O.T4(new a.Y(Ae.lineNumber,Math.max(1,Ae.column-1),Ae.lineNumber+1,1),ot))}else{const je=new E.e(Ae.lineNumber,Math.max(1,Ae.column-1),Ae.lineNumber,Ae.column+1),ot=oe.getValueInRange(je).split("").reverse().join("");ue.push(new O.hP(je,ot,new a.Y(Ae.lineNumber,Ae.column+1,Ae.lineNumber,Ae.column+1)))}}me.pushUndoStop(),me.executeCommands(this.id,ue),me.pushUndoStop()}}class ve extends x.R6{run(Ce,me){const be=me.getSelections();if(be===null)return;const oe=me.getModel();if(oe===null)return;const ue=me.getOption(131),de=[];for(const Se of be)if(Se.isEmpty()){const Te=Se.getStartPosition(),Ae=me.getConfiguredWordAtPosition(Te);if(!Ae)continue;const pe=new E.e(Te.lineNumber,Ae.startColumn,Te.lineNumber,Ae.endColumn),je=oe.getValueInRange(pe);de.push(p.h.replace(pe,this._modifyText(je,ue)))}else{const Te=oe.getValueInRange(Se);de.push(p.h.replace(Se,this._modifyText(Te,ue)))}me.pushUndoStop(),me.executeEdits(this.id,de),me.pushUndoStop()}}class Ee extends ve{constructor(){super({id:"editor.action.transformToUppercase",label:V.NC("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:r.u.writable})}_modifyText(Ce,me){return Ce.toLocaleUpperCase()}}class Oe extends ve{constructor(){super({id:"editor.action.transformToLowercase",label:V.NC("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:r.u.writable})}_modifyText(Ce,me){return Ce.toLocaleLowerCase()}}class Ke{constructor(Ce,me){this._pattern=Ce,this._flags=me,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch(Ce){}}return this._actual}isSupported(){return this.get()!==null}}class Qe extends ve{constructor(){super({id:"editor.action.transformToTitlecase",label:V.NC("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:r.u.writable})}_modifyText(Ce,me){const be=Qe.titleBoundary.get();return be?Ce.toLocaleLowerCase().replace(be,oe=>oe.toLocaleUpperCase()):Ce}}Qe.titleBoundary=new Ke("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class fe extends ve{constructor(){super({id:"editor.action.transformToSnakecase",label:V.NC("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:r.u.writable})}_modifyText(Ce,me){const be=fe.caseBoundary.get(),oe=fe.singleLetters.get();return!be||!oe?Ce:Ce.replace(be,"$1_$2").replace(oe,"$1_$2$3").toLocaleLowerCase()}}fe.caseBoundary=new Ke("(\\p{Ll})(\\p{Lu})","gmu"),fe.singleLetters=new Ke("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");class $ extends ve{constructor(){super({id:"editor.action.transformToCamelcase",label:V.NC("editor.transformToCamelcase","Transform to Camel Case"),alias:"Transform to Camel Case",precondition:r.u.writable})}_modifyText(Ce,me){const be=$.wordBoundary.get();if(!be)return Ce;const oe=Ce.split(be);return oe.shift()+oe.map(de=>de.substring(0,1).toLocaleUpperCase()+de.substring(1)).join("")}}$.wordBoundary=new Ke("[_\\s-]","gm");class le extends ve{constructor(){super({id:"editor.action.transformToPascalcase",label:V.NC("editor.transformToPascalcase","Transform to Pascal Case"),alias:"Transform to Pascal Case",precondition:r.u.writable})}_modifyText(Ce,me){const be=le.wordBoundary.get(),oe=le.wordBoundaryToMaintain.get();return!be||!oe?Ce:Ce.split(oe).map(Se=>Se.split(be)).flat().map(Se=>Se.substring(0,1).toLocaleUpperCase()+Se.substring(1)).join("")}}le.wordBoundary=new Ke("[_\\s-]","gm"),le.wordBoundaryToMaintain=new Ke("(?<=\\.)","gm");class De extends ve{static isSupported(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every(me=>me.isSupported())}constructor(){super({id:"editor.action.transformToKebabcase",label:V.NC("editor.transformToKebabcase","Transform to Kebab Case"),alias:"Transform to Kebab Case",precondition:r.u.writable})}_modifyText(Ce,me){const be=De.caseBoundary.get(),oe=De.singleLetters.get(),ue=De.underscoreBoundary.get();return!be||!oe||!ue?Ce:Ce.replace(ue,"$1-$3").replace(be,"$1-$2").replace(oe,"$1-$2").toLocaleLowerCase()}}De.caseBoundary=new Ke("(\\p{Ll})(\\p{Lu})","gmu"),De.singleLetters=new Ke("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu"),De.underscoreBoundary=new Ke("(\\S)(_)(\\S)","gm"),(0,x.Qr)(A),(0,x.Qr)(P),(0,x.Qr)(I),(0,x.Qr)(G),(0,x.Qr)(j),(0,x.Qr)(H),(0,x.Qr)(Q),(0,x.Qr)(ie),(0,x.Qr)(te),(0,x.Qr)(se),(0,x.Qr)(ne),(0,x.Qr)(ee),(0,x.Qr)(re),(0,x.Qr)(he),(0,x.Qr)(we),(0,x.Qr)(We),(0,x.Qr)(ye),(0,x.Qr)(X),(0,x.Qr)(Ee),(0,x.Qr)(Oe),fe.caseBoundary.isSupported()&&fe.singleLetters.isSupported()&&(0,x.Qr)(fe),$.wordBoundary.isSupported()&&(0,x.Qr)($),le.wordBoundary.isSupported()&&(0,x.Qr)(le),Qe.titleBoundary.isSupported()&&(0,x.Qr)(Qe),De.isSupported()&&(0,x.Qr)(De)},54766:function(et,Le,e){"use strict";var o=e(71221),B=e(74696),x=e(65642),O=e(64707),S=e(25602),p=e(79329),E=e(45029),R=e(30144),w=e(10058),m=e(92635),g=e(89226),a=e(93895),r=e(4694),i=e(22706),n=e(93059),c=e(81275),u=e(61652),l=e(80568),D=e(70546),f=e(97341),y=e(81580),C=e(32368),_=function(I,W,G,j){var Y=arguments.length,H=Y<3?W:j===null?j=Object.getOwnPropertyDescriptor(W,G):j,Q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(I,W,G,j);else for(var ie=I.length-1;ie>=0;ie--)(Q=I[ie])&&(H=(Y<3?Q(H):Y>3?Q(W,G,H):Q(W,G))||H);return Y>3&&H&&Object.defineProperty(W,G,H),H},N=function(I,W){return function(G,j){W(G,j,I)}},b;const k=new l.uy("LinkedEditingInputVisible",!1),V="linked-editing-decoration";let K=b=class extends E.JT{static get(W){return W.getContribution(b.ID)}constructor(W,G,j,Y,H){super(),this.languageConfigurationService=Y,this._syncRangesToken=0,this._localToDispose=this._register(new E.SL),this._editor=W,this._providers=j.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=k.bindTo(G),this._debounceInformation=H.for(this._providers,"Linked Editing",{max:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new E.SL),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequestCts=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(Q=>{(Q.hasChanged(70)||Q.hasChanged(93))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}reinitialize(W){const G=this._editor.getModel(),j=G!==null&&(this._editor.getOption(70)||this._editor.getOption(93))&&this._providers.has(G);if(j===this._enabled&&!W||(this._enabled=j,this.clearRanges(),this._localToDispose.clear(),!j||G===null))return;this._localToDispose.add(p.ju.runAndSubscribe(G.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(G.getLanguageId()).getWordDefinition()}));const Y=new B.vp(this._debounceInformation.get(G)),H=()=>{var te;this._rangeUpdateTriggerPromise=Y.trigger(()=>this.updateRanges(),(te=this._debounceDuration)!==null&&te!==void 0?te:this._debounceInformation.get(G))},Q=new B.vp(0),ie=te=>{this._rangeSyncTriggerPromise=Q.trigger(()=>this._syncRanges(te))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{H()})),this._localToDispose.add(this._editor.onDidChangeModelContent(te=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const se=this._currentDecorations.getRange(0);if(se&&te.changes.every(ne=>se.intersectRanges(ne.range))){ie(this._syncRangesToken);return}}H()})),this._localToDispose.add({dispose:()=>{Y.dispose(),Q.dispose()}}),this.updateRanges()}_syncRanges(W){if(!this._editor.hasModel()||W!==this._syncRangesToken||this._currentDecorations.length===0)return;const G=this._editor.getModel(),j=this._currentDecorations.getRange(0);if(!j||j.startLineNumber!==j.endLineNumber)return this.clearRanges();const Y=G.getValueInRange(j);if(this._currentWordPattern){const Q=Y.match(this._currentWordPattern);if((Q?Q[0].length:0)!==Y.length)return this.clearRanges()}const H=[];for(let Q=1,ie=this._currentDecorations.length;Q<ie;Q++){const te=this._currentDecorations.getRange(Q);if(te)if(te.startLineNumber!==te.endLineNumber)H.push({range:te,text:Y});else{let se=G.getValueInRange(te),ne=Y,ee=te.startColumn,re=te.endColumn;const he=R.Mh(se,ne);ee+=he,se=se.substr(he),ne=ne.substr(he);const M=R.P1(se,ne);re-=M,se=se.substr(0,se.length-M),ne=ne.substr(0,ne.length-M),(ee!==re||ne.length!==0)&&H.push({range:new r.e(te.startLineNumber,ee,te.endLineNumber,re),text:ne})}}if(H.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const Q=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",H),this._editor._getViewModel().setPrevEditOperationType(Q)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequestCts&&(this._currentRequestCts.cancel(),this._currentRequestCts=null,this._currentRequestPosition=null)}updateRanges(W=!1){return Ft(this,null,function*(){if(!this._editor.hasModel()){this.clearRanges();return}const G=this._editor.getPosition();if(!this._enabled&&!W||this._editor.getSelections().length>1){this.clearRanges();return}const j=this._editor.getModel(),Y=j.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===Y){if(G.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){const Q=this._currentDecorations.getRange(0);if(Q&&Q.containsPosition(G))return}}this.clearRanges(),this._currentRequestPosition=G,this._currentRequestModelVersion=Y;const H=this._currentRequestCts=new x.AU;try{const Q=new C.G(!1),ie=yield A(this._providers,j,G,H.token);if(this._debounceInformation.update(j,Q.elapsed()),H!==this._currentRequestCts||(this._currentRequestCts=null,Y!==j.getVersionId()))return;let te=[];ie!=null&&ie.ranges&&(te=ie.ranges),this._currentWordPattern=(ie==null?void 0:ie.wordPattern)||this._languageWordPattern;let se=!1;for(let ee=0,re=te.length;ee<re;ee++)if(r.e.containsPosition(te[ee],G)){if(se=!0,ee!==0){const he=te[ee];te.splice(ee,1),te.unshift(he)}break}if(!se){this.clearRanges();return}const ne=te.map(ee=>({range:ee,options:b.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations.set(ne),this._syncRangesToken++}catch(Q){(0,S.n2)(Q)||(0,S.dL)(Q),(this._currentRequestCts===H||!this._currentRequestCts)&&this.clearRanges()}})}};K.ID="editor.contrib.linkedEditing",K.DECORATION=n.qx.register({description:"linked-editing",stickiness:0,className:V}),K=b=_([N(1,l.i6),N(2,D.p),N(3,c.c_),N(4,y.A)],K);class Z extends m.R6{constructor(){super({id:"editor.action.linkedEditing",label:u.NC("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:l.Ao.and(i.u.writable,i.u.hasRenameProvider),kbOpts:{kbExpr:i.u.editorTextFocus,primary:3132,weight:100}})}runCommand(W,G){const j=W.get(g.$),[Y,H]=Array.isArray(G)&&G||[void 0,void 0];return w.o.isUri(Y)&&a.L.isIPosition(H)?j.openCodeEditor({resource:Y},j.getActiveCodeEditor()).then(Q=>{Q&&(Q.setPosition(H),Q.invokeWithinContext(ie=>(this.reportTelemetry(ie,Q),this.run(ie,Q))))},S.dL):super.runCommand(W,G)}run(W,G){const j=K.get(G);return j?Promise.resolve(j.updateRanges(!0)):Promise.resolve()}}const z=m._l.bindToContribution(K.get);(0,m.fK)(new z({id:"cancelLinkedEditingInput",precondition:k,handler:I=>I.clearRanges(),kbOpts:{kbExpr:i.u.editorTextFocus,weight:199,primary:9,secondary:[1033]}}));function A(I,W,G,j){const Y=I.ordered(W);return(0,B.Ps)(Y.map(H=>()=>Ft(this,null,function*(){try{return yield H.provideLinkedEditingRanges(W,G,j)}catch(Q){(0,S.Cp)(Q);return}})),H=>!!H&&o.Of(H==null?void 0:H.ranges))}const P=(0,f.P6G)("editor.linkedEditingBackground",{dark:O.Il.fromHex("#f00").transparent(.3),light:O.Il.fromHex("#f00").transparent(.3),hcDark:O.Il.fromHex("#f00").transparent(.3),hcLight:O.Il.white},u.NC("editorLinkedEditingBackground","Background color when the editor auto renames on type."));(0,m.sb)("_executeLinkedEditingProvider",(I,W,G)=>{const{linkedEditingRangeProvider:j}=I.get(D.p);return A(j,W,G,x.Ts.None)}),(0,m._K)(K.ID,K,1),(0,m.Qr)(Z)},51830:function(et,Le,e){"use strict";var o=e(74696),B=e(65642),x=e(25602),O=e(60473),S=e(45029),p=e(91649),E=e(15122),R=e(2644),w=e(32368),m=e(10058),g=e(92635),a=e(93059),r=e(81580),i=e(70546),n=e(50835),c=e(71221),u=e(26974),l=e(4694),D=e(12692),f=e(83349);class y{constructor(j,Y){this._link=j,this._provider=Y}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(j){return Ft(this,null,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,j)).then(Y=>(this._link=Y||this._link,this._link.url?this.resolve(j):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}class C{constructor(j){this._disposables=new S.SL;let Y=[];for(const[H,Q]of j){const ie=H.links.map(te=>new y(te,Q));Y=C._union(Y,ie),(0,S.Wf)(H)&&this._disposables.add(H)}this.links=Y}dispose(){this._disposables.dispose(),this.links.length=0}static _union(j,Y){const H=[];let Q,ie,te,se;for(Q=0,te=0,ie=j.length,se=Y.length;Q<ie&&te<se;){const ne=j[Q],ee=Y[te];if(l.e.areIntersectingOrTouching(ne.range,ee.range)){Q++;continue}l.e.compareRangesUsingStarts(ne.range,ee.range)<0?(H.push(ne),Q++):(H.push(ee),te++)}for(;Q<ie;Q++)H.push(j[Q]);for(;te<se;te++)H.push(Y[te]);return H}}function _(G,j,Y){const H=[],Q=G.ordered(j).reverse().map((ie,te)=>Promise.resolve(ie.provideLinks(j,Y)).then(se=>{se&&(H[te]=[se,ie])},x.Cp));return Promise.all(Q).then(()=>{const ie=new C((0,c.kX)(H));return Y.isCancellationRequested?(ie.dispose(),new C([])):ie})}f.P.registerCommand("_executeLinkProvider",(G,...j)=>Ft(this,null,function*(){let[Y,H]=j;(0,u.p_)(Y instanceof m.o),typeof H!="number"&&(H=0);const{linkProvider:Q}=G.get(i.p),ie=G.get(D.q).getModel(Y);if(!ie)return[];const te=yield _(Q,ie,B.Ts.None);if(!te)return[];for(let ne=0;ne<Math.min(H,te.links.length);ne++)yield te.links[ne].resolve(B.Ts.None);const se=te.links.slice(0);return te.dispose(),se}));var N=e(61652),b=e(52994),k=e(27473),V=function(G,j,Y,H){var Q=arguments.length,ie=Q<3?j:H===null?H=Object.getOwnPropertyDescriptor(j,Y):H,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ie=Reflect.decorate(G,j,Y,H);else for(var se=G.length-1;se>=0;se--)(te=G[se])&&(ie=(Q<3?te(ie):Q>3?te(j,Y,ie):te(j,Y))||ie);return Q>3&&ie&&Object.defineProperty(j,Y,ie),ie},K=function(G,j){return function(Y,H){j(Y,H,G)}},Z;let z=Z=class extends S.JT{static get(j){return j.getContribution(Z.ID)}constructor(j,Y,H,Q,ie){super(),this.editor=j,this.openerService=Y,this.notificationService=H,this.languageFeaturesService=Q,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=ie.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new o.pY(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const te=this._register(new n.yN(j));this._register(te.onMouseMoveOrRelevantKeyDown(([se,ne])=>{this._onEditorMouseMove(se,ne)})),this._register(te.onExecute(se=>{this.onEditorMouseUp(se)})),this._register(te.onCancel(se=>{this.cleanUpActiveLinkDecoration()})),this._register(j.onDidChangeConfiguration(se=>{se.hasChanged(71)&&(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(j.onDidChangeModelContent(se=>{this.editor.hasModel()&&this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(j.onDidChangeModel(se=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(j.onDidChangeModelLanguage(se=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(se=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}computeLinksNow(){return Ft(this,null,function*(){if(!this.editor.hasModel()||!this.editor.getOption(71))return;const j=this.editor.getModel();if(!j.isTooLargeForSyncing()&&this.providers.has(j)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=(0,o.PG)(Y=>_(this.providers,j,Y));try{const Y=new w.G(!1);if(this.activeLinksList=yield this.computePromise,this.debounceInformation.update(j,Y.elapsed()),j.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(Y){(0,x.dL)(Y)}finally{this.computePromise=null}}})}updateDecorations(j){const Y=this.editor.getOption(78)==="altKey",H=[],Q=Object.keys(this.currentOccurrences);for(const te of Q){const se=this.currentOccurrences[te];H.push(se.decorationId)}const ie=[];if(j)for(const te of j)ie.push(P.decoration(te,Y));this.editor.changeDecorations(te=>{const se=te.deltaDecorations(H,ie);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let ne=0,ee=se.length;ne<ee;ne++){const re=new P(j[ne],se[ne]);this.currentOccurrences[re.decorationId]=re}})}_onEditorMouseMove(j,Y){const H=this.editor.getOption(78)==="altKey";if(this.isEnabled(j,Y)){this.cleanUpActiveLinkDecoration();const Q=this.getLinkOccurrence(j.target.position);Q&&this.editor.changeDecorations(ie=>{Q.activate(ie,H),this.activeLinkDecorationId=Q.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const j=this.editor.getOption(78)==="altKey";if(this.activeLinkDecorationId){const Y=this.currentOccurrences[this.activeLinkDecorationId];Y&&this.editor.changeDecorations(H=>{Y.deactivate(H,j)}),this.activeLinkDecorationId=null}}onEditorMouseUp(j){if(!this.isEnabled(j))return;const Y=this.getLinkOccurrence(j.target.position);Y&&this.openLinkOccurrence(Y,j.hasSideBySideModifier,!0)}openLinkOccurrence(j,Y,H=!1){if(!this.openerService)return;const{link:Q}=j;Q.resolve(B.Ts.None).then(ie=>{if(typeof ie=="string"&&this.editor.hasModel()){const te=this.editor.getModel().uri;if(te.scheme===p.lg.file&&ie.startsWith(`${p.lg.file}:`)){const se=m.o.parse(ie);if(se.scheme===p.lg.file){const ne=R.z_(se);let ee=null;ne.startsWith("/./")||ne.startsWith("\\.\\")?ee=`.${ne.substr(1)}`:(ne.startsWith("//./")||ne.startsWith("\\\\.\\"))&&(ee=`.${ne.substr(2)}`),ee&&(ie=R.Vo(te,ee))}}}return this.openerService.open(ie,{openToSide:Y,fromUserGesture:H,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})},ie=>{const te=ie instanceof Error?ie.message:ie;te==="invalid"?this.notificationService.warn(N.NC("invalid.url","Failed to open this link because it is not well-formed: {0}",Q.url.toString())):te==="missing"?this.notificationService.warn(N.NC("missing.url","Failed to open this link because its target is missing.")):(0,x.dL)(ie)})}getLinkOccurrence(j){if(!this.editor.hasModel()||!j)return null;const Y=this.editor.getModel().getDecorationsInRange({startLineNumber:j.lineNumber,startColumn:j.column,endLineNumber:j.lineNumber,endColumn:j.column},0,!0);for(const H of Y){const Q=this.currentOccurrences[H.id];if(Q)return Q}return null}isEnabled(j,Y){return!!(j.target.type===6&&(j.hasTriggerModifier||Y&&Y.keyCodeIsTriggerKey))}stop(){var j;this.computeLinks.cancel(),this.activeLinksList&&((j=this.activeLinksList)===null||j===void 0||j.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};z.ID="editor.linkDetector",z=Z=V([K(1,k.v),K(2,b.lT),K(3,i.p),K(4,r.A)],z);const A={general:a.qx.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:a.qx.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class P{static decoration(j,Y){return{range:j.range,options:P._getOptions(j,Y,!1)}}static _getOptions(j,Y,H){const Q=vi({},H?A.active:A.general);return Q.hoverMessage=I(j,Y),Q}constructor(j,Y){this.link=j,this.decorationId=Y}activate(j,Y){j.changeDecorationOptions(this.decorationId,P._getOptions(this.link,Y,!0))}deactivate(j,Y){j.changeDecorationOptions(this.decorationId,P._getOptions(this.link,Y,!1))}}function I(G,j){const Y=G.url&&/^command:/i.test(G.url.toString()),H=G.tooltip?G.tooltip:Y?N.NC("links.navigate.executeCmd","Execute command"):N.NC("links.navigate.follow","Follow link"),Q=j?E.dz?N.NC("links.navigate.kb.meta.mac","cmd + click"):N.NC("links.navigate.kb.meta","ctrl + click"):E.dz?N.NC("links.navigate.kb.alt.mac","option + click"):N.NC("links.navigate.kb.alt","alt + click");if(G.url){let ie="";if(/^command:/i.test(G.url.toString())){const se=G.url.toString().match(/^command:([^?#]+)/);if(se){const ne=se[1];ie=N.NC("tooltip.explanation","Execute command {0}",ne)}}return new O.W5("",!0).appendLink(G.url.toString(!0).replace(/ /g,"%20"),H,ie).appendMarkdown(` (${Q})`)}else return new O.W5().appendText(`${H} (${Q})`)}class W extends g.R6{constructor(){super({id:"editor.action.openLink",label:N.NC("label","Open Link"),alias:"Open Link",precondition:void 0})}run(j,Y){const H=z.get(Y);if(!H||!Y.hasModel())return;const Q=Y.getSelections();for(const ie of Q){const te=H.getLinkOccurrence(ie.getEndPosition());te&&H.openLinkOccurrence(te,!1)}}}(0,g._K)(z.ID,z,1),(0,g.Qr)(W)},74792:function(et,Le,e){"use strict";var o=e(45029),B=e(92635);class x extends o.JT{constructor(S){super(),this._editor=S,this._register(this._editor.onMouseDown(p=>{const E=this._editor.getOption(117);E>=0&&p.target.type===6&&p.target.position.column>=E&&this._editor.updateOptions({stopRenderingLineAfter:-1})}))}}x.ID="editor.contrib.longLinesHelper",(0,B._K)(x.ID,x,2)},64451:function(et,Le,e){"use strict";e.d(Le,{O:function(){return c}});var o=e(60906),B=e(91333),x=e(79329),O=e(60473),S=e(45029),p=e(92635),E=e(4694),R=e(63038),w=e(61652),m=e(80568),g=e(27473),a=e(91540),r=function(D,f,y,C){var _=arguments.length,N=_<3?f:C===null?C=Object.getOwnPropertyDescriptor(f,y):C,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(D,f,y,C);else for(var k=D.length-1;k>=0;k--)(b=D[k])&&(N=(_<3?b(N):_>3?b(f,y,N):b(f,y))||N);return _>3&&N&&Object.defineProperty(f,y,N),N},i=function(D,f){return function(y,C){f(y,C,D)}},n;let c=n=class{static get(f){return f.getContribution(n.ID)}constructor(f,y,C){this._openerService=C,this._messageWidget=new S.XK,this._messageListeners=new S.SL,this._mouseOverMessage=!1,this._editor=f,this._visible=n.MESSAGE_VISIBLE.bindTo(y)}dispose(){var f;(f=this._message)===null||f===void 0||f.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(f,y){(0,B.Z9)((0,O.Fr)(f)?f.value:f),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._message=(0,O.Fr)(f)?(0,o.ap)(f,{actionHandler:{callback:_=>{this.closeMessage(),(0,R.N)(this._openerService,_,(0,O.Fr)(f)?f.isTrusted:void 0)},disposables:this._messageListeners}}):void 0,this._messageWidget.value=new l(this._editor,y,typeof f=="string"?f:this._message.element),this._messageListeners.add(x.ju.debounce(this._editor.onDidBlurEditorText,(_,N)=>N,0)(()=>{this._mouseOverMessage||this._messageWidget.value&&a.jg(a.vY(),this._messageWidget.value.getDomNode())||this.closeMessage()})),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(a.nm(this._messageWidget.value.getDomNode(),a.tw.MOUSE_ENTER,()=>this._mouseOverMessage=!0,!0)),this._messageListeners.add(a.nm(this._messageWidget.value.getDomNode(),a.tw.MOUSE_LEAVE,()=>this._mouseOverMessage=!1,!0));let C;this._messageListeners.add(this._editor.onMouseMove(_=>{_.target.position&&(C?C.containsPosition(_.target.position)||this.closeMessage():C=new E.e(y.lineNumber-3,1,_.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(l.fadeOut(this._messageWidget.value))}};c.ID="editor.contrib.messageController",c.MESSAGE_VISIBLE=new m.uy("messageVisible",!1,w.NC("messageVisible","Whether the editor is currently showing an inline message")),c=n=r([i(1,m.i6),i(2,g.v)],c);const u=p._l.bindToContribution(c.get);(0,p.fK)(new u({id:"leaveEditorMessage",precondition:c.MESSAGE_VISIBLE,handler:D=>D.closeMessage(),kbOpts:{weight:130,primary:9}}));class l{static fadeOut(f){const y=()=>{f.dispose(),clearTimeout(C),f.getDomNode().removeEventListener("animationend",y)},C=setTimeout(y,110);return f.getDomNode().addEventListener("animationend",y),f.getDomNode().classList.add("fadeOut"),{dispose:y}}constructor(f,{lineNumber:y,column:C},_){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=f,this._editor.revealLinesInCenterIfOutsideViewport(y,y,0),this._position={lineNumber:y,column:C},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";const N=document.createElement("div");N.classList.add("anchor","top"),this._domNode.appendChild(N);const b=document.createElement("div");typeof _=="string"?(b.classList.add("message"),b.textContent=_):(_.classList.add("message"),b.appendChild(_)),this._domNode.appendChild(b);const k=document.createElement("div");k.classList.add("anchor","below"),this._domNode.appendChild(k),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(f){this._domNode.classList.toggle("below",f===2)}}(0,p._K)(c.ID,c,4)},58693:function(et,Le,e){"use strict";var o=e(91333),B=e(74696),x=e(173),O=e(45029),S=e(92635),p=e(47844),E=e(4694),R=e(14149),w=e(22706),m=e(62032),g=e(61652),a=e(69713),r=e(80568),i=e(70546),n=e(82415),c=e(87058),u=function(se,ne,ee,re){var he=arguments.length,M=he<3?ne:re===null?re=Object.getOwnPropertyDescriptor(ne,ee):re,we;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(se,ne,ee,re);else for(var We=se.length-1;We>=0;We--)(we=se[We])&&(M=(he<3?we(M):he>3?we(ne,ee,M):we(ne,ee))||M);return he>3&&M&&Object.defineProperty(ne,ee,M),M},l=function(se,ne){return function(ee,re){ne(ee,re,se)}},D;function f(se,ne){const ee=ne.filter(re=>!se.find(he=>he.equals(re)));if(ee.length>=1){const re=ee.map(M=>`line ${M.viewState.position.lineNumber} column ${M.viewState.position.column}`).join(", "),he=ee.length===1?g.NC("cursorAdded","Cursor added: {0}",re):g.NC("cursorsAdded","Cursors added: {0}",re);(0,o.i7)(he)}}class y extends S.R6{constructor(){super({id:"editor.action.insertCursorAbove",label:g.NC("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:w.u.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:a.eH.MenubarSelectionMenu,group:"3_multi",title:g.NC({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(ne,ee,re){if(!ee.hasModel())return;let he=!0;re&&re.logicalLine===!1&&(he=!1);const M=ee._getViewModel();if(M.cursorConfig.readOnly)return;M.model.pushStackElement();const we=M.getCursorStates();M.setCursorStates(re.source,3,p.P.addCursorUp(M,we,he)),M.revealTopMostCursor(re.source),f(we,M.getCursorStates())}}class C extends S.R6{constructor(){super({id:"editor.action.insertCursorBelow",label:g.NC("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:w.u.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:a.eH.MenubarSelectionMenu,group:"3_multi",title:g.NC({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(ne,ee,re){if(!ee.hasModel())return;let he=!0;re&&re.logicalLine===!1&&(he=!1);const M=ee._getViewModel();if(M.cursorConfig.readOnly)return;M.model.pushStackElement();const we=M.getCursorStates();M.setCursorStates(re.source,3,p.P.addCursorDown(M,we,he)),M.revealBottomMostCursor(re.source),f(we,M.getCursorStates())}}class _ extends S.R6{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:g.NC("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:w.u.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:a.eH.MenubarSelectionMenu,group:"3_multi",title:g.NC({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(ne,ee,re){if(!ne.isEmpty()){for(let he=ne.startLineNumber;he<ne.endLineNumber;he++){const M=ee.getLineMaxColumn(he);re.push(new R.Y(he,M,he,M))}ne.endColumn>1&&re.push(new R.Y(ne.endLineNumber,ne.endColumn,ne.endLineNumber,ne.endColumn))}}run(ne,ee){if(!ee.hasModel())return;const re=ee.getModel(),he=ee.getSelections(),M=ee._getViewModel(),we=M.getCursorStates(),We=[];he.forEach(ye=>this.getCursorsForSelection(ye,re,We)),We.length>0&&ee.setSelections(We),f(we,M.getCursorStates())}}class N extends S.R6{constructor(){super({id:"editor.action.addCursorsToBottom",label:g.NC("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(ne,ee){if(!ee.hasModel())return;const re=ee.getSelections(),he=ee.getModel().getLineCount(),M=[];for(let ye=re[0].startLineNumber;ye<=he;ye++)M.push(new R.Y(ye,re[0].startColumn,ye,re[0].endColumn));const we=ee._getViewModel(),We=we.getCursorStates();M.length>0&&ee.setSelections(M),f(We,we.getCursorStates())}}class b extends S.R6{constructor(){super({id:"editor.action.addCursorsToTop",label:g.NC("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(ne,ee){if(!ee.hasModel())return;const re=ee.getSelections(),he=[];for(let We=re[0].startLineNumber;We>=1;We--)he.push(new R.Y(We,re[0].startColumn,We,re[0].endColumn));const M=ee._getViewModel(),we=M.getCursorStates();he.length>0&&ee.setSelections(he),f(we,M.getCursorStates())}}class k{constructor(ne,ee,re){this.selections=ne,this.revealRange=ee,this.revealScrollType=re}}class V{static create(ne,ee){if(!ne.hasModel())return null;const re=ee.getState();if(!ne.hasTextFocus()&&re.isRevealed&&re.searchString.length>0)return new V(ne,ee,!1,re.searchString,re.wholeWord,re.matchCase,null);let he=!1,M,we;const We=ne.getSelections();We.length===1&&We[0].isEmpty()?(he=!0,M=!0,we=!0):(M=re.wholeWord,we=re.matchCase);const ye=ne.getSelection();let X,ve=null;if(ye.isEmpty()){const Ee=ne.getConfiguredWordAtPosition(ye.getStartPosition());if(!Ee)return null;X=Ee.word,ve=new R.Y(ye.startLineNumber,Ee.startColumn,ye.startLineNumber,Ee.endColumn)}else X=ne.getModel().getValueInRange(ye).replace(/\r\n/g,`
`);return new V(ne,ee,he,X,M,we,ve)}constructor(ne,ee,re,he,M,we,We){this._editor=ne,this.findController=ee,this.isDisconnectedFromFindController=re,this.searchText=he,this.wholeWord=M,this.matchCase=we,this.currentMatch=We}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const ne=this._getNextMatch();if(!ne)return null;const ee=this._editor.getSelections();return new k(ee.concat(ne),ne,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const ne=this._getNextMatch();if(!ne)return null;const ee=this._editor.getSelections();return new k(ee.slice(0,ee.length-1).concat(ne),ne,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const he=this.currentMatch;return this.currentMatch=null,he}this.findController.highlightFindOptions();const ne=this._editor.getSelections(),ee=ne[ne.length-1],re=this._editor.getModel().findNextMatch(this.searchText,ee.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(131):null,!1);return re?new R.Y(re.range.startLineNumber,re.range.startColumn,re.range.endLineNumber,re.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const ne=this._getPreviousMatch();if(!ne)return null;const ee=this._editor.getSelections();return new k(ee.concat(ne),ne,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const ne=this._getPreviousMatch();if(!ne)return null;const ee=this._editor.getSelections();return new k(ee.slice(0,ee.length-1).concat(ne),ne,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const he=this.currentMatch;return this.currentMatch=null,he}this.findController.highlightFindOptions();const ne=this._editor.getSelections(),ee=ne[ne.length-1],re=this._editor.getModel().findPreviousMatch(this.searchText,ee.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(131):null,!1);return re?new R.Y(re.range.startLineNumber,re.range.startColumn,re.range.endLineNumber,re.range.endColumn):null}selectAll(ne){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();const ee=this._editor.getModel();return ne?ee.findMatches(this.searchText,ne,!1,this.matchCase,this.wholeWord?this._editor.getOption(131):null,!1,1073741824):ee.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(131):null,!1,1073741824)}}class K extends O.JT{static get(ne){return ne.getContribution(K.ID)}constructor(ne){super(),this._sessionDispose=this._register(new O.SL),this._editor=ne,this._ignoreSelectionChange=!1,this._session=null}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(ne){if(!this._session){const ee=V.create(this._editor,ne);if(!ee)return;this._session=ee;const re={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(re.wholeWordOverride=1,re.matchCaseOverride=1,re.isRegexOverride=2),ne.getState().change(re,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(he=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(ne.getState().onFindReplaceStateChange(he=>{(he.matchCase||he.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const ne={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(ne,!1)}this._session=null}_setSelections(ne){this._ignoreSelectionChange=!0,this._editor.setSelections(ne),this._ignoreSelectionChange=!1}_expandEmptyToWord(ne,ee){if(!ee.isEmpty())return ee;const re=this._editor.getConfiguredWordAtPosition(ee.getStartPosition());return re?new R.Y(ee.startLineNumber,re.startColumn,ee.startLineNumber,re.endColumn):ee}_applySessionResult(ne){ne&&(this._setSelections(ne.selections),ne.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(ne.revealRange,ne.revealScrollType))}getSession(ne){return this._session}addSelectionToNextFindMatch(ne){if(this._editor.hasModel()){if(!this._session){const ee=this._editor.getSelections();if(ee.length>1){const he=ne.getState().matchCase;if(!H(this._editor.getModel(),ee,he)){const we=this._editor.getModel(),We=[];for(let ye=0,X=ee.length;ye<X;ye++)We[ye]=this._expandEmptyToWord(we,ee[ye]);this._editor.setSelections(We);return}}}this._beginSessionIfNeeded(ne),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(ne){this._beginSessionIfNeeded(ne),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(ne){this._beginSessionIfNeeded(ne),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(ne){this._beginSessionIfNeeded(ne),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(ne){if(!this._editor.hasModel())return;let ee=null;const re=ne.getState();if(re.isRevealed&&re.searchString.length>0&&re.isRegex){const he=this._editor.getModel();re.searchScope?ee=he.findMatches(re.searchString,re.searchScope,re.isRegex,re.matchCase,re.wholeWord?this._editor.getOption(131):null,!1,1073741824):ee=he.findMatches(re.searchString,!0,re.isRegex,re.matchCase,re.wholeWord?this._editor.getOption(131):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(ne),!this._session)return;ee=this._session.selectAll(re.searchScope)}if(ee.length>0){const he=this._editor.getSelection();for(let M=0,we=ee.length;M<we;M++){const We=ee[M];if(We.range.intersectRanges(he)){ee[M]=ee[0],ee[0]=We;break}}this._setSelections(ee.map(M=>new R.Y(M.range.startLineNumber,M.range.startColumn,M.range.endLineNumber,M.range.endColumn)))}}}K.ID="editor.contrib.multiCursorController";class Z extends S.R6{run(ne,ee){const re=K.get(ee);if(!re)return;const he=ee._getViewModel();if(he){const M=he.getCursorStates(),we=m.pR.get(ee);if(we)this._run(re,we);else{const We=ne.get(c.TG).createInstance(m.pR,ee);this._run(re,We),We.dispose()}f(M,he.getCursorStates())}}}class z extends Z{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:g.NC("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:w.u.focus,primary:2082,weight:100},menuOpts:{menuId:a.eH.MenubarSelectionMenu,group:"3_multi",title:g.NC({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(ne,ee){ne.addSelectionToNextFindMatch(ee)}}class A extends Z{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:g.NC("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:a.eH.MenubarSelectionMenu,group:"3_multi",title:g.NC({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(ne,ee){ne.addSelectionToPreviousFindMatch(ee)}}class P extends Z{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:g.NC("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:w.u.focus,primary:(0,x.gx)(2089,2082),weight:100}})}_run(ne,ee){ne.moveSelectionToNextFindMatch(ee)}}class I extends Z{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:g.NC("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(ne,ee){ne.moveSelectionToPreviousFindMatch(ee)}}class W extends Z{constructor(){super({id:"editor.action.selectHighlights",label:g.NC("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:w.u.focus,primary:3114,weight:100},menuOpts:{menuId:a.eH.MenubarSelectionMenu,group:"3_multi",title:g.NC({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(ne,ee){ne.selectAll(ee)}}class G extends Z{constructor(){super({id:"editor.action.changeAll",label:g.NC("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:r.Ao.and(w.u.writable,w.u.editorTextFocus),kbOpts:{kbExpr:w.u.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(ne,ee){ne.selectAll(ee)}}class j{constructor(ne,ee,re,he,M){this._model=ne,this._searchText=ee,this._matchCase=re,this._wordSeparators=he,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,M&&this._model===M._model&&this._searchText===M._searchText&&this._matchCase===M._matchCase&&this._wordSeparators===M._wordSeparators&&this._modelVersionId===M._modelVersionId&&(this._cachedFindMatches=M._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(ne=>ne.range),this._cachedFindMatches.sort(E.e.compareRangesUsingStarts)),this._cachedFindMatches}}let Y=D=class extends O.JT{constructor(ne,ee){super(),this._languageFeaturesService=ee,this.editor=ne,this._isEnabled=ne.getOption(108),this._decorations=ne.createDecorationsCollection(),this.updateSoon=this._register(new B.pY(()=>this._update(),300)),this.state=null,this._register(ne.onDidChangeConfiguration(he=>{this._isEnabled=ne.getOption(108)})),this._register(ne.onDidChangeCursorSelection(he=>{this._isEnabled&&(he.selection.isEmpty()?he.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(ne.onDidChangeModel(he=>{this._setState(null)})),this._register(ne.onDidChangeModelContent(he=>{this._isEnabled&&this.updateSoon.schedule()}));const re=m.pR.get(ne);re&&this._register(re.getState().onFindReplaceStateChange(he=>{this._update()})),this.updateSoon.schedule()}_update(){this._setState(D._createState(this.state,this._isEnabled,this.editor))}static _createState(ne,ee,re){if(!ee||!re.hasModel())return null;const he=re.getSelection();if(he.startLineNumber!==he.endLineNumber)return null;const M=K.get(re);if(!M)return null;const we=m.pR.get(re);if(!we)return null;let We=M.getSession(we);if(!We){const ve=re.getSelections();if(ve.length>1){const Oe=we.getState().matchCase;if(!H(re.getModel(),ve,Oe))return null}We=V.create(re,we)}if(!We||We.currentMatch||/^[ \t]+$/.test(We.searchText)||We.searchText.length>200)return null;const ye=we.getState(),X=ye.matchCase;if(ye.isRevealed){let ve=ye.searchString;X||(ve=ve.toLowerCase());let Ee=We.searchText;if(X||(Ee=Ee.toLowerCase()),ve===Ee&&We.matchCase===ye.matchCase&&We.wholeWord===ye.wholeWord&&!ye.isRegex)return null}return new j(re.getModel(),We.searchText,We.matchCase,We.wholeWord?re.getOption(131):null,ne)}_setState(ne){if(this.state=ne,!this.state){this._decorations.clear();return}if(!this.editor.hasModel())return;const ee=this.editor.getModel();if(ee.isTooLargeForTokenization())return;const re=this.state.findMatches(),he=this.editor.getSelections();he.sort(E.e.compareRangesUsingStarts);const M=[];for(let X=0,ve=0,Ee=re.length,Oe=he.length;X<Ee;){const Ke=re[X];if(ve>=Oe)M.push(Ke),X++;else{const Qe=E.e.compareRangesUsingStarts(Ke,he[ve]);Qe<0?((he[ve].isEmpty()||!E.e.areIntersecting(Ke,he[ve]))&&M.push(Ke),X++):(Qe>0||X++,ve++)}}const we=this.editor.getOption(81)!=="off",We=this._languageFeaturesService.documentHighlightProvider.has(ee)&&we,ye=M.map(X=>({range:X,options:(0,n.w)(We)}));this._decorations.set(ye)}dispose(){this._setState(null),super.dispose()}};Y.ID="editor.contrib.selectionHighlighter",Y=D=u([l(1,i.p)],Y);function H(se,ne,ee){const re=Q(se,ne[0],!ee);for(let he=1,M=ne.length;he<M;he++){const we=ne[he];if(we.isEmpty())return!1;const We=Q(se,we,!ee);if(re!==We)return!1}return!0}function Q(se,ne,ee){const re=se.getValueInRange(ne);return ee?re.toLowerCase():re}class ie extends S.R6{constructor(){super({id:"editor.action.focusNextCursor",label:g.NC("mutlicursor.focusNextCursor","Focus Next Cursor"),metadata:{description:g.NC("mutlicursor.focusNextCursor.description","Focuses the next cursor"),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run(ne,ee,re){if(!ee.hasModel())return;const he=ee._getViewModel();if(he.cursorConfig.readOnly)return;he.model.pushStackElement();const M=Array.from(he.getCursorStates()),we=M.shift();we&&(M.push(we),he.setCursorStates(re.source,3,M),he.revealPrimaryCursor(re.source,!0),f(M,he.getCursorStates()))}}class te extends S.R6{constructor(){super({id:"editor.action.focusPreviousCursor",label:g.NC("mutlicursor.focusPreviousCursor","Focus Previous Cursor"),metadata:{description:g.NC("mutlicursor.focusPreviousCursor.description","Focuses the previous cursor"),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run(ne,ee,re){if(!ee.hasModel())return;const he=ee._getViewModel();if(he.cursorConfig.readOnly)return;he.model.pushStackElement();const M=Array.from(he.getCursorStates()),we=M.pop();we&&(M.unshift(we),he.setCursorStates(re.source,3,M),he.revealPrimaryCursor(re.source,!0),f(M,he.getCursorStates()))}}(0,S._K)(K.ID,K,4),(0,S._K)(Y.ID,Y,1),(0,S.Qr)(y),(0,S.Qr)(C),(0,S.Qr)(_),(0,S.Qr)(z),(0,S.Qr)(A),(0,S.Qr)(P),(0,S.Qr)(I),(0,S.Qr)(W),(0,S.Qr)(G),(0,S.Qr)(N),(0,S.Qr)(b),(0,S.Qr)(ie),(0,S.Qr)(te)},52293:function(et,Le,e){"use strict";var o=e(20359),B=e(45029),x=e(92635),O=e(22706),S=e(91895),p=e(70546),E=e(74696),R=e(25602),w=e(79329),m=e(89925),g=e(65642),a=e(26974),r=e(10058),i=e(93895),n=e(21592),c=e(83349),u=e(80568);const l={Visible:new u.uy("parameterHintsVisible",!1),MultipleSignatures:new u.uy("parameterHintsMultipleSignatures",!1)};function D(ye,X,ve,Ee,Oe){return Ft(this,null,function*(){const Ke=ye.ordered(X);for(const Qe of Ke)try{const fe=yield Qe.provideSignatureHelp(X,ve,Oe,Ee);if(fe)return fe}catch(fe){(0,R.Cp)(fe)}})}c.P.registerCommand("_executeSignatureHelpProvider",(ye,...X)=>Ft(this,null,function*(){const[ve,Ee,Oe]=X;(0,a.p_)(r.o.isUri(ve)),(0,a.p_)(i.L.isIPosition(Ee)),(0,a.p_)(typeof Oe=="string"||!Oe);const Ke=ye.get(p.p),Qe=yield ye.get(n.S).createModelReference(ve);try{const fe=yield D(Ke.signatureHelpProvider,Qe.object.textEditorModel,i.L.lift(Ee),{triggerKind:S.WW.Invoke,isRetrigger:!1,triggerCharacter:Oe},g.Ts.None);return fe?(setTimeout(()=>fe.dispose(),0),fe.value):void 0}finally{Qe.dispose()}}));var f;(function(ye){ye.Default={type:0};class X{constructor(Oe,Ke){this.request=Oe,this.previouslyActiveHints=Ke,this.type=2}}ye.Pending=X;class ve{constructor(Oe){this.hints=Oe,this.type=1}}ye.Active=ve})(f||(f={}));class y extends B.JT{constructor(X,ve,Ee=y.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new w.Q5),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=f.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new B.XK),this.triggerChars=new m.q,this.retriggerChars=new m.q,this.triggerId=0,this.editor=X,this.providers=ve,this.throttledDelayer=new E.vp(Ee),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(Oe=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(Oe=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(Oe=>this.onCursorChange(Oe))),this._register(this.editor.onDidChangeModelContent(Oe=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(Oe=>this.onDidType(Oe))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(X){this._state.type===2&&this._state.request.cancel(),this._state=X}cancel(X=!1){this.state=f.Default,this.throttledDelayer.cancel(),X||this._onChangedHints.fire(void 0)}trigger(X,ve){const Ee=this.editor.getModel();if(!Ee||!this.providers.has(Ee))return;const Oe=++this.triggerId;this._pendingTriggers.push(X),this.throttledDelayer.trigger(()=>this.doTrigger(Oe),ve).catch(R.dL)}next(){if(this.state.type!==1)return;const X=this.state.hints.signatures.length,ve=this.state.hints.activeSignature,Ee=ve%X===X-1,Oe=this.editor.getOption(86).cycle;if((X<2||Ee)&&!Oe){this.cancel();return}this.updateActiveSignature(Ee&&Oe?0:ve+1)}previous(){if(this.state.type!==1)return;const X=this.state.hints.signatures.length,ve=this.state.hints.activeSignature,Ee=ve===0,Oe=this.editor.getOption(86).cycle;if((X<2||Ee)&&!Oe){this.cancel();return}this.updateActiveSignature(Ee&&Oe?X-1:ve-1)}updateActiveSignature(X){this.state.type===1&&(this.state=new f.Active(Ki(vi({},this.state.hints),{activeSignature:X})),this._onChangedHints.fire(this.state.hints))}doTrigger(X){return Ft(this,null,function*(){const ve=this.state.type===1||this.state.type===2,Ee=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const Oe=this._pendingTriggers.reduce(C);this._pendingTriggers=[];const Ke={triggerKind:Oe.triggerKind,triggerCharacter:Oe.triggerCharacter,isRetrigger:ve,activeSignatureHelp:Ee};if(!this.editor.hasModel())return!1;const Qe=this.editor.getModel(),fe=this.editor.getPosition();this.state=new f.Pending((0,E.PG)($=>D(this.providers,Qe,fe,Ke,$)),Ee);try{const $=yield this.state.request;return X!==this.triggerId?($==null||$.dispose(),!1):!$||!$.value.signatures||$.value.signatures.length===0?($==null||$.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new f.Active($.value),this._lastSignatureHelpResult.value=$,this._onChangedHints.fire(this.state.hints),!0)}catch($){return X===this.triggerId&&(this.state=f.Default),(0,R.dL)($),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars.clear(),this.retriggerChars.clear();const X=this.editor.getModel();if(X)for(const ve of this.providers.ordered(X)){for(const Ee of ve.signatureHelpTriggerCharacters||[])if(Ee.length){const Oe=Ee.charCodeAt(0);this.triggerChars.add(Oe),this.retriggerChars.add(Oe)}for(const Ee of ve.signatureHelpRetriggerCharacters||[])Ee.length&&this.retriggerChars.add(Ee.charCodeAt(0))}}onDidType(X){if(!this.triggerOnType)return;const ve=X.length-1,Ee=X.charCodeAt(ve);(this.triggerChars.has(Ee)||this.isTriggered&&this.retriggerChars.has(Ee))&&this.trigger({triggerKind:S.WW.TriggerCharacter,triggerCharacter:X.charAt(ve)})}onCursorChange(X){X.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:S.WW.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:S.WW.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(86).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}y.DEFAULT_DELAY=120;function C(ye,X){switch(X.triggerKind){case S.WW.Invoke:return X;case S.WW.ContentChange:return ye;case S.WW.TriggerCharacter:default:return X}}var _=e(61652),N=e(87058),b=e(91540),k=e(91333),V=e(16846),K=e(24752),Z=e(30144),z=e(50131),A=e(63038),P=e(27473),I=e(97341),W=e(76557),G=e(68777),j=function(ye,X,ve,Ee){var Oe=arguments.length,Ke=Oe<3?X:Ee===null?Ee=Object.getOwnPropertyDescriptor(X,ve):Ee,Qe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ke=Reflect.decorate(ye,X,ve,Ee);else for(var fe=ye.length-1;fe>=0;fe--)(Qe=ye[fe])&&(Ke=(Oe<3?Qe(Ke):Oe>3?Qe(X,ve,Ke):Qe(X,ve))||Ke);return Oe>3&&Ke&&Object.defineProperty(X,ve,Ke),Ke},Y=function(ye,X){return function(ve,Ee){X(ve,Ee,ye)}},H;const Q=b.$,ie=(0,W.q5)("parameter-hints-next",K.l.chevronDown,_.NC("parameterHintsNextIcon","Icon for show next parameter hint.")),te=(0,W.q5)("parameter-hints-previous",K.l.chevronUp,_.NC("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let se=H=class extends B.JT{constructor(X,ve,Ee,Oe,Ke){super(),this.editor=X,this.model=ve,this.renderDisposeables=this._register(new B.SL),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new A.$({editor:X},Ke,Oe)),this.keyVisible=l.Visible.bindTo(Ee),this.keyMultipleSignatures=l.MultipleSignatures.bindTo(Ee)}createParameterHintDOMNodes(){const X=Q(".editor-widget.parameter-hints-widget"),ve=b.R3(X,Q(".phwrapper"));ve.tabIndex=-1;const Ee=b.R3(ve,Q(".controls")),Oe=b.R3(Ee,Q(".button"+G.k.asCSSSelector(te))),Ke=b.R3(Ee,Q(".overloads")),Qe=b.R3(Ee,Q(".button"+G.k.asCSSSelector(ie)));this._register(b.nm(Oe,"click",Ce=>{b.zB.stop(Ce),this.previous()})),this._register(b.nm(Qe,"click",Ce=>{b.zB.stop(Ce),this.next()}));const fe=Q(".body"),$=new V.s$(fe,{alwaysConsumeMouseWheel:!0});this._register($),ve.appendChild($.getDomNode());const le=b.R3(fe,Q(".signature")),De=b.R3(fe,Q(".docs"));X.style.userSelect="text",this.domNodes={element:X,signature:le,overloads:Ke,docs:De,scrollbar:$},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(Ce=>{this.visible&&this.editor.layoutContentWidget(this)}));const xe=()=>{if(!this.domNodes)return;const Ce=this.editor.getOption(50);this.domNodes.element.style.fontSize=`${Ce.fontSize}px`,this.domNodes.element.style.lineHeight=`${Ce.lineHeight/Ce.fontSize}`};xe(),this._register(w.ju.chain(this.editor.onDidChangeConfiguration.bind(this.editor),Ce=>Ce.filter(me=>me.hasChanged(50)))(xe)),this._register(this.editor.onDidLayoutChange(Ce=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{var X;(X=this.domNodes)===null||X===void 0||X.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){var X;this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,(X=this.domNodes)===null||X===void 0||X.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(X){var ve;if(this.renderDisposeables.clear(),!this.domNodes)return;const Ee=X.signatures.length>1;this.domNodes.element.classList.toggle("multiple",Ee),this.keyMultipleSignatures.set(Ee),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const Oe=X.signatures[X.activeSignature];if(!Oe)return;const Ke=b.R3(this.domNodes.signature,Q(".code")),Qe=this.editor.getOption(50);Ke.style.fontSize=`${Qe.fontSize}px`,Ke.style.fontFamily=Qe.fontFamily;const fe=Oe.parameters.length>0,$=(ve=Oe.activeParameter)!==null&&ve!==void 0?ve:X.activeParameter;if(fe)this.renderParameters(Ke,Oe,$);else{const xe=b.R3(Ke,Q("span"));xe.textContent=Oe.label}const le=Oe.parameters[$];if(le!=null&&le.documentation){const xe=Q("span.documentation");if(typeof le.documentation=="string")xe.textContent=le.documentation;else{const Ce=this.renderMarkdownDocs(le.documentation);xe.appendChild(Ce.element)}b.R3(this.domNodes.docs,Q("p",{},xe))}if(Oe.documentation!==void 0)if(typeof Oe.documentation=="string")b.R3(this.domNodes.docs,Q("p",{},Oe.documentation));else{const xe=this.renderMarkdownDocs(Oe.documentation);b.R3(this.domNodes.docs,xe.element)}const De=this.hasDocs(Oe,le);if(this.domNodes.signature.classList.toggle("has-docs",De),this.domNodes.docs.classList.toggle("empty",!De),this.domNodes.overloads.textContent=String(X.activeSignature+1).padStart(X.signatures.length.toString().length,"0")+"/"+X.signatures.length,le){let xe="";const Ce=Oe.parameters[$];Array.isArray(Ce.label)?xe=Oe.label.substring(Ce.label[0],Ce.label[1]):xe=Ce.label,Ce.documentation&&(xe+=typeof Ce.documentation=="string"?`, ${Ce.documentation}`:`, ${Ce.documentation.value}`),Oe.documentation&&(xe+=typeof Oe.documentation=="string"?`, ${Oe.documentation}`:`, ${Oe.documentation.value}`),this.announcedLabel!==xe&&(k.Z9(_.NC("hint","{0}, hint",xe)),this.announcedLabel=xe)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(X){const ve=this.renderDisposeables.add(this.markdownRenderer.render(X,{asyncRenderCallback:()=>{var Ee;(Ee=this.domNodes)===null||Ee===void 0||Ee.scrollbar.scanDomNode()}}));return ve.element.classList.add("markdown-docs"),ve}hasDocs(X,ve){return!!(ve&&typeof ve.documentation=="string"&&(0,a.cW)(ve.documentation).length>0||ve&&typeof ve.documentation=="object"&&(0,a.cW)(ve.documentation).value.length>0||X.documentation&&typeof X.documentation=="string"&&(0,a.cW)(X.documentation).length>0||X.documentation&&typeof X.documentation=="object"&&(0,a.cW)(X.documentation.value).length>0)}renderParameters(X,ve,Ee){const[Oe,Ke]=this.getParameterLabelOffsets(ve,Ee),Qe=document.createElement("span");Qe.textContent=ve.label.substring(0,Oe);const fe=document.createElement("span");fe.textContent=ve.label.substring(Oe,Ke),fe.className="parameter active";const $=document.createElement("span");$.textContent=ve.label.substring(Ke),b.R3(X,Qe,fe,$)}getParameterLabelOffsets(X,ve){const Ee=X.parameters[ve];if(Ee){if(Array.isArray(Ee.label))return Ee.label;if(Ee.label.length){const Oe=new RegExp(`(\\W|^)${(0,Z.ec)(Ee.label)}(?=\\W|$)`,"g");Oe.test(X.label);const Ke=Oe.lastIndex-Ee.label.length;return Ke>=0?[Ke,Oe.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return H.ID}updateMaxHeight(){if(!this.domNodes)return;const ve=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=ve;const Ee=this.domNodes.element.getElementsByClassName("phwrapper");Ee.length&&(Ee[0].style.maxHeight=ve)}};se.ID="editor.widget.parameterHintsWidget",se=H=j([Y(2,u.i6),Y(3,P.v),Y(4,z.O)],se),(0,I.P6G)("editorHoverWidget.highlightForeground",{dark:I.Gwp,light:I.Gwp,hcDark:I.Gwp,hcLight:I.Gwp},_.NC("editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));var ne=function(ye,X,ve,Ee){var Oe=arguments.length,Ke=Oe<3?X:Ee===null?Ee=Object.getOwnPropertyDescriptor(X,ve):Ee,Qe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ke=Reflect.decorate(ye,X,ve,Ee);else for(var fe=ye.length-1;fe>=0;fe--)(Qe=ye[fe])&&(Ke=(Oe<3?Qe(Ke):Oe>3?Qe(X,ve,Ke):Qe(X,ve))||Ke);return Oe>3&&Ke&&Object.defineProperty(X,ve,Ke),Ke},ee=function(ye,X){return function(ve,Ee){X(ve,Ee,ye)}},re;let he=re=class extends B.JT{static get(X){return X.getContribution(re.ID)}constructor(X,ve,Ee){super(),this.editor=X,this.model=this._register(new y(X,Ee.signatureHelpProvider)),this._register(this.model.onChangedHints(Oe=>{var Ke;Oe?(this.widget.value.show(),this.widget.value.render(Oe)):(Ke=this.widget.rawValue)===null||Ke===void 0||Ke.hide()})),this.widget=new o.o(()=>this._register(ve.createInstance(se,this.editor,this.model)))}cancel(){this.model.cancel()}previous(){var X;(X=this.widget.rawValue)===null||X===void 0||X.previous()}next(){var X;(X=this.widget.rawValue)===null||X===void 0||X.next()}trigger(X){this.model.trigger(X,0)}};he.ID="editor.controller.parameterHints",he=re=ne([ee(1,N.TG),ee(2,p.p)],he);class M extends x.R6{constructor(){super({id:"editor.action.triggerParameterHints",label:_.NC("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:O.u.hasSignatureHelpProvider,kbOpts:{kbExpr:O.u.editorTextFocus,primary:3082,weight:100}})}run(X,ve){const Ee=he.get(ve);Ee==null||Ee.trigger({triggerKind:S.WW.Invoke})}}(0,x._K)(he.ID,he,2),(0,x.Qr)(M);const we=175,We=x._l.bindToContribution(he.get);(0,x.fK)(new We({id:"closeParameterHints",precondition:l.Visible,handler:ye=>ye.cancel(),kbOpts:{weight:we,kbExpr:O.u.focus,primary:9,secondary:[1033]}})),(0,x.fK)(new We({id:"showPrevParameterHint",precondition:u.Ao.and(l.Visible,l.MultipleSignatures),handler:ye=>ye.previous(),kbOpts:{weight:we,kbExpr:O.u.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),(0,x.fK)(new We({id:"showNextParameterHint",precondition:u.Ao.and(l.Visible,l.MultipleSignatures),handler:ye=>ye.next(),kbOpts:{weight:we,kbExpr:O.u.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))},80125:function(et,Le,e){"use strict";e.d(Le,{Fw:function(){return P},Jy:function(){return I},vk:function(){return Y},rc:function(){return G},SC:function(){return te},M8:function(){return se},KY:function(){return H},IH:function(){return Q},R7:function(){return ie}});var o=e(91540),B=e(318),x=e(43263),O=e(24752),S=e(68777),p=e(64707),E=e(79329),R=e(94920),w=e(92635),m=e(89226),g=e(17604),a=e(15557),r=e(16525),i=e(45029),n=e(4694),c=e(93059);const u=new p.Il(new p.VS(0,122,204)),l={showArrow:!0,showFrame:!0,className:"",frameColor:u,arrowColor:u,keepEditorSelection:!1},D="vs.editor.contrib.zoneWidget";class f{constructor(Oe,Ke,Qe,fe,$,le,De,xe){this.id="",this.domNode=Oe,this.afterLineNumber=Ke,this.afterColumn=Qe,this.heightInLines=fe,this.showInHiddenAreas=De,this.ordinal=xe,this._onDomNodeTop=$,this._onComputedHeight=le}onDomNodeTop(Oe){this._onDomNodeTop(Oe)}onComputedHeight(Oe){this._onComputedHeight(Oe)}}class y{constructor(Oe,Ke){this._id=Oe,this._domNode=Ke}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}class C{constructor(Oe){this._editor=Oe,this._ruleName=C._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}dispose(){this.hide(),o.uN(this._ruleName)}set color(Oe){this._color!==Oe&&(this._color=Oe,this._updateStyle())}set height(Oe){this._height!==Oe&&(this._height=Oe,this._updateStyle())}_updateStyle(){o.uN(this._ruleName),o.fk(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px !important; margin-left: -${this._height}px; `)}show(Oe){Oe.column===1&&(Oe={lineNumber:Oe.lineNumber,column:2}),this._decorations.set([{range:n.e.fromPositions(Oe),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._decorations.clear()}}C._IdGenerator=new r.R(".arrow-decoration-");class _{constructor(Oe,Ke={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new i.SL,this.container=null,this._isShowing=!1,this.editor=Oe,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=R.I8(Ke),R.jB(this.options,l,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(Qe=>{const fe=this._getWidth(Qe);this.domNode.style.width=fe+"px",this.domNode.style.left=this._getLeft(Qe)+"px",this._onWidth(fe)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(Oe=>{this._viewZone&&Oe.removeZone(this._viewZone.id),this._viewZone=null}),this._positionMarkerId.clear(),this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new C(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(Oe){Oe.frameColor&&(this.options.frameColor=Oe.frameColor),Oe.arrowColor&&(this.options.arrowColor=Oe.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){const Oe=this.options.frameColor.toString();this.container.style.borderTopColor=Oe,this.container.style.borderBottomColor=Oe}if(this._arrow&&this.options.arrowColor){const Oe=this.options.arrowColor.toString();this._arrow.color=Oe}}_getWidth(Oe){return Oe.width-Oe.minimap.minimapWidth-Oe.verticalScrollbarWidth}_getLeft(Oe){return Oe.minimap.minimapWidth>0&&Oe.minimap.minimapLeft===0?Oe.minimap.minimapWidth:0}_onViewZoneTop(Oe){this.domNode.style.top=Oe+"px"}_onViewZoneHeight(Oe){var Ke;if(this.domNode.style.height=`${Oe}px`,this.container){const Qe=Oe-this._decoratingElementsHeight();this.container.style.height=`${Qe}px`;const fe=this.editor.getLayoutInfo();this._doLayout(Qe,this._getWidth(fe))}(Ke=this._resizeSash)===null||Ke===void 0||Ke.layout()}get position(){const Oe=this._positionMarkerId.getRange(0);if(Oe)return Oe.getStartPosition()}show(Oe,Ke){const Qe=n.e.isIRange(Oe)?n.e.lift(Oe):n.e.fromPositions(Oe);this._isShowing=!0,this._showImpl(Qe,Ke),this._isShowing=!1,this._positionMarkerId.set([{range:Qe,options:c.qx.EMPTY}])}hide(){var Oe;this._viewZone&&(this.editor.changeViewZones(Ke=>{this._viewZone&&Ke.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),(Oe=this._arrow)===null||Oe===void 0||Oe.hide(),this._positionMarkerId.clear()}_decoratingElementsHeight(){const Oe=this.editor.getOption(67);let Ke=0;if(this.options.showArrow){const Qe=Math.round(Oe/3);Ke+=2*Qe}if(this.options.showFrame){const Qe=Math.round(Oe/9);Ke+=2*Qe}return Ke}_showImpl(Oe,Ke){const Qe=Oe.getStartPosition(),fe=this.editor.getLayoutInfo(),$=this._getWidth(fe);this.domNode.style.width=`${$}px`,this.domNode.style.left=this._getLeft(fe)+"px";const le=document.createElement("div");le.style.overflow="hidden";const De=this.editor.getOption(67);if(!this.options.allowUnlimitedHeight){const oe=Math.max(12,this.editor.getLayoutInfo().height/De*.8);Ke=Math.min(Ke,oe)}let xe=0,Ce=0;if(this._arrow&&this.options.showArrow&&(xe=Math.round(De/3),this._arrow.height=xe,this._arrow.show(Qe)),this.options.showFrame&&(Ce=Math.round(De/9)),this.editor.changeViewZones(oe=>{this._viewZone&&oe.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new f(le,Qe.lineNumber,Qe.column,Ke,ue=>this._onViewZoneTop(ue),ue=>this._onViewZoneHeight(ue),this.options.showInHiddenAreas,this.options.ordinal),this._viewZone.id=oe.addZone(this._viewZone),this._overlayWidget=new y(D+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const oe=this.options.frameWidth?this.options.frameWidth:Ce;this.container.style.borderTopWidth=oe+"px",this.container.style.borderBottomWidth=oe+"px"}const me=Ke*De-this._decoratingElementsHeight();this.container&&(this.container.style.top=xe+"px",this.container.style.height=me+"px",this.container.style.overflow="hidden"),this._doLayout(me,$),this.options.keepEditorSelection||this.editor.setSelection(Oe);const be=this.editor.getModel();if(be){const oe=be.validateRange(new n.e(Oe.startLineNumber,1,Oe.endLineNumber+1,1));this.revealRange(oe,oe.startLineNumber===be.getLineCount())}}revealRange(Oe,Ke){Ke?this.editor.revealLineNearTop(Oe.endLineNumber,0):this.editor.revealRange(Oe,0)}setCssClass(Oe,Ke){this.container&&(Ke&&this.container.classList.remove(Ke),this.container.classList.add(Oe))}_onWidth(Oe){}_doLayout(Oe,Ke){}_relayout(Oe){this._viewZone&&this._viewZone.heightInLines!==Oe&&this.editor.changeViewZones(Ke=>{this._viewZone&&(this._viewZone.heightInLines=Oe,Ke.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new a.g(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let Oe;this._disposables.add(this._resizeSash.onDidStart(Ke=>{this._viewZone&&(Oe={startY:Ke.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{Oe=void 0})),this._disposables.add(this._resizeSash.onDidChange(Ke=>{if(Oe){const Qe=(Ke.currentY-Oe.startY)/this.editor.getOption(67),fe=Qe<0?Math.ceil(Qe):Math.floor(Qe),$=Oe.heightInLines+fe;$>5&&$<35&&this._relayout($)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const Oe=this.editor.getLayoutInfo();return Oe.width-Oe.minimap.minimapWidth}}var N=e(61652),b=e(88595),k=e(80568),V=e(98352),K=e(87058),Z=e(97341),z=function(Ee,Oe,Ke,Qe){var fe=arguments.length,$=fe<3?Oe:Qe===null?Qe=Object.getOwnPropertyDescriptor(Oe,Ke):Qe,le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(Ee,Oe,Ke,Qe);else for(var De=Ee.length-1;De>=0;De--)(le=Ee[De])&&($=(fe<3?le($):fe>3?le(Oe,Ke,$):le(Oe,Ke))||$);return fe>3&&$&&Object.defineProperty(Oe,Ke,$),$},A=function(Ee,Oe){return function(Ke,Qe){Oe(Ke,Qe,Ee)}};const P=(0,K.yh)("IPeekViewService");(0,V.z)(P,class{constructor(){this._widgets=new Map}addExclusiveWidget(Ee,Oe){const Ke=this._widgets.get(Ee);Ke&&(Ke.listener.dispose(),Ke.widget.dispose());const Qe=()=>{const fe=this._widgets.get(Ee);fe&&fe.widget===Oe&&(fe.listener.dispose(),this._widgets.delete(Ee))};this._widgets.set(Ee,{widget:Oe,listener:Oe.onDidClose(Qe)})}},1);var I;(function(Ee){Ee.inPeekEditor=new k.uy("inReferenceSearchEditor",!0,N.NC("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),Ee.notInPeekEditor=Ee.inPeekEditor.toNegated()})(I||(I={}));let W=class{constructor(Oe,Ke){Oe instanceof g.H&&I.inPeekEditor.bindTo(Ke)}dispose(){}};W.ID="editor.contrib.referenceController",W=z([A(1,k.i6)],W),(0,w._K)(W.ID,W,0);function G(Ee){const Oe=Ee.get(m.$).getFocusedCodeEditor();return Oe instanceof g.H?Oe.getParentEditor():Oe}const j={headerBackgroundColor:p.Il.white,primaryHeadingColor:p.Il.fromHex("#333333"),secondaryHeadingColor:p.Il.fromHex("#6c6c6cb3")};let Y=class extends _{constructor(Oe,Ke,Qe){super(Oe,Ke),this.instantiationService=Qe,this._onDidClose=new E.Q5,this.onDidClose=this._onDidClose.event,R.jB(this.options,j,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(Oe){const Ke=this.options;Oe.headerBackgroundColor&&(Ke.headerBackgroundColor=Oe.headerBackgroundColor),Oe.primaryHeadingColor&&(Ke.primaryHeadingColor=Oe.primaryHeadingColor),Oe.secondaryHeadingColor&&(Ke.secondaryHeadingColor=Oe.secondaryHeadingColor),super.style(Oe)}_applyStyles(){super._applyStyles();const Oe=this.options;this._headElement&&Oe.headerBackgroundColor&&(this._headElement.style.backgroundColor=Oe.headerBackgroundColor.toString()),this._primaryHeading&&Oe.primaryHeadingColor&&(this._primaryHeading.style.color=Oe.primaryHeadingColor.toString()),this._secondaryHeading&&Oe.secondaryHeadingColor&&(this._secondaryHeading.style.color=Oe.secondaryHeadingColor.toString()),this._bodyElement&&Oe.frameColor&&(this._bodyElement.style.borderColor=Oe.frameColor.toString())}_fillContainer(Oe){this.setCssClass("peekview-widget"),this._headElement=o.$(".head"),this._bodyElement=o.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),Oe.appendChild(this._headElement),Oe.appendChild(this._bodyElement)}_fillHead(Oe,Ke){this._titleElement=o.$(".peekview-title"),this.options.supportOnTitleClick&&(this._titleElement.classList.add("clickable"),o.mu(this._titleElement,"click",$=>this._onTitleClick($))),o.R3(this._headElement,this._titleElement),this._fillTitleIcon(this._titleElement),this._primaryHeading=o.$("span.filename"),this._secondaryHeading=o.$("span.dirname"),this._metaHeading=o.$("span.meta"),o.R3(this._titleElement,this._primaryHeading,this._secondaryHeading,this._metaHeading);const Qe=o.$(".peekview-actions");o.R3(this._headElement,Qe);const fe=this._getActionBarOptions();this._actionbarWidget=new B.o(Qe,fe),this._disposables.add(this._actionbarWidget),Ke||this._actionbarWidget.push(new x.aU("peekview.close",N.NC("label.close","Close"),S.k.asClassName(O.l.close),!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(Oe){}_getActionBarOptions(){return{actionViewItemProvider:b.Id.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(Oe){}setTitle(Oe,Ke){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=Oe,this._primaryHeading.setAttribute("title",Oe),Ke?this._secondaryHeading.innerText=Ke:o.PO(this._secondaryHeading))}setMetaTitle(Oe){this._metaHeading&&(Oe?(this._metaHeading.innerText=Oe,o.$Z(this._metaHeading)):o.Cp(this._metaHeading))}_doLayout(Oe,Ke){if(!this._isShowing&&Oe<0){this.dispose();return}const Qe=Math.ceil(this.editor.getOption(67)*1.2),fe=Math.round(Oe-(Qe+2));this._doLayoutHead(Qe,Ke),this._doLayoutBody(fe,Ke)}_doLayoutHead(Oe,Ke){this._headElement&&(this._headElement.style.height=`${Oe}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(Oe,Ke){this._bodyElement&&(this._bodyElement.style.height=`${Oe}px`)}};Y=z([A(2,K.TG)],Y);const H=(0,Z.P6G)("peekViewTitle.background",{dark:"#252526",light:"#F3F3F3",hcDark:p.Il.black,hcLight:p.Il.white},N.NC("peekViewTitleBackground","Background color of the peek view title area.")),Q=(0,Z.P6G)("peekViewTitleLabel.foreground",{dark:p.Il.white,light:p.Il.black,hcDark:p.Il.white,hcLight:Z.NOs},N.NC("peekViewTitleForeground","Color of the peek view title.")),ie=(0,Z.P6G)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},N.NC("peekViewTitleInfoForeground","Color of the peek view title info.")),te=(0,Z.P6G)("peekView.border",{dark:Z.c63,light:Z.c63,hcDark:Z.lRK,hcLight:Z.lRK},N.NC("peekViewBorder","Color of the peek view borders and arrow.")),se=(0,Z.P6G)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:p.Il.black,hcLight:p.Il.white},N.NC("peekViewResultsBackground","Background color of the peek view result list.")),ne=(0,Z.P6G)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:p.Il.white,hcLight:Z.NOs},N.NC("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),ee=(0,Z.P6G)("peekViewResult.fileForeground",{dark:p.Il.white,light:"#1E1E1E",hcDark:p.Il.white,hcLight:Z.NOs},N.NC("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),re=(0,Z.P6G)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},N.NC("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),he=(0,Z.P6G)("peekViewResult.selectionForeground",{dark:p.Il.white,light:"#6C6C6C",hcDark:p.Il.white,hcLight:Z.NOs},N.NC("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),M=(0,Z.P6G)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:p.Il.black,hcLight:p.Il.white},N.NC("peekViewEditorBackground","Background color of the peek view editor.")),we=(0,Z.P6G)("peekViewEditorGutter.background",{dark:M,light:M,hcDark:M,hcLight:M},N.NC("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),We=(0,Z.P6G)("peekViewEditorStickyScroll.background",{dark:M,light:M,hcDark:M,hcLight:M},N.NC("peekViewEditorStickScrollBackground","Background color of sticky scroll in the peek view editor.")),ye=(0,Z.P6G)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},N.NC("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),X=(0,Z.P6G)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},N.NC("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),ve=(0,Z.P6G)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:Z.xL1,hcLight:Z.xL1},N.NC("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."))},5680:function(et,Le,e){"use strict";e.d(Le,{X:function(){return R}});var o=e(77303),B=e(45029),x=e(70339),O=e(57204),S=e(44444),p=e(63279),E=e(91333);class R{constructor(m){this.options=m,this.rangeHighlightDecorationId=void 0}provide(m,g){var a;const r=new B.SL;m.canAcceptInBackground=!!(!((a=this.options)===null||a===void 0)&&a.canAcceptInBackground),m.matchOnLabel=m.matchOnDescription=m.matchOnDetail=m.sortByLabel=!1;const i=r.add(new B.XK);return i.value=this.doProvide(m,g),r.add(this.onDidActiveTextEditorControlChange(()=>{i.value=void 0,i.value=this.doProvide(m,g)})),r}doProvide(m,g){var a;const r=new B.SL,i=this.activeTextEditorControl;if(i&&this.canProvideWithTextEditor(i)){const n={editor:i},c=(0,x.Pi)(i);if(c){let u=(a=i.saveViewState())!==null&&a!==void 0?a:void 0;r.add(c.onDidChangeCursorPosition(()=>{var l;u=(l=i.saveViewState())!==null&&l!==void 0?l:void 0})),n.restoreViewState=()=>{u&&i===this.activeTextEditorControl&&i.restoreViewState(u)},r.add((0,o.M)(g.onCancellationRequested)(()=>{var l;return(l=n.restoreViewState)===null||l===void 0?void 0:l.call(n)}))}r.add((0,B.OF)(()=>this.clearDecorations(i))),r.add(this.provideWithTextEditor(n,m,g))}else r.add(this.provideWithoutTextEditor(m,g));return r}canProvideWithTextEditor(m){return!0}gotoLocation({editor:m},g){m.setSelection(g.range,"code.jump"),m.revealRangeInCenter(g.range,0),g.preserveFocus||m.focus();const a=m.getModel();a&&"getLineContent"in a&&(0,E.i7)(`${a.getLineContent(g.range.startLineNumber)}`)}getModel(m){var g;return(0,x.QI)(m)?(g=m.getModel())===null||g===void 0?void 0:g.modified:m.getModel()}addDecorations(m,g){m.changeDecorations(a=>{const r=[];this.rangeHighlightDecorationId&&(r.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),r.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const i=[{range:g,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:g,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,p.EN)(S.m9),position:O.sh.Full}}}],[n,c]=a.deltaDecorations(r,i);this.rangeHighlightDecorationId={rangeHighlightId:n,overviewRulerDecorationId:c}})}clearDecorations(m){const g=this.rangeHighlightDecorationId;g&&(m.changeDecorations(a=>{a.deltaDecorations([g.overviewRulerDecorationId,g.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}},96335:function(et,Le,e){"use strict";var o=e(60473),B=e(45029),x=e(92635),O=e(64451),S=e(61652);class p extends B.JT{constructor(R){super(),this.editor=R,this._register(this.editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit()))}_onDidAttemptReadOnlyEdit(){const R=O.O.get(this.editor);if(R&&this.editor.hasModel()){let w=this.editor.getOptions().get(92);w||(this.editor.isSimpleWidget?w=new o.W5(S.NC("editor.simple.readonly","Cannot edit in read-only input")):w=new o.W5(S.NC("editor.readonly","Cannot edit in read-only editor"))),R.showMessage(w,this.editor.getPosition())}}}p.ID="editor.contrib.readOnlyMessageController",(0,x._K)(p.ID,p,2)},19712:function(et,Le,e){"use strict";var o=e(91333),B=e(74696),x=e(65642),O=e(25602),S=e(60473),p=e(45029),E=e(26974),R=e(10058),w=e(92635),m=e(11724),g=e(89226),a=e(93895),r=e(4694),i=e(22706),n=e(91895),c=e(70546),u=e(15628),l=e(31079),D=e(64451),f=e(61652),y=e(69713),C=e(18567),_=e(80568),N=e(87058),b=e(61629),k=e(52994),V=e(80731),K=e(2816),Z=e(79553),z=e(91540),A=e(50908),P=e(66388),I=e(66503),W=e(60661),G=e(66074),j=e(71221),Y=e(24752),H=e(79329),Q=e(32368),ie=e(43901),te=e(66070),se=e(26179),ne=e(97341),ee=e(63279),re=function(Ce,me,be,oe){var ue=arguments.length,de=ue<3?me:oe===null?oe=Object.getOwnPropertyDescriptor(me,be):oe,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")de=Reflect.decorate(Ce,me,be,oe);else for(var Te=Ce.length-1;Te>=0;Te--)(Se=Ce[Te])&&(de=(ue<3?Se(de):ue>3?Se(me,be,de):Se(me,be))||de);return ue>3&&de&&Object.defineProperty(me,be,de),de},he=function(Ce,me){return function(be,oe){me(be,oe,Ce)}};const M=!1,we=new _.uy("renameInputVisible",!1,(0,f.NC)("renameInputVisible","Whether the rename input widget is visible")),We=new _.uy("renameInputFocused",!1,(0,f.NC)("renameInputFocused","Whether the rename input widget is focused"));let ye=class{constructor(me,be,oe,ue,de,Se){this._editor=me,this._acceptKeybindings=be,this._themeService=oe,this._keybindingService=ue,this._logService=Se,this.allowEditorOverflow=!0,this._disposables=new p.SL,this._visibleContextKey=we.bindTo(de),this._isEditingRenameCandidate=!1,this._nRenameSuggestionsInvocations=0,this._hadAutomaticRenameSuggestionsInvocation=!1,this._candidates=new Set,this._beforeFirstInputFieldEditSW=new Q.G,this._inputWithButton=new ve,this._disposables.add(this._inputWithButton),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(Te=>{Te.hasChanged(50)&&this._updateFont()})),this._disposables.add(oe.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._domNode.appendChild(this._inputWithButton.domNode),this._renameCandidateListView=this._disposables.add(new X(this._domNode,{fontInfo:this._editor.getOption(50),onFocusChange:me=>{this._inputWithButton.input.value=me,this._isEditingRenameCandidate=!1},onSelectionChange:()=>{this._isEditingRenameCandidate=!1,this.acceptInput(!1)}})),this._disposables.add(this._inputWithButton.onDidInputChange(()=>{var me,be,oe,ue;((me=this._renameCandidateListView)===null||me===void 0?void 0:me.focusedCandidate)!==void 0&&(this._isEditingRenameCandidate=!0),(be=this._timeBeforeFirstInputFieldEdit)!==null&&be!==void 0||(this._timeBeforeFirstInputFieldEdit=this._beforeFirstInputFieldEditSW.elapsed()),((oe=this._renameCandidateProvidersCts)===null||oe===void 0?void 0:oe.token.isCancellationRequested)===!1&&this._renameCandidateProvidersCts.cancel(),(ue=this._renameCandidateListView)===null||ue===void 0||ue.clearFocus()})),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())),this._domNode}_updateStyles(me){var be,oe,ue,de,Se;if(!this._domNode)return;const Te=me.getColor(ne.rh),Ae=me.getColor(ne.A42);this._domNode.style.backgroundColor=String((be=me.getColor(ne.D0T))!==null&&be!==void 0?be:""),this._domNode.style.boxShadow=Te?` 0 0 8px 2px ${Te}`:"",this._domNode.style.border=Ae?`1px solid ${Ae}`:"",this._domNode.style.color=String((oe=me.getColor(ne.zJb))!==null&&oe!==void 0?oe:"");const pe=me.getColor(ne.dt_);this._inputWithButton.domNode.style.backgroundColor=String((ue=me.getColor(ne.sEe))!==null&&ue!==void 0?ue:""),this._inputWithButton.input.style.backgroundColor=String((de=me.getColor(ne.sEe))!==null&&de!==void 0?de:""),this._inputWithButton.domNode.style.borderWidth=pe?"1px":"0px",this._inputWithButton.domNode.style.borderStyle=pe?"solid":"none",this._inputWithButton.domNode.style.borderColor=(Se=pe==null?void 0:pe.toString())!==null&&Se!==void 0?Se:"none"}_updateFont(){if(this._domNode===void 0)return;(0,E.p_)(this._label!==void 0,"RenameWidget#_updateFont: _label must not be undefined given _domNode is defined"),this._editor.applyFontInfo(this._inputWithButton.input);const me=this._editor.getOption(50);this._label.style.fontSize=`${this._computeLabelFontSize(me.fontSize)}px`}_computeLabelFontSize(me){return me*.8}getPosition(){if(!this._visible||!this._editor.hasModel()||!this._editor.getDomNode())return null;const me=z.D6(this.getDomNode().ownerDocument.body),be=z.i(this._editor.getDomNode()),oe=this._getTopForPosition();this._nPxAvailableAbove=oe+be.top,this._nPxAvailableBelow=me.height-this._nPxAvailableAbove;const ue=this._editor.getOption(67),{totalHeight:de}=Ee.getLayoutInfo({lineHeight:ue}),Se=this._nPxAvailableBelow>de*6?[2,1]:[1,2];return{position:this._position,preference:Se}}beforeRender(){var me,be;const[oe,ue]=this._acceptKeybindings;return this._label.innerText=(0,f.NC)({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",(me=this._keybindingService.lookupKeybinding(oe))===null||me===void 0?void 0:me.getLabel(),(be=this._keybindingService.lookupKeybinding(ue))===null||be===void 0?void 0:be.getLabel()),this._domNode.style.minWidth="200px",null}afterRender(me){if(this._trace("invoking afterRender, position: ",me?"not null":"null"),me===null){this.cancelInput(!0,"afterRender (because position is null)");return}if(!this._editor.hasModel()||!this._editor.getDomNode())return;(0,E.p_)(this._renameCandidateListView),(0,E.p_)(this._nPxAvailableAbove!==void 0),(0,E.p_)(this._nPxAvailableBelow!==void 0);const be=z.wn(this._inputWithButton.domNode),oe=z.wn(this._label);let ue;me===2?ue=this._nPxAvailableBelow:ue=this._nPxAvailableAbove,this._renameCandidateListView.layout({height:ue-oe-be,width:z.w(this._inputWithButton.domNode)})}acceptInput(me){var be;this._trace("invoking acceptInput"),(be=this._currentAcceptInput)===null||be===void 0||be.call(this,me)}cancelInput(me,be){var oe;this._trace(`invoking cancelInput, caller: ${be}, _currentCancelInput: ${this._currentAcceptInput?"not undefined":"undefined"}`),(oe=this._currentCancelInput)===null||oe===void 0||oe.call(this,me)}focusNextRenameSuggestion(){var me;!((me=this._renameCandidateListView)===null||me===void 0)&&me.focusNext()||(this._inputWithButton.input.value=this._currentName)}focusPreviousRenameSuggestion(){var me;!((me=this._renameCandidateListView)===null||me===void 0)&&me.focusPrevious()||(this._inputWithButton.input.value=this._currentName)}getInput(me,be,oe,ue,de){const{start:Se,end:Te}=this._getSelection(me,be);this._renameCts=de;const Ae=new p.SL;this._nRenameSuggestionsInvocations=0,this._hadAutomaticRenameSuggestionsInvocation=!1,ue===void 0?this._inputWithButton.button.style.display="none":(this._inputWithButton.button.style.display="flex",this._requestRenameCandidatesOnce=ue,this._requestRenameCandidates(be,!1),Ae.add(z.nm(this._inputWithButton.button,"click",()=>this._requestRenameCandidates(be,!0))),Ae.add(z.nm(this._inputWithButton.button,z.tw.KEY_DOWN,je=>{const ot=new A.y(je);(ot.equals(3)||ot.equals(10))&&(ot.stopPropagation(),ot.preventDefault(),this._requestRenameCandidates(be,!0))}))),this._isEditingRenameCandidate=!1,this._domNode.classList.toggle("preview",oe),this._position=new a.L(me.startLineNumber,me.startColumn),this._currentName=be,this._inputWithButton.input.value=be,this._inputWithButton.input.setAttribute("selectionStart",Se.toString()),this._inputWithButton.input.setAttribute("selectionEnd",Te.toString()),this._inputWithButton.input.size=Math.max((me.endColumn-me.startColumn)*1.1,20),this._beforeFirstInputFieldEditSW.reset(),Ae.add((0,p.OF)(()=>{this._renameCts=void 0,de.dispose(!0)})),Ae.add((0,p.OF)(()=>{this._renameCandidateProvidersCts!==void 0&&(this._renameCandidateProvidersCts.dispose(!0),this._renameCandidateProvidersCts=void 0)})),Ae.add((0,p.OF)(()=>this._candidates.clear()));const pe=new B.CR;return pe.p.finally(()=>{Ae.dispose(),this._hide()}),this._currentCancelInput=je=>{var ot;return this._trace("invoking _currentCancelInput"),this._currentAcceptInput=void 0,this._currentCancelInput=void 0,(ot=this._renameCandidateListView)===null||ot===void 0||ot.clearCandidates(),pe.complete(je),!0},this._currentAcceptInput=je=>{this._trace("invoking _currentAcceptInput"),(0,E.p_)(this._renameCandidateListView!==void 0);const ot=this._renameCandidateListView.nCandidates;let xt,jt;const oi=this._renameCandidateListView.focusedCandidate;if(oi!==void 0?(this._trace("using new name from renameSuggestion"),xt=oi,jt={k:"renameSuggestion"}):(this._trace("using new name from inputField"),xt=this._inputWithButton.input.value,jt=this._isEditingRenameCandidate?{k:"userEditedRenameSuggestion"}:{k:"inputField"}),xt===be||xt.trim().length===0){this.cancelInput(!0,"_currentAcceptInput (because newName === value || newName.trim().length === 0)");return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,this._renameCandidateListView.clearCandidates(),pe.complete({newName:xt,wantsPreview:oe&&je,stats:{source:jt,nRenameSuggestions:ot,timeBeforeFirstInputFieldEdit:this._timeBeforeFirstInputFieldEdit,nRenameSuggestionsInvocations:this._nRenameSuggestionsInvocations,hadAutomaticRenameSuggestionsInvocation:this._hadAutomaticRenameSuggestionsInvocation}})},Ae.add(de.token.onCancellationRequested(()=>this.cancelInput(!0,"cts.token.onCancellationRequested"))),M||Ae.add(this._editor.onDidBlurEditorWidget(()=>{var je;return this.cancelInput(!(!((je=this._domNode)===null||je===void 0)&&je.ownerDocument.hasFocus()),"editor.onDidBlurEditorWidget")})),this._show(),pe.p}_requestRenameCandidates(me,be){if(this._requestRenameCandidatesOnce!==void 0&&(this._renameCandidateProvidersCts!==void 0&&this._renameCandidateProvidersCts.dispose(!0),(0,E.p_)(this._renameCts),this._inputWithButton.buttonState!=="stop")){this._renameCandidateProvidersCts=new x.AU;const oe=be?n.Ll.Invoke:n.Ll.Automatic,ue=this._requestRenameCandidatesOnce(oe,this._renameCandidateProvidersCts.token);if(ue.length===0){this._inputWithButton.setSparkleButton();return}be||(this._hadAutomaticRenameSuggestionsInvocation=!0),this._nRenameSuggestionsInvocations+=1,this._inputWithButton.setStopButton(),this._updateRenameCandidates(ue,me,this._renameCts.token)}}_getSelection(me,be){(0,E.p_)(this._editor.hasModel());const oe=this._editor.getSelection();let ue=0,de=be.length;return!r.e.isEmpty(oe)&&!r.e.spansMultipleLines(oe)&&r.e.containsRange(me,oe)&&(ue=Math.max(0,oe.startColumn-me.startColumn),de=Math.min(me.endColumn,oe.endColumn)-me.startColumn),{start:ue,end:de}}_show(){this._trace("invoking _show"),this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._inputWithButton.input.focus(),this._inputWithButton.input.setSelectionRange(parseInt(this._inputWithButton.input.getAttribute("selectionStart")),parseInt(this._inputWithButton.input.getAttribute("selectionEnd")))},100)}_updateRenameCandidates(me,be,oe){return Ft(this,null,function*(){const ue=(...pe)=>this._trace("_updateRenameCandidates",...pe);ue("start");const de=yield(0,B.eP)(Promise.allSettled(me),oe);if(this._inputWithButton.setSparkleButton(),de===void 0){ue("returning early - received updateRenameCandidates results - undefined");return}const Se=de.flatMap(pe=>pe.status==="fulfilled"&&(0,E.$K)(pe.value)?pe.value:[]);ue(`received updateRenameCandidates results - total (unfiltered) ${Se.length} candidates.`);const Te=j.EB(Se,pe=>pe.newSymbolName);ue(`distinct candidates - ${Te.length} candidates.`);const Ae=Te.filter(({newSymbolName:pe})=>pe.trim().length>0&&pe!==this._inputWithButton.input.value&&pe!==be&&!this._candidates.has(pe));if(ue(`valid distinct candidates - ${Se.length} candidates.`),Ae.forEach(pe=>this._candidates.add(pe.newSymbolName)),Ae.length<1){ue("returning early - no valid distinct candidates");return}ue("setting candidates"),this._renameCandidateListView.setCandidates(Ae),ue("asking editor to re-layout"),this._editor.layoutContentWidget(this)})}_hide(){this._trace("invoked _hide"),this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}_getTopForPosition(){const me=this._editor.getVisibleRanges();let be;return me.length>0?be=me[0].startLineNumber:(this._logService.warn("RenameWidget#_getTopForPosition: this should not happen - visibleRanges is empty"),be=Math.max(1,this._position.lineNumber-5)),this._editor.getTopForLineNumber(this._position.lineNumber)-this._editor.getTopForLineNumber(be)}_trace(...me){this._logService.trace("RenameWidget",...me)}};ye=re([he(2,ee.XE),he(3,te.d),he(4,_.i6),he(5,b.VZ)],ye);class X{constructor(me,be){this._disposables=new p.SL,this._availableHeight=0,this._minimumWidth=0,this._lineHeight=be.fontInfo.lineHeight,this._typicalHalfwidthCharacterWidth=be.fontInfo.typicalHalfwidthCharacterWidth,this._listContainer=document.createElement("div"),this._listContainer.className="rename-box rename-candidate-list-container",me.appendChild(this._listContainer),this._listWidget=X._createListWidget(this._listContainer,this._candidateViewHeight,be.fontInfo),this._listWidget.onDidChangeFocus(oe=>{oe.elements.length===1&&be.onFocusChange(oe.elements[0].newSymbolName)},this._disposables),this._listWidget.onDidChangeSelection(oe=>{oe.elements.length===1&&be.onSelectionChange()},this._disposables),this._disposables.add(this._listWidget.onDidBlur(oe=>{this._listWidget.setFocus([])})),this._listWidget.style((0,se.TU)({listInactiveFocusForeground:ne.NPS,listInactiveFocusBackground:ne.Vqd}))}dispose(){this._listWidget.dispose(),this._disposables.dispose()}layout({height:me,width:be}){this._availableHeight=me,this._minimumWidth=be}setCandidates(me){this._listWidget.splice(0,0,me);const be=this._pickListHeight(this._listWidget.length),oe=this._pickListWidth(me);this._listWidget.layout(be,oe),this._listContainer.style.height=`${be}px`,this._listContainer.style.width=`${oe}px`,o.i7((0,f.NC)("renameSuggestionsReceivedAria","Received {0} rename suggestions",me.length))}clearCandidates(){this._listContainer.style.height="0px",this._listContainer.style.width="0px",this._listWidget.splice(0,this._listWidget.length,[])}get nCandidates(){return this._listWidget.length}get focusedCandidate(){if(this._listWidget.length===0)return;const me=this._listWidget.getSelectedElements()[0];if(me!==void 0)return me.newSymbolName;const be=this._listWidget.getFocusedElements()[0];if(be!==void 0)return be.newSymbolName}focusNext(){if(this._listWidget.length===0)return!1;const me=this._listWidget.getFocus();if(me.length===0)return this._listWidget.focusFirst(),this._listWidget.reveal(0),!0;if(me[0]===this._listWidget.length-1)return this._listWidget.setFocus([]),this._listWidget.reveal(0),!1;{this._listWidget.focusNext();const be=this._listWidget.getFocus()[0];return this._listWidget.reveal(be),!0}}focusPrevious(){if(this._listWidget.length===0)return!1;const me=this._listWidget.getFocus();if(me.length===0){this._listWidget.focusLast();const be=this._listWidget.getFocus()[0];return this._listWidget.reveal(be),!0}else{if(me[0]===0)return this._listWidget.setFocus([]),!1;{this._listWidget.focusPrevious();const be=this._listWidget.getFocus()[0];return this._listWidget.reveal(be),!0}}}clearFocus(){this._listWidget.setFocus([])}get _candidateViewHeight(){const{totalHeight:me}=Ee.getLayoutInfo({lineHeight:this._lineHeight});return me}_pickListHeight(me){const be=this._candidateViewHeight*me;return Math.min(be,this._availableHeight,this._candidateViewHeight*7)}_pickListWidth(me){const be=Math.ceil(Math.max(...me.map(ue=>ue.newSymbolName.length))*this._typicalHalfwidthCharacterWidth);return Math.max(this._minimumWidth,25+be+10)}static _createListWidget(me,be,oe){const ue=new class{getTemplateId(Se){return"candidate"}getHeight(Se){return be}},de=new class{constructor(){this.templateId="candidate"}renderTemplate(Se){return new Ee(Se,oe)}renderElement(Se,Te,Ae){Ae.populate(Se)}disposeTemplate(Se){Se.dispose()}};return new G.aV("NewSymbolNameCandidates",me,ue,[de],{keyboardSupport:!1,mouseSupport:!0,multipleSelectionSupport:!1})}}class ve{constructor(){this._onDidInputChange=new H.Q5,this.onDidInputChange=this._onDidInputChange.event,this._disposables=new p.SL}get domNode(){return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="rename-input-with-button",this._domNode.style.display="flex",this._domNode.style.flexDirection="row",this._domNode.style.alignItems="center",this._inputNode=document.createElement("input"),this._inputNode.className="rename-input",this._inputNode.type="text",this._inputNode.style.border="none",this._inputNode.setAttribute("aria-label",(0,f.NC)("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._inputNode),this._buttonNode=document.createElement("div"),this._buttonNode.className="rename-suggestions-button",this._buttonNode.setAttribute("tabindex","0"),this._buttonGenHoverText=f.NC("generateRenameSuggestionsButton","Generate new name suggestions"),this._buttonCancelHoverText=f.NC("cancelRenameSuggestionsButton","Cancel"),this._buttonHover=(0,P.B)().setupUpdatableHover((0,I.tM)("element"),this._buttonNode,this._buttonGenHoverText),this._disposables.add(this._buttonHover),this._domNode.appendChild(this._buttonNode),this._disposables.add(z.nm(this.input,z.tw.INPUT,()=>this._onDidInputChange.fire())),this._disposables.add(z.nm(this.input,z.tw.KEY_DOWN,me=>{const be=new A.y(me);(be.keyCode===15||be.keyCode===17)&&this._onDidInputChange.fire()})),this._disposables.add(z.nm(this.input,z.tw.CLICK,()=>this._onDidInputChange.fire())),this._disposables.add(z.nm(this.input,z.tw.FOCUS,()=>{this.domNode.style.outlineWidth="1px",this.domNode.style.outlineStyle="solid",this.domNode.style.outlineOffset="-1px",this.domNode.style.outlineColor="var(--vscode-focusBorder)"})),this._disposables.add(z.nm(this.input,z.tw.BLUR,()=>{this.domNode.style.outline="none"}))),this._domNode}get input(){return(0,E.p_)(this._inputNode),this._inputNode}get button(){return(0,E.p_)(this._buttonNode),this._buttonNode}get buttonState(){return this._buttonState}setSparkleButton(){var me,be;this._buttonState="sparkle",(me=this._sparkleIcon)!==null&&me!==void 0||(this._sparkleIcon=(0,W.h)(Y.l.sparkle)),z.PO(this.button),this.button.appendChild(this._sparkleIcon),this.button.setAttribute("aria-label","Generating new name suggestions"),(be=this._buttonHover)===null||be===void 0||be.update(this._buttonGenHoverText),this.input.focus()}setStopButton(){var me,be;this._buttonState="stop",(me=this._stopIcon)!==null&&me!==void 0||(this._stopIcon=(0,W.h)(Y.l.primitiveSquare)),z.PO(this.button),this.button.appendChild(this._stopIcon),this.button.setAttribute("aria-label","Cancel generating new name suggestions"),(be=this._buttonHover)===null||be===void 0||be.update(this._buttonCancelHoverText),this.input.focus()}dispose(){this._disposables.dispose()}}class Ee{constructor(me,be){this._domNode=document.createElement("div"),this._domNode.className="rename-box rename-candidate",this._domNode.style.display="flex",this._domNode.style.columnGap="5px",this._domNode.style.alignItems="center",this._domNode.style.height=`${be.lineHeight}px`,this._domNode.style.padding=`${Ee._PADDING}px`;const oe=document.createElement("div");oe.style.display="flex",oe.style.alignItems="center",oe.style.width=oe.style.height=`${be.lineHeight*.8}px`,this._domNode.appendChild(oe),this._icon=(0,W.h)(Y.l.sparkle),this._icon.style.display="none",oe.appendChild(this._icon),this._label=document.createElement("div"),ie.N(this._label,be),this._domNode.appendChild(this._label),me.appendChild(this._domNode)}populate(me){this._updateIcon(me),this._updateLabel(me)}_updateIcon(me){var be;const oe=!!(!((be=me.tags)===null||be===void 0)&&be.includes(n.w.AIGenerated));this._icon.style.display=oe?"inherit":"none"}_updateLabel(me){this._label.innerText=me.newSymbolName}static getLayoutInfo({lineHeight:me}){return{totalHeight:me+Ee._PADDING*2}}dispose(){}}Ee._PADDING=2;var Oe=function(Ce,me,be,oe){var ue=arguments.length,de=ue<3?me:oe===null?oe=Object.getOwnPropertyDescriptor(me,be):oe,Se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")de=Reflect.decorate(Ce,me,be,oe);else for(var Te=Ce.length-1;Te>=0;Te--)(Se=Ce[Te])&&(de=(ue<3?Se(de):ue>3?Se(me,be,de):Se(me,be))||de);return ue>3&&de&&Object.defineProperty(me,be,de),de},Ke=function(Ce,me){return function(be,oe){me(be,oe,Ce)}},Qe;class fe{constructor(me,be,oe){this.model=me,this.position=be,this._providerRenameIdx=0,this._providers=oe.ordered(me)}hasProvider(){return this._providers.length>0}resolveRenameLocation(me){return Ft(this,null,function*(){const be=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const ue=this._providers[this._providerRenameIdx];if(!ue.resolveRenameLocation)break;const de=yield ue.resolveRenameLocation(this.model,this.position,me);if(de){if(de.rejectReason){be.push(de.rejectReason);continue}return de}}this._providerRenameIdx=0;const oe=this.model.getWordAtPosition(this.position);return oe?{range:new r.e(this.position.lineNumber,oe.startColumn,this.position.lineNumber,oe.endColumn),text:oe.word,rejectReason:be.length>0?be.join(`
`):void 0}:{range:r.e.fromPositions(this.position),text:"",rejectReason:be.length>0?be.join(`
`):void 0}})}provideRenameEdits(me,be){return Ft(this,null,function*(){return this._provideRenameEdits(me,this._providerRenameIdx,[],be)})}_provideRenameEdits(me,be,oe,ue){return Ft(this,null,function*(){const de=this._providers[be];if(!de)return{edits:[],rejectReason:oe.join(`
`)};const Se=yield de.provideRenameEdits(this.model,this.position,me,ue);if(Se){if(Se.rejectReason)return this._provideRenameEdits(me,be+1,oe.concat(Se.rejectReason),ue)}else return this._provideRenameEdits(me,be+1,oe.concat(f.NC("no result","No result.")),ue);return Se})}}function $(Ce,me,be,oe){return Ft(this,null,function*(){const ue=new fe(me,be,Ce),de=yield ue.resolveRenameLocation(x.Ts.None);return de!=null&&de.rejectReason?{edits:[],rejectReason:de.rejectReason}:ue.provideRenameEdits(oe,x.Ts.None)})}let le=Qe=class{static get(me){return me.getContribution(Qe.ID)}constructor(me,be,oe,ue,de,Se,Te,Ae,pe){this.editor=me,this._instaService=be,this._notificationService=oe,this._bulkEditService=ue,this._progressService=de,this._logService=Se,this._configService=Te,this._languageFeaturesService=Ae,this._telemetryService=pe,this._disposableStore=new p.SL,this._cts=new x.AU,this._renameWidget=this._disposableStore.add(this._instaService.createInstance(ye,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}run(){return Ft(this,null,function*(){var me,be;const oe=this._logService.trace.bind(this._logService,"[rename]");if(this._cts.dispose(!0),this._cts=new x.AU,!this.editor.hasModel()){oe("editor has no model");return}const ue=this.editor.getPosition(),de=new fe(this.editor.getModel(),ue,this._languageFeaturesService.renameProvider);if(!de.hasProvider()){oe("skeleton has no provider");return}const Se=new l.Dl(this.editor,5,void 0,this._cts.token);let Te;try{oe("resolving rename location");const it=de.resolveRenameLocation(Se.token);this._progressService.showWhile(it,250),Te=yield it,oe("resolved rename location")}catch(it){it instanceof O.FU?oe("resolve rename location cancelled",JSON.stringify(it,null,"	")):(oe("resolve rename location failed",it instanceof Error?it:JSON.stringify(it,null,"	")),(typeof it=="string"||(0,S.Fr)(it))&&((me=D.O.get(this.editor))===null||me===void 0||me.showMessage(it||f.NC("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),ue)));return}finally{Se.dispose()}if(!Te){oe("returning early - no loc");return}if(Te.rejectReason){oe(`returning early - rejected with reason: ${Te.rejectReason}`,Te.rejectReason),(be=D.O.get(this.editor))===null||be===void 0||be.showMessage(Te.rejectReason,ue);return}if(Se.token.isCancellationRequested){oe("returning early - cts1 cancelled");return}const Ae=new l.Dl(this.editor,5,Te.range,this._cts.token),pe=this.editor.getModel(),je=this._languageFeaturesService.newSymbolNamesProvider.all(pe),ot=yield Promise.all(je.map(it=>Ft(this,null,function*(){var yt;return[it,(yt=yield it.supportsAutomaticNewSymbolNamesTriggerKind)!==null&&yt!==void 0?yt:!1]}))),xt=(it,yt)=>{let $t=ot.slice();return it===n.Ll.Automatic&&($t=$t.filter(([Nt,qt])=>qt)),$t.map(([Nt])=>Nt.provideNewSymbolNames(pe,Te.range,it,yt))};oe("creating rename input field and awaiting its result");const jt=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),oi=yield this._renameWidget.getInput(Te.range,Te.text,jt,je.length>0?xt:void 0,Ae);if(oe("received response from rename input field"),je.length>0&&this._reportTelemetry(je.length,pe.getLanguageId(),oi),typeof oi=="boolean"){oe(`returning early - rename input field response - ${oi}`),oi&&this.editor.focus(),Ae.dispose();return}this.editor.focus(),oe("requesting rename edits");const ti=(0,B.eP)(de.provideRenameEdits(oi.newName,Ae.token),Ae.token).then(it=>Ft(this,null,function*(){if(!it){oe("returning early - no rename edits result");return}if(!this.editor.hasModel()){oe("returning early - no model after rename edits are provided");return}if(it.rejectReason){oe(`returning early - rejected with reason: ${it.rejectReason}`),this._notificationService.info(it.rejectReason);return}this.editor.setSelection(r.e.fromPositions(this.editor.getSelection().getPosition())),oe("applying edits"),this._bulkEditService.apply(it,{editor:this.editor,showPreview:oi.wantsPreview,label:f.NC("label","Renaming '{0}' to '{1}'",Te==null?void 0:Te.text,oi.newName),code:"undoredo.rename",quotableLabel:f.NC("quotableLabel","Renaming {0} to {1}",Te==null?void 0:Te.text,oi.newName),respectAutoSaveConfig:!0}).then(yt=>{oe("edits applied"),yt.ariaSummary&&(0,o.Z9)(f.NC("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",Te.text,oi.newName,yt.ariaSummary))}).catch(yt=>{oe(`error when applying edits ${JSON.stringify(yt,null,"	")}`),this._notificationService.error(f.NC("rename.failedApply","Rename failed to apply edits")),this._logService.error(yt)})}),it=>{oe("error when providing rename edits",JSON.stringify(it,null,"	")),this._notificationService.error(f.NC("rename.failed","Rename failed to compute edits")),this._logService.error(it)}).finally(()=>{Ae.dispose()});return oe("returning rename operation"),this._progressService.showWhile(ti,250),ti})}acceptRenameInput(me){this._renameWidget.acceptInput(me)}cancelRenameInput(){this._renameWidget.cancelInput(!0,"cancelRenameInput command")}focusNextRenameSuggestion(){this._renameWidget.focusNextRenameSuggestion()}focusPreviousRenameSuggestion(){this._renameWidget.focusPreviousRenameSuggestion()}_reportTelemetry(me,be,oe){const ue=typeof oe=="boolean"?{kind:"cancelled",languageId:be,nRenameSuggestionProviders:me}:{kind:"accepted",languageId:be,nRenameSuggestionProviders:me,source:oe.stats.source.k,nRenameSuggestions:oe.stats.nRenameSuggestions,timeBeforeFirstInputFieldEdit:oe.stats.timeBeforeFirstInputFieldEdit,wantsPreview:oe.wantsPreview,nRenameSuggestionsInvocations:oe.stats.nRenameSuggestionsInvocations,hadAutomaticRenameSuggestionsInvocation:oe.stats.hadAutomaticRenameSuggestionsInvocation};this._telemetryService.publicLog2("renameInvokedEvent",ue)}};le.ID="editor.contrib.renameController",le=Qe=Oe([Ke(1,N.TG),Ke(2,k.lT),Ke(3,m.vu),Ke(4,V.ek),Ke(5,b.VZ),Ke(6,u.V),Ke(7,c.p),Ke(8,Z.b)],le);class De extends w.R6{constructor(){super({id:"editor.action.rename",label:f.NC("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:_.Ao.and(i.u.writable,i.u.hasRenameProvider),kbOpts:{kbExpr:i.u.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(me,be){const oe=me.get(g.$),[ue,de]=Array.isArray(be)&&be||[void 0,void 0];return R.o.isUri(ue)&&a.L.isIPosition(de)?oe.openCodeEditor({resource:ue},oe.getActiveCodeEditor()).then(Se=>{Se&&(Se.setPosition(de),Se.invokeWithinContext(Te=>(this.reportTelemetry(Te,Se),this.run(Te,Se))))},O.dL):super.runCommand(me,be)}run(me,be){const oe=me.get(b.VZ),ue=le.get(be);return ue?(oe.trace("[RenameAction] got controller, running..."),ue.run()):(oe.trace("[RenameAction] returning early - controller missing"),Promise.resolve())}}(0,w._K)(le.ID,le,4),(0,w.Qr)(De);const xe=w._l.bindToContribution(le.get);(0,w.fK)(new xe({id:"acceptRenameInput",precondition:we,handler:Ce=>Ce.acceptRenameInput(!1),kbOpts:{weight:199,kbExpr:_.Ao.and(i.u.focus,_.Ao.not("isComposing")),primary:3}})),(0,w.fK)(new xe({id:"acceptRenameInputWithPreview",precondition:_.Ao.and(we,_.Ao.has("config.editor.rename.enablePreview")),handler:Ce=>Ce.acceptRenameInput(!0),kbOpts:{weight:199,kbExpr:_.Ao.and(i.u.focus,_.Ao.not("isComposing")),primary:2051}})),(0,w.fK)(new xe({id:"cancelRenameInput",precondition:we,handler:Ce=>Ce.cancelRenameInput(),kbOpts:{weight:199,kbExpr:i.u.focus,primary:9,secondary:[1033]}})),(0,y.r1)(class extends y.Ke{constructor(){super({id:"focusNextRenameSuggestion",title:vi({},f.vv("focusNextRenameSuggestion","Focus Next Rename Suggestion")),precondition:we,keybinding:[{primary:18,weight:199}]})}run(me){const be=me.get(g.$).getFocusedCodeEditor();if(!be)return;const oe=le.get(be);oe&&oe.focusNextRenameSuggestion()}}),(0,y.r1)(class extends y.Ke{constructor(){super({id:"focusPreviousRenameSuggestion",title:vi({},f.vv("focusPreviousRenameSuggestion","Focus Previous Rename Suggestion")),precondition:we,keybinding:[{primary:16,weight:199}]})}run(me){const be=me.get(g.$).getFocusedCodeEditor();if(!be)return;const oe=le.get(be);oe&&oe.focusPreviousRenameSuggestion()}}),(0,w.sb)("_executeDocumentRenameProvider",function(Ce,me,be,...oe){const[ue]=oe;(0,E.p_)(typeof ue=="string");const{renameProvider:de}=Ce.get(c.p);return $(de,me,be,ue)}),(0,w.sb)("_executePrepareRename",function(Ce,me,be){return Ft(this,null,function*(){const{renameProvider:oe}=Ce.get(c.p),de=yield new fe(me,be,oe).resolveRenameLocation(x.Ts.None);if(de!=null&&de.rejectReason)throw new Error(de.rejectReason);return de})}),K.B.as(C.IP.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:f.NC("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}})},16193:function(et,Le,e){"use strict";var o=e(74696),B=e(45029),x=e(92635),O=e(81275),S=e(93059),p=e(29256),E=function(g,a,r,i){var n=arguments.length,c=n<3?a:i===null?i=Object.getOwnPropertyDescriptor(a,r):i,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(g,a,r,i);else for(var l=g.length-1;l>=0;l--)(u=g[l])&&(c=(n<3?u(c):n>3?u(a,r,c):u(a,r))||c);return n>3&&c&&Object.defineProperty(a,r,c),c},R=function(g,a){return function(r,i){a(r,i,g)}};let w=class extends B.JT{constructor(a,r,i){super(),this.editor=a,this.languageConfigurationService=r,this.editorWorkerService=i,this.decorations=this.editor.createDecorationsCollection(),this.options=this.createOptions(a.getOption(73)),this.computePromise=null,this.currentOccurrences={},this._register(a.onDidChangeModel(n=>{this.currentOccurrences={},this.options=this.createOptions(a.getOption(73)),this.stop(),this.computeSectionHeaders.schedule(0)})),this._register(a.onDidChangeModelLanguage(n=>{this.currentOccurrences={},this.options=this.createOptions(a.getOption(73)),this.stop(),this.computeSectionHeaders.schedule(0)})),this._register(r.onDidChange(n=>{var c;const u=(c=this.editor.getModel())===null||c===void 0?void 0:c.getLanguageId();u&&n.affects(u)&&(this.currentOccurrences={},this.options=this.createOptions(a.getOption(73)),this.stop(),this.computeSectionHeaders.schedule(0))})),this._register(a.onDidChangeConfiguration(n=>{this.options&&!n.hasChanged(73)||(this.options=this.createOptions(a.getOption(73)),this.updateDecorations([]),this.stop(),this.computeSectionHeaders.schedule(0))})),this._register(this.editor.onDidChangeModelContent(n=>{this.computeSectionHeaders.schedule()})),this._register(a.onDidChangeModelTokens(n=>{this.computeSectionHeaders.isScheduled()||this.computeSectionHeaders.schedule(1e3)})),this.computeSectionHeaders=this._register(new o.pY(()=>{this.findSectionHeaders()},250)),this.computeSectionHeaders.schedule(0)}createOptions(a){if(!a||!this.editor.hasModel())return;const r=this.editor.getModel().getLanguageId();if(!r)return;const i=this.languageConfigurationService.getLanguageConfiguration(r).comments,n=this.languageConfigurationService.getLanguageConfiguration(r).foldingRules;if(!(!i&&!(n!=null&&n.markers)))return{foldingRules:n,findMarkSectionHeaders:a.showMarkSectionHeaders,findRegionSectionHeaders:a.showRegionSectionHeaders}}findSectionHeaders(){var a,r;if(!this.editor.hasModel()||!(!((a=this.options)===null||a===void 0)&&a.findMarkSectionHeaders)&&!(!((r=this.options)===null||r===void 0)&&r.findRegionSectionHeaders))return;const i=this.editor.getModel();if(i.isDisposed()||i.isTooLargeForSyncing())return;const n=i.getVersionId();this.editorWorkerService.findSectionHeaders(i.uri,this.options).then(c=>{i.isDisposed()||i.getVersionId()!==n||this.updateDecorations(c)})}updateDecorations(a){const r=this.editor.getModel();r&&(a=a.filter(c=>{if(!c.shouldBeInComments)return!0;const u=r.validateRange(c.range),l=r.tokenization.getLineTokens(u.startLineNumber),D=l.findTokenIndexAtOffset(u.startColumn-1),f=l.getStandardTokenType(D);return l.getLanguageId(D)===r.getLanguageId()&&f===1}));const i=Object.values(this.currentOccurrences).map(c=>c.decorationId),n=a.map(c=>m(c));this.editor.changeDecorations(c=>{const u=c.deltaDecorations(i,n);this.currentOccurrences={};for(let l=0,D=u.length;l<D;l++){const f={sectionHeader:a[l],decorationId:u[l]};this.currentOccurrences[f.decorationId]=f}})}stop(){this.computeSectionHeaders.cancel(),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop(),this.decorations.clear()}};w.ID="editor.sectionHeaderDetector",w=E([R(1,O.c_),R(2,p.p)],w);function m(g){return{range:g.range,options:S.qx.createDynamic({description:"section-header",stickiness:3,collapseOnReplaceEdit:!0,minimap:{color:void 0,position:1,sectionHeaderStyle:g.hasSeparatorLine?2:1,sectionHeaderText:g.text}})}}(0,x._K)(w.ID,w,1)},64792:function(et,Le,e){"use strict";var o=e(45029),B=e(25602),x=e(12692),O=e(48774),S=e(74696),p=e(65642),E=e(63279),R=e(39185),w=e(69388),m=e(81580),g=e(32368),a=e(70546),r=e(19552),i=e(52709),n=e(28465),c=function(C,_,N,b){var k=arguments.length,V=k<3?_:b===null?b=Object.getOwnPropertyDescriptor(_,N):b,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")V=Reflect.decorate(C,_,N,b);else for(var Z=C.length-1;Z>=0;Z--)(K=C[Z])&&(V=(k<3?K(V):k>3?K(_,N,V):K(_,N))||V);return k>3&&V&&Object.defineProperty(_,N,V),V},u=function(C,_){return function(N,b){_(N,b,C)}},l;let D=class extends o.JT{constructor(_,N,b,k,V,K){super(),this._watchers=Object.create(null);const Z=P=>{this._watchers[P.uri.toString()]=new f(P,_,b,V,K)},z=(P,I)=>{I.dispose(),delete this._watchers[P.uri.toString()]},A=()=>{for(const P of N.getModels()){const I=this._watchers[P.uri.toString()];(0,n.t)(P,b,k)?I||Z(P):I&&z(P,I)}};N.getModels().forEach(P=>{(0,n.t)(P,b,k)&&Z(P)}),this._register(N.onModelAdded(P=>{(0,n.t)(P,b,k)&&Z(P)})),this._register(N.onModelRemoved(P=>{const I=this._watchers[P.uri.toString()];I&&z(P,I)})),this._register(k.onDidChangeConfiguration(P=>{P.affectsConfiguration(n.e)&&A()})),this._register(b.onDidColorThemeChange(A))}dispose(){for(const _ of Object.values(this._watchers))_.dispose();super.dispose()}};D=c([u(0,r.s),u(1,x.q),u(2,E.XE),u(3,O.Ui),u(4,m.A),u(5,a.p)],D);let f=l=class extends o.JT{constructor(_,N,b,k,V){super(),this._semanticTokensStylingService=N,this._isDisposed=!1,this._model=_,this._provider=V.documentSemanticTokensProvider,this._debounceInformation=k.for(this._provider,"DocumentSemanticTokens",{min:l.REQUEST_MIN_DELAY,max:l.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new S.pY(()=>this._fetchDocumentSemanticTokensNow(),l.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._providersChangedDuringRequest=!1,this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeAttached(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const K=()=>{(0,o.B9)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const Z of this._provider.all(_))typeof Z.onDidChange=="function"&&this._documentProvidersChangeListeners.push(Z.onDidChange(()=>{if(this._currentDocumentRequestCancellationTokenSource){this._providersChangedDuringRequest=!0;return}this._fetchDocumentSemanticTokens.schedule(0)}))};K(),this._register(this._provider.onDidChange(()=>{K(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(b.onDidColorThemeChange(Z=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),(0,o.B9)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[],this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,w.Jc)(this._provider,this._model)){this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1);return}if(!this._model.isAttachedToEditor())return;const _=new p.AU,N=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,b=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,k=(0,w.ML)(this._provider,this._model,N,b,_.token);this._currentDocumentRequestCancellationTokenSource=_,this._providersChangedDuringRequest=!1;const V=[],K=this._model.onDidChangeContent(z=>{V.push(z)}),Z=new g.G(!1);k.then(z=>{if(this._debounceInformation.update(this._model,Z.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,K.dispose(),!z)this._setDocumentSemanticTokens(null,null,null,V);else{const{provider:A,tokens:P}=z,I=this._semanticTokensStylingService.getStyling(A);this._setDocumentSemanticTokens(A,P||null,I,V)}},z=>{z&&(B.n2(z)||typeof z.message=="string"&&z.message.indexOf("busy")!==-1)||B.dL(z),this._currentDocumentRequestCancellationTokenSource=null,K.dispose(),(V.length>0||this._providersChangedDuringRequest)&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(_,N,b,k,V){V=Math.min(V,b.length-k,_.length-N);for(let K=0;K<V;K++)b[k+K]=_[N+K]}_setDocumentSemanticTokens(_,N,b,k){const V=this._currentDocumentResponse,K=()=>{(k.length>0||this._providersChangedDuringRequest)&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){_&&N&&_.releaseDocumentSemanticTokens(N.resultId);return}if(!_||!b){this._model.tokenization.setSemanticTokens(null,!1);return}if(!N){this._model.tokenization.setSemanticTokens(null,!0),K();return}if((0,w.Vj)(N)){if(!V){this._model.tokenization.setSemanticTokens(null,!0);return}if(N.edits.length===0)N={resultId:N.resultId,data:V.data};else{let Z=0;for(const W of N.edits)Z+=(W.data?W.data.length:0)-W.deleteCount;const z=V.data,A=new Uint32Array(z.length+Z);let P=z.length,I=A.length;for(let W=N.edits.length-1;W>=0;W--){const G=N.edits[W];if(G.start>z.length){b.warnInvalidEditStart(V.resultId,N.resultId,W,G.start,z.length),this._model.tokenization.setSemanticTokens(null,!0);return}const j=P-(G.start+G.deleteCount);j>0&&(l._copy(z,P-j,A,I-j,j),I-=j),G.data&&(l._copy(G.data,0,A,I-G.data.length,G.data.length),I-=G.data.length),P=G.start}P>0&&l._copy(z,0,A,0,P),N={resultId:N.resultId,data:A}}}if((0,w.Vl)(N)){this._currentDocumentResponse=new y(_,N.resultId,N.data);const Z=(0,R.h)(N,b,this._model.getLanguageId());if(k.length>0)for(const z of k)for(const A of Z)for(const P of z.changes)A.applyEdit(P.range,P.text);this._model.tokenization.setSemanticTokens(Z,!0)}else this._model.tokenization.setSemanticTokens(null,!0);K()}};f.REQUEST_MIN_DELAY=300,f.REQUEST_MAX_DELAY=2e3,f=l=c([u(1,r.s),u(2,E.XE),u(3,m.A),u(4,a.p)],f);class y{constructor(_,N,b){this.provider=_,this.resultId=N,this.data=b}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}(0,i.y)(D)},34281:function(et,Le,e){"use strict";var o=e(74696),B=e(45029),x=e(92635),O=e(69388),S=e(28465),p=e(39185),E=e(48774),R=e(63279),w=e(81580),m=e(32368),g=e(70546),a=e(19552),r=function(c,u,l,D){var f=arguments.length,y=f<3?u:D===null?D=Object.getOwnPropertyDescriptor(u,l):D,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(c,u,l,D);else for(var _=c.length-1;_>=0;_--)(C=c[_])&&(y=(f<3?C(y):f>3?C(u,l,y):C(u,l))||y);return f>3&&y&&Object.defineProperty(u,l,y),y},i=function(c,u){return function(l,D){u(l,D,c)}};let n=class extends B.JT{constructor(u,l,D,f,y,C){super(),this._semanticTokensStylingService=l,this._themeService=D,this._configurationService=f,this._editor=u,this._provider=C.documentRangeSemanticTokensProvider,this._debounceInformation=y.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new o.pY(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const _=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{_()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),_()})),this._register(this._editor.onDidChangeModelContent(N=>{this._cancelAll(),_()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),_()})),this._register(this._configurationService.onDidChangeConfiguration(N=>{N.affectsConfiguration(S.e)&&(this._cancelAll(),_())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),_()})),_()}_cancelAll(){for(const u of this._outstandingRequests)u.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(u){for(let l=0,D=this._outstandingRequests.length;l<D;l++)if(this._outstandingRequests[l]===u){this._outstandingRequests.splice(l,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const u=this._editor.getModel();if(u.tokenization.hasCompleteSemanticTokens())return;if(!(0,S.t)(u,this._themeService,this._configurationService)){u.tokenization.hasSomeSemanticTokens()&&u.tokenization.setSemanticTokens(null,!1);return}if(!(0,O.KO)(this._provider,u)){u.tokenization.hasSomeSemanticTokens()&&u.tokenization.setSemanticTokens(null,!1);return}const l=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(l.map(D=>this._requestRange(u,D)))}_requestRange(u,l){const D=u.getVersionId(),f=(0,o.PG)(C=>Promise.resolve((0,O.OG)(this._provider,u,l,C))),y=new m.G(!1);return f.then(C=>{if(this._debounceInformation.update(u,y.elapsed()),!C||!C.tokens||u.isDisposed()||u.getVersionId()!==D)return;const{provider:_,tokens:N}=C,b=this._semanticTokensStylingService.getStyling(_);u.tokenization.setPartialSemanticTokens(l,(0,p.h)(N,b,u.getLanguageId()))}).then(()=>this._removeOutstandingRequest(f),()=>this._removeOutstandingRequest(f)),f}};n.ID="editor.contrib.viewportSemanticTokens",n=r([i(1,a.s),i(2,R.XE),i(3,E.Ui),i(4,w.A),i(5,g.p)],n),(0,x._K)(n.ID,n,1)},69388:function(et,Le,e){"use strict";e.d(Le,{OG:function(){return b},ML:function(){return f},KO:function(){return _},Jc:function(){return l},Vl:function(){return n},Vj:function(){return c}});var o=e(65642),B=e(25602),x=e(10058),O=e(12692),S=e(83349),p=e(26974),E=e(79475),R=e(15122);function w(k){for(let V=0,K=k.length;V<K;V+=4){const Z=k[V+0],z=k[V+1],A=k[V+2],P=k[V+3];k[V+0]=P,k[V+1]=A,k[V+2]=z,k[V+3]=Z}}function m(k){const V=new Uint8Array(k.buffer,k.byteOffset,k.length*4);return R.r()||w(V),E.KN.wrap(V)}function g(k){const V=new Uint32Array(a(k));let K=0;if(V[K++]=k.id,k.type==="full")V[K++]=1,V[K++]=k.data.length,V.set(k.data,K),K+=k.data.length;else{V[K++]=2,V[K++]=k.deltas.length;for(const Z of k.deltas)V[K++]=Z.start,V[K++]=Z.deleteCount,Z.data?(V[K++]=Z.data.length,V.set(Z.data,K),K+=Z.data.length):V[K++]=0}return m(V)}function a(k){let V=0;if(V+=2,k.type==="full")V+=1+k.data.length;else{V+=1,V+=3*k.deltas.length;for(const K of k.deltas)K.data&&(V+=K.data.length)}return V}var r=e(4694),i=e(70546);function n(k){return k&&!!k.data}function c(k){return k&&Array.isArray(k.edits)}class u{constructor(V,K,Z){this.provider=V,this.tokens=K,this.error=Z}}function l(k,V){return k.has(V)}function D(k,V){const K=k.orderedGroups(V);return K.length>0?K[0]:[]}function f(k,V,K,Z,z){return Ft(this,null,function*(){const A=D(k,V),P=yield Promise.all(A.map(I=>Ft(this,null,function*(){let W,G=null;try{W=yield I.provideDocumentSemanticTokens(V,I===K?Z:null,z)}catch(j){G=j,W=null}return(!W||!n(W)&&!c(W))&&(W=null),new u(I,W,G)})));for(const I of P){if(I.error)throw I.error;if(I.tokens)return I}return P.length>0?P[0]:null})}function y(k,V){const K=k.orderedGroups(V);return K.length>0?K[0]:null}class C{constructor(V,K){this.provider=V,this.tokens=K}}function _(k,V){return k.has(V)}function N(k,V){const K=k.orderedGroups(V);return K.length>0?K[0]:[]}function b(k,V,K,Z){return Ft(this,null,function*(){const z=N(k,V),A=yield Promise.all(z.map(P=>Ft(this,null,function*(){let I;try{I=yield P.provideDocumentRangeSemanticTokens(V,K,Z)}catch(W){(0,B.Cp)(W),I=null}return(!I||!n(I))&&(I=null),new C(P,I)})));for(const P of A)if(P.tokens)return P;return A.length>0?A[0]:null})}S.P.registerCommand("_provideDocumentSemanticTokensLegend",(k,...V)=>Ft(this,null,function*(){const[K]=V;(0,p.p_)(K instanceof x.o);const Z=k.get(O.q).getModel(K);if(!Z)return;const{documentSemanticTokensProvider:z}=k.get(i.p),A=y(z,Z);return A?A[0].getLegend():k.get(S.H).executeCommand("_provideDocumentRangeSemanticTokensLegend",K)})),S.P.registerCommand("_provideDocumentSemanticTokens",(k,...V)=>Ft(this,null,function*(){const[K]=V;(0,p.p_)(K instanceof x.o);const Z=k.get(O.q).getModel(K);if(!Z)return;const{documentSemanticTokensProvider:z}=k.get(i.p);if(!l(z,Z))return k.get(S.H).executeCommand("_provideDocumentRangeSemanticTokens",K,Z.getFullModelRange());const A=yield f(z,Z,null,null,o.Ts.None);if(!A)return;const{provider:P,tokens:I}=A;if(!I||!n(I))return;const W=g({id:0,type:"full",data:I.data});return I.resultId&&P.releaseDocumentSemanticTokens(I.resultId),W})),S.P.registerCommand("_provideDocumentRangeSemanticTokensLegend",(k,...V)=>Ft(this,null,function*(){const[K,Z]=V;(0,p.p_)(K instanceof x.o);const z=k.get(O.q).getModel(K);if(!z)return;const{documentRangeSemanticTokensProvider:A}=k.get(i.p),P=N(A,z);if(P.length===0)return;if(P.length===1)return P[0].getLegend();if(!Z||!r.e.isIRange(Z))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),P[0].getLegend();const I=yield b(A,z,r.e.lift(Z),o.Ts.None);if(I)return I.provider.getLegend()})),S.P.registerCommand("_provideDocumentRangeSemanticTokens",(k,...V)=>Ft(this,null,function*(){const[K,Z]=V;(0,p.p_)(K instanceof x.o),(0,p.p_)(r.e.isIRange(Z));const z=k.get(O.q).getModel(K);if(!z)return;const{documentRangeSemanticTokensProvider:A}=k.get(i.p),P=yield b(A,z,r.e.lift(Z),o.Ts.None);if(!(!P||!P.tokens))return g({id:0,type:"full",data:P.tokens.data})}))},28465:function(et,Le,e){"use strict";e.d(Le,{e:function(){return o},t:function(){return B}});const o="editor.semanticHighlighting";function B(x,O,S){var p;const E=(p=S.getValue(o,{overrideIdentifier:x.getLanguageId(),resource:x.uri}))===null||p===void 0?void 0:p.enabled;return typeof E=="boolean"?E:O.getColorTheme().semanticHighlighting}},9488:function(et,Le,e){"use strict";e.d(Le,{x:function(){return O}});var o=e(50138),B=e(93895),x=e(4694);class O{provideSelectionRanges(p,E){return Ft(this,null,function*(){const R=[];for(const w of E){const m=[];R.push(m);const g=new Map;yield new Promise(a=>O._bracketsRightYield(a,0,p,w,g)),yield new Promise(a=>O._bracketsLeftYield(a,0,p,w,g,m))}return R})}static _bracketsRightYield(p,E,R,w,m){const g=new Map,a=Date.now();for(;;){if(E>=O._maxRounds){p();break}if(!w){p();break}const r=R.bracketPairs.findNextBracket(w);if(!r){p();break}if(Date.now()-a>O._maxDuration){setTimeout(()=>O._bracketsRightYield(p,E+1,R,w,m));break}if(r.bracketInfo.isOpeningBracket){const n=r.bracketInfo.bracketText,c=g.has(n)?g.get(n):0;g.set(n,c+1)}else{const n=r.bracketInfo.getOpeningBrackets()[0].bracketText;let c=g.has(n)?g.get(n):0;if(c-=1,g.set(n,Math.max(0,c)),c<0){let u=m.get(n);u||(u=new o.S,m.set(n,u)),u.push(r.range)}}w=r.range.getEndPosition()}}static _bracketsLeftYield(p,E,R,w,m,g){const a=new Map,r=Date.now();for(;;){if(E>=O._maxRounds&&m.size===0){p();break}if(!w){p();break}const i=R.bracketPairs.findPrevBracket(w);if(!i){p();break}if(Date.now()-r>O._maxDuration){setTimeout(()=>O._bracketsLeftYield(p,E+1,R,w,m,g));break}if(i.bracketInfo.isOpeningBracket){const c=i.bracketInfo.bracketText;let u=a.has(c)?a.get(c):0;if(u-=1,a.set(c,Math.max(0,u)),u<0){const l=m.get(c);if(l){const D=l.shift();l.size===0&&m.delete(c);const f=x.e.fromPositions(i.range.getEndPosition(),D.getStartPosition()),y=x.e.fromPositions(i.range.getStartPosition(),D.getEndPosition());g.push({range:f}),g.push({range:y}),O._addBracketLeading(R,y,g)}}}else{const c=i.bracketInfo.getOpeningBrackets()[0].bracketText,u=a.has(c)?a.get(c):0;a.set(c,u+1)}w=i.range.getStartPosition()}}static _addBracketLeading(p,E,R){if(E.startLineNumber===E.endLineNumber)return;const w=E.startLineNumber,m=p.getLineFirstNonWhitespaceColumn(w);m!==0&&m!==E.startColumn&&(R.push({range:x.e.fromPositions(new B.L(w,m),E.getEndPosition())}),R.push({range:x.e.fromPositions(new B.L(w,1),E.getEndPosition())}));const g=w-1;if(g>0){const a=p.getLineFirstNonWhitespaceColumn(g);a===E.startColumn&&a!==p.getLineLastNonWhitespaceColumn(g)&&(R.push({range:x.e.fromPositions(new B.L(g,a),E.getEndPosition())}),R.push({range:x.e.fromPositions(new B.L(g,1),E.getEndPosition())}))}}}O._maxDuration=30,O._maxRounds=2},43142:function(et,Le,e){"use strict";var o=e(71221),B=e(65642),x=e(25602),O=e(92635),S=e(93895),p=e(4694),E=e(14149),R=e(22706),w=e(9488),m=e(30144);class g{constructor(Z=!0){this.selectSubwords=Z}provideSelectionRanges(Z,z){const A=[];for(const P of z){const I=[];A.push(I),this.selectSubwords&&this._addInWordRanges(I,Z,P),this._addWordRanges(I,Z,P),this._addWhitespaceLine(I,Z,P),I.push({range:Z.getFullModelRange()})}return A}_addInWordRanges(Z,z,A){const P=z.getWordAtPosition(A);if(!P)return;const{word:I,startColumn:W}=P,G=A.column-W;let j=G,Y=G,H=0;for(;j>=0;j--){const Q=I.charCodeAt(j);if(j!==G&&(Q===95||Q===45))break;if((0,m.mK)(Q)&&(0,m.df)(H))break;H=Q}for(j+=1;Y<I.length;Y++){const Q=I.charCodeAt(Y);if((0,m.df)(Q)&&(0,m.mK)(H))break;if(Q===95||Q===45)break;H=Q}j<Y&&Z.push({range:new p.e(A.lineNumber,W+j,A.lineNumber,W+Y)})}_addWordRanges(Z,z,A){const P=z.getWordAtPosition(A);P&&Z.push({range:new p.e(A.lineNumber,P.startColumn,A.lineNumber,P.endColumn)})}_addWhitespaceLine(Z,z,A){z.getLineLength(A.lineNumber)>0&&z.getLineFirstNonWhitespaceColumn(A.lineNumber)===0&&z.getLineLastNonWhitespaceColumn(A.lineNumber)===0&&Z.push({range:new p.e(A.lineNumber,1,A.lineNumber,z.getLineMaxColumn(A.lineNumber))})}}var a=e(61652),r=e(69713),i=e(83349),n=e(70546),c=e(21592),u=e(26974),l=e(10058),D=function(K,Z,z,A){var P=arguments.length,I=P<3?Z:A===null?A=Object.getOwnPropertyDescriptor(Z,z):A,W;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(K,Z,z,A);else for(var G=K.length-1;G>=0;G--)(W=K[G])&&(I=(P<3?W(I):P>3?W(Z,z,I):W(Z,z))||I);return P>3&&I&&Object.defineProperty(Z,z,I),I},f=function(K,Z){return function(z,A){Z(z,A,K)}},y;class C{constructor(Z,z){this.index=Z,this.ranges=z}mov(Z){const z=this.index+(Z?1:-1);if(z<0||z>=this.ranges.length)return this;const A=new C(z,this.ranges);return A.ranges[z].equalsRange(this.ranges[this.index])?A.mov(Z):A}}let _=y=class{static get(Z){return Z.getContribution(y.ID)}constructor(Z,z){this._editor=Z,this._languageFeaturesService=z,this._ignoreSelection=!1}dispose(){var Z;(Z=this._selectionListener)===null||Z===void 0||Z.dispose()}run(Z){return Ft(this,null,function*(){if(!this._editor.hasModel())return;const z=this._editor.getSelections(),A=this._editor.getModel();if(this._state||(yield V(this._languageFeaturesService.selectionRangeProvider,A,z.map(I=>I.getPosition()),this._editor.getOption(113),B.Ts.None).then(I=>{var W;if(!(!o.Of(I)||I.length!==z.length)&&!(!this._editor.hasModel()||!o.fS(this._editor.getSelections(),z,(G,j)=>G.equalsSelection(j)))){for(let G=0;G<I.length;G++)I[G]=I[G].filter(j=>j.containsPosition(z[G].getStartPosition())&&j.containsPosition(z[G].getEndPosition())),I[G].unshift(z[G]);this._state=I.map(G=>new C(0,G)),(W=this._selectionListener)===null||W===void 0||W.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var G;this._ignoreSelection||((G=this._selectionListener)===null||G===void 0||G.dispose(),this._state=void 0)})}})),!this._state)return;this._state=this._state.map(I=>I.mov(Z));const P=this._state.map(I=>E.Y.fromPositions(I.ranges[I.index].getStartPosition(),I.ranges[I.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(P)}finally{this._ignoreSelection=!1}})}};_.ID="editor.contrib.smartSelectController",_=y=D([f(1,n.p)],_);class N extends O.R6{constructor(Z,z){super(z),this._forward=Z}run(Z,z){return Ft(this,null,function*(){const A=_.get(z);A&&(yield A.run(this._forward))})}}class b extends N{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:a.NC("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:R.u.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:r.eH.MenubarSelectionMenu,group:"1_basic",title:a.NC({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}i.P.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class k extends N{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:a.NC("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:R.u.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:r.eH.MenubarSelectionMenu,group:"1_basic",title:a.NC({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}(0,O._K)(_.ID,_,4),(0,O.Qr)(b),(0,O.Qr)(k);function V(K,Z,z,A,P){return Ft(this,null,function*(){const I=K.all(Z).concat(new g(A.selectSubwords));I.length===1&&I.unshift(new w.x);const W=[],G=[];for(const j of I)W.push(Promise.resolve(j.provideSelectionRanges(Z,z,P)).then(Y=>{if(o.Of(Y)&&Y.length===z.length)for(let H=0;H<z.length;H++){G[H]||(G[H]=[]);for(const Q of Y[H])p.e.isIRange(Q.range)&&p.e.containsPosition(Q.range,z[H])&&G[H].push(p.e.lift(Q.range))}},x.Cp));return yield Promise.all(W),G.map(j=>{if(j.length===0)return[];j.sort((ie,te)=>S.L.isBefore(ie.getStartPosition(),te.getStartPosition())?1:S.L.isBefore(te.getStartPosition(),ie.getStartPosition())||S.L.isBefore(ie.getEndPosition(),te.getEndPosition())?-1:S.L.isBefore(te.getEndPosition(),ie.getEndPosition())?1:0);const Y=[];let H;for(const ie of j)(!H||p.e.containsRange(ie,H)&&!p.e.equalsRange(ie,H))&&(Y.push(ie),H=ie);if(!A.selectLeadingAndTrailingWhitespace)return Y;const Q=[Y[0]];for(let ie=1;ie<Y.length;ie++){const te=Y[ie-1],se=Y[ie];if(se.startLineNumber!==te.startLineNumber||se.endLineNumber!==te.endLineNumber){const ne=new p.e(te.startLineNumber,Z.getLineFirstNonWhitespaceColumn(te.startLineNumber),te.endLineNumber,Z.getLineLastNonWhitespaceColumn(te.endLineNumber));ne.containsRange(te)&&!ne.equalsRange(te)&&se.containsRange(ne)&&!se.equalsRange(ne)&&Q.push(ne);const ee=new p.e(te.startLineNumber,1,te.endLineNumber,Z.getLineMaxColumn(te.endLineNumber));ee.containsRange(te)&&!ee.equalsRange(ne)&&se.containsRange(ee)&&!se.equalsRange(ee)&&Q.push(ee)}Q.push(se)}return Q})})}i.P.registerCommand("_executeSelectionRangeProvider",function(K,...Z){return Ft(this,null,function*(){const[z,A]=Z;(0,u.p_)(l.o.isUri(z));const P=K.get(n.p).selectionRangeProvider,I=yield K.get(c.S).createModelReference(z);try{return V(P,I.object.textEditorModel,A,{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},B.Ts.None)}finally{I.dispose()}})})},50020:function(et,Le,e){"use strict";e.d(Le,{f:function(){return u}});var o=e(45029),B=e(26974),x=e(92635),O=e(93895),S=e(22706),p=e(81275),E=e(70546),R=e(73746),w=e(61652),m=e(80568),g=e(61629),a=e(87257),r=function(D,f,y,C){var _=arguments.length,N=_<3?f:C===null?C=Object.getOwnPropertyDescriptor(f,y):C,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(D,f,y,C);else for(var k=D.length-1;k>=0;k--)(b=D[k])&&(N=(_<3?b(N):_>3?b(f,y,N):b(f,y))||N);return _>3&&N&&Object.defineProperty(f,y,N),N},i=function(D,f){return function(y,C){f(y,C,D)}},n;const c={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let u=n=class{static get(f){return f.getContribution(n.ID)}constructor(f,y,C,_,N){this._editor=f,this._logService=y,this._languageFeaturesService=C,this._languageConfigurationService=N,this._snippetListener=new o.SL,this._modelVersionId=-1,this._inSnippet=n.InSnippetMode.bindTo(_),this._hasNextTabstop=n.HasNextTabstop.bindTo(_),this._hasPrevTabstop=n.HasPrevTabstop.bindTo(_)}dispose(){var f;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(f=this._session)===null||f===void 0||f.dispose(),this._snippetListener.dispose()}insert(f,y){try{this._doInsert(f,typeof y=="undefined"?c:vi(vi({},c),y))}catch(C){this.cancel(),this._logService.error(C),this._logService.error("snippet_error"),this._logService.error("insert_template=",f),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(f,y){var C;if(this._editor.hasModel()){if(this._snippetListener.clear(),y.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&typeof f!="string"&&this.cancel(),this._session?((0,B.p_)(typeof f=="string"),this._session.merge(f,y)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new a.l(this._editor,f,y,this._languageConfigurationService),this._session.insert()),y.undoStopAfter&&this._editor.getModel().pushStackElement(),!((C=this._session)===null||C===void 0)&&C.hasChoice){const _={_debugDisplayName:"snippetChoiceCompletions",provideCompletionItems:(Z,z)=>{if(!this._session||Z!==this._editor.getModel()||!O.L.equals(this._editor.getPosition(),z))return;const{activeChoice:A}=this._session;if(!A||A.choice.options.length===0)return;const P=Z.getValueInRange(A.range),I=!!A.choice.options.find(G=>G.value===P),W=[];for(let G=0;G<A.choice.options.length;G++){const j=A.choice.options[G];W.push({kind:13,label:j.value,insertText:j.value,sortText:"a".repeat(G+1),range:A.range,filterText:I?`${P}_${j.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:(0,w.NC)("next","Go to next placeholder...")}})}return{suggestions:W}}},N=this._editor.getModel();let b,k=!1;const V=()=>{b==null||b.dispose(),k=!1},K=()=>{k||(b=this._languageFeaturesService.completionProvider.register({language:N.getLanguageId(),pattern:N.uri.fsPath,scheme:N.uri.scheme,exclusive:!0},_),this._snippetListener.add(b),k=!0)};this._choiceCompletions={provider:_,enable:K,disable:V}}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(_=>_.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){var f;if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{activeChoice:y}=this._session;if(!y||!this._choiceCompletions){(f=this._choiceCompletions)===null||f===void 0||f.disable(),this._currentChoice=void 0;return}this._currentChoice!==y.choice&&(this._currentChoice=y.choice,this._choiceCompletions.enable(),queueMicrotask(()=>{(0,R.i5)(this._editor,this._choiceCompletions.provider)}))}finish(){for(;this._inSnippet.get();)this.next()}cancel(f=!1){var y;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,(y=this._session)===null||y===void 0||y.dispose(),this._session=void 0,this._modelVersionId=-1,f&&this._editor.setSelections([this._editor.getSelection()])}prev(){var f;(f=this._session)===null||f===void 0||f.prev(),this._updateState()}next(){var f;(f=this._session)===null||f===void 0||f.next(),this._updateState()}isInSnippet(){return!!this._inSnippet.get()}};u.ID="snippetController2",u.InSnippetMode=new m.uy("inSnippetMode",!1,(0,w.NC)("inSnippetMode","Whether the editor in current in snippet mode")),u.HasNextTabstop=new m.uy("hasNextTabstop",!1,(0,w.NC)("hasNextTabstop","Whether there is a next tab stop when in snippet mode")),u.HasPrevTabstop=new m.uy("hasPrevTabstop",!1,(0,w.NC)("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode")),u=n=r([i(1,g.VZ),i(2,E.p),i(3,m.i6),i(4,p.c_)],u),(0,x._K)(u.ID,u,4);const l=x._l.bindToContribution(u.get);(0,x.fK)(new l({id:"jumpToNextSnippetPlaceholder",precondition:m.Ao.and(u.InSnippetMode,u.HasNextTabstop),handler:D=>D.next(),kbOpts:{weight:130,kbExpr:S.u.textInputFocus,primary:2}})),(0,x.fK)(new l({id:"jumpToPrevSnippetPlaceholder",precondition:m.Ao.and(u.InSnippetMode,u.HasPrevTabstop),handler:D=>D.prev(),kbOpts:{weight:130,kbExpr:S.u.textInputFocus,primary:1026}})),(0,x.fK)(new l({id:"leaveSnippet",precondition:u.InSnippetMode,handler:D=>D.cancel(!0),kbOpts:{weight:130,kbExpr:S.u.textInputFocus,primary:9,secondary:[1033]}})),(0,x.fK)(new l({id:"acceptSnippet",precondition:u.InSnippetMode,handler:D=>D.finish()}))},97022:function(et,Le,e){"use strict";e.d(Le,{Lv:function(){return p},Vm:function(){return S},Yj:function(){return a},xv:function(){return x},y1:function(){return g}});class o{constructor(){this.value="",this.pos=0}static isDigitCharacter(i){return i>=48&&i<=57}static isVariableCharacter(i){return i===95||i>=97&&i<=122||i>=65&&i<=90}text(i){this.value=i,this.pos=0}tokenText(i){return this.value.substr(i.pos,i.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};const i=this.pos;let n=0,c=this.value.charCodeAt(i),u;if(u=o._table[c],typeof u=="number")return this.pos+=1,{type:u,pos:i,len:1};if(o.isDigitCharacter(c)){u=8;do n+=1,c=this.value.charCodeAt(i+n);while(o.isDigitCharacter(c));return this.pos+=n,{type:u,pos:i,len:n}}if(o.isVariableCharacter(c)){u=9;do c=this.value.charCodeAt(i+ ++n);while(o.isVariableCharacter(c)||o.isDigitCharacter(c));return this.pos+=n,{type:u,pos:i,len:n}}u=10;do n+=1,c=this.value.charCodeAt(i+n);while(!isNaN(c)&&typeof o._table[c]=="undefined"&&!o.isDigitCharacter(c)&&!o.isVariableCharacter(c));return this.pos+=n,{type:u,pos:i,len:n}}}o._table={36:0,58:1,44:2,123:3,125:4,92:5,47:6,124:7,43:11,45:12,63:13};class B{constructor(){this._children=[]}appendChild(i){return i instanceof x&&this._children[this._children.length-1]instanceof x?this._children[this._children.length-1].value+=i.value:(i.parent=this,this._children.push(i)),this}replace(i,n){const{parent:c}=i,u=c.children.indexOf(i),l=c.children.slice(0);l.splice(u,1,...n),c._children=l,function D(f,y){for(const C of f)C.parent=y,D(C.children,C)}(n,c)}get children(){return this._children}get rightMostDescendant(){return this._children.length>0?this._children[this._children.length-1].rightMostDescendant:this}get snippet(){let i=this;for(;;){if(!i)return;if(i instanceof g)return i;i=i.parent}}toString(){return this.children.reduce((i,n)=>i+n.toString(),"")}len(){return 0}}class x extends B{constructor(i){super(),this.value=i}toString(){return this.value}len(){return this.value.length}clone(){return new x(this.value)}}class O extends B{}class S extends O{static compareByIndex(i,n){return i.index===n.index?0:i.isFinalTabstop?1:n.isFinalTabstop||i.index<n.index?-1:i.index>n.index?1:0}constructor(i){super(),this.index=i}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof p?this._children[0]:void 0}clone(){const i=new S(this.index);return this.transform&&(i.transform=this.transform.clone()),i._children=this.children.map(n=>n.clone()),i}}class p extends B{constructor(){super(...arguments),this.options=[]}appendChild(i){return i instanceof x&&(i.parent=this,this.options.push(i)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){const i=new p;return this.options.forEach(i.appendChild,i),i}}class E extends B{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(i){const n=this;let c=!1,u=i.replace(this.regexp,function(){return c=!0,n._replace(Array.prototype.slice.call(arguments,0,-2))});return!c&&this._children.some(l=>l instanceof R&&!!l.elseValue)&&(u=this._replace([])),u}_replace(i){let n="";for(const c of this._children)if(c instanceof R){let u=i[c.index]||"";u=c.resolve(u),n+=u}else n+=c.toString();return n}toString(){return""}clone(){const i=new E;return i.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),i._children=this.children.map(n=>n.clone()),i}}class R extends B{constructor(i,n,c,u){super(),this.index=i,this.shorthandName=n,this.ifValue=c,this.elseValue=u}resolve(i){return this.shorthandName==="upcase"?i?i.toLocaleUpperCase():"":this.shorthandName==="downcase"?i?i.toLocaleLowerCase():"":this.shorthandName==="capitalize"?i?i[0].toLocaleUpperCase()+i.substr(1):"":this.shorthandName==="pascalcase"?i?this._toPascalCase(i):"":this.shorthandName==="camelcase"?i?this._toCamelCase(i):"":i&&typeof this.ifValue=="string"?this.ifValue:!i&&typeof this.elseValue=="string"?this.elseValue:i||""}_toPascalCase(i){const n=i.match(/[a-z0-9]+/gi);return n?n.map(c=>c.charAt(0).toUpperCase()+c.substr(1)).join(""):i}_toCamelCase(i){const n=i.match(/[a-z0-9]+/gi);return n?n.map((c,u)=>u===0?c.charAt(0).toLowerCase()+c.substr(1):c.charAt(0).toUpperCase()+c.substr(1)).join(""):i}clone(){return new R(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class w extends O{constructor(i){super(),this.name=i}resolve(i){let n=i.resolve(this);return this.transform&&(n=this.transform.resolve(n||"")),n!==void 0?(this._children=[new x(n)],!0):!1}clone(){const i=new w(this.name);return this.transform&&(i.transform=this.transform.clone()),i._children=this.children.map(n=>n.clone()),i}}function m(r,i){const n=[...r];for(;n.length>0;){const c=n.shift();if(!i(c))break;n.unshift(...c.children)}}class g extends B{get placeholderInfo(){if(!this._placeholders){const i=[];let n;this.walk(function(c){return c instanceof S&&(i.push(c),n=!n||n.index<c.index?c:n),!0}),this._placeholders={all:i,last:n}}return this._placeholders}get placeholders(){const{all:i}=this.placeholderInfo;return i}offset(i){let n=0,c=!1;return this.walk(u=>u===i?(c=!0,!1):(n+=u.len(),!0)),c?n:-1}fullLen(i){let n=0;return m([i],c=>(n+=c.len(),!0)),n}enclosingPlaceholders(i){const n=[];let{parent:c}=i;for(;c;)c instanceof S&&n.push(c),c=c.parent;return n}resolveVariables(i){return this.walk(n=>(n instanceof w&&n.resolve(i)&&(this._placeholders=void 0),!0)),this}appendChild(i){return this._placeholders=void 0,super.appendChild(i)}replace(i,n){return this._placeholders=void 0,super.replace(i,n)}clone(){const i=new g;return this._children=this.children.map(n=>n.clone()),i}walk(i){m(this.children,i)}}class a{constructor(){this._scanner=new o,this._token={type:14,pos:0,len:0}}static escape(i){return i.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(i){return/\${?CLIPBOARD/.test(i)}parse(i,n,c){const u=new g;return this.parseFragment(i,u),this.ensureFinalTabstop(u,c!=null?c:!1,n!=null?n:!1),u}parseFragment(i,n){const c=n.children.length;for(this._scanner.text(i),this._token=this._scanner.next();this._parse(n););const u=new Map,l=[];n.walk(y=>(y instanceof S&&(y.isFinalTabstop?u.set(0,void 0):!u.has(y.index)&&y.children.length>0?u.set(y.index,y.children):l.push(y)),!0));const D=(y,C)=>{const _=u.get(y.index);if(!_)return;const N=new S(y.index);N.transform=y.transform;for(const b of _){const k=b.clone();N.appendChild(k),k instanceof S&&u.has(k.index)&&!C.has(k.index)&&(C.add(k.index),D(k,C),C.delete(k.index))}n.replace(y,[N])},f=new Set;for(const y of l)D(y,f);return n.children.slice(c)}ensureFinalTabstop(i,n,c){(n||c&&i.placeholders.length>0)&&(i.placeholders.find(l=>l.index===0)||i.appendChild(new S(0)))}_accept(i,n){if(i===void 0||this._token.type===i){const c=n?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),c}return!1}_backTo(i){return this._scanner.pos=i.pos+i.len,this._token=i,!1}_until(i){const n=this._token;for(;this._token.type!==i;){if(this._token.type===14)return!1;if(this._token.type===5){const u=this._scanner.next();if(u.type!==0&&u.type!==4&&u.type!==5)return!1}this._token=this._scanner.next()}const c=this._scanner.value.substring(n.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),c}_parse(i){return this._parseEscaped(i)||this._parseTabstopOrVariableName(i)||this._parseComplexPlaceholder(i)||this._parseComplexVariable(i)||this._parseAnything(i)}_parseEscaped(i){let n;return(n=this._accept(5,!0))?(n=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||n,i.appendChild(new x(n)),!0):!1}_parseTabstopOrVariableName(i){let n;const c=this._token;return this._accept(0)&&(n=this._accept(9,!0)||this._accept(8,!0))?(i.appendChild(/^\d+$/.test(n)?new S(Number(n)):new w(n)),!0):this._backTo(c)}_parseComplexPlaceholder(i){let n;const c=this._token;if(!(this._accept(0)&&this._accept(3)&&(n=this._accept(8,!0))))return this._backTo(c);const l=new S(Number(n));if(this._accept(1))for(;;){if(this._accept(4))return i.appendChild(l),!0;if(!this._parse(l))return i.appendChild(new x("${"+n+":")),l.children.forEach(i.appendChild,i),!0}else if(l.index>0&&this._accept(7)){const D=new p;for(;;){if(this._parseChoiceElement(D)){if(this._accept(2))continue;if(this._accept(7)&&(l.appendChild(D),this._accept(4)))return i.appendChild(l),!0}return this._backTo(c),!1}}else return this._accept(6)?this._parseTransform(l)?(i.appendChild(l),!0):(this._backTo(c),!1):this._accept(4)?(i.appendChild(l),!0):this._backTo(c)}_parseChoiceElement(i){const n=this._token,c=[];for(;!(this._token.type===2||this._token.type===7);){let u;if((u=this._accept(5,!0))?u=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||u:u=this._accept(void 0,!0),!u)return this._backTo(n),!1;c.push(u)}return c.length===0?(this._backTo(n),!1):(i.appendChild(new x(c.join(""))),!0)}_parseComplexVariable(i){let n;const c=this._token;if(!(this._accept(0)&&this._accept(3)&&(n=this._accept(9,!0))))return this._backTo(c);const l=new w(n);if(this._accept(1))for(;;){if(this._accept(4))return i.appendChild(l),!0;if(!this._parse(l))return i.appendChild(new x("${"+n+":")),l.children.forEach(i.appendChild,i),!0}else return this._accept(6)?this._parseTransform(l)?(i.appendChild(l),!0):(this._backTo(c),!1):this._accept(4)?(i.appendChild(l),!0):this._backTo(c)}_parseTransform(i){const n=new E;let c="",u="";for(;!this._accept(6);){let l;if(l=this._accept(5,!0)){l=this._accept(6,!0)||l,c+=l;continue}if(this._token.type!==14){c+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let l;if(l=this._accept(5,!0)){l=this._accept(5,!0)||this._accept(6,!0)||l,n.appendChild(new x(l));continue}if(!(this._parseFormatString(n)||this._parseAnything(n)))return!1}for(;!this._accept(4);){if(this._token.type!==14){u+=this._accept(void 0,!0);continue}return!1}try{n.regexp=new RegExp(c,u)}catch(l){return!1}return i.transform=n,!0}_parseFormatString(i){const n=this._token;if(!this._accept(0))return!1;let c=!1;this._accept(3)&&(c=!0);const u=this._accept(8,!0);if(u)if(c){if(this._accept(4))return i.appendChild(new R(Number(u))),!0;if(!this._accept(1))return this._backTo(n),!1}else return i.appendChild(new R(Number(u))),!0;else return this._backTo(n),!1;if(this._accept(6)){const l=this._accept(9,!0);return!l||!this._accept(4)?(this._backTo(n),!1):(i.appendChild(new R(Number(u),l)),!0)}else if(this._accept(11)){const l=this._until(4);if(l)return i.appendChild(new R(Number(u),void 0,l,void 0)),!0}else if(this._accept(12)){const l=this._until(4);if(l)return i.appendChild(new R(Number(u),void 0,void 0,l)),!0}else if(this._accept(13)){const l=this._until(1);if(l){const D=this._until(4);if(D)return i.appendChild(new R(Number(u),void 0,l,D)),!0}}else{const l=this._until(4);if(l)return i.appendChild(new R(Number(u),void 0,void 0,l)),!0}return this._backTo(n),!1}_parseAnything(i){return this._token.type!==14?(i.appendChild(new x(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}},87257:function(et,Le,e){"use strict";e.d(Le,{l:function(){return j}});var o=e(71221),B=e(45029),x=e(30144),O=e(44316),S=e(4694),p=e(14149),E=e(81275),R=e(93059),w=e(26039),m=e(48983),g=e(97022),a=e(79916),r=e(15122);function i(Y,H=r.ED){return(0,a.oP)(Y,H)?Y.charAt(0).toUpperCase()+Y.slice(1):Y}let n=Object.create(null);var c=e(99620),u=e(2644),l=e(78836),D=e(61652),f=function(Y,H,Q,ie){var te=arguments.length,se=te<3?H:ie===null?ie=Object.getOwnPropertyDescriptor(H,Q):ie,ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(Y,H,Q,ie);else for(var ee=Y.length-1;ee>=0;ee--)(ne=Y[ee])&&(se=(te<3?ne(se):te>3?ne(H,Q,se):ne(H,Q))||se);return te>3&&se&&Object.defineProperty(H,Q,se),se},y=function(Y,H){return function(Q,ie){H(Q,ie,Y)}};const C=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,CURRENT_TIMEZONE_OFFSET:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class _{constructor(H){this._delegates=H}resolve(H){for(const Q of this._delegates){const ie=Q.resolve(H);if(ie!==void 0)return ie}}}class N{constructor(H,Q,ie,te){this._model=H,this._selection=Q,this._selectionIdx=ie,this._overtypingCapturer=te}resolve(H){const{name:Q}=H;if(Q==="SELECTION"||Q==="TM_SELECTED_TEXT"){let ie=this._model.getValueInRange(this._selection)||void 0,te=this._selection.startLineNumber!==this._selection.endLineNumber;if(!ie&&this._overtypingCapturer){const se=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);se&&(ie=se.value,te=se.multiline)}if(ie&&te&&H.snippet){const se=this._model.getLineContent(this._selection.startLineNumber),ne=(0,x.V8)(se,0,this._selection.startColumn-1);let ee=ne;H.snippet.walk(he=>he===H?!1:(he instanceof g.xv&&(ee=(0,x.V8)((0,x.uq)(he.value).pop())),!0));const re=(0,x.Mh)(ee,ne);ie=ie.replace(/(\r\n|\r|\n)(.*)/g,(he,M,we)=>`${M}${ee.substr(re)}${we}`)}return ie}else{if(Q==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(Q==="TM_CURRENT_WORD"){const ie=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return ie&&ie.word||void 0}else{if(Q==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(Q==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber);if(Q==="CURSOR_INDEX")return String(this._selectionIdx);if(Q==="CURSOR_NUMBER")return String(this._selectionIdx+1)}}}}class b{constructor(H,Q){this._labelService=H,this._model=Q}resolve(H){const{name:Q}=H;if(Q==="TM_FILENAME")return c.EZ(this._model.uri.fsPath);if(Q==="TM_FILENAME_BASE"){const ie=c.EZ(this._model.uri.fsPath),te=ie.lastIndexOf(".");return te<=0?ie:ie.slice(0,te)}else{if(Q==="TM_DIRECTORY")return c.XX(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel((0,u.XX)(this._model.uri));if(Q==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(Q==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}class k{constructor(H,Q,ie,te){this._readClipboardText=H,this._selectionIdx=Q,this._selectionCount=ie,this._spread=te}resolve(H){if(H.name!=="CLIPBOARD")return;const Q=this._readClipboardText();if(Q){if(this._spread){const ie=Q.split(/\r\n|\n|\r/).filter(te=>!(0,x.m5)(te));if(ie.length===this._selectionCount)return ie[this._selectionIdx]}return Q}}}let V=class{constructor(H,Q,ie){this._model=H,this._selection=Q,this._languageConfigurationService=ie}resolve(H){const{name:Q}=H,ie=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),te=this._languageConfigurationService.getLanguageConfiguration(ie).comments;if(te){if(Q==="LINE_COMMENT")return te.lineCommentToken||void 0;if(Q==="BLOCK_COMMENT_START")return te.blockCommentStartToken||void 0;if(Q==="BLOCK_COMMENT_END")return te.blockCommentEndToken||void 0}}};V=f([y(2,E.c_)],V);class K{constructor(){this._date=new Date}resolve(H){const{name:Q}=H;if(Q==="CURRENT_YEAR")return String(this._date.getFullYear());if(Q==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(Q==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(Q==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(Q==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(Q==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(Q==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(Q==="CURRENT_DAY_NAME")return K.dayNames[this._date.getDay()];if(Q==="CURRENT_DAY_NAME_SHORT")return K.dayNamesShort[this._date.getDay()];if(Q==="CURRENT_MONTH_NAME")return K.monthNames[this._date.getMonth()];if(Q==="CURRENT_MONTH_NAME_SHORT")return K.monthNamesShort[this._date.getMonth()];if(Q==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3));if(Q==="CURRENT_TIMEZONE_OFFSET"){const ie=this._date.getTimezoneOffset(),te=ie>0?"-":"+",se=Math.trunc(Math.abs(ie/60)),ne=se<10?"0"+se:se,ee=Math.abs(ie)-se*60,re=ee<10?"0"+ee:ee;return te+ne+":"+re}}}K.dayNames=[D.NC("Sunday","Sunday"),D.NC("Monday","Monday"),D.NC("Tuesday","Tuesday"),D.NC("Wednesday","Wednesday"),D.NC("Thursday","Thursday"),D.NC("Friday","Friday"),D.NC("Saturday","Saturday")],K.dayNamesShort=[D.NC("SundayShort","Sun"),D.NC("MondayShort","Mon"),D.NC("TuesdayShort","Tue"),D.NC("WednesdayShort","Wed"),D.NC("ThursdayShort","Thu"),D.NC("FridayShort","Fri"),D.NC("SaturdayShort","Sat")],K.monthNames=[D.NC("January","January"),D.NC("February","February"),D.NC("March","March"),D.NC("April","April"),D.NC("May","May"),D.NC("June","June"),D.NC("July","July"),D.NC("August","August"),D.NC("September","September"),D.NC("October","October"),D.NC("November","November"),D.NC("December","December")],K.monthNamesShort=[D.NC("JanuaryShort","Jan"),D.NC("FebruaryShort","Feb"),D.NC("MarchShort","Mar"),D.NC("AprilShort","Apr"),D.NC("MayShort","May"),D.NC("JuneShort","Jun"),D.NC("JulyShort","Jul"),D.NC("AugustShort","Aug"),D.NC("SeptemberShort","Sep"),D.NC("OctoberShort","Oct"),D.NC("NovemberShort","Nov"),D.NC("DecemberShort","Dec")];class Z{constructor(H){this._workspaceService=H}resolve(H){if(!this._workspaceService)return;const Q=(0,m.uT)(this._workspaceService.getWorkspace());if(!(0,m.c$)(Q)){if(H.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(Q);if(H.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(Q)}}_resolveWorkspaceName(H){if((0,m.eb)(H))return c.EZ(H.uri.path);let Q=c.EZ(H.configPath.path);return Q.endsWith(m.A6)&&(Q=Q.substr(0,Q.length-m.A6.length-1)),Q}_resoveWorkspacePath(H){if((0,m.eb)(H))return i(H.uri.fsPath);const Q=c.EZ(H.configPath.path);let ie=H.configPath.fsPath;return ie.endsWith(Q)&&(ie=ie.substr(0,ie.length-Q.length-1)),ie?i(ie):"/"}}class z{resolve(H){const{name:Q}=H;if(Q==="RANDOM")return Math.random().toString().slice(-6);if(Q==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(Q==="UUID")return(0,l.R)()}}var A=function(Y,H,Q,ie){var te=arguments.length,se=te<3?H:ie===null?ie=Object.getOwnPropertyDescriptor(H,Q):ie,ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(Y,H,Q,ie);else for(var ee=Y.length-1;ee>=0;ee--)(ne=Y[ee])&&(se=(te<3?ne(se):te>3?ne(H,Q,se):ne(H,Q))||se);return te>3&&se&&Object.defineProperty(H,Q,se),se},P=function(Y,H){return function(Q,ie){H(Q,ie,Y)}},I;class W{constructor(H,Q,ie){this._editor=H,this._snippet=Q,this._snippetLineLeadingWhitespace=ie,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=(0,o.vM)(Q.placeholders,g.Vm.compareByIndex),this._placeholderGroupsIdx=-1}initialize(H){this._offset=H.newPosition}dispose(){this._placeholderDecorations&&this._editor.removeDecorations([...this._placeholderDecorations.values()]),this._placeholderGroups.length=0}_initDecorations(){if(this._offset===-1)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const H=this._editor.getModel();this._editor.changeDecorations(Q=>{for(const ie of this._snippet.placeholders){const te=this._snippet.offset(ie),se=this._snippet.fullLen(ie),ne=S.e.fromPositions(H.getPositionAt(this._offset+te),H.getPositionAt(this._offset+te+se)),ee=ie.isFinalTabstop?W._decor.inactiveFinal:W._decor.inactive,re=Q.addDecoration(ne,ee);this._placeholderDecorations.set(ie,re)}})}move(H){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){const te=[];for(const se of this._placeholderGroups[this._placeholderGroupsIdx])if(se.transform){const ne=this._placeholderDecorations.get(se),ee=this._editor.getModel().getDecorationRange(ne),re=this._editor.getModel().getValueInRange(ee),he=se.transform.resolve(re).split(/\r\n|\r|\n/);for(let M=1;M<he.length;M++)he[M]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+he[M]);te.push(O.h.replace(ee,he.join(this._editor.getModel().getEOL())))}te.length>0&&this._editor.executeEdits("snippet.placeholderTransform",te)}let Q=!1;H===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,Q=!0):H===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,Q=!0);const ie=this._editor.getModel().changeDecorations(te=>{const se=new Set,ne=[];for(const ee of this._placeholderGroups[this._placeholderGroupsIdx]){const re=this._placeholderDecorations.get(ee),he=this._editor.getModel().getDecorationRange(re);ne.push(new p.Y(he.startLineNumber,he.startColumn,he.endLineNumber,he.endColumn)),Q=Q&&this._hasPlaceholderBeenCollapsed(ee),te.changeDecorationOptions(re,ee.isFinalTabstop?W._decor.activeFinal:W._decor.active),se.add(ee);for(const M of this._snippet.enclosingPlaceholders(ee)){const we=this._placeholderDecorations.get(M);te.changeDecorationOptions(we,M.isFinalTabstop?W._decor.activeFinal:W._decor.active),se.add(M)}}for(const[ee,re]of this._placeholderDecorations)se.has(ee)||te.changeDecorationOptions(re,ee.isFinalTabstop?W._decor.inactiveFinal:W._decor.inactive);return ne});return Q?this.move(H):ie!=null?ie:[]}_hasPlaceholderBeenCollapsed(H){let Q=H;for(;Q;){if(Q instanceof g.Vm){const ie=this._placeholderDecorations.get(Q);if(this._editor.getModel().getDecorationRange(ie).isEmpty()&&Q.toString().length>0)return!0}Q=Q.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){if(this._snippet.placeholders.length===0)return!0;if(this._snippet.placeholders.length===1){const[H]=this._snippet.placeholders;if(H.isFinalTabstop&&this._snippet.rightMostDescendant===H)return!0}return!1}computePossibleSelections(){const H=new Map;for(const Q of this._placeholderGroups){let ie;for(const te of Q){if(te.isFinalTabstop)break;ie||(ie=[],H.set(te.index,ie));const se=this._placeholderDecorations.get(te),ne=this._editor.getModel().getDecorationRange(se);if(!ne){H.delete(te.index);break}ie.push(ne)}}return H}get activeChoice(){if(!this._placeholderDecorations)return;const H=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!(H!=null&&H.choice))return;const Q=this._placeholderDecorations.get(H);if(!Q)return;const ie=this._editor.getModel().getDecorationRange(Q);if(ie)return{range:ie,choice:H.choice}}get hasChoice(){let H=!1;return this._snippet.walk(Q=>(H=Q instanceof g.Lv,!H)),H}merge(H){const Q=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(ie=>{for(const te of this._placeholderGroups[this._placeholderGroupsIdx]){const se=H.shift();console.assert(se._offset!==-1),console.assert(!se._placeholderDecorations);const ne=se._snippet.placeholderInfo.last.index;for(const re of se._snippet.placeholderInfo.all)re.isFinalTabstop?re.index=te.index+(ne+1)/this._nestingLevel:re.index=te.index+re.index/this._nestingLevel;this._snippet.replace(te,se._snippet.children);const ee=this._placeholderDecorations.get(te);ie.removeDecoration(ee),this._placeholderDecorations.delete(te);for(const re of se._snippet.placeholders){const he=se._snippet.offset(re),M=se._snippet.fullLen(re),we=S.e.fromPositions(Q.getPositionAt(se._offset+he),Q.getPositionAt(se._offset+he+M)),We=ie.addDecoration(we,W._decor.inactive);this._placeholderDecorations.set(re,We)}}this._placeholderGroups=(0,o.vM)(this._snippet.placeholders,g.Vm.compareByIndex)})}}W._decor={active:R.qx.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:R.qx.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:R.qx.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:R.qx.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const G={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let j=I=class{static adjustWhitespace(H,Q,ie,te,se){const ne=H.getLineContent(Q.lineNumber),ee=(0,x.V8)(ne,0,Q.column-1);let re;return te.walk(he=>{if(!(he instanceof g.xv)||he.parent instanceof g.Lv||se&&!se.has(he))return!0;const M=he.value.split(/\r\n|\r|\n/);if(ie){const We=te.offset(he);if(We===0)M[0]=H.normalizeIndentation(M[0]);else{re=re!=null?re:te.toString();const ye=re.charCodeAt(We-1);(ye===10||ye===13)&&(M[0]=H.normalizeIndentation(ee+M[0]))}for(let ye=1;ye<M.length;ye++)M[ye]=H.normalizeIndentation(ee+M[ye])}const we=M.join(H.getEOL());return we!==he.value&&(he.parent.replace(he,[new g.xv(we)]),re=void 0),!0}),ee}static adjustSelection(H,Q,ie,te){if(ie!==0||te!==0){const{positionLineNumber:se,positionColumn:ne}=Q,ee=ne-ie,re=ne+te,he=H.validateRange({startLineNumber:se,startColumn:ee,endLineNumber:se,endColumn:re});Q=p.Y.createWithDirection(he.startLineNumber,he.startColumn,he.endLineNumber,he.endColumn,Q.getDirection())}return Q}static createEditsAndSnippetsFromSelections(H,Q,ie,te,se,ne,ee,re,he){const M=[],we=[];if(!H.hasModel())return{edits:M,snippets:we};const We=H.getModel(),ye=H.invokeWithinContext(fe=>fe.get(m.ec)),X=H.invokeWithinContext(fe=>new b(fe.get(w.e),We)),ve=()=>ee,Ee=We.getValueInRange(I.adjustSelection(We,H.getSelection(),ie,0)),Oe=We.getValueInRange(I.adjustSelection(We,H.getSelection(),0,te)),Ke=We.getLineFirstNonWhitespaceColumn(H.getSelection().positionLineNumber),Qe=H.getSelections().map((fe,$)=>({selection:fe,idx:$})).sort((fe,$)=>S.e.compareRangesUsingStarts(fe.selection,$.selection));for(const{selection:fe,idx:$}of Qe){let le=I.adjustSelection(We,fe,ie,0),De=I.adjustSelection(We,fe,0,te);Ee!==We.getValueInRange(le)&&(le=fe),Oe!==We.getValueInRange(De)&&(De=fe);const xe=fe.setStartPosition(le.startLineNumber,le.startColumn).setEndPosition(De.endLineNumber,De.endColumn),Ce=new g.Yj().parse(Q,!0,se),me=xe.getStartPosition(),be=I.adjustWhitespace(We,me,ne||$>0&&Ke!==We.getLineFirstNonWhitespaceColumn(fe.positionLineNumber),Ce);Ce.resolveVariables(new _([X,new k(ve,$,Qe.length,H.getOption(79)==="spread"),new N(We,fe,$,re),new V(We,fe,he),new K,new Z(ye),new z])),M[$]=O.h.replace(xe,Ce.toString()),M[$].identifier={major:$,minor:0},M[$]._isTracked=!0,we[$]=new W(H,Ce,be)}return{edits:M,snippets:we}}static createEditsAndSnippetsFromEdits(H,Q,ie,te,se,ne,ee){if(!H.hasModel()||Q.length===0)return{edits:[],snippets:[]};const re=[],he=H.getModel(),M=new g.Yj,we=new g.y1,We=new _([H.invokeWithinContext(X=>new b(X.get(w.e),he)),new k(()=>se,0,H.getSelections().length,H.getOption(79)==="spread"),new N(he,H.getSelection(),0,ne),new V(he,H.getSelection(),ee),new K,new Z(H.invokeWithinContext(X=>X.get(m.ec))),new z]);Q=Q.sort((X,ve)=>S.e.compareRangesUsingStarts(X.range,ve.range));let ye=0;for(let X=0;X<Q.length;X++){const{range:ve,template:Ee}=Q[X];if(X>0){const $=Q[X-1].range,le=S.e.fromPositions($.getEndPosition(),ve.getStartPosition()),De=new g.xv(he.getValueInRange(le));we.appendChild(De),ye+=De.value.length}const Oe=M.parseFragment(Ee,we);I.adjustWhitespace(he,ve.getStartPosition(),!0,we,new Set(Oe)),we.resolveVariables(We);const Ke=we.toString(),Qe=Ke.slice(ye);ye=Ke.length;const fe=O.h.replace(ve,Qe);fe.identifier={major:X,minor:0},fe._isTracked=!0,re.push(fe)}return M.ensureFinalTabstop(we,ie,!0),{edits:re,snippets:[new W(H,we,"")]}}constructor(H,Q,ie=G,te){this._editor=H,this._template=Q,this._options=ie,this._languageConfigurationService=te,this._templateMerges=[],this._snippets=[]}dispose(){(0,B.B9)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:H,snippets:Q}=typeof this._template=="string"?I.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):I.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=Q,this._editor.executeEdits("snippet",H,ie=>{const te=ie.filter(se=>!!se.identifier);for(let se=0;se<Q.length;se++)Q[se].initialize(te[se].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):te.map(se=>p.Y.fromPositions(se.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge(H,Q=G){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,H]);const{edits:ie,snippets:te}=I.createEditsAndSnippetsFromSelections(this._editor,H,Q.overwriteBefore,Q.overwriteAfter,!0,Q.adjustWhitespace,Q.clipboardText,Q.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",ie,se=>{const ne=se.filter(re=>!!re.identifier);for(let re=0;re<te.length;re++)te[re].initialize(ne[re].textChange);const ee=te[0].isTrivialSnippet;if(!ee){for(const re of this._snippets)re.merge(te);console.assert(te.length===0)}return this._snippets[0].hasPlaceholder&&!ee?this._move(void 0):ne.map(re=>p.Y.fromPositions(re.range.getEndPosition()))})}next(){const H=this._move(!0);this._editor.setSelections(H),this._editor.revealPositionInCenterIfOutsideViewport(H[0].getPosition())}prev(){const H=this._move(!1);this._editor.setSelections(H),this._editor.revealPositionInCenterIfOutsideViewport(H[0].getPosition())}_move(H){const Q=[];for(const ie of this._snippets){const te=ie.move(H);Q.push(...te)}return Q}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const H=this._editor.getSelections();if(H.length<this._snippets.length)return!1;const Q=new Map;for(const ie of this._snippets){const te=ie.computePossibleSelections();if(Q.size===0)for(const[se,ne]of te){ne.sort(S.e.compareRangesUsingStarts);for(const ee of H)if(ne[0].containsRange(ee)){Q.set(se,[]);break}}if(Q.size===0)return!1;Q.forEach((se,ne)=>{se.push(...te.get(ne))})}H.sort(S.e.compareRangesUsingStarts);for(const[ie,te]of Q){if(te.length!==H.length){Q.delete(ie);continue}te.sort(S.e.compareRangesUsingStarts);for(let se=0;se<te.length;se++)if(!te[se].containsRange(H[se])){Q.delete(ie);continue}}return Q.size>0}};j=I=A([P(3,E.c_)],j)},78956:function(et,Le,e){"use strict";var o=e(92635),B=e(61652);const x=Object.freeze({View:(0,B.vv)("view","View"),Help:(0,B.vv)("help","Help"),Test:(0,B.vv)("test","Test"),File:(0,B.vv)("file","File"),Preferences:(0,B.vv)("preferences","Preferences"),Developer:(0,B.vv)({key:"developer",comment:["A developer on Code itself or someone diagnosing issues in Code"]},"Developer")});var O=e(69713),S=e(48774),p=e(80568),E=e(22706),R=e(45029),w=e(70546),m=e(91540),g=e(73275),a=e(71221),r=e(68777),i=e(50052),n=e(17604),c=e(93895),u=e(42065),l=e(84170),D=e(65158),f=e(83053);class y{constructor(it,yt,$t,Nt=null){this.startLineNumbers=it,this.endLineNumbers=yt,this.lastLineRelativePosition=$t,this.showEndForLine=Nt}equals(it){return!!it&&this.lastLineRelativePosition===it.lastLineRelativePosition&&this.showEndForLine===it.showEndForLine&&(0,a.fS)(this.startLineNumbers,it.startLineNumbers)&&(0,a.fS)(this.endLineNumbers,it.endLineNumbers)}}const C=(0,g.Z)("stickyScrollViewLayer",{createHTML:ti=>ti}),_="data-sticky-line-index",N="data-sticky-is-line",b="data-sticky-is-line-number",k="data-sticky-is-folding-icon";class V extends R.JT{constructor(it){super(),this._editor=it,this._foldingIconStore=new R.SL,this._rootDomNode=document.createElement("div"),this._lineNumbersDomNode=document.createElement("div"),this._linesDomNodeScrollable=document.createElement("div"),this._linesDomNode=document.createElement("div"),this._lineHeight=this._editor.getOption(67),this._renderedStickyLines=[],this._lineNumbers=[],this._lastLineRelativePosition=0,this._minContentWidthInPx=0,this._isOnGlyphMargin=!1,this._lineNumbersDomNode.className="sticky-widget-line-numbers",this._lineNumbersDomNode.setAttribute("role","none"),this._linesDomNode.className="sticky-widget-lines",this._linesDomNode.setAttribute("role","list"),this._linesDomNodeScrollable.className="sticky-widget-lines-scrollable",this._linesDomNodeScrollable.appendChild(this._linesDomNode),this._rootDomNode.className="sticky-widget",this._rootDomNode.classList.toggle("peek",it instanceof n.H),this._rootDomNode.appendChild(this._lineNumbersDomNode),this._rootDomNode.appendChild(this._linesDomNodeScrollable);const yt=()=>{this._linesDomNode.style.left=this._editor.getOption(115).scrollWithEditor?`-${this._editor.getScrollLeft()}px`:"0px"};this._register(this._editor.onDidChangeConfiguration($t=>{$t.hasChanged(115)&&yt(),$t.hasChanged(67)&&(this._lineHeight=this._editor.getOption(67))})),this._register(this._editor.onDidScrollChange($t=>{$t.scrollLeftChanged&&yt(),$t.scrollWidthChanged&&this._updateWidgetWidth()})),this._register(this._editor.onDidChangeModel(()=>{yt(),this._updateWidgetWidth()})),this._register(this._foldingIconStore),yt(),this._register(this._editor.onDidLayoutChange($t=>{this._updateWidgetWidth()})),this._updateWidgetWidth()}get lineNumbers(){return this._lineNumbers}get lineNumberCount(){return this._lineNumbers.length}getRenderedStickyLine(it){return this._renderedStickyLines.find(yt=>yt.lineNumber===it)}getCurrentLines(){return this._lineNumbers}setState(it,yt,$t){if($t===void 0&&(!this._previousState&&!it||this._previousState&&this._previousState.equals(it)))return;const Nt=this._isWidgetHeightZero(it),qt=Nt?void 0:it,Ht=Nt?0:this._findLineToRebuildWidgetFrom(it,$t);this._renderRootNode(qt,yt,Ht),this._previousState=it}_isWidgetHeightZero(it){if(!it)return!0;const yt=it.startLineNumbers.length*this._lineHeight+it.lastLineRelativePosition;if(yt>0){this._lastLineRelativePosition=it.lastLineRelativePosition;const $t=[...it.startLineNumbers];it.showEndForLine!==null&&($t[it.showEndForLine]=it.endLineNumbers[it.showEndForLine]),this._lineNumbers=$t}else this._lastLineRelativePosition=0,this._lineNumbers=[];return yt===0}_findLineToRebuildWidgetFrom(it,yt){if(!it||!this._previousState)return 0;if(yt!==void 0)return yt;const $t=this._previousState,Nt=it.startLineNumbers.findIndex(qt=>!$t.startLineNumbers.includes(qt));return Nt===-1?0:Nt}_updateWidgetWidth(){const it=this._editor.getLayoutInfo(),yt=it.contentLeft;this._lineNumbersDomNode.style.width=`${yt}px`,this._linesDomNodeScrollable.style.setProperty("--vscode-editorStickyScroll-scrollableWidth",`${this._editor.getScrollWidth()-it.verticalScrollbarWidth}px`),this._rootDomNode.style.width=`${it.width-it.verticalScrollbarWidth}px`}_clearStickyLinesFromLine(it){this._foldingIconStore.clear();for(let yt=it;yt<this._renderedStickyLines.length;yt++){const $t=this._renderedStickyLines[yt];$t.lineNumberDomNode.remove(),$t.lineDomNode.remove()}this._renderedStickyLines=this._renderedStickyLines.slice(0,it),this._rootDomNode.style.display="none"}_useFoldingOpacityTransition(it){this._lineNumbersDomNode.style.setProperty("--vscode-editorStickyScroll-foldingOpacityTransition",`opacity ${it?.5:0}s`)}_setFoldingIconsVisibility(it){for(const yt of this._renderedStickyLines){const $t=yt.foldingIcon;$t&&$t.setVisible(it?!0:$t.isCollapsed)}}_renderRootNode(it,yt,$t){return Ft(this,null,function*(){if(this._clearStickyLinesFromLine($t),!it)return;for(const He of this._renderedStickyLines)this._updateTopAndZIndexOfStickyLine(He);const Nt=this._editor.getLayoutInfo(),qt=this._lineNumbers.slice($t);for(const[He,Ct]of qt.entries()){const Gt=this._renderChildNode(He+$t,Ct,yt,Nt);Gt&&(this._linesDomNode.appendChild(Gt.lineDomNode),this._lineNumbersDomNode.appendChild(Gt.lineNumberDomNode),this._renderedStickyLines.push(Gt))}yt&&(this._setFoldingHoverListeners(),this._useFoldingOpacityTransition(!this._isOnGlyphMargin));const Ht=this._lineNumbers.length*this._lineHeight+this._lastLineRelativePosition;this._rootDomNode.style.display="block",this._lineNumbersDomNode.style.height=`${Ht}px`,this._linesDomNodeScrollable.style.height=`${Ht}px`,this._rootDomNode.style.height=`${Ht}px`,this._rootDomNode.style.marginLeft="0px",this._minContentWidthInPx=Math.max(...this._renderedStickyLines.map(He=>He.scrollWidth))+Nt.verticalScrollbarWidth,this._editor.layoutOverlayWidget(this)})}_setFoldingHoverListeners(){this._editor.getOption(110)==="mouseover"&&(this._foldingIconStore.add(m.nm(this._lineNumbersDomNode,m.tw.MOUSE_ENTER,()=>{this._isOnGlyphMargin=!0,this._setFoldingIconsVisibility(!0)})),this._foldingIconStore.add(m.nm(this._lineNumbersDomNode,m.tw.MOUSE_LEAVE,()=>{this._isOnGlyphMargin=!1,this._useFoldingOpacityTransition(!0),this._setFoldingIconsVisibility(!1)})))}_renderChildNode(it,yt,$t,Nt){const qt=this._editor._getViewModel();if(!qt)return;const Ht=qt.coordinatesConverter.convertModelPositionToViewPosition(new c.L(yt,1)).lineNumber,He=qt.getViewLineRenderingData(Ht),Ct=this._editor.getOption(68);let Gt;try{Gt=l.Kp.filter(He.inlineDecorations,Ht,He.minColumn,He.maxColumn)}catch(kn){Gt=[]}const Di=new D.IJ(!0,!0,He.content,He.continuesWithWrappedLine,He.isBasicASCII,He.containsRTL,0,He.tokens,Gt,He.tabSize,He.startVisibleColumn,1,1,1,500,"none",!0,!0,null),$i=new u.HT(2e3),Bi=(0,D.d1)(Di,$i);let Vi;C?Vi=C.createHTML($i.build()):Vi=$i.build();const Ji=document.createElement("span");Ji.setAttribute(_,String(it)),Ji.setAttribute(N,""),Ji.setAttribute("role","listitem"),Ji.tabIndex=0,Ji.className="sticky-line-content",Ji.classList.add(`stickyLine${yt}`),Ji.style.lineHeight=`${this._lineHeight}px`,Ji.innerHTML=Vi;const wn=document.createElement("span");wn.setAttribute(_,String(it)),wn.setAttribute(b,""),wn.className="sticky-line-number",wn.style.lineHeight=`${this._lineHeight}px`;const yn=Nt.contentLeft;wn.style.width=`${yn}px`;const Cn=document.createElement("span");Ct.renderType===1||Ct.renderType===3&&yt%10===0?Cn.innerText=yt.toString():Ct.renderType===2&&(Cn.innerText=Math.abs(yt-this._editor.getPosition().lineNumber).toString()),Cn.className="sticky-line-number-inner",Cn.style.lineHeight=`${this._lineHeight}px`,Cn.style.width=`${Nt.lineNumbersWidth}px`,Cn.style.paddingLeft=`${Nt.lineNumbersLeft}px`,wn.appendChild(Cn);const an=this._renderFoldingIconForLine($t,yt);an&&wn.appendChild(an.domNode),this._editor.applyFontInfo(Ji),this._editor.applyFontInfo(Cn),wn.style.lineHeight=`${this._lineHeight}px`,Ji.style.lineHeight=`${this._lineHeight}px`,wn.style.height=`${this._lineHeight}px`,Ji.style.height=`${this._lineHeight}px`;const Rn=new K(it,yt,Ji,wn,an,Bi.characterMapping,Ji.scrollWidth);return this._updateTopAndZIndexOfStickyLine(Rn)}_updateTopAndZIndexOfStickyLine(it){var yt;const $t=it.index,Nt=it.lineDomNode,qt=it.lineNumberDomNode,Ht=$t===this._lineNumbers.length-1,He="0",Ct="1";Nt.style.zIndex=Ht?He:Ct,qt.style.zIndex=Ht?He:Ct;const Gt=`${$t*this._lineHeight+this._lastLineRelativePosition+(!((yt=it.foldingIcon)===null||yt===void 0)&&yt.isCollapsed?1:0)}px`,Di=`${$t*this._lineHeight}px`;return Nt.style.top=Ht?Gt:Di,qt.style.top=Ht?Gt:Di,it}_renderFoldingIconForLine(it,yt){const $t=this._editor.getOption(110);if(!it||$t==="never")return;const Nt=it.regions,qt=Nt.findRange(yt),Ht=Nt.getStartLineNumber(qt);if(!(yt===Ht))return;const Ct=Nt.isCollapsed(qt),Gt=new Z(Ct,Ht,Nt.getEndLineNumber(qt),this._lineHeight);return Gt.setVisible(this._isOnGlyphMargin?!0:Ct||$t==="always"),Gt.domNode.setAttribute(k,""),Gt}getId(){return"editor.contrib.stickyScrollWidget"}getDomNode(){return this._rootDomNode}getPosition(){return{preference:null}}getMinContentWidthInPx(){return this._minContentWidthInPx}focusLineWithIndex(it){0<=it&&it<this._renderedStickyLines.length&&this._renderedStickyLines[it].lineDomNode.focus()}getEditorPositionFromNode(it){if(!it||it.children.length>0)return null;const yt=this._getRenderedStickyLineFromChildDomNode(it);if(!yt)return null;const $t=(0,i.dL)(yt.characterMapping,it,0);return new c.L(yt.lineNumber,$t)}getLineNumberFromChildDomNode(it){var yt,$t;return($t=(yt=this._getRenderedStickyLineFromChildDomNode(it))===null||yt===void 0?void 0:yt.lineNumber)!==null&&$t!==void 0?$t:null}_getRenderedStickyLineFromChildDomNode(it){const yt=this.getLineIndexFromChildDomNode(it);return yt===null||yt<0||yt>=this._renderedStickyLines.length?null:this._renderedStickyLines[yt]}getLineIndexFromChildDomNode(it){const yt=this._getAttributeValue(it,_);return yt?parseInt(yt,10):null}isInStickyLine(it){return this._getAttributeValue(it,N)!==void 0}isInFoldingIconDomNode(it){return this._getAttributeValue(it,k)!==void 0}_getAttributeValue(it,yt){for(;it&&it!==this._rootDomNode;){const $t=it.getAttribute(yt);if($t!==null)return $t;it=it.parentElement}}}class K{constructor(it,yt,$t,Nt,qt,Ht,He){this.index=it,this.lineNumber=yt,this.lineDomNode=$t,this.lineNumberDomNode=Nt,this.foldingIcon=qt,this.characterMapping=Ht,this.scrollWidth=He}}class Z{constructor(it,yt,$t,Nt){this.isCollapsed=it,this.foldingStartLine=yt,this.foldingEndLine=$t,this.dimension=Nt,this.domNode=document.createElement("div"),this.domNode.style.width=`${Nt}px`,this.domNode.style.height=`${Nt}px`,this.domNode.className=r.k.asClassName(it?f.f5:f.Iy)}setVisible(it){this.domNode.style.cursor=it?"pointer":"default",this.domNode.style.opacity=it?"1":"0"}}var z=e(65642),A=e(74696),P=e(79329),I=e(81275),W=e(15202),G=e(29329),j=e(27285),Y=e(20182),H=e(25602);class Q{constructor(it,yt){this.startLineNumber=it,this.endLineNumber=yt}}class ie{constructor(it,yt,$t){this.range=it,this.children=yt,this.parent=$t}}class te{constructor(it,yt,$t,Nt){this.uri=it,this.version=yt,this.element=$t,this.outlineProviderId=Nt}}var se=e(852),ne=e(87058),ee=function(ti,it,yt,$t){var Nt=arguments.length,qt=Nt<3?it:$t===null?$t=Object.getOwnPropertyDescriptor(it,yt):$t,Ht;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")qt=Reflect.decorate(ti,it,yt,$t);else for(var He=ti.length-1;He>=0;He--)(Ht=ti[He])&&(qt=(Nt<3?Ht(qt):Nt>3?Ht(it,yt,qt):Ht(it,yt))||qt);return Nt>3&&qt&&Object.defineProperty(it,yt,qt),qt},re=function(ti,it){return function(yt,$t){it(yt,$t,ti)}},he;(function(ti){ti.OUTLINE_MODEL="outlineModel",ti.FOLDING_PROVIDER_MODEL="foldingProviderModel",ti.INDENTATION_MODEL="indentationModel"})(he||(he={}));var M;(function(ti){ti[ti.VALID=0]="VALID",ti[ti.INVALID=1]="INVALID",ti[ti.CANCELED=2]="CANCELED"})(M||(M={}));let we=class extends R.JT{constructor(it,yt,$t,Nt){switch(super(),this._editor=it,this._modelProviders=[],this._modelPromise=null,this._updateScheduler=this._register(new A.vp(300)),this._updateOperation=this._register(new R.SL),this._editor.getOption(115).defaultModel){case he.OUTLINE_MODEL:this._modelProviders.push(new ye(this._editor,Nt));case he.FOLDING_PROVIDER_MODEL:this._modelProviders.push(new Ee(this._editor,yt,Nt));case he.INDENTATION_MODEL:this._modelProviders.push(new ve(this._editor,$t));break}}dispose(){this._modelProviders.forEach(it=>it.dispose()),this._updateOperation.clear(),this._cancelModelPromise(),super.dispose()}_cancelModelPromise(){this._modelPromise&&(this._modelPromise.cancel(),this._modelPromise=null)}update(it){return Ft(this,null,function*(){return this._updateOperation.clear(),this._updateOperation.add({dispose:()=>{this._cancelModelPromise(),this._updateScheduler.cancel()}}),this._cancelModelPromise(),yield this._updateScheduler.trigger(()=>Ft(this,null,function*(){for(const yt of this._modelProviders){const{statusPromise:$t,modelPromise:Nt}=yt.computeStickyModel(it);this._modelPromise=Nt;const qt=yield $t;if(this._modelPromise!==Nt)return null;switch(qt){case M.CANCELED:return this._updateOperation.clear(),null;case M.VALID:return yt.stickyModel}}return null})).catch(yt=>((0,H.dL)(yt),null))})}};we=ee([re(2,ne.TG),re(3,w.p)],we);class We extends R.JT{constructor(it){super(),this._editor=it,this._stickyModel=null}get stickyModel(){return this._stickyModel}_invalid(){return this._stickyModel=null,M.INVALID}computeStickyModel(it){if(it.isCancellationRequested||!this.isProviderValid())return{statusPromise:this._invalid(),modelPromise:null};const yt=(0,A.PG)($t=>this.createModelFromProvider($t));return{statusPromise:yt.then($t=>this.isModelValid($t)?it.isCancellationRequested?M.CANCELED:(this._stickyModel=this.createStickyModel(it,$t),M.VALID):this._invalid()).then(void 0,$t=>((0,H.dL)($t),M.CANCELED)),modelPromise:yt}}isModelValid(it){return!0}isProviderValid(){return!0}}let ye=class extends We{constructor(it,yt){super(it),this._languageFeaturesService=yt}createModelFromProvider(it){return W.C3.create(this._languageFeaturesService.documentSymbolProvider,this._editor.getModel(),it)}createStickyModel(it,yt){var $t;const{stickyOutlineElement:Nt,providerID:qt}=this._stickyModelFromOutlineModel(yt,($t=this._stickyModel)===null||$t===void 0?void 0:$t.outlineProviderId),Ht=this._editor.getModel();return new te(Ht.uri,Ht.getVersionId(),Nt,qt)}isModelValid(it){return it&&it.children.size>0}_stickyModelFromOutlineModel(it,yt){let $t;if(se.$.first(it.children.values())instanceof W.H3){const He=se.$.find(it.children.values(),Ct=>Ct.id===yt);if(He)$t=He.children;else{let Ct="",Gt=-1,Di;for(const[$i,Bi]of it.children.entries()){const Vi=this._findSumOfRangesOfGroup(Bi);Vi>Gt&&(Di=Bi,Gt=Vi,Ct=Bi.id)}yt=Ct,$t=Di.children}}else $t=it.children;const Nt=[],qt=Array.from($t.values()).sort((He,Ct)=>{const Gt=new Q(He.symbol.range.startLineNumber,He.symbol.range.endLineNumber),Di=new Q(Ct.symbol.range.startLineNumber,Ct.symbol.range.endLineNumber);return this._comparator(Gt,Di)});for(const He of qt)Nt.push(this._stickyModelFromOutlineElement(He,He.symbol.selectionRange.startLineNumber));return{stickyOutlineElement:new ie(void 0,Nt,void 0),providerID:yt}}_stickyModelFromOutlineElement(it,yt){const $t=[];for(const qt of it.children.values())if(qt.symbol.selectionRange.startLineNumber!==qt.symbol.range.endLineNumber)if(qt.symbol.selectionRange.startLineNumber!==yt)$t.push(this._stickyModelFromOutlineElement(qt,qt.symbol.selectionRange.startLineNumber));else for(const Ht of qt.children.values())$t.push(this._stickyModelFromOutlineElement(Ht,qt.symbol.selectionRange.startLineNumber));$t.sort((qt,Ht)=>this._comparator(qt.range,Ht.range));const Nt=new Q(it.symbol.selectionRange.startLineNumber,it.symbol.range.endLineNumber);return new ie(Nt,$t,void 0)}_comparator(it,yt){return it.startLineNumber!==yt.startLineNumber?it.startLineNumber-yt.startLineNumber:yt.endLineNumber-it.endLineNumber}_findSumOfRangesOfGroup(it){let yt=0;for(const $t of it.children.values())yt+=this._findSumOfRangesOfGroup($t);return it instanceof W.sT?yt+it.symbol.range.endLineNumber-it.symbol.selectionRange.startLineNumber:yt}};ye=ee([re(1,w.p)],ye);class X extends We{constructor(it){super(it),this._foldingLimitReporter=new G.n(it)}createStickyModel(it,yt){const $t=this._fromFoldingRegions(yt),Nt=this._editor.getModel();return new te(Nt.uri,Nt.getVersionId(),$t,void 0)}isModelValid(it){return it!==null}_fromFoldingRegions(it){const yt=it.length,$t=[],Nt=new ie(void 0,[],void 0);for(let qt=0;qt<yt;qt++){const Ht=it.getParentIndex(qt);let He;Ht!==-1?He=$t[Ht]:He=Nt;const Ct=new ie(new Q(it.getStartLineNumber(qt),it.getEndLineNumber(qt)+1),[],He);He.children.push(Ct),$t.push(Ct)}return Nt}}let ve=class extends X{constructor(it,yt){super(it),this._languageConfigurationService=yt,this.provider=this._register(new Y.aI(it.getModel(),this._languageConfigurationService,this._foldingLimitReporter))}createModelFromProvider(it){return Ft(this,null,function*(){return this.provider.compute(it)})}};ve=ee([re(1,I.c_)],ve);let Ee=class extends X{constructor(it,yt,$t){super(it),this._languageFeaturesService=$t;const Nt=G.f.getFoldingRangeProviders(this._languageFeaturesService,it.getModel());Nt.length>0&&(this.provider=this._register(new j.e(it.getModel(),Nt,yt,this._foldingLimitReporter,void 0)))}isProviderValid(){return this.provider!==void 0}createModelFromProvider(it){return Ft(this,null,function*(){var yt,$t;return($t=(yt=this.provider)===null||yt===void 0?void 0:yt.compute(it))!==null&&$t!==void 0?$t:null})}};Ee=ee([re(2,w.p)],Ee);var Oe=function(ti,it,yt,$t){var Nt=arguments.length,qt=Nt<3?it:$t===null?$t=Object.getOwnPropertyDescriptor(it,yt):$t,Ht;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")qt=Reflect.decorate(ti,it,yt,$t);else for(var He=ti.length-1;He>=0;He--)(Ht=ti[He])&&(qt=(Nt<3?Ht(qt):Nt>3?Ht(it,yt,qt):Ht(it,yt))||qt);return Nt>3&&qt&&Object.defineProperty(it,yt,qt),qt},Ke=function(ti,it){return function(yt,$t){it(yt,$t,ti)}};class Qe{constructor(it,yt,$t){this.startLineNumber=it,this.endLineNumber=yt,this.nestingDepth=$t}}let fe=class extends R.JT{constructor(it,yt,$t){super(),this._languageFeaturesService=yt,this._languageConfigurationService=$t,this._onDidChangeStickyScroll=this._register(new P.Q5),this.onDidChangeStickyScroll=this._onDidChangeStickyScroll.event,this._model=null,this._cts=null,this._stickyModelProvider=null,this._editor=it,this._sessionStore=this._register(new R.SL),this._updateSoon=this._register(new A.pY(()=>this.update(),50)),this._register(this._editor.onDidChangeConfiguration(Nt=>{Nt.hasChanged(115)&&this.readConfiguration()})),this.readConfiguration()}readConfiguration(){this._sessionStore.clear(),this._editor.getOption(115).enabled&&(this._sessionStore.add(this._editor.onDidChangeModel(()=>{this._model=null,this.updateStickyModelProvider(),this._onDidChangeStickyScroll.fire(),this.update()})),this._sessionStore.add(this._editor.onDidChangeHiddenAreas(()=>this.update())),this._sessionStore.add(this._editor.onDidChangeModelContent(()=>this._updateSoon.schedule())),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>this.update())),this._sessionStore.add((0,R.OF)(()=>{var yt;(yt=this._stickyModelProvider)===null||yt===void 0||yt.dispose(),this._stickyModelProvider=null})),this.updateStickyModelProvider(),this.update())}getVersionId(){var it;return(it=this._model)===null||it===void 0?void 0:it.version}updateStickyModelProvider(){var it;(it=this._stickyModelProvider)===null||it===void 0||it.dispose(),this._stickyModelProvider=null;const yt=this._editor;yt.hasModel()&&(this._stickyModelProvider=new we(yt,()=>this._updateSoon.schedule(),this._languageConfigurationService,this._languageFeaturesService))}update(){return Ft(this,null,function*(){var it;(it=this._cts)===null||it===void 0||it.dispose(!0),this._cts=new z.AU,yield this.updateStickyModel(this._cts.token),this._onDidChangeStickyScroll.fire()})}updateStickyModel(it){return Ft(this,null,function*(){if(!this._editor.hasModel()||!this._stickyModelProvider||this._editor.getModel().isTooLargeForTokenization()){this._model=null;return}const yt=yield this._stickyModelProvider.update(it);it.isCancellationRequested||(this._model=yt)})}updateIndex(it){return it===-1?it=0:it<0&&(it=-it-2),it}getCandidateStickyLinesIntersectingFromStickyModel(it,yt,$t,Nt,qt){if(yt.children.length===0)return;let Ht=qt;const He=[];for(let Di=0;Di<yt.children.length;Di++){const $i=yt.children[Di];$i.range&&He.push($i.range.startLineNumber)}const Ct=this.updateIndex((0,a.ry)(He,it.startLineNumber,(Di,$i)=>Di-$i)),Gt=this.updateIndex((0,a.ry)(He,it.startLineNumber+Nt,(Di,$i)=>Di-$i));for(let Di=Ct;Di<=Gt;Di++){const $i=yt.children[Di];if(!$i)return;if($i.range){const Bi=$i.range.startLineNumber,Vi=$i.range.endLineNumber;it.startLineNumber<=Vi+1&&Bi-1<=it.endLineNumber&&Bi!==Ht&&(Ht=Bi,$t.push(new Qe(Bi,Vi-1,Nt+1)),this.getCandidateStickyLinesIntersectingFromStickyModel(it,$i,$t,Nt+1,Bi))}else this.getCandidateStickyLinesIntersectingFromStickyModel(it,$i,$t,Nt,qt)}}getCandidateStickyLinesIntersecting(it){var yt,$t;if(!(!((yt=this._model)===null||yt===void 0)&&yt.element))return[];let Nt=[];this.getCandidateStickyLinesIntersectingFromStickyModel(it,this._model.element,Nt,0,-1);const qt=($t=this._editor._getViewModel())===null||$t===void 0?void 0:$t.getHiddenAreas();if(qt)for(const Ht of qt)Nt=Nt.filter(He=>!(He.startLineNumber>=Ht.startLineNumber&&He.endLineNumber<=Ht.endLineNumber+1));return Nt}};fe=Oe([Ke(1,w.p),Ke(2,I.c_)],fe);var $=e(31949),le=e(50835),De=e(4694),xe=e(7142),Ce=e(19840),me=e(81580),be=e(65512),oe=e(50078),ue=function(ti,it,yt,$t){var Nt=arguments.length,qt=Nt<3?it:$t===null?$t=Object.getOwnPropertyDescriptor(it,yt):$t,Ht;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")qt=Reflect.decorate(ti,it,yt,$t);else for(var He=ti.length-1;He>=0;He--)(Ht=ti[He])&&(qt=(Nt<3?Ht(qt):Nt>3?Ht(it,yt,qt):Ht(it,yt))||qt);return Nt>3&&qt&&Object.defineProperty(it,yt,qt),qt},de=function(ti,it){return function(yt,$t){it(yt,$t,ti)}},Se;let Te=Se=class extends R.JT{constructor(it,yt,$t,Nt,qt,Ht,He){super(),this._editor=it,this._contextMenuService=yt,this._languageFeaturesService=$t,this._instaService=Nt,this._contextKeyService=He,this._sessionStore=new R.SL,this._foldingModel=null,this._maxStickyLines=Number.MAX_SAFE_INTEGER,this._candidateDefinitionsLength=-1,this._focusedStickyElementIndex=-1,this._enabled=!1,this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1,this._endLineNumbers=[],this._showEndForLine=null,this._stickyScrollWidget=new V(this._editor),this._stickyLineCandidateProvider=new fe(this._editor,$t,qt),this._register(this._stickyScrollWidget),this._register(this._stickyLineCandidateProvider),this._widgetState=new y([],[],0),this._onDidResize(),this._readConfiguration();const Ct=this._stickyScrollWidget.getDomNode();this._register(this._editor.onDidChangeConfiguration(Di=>{this._readConfigurationChange(Di)})),this._register(m.nm(Ct,m.tw.CONTEXT_MENU,Di=>Ft(this,null,function*(){this._onContextMenu(m.Jj(Ct),Di)}))),this._stickyScrollFocusedContextKey=E.u.stickyScrollFocused.bindTo(this._contextKeyService),this._stickyScrollVisibleContextKey=E.u.stickyScrollVisible.bindTo(this._contextKeyService);const Gt=this._register(m.go(Ct));this._register(Gt.onDidBlur(Di=>{this._positionRevealed===!1&&Ct.clientHeight===0?(this._focusedStickyElementIndex=-1,this.focus()):this._disposeFocusStickyScrollStore()})),this._register(Gt.onDidFocus(Di=>{this.focus()})),this._registerMouseListeners(),this._register(m.nm(Ct,m.tw.MOUSE_DOWN,Di=>{this._onMouseDown=!0}))}static get(it){return it.getContribution(Se.ID)}_disposeFocusStickyScrollStore(){var it;this._stickyScrollFocusedContextKey.set(!1),(it=this._focusDisposableStore)===null||it===void 0||it.dispose(),this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1}focus(){if(this._onMouseDown){this._onMouseDown=!1,this._editor.focus();return}this._stickyScrollFocusedContextKey.get()!==!0&&(this._focused=!0,this._focusDisposableStore=new R.SL,this._stickyScrollFocusedContextKey.set(!0),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumbers.length-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}focusNext(){this._focusedStickyElementIndex<this._stickyScrollWidget.lineNumberCount-1&&this._focusNav(!0)}focusPrevious(){this._focusedStickyElementIndex>0&&this._focusNav(!1)}selectEditor(){this._editor.focus()}_focusNav(it){this._focusedStickyElementIndex=it?this._focusedStickyElementIndex+1:this._focusedStickyElementIndex-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex)}goToFocused(){const it=this._stickyScrollWidget.lineNumbers;this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:it[this._focusedStickyElementIndex],column:1})}_revealPosition(it){this._reveaInEditor(it,()=>this._editor.revealPosition(it))}_revealLineInCenterIfOutsideViewport(it){this._reveaInEditor(it,()=>this._editor.revealLineInCenterIfOutsideViewport(it.lineNumber,0))}_reveaInEditor(it,yt){this._focused&&this._disposeFocusStickyScrollStore(),this._positionRevealed=!0,yt(),this._editor.setSelection(De.e.fromPositions(it)),this._editor.focus()}_registerMouseListeners(){const it=this._register(new R.SL),yt=this._register(new le.yN(this._editor,{extractLineNumberFromMouseEvent:qt=>{const Ht=this._stickyScrollWidget.getEditorPositionFromNode(qt.target.element);return Ht?Ht.lineNumber:0}})),$t=qt=>{if(!this._editor.hasModel()||qt.target.type!==12||qt.target.detail!==this._stickyScrollWidget.getId())return null;const Ht=qt.target.element;if(!Ht||Ht.innerText!==Ht.innerHTML)return null;const He=this._stickyScrollWidget.getEditorPositionFromNode(Ht);return He?{range:new De.e(He.lineNumber,He.column,He.lineNumber,He.column+Ht.innerText.length),textElement:Ht}:null},Nt=this._stickyScrollWidget.getDomNode();this._register(m.mu(Nt,m.tw.CLICK,qt=>{if(qt.ctrlKey||qt.altKey||qt.metaKey||!qt.leftButton)return;if(qt.shiftKey){const Gt=this._stickyScrollWidget.getLineIndexFromChildDomNode(qt.target);if(Gt===null)return;const Di=new c.L(this._endLineNumbers[Gt],1);this._revealLineInCenterIfOutsideViewport(Di);return}if(this._stickyScrollWidget.isInFoldingIconDomNode(qt.target)){const Gt=this._stickyScrollWidget.getLineNumberFromChildDomNode(qt.target);this._toggleFoldingRegionForLine(Gt);return}if(!this._stickyScrollWidget.isInStickyLine(qt.target))return;let Ct=this._stickyScrollWidget.getEditorPositionFromNode(qt.target);if(!Ct){const Gt=this._stickyScrollWidget.getLineNumberFromChildDomNode(qt.target);if(Gt===null)return;Ct=new c.L(Gt,1)}this._revealPosition(Ct)})),this._register(m.mu(Nt,m.tw.MOUSE_MOVE,qt=>{if(qt.shiftKey){const Ht=this._stickyScrollWidget.getLineIndexFromChildDomNode(qt.target);if(Ht===null||this._showEndForLine!==null&&this._showEndForLine===Ht)return;this._showEndForLine=Ht,this._renderStickyScroll();return}this._showEndForLine!==null&&(this._showEndForLine=null,this._renderStickyScroll())})),this._register(m.nm(Nt,m.tw.MOUSE_LEAVE,qt=>{this._showEndForLine!==null&&(this._showEndForLine=null,this._renderStickyScroll())})),this._register(yt.onMouseMoveOrRelevantKeyDown(([qt,Ht])=>{const He=$t(qt);if(!He||!qt.hasTriggerModifier||!this._editor.hasModel()){it.clear();return}const{range:Ct,textElement:Gt}=He;if(!Ct.equalsRange(this._stickyRangeProjectedOnEditor))this._stickyRangeProjectedOnEditor=Ct,it.clear();else if(Gt.style.textDecoration==="underline")return;const Di=new z.AU;it.add((0,R.OF)(()=>Di.dispose(!0)));let $i;(0,xe.nD)(this._languageFeaturesService.definitionProvider,this._editor.getModel(),new c.L(Ct.startLineNumber,Ct.startColumn+1),Di.token).then(Bi=>{if(!Di.token.isCancellationRequested)if(Bi.length!==0){this._candidateDefinitionsLength=Bi.length;const Vi=Gt;$i!==Vi?(it.clear(),$i=Vi,$i.style.textDecoration="underline",it.add((0,R.OF)(()=>{$i.style.textDecoration="none"}))):$i||($i=Vi,$i.style.textDecoration="underline",it.add((0,R.OF)(()=>{$i.style.textDecoration="none"})))}else it.clear()})})),this._register(yt.onCancel(()=>{it.clear()})),this._register(yt.onExecute(qt=>Ft(this,null,function*(){if(qt.target.type!==12||qt.target.detail!==this._stickyScrollWidget.getId())return;const Ht=this._stickyScrollWidget.getEditorPositionFromNode(qt.target.element);Ht&&(!this._editor.hasModel()||!this._stickyRangeProjectedOnEditor||(this._candidateDefinitionsLength>1&&(this._focused&&this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:Ht.lineNumber,column:1})),this._instaService.invokeFunction(Ce.K,qt,this._editor,{uri:this._editor.getModel().uri,range:this._stickyRangeProjectedOnEditor})))})))}_onContextMenu(it,yt){const $t=new be.n(it,yt);this._contextMenuService.showContextMenu({menuId:O.eH.StickyScrollContext,getAnchor:()=>$t})}_toggleFoldingRegionForLine(it){if(!this._foldingModel||it===null)return;const yt=this._stickyScrollWidget.getRenderedStickyLine(it),$t=yt==null?void 0:yt.foldingIcon;if(!$t)return;(0,oe.d8)(this._foldingModel,Number.MAX_VALUE,[it]),$t.isCollapsed=!$t.isCollapsed;const Nt=($t.isCollapsed?this._editor.getTopForLineNumber($t.foldingEndLine):this._editor.getTopForLineNumber($t.foldingStartLine))-this._editor.getOption(67)*yt.index+1;this._editor.setScrollTop(Nt),this._renderStickyScroll(it)}_readConfiguration(){const it=this._editor.getOption(115);if(it.enabled===!1){this._editor.removeOverlayWidget(this._stickyScrollWidget),this._sessionStore.clear(),this._enabled=!1;return}else it.enabled&&!this._enabled&&(this._editor.addOverlayWidget(this._stickyScrollWidget),this._sessionStore.add(this._editor.onDidScrollChange($t=>{$t.scrollTopChanged&&(this._showEndForLine=null,this._renderStickyScroll())})),this._sessionStore.add(this._editor.onDidLayoutChange(()=>this._onDidResize())),this._sessionStore.add(this._editor.onDidChangeModelTokens($t=>this._onTokensChange($t))),this._sessionStore.add(this._stickyLineCandidateProvider.onDidChangeStickyScroll(()=>{this._showEndForLine=null,this._renderStickyScroll()})),this._enabled=!0);this._editor.getOption(68).renderType===2&&this._sessionStore.add(this._editor.onDidChangeCursorPosition(()=>{this._showEndForLine=null,this._renderStickyScroll(0)}))}_readConfigurationChange(it){(it.hasChanged(115)||it.hasChanged(73)||it.hasChanged(67)||it.hasChanged(110)||it.hasChanged(68))&&this._readConfiguration(),it.hasChanged(68)&&this._renderStickyScroll(0)}_needsUpdate(it){const yt=this._stickyScrollWidget.getCurrentLines();for(const $t of yt)for(const Nt of it.ranges)if($t>=Nt.fromLineNumber&&$t<=Nt.toLineNumber)return!0;return!1}_onTokensChange(it){this._needsUpdate(it)&&this._renderStickyScroll(0)}_onDidResize(){const yt=this._editor.getLayoutInfo().height/this._editor.getOption(67);this._maxStickyLines=Math.round(yt*.25)}_renderStickyScroll(it){return Ft(this,null,function*(){var yt,$t;const Nt=this._editor.getModel();if(!Nt||Nt.isTooLargeForTokenization()){this._foldingModel=null,this._stickyScrollWidget.setState(void 0,null);return}const qt=this._stickyLineCandidateProvider.getVersionId();if(qt===void 0||qt===Nt.getVersionId())if(this._foldingModel=($t=yield(yt=G.f.get(this._editor))===null||yt===void 0?void 0:yt.getFoldingModel())!==null&&$t!==void 0?$t:null,this._widgetState=this.findScrollWidgetState(),this._stickyScrollVisibleContextKey.set(this._widgetState.startLineNumbers.length!==0),!this._focused)this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,it);else if(this._focusedStickyElementIndex===-1)this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,it),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1,this._focusedStickyElementIndex!==-1&&this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex);else{const Ht=this._stickyScrollWidget.lineNumbers[this._focusedStickyElementIndex];this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,it),this._stickyScrollWidget.lineNumberCount===0?this._focusedStickyElementIndex=-1:(this._stickyScrollWidget.lineNumbers.includes(Ht)||(this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1),this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}})}findScrollWidgetState(){const it=this._editor.getOption(67),yt=Math.min(this._maxStickyLines,this._editor.getOption(115).maxLineCount),$t=this._editor.getScrollTop();let Nt=0;const qt=[],Ht=[],He=this._editor.getVisibleRanges();if(He.length!==0){const Ct=new Q(He[0].startLineNumber,He[He.length-1].endLineNumber),Gt=this._stickyLineCandidateProvider.getCandidateStickyLinesIntersecting(Ct);for(const Di of Gt){const $i=Di.startLineNumber,Bi=Di.endLineNumber,Vi=Di.nestingDepth;if(Bi-$i>0){const Ji=(Vi-1)*it,wn=Vi*it,yn=this._editor.getBottomForLineNumber($i)-$t,Cn=this._editor.getTopForLineNumber(Bi)-$t,an=this._editor.getBottomForLineNumber(Bi)-$t;if(Ji>Cn&&Ji<=an){qt.push($i),Ht.push(Bi+1),Nt=an-wn;break}else wn>yn&&wn<=an&&(qt.push($i),Ht.push(Bi+1));if(qt.length===yt)break}}}return this._endLineNumbers=Ht,new y(qt,Ht,Nt,this._showEndForLine)}dispose(){super.dispose(),this._sessionStore.dispose()}};Te.ID="store.contrib.stickyScrollController",Te=Se=ue([de(1,$.i),de(2,w.p),de(3,ne.TG),de(4,I.c_),de(5,me.A),de(6,p.i6)],Te);class Ae extends O.Ke{constructor(){super({id:"editor.action.toggleStickyScroll",title:Ki(vi({},(0,B.vv)("toggleEditorStickyScroll","Toggle Editor Sticky Scroll")),{mnemonicTitle:(0,B.NC)({key:"mitoggleStickyScroll",comment:["&& denotes a mnemonic"]},"&&Toggle Editor Sticky Scroll")}),metadata:{description:(0,B.vv)("toggleEditorStickyScroll.description","Toggle/enable the editor sticky scroll which shows the nested scopes at the top of the viewport")},category:x.View,toggled:{condition:p.Ao.equals("config.editor.stickyScroll.enabled",!0),title:(0,B.NC)("stickyScroll","Sticky Scroll"),mnemonicTitle:(0,B.NC)({key:"miStickyScroll",comment:["&& denotes a mnemonic"]},"&&Sticky Scroll")},menu:[{id:O.eH.CommandPalette},{id:O.eH.MenubarAppearanceMenu,group:"4_editor",order:3},{id:O.eH.StickyScrollContext}]})}run(it){return Ft(this,null,function*(){const yt=it.get(S.Ui),$t=!yt.getValue("editor.stickyScroll.enabled");return yt.updateValue("editor.stickyScroll.enabled",$t)})}}const pe=100;class je extends o.x1{constructor(){super({id:"editor.action.focusStickyScroll",title:Ki(vi({},(0,B.vv)("focusStickyScroll","Focus on the editor sticky scroll")),{mnemonicTitle:(0,B.NC)({key:"mifocusStickyScroll",comment:["&& denotes a mnemonic"]},"&&Focus Sticky Scroll")}),precondition:p.Ao.and(p.Ao.has("config.editor.stickyScroll.enabled"),E.u.stickyScrollVisible),menu:[{id:O.eH.CommandPalette}]})}runEditorCommand(it,yt){var $t;($t=Te.get(yt))===null||$t===void 0||$t.focus()}}class ot extends o.x1{constructor(){super({id:"editor.action.selectNextStickyScrollLine",title:(0,B.vv)("selectNextStickyScrollLine.title","Select the next editor sticky scroll line"),precondition:E.u.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:pe,primary:18}})}runEditorCommand(it,yt){var $t;($t=Te.get(yt))===null||$t===void 0||$t.focusNext()}}class xt extends o.x1{constructor(){super({id:"editor.action.selectPreviousStickyScrollLine",title:(0,B.vv)("selectPreviousStickyScrollLine.title","Select the previous sticky scroll line"),precondition:E.u.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:pe,primary:16}})}runEditorCommand(it,yt){var $t;($t=Te.get(yt))===null||$t===void 0||$t.focusPrevious()}}class jt extends o.x1{constructor(){super({id:"editor.action.goToFocusedStickyScrollLine",title:(0,B.vv)("goToFocusedStickyScrollLine.title","Go to the focused sticky scroll line"),precondition:E.u.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:pe,primary:3}})}runEditorCommand(it,yt){var $t;($t=Te.get(yt))===null||$t===void 0||$t.goToFocused()}}class oi extends o.x1{constructor(){super({id:"editor.action.selectEditor",title:(0,B.vv)("selectEditor.title","Select Editor"),precondition:E.u.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:pe,primary:9}})}runEditorCommand(it,yt){var $t;($t=Te.get(yt))===null||$t===void 0||$t.selectEditor()}}(0,o._K)(Te.ID,Te,1),(0,O.r1)(Ae),(0,O.r1)(je),(0,O.r1)(xt),(0,O.r1)(ot),(0,O.r1)(jt),(0,O.r1)(oi)},6762:function(et,Le,e){"use strict";e.d(Le,{_:function(){return S},t:function(){return O}});var o=e(71221),B=e(87100),x=e(30144);class O{constructor(E,R){this.leadingLineContent=E,this.characterCountDelta=R}}class S{constructor(E,R,w,m,g,a,r=B.mX.default,i=void 0){this.clipboardText=i,this._snippetCompareFn=S._compareCompletionItems,this._items=E,this._column=R,this._wordDistance=m,this._options=g,this._refilterKind=1,this._lineContext=w,this._fuzzyScoreOptions=r,a==="top"?this._snippetCompareFn=S._compareCompletionItemsSnippetsUp:a==="bottom"&&(this._snippetCompareFn=S._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(E){(this._lineContext.leadingLineContent!==E.leadingLineContent||this._lineContext.characterCountDelta!==E.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<E.characterCountDelta&&this._filteredItems?2:1,this._lineContext=E)}get items(){return this._ensureCachedState(),this._filteredItems}getItemsByProvider(){return this._ensureCachedState(),this._itemsByProvider}getIncompleteProvider(){this._ensureCachedState();const E=new Set;for(const[R,w]of this.getItemsByProvider())w.length>0&&w[0].container.incomplete&&E.add(R);return E}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._itemsByProvider=new Map;const E=[],{leadingLineContent:R,characterCountDelta:w}=this._lineContext;let m="",g="";const a=this._refilterKind===1?this._items:this._filteredItems,r=[],i=!this._options.filterGraceful||a.length>2e3?B.EW:B.l7;for(let n=0;n<a.length;n++){const c=a[n];if(c.isInvalid)continue;const u=this._itemsByProvider.get(c.provider);u?u.push(c):this._itemsByProvider.set(c.provider,[c]);const l=c.position.column-c.editStart.column,D=l+w-(c.position.column-this._column);if(m.length!==D&&(m=D===0?"":R.slice(-D),g=m.toLowerCase()),c.word=m,D===0)c.score=B.CL.Default;else{let f=0;for(;f<l;){const y=m.charCodeAt(f);if(y===32||y===9)f+=1;else break}if(f>=D)c.score=B.CL.Default;else if(typeof c.completion.filterText=="string"){const y=i(m,g,f,c.completion.filterText,c.filterTextLow,0,this._fuzzyScoreOptions);if(!y)continue;(0,x.zY)(c.completion.filterText,c.textLabel)===0?c.score=y:(c.score=(0,B.jB)(m,g,f,c.textLabel,c.labelLow,0),c.score[0]=y[0])}else{const y=i(m,g,f,c.textLabel,c.labelLow,0,this._fuzzyScoreOptions);if(!y)continue;c.score=y}}c.idx=n,c.distance=this._wordDistance.distance(c.position,c.completion),r.push(c),E.push(c.textLabel.length)}this._filteredItems=r.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:E.length?(0,o.HW)(E.length-.85,E,(n,c)=>n-c):0}}static _compareCompletionItems(E,R){return E.score[0]>R.score[0]?-1:E.score[0]<R.score[0]?1:E.distance<R.distance?-1:E.distance>R.distance?1:E.idx<R.idx?-1:E.idx>R.idx?1:0}static _compareCompletionItemsSnippetsDown(E,R){if(E.completion.kind!==R.completion.kind){if(E.completion.kind===27)return 1;if(R.completion.kind===27)return-1}return S._compareCompletionItems(E,R)}static _compareCompletionItemsSnippetsUp(E,R){if(E.completion.kind!==R.completion.kind){if(E.completion.kind===27)return-1;if(R.completion.kind===27)return 1}return S._compareCompletionItems(E,R)}}},73746:function(et,Le,e){"use strict";e.d(Le,{A9:function(){return y},GI:function(){return D},ZJ:function(){return _},_y:function(){return l},i5:function(){return A},kL:function(){return b},tG:function(){return P}});var o=e(65642),B=e(25602),x=e(87100),O=e(45029),S=e(32368),p=e(26974),E=e(10058),R=e(93895),w=e(4694),m=e(21592),g=e(97022),a=e(61652),r=e(69713),i=e(83349),n=e(80568),c=e(70546),u=e(60931);const l={Visible:u.iX,HasFocusedSuggestion:new n.uy("suggestWidgetHasFocusedSuggestion",!1,(0,a.NC)("suggestWidgetHasSelection","Whether any suggestion is focused")),DetailsVisible:new n.uy("suggestWidgetDetailsVisible",!1,(0,a.NC)("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new n.uy("suggestWidgetMultipleSuggestions",!1,(0,a.NC)("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new n.uy("suggestionMakesTextEdit",!0,(0,a.NC)("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new n.uy("acceptSuggestionOnEnter",!0,(0,a.NC)("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new n.uy("suggestionHasInsertAndReplaceRange",!1,(0,a.NC)("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new n.uy("suggestionInsertMode",void 0,{type:"string",description:(0,a.NC)("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new n.uy("suggestionCanResolve",!1,(0,a.NC)("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},D=new r.eH("suggestWidgetStatusBar");class f{constructor(W,G,j,Y){var H;this.position=W,this.completion=G,this.container=j,this.provider=Y,this.isInvalid=!1,this.score=x.CL.Default,this.distance=0,this.textLabel=typeof G.label=="string"?G.label:(H=G.label)===null||H===void 0?void 0:H.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=G.sortText&&G.sortText.toLowerCase(),this.filterTextLow=G.filterText&&G.filterText.toLowerCase(),this.extensionId=G.extensionId,w.e.isIRange(G.range)?(this.editStart=new R.L(G.range.startLineNumber,G.range.startColumn),this.editInsertEnd=new R.L(G.range.endLineNumber,G.range.endColumn),this.editReplaceEnd=new R.L(G.range.endLineNumber,G.range.endColumn),this.isInvalid=this.isInvalid||w.e.spansMultipleLines(G.range)||G.range.startLineNumber!==W.lineNumber):(this.editStart=new R.L(G.range.insert.startLineNumber,G.range.insert.startColumn),this.editInsertEnd=new R.L(G.range.insert.endLineNumber,G.range.insert.endColumn),this.editReplaceEnd=new R.L(G.range.replace.endLineNumber,G.range.replace.endColumn),this.isInvalid=this.isInvalid||w.e.spansMultipleLines(G.range.insert)||w.e.spansMultipleLines(G.range.replace)||G.range.insert.startLineNumber!==W.lineNumber||G.range.replace.startLineNumber!==W.lineNumber||G.range.insert.startColumn!==G.range.replace.startColumn),typeof Y.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._resolveDuration=0)}get isResolved(){return this._resolveDuration!==void 0}get resolveDuration(){return this._resolveDuration!==void 0?this._resolveDuration:-1}resolve(W){return Ft(this,null,function*(){if(!this._resolveCache){const G=W.onCancellationRequested(()=>{this._resolveCache=void 0,this._resolveDuration=void 0}),j=new S.G(!0);this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,W)).then(Y=>{Object.assign(this.completion,Y),this._resolveDuration=j.elapsed()},Y=>{(0,B.n2)(Y)&&(this._resolveCache=void 0,this._resolveDuration=void 0)}).finally(()=>{G.dispose()})}return this._resolveCache})}}class y{constructor(W=2,G=new Set,j=new Set,Y=new Map,H=!0){this.snippetSortOrder=W,this.kindFilter=G,this.providerFilter=j,this.providerItemsToReuse=Y,this.showDeprecated=H}}y.default=new y;let C;function _(){return C}class N{constructor(W,G,j,Y){this.items=W,this.needsClipboard=G,this.durations=j,this.disposable=Y}}function b(Q,ie,te){return Ft(this,arguments,function*(I,W,G,j=y.default,Y={triggerKind:0},H=o.Ts.None){const se=new S.G;G=G.clone();const ne=W.getWordAtPosition(G),ee=ne?new w.e(G.lineNumber,ne.startColumn,G.lineNumber,ne.endColumn):w.e.fromPositions(G),re={replace:ee,insert:ee.setEndPosition(G.lineNumber,G.column)},he=[],M=new O.SL,we=[];let We=!1;const ye=(ve,Ee,Oe)=>{var Ke,Qe,fe;let $=!1;if(!Ee)return $;for(const le of Ee.suggestions)if(!j.kindFilter.has(le.kind)){if(!j.showDeprecated&&(!((Ke=le==null?void 0:le.tags)===null||Ke===void 0)&&Ke.includes(1)))continue;le.range||(le.range=re),le.sortText||(le.sortText=typeof le.label=="string"?le.label:le.label.label),!We&&le.insertTextRules&&le.insertTextRules&4&&(We=g.Yj.guessNeedsClipboard(le.insertText)),he.push(new f(G,le,Ee,ve)),$=!0}return(0,O.Wf)(Ee)&&M.add(Ee),we.push({providerName:(Qe=ve._debugDisplayName)!==null&&Qe!==void 0?Qe:"unknown_provider",elapsedProvider:(fe=Ee.duration)!==null&&fe!==void 0?fe:-1,elapsedOverall:Oe.elapsed()}),$},X=Ft(this,null,function*(){if(!C||j.kindFilter.has(27))return;const ve=j.providerItemsToReuse.get(C);if(ve){ve.forEach(Ke=>he.push(Ke));return}if(j.providerFilter.size>0&&!j.providerFilter.has(C))return;const Ee=new S.G,Oe=yield C.provideCompletionItems(W,G,Y,H);ye(C,Oe,Ee)});for(const ve of I.orderedGroups(W)){let Ee=!1;if(yield Promise.all(ve.map(Oe=>Ft(this,null,function*(){if(j.providerItemsToReuse.has(Oe)){const Ke=j.providerItemsToReuse.get(Oe);Ke.forEach(Qe=>he.push(Qe)),Ee=Ee||Ke.length>0;return}if(!(j.providerFilter.size>0&&!j.providerFilter.has(Oe)))try{const Ke=new S.G,Qe=yield Oe.provideCompletionItems(W,G,Y,H);Ee=ye(Oe,Qe,Ke)||Ee}catch(Ke){(0,B.Cp)(Ke)}}))),Ee||H.isCancellationRequested)break}return yield X,H.isCancellationRequested?(M.dispose(),Promise.reject(new B.FU)):new N(he.sort(z(j.snippetSortOrder)),We,{entries:we,elapsed:se.elapsed()},M)})}function k(I,W){if(I.sortTextLow&&W.sortTextLow){if(I.sortTextLow<W.sortTextLow)return-1;if(I.sortTextLow>W.sortTextLow)return 1}return I.textLabel<W.textLabel?-1:I.textLabel>W.textLabel?1:I.completion.kind-W.completion.kind}function V(I,W){if(I.completion.kind!==W.completion.kind){if(I.completion.kind===27)return-1;if(W.completion.kind===27)return 1}return k(I,W)}function K(I,W){if(I.completion.kind!==W.completion.kind){if(I.completion.kind===27)return 1;if(W.completion.kind===27)return-1}return k(I,W)}const Z=new Map;Z.set(0,V),Z.set(2,K),Z.set(1,k);function z(I){return Z.get(I)}i.P.registerCommand("_executeCompletionItemProvider",(I,...W)=>Ft(this,null,function*(){const[G,j,Y,H]=W;(0,p.p_)(E.o.isUri(G)),(0,p.p_)(R.L.isIPosition(j)),(0,p.p_)(typeof Y=="string"||!Y),(0,p.p_)(typeof H=="number"||!H);const{completionProvider:Q}=I.get(c.p),ie=yield I.get(m.S).createModelReference(G);try{const te={incomplete:!1,suggestions:[]},se=[],ne=ie.object.textEditorModel.validatePosition(j),ee=yield b(Q,ie.object.textEditorModel,ne,void 0,{triggerCharacter:Y!=null?Y:void 0,triggerKind:Y?1:0});for(const re of ee.items)se.length<(H!=null?H:0)&&se.push(re.resolve(o.Ts.None)),te.incomplete=te.incomplete||re.container.incomplete,te.suggestions.push(re.completion);try{return yield Promise.all(se),te}finally{setTimeout(()=>ee.disposable.dispose(),100)}}finally{ie.dispose()}}));function A(I,W){var G;(G=I.getContribution("editor.contrib.suggestController"))===null||G===void 0||G.triggerSuggest(new Set().add(W),void 0,!0)}class P{static isAllOff(W){return W.other==="off"&&W.comments==="off"&&W.strings==="off"}static isAllOn(W){return W.other==="on"&&W.comments==="on"&&W.strings==="on"}static valueFor(W,G){switch(G){case 1:return W.comments;case 2:return W.strings;default:return W.other}}}},86811:function(et,Le,e){"use strict";e.d(Le,{n:function(){return Ze}});var o=e(91333),B=e(71221),x=e(65642),O=e(25602),S=e(79329),p=e(13804),E=e(45029),R=e(15122),w=e(32368),m=e(26974),g=e(1356),a=e(92635),r=e(44316),i=e(93895),n=e(4694),c=e(22706),u=e(50020),l=e(97022),D=e(2971),f=e(80568),y=function(ft,Ye,vt,nt){var Ge=arguments.length,rt=Ge<3?Ye:nt===null?nt=Object.getOwnPropertyDescriptor(Ye,vt):nt,st;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")rt=Reflect.decorate(ft,Ye,vt,nt);else for(var tt=ft.length-1;tt>=0;tt--)(st=ft[tt])&&(rt=(Ge<3?st(rt):Ge>3?st(Ye,vt,rt):st(Ye,vt))||rt);return Ge>3&&rt&&Object.defineProperty(Ye,vt,rt),rt},C=function(ft,Ye){return function(vt,nt){Ye(vt,nt,ft)}},_;let N=_=class{constructor(Ye,vt){this._editor=Ye,this._enabled=!1,this._ckAtEnd=_.AtEnd.bindTo(vt),this._configListener=this._editor.onDidChangeConfiguration(nt=>nt.hasChanged(123)&&this._update()),this._update()}dispose(){var Ye;this._configListener.dispose(),(Ye=this._selectionListener)===null||Ye===void 0||Ye.dispose(),this._ckAtEnd.reset()}_update(){const Ye=this._editor.getOption(123)==="on";if(this._enabled!==Ye)if(this._enabled=Ye,this._enabled){const vt=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const nt=this._editor.getModel(),Ge=this._editor.getSelection(),rt=nt.getWordAtPosition(Ge.getStartPosition());if(!rt){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(rt.endColumn===Ge.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(vt),vt()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};N.AtEnd=new f.uy("atEndOfWord",!1),N=_=y([C(1,f.i6)],N);var b=e(61652),k=e(83349),V=e(87058),K=e(61629),Z=e(73746),z=function(ft,Ye,vt,nt){var Ge=arguments.length,rt=Ge<3?Ye:nt===null?nt=Object.getOwnPropertyDescriptor(Ye,vt):nt,st;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")rt=Reflect.decorate(ft,Ye,vt,nt);else for(var tt=ft.length-1;tt>=0;tt--)(st=ft[tt])&&(rt=(Ge<3?st(rt):Ge>3?st(Ye,vt,rt):st(Ye,vt))||rt);return Ge>3&&rt&&Object.defineProperty(Ye,vt,rt),rt},A=function(ft,Ye){return function(vt,nt){Ye(vt,nt,ft)}},P;let I=P=class{constructor(Ye,vt){this._editor=Ye,this._index=0,this._ckOtherSuggestions=P.OtherSuggestions.bindTo(vt)}dispose(){this.reset()}reset(){var Ye;this._ckOtherSuggestions.reset(),(Ye=this._listener)===null||Ye===void 0||Ye.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:Ye,index:vt},nt){if(Ye.items.length===0){this.reset();return}if(P._moveIndex(!0,Ye,vt)===vt){this.reset();return}this._acceptNext=nt,this._model=Ye,this._index=vt,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(Ye,vt,nt){let Ge=nt;for(let rt=vt.items.length;rt>0&&(Ge=(Ge+vt.items.length+(Ye?1:-1))%vt.items.length,!(Ge===nt||!vt.items[Ge].completion.additionalTextEdits));rt--);return Ge}next(){this._move(!0)}prev(){this._move(!1)}_move(Ye){if(this._model)try{this._ignore=!0,this._index=P._moveIndex(Ye,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};I.OtherSuggestions=new f.uy("hasOtherSuggestions",!1),I=P=z([A(1,f.i6)],I);var W=e(89925);class G{constructor(Ye,vt,nt,Ge){this._disposables=new E.SL,this._disposables.add(nt.onDidSuggest(rt=>{rt.completionModel.items.length===0&&this.reset()})),this._disposables.add(nt.onDidCancel(rt=>{this.reset()})),this._disposables.add(vt.onDidShow(()=>this._onItem(vt.getFocusedItem()))),this._disposables.add(vt.onDidFocus(this._onItem,this)),this._disposables.add(vt.onDidHide(this.reset,this)),this._disposables.add(Ye.onWillType(rt=>{if(this._active&&!vt.isFrozen()&&nt.state!==0){const st=rt.charCodeAt(rt.length-1);this._active.acceptCharacters.has(st)&&Ye.getOption(0)&&Ge(this._active.item)}}))}_onItem(Ye){if(!Ye||!(0,B.Of)(Ye.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===Ye.item)return;const vt=new W.q;for(const nt of Ye.item.completion.commitCharacters)nt.length>0&&vt.add(nt.charCodeAt(0));this._active={acceptCharacters:vt,item:Ye}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}var j=e(77554);class Y{constructor(Ye,vt){this._disposables=new E.SL,this._lastOvertyped=[],this._locked=!1,this._disposables.add(Ye.onWillType(()=>{if(this._locked||!Ye.hasModel())return;const nt=Ye.getSelections(),Ge=nt.length;let rt=!1;for(let tt=0;tt<Ge;tt++)if(!nt[tt].isEmpty()){rt=!0;break}if(!rt){this._lastOvertyped.length!==0&&(this._lastOvertyped.length=0);return}this._lastOvertyped=[];const st=Ye.getModel();for(let tt=0;tt<Ge;tt++){const _t=nt[tt];if(st.getValueLengthInRange(_t)>Y._maxSelectionLength)return;this._lastOvertyped[tt]={value:st.getValueInRange(_t),multiline:_t.startLineNumber!==_t.endLineNumber}}})),this._disposables.add(vt.onDidTrigger(nt=>{this._locked=!0})),this._disposables.add(vt.onDidCancel(nt=>{this._locked=!1}))}getLastOvertypedInfo(Ye){if(Ye>=0&&Ye<this._lastOvertyped.length)return this._lastOvertyped[Ye]}dispose(){this._disposables.dispose()}}Y._maxSelectionLength=51200;var H=e(91540),Q=e(58411),ie=e(66074),te=e(74696),se=e(12182),ne=e(30144),ee=e(17604),re=e(318),he=e(88595),M=e(69713),we=function(ft,Ye,vt,nt){var Ge=arguments.length,rt=Ge<3?Ye:nt===null?nt=Object.getOwnPropertyDescriptor(Ye,vt):nt,st;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")rt=Reflect.decorate(ft,Ye,vt,nt);else for(var tt=ft.length-1;tt>=0;tt--)(st=ft[tt])&&(rt=(Ge<3?st(rt):Ge>3?st(Ye,vt,rt):st(Ye,vt))||rt);return Ge>3&&rt&&Object.defineProperty(Ye,vt,rt),rt},We=function(ft,Ye){return function(vt,nt){Ye(vt,nt,ft)}};class ye extends he.Mm{updateLabel(){const Ye=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!Ye)return super.updateLabel();this.label&&(this.label.textContent=(0,b.NC)({key:"content",comment:["A label","A keybinding"]},"{0} ({1})",this._action.label,ye.symbolPrintEnter(Ye)))}static symbolPrintEnter(Ye){var vt;return(vt=Ye.getLabel())===null||vt===void 0?void 0:vt.replace(/\benter\b/gi,"\u23CE")}}let X=class{constructor(Ye,vt,nt,Ge,rt){this._menuId=vt,this._menuService=Ge,this._contextKeyService=rt,this._menuDisposables=new E.SL,this.element=H.R3(Ye,H.$(".suggest-status-bar"));const st=tt=>tt instanceof M.U8?nt.createInstance(ye,tt,void 0):void 0;this._leftActions=new re.o(this.element,{actionViewItemProvider:st}),this._rightActions=new re.o(this.element,{actionViewItemProvider:st}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this._leftActions.dispose(),this._rightActions.dispose(),this.element.remove()}show(){const Ye=this._menuService.createMenu(this._menuId,this._contextKeyService),vt=()=>{const nt=[],Ge=[];for(const[rt,st]of Ye.getActions())rt==="left"?nt.push(...st):Ge.push(...st);this._leftActions.clear(),this._leftActions.push(nt),this._rightActions.clear(),this._rightActions.push(Ge)};this._menuDisposables.add(Ye.onDidChange(()=>vt())),this._menuDisposables.add(Ye)}hide(){this._menuDisposables.clear()}};X=we([We(2,V.TG),We(3,M.co),We(4,f.i6)],X);var ve=e(16450),Ee=e(10783),Oe=e(97341),Ke=e(98618),Qe=e(63279),fe=e(66699),$=e(16846),le=e(24752),De=e(68777),xe=e(60473),Ce=e(63038),me=function(ft,Ye,vt,nt){var Ge=arguments.length,rt=Ge<3?Ye:nt===null?nt=Object.getOwnPropertyDescriptor(Ye,vt):nt,st;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")rt=Reflect.decorate(ft,Ye,vt,nt);else for(var tt=ft.length-1;tt>=0;tt--)(st=ft[tt])&&(rt=(Ge<3?st(rt):Ge>3?st(Ye,vt,rt):st(Ye,vt))||rt);return Ge>3&&rt&&Object.defineProperty(Ye,vt,rt),rt},be=function(ft,Ye){return function(vt,nt){Ye(vt,nt,ft)}};function oe(ft){return!!ft&&!!(ft.completion.documentation||ft.completion.detail&&ft.completion.detail!==ft.completion.label)}let ue=class{constructor(Ye,vt){this._editor=Ye,this._onDidClose=new S.Q5,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new S.Q5,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new E.SL,this._renderDisposeable=new E.SL,this._borderWidth=1,this._size=new H.Ro(330,0),this.domNode=H.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=vt.createInstance(Ce.$,{editor:Ye}),this._body=H.$(".body"),this._scrollbar=new $.s$(this._body,{alwaysConsumeMouseWheel:!0}),H.R3(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=H.R3(this._body,H.$(".header")),this._close=H.R3(this._header,H.$("span"+De.k.asCSSSelector(le.l.close))),this._close.title=b.NC("details.close","Close"),this._type=H.R3(this._header,H.$("p.type")),this._docs=H.R3(this._body,H.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(nt=>{nt.hasChanged(50)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const Ye=this._editor.getOptions(),vt=Ye.get(50),nt=vt.getMassagedFontFamily(),Ge=Ye.get(119)||vt.fontSize,rt=Ye.get(120)||vt.lineHeight,st=vt.fontWeight,tt=`${Ge}px`,_t=`${rt}px`;this.domNode.style.fontSize=tt,this.domNode.style.lineHeight=`${rt/Ge}`,this.domNode.style.fontWeight=st,this.domNode.style.fontFeatureSettings=vt.fontFeatureSettings,this._type.style.fontFamily=nt,this._close.style.height=_t,this._close.style.width=_t}getLayoutInfo(){const Ye=this._editor.getOption(120)||this._editor.getOption(50).lineHeight,vt=this._borderWidth,nt=vt*2;return{lineHeight:Ye,borderWidth:vt,borderHeight:nt,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=b.NC("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(Ye,vt){var nt,Ge;this._renderDisposeable.clear();let{detail:rt,documentation:st}=Ye.completion;if(vt){let tt="";tt+=`score: ${Ye.score[0]}
`,tt+=`prefix: ${(nt=Ye.word)!==null&&nt!==void 0?nt:"(no prefix)"}
`,tt+=`word: ${Ye.completion.filterText?Ye.completion.filterText+" (filterText)":Ye.textLabel}
`,tt+=`distance: ${Ye.distance} (localityBonus-setting)
`,tt+=`index: ${Ye.idx}, based on ${Ye.completion.sortText&&`sortText: "${Ye.completion.sortText}"`||"label"}
`,tt+=`commit_chars: ${(Ge=Ye.completion.commitCharacters)===null||Ge===void 0?void 0:Ge.join("")}
`,st=new xe.W5().appendCodeblock("empty",tt),rt=`Provider: ${Ye.provider._debugDisplayName}`}if(!vt&&!oe(Ye)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),rt){const tt=rt.length>1e5?`${rt.substr(0,1e5)}\u2026`:rt;this._type.textContent=tt,this._type.title=tt,H.$Z(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(tt))}else H.PO(this._type),this._type.title="",H.Cp(this._type),this.domNode.classList.add("no-type");if(H.PO(this._docs),typeof st=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=st;else if(st){this._docs.classList.add("markdown-docs"),H.PO(this._docs);const tt=this._markdownRenderer.render(st);this._docs.appendChild(tt.element),this._renderDisposeable.add(tt),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=tt=>{tt.preventDefault(),tt.stopPropagation()},this._close.onclick=tt=>{tt.preventDefault(),tt.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get isEmpty(){return this.domNode.classList.contains("no-docs")}get size(){return this._size}layout(Ye,vt){const nt=new H.Ro(Ye,vt);H.Ro.equals(nt,this._size)||(this._size=nt,H.dp(this.domNode,Ye,vt)),this._scrollbar.scanDomNode()}scrollDown(Ye=8){this._body.scrollTop+=Ye}scrollUp(Ye=8){this._body.scrollTop-=Ye}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(Ye){this._borderWidth=Ye}get borderWidth(){return this._borderWidth}};ue=me([be(1,V.TG)],ue);class de{constructor(Ye,vt){this.widget=Ye,this._editor=vt,this.allowEditorOverflow=!0,this._disposables=new E.SL,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new fe.f,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(Ye.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let nt,Ge,rt=0,st=0;this._disposables.add(this._resizable.onDidWillResize(()=>{nt=this._topLeft,Ge=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(tt=>{if(nt&&Ge){this.widget.layout(tt.dimension.width,tt.dimension.height);let _t=!1;tt.west&&(st=Ge.width-tt.dimension.width,_t=!0),tt.north&&(rt=Ge.height-tt.dimension.height,_t=!0),_t&&this._applyTopLeft({top:nt.top+rt,left:nt.left+st})}tt.done&&(nt=void 0,Ge=void 0,rt=0,st=0,this._userSize=tt.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var tt;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(tt=this._userSize)!==null&&tt!==void 0?tt:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return this._topLeft?{preference:this._topLeft}:null}show(){this._added||(this._editor.addOverlayWidget(this),this._added=!0)}hide(Ye=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),Ye&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(Ye,vt){var nt;const Ge=Ye.getBoundingClientRect();this._anchorBox=Ge,this._preferAlignAtTop=vt,this._placeAtAnchor(this._anchorBox,(nt=this._userSize)!==null&&nt!==void 0?nt:this.widget.size,vt)}_placeAtAnchor(Ye,vt,nt){var Ge;const rt=H.D6(this.getDomNode().ownerDocument.body),st=this.widget.getLayoutInfo(),tt=new H.Ro(220,2*st.lineHeight),_t=Ye.top,kt=function(){const Ci=rt.width-(Ye.left+Ye.width+st.borderWidth+st.horizontalPadding),Oi=-st.borderWidth+Ye.left+Ye.width,Ii=new H.Ro(Ci,rt.height-Ye.top-st.borderHeight-st.verticalPadding),Qi=Ii.with(void 0,Ye.top+Ye.height-st.borderHeight-st.verticalPadding);return{top:_t,left:Oi,fit:Ci-vt.width,maxSizeTop:Ii,maxSizeBottom:Qi,minSize:tt.with(Math.min(Ci,tt.width))}}(),at=function(){const Ci=Ye.left-st.borderWidth-st.horizontalPadding,Oi=Math.max(st.horizontalPadding,Ye.left-vt.width-st.borderWidth),Ii=new H.Ro(Ci,rt.height-Ye.top-st.borderHeight-st.verticalPadding),Qi=Ii.with(void 0,Ye.top+Ye.height-st.borderHeight-st.verticalPadding);return{top:_t,left:Oi,fit:Ci-vt.width,maxSizeTop:Ii,maxSizeBottom:Qi,minSize:tt.with(Math.min(Ci,tt.width))}}(),ht=function(){const Ci=Ye.left,Oi=-st.borderWidth+Ye.top+Ye.height,Ii=new H.Ro(Ye.width-st.borderHeight,rt.height-Ye.top-Ye.height-st.verticalPadding);return{top:Oi,left:Ci,fit:Ii.height-vt.height,maxSizeBottom:Ii,maxSizeTop:Ii,minSize:tt.with(Ii.width)}}(),Mt=[kt,at,ht],ut=(Ge=Mt.find(Ci=>Ci.fit>=0))!==null&&Ge!==void 0?Ge:Mt.sort((Ci,Oi)=>Oi.fit-Ci.fit)[0],ke=Ye.top+Ye.height-st.borderHeight;let lt,mt=vt.height;const Ve=Math.max(ut.maxSizeTop.height,ut.maxSizeBottom.height);mt>Ve&&(mt=Ve);let Tt;nt?mt<=ut.maxSizeTop.height?(lt=!0,Tt=ut.maxSizeTop):(lt=!1,Tt=ut.maxSizeBottom):mt<=ut.maxSizeBottom.height?(lt=!1,Tt=ut.maxSizeBottom):(lt=!0,Tt=ut.maxSizeTop);let{top:At,left:Qt}=ut;!lt&&mt>Ye.height&&(At=ke-mt);const mi=this._editor.getDomNode();if(mi){const Ci=mi.getBoundingClientRect();At-=Ci.top,Qt-=Ci.left}this._applyTopLeft({left:Qt,top:At}),this._resizable.enableSashes(!lt,ut===kt,lt,ut!==kt),this._resizable.minSize=ut.minSize,this._resizable.maxSize=Tt,this._resizable.layout(mt,Math.min(Tt.width,vt.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(Ye){this._topLeft=Ye,this._editor.layoutOverlayWidget(this)}}var Se=e(30655),Te=e(87100),Ae=e(10058),pe=e(91895),je=e(91649),ot=e(2644),xt=e(13057),jt;(function(ft){ft[ft.FILE=0]="FILE",ft[ft.FOLDER=1]="FOLDER",ft[ft.ROOT_FOLDER=2]="ROOT_FOLDER"})(jt||(jt={}));const oi=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function ti(ft,Ye,vt,nt,Ge){if(Ge)return[`codicon-${Ge.id}`,"predefined-file-icon"];const rt=nt===jt.ROOT_FOLDER?["rootfolder-icon"]:nt===jt.FOLDER?["folder-icon"]:["file-icon"];if(vt){let st;if(vt.scheme===je.lg.data)st=ot.Vb.parseMetaData(vt).get(ot.Vb.META_DATA_LABEL);else{const tt=vt.path.match(oi);tt?(st=yt(tt[2].toLowerCase()),tt[1]&&rt.push(`${yt(tt[1].toLowerCase())}-name-dir-icon`)):st=yt(vt.authority.toLowerCase())}if(nt===jt.ROOT_FOLDER)rt.push(`${st}-root-name-folder-icon`);else if(nt===jt.FOLDER)rt.push(`${st}-name-folder-icon`);else{if(st){if(rt.push(`${st}-name-file-icon`),rt.push("name-file-icon"),st.length<=255){const _t=st.split(".");for(let kt=1;kt<_t.length;kt++)rt.push(`${_t.slice(kt).join(".")}-ext-file-icon`)}rt.push("ext-file-icon")}const tt=it(ft,Ye,vt);tt&&rt.push(`${yt(tt)}-lang-file-icon`)}}return rt}function it(ft,Ye,vt){if(!vt)return null;let nt=null;if(vt.scheme===je.lg.data){const rt=ot.Vb.parseMetaData(vt).get(ot.Vb.META_DATA_MIME);rt&&(nt=Ye.getLanguageIdByMimeType(rt))}else{const Ge=ft.getModel(vt);Ge&&(nt=Ge.getLanguageId())}return nt&&nt!==xt.bd?nt:Ye.guessLanguageIdByFilepathOrFirstLine(vt)}function yt(ft){return ft.replace(/[\11\12\14\15\40]/g,"/")}var $t=e(12692),Nt=e(50131),qt=e(76557),Ht=function(ft,Ye,vt,nt){var Ge=arguments.length,rt=Ge<3?Ye:nt===null?nt=Object.getOwnPropertyDescriptor(Ye,vt):nt,st;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")rt=Reflect.decorate(ft,Ye,vt,nt);else for(var tt=ft.length-1;tt>=0;tt--)(st=ft[tt])&&(rt=(Ge<3?st(rt):Ge>3?st(Ye,vt,rt):st(Ye,vt))||rt);return Ge>3&&rt&&Object.defineProperty(Ye,vt,rt),rt},He=function(ft,Ye){return function(vt,nt){Ye(vt,nt,ft)}},Ct;function Gt(ft){return`suggest-aria-id:${ft}`}const Di=(0,qt.q5)("suggest-more-info",le.l.chevronRight,b.NC("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),$i=new(Ct=class{extract(Ye,vt){if(Ye.textLabel.match(Ct._regexStrict))return vt[0]=Ye.textLabel,!0;if(Ye.completion.detail&&Ye.completion.detail.match(Ct._regexStrict))return vt[0]=Ye.completion.detail,!0;if(Ye.completion.documentation){const nt=typeof Ye.completion.documentation=="string"?Ye.completion.documentation:Ye.completion.documentation.value,Ge=Ct._regexRelaxed.exec(nt);if(Ge&&(Ge.index===0||Ge.index+Ge[0].length===nt.length))return vt[0]=Ge[0],!0}return!1}},Ct._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,Ct._regexStrict=new RegExp(`^${Ct._regexRelaxed.source}$`,"i"),Ct);let Bi=class{constructor(Ye,vt,nt,Ge){this._editor=Ye,this._modelService=vt,this._languageService=nt,this._themeService=Ge,this._onDidToggleDetails=new S.Q5,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(Ye){const vt=new E.SL,nt=Ye;nt.classList.add("show-file-icons");const Ge=(0,H.R3)(Ye,(0,H.$)(".icon")),rt=(0,H.R3)(Ge,(0,H.$)("span.colorspan")),st=(0,H.R3)(Ye,(0,H.$)(".contents")),tt=(0,H.R3)(st,(0,H.$)(".main")),_t=(0,H.R3)(tt,(0,H.$)(".icon-label.codicon")),kt=(0,H.R3)(tt,(0,H.$)("span.left")),at=(0,H.R3)(tt,(0,H.$)("span.right")),ht=new Se.g(kt,{supportHighlights:!0,supportIcons:!0});vt.add(ht);const Mt=(0,H.R3)(kt,(0,H.$)("span.signature-label")),ut=(0,H.R3)(kt,(0,H.$)("span.qualifier-label")),ke=(0,H.R3)(at,(0,H.$)("span.details-label")),lt=(0,H.R3)(at,(0,H.$)("span.readMore"+De.k.asCSSSelector(Di)));return lt.title=b.NC("readMore","Read More"),{root:nt,left:kt,right:at,icon:Ge,colorspan:rt,iconLabel:ht,iconContainer:_t,parametersLabel:Mt,qualifierLabel:ut,detailsLabel:ke,readMore:lt,disposables:vt,configureFont:()=>{const Ve=this._editor.getOptions(),Tt=Ve.get(50),At=Tt.getMassagedFontFamily(),Qt=Tt.fontFeatureSettings,mi=Ve.get(119)||Tt.fontSize,Ci=Ve.get(120)||Tt.lineHeight,Oi=Tt.fontWeight,Ii=Tt.letterSpacing,Qi=`${mi}px`,Wi=`${Ci}px`,Jt=`${Ii}px`;nt.style.fontSize=Qi,nt.style.fontWeight=Oi,nt.style.letterSpacing=Jt,tt.style.fontFamily=At,tt.style.fontFeatureSettings=Qt,tt.style.lineHeight=Wi,Ge.style.height=Wi,Ge.style.width=Wi,lt.style.height=Wi,lt.style.width=Wi}}}renderElement(Ye,vt,nt){nt.configureFont();const{completion:Ge}=Ye;nt.root.id=Gt(vt),nt.colorspan.style.backgroundColor="";const rt={labelEscapeNewLines:!0,matches:(0,Te.mB)(Ye.score)},st=[];if(Ge.kind===19&&$i.extract(Ye,st))nt.icon.className="icon customcolor",nt.iconContainer.className="icon hide",nt.colorspan.style.backgroundColor=st[0];else if(Ge.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){nt.icon.className="icon hide",nt.iconContainer.className="icon hide";const tt=ti(this._modelService,this._languageService,Ae.o.from({scheme:"fake",path:Ye.textLabel}),jt.FILE),_t=ti(this._modelService,this._languageService,Ae.o.from({scheme:"fake",path:Ge.detail}),jt.FILE);rt.extraClasses=tt.length>_t.length?tt:_t}else Ge.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(nt.icon.className="icon hide",nt.iconContainer.className="icon hide",rt.extraClasses=[ti(this._modelService,this._languageService,Ae.o.from({scheme:"fake",path:Ye.textLabel}),jt.FOLDER),ti(this._modelService,this._languageService,Ae.o.from({scheme:"fake",path:Ge.detail}),jt.FOLDER)].flat()):(nt.icon.className="icon hide",nt.iconContainer.className="",nt.iconContainer.classList.add("suggest-icon",...De.k.asClassNameArray(pe.gX.toIcon(Ge.kind))));Ge.tags&&Ge.tags.indexOf(1)>=0&&(rt.extraClasses=(rt.extraClasses||[]).concat(["deprecated"]),rt.matches=[]),nt.iconLabel.setLabel(Ye.textLabel,void 0,rt),typeof Ge.label=="string"?(nt.parametersLabel.textContent="",nt.detailsLabel.textContent=Vi(Ge.detail||""),nt.root.classList.add("string-label")):(nt.parametersLabel.textContent=Vi(Ge.label.detail||""),nt.detailsLabel.textContent=Vi(Ge.label.description||""),nt.root.classList.remove("string-label")),this._editor.getOption(118).showInlineDetails?(0,H.$Z)(nt.detailsLabel):(0,H.Cp)(nt.detailsLabel),oe(Ye)?(nt.right.classList.add("can-expand-details"),(0,H.$Z)(nt.readMore),nt.readMore.onmousedown=tt=>{tt.stopPropagation(),tt.preventDefault()},nt.readMore.onclick=tt=>{tt.stopPropagation(),tt.preventDefault(),this._onDidToggleDetails.fire()}):(nt.right.classList.remove("can-expand-details"),(0,H.Cp)(nt.readMore),nt.readMore.onmousedown=null,nt.readMore.onclick=null)}disposeTemplate(Ye){Ye.disposables.dispose()}};Bi=Ht([He(1,$t.q),He(2,Nt.O),He(3,Qe.XE)],Bi);function Vi(ft){return ft.replace(/\r\n|\r|\n/g,"")}var Ji=e(26179),wn=function(ft,Ye,vt,nt){var Ge=arguments.length,rt=Ge<3?Ye:nt===null?nt=Object.getOwnPropertyDescriptor(Ye,vt):nt,st;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")rt=Reflect.decorate(ft,Ye,vt,nt);else for(var tt=ft.length-1;tt>=0;tt--)(st=ft[tt])&&(rt=(Ge<3?st(rt):Ge>3?st(Ye,vt,rt):st(Ye,vt))||rt);return Ge>3&&rt&&Object.defineProperty(Ye,vt,rt),rt},yn=function(ft,Ye){return function(vt,nt){Ye(vt,nt,ft)}},Cn;(0,Oe.P6G)("editorSuggestWidget.background",{dark:Oe.D0T,light:Oe.D0T,hcDark:Oe.D0T,hcLight:Oe.D0T},b.NC("editorSuggestWidgetBackground","Background color of the suggest widget.")),(0,Oe.P6G)("editorSuggestWidget.border",{dark:Oe.D1_,light:Oe.D1_,hcDark:Oe.D1_,hcLight:Oe.D1_},b.NC("editorSuggestWidgetBorder","Border color of the suggest widget."));const an=(0,Oe.P6G)("editorSuggestWidget.foreground",{dark:Oe.NOs,light:Oe.NOs,hcDark:Oe.NOs,hcLight:Oe.NOs},b.NC("editorSuggestWidgetForeground","Foreground color of the suggest widget."));(0,Oe.P6G)("editorSuggestWidget.selectedForeground",{dark:Oe.NPS,light:Oe.NPS,hcDark:Oe.NPS,hcLight:Oe.NPS},b.NC("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget.")),(0,Oe.P6G)("editorSuggestWidget.selectedIconForeground",{dark:Oe.cbQ,light:Oe.cbQ,hcDark:Oe.cbQ,hcLight:Oe.cbQ},b.NC("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget."));const Rn=(0,Oe.P6G)("editorSuggestWidget.selectedBackground",{dark:Oe.Vqd,light:Oe.Vqd,hcDark:Oe.Vqd,hcLight:Oe.Vqd},b.NC("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget."));(0,Oe.P6G)("editorSuggestWidget.highlightForeground",{dark:Oe.Gwp,light:Oe.Gwp,hcDark:Oe.Gwp,hcLight:Oe.Gwp},b.NC("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),(0,Oe.P6G)("editorSuggestWidget.focusHighlightForeground",{dark:Oe.PX0,light:Oe.PX0,hcDark:Oe.PX0,hcLight:Oe.PX0},b.NC("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused.")),(0,Oe.P6G)("editorSuggestWidgetStatus.foreground",{dark:(0,Oe.ZnX)(an,.5),light:(0,Oe.ZnX)(an,.5),hcDark:(0,Oe.ZnX)(an,.5),hcLight:(0,Oe.ZnX)(an,.5)},b.NC("editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status."));class kn{constructor(Ye,vt){this._service=Ye,this._key=`suggestWidget.size/${vt.getEditorType()}/${vt instanceof ee.H}`}restore(){var Ye;const vt=(Ye=this._service.get(this._key,0))!==null&&Ye!==void 0?Ye:"";try{const nt=JSON.parse(vt);if(H.Ro.is(nt))return H.Ro.lift(nt)}catch(nt){}}store(Ye){this._service.store(this._key,JSON.stringify(Ye),0,1)}reset(){this._service.remove(this._key,0)}}let fn=Cn=class{constructor(Ye,vt,nt,Ge,rt){this.editor=Ye,this._storageService=vt,this._state=0,this._isAuto=!1,this._pendingLayout=new E.XK,this._pendingShowDetails=new E.XK,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new te._F,this._disposables=new E.SL,this._onDidSelect=new S.K3,this._onDidFocus=new S.K3,this._onDidHide=new S.Q5,this._onDidShow=new S.Q5,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new S.Q5,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new fe.f,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new On(this,Ye),this._persistedSize=new kn(vt,Ye);class st{constructor(ut,ke,lt=!1,mt=!1){this.persistedSize=ut,this.currentSize=ke,this.persistHeight=lt,this.persistWidth=mt}}let tt;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),tt=new st(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(Mt=>{var ut,ke,lt,mt;if(this._resize(Mt.dimension.width,Mt.dimension.height),tt&&(tt.persistHeight=tt.persistHeight||!!Mt.north||!!Mt.south,tt.persistWidth=tt.persistWidth||!!Mt.east||!!Mt.west),!!Mt.done){if(tt){const{itemHeight:Ve,defaultSize:Tt}=this.getLayoutInfo(),At=Math.round(Ve/2);let{width:Qt,height:mi}=this.element.size;(!tt.persistHeight||Math.abs(tt.currentSize.height-mi)<=At)&&(mi=(ke=(ut=tt.persistedSize)===null||ut===void 0?void 0:ut.height)!==null&&ke!==void 0?ke:Tt.height),(!tt.persistWidth||Math.abs(tt.currentSize.width-Qt)<=At)&&(Qt=(mt=(lt=tt.persistedSize)===null||lt===void 0?void 0:lt.width)!==null&&mt!==void 0?mt:Tt.width),this._persistedSize.store(new H.Ro(Qt,mi))}this._contentWidget.unlockPreference(),tt=void 0}})),this._messageElement=H.R3(this.element.domNode,H.$(".message")),this._listElement=H.R3(this.element.domNode,H.$(".tree"));const _t=this._disposables.add(rt.createInstance(ue,this.editor));_t.onDidClose(this.toggleDetails,this,this._disposables),this._details=new de(_t,this.editor);const kt=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(118).showIcons);kt();const at=rt.createInstance(Bi,this.editor);this._disposables.add(at),this._disposables.add(at.onDidToggleDetails(()=>this.toggleDetails())),this._list=new ie.aV("SuggestWidget",this._listElement,{getHeight:Mt=>this.getLayoutInfo().itemHeight,getTemplateId:Mt=>"suggestion"},[at],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>b.NC("suggest","Suggest"),getWidgetRole:()=>"listbox",getAriaLabel:Mt=>{let ut=Mt.textLabel;if(typeof Mt.completion.label!="string"){const{detail:Ve,description:Tt}=Mt.completion.label;Ve&&Tt?ut=b.NC("label.full","{0} {1}, {2}",ut,Ve,Tt):Ve?ut=b.NC("label.detail","{0} {1}",ut,Ve):Tt&&(ut=b.NC("label.desc","{0}, {1}",ut,Tt))}if(!Mt.isResolved||!this._isDetailsVisible())return ut;const{documentation:ke,detail:lt}=Mt.completion,mt=ne.WU("{0}{1}",lt||"",ke?typeof ke=="string"?ke:ke.value:"");return b.NC("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",ut,mt)}}}),this._list.style((0,Ji.TU)({listInactiveFocusBackground:Rn,listInactiveFocusOutline:Oe.xL1})),this._status=rt.createInstance(X,this.element.domNode,Z.GI);const ht=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(118).showStatusBar);ht(),this._disposables.add(Ge.onDidColorThemeChange(Mt=>this._onThemeChange(Mt))),this._onThemeChange(Ge.getColorTheme()),this._disposables.add(this._list.onMouseDown(Mt=>this._onListMouseDownOrTap(Mt))),this._disposables.add(this._list.onTap(Mt=>this._onListMouseDownOrTap(Mt))),this._disposables.add(this._list.onDidChangeSelection(Mt=>this._onListSelection(Mt))),this._disposables.add(this._list.onDidChangeFocus(Mt=>this._onListFocus(Mt))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(Mt=>{Mt.hasChanged(118)&&(ht(),kt()),this._completionModel&&(Mt.hasChanged(50)||Mt.hasChanged(119)||Mt.hasChanged(120))&&this._list.splice(0,this._list.length,this._completionModel.items)})),this._ctxSuggestWidgetVisible=Z._y.Visible.bindTo(nt),this._ctxSuggestWidgetDetailsVisible=Z._y.DetailsVisible.bindTo(nt),this._ctxSuggestWidgetMultipleSuggestions=Z._y.MultipleSuggestions.bindTo(nt),this._ctxSuggestWidgetHasFocusedSuggestion=Z._y.HasFocusedSuggestion.bindTo(nt),this._disposables.add(H.mu(this._details.widget.domNode,"keydown",Mt=>{this._onDetailsKeydown.fire(Mt)})),this._disposables.add(this.editor.onMouseDown(Mt=>this._onEditorMouseDown(Mt)))}dispose(){var Ye;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(Ye=this._loadingTimeout)===null||Ye===void 0||Ye.dispose(),this._pendingLayout.dispose(),this._pendingShowDetails.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(Ye){this._details.widget.domNode.contains(Ye.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(Ye.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(Ye){typeof Ye.element=="undefined"||typeof Ye.index=="undefined"||(Ye.browserEvent.preventDefault(),Ye.browserEvent.stopPropagation(),this._select(Ye.element,Ye.index))}_onListSelection(Ye){Ye.elements.length&&this._select(Ye.elements[0],Ye.indexes[0])}_select(Ye,vt){const nt=this._completionModel;nt&&(this._onDidSelect.fire({item:Ye,index:vt,model:nt}),this.editor.focus())}_onThemeChange(Ye){this._details.widget.borderWidth=(0,Ke.c3)(Ye.type)?2:1}_onListFocus(Ye){var vt;if(this._ignoreFocusEvents)return;if(!Ye.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);return}if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);const nt=Ye.elements[0],Ge=Ye.indexes[0];nt!==this._focusedItem&&((vt=this._currentSuggestionDetails)===null||vt===void 0||vt.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=nt,this._list.reveal(Ge),this._currentSuggestionDetails=(0,te.PG)(rt=>Ft(this,null,function*(){const st=(0,te.Vg)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),tt=rt.onCancellationRequested(()=>st.dispose());try{return yield nt.resolve(rt)}finally{st.dispose(),tt.dispose()}})),this._currentSuggestionDetails.then(()=>{Ge>=this._list.length||nt!==this._list.element(Ge)||(this._ignoreFocusEvents=!0,this._list.splice(Ge,1,[nt]),this._list.setFocus([Ge]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:Gt(Ge)}))}).catch(O.dL)),this._onDidFocus.fire({item:nt,index:Ge,model:this._completionModel})}_setState(Ye){if(this._state!==Ye)switch(this._state=Ye,this.element.domNode.classList.toggle("frozen",Ye===4),this.element.domNode.classList.remove("message"),Ye){case 0:H.Cp(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=Cn.LOADING_MESSAGE,H.Cp(this._listElement,this._status.element),H.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,(0,o.i7)(Cn.LOADING_MESSAGE);break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=Cn.NO_SUGGESTIONS_MESSAGE,H.Cp(this._listElement,this._status.element),H.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,(0,o.i7)(Cn.NO_SUGGESTIONS_MESSAGE);break;case 3:H.Cp(this._messageElement),H.$Z(this._listElement,this._status.element),this._show();break;case 4:H.Cp(this._messageElement),H.$Z(this._listElement,this._status.element),this._show();break;case 5:H.Cp(this._messageElement),H.$Z(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(Ye,vt){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!Ye,this._isAuto||(this._loadingTimeout=(0,te.Vg)(()=>this._setState(1),vt)))}showSuggestions(Ye,vt,nt,Ge,rt){var st,tt;if(this._contentWidget.setPosition(this.editor.getPosition()),(st=this._loadingTimeout)===null||st===void 0||st.dispose(),(tt=this._currentSuggestionDetails)===null||tt===void 0||tt.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==Ye&&(this._completionModel=Ye),nt&&this._state!==2&&this._state!==0){this._setState(4);return}const _t=this._completionModel.items.length,kt=_t===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(_t>1),kt){this._setState(Ge?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._onDidFocus.pause(),this._onDidSelect.pause();try{this._list.splice(0,this._list.length,this._completionModel.items),this._setState(nt?4:3),this._list.reveal(vt,0),this._list.setFocus(rt?[]:[vt])}finally{this._onDidFocus.resume(),this._onDidSelect.resume()}this._pendingLayout.value=H.lI(H.Jj(this.element.domNode),()=>{this._pendingLayout.clear(),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")})}focusSelected(){this._list.length>0&&this._list.setFocus([0])}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel&&this._list.getFocus().length>0)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._pendingShowDetails.clear(),this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(oe(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(Ye){this._pendingShowDetails.value=H.lI(H.Jj(this.element.domNode),()=>{this._pendingShowDetails.clear(),this._details.show(),Ye?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._details.widget.isEmpty?this._details.hide():(this._positionDetails(),this.element.domNode.classList.add("shows-details")),this.editor.focus()})}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var Ye;this._pendingLayout.clear(),this._pendingShowDetails.clear(),(Ye=this._loadingTimeout)===null||Ye===void 0||Ye.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const vt=this._persistedSize.restore(),nt=Math.ceil(this.getLayoutInfo().itemHeight*4.3);vt&&vt.height<nt&&this._persistedSize.store(vt.with(void 0,nt))}isFrozen(){return this._state===4}_afterRender(Ye){if(Ye===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&!this._details.widget.isEmpty&&this._details.show(),this._positionDetails())}_layout(Ye){var vt,nt,Ge;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const rt=H.D6(this.element.domNode.ownerDocument.body),st=this.getLayoutInfo();Ye||(Ye=st.defaultSize);let tt=Ye.height,_t=Ye.width;if(this._status.element.style.height=`${st.itemHeight}px`,this._state===2||this._state===1)tt=st.itemHeight+st.borderHeight,_t=st.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new H.Ro(_t,tt),this._contentWidget.setPreference(2);else{const kt=rt.width-st.borderHeight-2*st.horizontalPadding;_t>kt&&(_t=kt);const at=this._completionModel?this._completionModel.stats.pLabelLen*st.typicalHalfwidthCharacterWidth:_t,ht=st.statusBarHeight+this._list.contentHeight+st.borderHeight,Mt=st.itemHeight+st.statusBarHeight,ut=H.i(this.editor.getDomNode()),ke=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),lt=ut.top+ke.top+ke.height,mt=Math.min(rt.height-lt-st.verticalPadding,ht),Ve=ut.top+ke.top-st.verticalPadding,Tt=Math.min(Ve,ht);let At=Math.min(Math.max(Tt,mt)+st.borderHeight,ht);tt===((vt=this._cappedHeight)===null||vt===void 0?void 0:vt.capped)&&(tt=this._cappedHeight.wanted),tt<Mt&&(tt=Mt),tt>At&&(tt=At),tt>mt||this._forceRenderingAbove&&Ve>150?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),At=Tt):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),At=mt),this.element.preferredSize=new H.Ro(at,st.defaultSize.height),this.element.maxSize=new H.Ro(kt,At),this.element.minSize=new H.Ro(220,Mt),this._cappedHeight=tt===ht?{wanted:(Ge=(nt=this._cappedHeight)===null||nt===void 0?void 0:nt.wanted)!==null&&Ge!==void 0?Ge:Ye.height,capped:tt}:void 0}this._resize(_t,tt)}_resize(Ye,vt){const{width:nt,height:Ge}=this.element.maxSize;Ye=Math.min(nt,Ye),vt=Math.min(Ge,vt);const{statusBarHeight:rt}=this.getLayoutInfo();this._list.layout(vt-rt,Ye),this._listElement.style.height=`${vt-rt}px`,this.element.layout(vt,Ye),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var Ye;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((Ye=this._contentWidget.getPosition())===null||Ye===void 0?void 0:Ye.preference[0])===2)}getLayoutInfo(){const Ye=this.editor.getOption(50),vt=(0,se.uZ)(this.editor.getOption(120)||Ye.lineHeight,8,1e3),nt=!this.editor.getOption(118).showStatusBar||this._state===2||this._state===1?0:vt,Ge=this._details.widget.borderWidth,rt=2*Ge;return{itemHeight:vt,statusBarHeight:nt,borderWidth:Ge,borderHeight:rt,typicalHalfwidthCharacterWidth:Ye.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new H.Ro(430,nt+12*vt+rt)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(Ye){this._storageService.store("expandSuggestionDocs",Ye,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};fn.LOADING_MESSAGE=b.NC("suggestWidget.loading","Loading..."),fn.NO_SUGGESTIONS_MESSAGE=b.NC("suggestWidget.noSuggestions","No suggestions."),fn=Cn=wn([yn(1,Ee.Uy),yn(2,f.i6),yn(3,Qe.XE),yn(4,V.TG)],fn);class On{constructor(Ye,vt){this._widget=Ye,this._editor=vt,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:Ye,width:vt}=this._widget.element.size,{borderWidth:nt,horizontalPadding:Ge}=this._widget.getLayoutInfo();return new H.Ro(vt+2*nt+Ge,Ye+2*nt)}afterRender(Ye){this._widget._afterRender(Ye)}setPreference(Ye){this._preferenceLocked||(this._preference=Ye)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(Ye){this._position=Ye}}var xn=e(79553),An=e(95948),Zt=e(93059),ci=function(ft,Ye,vt,nt){var Ge=arguments.length,rt=Ge<3?Ye:nt===null?nt=Object.getOwnPropertyDescriptor(Ye,vt):nt,st;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")rt=Reflect.decorate(ft,Ye,vt,nt);else for(var tt=ft.length-1;tt>=0;tt--)(st=ft[tt])&&(rt=(Ge<3?st(rt):Ge>3?st(Ye,vt,rt):st(Ye,vt))||rt);return Ge>3&&rt&&Object.defineProperty(Ye,vt,rt),rt},_i=function(ft,Ye){return function(vt,nt){Ye(vt,nt,ft)}},Ri;const Zi=!1;class gi{constructor(Ye,vt){if(this._model=Ye,this._position=vt,this._decorationOptions=Zt.qx.register({description:"suggest-line-suffix",stickiness:1}),Ye.getLineMaxColumn(vt.lineNumber)!==vt.column){const Ge=Ye.getOffsetAt(vt),rt=Ye.getPositionAt(Ge+1);Ye.changeDecorations(st=>{this._marker&&st.removeDecoration(this._marker),this._marker=st.addDecoration(n.e.fromPositions(vt,rt),this._decorationOptions)})}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.changeDecorations(Ye=>{Ye.removeDecoration(this._marker),this._marker=void 0})}delta(Ye){if(this._model.isDisposed()||this._position.lineNumber!==Ye.lineNumber)return 0;if(this._marker){const vt=this._model.getDecorationRange(this._marker);return this._model.getOffsetAt(vt.getStartPosition())-this._model.getOffsetAt(Ye)}else return this._model.getLineMaxColumn(Ye.lineNumber)-Ye.column}}let Ze=Ri=class{static get(Ye){return Ye.getContribution(Ri.ID)}constructor(Ye,vt,nt,Ge,rt,st,tt){this._memoryService=vt,this._commandService=nt,this._contextKeyService=Ge,this._instantiationService=rt,this._logService=st,this._telemetryService=tt,this._lineSuffix=new E.XK,this._toDispose=new E.SL,this._selectors=new dt(ht=>ht.priority),this._onWillInsertSuggestItem=new S.Q5,this.onWillInsertSuggestItem=this._onWillInsertSuggestItem.event,this.editor=Ye,this.model=rt.createInstance(j.U,this.editor),this._selectors.register({priority:0,select:(ht,Mt,ut)=>this._memoryService.select(ht,Mt,ut)});const _t=Z._y.InsertMode.bindTo(Ge);_t.set(Ye.getOption(118).insertMode),this._toDispose.add(this.model.onDidTrigger(()=>_t.set(Ye.getOption(118).insertMode))),this.widget=this._toDispose.add(new H.vx((0,H.Jj)(Ye.getDomNode()),()=>{const ht=this._instantiationService.createInstance(fn,this.editor);this._toDispose.add(ht),this._toDispose.add(ht.onDidSelect(mt=>this._insertSuggestion(mt,0),this));const Mt=new G(this.editor,ht,this.model,mt=>this._insertSuggestion(mt,2));this._toDispose.add(Mt);const ut=Z._y.MakesTextEdit.bindTo(this._contextKeyService),ke=Z._y.HasInsertAndReplaceRange.bindTo(this._contextKeyService),lt=Z._y.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,E.OF)(()=>{ut.reset(),ke.reset(),lt.reset()})),this._toDispose.add(ht.onDidFocus(({item:mt})=>{const Ve=this.editor.getPosition(),Tt=mt.editStart.column,At=Ve.column;let Qt=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!mt.completion.additionalTextEdits&&!(mt.completion.insertTextRules&4)&&At-Tt===mt.completion.insertText.length&&(Qt=this.editor.getModel().getValueInRange({startLineNumber:Ve.lineNumber,startColumn:Tt,endLineNumber:Ve.lineNumber,endColumn:At})!==mt.completion.insertText),ut.set(Qt),ke.set(!i.L.equals(mt.editInsertEnd,mt.editReplaceEnd)),lt.set(!!mt.provider.resolveCompletionItem||!!mt.completion.documentation||mt.completion.detail!==mt.completion.label)})),this._toDispose.add(ht.onDetailsKeyDown(mt=>{if(mt.toKeyCodeChord().equals(new p.$M(!0,!1,!1,!1,33))||R.dz&&mt.toKeyCodeChord().equals(new p.$M(!1,!1,!1,!0,33))){mt.stopPropagation();return}mt.toKeyCodeChord().isModifierKey()||this.editor.focus()})),ht})),this._overtypingCapturer=this._toDispose.add(new H.vx((0,H.Jj)(Ye.getDomNode()),()=>this._toDispose.add(new Y(this.editor,this.model)))),this._alternatives=this._toDispose.add(new H.vx((0,H.Jj)(Ye.getDomNode()),()=>this._toDispose.add(new I(this.editor,this._contextKeyService)))),this._toDispose.add(rt.createInstance(N,Ye)),this._toDispose.add(this.model.onDidTrigger(ht=>{this.widget.value.showTriggered(ht.auto,ht.shy?250:50),this._lineSuffix.value=new gi(this.editor.getModel(),ht.position)})),this._toDispose.add(this.model.onDidSuggest(ht=>{if(ht.triggerOptions.shy)return;let Mt=-1;for(const ke of this._selectors.itemsOrderedByPriorityDesc)if(Mt=ke.select(this.editor.getModel(),this.editor.getPosition(),ht.completionModel.items),Mt!==-1)break;if(Mt===-1&&(Mt=0),this.model.state===0)return;let ut=!1;if(ht.triggerOptions.auto){const ke=this.editor.getOption(118);ke.selectionMode==="never"||ke.selectionMode==="always"?ut=ke.selectionMode==="never":ke.selectionMode==="whenTriggerCharacter"?ut=ht.triggerOptions.triggerKind!==1:ke.selectionMode==="whenQuickSuggestion"&&(ut=ht.triggerOptions.triggerKind===1&&!ht.triggerOptions.refilter)}this.widget.value.showSuggestions(ht.completionModel,Mt,ht.isFrozen,ht.triggerOptions.auto,ut)})),this._toDispose.add(this.model.onDidCancel(ht=>{ht.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{Zi||(this.model.cancel(),this.model.clear())}));const kt=Z._y.AcceptSuggestionsOnEnter.bindTo(Ge),at=()=>{const ht=this.editor.getOption(1);kt.set(ht==="on"||ht==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>at())),at()}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose(),this._onWillInsertSuggestItem.dispose()}_insertSuggestion(Ye,vt){if(!Ye||!Ye.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const nt=u.f.get(this.editor);if(!nt)return;this._onWillInsertSuggestItem.fire({item:Ye.item});const Ge=this.editor.getModel(),rt=Ge.getAlternativeVersionId(),{item:st}=Ye,tt=[],_t=new x.AU;vt&1||this.editor.pushUndoStop();const kt=this.getOverwriteInfo(st,!!(vt&8));this._memoryService.memorize(Ge,this.editor.getPosition(),st);const at=st.isResolved;let ht=-1,Mt=-1;if(Array.isArray(st.completion.additionalTextEdits)){this.model.cancel();const ke=g.Z.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",st.completion.additionalTextEdits.map(lt=>{let mt=n.e.lift(lt.range);if(mt.startLineNumber===st.position.lineNumber&&mt.startColumn>st.position.column){const Ve=this.editor.getPosition().column-st.position.column,Tt=Ve,At=n.e.spansMultipleLines(mt)?0:Ve;mt=new n.e(mt.startLineNumber,mt.startColumn+Tt,mt.endLineNumber,mt.endColumn+At)}return r.h.replaceMove(mt,lt.text)})),ke.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!at){const ke=new w.G;let lt;const mt=Ge.onDidChangeContent(Qt=>{if(Qt.isFlush){_t.cancel(),mt.dispose();return}for(const mi of Qt.changes){const Ci=n.e.getEndPosition(mi.range);(!lt||i.L.isBefore(Ci,lt))&&(lt=Ci)}}),Ve=vt;vt|=2;let Tt=!1;const At=this.editor.onWillType(()=>{At.dispose(),Tt=!0,Ve&2||this.editor.pushUndoStop()});tt.push(st.resolve(_t.token).then(()=>{if(!st.completion.additionalTextEdits||_t.token.isCancellationRequested)return;if(lt&&st.completion.additionalTextEdits.some(mi=>i.L.isBefore(lt,n.e.getStartPosition(mi.range))))return!1;Tt&&this.editor.pushUndoStop();const Qt=g.Z.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",st.completion.additionalTextEdits.map(mi=>r.h.replaceMove(n.e.lift(mi.range),mi.text))),Qt.restoreRelativeVerticalPositionOfCursor(this.editor),(Tt||!(Ve&2))&&this.editor.pushUndoStop(),!0}).then(Qt=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",ke.elapsed(),Qt),Mt=Qt===!0?1:Qt===!1?0:-2}).finally(()=>{mt.dispose(),At.dispose()}))}let{insertText:ut}=st.completion;if(st.completion.insertTextRules&4||(ut=l.Yj.escape(ut)),this.model.cancel(),nt.insert(ut,{overwriteBefore:kt.overwriteBefore,overwriteAfter:kt.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(st.completion.insertTextRules&1),clipboardText:Ye.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),vt&2||this.editor.pushUndoStop(),st.completion.command)if(st.completion.command.id===Ue.id)this.model.trigger({auto:!0,retrigger:!0});else{const ke=new w.G;tt.push(this._commandService.executeCommand(st.completion.command.id,...st.completion.command.arguments?[...st.completion.command.arguments]:[]).catch(lt=>{st.completion.extensionId?(0,O.Cp)(lt):(0,O.dL)(lt)}).finally(()=>{ht=ke.elapsed()}))}vt&4&&this._alternatives.value.set(Ye,ke=>{for(_t.cancel();Ge.canUndo();){rt!==Ge.getAlternativeVersionId()&&Ge.undo(),this._insertSuggestion(ke,3|(vt&8?8:0));break}}),this._alertCompletionItem(st),Promise.all(tt).finally(()=>{this._reportSuggestionAcceptedTelemetry(st,Ge,at,ht,Mt),this.model.clear(),_t.dispose()})}_reportSuggestionAcceptedTelemetry(Ye,vt,nt,Ge,rt){var st,tt,_t;Math.floor(Math.random()*100)!==0&&this._telemetryService.publicLog2("suggest.acceptedSuggestion",{extensionId:(tt=(st=Ye.extensionId)===null||st===void 0?void 0:st.value)!==null&&tt!==void 0?tt:"unknown",providerId:(_t=Ye.provider._debugDisplayName)!==null&&_t!==void 0?_t:"unknown",kind:Ye.completion.kind,basenameHash:(0,An.vp)((0,ot.EZ)(vt.uri)).toString(16),languageId:vt.getLanguageId(),fileExtension:(0,ot.DZ)(vt.uri),resolveInfo:Ye.provider.resolveCompletionItem?nt?1:0:-1,resolveDuration:Ye.resolveDuration,commandDuration:Ge,additionalEditsAsync:rt})}getOverwriteInfo(Ye,vt){(0,m.p_)(this.editor.hasModel());let nt=this.editor.getOption(118).insertMode==="replace";vt&&(nt=!nt);const Ge=Ye.position.column-Ye.editStart.column,rt=(nt?Ye.editReplaceEnd.column:Ye.editInsertEnd.column)-Ye.position.column,st=this.editor.getPosition().column-Ye.position.column,tt=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:Ge+st,overwriteAfter:rt+tt}}_alertCompletionItem(Ye){if((0,B.Of)(Ye.completion.additionalTextEdits)){const vt=b.NC("aria.alert.snippet","Accepting '{0}' made {1} additional edits",Ye.textLabel,Ye.completion.additionalTextEdits.length);(0,o.Z9)(vt)}}triggerSuggest(Ye,vt,nt){this.editor.hasModel()&&(this.model.trigger({auto:vt!=null?vt:!1,completionOptions:{providerFilter:Ye,kindFilter:nt?new Set:void 0}}),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(Ye){if(!this.editor.hasModel())return;const vt=this.editor.getPosition(),nt=()=>{vt.equals(this.editor.getPosition())&&this._commandService.executeCommand(Ye.fallback)},Ge=rt=>{if(rt.completion.insertTextRules&4||rt.completion.additionalTextEdits)return!0;const st=this.editor.getPosition(),tt=rt.editStart.column,_t=st.column;return _t-tt!==rt.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:st.lineNumber,startColumn:tt,endLineNumber:st.lineNumber,endColumn:_t})!==rt.completion.insertText};S.ju.once(this.model.onDidTrigger)(rt=>{const st=[];S.ju.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,E.B9)(st),nt()},void 0,st),this.model.onDidSuggest(({completionModel:tt})=>{if((0,E.B9)(st),tt.items.length===0){nt();return}const _t=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),tt.items),kt=tt.items[_t];if(!Ge(kt)){nt();return}this.editor.pushUndoStop(),this._insertSuggestion({index:_t,item:kt,model:tt},7)},void 0,st)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(vt,0),this.editor.focus()}acceptSelectedSuggestion(Ye,vt){const nt=this.widget.value.getFocusedItem();let Ge=0;Ye&&(Ge|=4),vt&&(Ge|=8),this._insertSuggestion(nt,Ge)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}focusSuggestion(){this.widget.value.focusSelected()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.isInitialized&&this.widget.value.stopForceRenderingAbove()}registerSelector(Ye){return this._selectors.register(Ye)}};Ze.ID="editor.contrib.suggestController",Ze=Ri=ci([_i(1,D.Fh),_i(2,k.H),_i(3,f.i6),_i(4,V.TG),_i(5,K.VZ),_i(6,xn.b)],Ze);class dt{constructor(Ye){this.prioritySelector=Ye,this._items=new Array}register(Ye){if(this._items.indexOf(Ye)!==-1)throw new Error("Value is already registered");return this._items.push(Ye),this._items.sort((vt,nt)=>this.prioritySelector(nt)-this.prioritySelector(vt)),{dispose:()=>{const vt=this._items.indexOf(Ye);vt>=0&&this._items.splice(vt,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class Ue extends a.R6{constructor(){super({id:Ue.id,label:b.NC("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:f.Ao.and(c.u.writable,c.u.hasCompletionItemProvider,Z._y.Visible.toNegated()),kbOpts:{kbExpr:c.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(Ye,vt,nt){const Ge=Ze.get(vt);if(!Ge)return;let rt;nt&&typeof nt=="object"&&nt.auto===!0&&(rt=!0),Ge.triggerSuggest(void 0,rt,void 0)}}Ue.id="editor.action.triggerSuggest",(0,a._K)(Ze.ID,Ze,2),(0,a.Qr)(Ue);const $e=190,bt=a._l.bindToContribution(Ze.get);(0,a.fK)(new bt({id:"acceptSelectedSuggestion",precondition:f.Ao.and(Z._y.Visible,Z._y.HasFocusedSuggestion),handler(ft){ft.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:f.Ao.and(Z._y.Visible,c.u.textInputFocus),weight:$e},{primary:3,kbExpr:f.Ao.and(Z._y.Visible,c.u.textInputFocus,Z._y.AcceptSuggestionsOnEnter,Z._y.MakesTextEdit),weight:$e}],menuOpts:[{menuId:Z.GI,title:b.NC("accept.insert","Insert"),group:"left",order:1,when:Z._y.HasInsertAndReplaceRange.toNegated()},{menuId:Z.GI,title:b.NC("accept.insert","Insert"),group:"left",order:1,when:f.Ao.and(Z._y.HasInsertAndReplaceRange,Z._y.InsertMode.isEqualTo("insert"))},{menuId:Z.GI,title:b.NC("accept.replace","Replace"),group:"left",order:1,when:f.Ao.and(Z._y.HasInsertAndReplaceRange,Z._y.InsertMode.isEqualTo("replace"))}]})),(0,a.fK)(new bt({id:"acceptAlternativeSelectedSuggestion",precondition:f.Ao.and(Z._y.Visible,c.u.textInputFocus,Z._y.HasFocusedSuggestion),kbOpts:{weight:$e,kbExpr:c.u.textInputFocus,primary:1027,secondary:[1026]},handler(ft){ft.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:Z.GI,group:"left",order:2,when:f.Ao.and(Z._y.HasInsertAndReplaceRange,Z._y.InsertMode.isEqualTo("insert")),title:b.NC("accept.replace","Replace")},{menuId:Z.GI,group:"left",order:2,when:f.Ao.and(Z._y.HasInsertAndReplaceRange,Z._y.InsertMode.isEqualTo("replace")),title:b.NC("accept.insert","Insert")}]})),k.P.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,a.fK)(new bt({id:"hideSuggestWidget",precondition:Z._y.Visible,handler:ft=>ft.cancelSuggestWidget(),kbOpts:{weight:$e,kbExpr:c.u.textInputFocus,primary:9,secondary:[1033]}})),(0,a.fK)(new bt({id:"selectNextSuggestion",precondition:f.Ao.and(Z._y.Visible,f.Ao.or(Z._y.MultipleSuggestions,Z._y.HasFocusedSuggestion.negate())),handler:ft=>ft.selectNextSuggestion(),kbOpts:{weight:$e,kbExpr:c.u.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,a.fK)(new bt({id:"selectNextPageSuggestion",precondition:f.Ao.and(Z._y.Visible,f.Ao.or(Z._y.MultipleSuggestions,Z._y.HasFocusedSuggestion.negate())),handler:ft=>ft.selectNextPageSuggestion(),kbOpts:{weight:$e,kbExpr:c.u.textInputFocus,primary:12,secondary:[2060]}})),(0,a.fK)(new bt({id:"selectLastSuggestion",precondition:f.Ao.and(Z._y.Visible,f.Ao.or(Z._y.MultipleSuggestions,Z._y.HasFocusedSuggestion.negate())),handler:ft=>ft.selectLastSuggestion()})),(0,a.fK)(new bt({id:"selectPrevSuggestion",precondition:f.Ao.and(Z._y.Visible,f.Ao.or(Z._y.MultipleSuggestions,Z._y.HasFocusedSuggestion.negate())),handler:ft=>ft.selectPrevSuggestion(),kbOpts:{weight:$e,kbExpr:c.u.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,a.fK)(new bt({id:"selectPrevPageSuggestion",precondition:f.Ao.and(Z._y.Visible,f.Ao.or(Z._y.MultipleSuggestions,Z._y.HasFocusedSuggestion.negate())),handler:ft=>ft.selectPrevPageSuggestion(),kbOpts:{weight:$e,kbExpr:c.u.textInputFocus,primary:11,secondary:[2059]}})),(0,a.fK)(new bt({id:"selectFirstSuggestion",precondition:f.Ao.and(Z._y.Visible,f.Ao.or(Z._y.MultipleSuggestions,Z._y.HasFocusedSuggestion.negate())),handler:ft=>ft.selectFirstSuggestion()})),(0,a.fK)(new bt({id:"focusSuggestion",precondition:f.Ao.and(Z._y.Visible,Z._y.HasFocusedSuggestion.negate()),handler:ft=>ft.focusSuggestion(),kbOpts:{weight:$e,kbExpr:c.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}}})),(0,a.fK)(new bt({id:"focusAndAcceptSuggestion",precondition:f.Ao.and(Z._y.Visible,Z._y.HasFocusedSuggestion.negate()),handler:ft=>{ft.focusSuggestion(),ft.acceptSelectedSuggestion(!0,!1)}})),(0,a.fK)(new bt({id:"toggleSuggestionDetails",precondition:f.Ao.and(Z._y.Visible,Z._y.HasFocusedSuggestion),handler:ft=>ft.toggleSuggestionDetails(),kbOpts:{weight:$e,kbExpr:c.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:Z.GI,group:"right",order:1,when:f.Ao.and(Z._y.DetailsVisible,Z._y.CanResolve),title:b.NC("detail.more","show less")},{menuId:Z.GI,group:"right",order:1,when:f.Ao.and(Z._y.DetailsVisible.toNegated(),Z._y.CanResolve),title:b.NC("detail.less","show more")}]})),(0,a.fK)(new bt({id:"toggleExplainMode",precondition:Z._y.Visible,handler:ft=>ft.toggleExplainMode(),kbOpts:{weight:100,primary:2138}})),(0,a.fK)(new bt({id:"toggleSuggestionFocus",precondition:Z._y.Visible,handler:ft=>ft.toggleSuggestionFocus(),kbOpts:{weight:$e,kbExpr:c.u.textInputFocus,primary:2570,mac:{primary:778}}})),(0,a.fK)(new bt({id:"insertBestCompletion",precondition:f.Ao.and(c.u.textInputFocus,f.Ao.equals("config.editor.tabCompletion","on"),N.AtEnd,Z._y.Visible.toNegated(),I.OtherSuggestions.toNegated(),u.f.InSnippetMode.toNegated()),handler:(ft,Ye)=>{ft.triggerSuggestAndAcceptBest((0,m.Kn)(Ye)?vi({fallback:"tab"},Ye):{fallback:"tab"})},kbOpts:{weight:$e,primary:2}})),(0,a.fK)(new bt({id:"insertNextSuggestion",precondition:f.Ao.and(c.u.textInputFocus,f.Ao.equals("config.editor.tabCompletion","on"),I.OtherSuggestions,Z._y.Visible.toNegated(),u.f.InSnippetMode.toNegated()),handler:ft=>ft.acceptNextSuggestion(),kbOpts:{weight:$e,kbExpr:c.u.textInputFocus,primary:2}})),(0,a.fK)(new bt({id:"insertPrevSuggestion",precondition:f.Ao.and(c.u.textInputFocus,f.Ao.equals("config.editor.tabCompletion","on"),I.OtherSuggestions,Z._y.Visible.toNegated(),u.f.InSnippetMode.toNegated()),handler:ft=>ft.acceptPrevSuggestion(),kbOpts:{weight:$e,kbExpr:c.u.textInputFocus,primary:1026}})),(0,a.Qr)(class extends a.R6{constructor(){super({id:"editor.action.resetSuggestSize",label:b.NC("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(ft,Ye){var vt;(vt=Ze.get(Ye))===null||vt===void 0||vt.resetWidgetSize()}})},95127:function(et,Le,e){"use strict";var o=e(65642),B=e(87100),x=e(852),O=e(45029),S=e(89226),p=e(4694),E=e(52709),R=e(70546),w=e(6762),m=e(73746),g=e(2971),a=e(77554),r=e(33731),i=e(11796),n=function(f,y,C,_){var N=arguments.length,b=N<3?y:_===null?_=Object.getOwnPropertyDescriptor(y,C):_,k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(f,y,C,_);else for(var V=f.length-1;V>=0;V--)(k=f[V])&&(b=(N<3?k(b):N>3?k(y,C,b):k(y,C))||b);return N>3&&b&&Object.defineProperty(y,C,b),b},c=function(f,y){return function(C,_){y(C,_,f)}};class u{constructor(y,C,_,N,b,k){this.range=y,this.insertText=C,this.filterText=_,this.additionalTextEdits=N,this.command=b,this.completion=k}}let l=class extends O.L6{constructor(y,C,_,N,b,k){super(b.disposable),this.model=y,this.line=C,this.word=_,this.completionModel=N,this._suggestMemoryService=k}canBeReused(y,C,_){return this.model===y&&this.line===C&&this.word.word.length>0&&this.word.startColumn===_.startColumn&&this.word.endColumn<_.endColumn&&this.completionModel.getIncompleteProvider().size===0}get items(){var y;const C=[],{items:_}=this.completionModel,N=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},_),b=x.$.slice(_,N),k=x.$.slice(_,0,N);let V=5;for(const K of x.$.concat(b,k)){if(K.score===B.CL.Default)continue;const Z=new p.e(K.editStart.lineNumber,K.editStart.column,K.editInsertEnd.lineNumber,K.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),z=K.completion.insertTextRules&&K.completion.insertTextRules&4?{snippet:K.completion.insertText}:K.completion.insertText;C.push(new u(Z,z,(y=K.filterTextLow)!==null&&y!==void 0?y:K.labelLow,K.completion.additionalTextEdits,K.completion.command,K)),V-->=0&&K.resolve(o.Ts.None)}return C}};l=n([c(5,g.Fh)],l);let D=class extends O.JT{constructor(y,C,_,N){super(),this._languageFeatureService=y,this._clipboardService=C,this._suggestMemoryService=_,this._editorService=N,this._store.add(y.inlineCompletionsProvider.register("*",this))}provideInlineCompletions(y,C,_,N){return Ft(this,null,function*(){var b;if(_.selectedSuggestionInfo)return;let k;for(const W of this._editorService.listCodeEditors())if(W.getModel()===y){k=W;break}if(!k)return;const V=k.getOption(89);if(m.tG.isAllOff(V))return;y.tokenization.tokenizeIfCheap(C.lineNumber);const K=y.tokenization.getLineTokens(C.lineNumber),Z=K.getStandardTokenType(K.findTokenIndexAtOffset(Math.max(C.column-1-1,0)));if(m.tG.valueFor(V,Z)!=="inline")return;let z=y.getWordAtPosition(C),A;if(z!=null&&z.word||(A=this._getTriggerCharacterInfo(y,C)),!(z!=null&&z.word)&&!A||(z||(z=y.getWordUntilPosition(C)),z.endColumn!==C.column))return;let P;const I=y.getValueInRange(new p.e(C.lineNumber,1,C.lineNumber,C.column));if(!A&&(!((b=this._lastResult)===null||b===void 0)&&b.canBeReused(y,C.lineNumber,z))){const W=new w.t(I,C.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=W,this._lastResult.acquire(),P=this._lastResult}else{const W=yield(0,m.kL)(this._languageFeatureService.completionProvider,y,C,new m.A9(void 0,a.U.createSuggestFilter(k).itemKind,A==null?void 0:A.providers),A&&{triggerKind:1,triggerCharacter:A.ch},N);let G;W.needsClipboard&&(G=yield this._clipboardService.readText());const j=new w._(W.items,C.column,new w.t(I,0),r.K.None,k.getOption(118),k.getOption(112),{boostFullMatch:!1,firstMatchCanBeWeak:!1},G);P=new l(y,C.lineNumber,z,j,W,this._suggestMemoryService)}return this._lastResult=P,P})}handleItemDidShow(y,C){C.completion.resolve(o.Ts.None)}freeInlineCompletions(y){y.release()}_getTriggerCharacterInfo(y,C){var _;const N=y.getValueInRange(p.e.fromPositions({lineNumber:C.lineNumber,column:C.column-1},C)),b=new Set;for(const k of this._languageFeatureService.completionProvider.all(y))!((_=k.triggerCharacters)===null||_===void 0)&&_.includes(N)&&b.add(k);if(b.size!==0)return{providers:b,ch:N}}};D=n([c(0,R.p),c(1,i.p),c(2,g.Fh),c(3,S.$)],D),(0,E.y)(D)},2971:function(et,Le,e){"use strict";e.d(Le,{Fh:function(){return l}});var o=e(74696),B=e(45029),x=e(79138),O=e(8848),S=e(91895),p=e(48774),E=e(98352),R=e(87058),w=e(10783),m=function(D,f,y,C){var _=arguments.length,N=_<3?f:C===null?C=Object.getOwnPropertyDescriptor(f,y):C,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(D,f,y,C);else for(var k=D.length-1;k>=0;k--)(b=D[k])&&(N=(_<3?b(N):_>3?b(f,y,N):b(f,y))||N);return _>3&&N&&Object.defineProperty(f,y,N),N},g=function(D,f){return function(y,C){f(y,C,D)}},a;class r{constructor(f){this.name=f}select(f,y,C){if(C.length===0)return 0;const _=C[0].score[0];for(let N=0;N<C.length;N++){const{score:b,completion:k}=C[N];if(b[0]!==_)break;if(k.preselect)return N}return 0}}class i extends r{constructor(){super("first")}memorize(f,y,C){}toJSON(){}fromJSON(){}}class n extends r{constructor(){super("recentlyUsed"),this._cache=new x.z6(300,.66),this._seq=0}memorize(f,y,C){const _=`${f.getLanguageId()}/${C.textLabel}`;this._cache.set(_,{touch:this._seq++,type:C.completion.kind,insertText:C.completion.insertText})}select(f,y,C){if(C.length===0)return 0;const _=f.getLineContent(y.lineNumber).substr(y.column-10,y.column-1);if(/\s$/.test(_))return super.select(f,y,C);const N=C[0].score[0];let b=-1,k=-1,V=-1;for(let K=0;K<C.length&&C[K].score[0]===N;K++){const Z=`${f.getLanguageId()}/${C[K].textLabel}`,z=this._cache.peek(Z);if(z&&z.touch>V&&z.type===C[K].completion.kind&&z.insertText===C[K].completion.insertText&&(V=z.touch,k=K),C[K].completion.preselect&&b===-1)return b=K}return k!==-1?k:b!==-1?b:0}toJSON(){return this._cache.toJSON()}fromJSON(f){this._cache.clear();const y=0;for(const[C,_]of f)_.touch=y,_.type=typeof _.type=="number"?_.type:S.gX.fromString(_.type),this._cache.set(C,_);this._seq=this._cache.size}}class c extends r{constructor(){super("recentlyUsedByPrefix"),this._trie=O.Id.forStrings(),this._seq=0}memorize(f,y,C){const{word:_}=f.getWordUntilPosition(y),N=`${f.getLanguageId()}/${_}`;this._trie.set(N,{type:C.completion.kind,insertText:C.completion.insertText,touch:this._seq++})}select(f,y,C){const{word:_}=f.getWordUntilPosition(y);if(!_)return super.select(f,y,C);const N=`${f.getLanguageId()}/${_}`;let b=this._trie.get(N);if(b||(b=this._trie.findSubstr(N)),b)for(let k=0;k<C.length;k++){const{kind:V,insertText:K}=C[k].completion;if(V===b.type&&K===b.insertText)return k}return super.select(f,y,C)}toJSON(){const f=[];return this._trie.forEach((y,C)=>f.push([C,y])),f.sort((y,C)=>-(y[1].touch-C[1].touch)).forEach((y,C)=>y[1].touch=C),f.slice(0,200)}fromJSON(f){if(this._trie.clear(),f.length>0){this._seq=f[0][1].touch+1;for(const[y,C]of f)C.type=typeof C.type=="number"?C.type:S.gX.fromString(C.type),this._trie.set(y,C)}}}let u=a=class{constructor(f,y){this._storageService=f,this._configService=y,this._disposables=new B.SL,this._persistSoon=new o.pY(()=>this._saveState(),500),this._disposables.add(f.onWillSaveState(C=>{C.reason===w.fk.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(f,y,C){this._withStrategy(f,y).memorize(f,y,C),this._persistSoon.schedule()}select(f,y,C){return this._withStrategy(f,y).select(f,y,C)}_withStrategy(f,y){var C;const _=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:f.getLanguageIdAtPosition(y.lineNumber,y.column),resource:f.uri});if(((C=this._strategy)===null||C===void 0?void 0:C.name)!==_){this._saveState();const N=a._strategyCtors.get(_)||i;this._strategy=new N;try{const k=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,V=this._storageService.get(`${a._storagePrefix}/${_}`,k);V&&this._strategy.fromJSON(JSON.parse(V))}catch(b){}}return this._strategy}_saveState(){if(this._strategy){const y=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,C=JSON.stringify(this._strategy);this._storageService.store(`${a._storagePrefix}/${this._strategy.name}`,C,y,1)}}};u._strategyCtors=new Map([["recentlyUsedByPrefix",c],["recentlyUsed",n],["first",i]]),u._storagePrefix="suggest/memories",u=a=m([g(0,w.Uy),g(1,p.Ui)],u);const l=(0,R.yh)("ISuggestMemories");(0,E.z)(l,u,1)},77554:function(et,Le,e){"use strict";e.d(Le,{U:function(){return Z}});var o=e(74696),B=e(65642),x=e(25602),O=e(79329),S=e(45029),p=e(30144),E=e(14149),R=e(29256),w=e(33731),m=e(11796),g=e(48774),a=e(80568),r=e(61629),i=e(79553),n=e(6762),c=e(73746),u=e(70546),l=e(87100),D=e(26974),f=e(34824),y=e(50020),C=e(39356),_=function(z,A,P,I){var W=arguments.length,G=W<3?A:I===null?I=Object.getOwnPropertyDescriptor(A,P):I,j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")G=Reflect.decorate(z,A,P,I);else for(var Y=z.length-1;Y>=0;Y--)(j=z[Y])&&(G=(W<3?j(G):W>3?j(A,P,G):j(A,P))||G);return W>3&&G&&Object.defineProperty(A,P,G),G},N=function(z,A){return function(P,I){A(P,I,z)}},b;class k{static shouldAutoTrigger(A){if(!A.hasModel())return!1;const P=A.getModel(),I=A.getPosition();P.tokenization.tokenizeIfCheap(I.lineNumber);const W=P.getWordAtPosition(I);return!(!W||W.endColumn!==I.column&&W.startColumn+1!==I.column||!isNaN(Number(W.word)))}constructor(A,P,I){this.leadingLineContent=A.getLineContent(P.lineNumber).substr(0,P.column-1),this.leadingWord=A.getWordUntilPosition(P),this.lineNumber=P.lineNumber,this.column=P.column,this.triggerOptions=I}}function V(z,A,P){if(!A.getContextKeyValue(f.f.inlineSuggestionVisible.key))return!0;const I=A.getContextKeyValue(f.f.suppressSuggestions.key);return I!==void 0?!I:!z.getOption(62).suppressSuggestions}function K(z,A,P){if(!A.getContextKeyValue("inlineSuggestionVisible"))return!0;const I=A.getContextKeyValue(f.f.suppressSuggestions.key);return I!==void 0?!I:!z.getOption(62).suppressSuggestions}let Z=b=class{constructor(A,P,I,W,G,j,Y,H,Q){this._editor=A,this._editorWorkerService=P,this._clipboardService=I,this._telemetryService=W,this._logService=G,this._contextKeyService=j,this._configurationService=Y,this._languageFeaturesService=H,this._envService=Q,this._toDispose=new S.SL,this._triggerCharacterListener=new S.SL,this._triggerQuickSuggest=new o._F,this._triggerState=void 0,this._completionDisposables=new S.SL,this._onDidCancel=new O.Q5,this._onDidTrigger=new O.Q5,this._onDidSuggest=new O.Q5,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new E.Y(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let ie=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{ie=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{ie=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(te=>{ie||this._onCursorChange(te)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{!ie&&this._triggerState!==void 0&&this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){(0,S.B9)(this._triggerCharacterListener),(0,S.B9)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(91)||!this._editor.hasModel()||!this._editor.getOption(121))return;const A=new Map;for(const I of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const W of I.triggerCharacters||[]){let G=A.get(W);G||(G=new Set,G.add((0,c.ZJ)()),A.set(W,G)),G.add(I)}const P=I=>{var W;if(!K(this._editor,this._contextKeyService,this._configurationService)||k.shouldAutoTrigger(this._editor))return;if(!I){const Y=this._editor.getPosition();I=this._editor.getModel().getLineContent(Y.lineNumber).substr(0,Y.column-1)}let G="";(0,p.YK)(I.charCodeAt(I.length-1))?(0,p.ZG)(I.charCodeAt(I.length-2))&&(G=I.substr(I.length-2)):G=I.charAt(I.length-1);const j=A.get(G);if(j){const Y=new Map;if(this._completionModel)for(const[H,Q]of this._completionModel.getItemsByProvider())j.has(H)||Y.set(H,Q);this.trigger({auto:!0,triggerKind:1,triggerCharacter:G,retrigger:!!this._completionModel,clipboardText:(W=this._completionModel)===null||W===void 0?void 0:W.clipboardText,completionOptions:{providerFilter:j,providerItemsToReuse:Y}})}};this._triggerCharacterListener.add(this._editor.onDidType(P)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>P()))}get state(){return this._triggerState?this._triggerState.auto?2:1:0}cancel(A=!1){var P;this._triggerState!==void 0&&(this._triggerQuickSuggest.cancel(),(P=this._requestToken)===null||P===void 0||P.cancel(),this._requestToken=void 0,this._triggerState=void 0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:A}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._triggerState!==void 0&&(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._triggerState.auto,retrigger:!0}))}_onCursorChange(A){if(!this._editor.hasModel())return;const P=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!A.selection.isEmpty()||A.reason!==0&&A.reason!==3||A.source!=="keyboard"&&A.source!=="deleteLeft"){this.cancel();return}this._triggerState===void 0&&A.reason===0?(P.containsRange(this._currentSelection)||P.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._triggerState!==void 0&&A.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._triggerState===void 0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var A;c.tG.isAllOff(this._editor.getOption(89))||this._editor.getOption(118).snippetsPreventQuickSuggestions&&(!((A=y.f.get(this._editor))===null||A===void 0)&&A.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._triggerState!==void 0||!k.shouldAutoTrigger(this._editor)||!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;const P=this._editor.getModel(),I=this._editor.getPosition(),W=this._editor.getOption(89);if(!c.tG.isAllOff(W)){if(!c.tG.isAllOn(W)){P.tokenization.tokenizeIfCheap(I.lineNumber);const G=P.tokenization.getLineTokens(I.lineNumber),j=G.getStandardTokenType(G.findTokenIndexAtOffset(Math.max(I.column-1-1,0)));if(c.tG.valueFor(W,j)!=="on")return}V(this._editor,this._contextKeyService,this._configurationService)&&this._languageFeaturesService.completionProvider.has(P)&&this.trigger({auto:!0})}},this._editor.getOption(90)))}_refilterCompletionItems(){(0,D.p_)(this._editor.hasModel()),(0,D.p_)(this._triggerState!==void 0);const A=this._editor.getModel(),P=this._editor.getPosition(),I=new k(A,P,Ki(vi({},this._triggerState),{refilter:!0}));this._onNewContext(I)}trigger(A){var P,I,W,G,j,Y;if(!this._editor.hasModel())return;const H=this._editor.getModel(),Q=new k(H,this._editor.getPosition(),A);this.cancel(A.retrigger),this._triggerState=A,this._onDidTrigger.fire({auto:A.auto,shy:(P=A.shy)!==null&&P!==void 0?P:!1,position:this._editor.getPosition()}),this._context=Q;let ie={triggerKind:(I=A.triggerKind)!==null&&I!==void 0?I:0};A.triggerCharacter&&(ie={triggerKind:1,triggerCharacter:A.triggerCharacter}),this._requestToken=new B.AU;const te=this._editor.getOption(112);let se=1;switch(te){case"top":se=0;break;case"bottom":se=2;break}const{itemKind:ne,showDeprecated:ee}=b.createSuggestFilter(this._editor),re=new c.A9(se,(G=(W=A.completionOptions)===null||W===void 0?void 0:W.kindFilter)!==null&&G!==void 0?G:ne,(j=A.completionOptions)===null||j===void 0?void 0:j.providerFilter,(Y=A.completionOptions)===null||Y===void 0?void 0:Y.providerItemsToReuse,ee),he=w.K.create(this._editorWorkerService,this._editor),M=(0,c.kL)(this._languageFeaturesService.completionProvider,H,this._editor.getPosition(),re,ie,this._requestToken.token);Promise.all([M,he]).then(ye=>Ft(this,[ye],function*([we,We]){var X;if((X=this._requestToken)===null||X===void 0||X.dispose(),!this._editor.hasModel())return;let ve=A==null?void 0:A.clipboardText;if(!ve&&we.needsClipboard&&(ve=yield this._clipboardService.readText()),this._triggerState===void 0)return;const Ee=this._editor.getModel(),Oe=new k(Ee,this._editor.getPosition(),A),Ke=Ki(vi({},l.mX.default),{firstMatchCanBeWeak:!this._editor.getOption(118).matchOnWordStartOnly});if(this._completionModel=new n._(we.items,this._context.column,{leadingLineContent:Oe.leadingLineContent,characterCountDelta:Oe.column-this._context.column},We,this._editor.getOption(118),this._editor.getOption(112),Ke,ve),this._completionDisposables.add(we.disposable),this._onNewContext(Oe),this._reportDurationsTelemetry(we.durations),!this._envService.isBuilt||this._envService.isExtensionDevelopment)for(const Qe of we.items)Qe.isInvalid&&this._logService.warn(`[suggest] did IGNORE invalid completion item from ${Qe.provider._debugDisplayName}`,Qe.completion)})).catch(x.dL)}_reportDurationsTelemetry(A){this._telemetryGate++%230===0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(A)}),this._logService.debug("suggest.durations.json",A)})}static createSuggestFilter(A){const P=new Set;A.getOption(112)==="none"&&P.add(27);const W=A.getOption(118);return W.showMethods||P.add(0),W.showFunctions||P.add(1),W.showConstructors||P.add(2),W.showFields||P.add(3),W.showVariables||P.add(4),W.showClasses||P.add(5),W.showStructs||P.add(6),W.showInterfaces||P.add(7),W.showModules||P.add(8),W.showProperties||P.add(9),W.showEvents||P.add(10),W.showOperators||P.add(11),W.showUnits||P.add(12),W.showValues||P.add(13),W.showConstants||P.add(14),W.showEnums||P.add(15),W.showEnumMembers||P.add(16),W.showKeywords||P.add(17),W.showWords||P.add(18),W.showColors||P.add(19),W.showFiles||P.add(20),W.showReferences||P.add(21),W.showColors||P.add(22),W.showFolders||P.add(23),W.showTypeParameters||P.add(24),W.showSnippets||P.add(27),W.showUsers||P.add(25),W.showIssues||P.add(26),{itemKind:P,showDeprecated:W.showDeprecated}}_onNewContext(A){if(this._context){if(A.lineNumber!==this._context.lineNumber){this.cancel();return}if((0,p.V8)(A.leadingLineContent)!==(0,p.V8)(this._context.leadingLineContent)){this.cancel();return}if(A.column<this._context.column){A.leadingWord.word?this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0}):this.cancel();return}if(this._completionModel){if(A.leadingWord.word.length!==0&&A.leadingWord.startColumn>this._context.leadingWord.startColumn){if(k.shouldAutoTrigger(this._editor)&&this._context){const I=this._completionModel.getItemsByProvider();this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerItemsToReuse:I}})}return}if(A.column>this._context.column&&this._completionModel.getIncompleteProvider().size>0&&A.leadingWord.word.length!==0){const P=new Map,I=new Set;for(const[W,G]of this._completionModel.getItemsByProvider())G.length>0&&G[0].container.incomplete?I.add(W):P.set(W,G);this.trigger({auto:this._context.triggerOptions.auto,triggerKind:2,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerFilter:I,providerItemsToReuse:P}})}else{const P=this._completionModel.lineContext;let I=!1;if(this._completionModel.lineContext={leadingLineContent:A.leadingLineContent,characterCountDelta:A.column-this._context.column},this._completionModel.items.length===0){const W=k.shouldAutoTrigger(this._editor);if(!this._context){this.cancel();return}if(W&&this._context.leadingWord.endColumn<A.leadingWord.startColumn){this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0});return}if(this._context.triggerOptions.auto){this.cancel();return}else if(this._completionModel.lineContext=P,I=this._completionModel.items.length>0,I&&A.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,triggerOptions:A.triggerOptions,isFrozen:I})}}}}};Z=b=_([N(1,R.p),N(2,m.p),N(3,i.b),N(4,r.VZ),N(5,a.i6),N(6,g.Ui),N(7,u.p),N(8,C.Y)],Z)},33731:function(et,Le,e){"use strict";e.d(Le,{K:function(){return O}});var o=e(71221),B=e(4694),x=e(9488);class O{static create(p,E){return Ft(this,null,function*(){if(!E.getOption(118).localityBonus||!E.hasModel())return O.None;const R=E.getModel(),w=E.getPosition();if(!p.canComputeWordRanges(R.uri))return O.None;const[m]=yield new x.x().provideSelectionRanges(R,[w]);if(m.length===0)return O.None;const g=yield p.computeWordRanges(R.uri,m[0].range);if(!g)return O.None;const a=R.getWordUntilPosition(w);return delete g[a.word],new class extends O{distance(r,i){if(!w.equals(E.getPosition()))return 0;if(i.kind===17)return 2<<20;const n=typeof i.label=="string"?i.label:i.label.label,c=g[n];if((0,o.XY)(c))return 2<<20;const u=(0,o.ry)(c,B.e.fromPositions(r),B.e.compareRangesUsingStarts),l=u>=0?c[u]:c[Math.max(0,~u-1)];let D=m.length;for(const f of m){if(!B.e.containsRange(f.range,l))break;D-=1}return D}}})}}O.None=new class extends O{distance(){return 0}}},16450:function(et,Le,e){"use strict";var o=e(61652),B=e(97341);const x=(0,B.P6G)("symbolIcon.arrayForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,o.NC)("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),O=(0,B.P6G)("symbolIcon.booleanForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,o.NC)("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),S=(0,B.P6G)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,o.NC)("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),p=(0,B.P6G)("symbolIcon.colorForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,o.NC)("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),E=(0,B.P6G)("symbolIcon.constantForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,o.NC)("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),R=(0,B.P6G)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,o.NC)("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),w=(0,B.P6G)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,o.NC)("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),m=(0,B.P6G)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,o.NC)("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),g=(0,B.P6G)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,o.NC)("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),a=(0,B.P6G)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,o.NC)("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),r=(0,B.P6G)("symbolIcon.fileForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,o.NC)("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),i=(0,B.P6G)("symbolIcon.folderForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,o.NC)("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),n=(0,B.P6G)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,o.NC)("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),c=(0,B.P6G)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,o.NC)("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),u=(0,B.P6G)("symbolIcon.keyForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,o.NC)("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),l=(0,B.P6G)("symbolIcon.keywordForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,o.NC)("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),D=(0,B.P6G)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,o.NC)("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),f=(0,B.P6G)("symbolIcon.moduleForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,o.NC)("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),y=(0,B.P6G)("symbolIcon.namespaceForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,o.NC)("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),C=(0,B.P6G)("symbolIcon.nullForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,o.NC)("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),_=(0,B.P6G)("symbolIcon.numberForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,o.NC)("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),N=(0,B.P6G)("symbolIcon.objectForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,o.NC)("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),b=(0,B.P6G)("symbolIcon.operatorForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,o.NC)("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),k=(0,B.P6G)("symbolIcon.packageForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,o.NC)("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),V=(0,B.P6G)("symbolIcon.propertyForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,o.NC)("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),K=(0,B.P6G)("symbolIcon.referenceForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,o.NC)("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Z=(0,B.P6G)("symbolIcon.snippetForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,o.NC)("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),z=(0,B.P6G)("symbolIcon.stringForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,o.NC)("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),A=(0,B.P6G)("symbolIcon.structForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,o.NC)("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),P=(0,B.P6G)("symbolIcon.textForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,o.NC)("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),I=(0,B.P6G)("symbolIcon.typeParameterForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,o.NC)("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),W=(0,B.P6G)("symbolIcon.unitForeground",{dark:B.dRz,light:B.dRz,hcDark:B.dRz,hcLight:B.dRz},(0,o.NC)("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),G=(0,B.P6G)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,o.NC)("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."))},16271:function(et,Le,e){"use strict";var o=e(91333),B=e(3422),x=e(61652),O=e(69713);class S extends O.Ke{constructor(){super({id:S.ID,title:x.vv({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),precondition:void 0,keybinding:{primary:2091,mac:{primary:1323},weight:100},metadata:{description:x.vv("tabMovesFocusDescriptions","Determines whether the tab key moves focus around the workbench or inserts the tab character in the current editor. This is also called tab trapping, tab navigation, or tab focus mode.")},f1:!0})}run(){const R=!B.n.getTabFocusMode();B.n.setTabFocusMode(R),R?(0,o.Z9)(x.NC("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element")):(0,o.Z9)(x.NC("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}S.ID="editor.action.toggleTabFocusMode",(0,O.r1)(S)},44089:function(et,Le,e){"use strict";var o=e(32368),B=e(92635),x=e(61652);class O extends B.R6{constructor(){super({id:"editor.action.forceRetokenize",label:x.NC("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(p,E){if(!E.hasModel())return;const R=E.getModel();R.tokenization.resetTokenization();const w=new o.G;R.tokenization.forceTokenization(R.getLineCount()),w.stop(),console.log(`tokenization took ${w.elapsed()}`)}}(0,B.Qr)(O)},20436:function(et,Le,e){"use strict";var o=e(74696),B=e(24752),x=e(60473),O=e(45029),S=e(15122),p=e(30144),E=e(92635),R=e(75625),w=e(93059),m=e(50946),g=e(29256),a=e(50131),r=e(22829),i=e(99041),n=e(27887),c=e(91540),u=e(318),l=e(43263),D=e(63038),f=e(87058),y=e(60773),C=e(50908),_=e(8098),N=e(79329),b=e(27473),k=e(66503),V=e(78307),K=function(oe,ue,de,Se){var Te=arguments.length,Ae=Te<3?ue:Se===null?Se=Object.getOwnPropertyDescriptor(ue,de):Se,pe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ae=Reflect.decorate(oe,ue,de,Se);else for(var je=oe.length-1;je>=0;je--)(pe=oe[je])&&(Ae=(Te<3?pe(Ae):Te>3?pe(ue,de,Ae):pe(ue,de))||Ae);return Te>3&&Ae&&Object.defineProperty(ue,de,Ae),Ae},Z=function(oe,ue){return function(de,Se){ue(de,Se,oe)}};let z=class extends O.JT{get enabled(){return this._enabled}set enabled(ue){ue?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=ue}constructor(ue,de,Se={},Te,Ae){var pe,je;super(),this._link=de,this._hoverService=Te,this._enabled=!0,this.el=(0,c.R3)(ue,(0,c.$)("a.monaco-link",{tabIndex:(pe=de.tabIndex)!==null&&pe!==void 0?pe:0,href:de.href},de.label)),this.hoverDelegate=(je=Se.hoverDelegate)!==null&&je!==void 0?je:(0,k.tM)("mouse"),this.setTooltip(de.title),this.el.setAttribute("role","button");const ot=this._register(new y.Y(this.el,"click")),xt=this._register(new y.Y(this.el,"keypress")),jt=N.ju.chain(xt.event,it=>it.map(yt=>new C.y(yt)).filter(yt=>yt.keyCode===3)),oi=this._register(new y.Y(this.el,_.t.Tap)).event;this._register(_.o.addTarget(this.el));const ti=N.ju.any(ot.event,jt,oi);this._register(ti(it=>{this.enabled&&(c.zB.stop(it,!0),Se!=null&&Se.opener?Se.opener(this._link.href):Ae.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}setTooltip(ue){this.hoverDelegate.showNativeHover?this.el.title=ue!=null?ue:"":!this.hover&&ue?this.hover=this._register(this._hoverService.setupUpdatableHover(this.hoverDelegate,this.el,ue)):this.hover&&this.hover.update(ue)}};z=K([Z(3,V.Bs),Z(4,b.v)],z);var A=e(76557),P=e(68777),I=function(oe,ue,de,Se){var Te=arguments.length,Ae=Te<3?ue:Se===null?Se=Object.getOwnPropertyDescriptor(ue,de):Se,pe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ae=Reflect.decorate(oe,ue,de,Se);else for(var je=oe.length-1;je>=0;je--)(pe=oe[je])&&(Ae=(Te<3?pe(Ae):Te>3?pe(ue,de,Ae):pe(ue,de))||Ae);return Te>3&&Ae&&Object.defineProperty(ue,de,Ae),Ae},W=function(oe,ue){return function(de,Se){ue(de,Se,oe)}};const G=26;let j=class extends O.JT{constructor(ue,de){super(),this._editor=ue,this.instantiationService=de,this.banner=this._register(this.instantiationService.createInstance(Y))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(ue){this.banner.show(Ki(vi({},ue),{onClose:()=>{var de;this.hide(),(de=ue.onClose)===null||de===void 0||de.call(ue)}})),this._editor.setBanner(this.banner.element,G)}};j=I([W(1,f.TG)],j);let Y=class extends O.JT{constructor(ue){super(),this.instantiationService=ue,this.markdownRenderer=this.instantiationService.createInstance(D.$,{}),this.element=(0,c.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(ue){if(ue.ariaLabel)return ue.ariaLabel;if(typeof ue.message=="string")return ue.message}getBannerMessage(ue){if(typeof ue=="string"){const de=(0,c.$)("span");return de.innerText=ue,de}return this.markdownRenderer.render(ue).element}clear(){(0,c.PO)(this.element)}show(ue){(0,c.PO)(this.element);const de=this.getAriaLabel(ue);de&&this.element.setAttribute("aria-label",de);const Se=(0,c.R3)(this.element,(0,c.$)("div.icon-container"));Se.setAttribute("aria-hidden","true"),ue.icon&&Se.appendChild((0,c.$)(`div${P.k.asCSSSelector(ue.icon)}`));const Te=(0,c.R3)(this.element,(0,c.$)("div.message-container"));if(Te.setAttribute("aria-hidden","true"),Te.appendChild(this.getBannerMessage(ue.message)),this.messageActionsContainer=(0,c.R3)(this.element,(0,c.$)("div.message-actions-container")),ue.actions)for(const pe of ue.actions)this._register(this.instantiationService.createInstance(z,this.messageActionsContainer,Ki(vi({},pe),{tabIndex:-1}),{}));const Ae=(0,c.R3)(this.element,(0,c.$)("div.action-container"));this.actionBar=this._register(new u.o(Ae)),this.actionBar.push(this._register(new l.aU("banner.close","Close Banner",P.k.asClassName(A.s_),!0,()=>{typeof ue.onClose=="function"&&ue.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};Y=I([W(0,f.TG)],Y);var H=e(61652),Q=e(48774),ie=e(86773),te=e(81773),se=function(oe,ue,de,Se){var Te=arguments.length,Ae=Te<3?ue:Se===null?Se=Object.getOwnPropertyDescriptor(ue,de):Se,pe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ae=Reflect.decorate(oe,ue,de,Se);else for(var je=oe.length-1;je>=0;je--)(pe=oe[je])&&(Ae=(Te<3?pe(Ae):Te>3?pe(ue,de,Ae):pe(ue,de))||Ae);return Te>3&&Ae&&Object.defineProperty(ue,de,Ae),Ae},ne=function(oe,ue){return function(de,Se){ue(de,Se,oe)}};const ee=(0,A.q5)("extensions-warning-message",B.l.warning,H.NC("warningIcon","Icon shown with a warning message in the extensions editor."));let re=class extends O.JT{constructor(ue,de,Se,Te){super(),this._editor=ue,this._editorWorkerService=de,this._workspaceTrustService=Se,this._highlighter=null,this._bannerClosed=!1,this._updateState=Ae=>{if(Ae&&Ae.hasMore){if(this._bannerClosed)return;const pe=Math.max(Ae.ambiguousCharacterCount,Ae.nonBasicAsciiCharacterCount,Ae.invisibleCharacterCount);let je;if(Ae.nonBasicAsciiCharacterCount>=pe)je={message:H.NC("unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters","This document contains many non-basic ASCII unicode characters"),command:new De};else if(Ae.ambiguousCharacterCount>=pe)je={message:H.NC("unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters","This document contains many ambiguous unicode characters"),command:new $};else if(Ae.invisibleCharacterCount>=pe)je={message:H.NC("unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters","This document contains many invisible unicode characters"),command:new le};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:je.message,icon:ee,actions:[{label:je.command.shortLabel,href:`command:${je.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(Te.createInstance(j,ue)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=ue.getOption(125),this._register(Se.onDidChangeTrust(Ae=>{this._updateHighlighter()})),this._register(ue.onDidChangeConfiguration(Ae=>{Ae.hasChanged(125)&&(this._options=ue.getOption(125),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const ue=he(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([ue.nonBasicASCII,ue.ambiguousCharacters,ue.invisibleCharacters].every(Se=>Se===!1))return;const de={nonBasicASCII:ue.nonBasicASCII,ambiguousCharacters:ue.ambiguousCharacters,invisibleCharacters:ue.invisibleCharacters,includeComments:ue.includeComments,includeStrings:ue.includeStrings,allowedCodePoints:Object.keys(ue.allowedCharacters).map(Se=>Se.codePointAt(0)),allowedLocales:Object.keys(ue.allowedLocales).map(Se=>Se==="_os"?new Intl.NumberFormat().resolvedOptions().locale:Se==="_vscode"?S.dK:Se)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new M(this._editor,de,this._updateState,this._editorWorkerService):this._highlighter=new we(this._editor,de,this._updateState)}getDecorationInfo(ue){return this._highlighter?this._highlighter.getDecorationInfo(ue):null}};re.ID="editor.contrib.unicodeHighlighter",re=se([ne(1,g.p),ne(2,te.Y),ne(3,f.TG)],re);function he(oe,ue){return{nonBasicASCII:ue.nonBasicASCII===R.Av?!oe:ue.nonBasicASCII,ambiguousCharacters:ue.ambiguousCharacters,invisibleCharacters:ue.invisibleCharacters,includeComments:ue.includeComments===R.Av?!oe:ue.includeComments,includeStrings:ue.includeStrings===R.Av?!oe:ue.includeStrings,allowedCharacters:ue.allowedCharacters,allowedLocales:ue.allowedLocales}}let M=class extends O.JT{constructor(ue,de,Se,Te){super(),this._editor=ue,this._options=de,this._updateState=Se,this._editorWorkerService=Te,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new o.pY(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const ue=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(de=>{if(this._model.isDisposed()||this._model.getVersionId()!==ue)return;this._updateState(de);const Se=[];if(!de.hasMore)for(const Te of de.ranges)Se.push({range:Te,options:Ke.instance.getDecorationFromOptions(this._options)});this._decorations.set(Se)})}getDecorationInfo(ue){if(!this._decorations.has(ue))return null;const de=this._editor.getModel();if(!(0,r.Fd)(de,ue))return null;const Se=de.getValueInRange(ue.range);return{reason:Oe(Se,this._options),inComment:(0,r.$t)(de,ue),inString:(0,r.zg)(de,ue)}}};M=se([ne(3,g.p)],M);class we extends O.JT{constructor(ue,de,Se){super(),this._editor=ue,this._options=de,this._updateState=Se,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new o.pY(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const ue=this._editor.getVisibleRanges(),de=[],Se={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const Te of ue){const Ae=m.a.computeUnicodeHighlights(this._model,this._options,Te);for(const pe of Ae.ranges)Se.ranges.push(pe);Se.ambiguousCharacterCount+=Se.ambiguousCharacterCount,Se.invisibleCharacterCount+=Se.invisibleCharacterCount,Se.nonBasicAsciiCharacterCount+=Se.nonBasicAsciiCharacterCount,Se.hasMore=Se.hasMore||Ae.hasMore}if(!Se.hasMore)for(const Te of Se.ranges)de.push({range:Te,options:Ke.instance.getDecorationFromOptions(this._options)});this._updateState(Se),this._decorations.set(de)}getDecorationInfo(ue){if(!this._decorations.has(ue))return null;const de=this._editor.getModel(),Se=de.getValueInRange(ue.range);return(0,r.Fd)(de,ue)?{reason:Oe(Se,this._options),inComment:(0,r.$t)(de,ue),inString:(0,r.zg)(de,ue)}:null}}const We=H.NC("unicodeHighlight.configureUnicodeHighlightOptions","Configure Unicode Highlight Options");let ye=class{constructor(ue,de,Se){this._editor=ue,this._languageService=de,this._openerService=Se,this.hoverOrdinal=5}computeSync(ue,de){if(!this._editor.hasModel()||ue.type!==1)return[];const Se=this._editor.getModel(),Te=this._editor.getContribution(re.ID);if(!Te)return[];const Ae=[],pe=new Set;let je=300;for(const ot of de){const xt=Te.getDecorationInfo(ot);if(!xt)continue;const oi=Se.getValueInRange(ot.range).codePointAt(0),ti=ve(oi);let it;switch(xt.reason.kind){case 0:{(0,p.$i)(xt.reason.confusableWith)?it=H.NC("unicodeHighlight.characterIsAmbiguousASCII","The character {0} could be confused with the ASCII character {1}, which is more common in source code.",ti,ve(xt.reason.confusableWith.codePointAt(0))):it=H.NC("unicodeHighlight.characterIsAmbiguous","The character {0} could be confused with the character {1}, which is more common in source code.",ti,ve(xt.reason.confusableWith.codePointAt(0)));break}case 1:it=H.NC("unicodeHighlight.characterIsInvisible","The character {0} is invisible.",ti);break;case 2:it=H.NC("unicodeHighlight.characterIsNonBasicAscii","The character {0} is not a basic ASCII character.",ti);break}if(pe.has(it))continue;pe.add(it);const yt={codePoint:oi,reason:xt.reason,inComment:xt.inComment,inString:xt.inString},$t=H.NC("unicodeHighlight.adjustSettings","Adjust settings"),Nt=`command:${xe.ID}?${encodeURIComponent(JSON.stringify(yt))}`,qt=new x.W5("",!0).appendMarkdown(it).appendText(" ").appendLink(Nt,$t,We);Ae.push(new n.hU(this,ot.range,[qt],!1,je++))}return Ae}renderHoverParts(ue,de){return(0,n.c)(ue,de,this._editor,this._languageService,this._openerService)}};ye=se([ne(1,a.O),ne(2,b.v)],ye);function X(oe){return`U+${oe.toString(16).padStart(4,"0")}`}function ve(oe){let ue=`\`${X(oe)}\``;return p.vU.isInvisibleCharacter(oe)||(ue+=` "${`${Ee(oe)}`}"`),ue}function Ee(oe){return oe===96?"`` ` ``":"`"+String.fromCodePoint(oe)+"`"}function Oe(oe,ue){return m.a.computeUnicodeHighlightReason(oe,ue)}class Ke{constructor(){this.map=new Map}getDecorationFromOptions(ue){return this.getDecoration(!ue.includeComments,!ue.includeStrings)}getDecoration(ue,de){const Se=`${ue}${de}`;let Te=this.map.get(Se);return Te||(Te=w.qx.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:ue,hideInStringTokens:de}),this.map.set(Se,Te)),Te}}Ke.instance=new Ke;class Qe extends E.R6{constructor(){super({id:$.ID,label:H.NC("action.unicodeHighlight.disableHighlightingInComments","Disable highlighting of characters in comments"),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=H.NC("unicodeHighlight.disableHighlightingInComments.shortLabel","Disable Highlight In Comments")}run(ue,de,Se){return Ft(this,null,function*(){const Te=ue==null?void 0:ue.get(Q.Ui);Te&&this.runAction(Te)})}runAction(ue){return Ft(this,null,function*(){yield ue.updateValue(R.qt.includeComments,!1,2)})}}class fe extends E.R6{constructor(){super({id:$.ID,label:H.NC("action.unicodeHighlight.disableHighlightingInStrings","Disable highlighting of characters in strings"),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=H.NC("unicodeHighlight.disableHighlightingInStrings.shortLabel","Disable Highlight In Strings")}run(ue,de,Se){return Ft(this,null,function*(){const Te=ue==null?void 0:ue.get(Q.Ui);Te&&this.runAction(Te)})}runAction(ue){return Ft(this,null,function*(){yield ue.updateValue(R.qt.includeStrings,!1,2)})}}class $ extends E.R6{constructor(){super({id:$.ID,label:H.NC("action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters","Disable highlighting of ambiguous characters"),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=H.NC("unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel","Disable Ambiguous Highlight")}run(ue,de,Se){return Ft(this,null,function*(){const Te=ue==null?void 0:ue.get(Q.Ui);Te&&this.runAction(Te)})}runAction(ue){return Ft(this,null,function*(){yield ue.updateValue(R.qt.ambiguousCharacters,!1,2)})}}$.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";class le extends E.R6{constructor(){super({id:le.ID,label:H.NC("action.unicodeHighlight.disableHighlightingOfInvisibleCharacters","Disable highlighting of invisible characters"),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=H.NC("unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel","Disable Invisible Highlight")}run(ue,de,Se){return Ft(this,null,function*(){const Te=ue==null?void 0:ue.get(Q.Ui);Te&&this.runAction(Te)})}runAction(ue){return Ft(this,null,function*(){yield ue.updateValue(R.qt.invisibleCharacters,!1,2)})}}le.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";class De extends E.R6{constructor(){super({id:De.ID,label:H.NC("action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters","Disable highlighting of non basic ASCII characters"),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=H.NC("unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel","Disable Non ASCII Highlight")}run(ue,de,Se){return Ft(this,null,function*(){const Te=ue==null?void 0:ue.get(Q.Ui);Te&&this.runAction(Te)})}runAction(ue){return Ft(this,null,function*(){yield ue.updateValue(R.qt.nonBasicASCII,!1,2)})}}De.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";class xe extends E.R6{constructor(){super({id:xe.ID,label:H.NC("action.unicodeHighlight.showExcludeOptions","Show Exclude Options"),alias:"Show Exclude Options",precondition:void 0})}run(ue,de,Se){return Ft(this,null,function*(){const{codePoint:Te,reason:Ae,inString:pe,inComment:je}=Se,ot=String.fromCodePoint(Te),xt=ue.get(ie.eJ),jt=ue.get(Q.Ui);function oi(yt){return p.vU.isInvisibleCharacter(yt)?H.NC("unicodeHighlight.excludeInvisibleCharFromBeingHighlighted","Exclude {0} (invisible character) from being highlighted",X(yt)):H.NC("unicodeHighlight.excludeCharFromBeingHighlighted","Exclude {0} from being highlighted",`${X(yt)} "${ot}"`)}const ti=[];if(Ae.kind===0)for(const yt of Ae.notAmbiguousInLocales)ti.push({label:H.NC("unicodeHighlight.allowCommonCharactersInLanguage",'Allow unicode characters that are more common in the language "{0}".',yt),run:()=>Ft(this,null,function*(){me(jt,[yt])})});if(ti.push({label:oi(Te),run:()=>Ce(jt,[Te])}),je){const yt=new Qe;ti.push({label:yt.label,run:()=>Ft(this,null,function*(){return yt.runAction(jt)})})}else if(pe){const yt=new fe;ti.push({label:yt.label,run:()=>Ft(this,null,function*(){return yt.runAction(jt)})})}if(Ae.kind===0){const yt=new $;ti.push({label:yt.label,run:()=>Ft(this,null,function*(){return yt.runAction(jt)})})}else if(Ae.kind===1){const yt=new le;ti.push({label:yt.label,run:()=>Ft(this,null,function*(){return yt.runAction(jt)})})}else if(Ae.kind===2){const yt=new De;ti.push({label:yt.label,run:()=>Ft(this,null,function*(){return yt.runAction(jt)})})}else be(Ae);const it=yield xt.pick(ti,{title:We});it&&(yield it.run())})}}xe.ID="editor.action.unicodeHighlight.showExcludeOptions";function Ce(oe,ue){return Ft(this,null,function*(){const de=oe.getValue(R.qt.allowedCharacters);let Se;typeof de=="object"&&de?Se=de:Se={};for(const Te of ue)Se[String.fromCodePoint(Te)]=!0;yield oe.updateValue(R.qt.allowedCharacters,Se,2)})}function me(oe,ue){return Ft(this,null,function*(){var de;const Se=(de=oe.inspect(R.qt.allowedLocales).user)===null||de===void 0?void 0:de.value;let Te;typeof Se=="object"&&Se?Te=Object.assign({},Se):Te={};for(const Ae of ue)Te[Ae]=!0;yield oe.updateValue(R.qt.allowedLocales,Te,2)})}function be(oe){throw new Error(`Unexpected value: ${oe}`)}(0,E.Qr)($),(0,E.Qr)(le),(0,E.Qr)(De),(0,E.Qr)(xe),(0,E._K)(re.ID,re,1),i.Ae.register(ye)},21682:function(et,Le,e){"use strict";var o=e(45029),B=e(2644),x=e(92635),O=e(89226),S=e(61652),p=e(21821),E=function(r,i,n,c){var u=arguments.length,l=u<3?i:c===null?c=Object.getOwnPropertyDescriptor(i,n):c,D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(r,i,n,c);else for(var f=r.length-1;f>=0;f--)(D=r[f])&&(l=(u<3?D(l):u>3?D(i,n,l):D(i,n))||l);return u>3&&l&&Object.defineProperty(i,n,l),l},R=function(r,i){return function(n,c){i(n,c,r)}};const w="ignoreUnusualLineTerminators";function m(r,i,n){r.setModelProperty(i.uri,w,n)}function g(r,i){return r.getModelProperty(i.uri,w)}let a=class extends o.JT{constructor(i,n,c){super(),this._editor=i,this._dialogService=n,this._codeEditorService=c,this._isPresentingDialog=!1,this._config=this._editor.getOption(126),this._register(this._editor.onDidChangeConfiguration(u=>{u.hasChanged(126)&&(this._config=this._editor.getOption(126),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(u=>{u.isUndoing||this._checkForUnusualLineTerminators()})),this._checkForUnusualLineTerminators()}_checkForUnusualLineTerminators(){return Ft(this,null,function*(){if(this._config==="off"||!this._editor.hasModel())return;const i=this._editor.getModel();if(!i.mightContainUnusualLineTerminators()||g(this._codeEditorService,i)===!0||this._editor.getOption(91))return;if(this._config==="auto"){i.removeUnusualLineTerminators(this._editor.getSelections());return}if(this._isPresentingDialog)return;let c;try{this._isPresentingDialog=!0,c=yield this._dialogService.confirm({title:S.NC("unusualLineTerminators.title","Unusual Line Terminators"),message:S.NC("unusualLineTerminators.message","Detected unusual line terminators"),detail:S.NC("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",(0,B.EZ)(i.uri)),primaryButton:S.NC({key:"unusualLineTerminators.fix",comment:["&& denotes a mnemonic"]},"&&Remove Unusual Line Terminators"),cancelButton:S.NC("unusualLineTerminators.ignore","Ignore")})}finally{this._isPresentingDialog=!1}if(!c.confirmed){m(this._codeEditorService,i,!0);return}i.removeUnusualLineTerminators(this._editor.getSelections())})}};a.ID="editor.contrib.unusualLineTerminatorsDetector",a=E([R(1,p.S),R(2,O.$)],a),(0,x._K)(a.ID,a,1)},82415:function(et,Le,e){"use strict";e.d(Le,{G:function(){return u},w:function(){return l}});var o=e(57204),B=e(93059),x=e(91895),O=e(61652),S=e(97341),p=e(63279);const E=(0,S.P6G)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},O.NC("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0);(0,S.P6G)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},O.NC("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),(0,S.P6G)("editor.wordHighlightTextBackground",{light:E,dark:E,hcDark:E,hcLight:E},O.NC("wordHighlightText","Background color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0);const R=(0,S.P6G)("editor.wordHighlightBorder",{light:null,dark:null,hcDark:S.xL1,hcLight:S.xL1},O.NC("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable."));(0,S.P6G)("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:S.xL1,hcLight:S.xL1},O.NC("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),(0,S.P6G)("editor.wordHighlightTextBorder",{light:R,dark:R,hcDark:R,hcLight:R},O.NC("wordHighlightTextBorder","Border color of a textual occurrence for a symbol."));const w=(0,S.P6G)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},O.NC("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),m=(0,S.P6G)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},O.NC("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),g=(0,S.P6G)("editorOverviewRuler.wordHighlightTextForeground",{dark:S.SPM,light:S.SPM,hcDark:S.SPM,hcLight:S.SPM},O.NC("overviewRulerWordHighlightTextForeground","Overview ruler marker color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0),a=B.qx.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,p.EN)(m),position:o.sh.Center},minimap:{color:(0,p.EN)(S.IYc),position:1}}),r=B.qx.register({description:"word-highlight-text",stickiness:1,className:"wordHighlightText",overviewRuler:{color:(0,p.EN)(g),position:o.sh.Center},minimap:{color:(0,p.EN)(S.IYc),position:1}}),i=B.qx.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,p.EN)(S.SPM),position:o.sh.Center},minimap:{color:(0,p.EN)(S.IYc),position:1}}),n=B.qx.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),c=B.qx.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,p.EN)(w),position:o.sh.Center},minimap:{color:(0,p.EN)(S.IYc),position:1}});function u(D){return D===x.MY.Write?a:D===x.MY.Text?r:c}function l(D){return D?n:i}(0,p.Ic)((D,f)=>{const y=D.getColor(S.Rzx);y&&f.addRule(`.monaco-editor .selectionHighlight { background-color: ${y.transparent(.5)}; }`)})},60290:function(et,Le,e){"use strict";var o=e(61652),B=e(71221),x=e(91333),O=e(74696),S=e(65642),p=e(25602),E=e(45029),R=e(70339),w=e(92635),m=e(89226),g=e(4694),a=e(22706),r=e(91895),i=e(57204),n=e(70546),c=e(82415),u=e(80568),l=e(91649),D=e(79138),f=e(84695),y=function(ie,te,se,ne){var ee=arguments.length,re=ee<3?te:ne===null?ne=Object.getOwnPropertyDescriptor(te,se):ne,he;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")re=Reflect.decorate(ie,te,se,ne);else for(var M=ie.length-1;M>=0;M--)(he=ie[M])&&(re=(ee<3?he(re):ee>3?he(te,se,re):he(te,se))||re);return ee>3&&re&&Object.defineProperty(te,se,re),re},C=function(ie,te){return function(se,ne){te(se,ne,ie)}},_,N;const b=new u.uy("hasWordHighlights",!1);function k(ie,te,se,ne){const ee=ie.ordered(te);return(0,O.Ps)(ee.map(re=>()=>Promise.resolve(re.provideDocumentHighlights(te,se,ne)).then(void 0,p.Cp)),B.Of).then(re=>{if(re){const he=new D.Y9;return he.set(te.uri,re),he}return new D.Y9})}function V(ie,te,se,ne,ee,re){const he=ie.ordered(te);return(0,O.Ps)(he.map(M=>()=>{const we=re.filter(We=>(0,i.pt)(We)).filter(We=>(0,f.G)(M.selector,We.uri,We.getLanguageId(),!0,void 0,void 0)>0);return Promise.resolve(M.provideMultiDocumentHighlights(te,se,we,ee)).then(void 0,p.Cp)}),M=>M instanceof D.Y9&&M.size>0)}class K{constructor(te,se,ne){this._model=te,this._selection=se,this._wordSeparators=ne,this._wordRange=this._getCurrentWordRange(te,se),this._result=null}get result(){return this._result||(this._result=(0,O.PG)(te=>this._compute(this._model,this._selection,this._wordSeparators,te))),this._result}_getCurrentWordRange(te,se){const ne=te.getWordAtPosition(se.getPosition());return ne?new g.e(se.startLineNumber,ne.startColumn,se.startLineNumber,ne.endColumn):null}isValid(te,se,ne){const ee=se.startLineNumber,re=se.startColumn,he=se.endColumn,M=this._getCurrentWordRange(te,se);let we=!!(this._wordRange&&this._wordRange.equalsRange(M));for(let We=0,ye=ne.length;!we&&We<ye;We++){const X=ne.getRange(We);X&&X.startLineNumber===ee&&X.startColumn<=re&&X.endColumn>=he&&(we=!0)}return we}cancel(){this.result.cancel()}}class Z extends K{constructor(te,se,ne,ee){super(te,se,ne),this._providers=ee}_compute(te,se,ne,ee){return k(this._providers,te,se.getPosition(),ee).then(re=>re||new D.Y9)}}class z extends K{constructor(te,se,ne,ee,re){super(te,se,ne),this._providers=ee,this._otherModels=re}_compute(te,se,ne,ee){return V(this._providers,te,se.getPosition(),ne,ee,this._otherModels).then(re=>re||new D.Y9)}}class A extends K{constructor(te,se,ne,ee,re){super(te,se,ee),this._otherModels=re,this._selectionIsEmpty=se.isEmpty(),this._word=ne}_compute(te,se,ne,ee){return(0,O.Vs)(250,ee).then(()=>{const re=new D.Y9;let he;if(this._word?he=this._word:he=te.getWordAtPosition(se.getPosition()),!he)return new D.Y9;const M=[te,...this._otherModels];for(const we of M){if(we.isDisposed())continue;const ye=we.findMatches(he.word,!0,!1,!0,ne,!1).map(X=>({range:X.range,kind:r.MY.Text}));ye&&re.set(we.uri,ye)}return re})}isValid(te,se,ne){const ee=se.isEmpty();return this._selectionIsEmpty!==ee?!1:super.isValid(te,se,ne)}}function P(ie,te,se,ne,ee){return ie.has(te)?new Z(te,se,ee,ie):new A(te,se,ne,ee,[])}function I(ie,te,se,ne,ee,re){return ie.has(te)?new z(te,se,ee,ie,re):new A(te,se,ne,ee,re)}(0,w.sb)("_executeDocumentHighlights",(ie,te,se)=>Ft(this,null,function*(){const ne=ie.get(n.p),ee=yield k(ne.documentHighlightProvider,te,se,S.Ts.None);return ee==null?void 0:ee.get(te.uri)}));let W=_=class{constructor(te,se,ne,ee,re){this.toUnhook=new E.SL,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=new D.Y9,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=te,this.providers=se,this.multiDocumentProviders=ne,this.codeEditorService=re,this._hasWordHighlights=b.bindTo(ee),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(81),this.model=this.editor.getModel(),this.toUnhook.add(te.onDidChangeCursorPosition(he=>{this._ignorePositionChangeEvent||this.occurrencesHighlight!=="off"&&this._onPositionChanged(he)})),this.toUnhook.add(te.onDidFocusEditorText(he=>{this.occurrencesHighlight!=="off"&&(this.workerRequest||this._run())})),this.toUnhook.add(te.onDidChangeModelContent(he=>{this._stopAll()})),this.toUnhook.add(te.onDidChangeModel(he=>{!he.newModelUrl&&he.oldModelUrl?this._stopSingular():_.query&&this._run()})),this.toUnhook.add(te.onDidChangeConfiguration(he=>{const M=this.editor.getOption(81);this.occurrencesHighlight!==M&&(this.occurrencesHighlight=M,this._stopAll())})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,_.query&&this._run()}hasDecorations(){return this.decorations.length>0}restore(){this.occurrencesHighlight!=="off"&&this._run()}_getSortedHighlights(){return this.decorations.getRanges().sort(g.e.compareRangesUsingStarts)}moveNext(){const te=this._getSortedHighlights(),ne=(te.findIndex(re=>re.containsPosition(this.editor.getPosition()))+1)%te.length,ee=te[ne];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(ee.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(ee);const re=this._getWord();if(re){const he=this.editor.getModel().getLineContent(ee.startLineNumber);(0,x.Z9)(`${he}, ${ne+1} of ${te.length} for '${re.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){const te=this._getSortedHighlights(),ne=(te.findIndex(re=>re.containsPosition(this.editor.getPosition()))-1+te.length)%te.length,ee=te[ne];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(ee.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(ee);const re=this._getWord();if(re){const he=this.editor.getModel().getLineContent(ee.startLineNumber);(0,x.Z9)(`${he}, ${ne+1} of ${te.length} for '${re.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeSingleDecorations(){if(!this.editor.hasModel())return;const te=_.storedDecorations.get(this.editor.getModel().uri);te&&(this.editor.removeDecorations(te),_.storedDecorations.delete(this.editor.getModel().uri),this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1)))}_removeAllDecorations(){const te=this.codeEditorService.listCodeEditors(),se=[];for(const ne of te){if(!ne.hasModel())continue;const ee=_.storedDecorations.get(ne.getModel().uri);if(!ee)continue;ne.removeDecorations(ee),se.push(ne.getModel().uri);const re=G.get(ne);re!=null&&re.wordHighlighter&&re.wordHighlighter.decorations.length>0&&(re.wordHighlighter.decorations.clear(),re.wordHighlighter.workerRequest=null,re.wordHighlighter._hasWordHighlights.set(!1))}for(const ne of se)_.storedDecorations.delete(ne)}_stopSingular(){var te,se,ne,ee;this._removeSingleDecorations(),this.editor.hasTextFocus()&&(((te=this.editor.getModel())===null||te===void 0?void 0:te.uri.scheme)!==l.lg.vscodeNotebookCell&&((ne=(se=_.query)===null||se===void 0?void 0:se.modelInfo)===null||ne===void 0?void 0:ne.model.uri.scheme)!==l.lg.vscodeNotebookCell?(_.query=null,this._run()):!((ee=_.query)===null||ee===void 0)&&ee.modelInfo&&(_.query.modelInfo=null)),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_stopAll(){this._removeAllDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(te){var se;if(this.occurrencesHighlight==="off"){this._stopAll();return}if(te.reason!==3&&((se=this.editor.getModel())===null||se===void 0?void 0:se.uri.scheme)!==l.lg.vscodeNotebookCell){this._stopAll();return}this._run()}_getWord(){const te=this.editor.getSelection(),se=te.startLineNumber,ne=te.startColumn;return this.model.isDisposed()?null:this.model.getWordAtPosition({lineNumber:se,column:ne})}getOtherModelsToHighlight(te){if(!te)return[];if(te.uri.scheme===l.lg.vscodeNotebookCell){const re=[],he=this.codeEditorService.listCodeEditors();for(const M of he){const we=M.getModel();we&&we!==te&&we.uri.scheme===l.lg.vscodeNotebookCell&&re.push(we)}return re}const ne=[],ee=this.codeEditorService.listCodeEditors();for(const re of ee){if(!(0,R.QI)(re))continue;const he=re.getModel();he&&te===he.modified&&ne.push(he.modified)}if(ne.length)return ne;if(this.occurrencesHighlight==="singleFile")return[];for(const re of ee){const he=re.getModel();he&&he!==te&&ne.push(he)}return ne}_run(){var te;let se;if(this.editor.hasTextFocus()){const ee=this.editor.getSelection();if(!ee||ee.startLineNumber!==ee.endLineNumber){_.query=null,this._stopAll();return}const re=ee.startColumn,he=ee.endColumn,M=this._getWord();if(!M||M.startColumn>re||M.endColumn<he){_.query=null,this._stopAll();return}se=this.workerRequest&&this.workerRequest.isValid(this.model,ee,this.decorations),_.query={modelInfo:{model:this.model,selection:ee},word:M}}else if(!_.query)return;if(this.lastCursorPositionChangeTime=new Date().getTime(),se)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();const ee=++this.workerRequestTokenId;this.workerRequestCompleted=!1;const re=this.getOtherModelsToHighlight(this.editor.getModel());if(!_.query.modelInfo||_.query.modelInfo.model.isDisposed())return;this.workerRequest=this.computeWithModel(_.query.modelInfo.model,_.query.modelInfo.selection,_.query.word,re),(te=this.workerRequest)===null||te===void 0||te.result.then(he=>{ee===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=he||[],this._beginRenderDecorations())},p.dL)}}computeWithModel(te,se,ne,ee){return ee.length?I(this.multiDocumentProviders,te,se,ne,this.editor.getOption(131),ee):P(this.providers,te,se,ne,this.editor.getOption(131))}_beginRenderDecorations(){const te=new Date().getTime(),se=this.lastCursorPositionChangeTime+250;te>=se?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},se-te)}renderDecorations(){var te,se,ne;this.renderDecorationsTimer=-1;const ee=this.codeEditorService.listCodeEditors();for(const re of ee){const he=G.get(re);if(!he)continue;const M=[],we=(te=re.getModel())===null||te===void 0?void 0:te.uri;if(we&&this.workerRequestValue.has(we)){const We=_.storedDecorations.get(we),ye=this.workerRequestValue.get(we);if(ye)for(const ve of ye)ve.range&&M.push({range:ve.range,options:(0,c.G)(ve.kind)});let X=[];re.changeDecorations(ve=>{X=ve.deltaDecorations(We!=null?We:[],M)}),_.storedDecorations=_.storedDecorations.set(we,X),M.length>0&&((se=he.wordHighlighter)===null||se===void 0||se.decorations.set(M),(ne=he.wordHighlighter)===null||ne===void 0||ne._hasWordHighlights.set(!0))}}}dispose(){this._stopSingular(),this.toUnhook.dispose()}};W.storedDecorations=new D.Y9,W.query=null,W=_=y([C(4,m.$)],W);let G=N=class extends E.JT{static get(te){return te.getContribution(N.ID)}constructor(te,se,ne,ee){super(),this._wordHighlighter=null;const re=()=>{te.hasModel()&&!te.getModel().isTooLargeForTokenization()&&(this._wordHighlighter=new W(te,ne.documentHighlightProvider,ne.multiDocumentHighlightProvider,se,ee))};this._register(te.onDidChangeModel(he=>{this._wordHighlighter&&(this._wordHighlighter.dispose(),this._wordHighlighter=null),re()})),re()}get wordHighlighter(){return this._wordHighlighter}saveViewState(){return!!(this._wordHighlighter&&this._wordHighlighter.hasDecorations())}moveNext(){var te;(te=this._wordHighlighter)===null||te===void 0||te.moveNext()}moveBack(){var te;(te=this._wordHighlighter)===null||te===void 0||te.moveBack()}restoreViewState(te){this._wordHighlighter&&te&&this._wordHighlighter.restore()}dispose(){this._wordHighlighter&&(this._wordHighlighter.dispose(),this._wordHighlighter=null),super.dispose()}};G.ID="editor.contrib.wordHighlighter",G=N=y([C(1,u.i6),C(2,n.p),C(3,m.$)],G);class j extends w.R6{constructor(te,se){super(se),this._isNext=te}run(te,se){const ne=G.get(se);ne&&(this._isNext?ne.moveNext():ne.moveBack())}}class Y extends j{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:o.NC("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:b,kbOpts:{kbExpr:a.u.editorTextFocus,primary:65,weight:100}})}}class H extends j{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:o.NC("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:b,kbOpts:{kbExpr:a.u.editorTextFocus,primary:1089,weight:100}})}}class Q extends w.R6{constructor(){super({id:"editor.action.wordHighlight.trigger",label:o.NC("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:b.toNegated(),kbOpts:{kbExpr:a.u.editorTextFocus,primary:0,weight:100}})}run(te,se,ne){const ee=G.get(se);ee&&ee.restoreViewState(!0)}}(0,w._K)(G.ID,G,0),(0,w.Qr)(Y),(0,w.Qr)(H),(0,w.Qr)(Q)},1263:function(et,Le,e){"use strict";e.d(Le,{IA:function(){return c},t8:function(){return G}});var o=e(92635),B=e(43921),x=e(75625),O=e(57247),S=e(16334),p=e(47205),E=e(93895),R=e(4694),w=e(14149),m=e(22706),g=e(81275),a=e(61652),r=e(84935),i=e(80568),n=e(48276);class c extends o._l{constructor(he){super(he),this._inSelectionMode=he.inSelectionMode,this._wordNavigationType=he.wordNavigationType}runEditorCommand(he,M,we){if(!M.hasModel())return;const We=(0,p.u)(M.getOption(131),M.getOption(130)),ye=M.getModel(),ve=M.getSelections().map(Ee=>{const Oe=new E.L(Ee.positionLineNumber,Ee.positionColumn),Ke=this._move(We,ye,Oe,this._wordNavigationType);return this._moveTo(Ee,Ke,this._inSelectionMode)});if(ye.pushStackElement(),M._getViewModel().setCursorStates("moveWordCommand",3,ve.map(Ee=>O.Vi.fromModelSelection(Ee))),ve.length===1){const Ee=new E.L(ve[0].positionLineNumber,ve[0].positionColumn);M.revealPosition(Ee,0)}}_moveTo(he,M,we){return we?new w.Y(he.selectionStartLineNumber,he.selectionStartColumn,M.lineNumber,M.column):new w.Y(M.lineNumber,M.column,M.lineNumber,M.column)}}class u extends c{_move(he,M,we,We){return S.w.moveWordLeft(he,M,we,We)}}class l extends c{_move(he,M,we,We){return S.w.moveWordRight(he,M,we,We)}}class D extends u{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}class f extends u{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}class y extends u{constructor(){var he;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:i.Ao.and(m.u.textInputFocus,(he=i.Ao.and(r.U,n.cv))===null||he===void 0?void 0:he.negate()),primary:2063,mac:{primary:527},weight:100}})}}class C extends u{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}class _ extends u{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}class N extends u{constructor(){var he;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:i.Ao.and(m.u.textInputFocus,(he=i.Ao.and(r.U,n.cv))===null||he===void 0?void 0:he.negate()),primary:3087,mac:{primary:1551},weight:100}})}}class b extends u{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(he,M,we,We){return super._move((0,p.u)(x.BH.wordSeparators.defaultValue,he.intlSegmenterLocales),M,we,We)}}class k extends u{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(he,M,we,We){return super._move((0,p.u)(x.BH.wordSeparators.defaultValue,he.intlSegmenterLocales),M,we,We)}}class V extends l{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}class K extends l{constructor(){var he;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:i.Ao.and(m.u.textInputFocus,(he=i.Ao.and(r.U,n.cv))===null||he===void 0?void 0:he.negate()),primary:2065,mac:{primary:529},weight:100}})}}class Z extends l{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}class z extends l{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}class A extends l{constructor(){var he;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:i.Ao.and(m.u.textInputFocus,(he=i.Ao.and(r.U,n.cv))===null||he===void 0?void 0:he.negate()),primary:3089,mac:{primary:1553},weight:100}})}}class P extends l{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}class I extends l{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(he,M,we,We){return super._move((0,p.u)(x.BH.wordSeparators.defaultValue,he.intlSegmenterLocales),M,we,We)}}class W extends l{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(he,M,we,We){return super._move((0,p.u)(x.BH.wordSeparators.defaultValue,he.intlSegmenterLocales),M,we,We)}}class G extends o._l{constructor(he){super(he),this._whitespaceHeuristics=he.whitespaceHeuristics,this._wordNavigationType=he.wordNavigationType}runEditorCommand(he,M,we){const We=he.get(g.c_);if(!M.hasModel())return;const ye=(0,p.u)(M.getOption(131),M.getOption(130)),X=M.getModel(),ve=M.getSelections(),Ee=M.getOption(6),Oe=M.getOption(11),Ke=We.getLanguageConfiguration(X.getLanguageId()).getAutoClosingPairs(),Qe=M._getViewModel(),fe=ve.map($=>{const le=this._delete({wordSeparators:ye,model:X,selection:$,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:M.getOption(9),autoClosingBrackets:Ee,autoClosingQuotes:Oe,autoClosingPairs:Ke,autoClosedCharacters:Qe.getCursorAutoClosedCharacters()},this._wordNavigationType);return new B.T4(le,"")});M.pushUndoStop(),M.executeCommands(this.id,fe),M.pushUndoStop()}}class j extends G{_delete(he,M){const we=S.w.deleteWordLeft(he,M);return we||new R.e(1,1,1,1)}}class Y extends G{_delete(he,M){const we=S.w.deleteWordRight(he,M);if(we)return we;const We=he.model.getLineCount(),ye=he.model.getLineMaxColumn(We);return new R.e(We,ye,We,ye)}}class H extends j{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:m.u.writable})}}class Q extends j{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:m.u.writable})}}class ie extends j{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:m.u.writable,kbOpts:{kbExpr:m.u.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}class te extends Y{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:m.u.writable})}}class se extends Y{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:m.u.writable})}}class ne extends Y{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:m.u.writable,kbOpts:{kbExpr:m.u.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}class ee extends o.R6{constructor(){super({id:"deleteInsideWord",precondition:m.u.writable,label:a.NC("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(he,M,we){if(!M.hasModel())return;const We=(0,p.u)(M.getOption(131),M.getOption(130)),ye=M.getModel(),ve=M.getSelections().map(Ee=>{const Oe=S.w.deleteInsideWord(We,ye,Ee);return new B.T4(Oe,"")});M.pushUndoStop(),M.executeCommands(this.id,ve),M.pushUndoStop()}}(0,o.fK)(new D),(0,o.fK)(new f),(0,o.fK)(new y),(0,o.fK)(new C),(0,o.fK)(new _),(0,o.fK)(new N),(0,o.fK)(new V),(0,o.fK)(new K),(0,o.fK)(new Z),(0,o.fK)(new z),(0,o.fK)(new A),(0,o.fK)(new P),(0,o.fK)(new b),(0,o.fK)(new k),(0,o.fK)(new I),(0,o.fK)(new W),(0,o.fK)(new H),(0,o.fK)(new Q),(0,o.fK)(new ie),(0,o.fK)(new te),(0,o.fK)(new se),(0,o.fK)(new ne),(0,o.Qr)(ee)},46281:function(et,Le,e){"use strict";var o=e(92635),B=e(16334),x=e(4694),O=e(22706),S=e(1263),p=e(83349);class E extends S.t8{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:O.u.writable,kbOpts:{kbExpr:O.u.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(c,u){const l=B.L.deleteWordPartLeft(c);return l||new x.e(1,1,1,1)}}class R extends S.t8{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:O.u.writable,kbOpts:{kbExpr:O.u.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(c,u){const l=B.L.deleteWordPartRight(c);if(l)return l;const D=c.model.getLineCount(),f=c.model.getLineMaxColumn(D);return new x.e(D,f,D,f)}}class w extends S.IA{_move(c,u,l,D){return B.L.moveWordPartLeft(c,u,l)}}class m extends w{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:O.u.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}p.P.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class g extends w{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:O.u.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}p.P.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class a extends S.IA{_move(c,u,l,D){return B.L.moveWordPartRight(c,u,l)}}class r extends a{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:O.u.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}class i extends a{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:O.u.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}(0,o.fK)(new E),(0,o.fK)(new R),(0,o.fK)(new m),(0,o.fK)(new g),(0,o.fK)(new r),(0,o.fK)(new i)},31658:function(et,Le,e){"use strict";var o=e(91540),B=e(45029),x=e(92635),O=e(15122);class S extends B.JT{constructor(R){super(),this.editor=R,this.widget=null,O.gn&&(this._register(R.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const R=!this.editor.getOption(91);!this.widget&&R?this.widget=new p(this.editor):this.widget&&!R&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}S.ID="editor.contrib.iPadShowKeyboard";class p extends B.JT{constructor(R){super(),this.editor=R,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(o.nm(this._domNode,"touchstart",w=>{this.editor.focus()})),this._register(o.nm(this._domNode,"focus",w=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return p.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}p.ID="editor.contrib.ShowKeyboardWidget",(0,x._K)(S.ID,S,3)},95218:function(et,Le,e){"use strict";var o=e(91540),B=e(64707),x=e(45029),O=e(92635),S=e(91895),p=e(87597),E=e(91187),R=e(50131),w=e(64657),m=e(85096),g=function(D,f,y,C){var _=arguments.length,N=_<3?f:C===null?C=Object.getOwnPropertyDescriptor(f,y):C,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(D,f,y,C);else for(var k=D.length-1;k>=0;k--)(b=D[k])&&(N=(_<3?b(N):_>3?b(f,y,N):b(f,y))||N);return _>3&&N&&Object.defineProperty(f,y,N),N},a=function(D,f){return function(y,C){f(y,C,D)}},r;let i=r=class extends x.JT{static get(f){return f.getContribution(r.ID)}constructor(f,y,C){super(),this._editor=f,this._languageService=C,this._widget=null,this._register(this._editor.onDidChangeModel(_=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(_=>this.stop())),this._register(S.RW.onDidChange(_=>this.stop())),this._register(this._editor.onKeyUp(_=>_.keyCode===9&&this.stop()))}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&(this._widget=new l(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};i.ID="editor.contrib.inspectTokens",i=r=g([a(1,w.Z),a(2,R.O)],i);class n extends O.R6{constructor(){super({id:"editor.action.inspectTokens",label:m.ug.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(f,y){const C=i.get(y);C==null||C.launch()}}function c(D){let f="";for(let y=0,C=D.length;y<C;y++){const _=D.charCodeAt(y);switch(_){case 9:f+="\u2192";break;case 32:f+="\xB7";break;default:f+=String.fromCharCode(_)}}return f}function u(D,f){const y=S.RW.get(f);if(y)return y;const C=D.encodeLanguageId(f);return{getInitialState:()=>E.TJ,tokenize:(_,N,b)=>(0,E.Ri)(f,b),tokenizeEncoded:(_,N,b)=>(0,E.Dy)(C,b)}}class l extends x.JT{constructor(f,y){super(),this.allowEditorOverflow=!0,this._editor=f,this._languageService=y,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=u(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(C=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return l._ID}_compute(f){const y=this._getTokensAtLine(f.lineNumber);let C=0;for(let V=y.tokens1.length-1;V>=0;V--){const K=y.tokens1[V];if(f.column-1>=K.offset){C=V;break}}let _=0;for(let V=y.tokens2.length>>>1;V>=0;V--)if(f.column-1>=y.tokens2[V<<1]){_=V;break}const N=this._model.getLineContent(f.lineNumber);let b="";if(C<y.tokens1.length){const V=y.tokens1[C].offset,K=C+1<y.tokens1.length?y.tokens1[C+1].offset:N.length;b=N.substring(V,K)}(0,o.mc)(this._domNode,(0,o.$)("h2.tm-token",void 0,c(b),(0,o.$)("span.tm-token-length",void 0,`${b.length} ${b.length===1?"char":"chars"}`))),(0,o.R3)(this._domNode,(0,o.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const k=(_<<1)+1<y.tokens2.length?this._decodeMetadata(y.tokens2[(_<<1)+1]):null;(0,o.R3)(this._domNode,(0,o.$)("table.tm-metadata-table",void 0,(0,o.$)("tbody",void 0,(0,o.$)("tr",void 0,(0,o.$)("td.tm-metadata-key",void 0,"language"),(0,o.$)("td.tm-metadata-value",void 0,`${k?k.languageId:"-?-"}`)),(0,o.$)("tr",void 0,(0,o.$)("td.tm-metadata-key",void 0,"token type"),(0,o.$)("td.tm-metadata-value",void 0,`${k?this._tokenTypeToString(k.tokenType):"-?-"}`)),(0,o.$)("tr",void 0,(0,o.$)("td.tm-metadata-key",void 0,"font style"),(0,o.$)("td.tm-metadata-value",void 0,`${k?this._fontStyleToString(k.fontStyle):"-?-"}`)),(0,o.$)("tr",void 0,(0,o.$)("td.tm-metadata-key",void 0,"foreground"),(0,o.$)("td.tm-metadata-value",void 0,`${k?B.Il.Format.CSS.formatHex(k.foreground):"-?-"}`)),(0,o.$)("tr",void 0,(0,o.$)("td.tm-metadata-key",void 0,"background"),(0,o.$)("td.tm-metadata-value",void 0,`${k?B.Il.Format.CSS.formatHex(k.background):"-?-"}`))))),(0,o.R3)(this._domNode,(0,o.$)("hr.tokens-inspect-separator")),C<y.tokens1.length&&(0,o.R3)(this._domNode,(0,o.$)("span.tm-token-type",void 0,y.tokens1[C].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(f){const y=S.RW.getColorMap(),C=p.N.getLanguageId(f),_=p.N.getTokenType(f),N=p.N.getFontStyle(f),b=p.N.getForeground(f),k=p.N.getBackground(f);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(C),tokenType:_,fontStyle:N,foreground:y[b],background:y[k]}}_tokenTypeToString(f){switch(f){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(f){let y="";return f&1&&(y+="italic "),f&2&&(y+="bold "),f&4&&(y+="underline "),f&8&&(y+="strikethrough "),y.length===0&&(y="---"),y}_getTokensAtLine(f){const y=this._getStateBeforeLine(f),C=this._tokenizationSupport.tokenize(this._model.getLineContent(f),!0,y),_=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(f),!0,y);return{startState:y,tokens1:C.tokens,tokens2:_.tokens,endState:C.endState}}_getStateBeforeLine(f){let y=this._tokenizationSupport.getInitialState();for(let C=1;C<f;C++)y=this._tokenizationSupport.tokenize(this._model.getLineContent(C),!0,y).endState;return y}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}l._ID="editor.contrib.inspectTokensWidget",(0,O._K)(i.ID,i,4),(0,O.Qr)(n)},90604:function(et,Le,e){"use strict";var o=e(2816),B=e(1430),x=e(85096),O=e(89226),S=e(15641),p=e(61182),E=e(71221),R=e(26974),w=e(61652);function m(ye,X){return X&&(ye.stack||ye.stacktrace)?w.NC("stackTrace.format","{0}: {1}",a(ye),g(ye.stack)||g(ye.stacktrace)):a(ye)}function g(ye){return Array.isArray(ye)?ye.join(`
`):ye}function a(ye){return ye.code==="ERR_UNC_HOST_NOT_ALLOWED"?`${ye.message}. Please update the 'security.allowedUNCHosts' setting if you want to allow this host.`:typeof ye.code=="string"&&typeof ye.errno=="number"&&typeof ye.syscall=="string"?w.NC("nodeExceptionMessage","A system error occurred ({0})",ye.message):ye.message||w.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function r(ye=null,X=!1){if(!ye)return w.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(ye)){const ve=E.kX(ye),Ee=r(ve[0],X);return ve.length>1?w.NC("error.moreErrors","{0} ({1} errors in total)",Ee,ve.length):Ee}if(R.HD(ye))return ye;if(ye.detail){const ve=ye.detail;if(ve.error)return m(ve.error,X);if(ve.exception)return m(ve.exception,X)}return ye.stack?m(ye,X):ye.message?ye.message:w.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}var i=e(25602),n=e(87100),c=e(77303),u=e(45029),l=e(79138);function D(ye){var X;const ve=new Map;for(const Ee of ye)ve.set(Ee,((X=ve.get(Ee))!==null&&X!==void 0?X:0)+1);return ve}class f{constructor(){this.chunkCount=0,this.chunkOccurrences=new Map,this.documents=new Map}calculateScores(X,ve){const Ee=this.computeEmbedding(X),Oe=new Map,Ke=[];for(const[Qe,fe]of this.documents){if(ve.isCancellationRequested)return[];for(const $ of fe.chunks){const le=this.computeSimilarityScore($,Ee,Oe);le>0&&Ke.push({key:Qe,score:le})}}return Ke}static termFrequencies(X){return D(f.splitTerms(X))}static*splitTerms(X){const ve=Ee=>Ee.toLowerCase();for(const[Ee]of X.matchAll(new RegExp("\\b\\p{Letter}[\\p{Letter}\\d]{2,}\\b","gu"))){yield ve(Ee);const Oe=Ee.replace(/([a-z])([A-Z])/g,"$1 $2").split(/\s+/g);if(Oe.length>1)for(const Ke of Oe)Ke.length>2&&new RegExp("\\p{Letter}{3,}","gu").test(Ke)&&(yield ve(Ke))}}updateDocuments(X){var ve;for(const{key:Ee}of X)this.deleteDocument(Ee);for(const Ee of X){const Oe=[];for(const Ke of Ee.textChunks){const Qe=f.termFrequencies(Ke);for(const fe of Qe.keys())this.chunkOccurrences.set(fe,((ve=this.chunkOccurrences.get(fe))!==null&&ve!==void 0?ve:0)+1);Oe.push({text:Ke,tf:Qe})}this.chunkCount+=Oe.length,this.documents.set(Ee.key,{chunks:Oe})}return this}deleteDocument(X){const ve=this.documents.get(X);if(ve){this.documents.delete(X),this.chunkCount-=ve.chunks.length;for(const Ee of ve.chunks)for(const Oe of Ee.tf.keys()){const Ke=this.chunkOccurrences.get(Oe);if(typeof Ke=="number"){const Qe=Ke-1;Qe<=0?this.chunkOccurrences.delete(Oe):this.chunkOccurrences.set(Oe,Qe)}}}}computeSimilarityScore(X,ve,Ee){let Oe=0;for(const[Ke,Qe]of Object.entries(ve)){const fe=X.tf.get(Ke);if(!fe)continue;let $=Ee.get(Ke);typeof $!="number"&&($=this.computeIdf(Ke),Ee.set(Ke,$));const le=fe*$;Oe+=le*Qe}return Oe}computeEmbedding(X){const ve=f.termFrequencies(X);return this.computeTfidf(ve)}computeIdf(X){var ve;const Ee=(ve=this.chunkOccurrences.get(X))!==null&&ve!==void 0?ve:0;return Ee>0?Math.log((this.chunkCount+1)/Ee):0}computeTfidf(X){const ve=Object.create(null);for(const[Ee,Oe]of X){const Ke=this.computeIdf(Ee);Ke>0&&(ve[Ee]=Oe*Ke)}return ve}}function y(ye){var X,ve;const Ee=ye.slice(0);Ee.sort((Ke,Qe)=>Qe.score-Ke.score);const Oe=(ve=(X=Ee[0])===null||X===void 0?void 0:X.score)!==null&&ve!==void 0?ve:0;if(Oe>0)for(const Ke of Ee)Ke.score/=Oe;return Ee}var C=e(83349),_=e(48774),N=e(21821),b=e(87058),k=e(66070),V=e(61629),K=e(74696),Z=e(65642),z;(function(ye){ye[ye.NO_ACTION=0]="NO_ACTION",ye[ye.CLOSE_PICKER=1]="CLOSE_PICKER",ye[ye.REFRESH_PICKER=2]="REFRESH_PICKER",ye[ye.REMOVE_ITEM=3]="REMOVE_ITEM"})(z||(z={}));function A(ye){const X=ye;return Array.isArray(X.items)}function P(ye){const X=ye;return!!X.picks&&X.additionalPicks instanceof Promise}class I extends u.JT{constructor(X,ve){super(),this.prefix=X,this.options=ve}provide(X,ve,Ee){var Oe;const Ke=new u.SL;X.canAcceptInBackground=!!(!((Oe=this.options)===null||Oe===void 0)&&Oe.canAcceptInBackground),X.matchOnLabel=X.matchOnDescription=X.matchOnDetail=X.sortByLabel=!1;let Qe;const fe=Ke.add(new u.XK),$=()=>Ft(this,null,function*(){var De;const xe=fe.value=new u.SL;Qe==null||Qe.dispose(!0),X.busy=!1,Qe=new Z.AU(ve);const Ce=Qe.token;let me=X.value.substring(this.prefix.length);!((De=this.options)===null||De===void 0)&&De.shouldSkipTrimPickFilter||(me=me.trim());const be=this._getPicks(me,xe,Ce,Ee),oe=(de,Se)=>{var Te;let Ae,pe;if(A(de)?(Ae=de.items,pe=de.active):Ae=de,Ae.length===0){if(Se)return!1;(me.length>0||X.hideInput)&&(!((Te=this.options)===null||Te===void 0)&&Te.noResultsPick)&&((0,R.mf)(this.options.noResultsPick)?Ae=[this.options.noResultsPick(me)]:Ae=[this.options.noResultsPick])}return X.items=Ae,pe&&(X.activeItems=[pe]),!0},ue=de=>Ft(this,null,function*(){let Se=!1,Te=!1;yield Promise.all([Ft(this,null,function*(){typeof de.mergeDelay=="number"&&(yield(0,K.Vs)(de.mergeDelay),Ce.isCancellationRequested)||Te||(Se=oe(de.picks,!0))}),Ft(this,null,function*(){X.busy=!0;try{const Ae=yield de.additionalPicks;if(Ce.isCancellationRequested)return;let pe,je;A(de.picks)?(pe=de.picks.items,je=de.picks.active):pe=de.picks;let ot,xt;if(A(Ae)?(ot=Ae.items,xt=Ae.active):ot=Ae,ot.length>0||!Se){let jt;if(!je&&!xt){const oi=X.activeItems[0];oi&&pe.indexOf(oi)!==-1&&(jt=oi)}oe({items:[...pe,...ot],active:je||xt||jt})}}finally{Ce.isCancellationRequested||(X.busy=!1),Te=!0}})])});if(be!==null)if(P(be))yield ue(be);else if(!(be instanceof Promise))oe(be);else{X.busy=!0;try{const de=yield be;if(Ce.isCancellationRequested)return;P(de)?yield ue(de):oe(de)}finally{Ce.isCancellationRequested||(X.busy=!1)}}});Ke.add(X.onDidChangeValue(()=>$())),$(),Ke.add(X.onDidAccept(De=>{const[xe]=X.selectedItems;typeof(xe==null?void 0:xe.accept)=="function"&&(De.inBackground||X.hide(),xe.accept(X.keyMods,De))}));const le=(De,xe)=>Ft(this,null,function*(){var Ce,me;if(typeof xe.trigger!="function")return;const be=(me=(Ce=xe.buttons)===null||Ce===void 0?void 0:Ce.indexOf(De))!==null&&me!==void 0?me:-1;if(be>=0){const oe=xe.trigger(be,X.keyMods),ue=typeof oe=="number"?oe:yield oe;if(ve.isCancellationRequested)return;switch(ue){case z.NO_ACTION:break;case z.CLOSE_PICKER:X.hide();break;case z.REFRESH_PICKER:$();break;case z.REMOVE_ITEM:{const de=X.items.indexOf(xe);if(de!==-1){const Se=X.items.slice(),Te=Se.splice(de,1),Ae=X.activeItems.filter(je=>je!==Te[0]),pe=X.keepScrollPosition;X.keepScrollPosition=!0,X.items=Se,Ae&&(X.activeItems=Ae),X.keepScrollPosition=pe}break}}}});return Ke.add(X.onDidTriggerItemButton(({button:De,item:xe})=>le(De,xe))),Ke.add(X.onDidTriggerSeparatorButton(({button:De,separator:xe})=>le(De,xe))),Ke}}var W=e(10783),G=e(79553),j=function(ye,X,ve,Ee){var Oe=arguments.length,Ke=Oe<3?X:Ee===null?Ee=Object.getOwnPropertyDescriptor(X,ve):Ee,Qe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ke=Reflect.decorate(ye,X,ve,Ee);else for(var fe=ye.length-1;fe>=0;fe--)(Qe=ye[fe])&&(Ke=(Oe<3?Qe(Ke):Oe>3?Qe(X,ve,Ke):Qe(X,ve))||Ke);return Oe>3&&Ke&&Object.defineProperty(X,ve,Ke),Ke},Y=function(ye,X){return function(ve,Ee){X(ve,Ee,ye)}},H,Q;let ie=H=class extends I{constructor(X,ve,Ee,Oe,Ke,Qe){super(H.PREFIX,X),this.instantiationService=ve,this.keybindingService=Ee,this.commandService=Oe,this.telemetryService=Ke,this.dialogService=Qe,this.commandsHistory=this._register(this.instantiationService.createInstance(te)),this.options=X}_getPicks(X,ve,Ee,Oe){return Ft(this,null,function*(){var Ke,Qe,fe,$;const le=yield this.getCommandPicks(Ee);if(Ee.isCancellationRequested)return[];const De=(0,c.M)(()=>{const de=new f;de.updateDocuments(le.map(Te=>({key:Te.commandId,textChunks:[this.getTfIdfChunk(Te)]})));const Se=de.calculateScores(X,Ee);return y(Se).filter(Te=>Te.score>H.TFIDF_THRESHOLD).slice(0,H.TFIDF_MAX_RESULTS)}),xe=[];for(const de of le){const Se=(Ke=H.WORD_FILTER(X,de.label))!==null&&Ke!==void 0?Ke:void 0,Te=de.commandAlias&&(Qe=H.WORD_FILTER(X,de.commandAlias))!==null&&Qe!==void 0?Qe:void 0;if(Se||Te)de.highlights={label:Se,detail:this.options.showAlias?Te:void 0},xe.push(de);else if(X===de.commandId)xe.push(de);else if(X.length>=3){const Ae=De();if(Ee.isCancellationRequested)return[];const pe=Ae.find(je=>je.key===de.commandId);pe&&(de.tfIdfScore=pe.score,xe.push(de))}}const Ce=new Map;for(const de of xe){const Se=Ce.get(de.label);Se?(de.description=de.commandId,Se.description=Se.commandId):Ce.set(de.label,de)}xe.sort((de,Se)=>{if(de.tfIdfScore&&Se.tfIdfScore)return de.tfIdfScore===Se.tfIdfScore?de.label.localeCompare(Se.label):Se.tfIdfScore-de.tfIdfScore;if(de.tfIdfScore)return 1;if(Se.tfIdfScore)return-1;const Te=this.commandsHistory.peek(de.commandId),Ae=this.commandsHistory.peek(Se.commandId);if(Te&&Ae)return Te>Ae?-1:1;if(Te)return-1;if(Ae)return 1;if(this.options.suggestedCommandIds){const pe=this.options.suggestedCommandIds.has(de.commandId),je=this.options.suggestedCommandIds.has(Se.commandId);if(pe&&je)return 0;if(pe)return-1;if(je)return 1}return de.label.localeCompare(Se.label)});const me=[];let be=!1,oe=!0,ue=!!this.options.suggestedCommandIds;for(let de=0;de<xe.length;de++){const Se=xe[de];de===0&&this.commandsHistory.peek(Se.commandId)&&(me.push({type:"separator",label:(0,w.NC)("recentlyUsed","recently used")}),be=!0),oe&&Se.tfIdfScore!==void 0&&(me.push({type:"separator",label:(0,w.NC)("suggested","similar commands")}),oe=!1),ue&&Se.tfIdfScore===void 0&&!this.commandsHistory.peek(Se.commandId)&&(!((fe=this.options.suggestedCommandIds)===null||fe===void 0)&&fe.has(Se.commandId))&&(me.push({type:"separator",label:(0,w.NC)("commonlyUsed","commonly used")}),be=!0,ue=!1),be&&Se.tfIdfScore===void 0&&!this.commandsHistory.peek(Se.commandId)&&!(!(($=this.options.suggestedCommandIds)===null||$===void 0)&&$.has(Se.commandId))&&(me.push({type:"separator",label:(0,w.NC)("morecCommands","other commands")}),be=!1),me.push(this.toCommandPick(Se,Oe))}return this.hasAdditionalCommandPicks(X,Ee)?{picks:me,additionalPicks:Ft(this,null,function*(){var de;const Se=yield this.getAdditionalCommandPicks(le,xe,X,Ee);if(Ee.isCancellationRequested)return[];const Te=Se.map(Ae=>this.toCommandPick(Ae,Oe));return oe&&((de=Te[0])===null||de===void 0?void 0:de.type)!=="separator"&&Te.unshift({type:"separator",label:(0,w.NC)("suggested","similar commands")}),Te})}:me})}toCommandPick(X,ve){if(X.type==="separator")return X;const Ee=this.keybindingService.lookupKeybinding(X.commandId),Oe=Ee?(0,w.NC)("commandPickAriaLabelWithKeybinding","{0}, {1}",X.label,Ee.getAriaLabel()):X.label;return Ki(vi({},X),{ariaLabel:Oe,detail:this.options.showAlias&&X.commandAlias!==X.label?X.commandAlias:void 0,keybinding:Ee,accept:()=>Ft(this,null,function*(){var Ke,Qe;this.commandsHistory.push(X.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:X.commandId,from:(Ke=ve==null?void 0:ve.from)!==null&&Ke!==void 0?Ke:"quick open"});try{!((Qe=X.args)===null||Qe===void 0)&&Qe.length?yield this.commandService.executeCommand(X.commandId,...X.args):yield this.commandService.executeCommand(X.commandId)}catch(fe){(0,i.n2)(fe)||this.dialogService.error((0,w.NC)("canNotRun","Command '{0}' resulted in an error",X.label),r(fe))}})})}getTfIdfChunk({label:X,commandAlias:ve,commandDescription:Ee}){let Oe=X;return ve&&ve!==X&&(Oe+=` - ${ve}`),Ee&&Ee.value!==X&&(Oe+=` - ${Ee.value===Ee.original?Ee.value:`${Ee.value} (${Ee.original})`}`),Oe}};ie.PREFIX=">",ie.TFIDF_THRESHOLD=.5,ie.TFIDF_MAX_RESULTS=5,ie.WORD_FILTER=(0,n.or)(n.Ji,n.KZ,n.ir),ie=H=j([Y(1,b.TG),Y(2,k.d),Y(3,C.H),Y(4,G.b),Y(5,N.S)],ie);let te=Q=class extends u.JT{constructor(X,ve,Ee){super(),this.storageService=X,this.configurationService=ve,this.logService=Ee,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(X=>this.updateConfiguration(X))),this._register(this.storageService.onWillSaveState(X=>{X.reason===W.fk.SHUTDOWN&&this.saveState()}))}updateConfiguration(X){X&&!X.affectsConfiguration("workbench.commandPalette.history")||(this.configuredCommandsHistoryLength=Q.getConfiguredCommandHistoryLength(this.configurationService),Q.cache&&Q.cache.limit!==this.configuredCommandsHistoryLength&&(Q.cache.limit=this.configuredCommandsHistoryLength,Q.hasChanges=!0))}load(){const X=this.storageService.get(Q.PREF_KEY_CACHE,0);let ve;if(X)try{ve=JSON.parse(X)}catch(Oe){this.logService.error(`[CommandsHistory] invalid data: ${Oe}`)}const Ee=Q.cache=new l.z6(this.configuredCommandsHistoryLength,1);if(ve){let Oe;ve.usesLRU?Oe=ve.entries:Oe=ve.entries.sort((Ke,Qe)=>Ke.value-Qe.value),Oe.forEach(Ke=>Ee.set(Ke.key,Ke.value))}Q.counter=this.storageService.getNumber(Q.PREF_KEY_COUNTER,0,Q.counter)}push(X){Q.cache&&(Q.cache.set(X,Q.counter++),Q.hasChanges=!0)}peek(X){var ve;return(ve=Q.cache)===null||ve===void 0?void 0:ve.peek(X)}saveState(){if(!Q.cache||!Q.hasChanges)return;const X={usesLRU:!0,entries:[]};Q.cache.forEach((ve,Ee)=>X.entries.push({key:Ee,value:ve})),this.storageService.store(Q.PREF_KEY_CACHE,JSON.stringify(X),0,0),this.storageService.store(Q.PREF_KEY_COUNTER,Q.counter,0,0),Q.hasChanges=!1}static getConfiguredCommandHistoryLength(X){var ve,Ee;const Ke=(Ee=(ve=X.getValue().workbench)===null||ve===void 0?void 0:ve.commandPalette)===null||Ee===void 0?void 0:Ee.history;return typeof Ke=="number"?Ke:Q.DEFAULT_COMMANDS_HISTORY_LENGTH}};te.DEFAULT_COMMANDS_HISTORY_LENGTH=50,te.PREF_KEY_CACHE="commandPalette.mru.cache",te.PREF_KEY_COUNTER="commandPalette.mru.counter",te.counter=1,te.hasChanges=!1,te=Q=j([Y(0,W.Uy),Y(1,_.Ui),Y(2,V.VZ)],te);class se extends ie{constructor(X,ve,Ee,Oe,Ke,Qe){super(X,ve,Ee,Oe,Ke,Qe)}getCodeEditorCommandPicks(){var X;const ve=this.activeTextEditorControl;if(!ve)return[];const Ee=[];for(const Oe of ve.getSupportedActions()){let Ke;!((X=Oe.metadata)===null||X===void 0)&&X.description&&((0,p.q)(Oe.metadata.description)?Ke=Oe.metadata.description:Ke={original:Oe.metadata.description,value:Oe.metadata.description}),Ee.push({commandId:Oe.id,commandAlias:Oe.alias,commandDescription:Ke,label:(0,S.x$)(Oe.label)||Oe.id})}return Ee}}var ne=e(92635),ee=e(22706),re=e(86773),he=function(ye,X,ve,Ee){var Oe=arguments.length,Ke=Oe<3?X:Ee===null?Ee=Object.getOwnPropertyDescriptor(X,ve):Ee,Qe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ke=Reflect.decorate(ye,X,ve,Ee);else for(var fe=ye.length-1;fe>=0;fe--)(Qe=ye[fe])&&(Ke=(Oe<3?Qe(Ke):Oe>3?Qe(X,ve,Ke):Qe(X,ve))||Ke);return Oe>3&&Ke&&Object.defineProperty(X,ve,Ke),Ke},M=function(ye,X){return function(ve,Ee){X(ve,Ee,ye)}};let we=class extends se{get activeTextEditorControl(){var X;return(X=this.codeEditorService.getFocusedCodeEditor())!==null&&X!==void 0?X:void 0}constructor(X,ve,Ee,Oe,Ke,Qe){super({showAlias:!1},X,Ee,Oe,Ke,Qe),this.codeEditorService=ve}getCommandPicks(){return Ft(this,null,function*(){return this.getCodeEditorCommandPicks()})}hasAdditionalCommandPicks(){return!1}getAdditionalCommandPicks(){return Ft(this,null,function*(){return[]})}};we=he([M(0,b.TG),M(1,O.$),M(2,k.d),M(3,C.H),M(4,G.b),M(5,N.S)],we);class We extends ne.R6{constructor(){super({id:We.ID,label:x.UX.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:ee.u.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(X){X.get(re.eJ).quickAccess.show(we.PREFIX)}}We.ID="editor.action.quickCommand",(0,ne.Qr)(We),o.B.as(B.IP.Quickaccess).registerQuickAccessProvider({ctor:we,prefix:we.PREFIX,helpEntries:[{description:x.UX.quickCommandHelp,commandId:We.ID}]})},69025:function(et,Le,e){"use strict";var o=e(45029),B=e(70339),x=e(5680),O=e(61652);class S extends x.X{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(D){const f=(0,O.NC)("cannotRunGotoLine","Open a text editor first to go to a line.");return D.items=[{label:f}],D.ariaLabel=f,o.JT.None}provideWithTextEditor(D,f,y){const C=D.editor,_=new o.SL;_.add(f.onDidAccept(k=>{const[V]=f.selectedItems;if(V){if(!this.isValidLineNumber(C,V.lineNumber))return;this.gotoLocation(D,{range:this.toRange(V.lineNumber,V.column),keyMods:f.keyMods,preserveFocus:k.inBackground}),k.inBackground||f.hide()}}));const N=()=>{const k=this.parsePosition(C,f.value.trim().substr(S.PREFIX.length)),V=this.getPickLabel(C,k.lineNumber,k.column);if(f.items=[{lineNumber:k.lineNumber,column:k.column,label:V}],f.ariaLabel=V,!this.isValidLineNumber(C,k.lineNumber)){this.clearDecorations(C);return}const K=this.toRange(k.lineNumber,k.column);C.revealRangeInCenter(K,0),this.addDecorations(C,K)};N(),_.add(f.onDidChangeValue(()=>N()));const b=(0,B.Pi)(C);return b&&b.getOptions().get(68).renderType===2&&(b.updateOptions({lineNumbers:"on"}),_.add((0,o.OF)(()=>b.updateOptions({lineNumbers:"relative"})))),_}toRange(D=1,f=1){return{startLineNumber:D,startColumn:f,endLineNumber:D,endColumn:f}}parsePosition(D,f){const y=f.split(/,|:|#/).map(_=>parseInt(_,10)).filter(_=>!isNaN(_)),C=this.lineCount(D)+1;return{lineNumber:y[0]>0?y[0]:C+y[0],column:y[1]}}getPickLabel(D,f,y){if(this.isValidLineNumber(D,f))return this.isValidColumn(D,f,y)?(0,O.NC)("gotoLineColumnLabel","Go to line {0} and character {1}.",f,y):(0,O.NC)("gotoLineLabel","Go to line {0}.",f);const C=D.getPosition()||{lineNumber:1,column:1},_=this.lineCount(D);return _>1?(0,O.NC)("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",C.lineNumber,C.column,_):(0,O.NC)("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",C.lineNumber,C.column)}isValidLineNumber(D,f){return!f||typeof f!="number"?!1:f>0&&f<=this.lineCount(D)}isValidColumn(D,f,y){if(!y||typeof y!="number")return!1;const C=this.getModel(D);if(!C)return!1;const _={lineNumber:f,column:y};return C.validatePosition(_).equals(_)}lineCount(D){var f,y;return(y=(f=this.getModel(D))===null||f===void 0?void 0:f.getLineCount())!==null&&y!==void 0?y:0}}S.PREFIX=":";var p=e(2816),E=e(1430),R=e(89226),w=e(85096),m=e(79329),g=e(92635),a=e(22706),r=e(86773),i=function(l,D,f,y){var C=arguments.length,_=C<3?D:y===null?y=Object.getOwnPropertyDescriptor(D,f):y,N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(l,D,f,y);else for(var b=l.length-1;b>=0;b--)(N=l[b])&&(_=(C<3?N(_):C>3?N(D,f,_):N(D,f))||_);return C>3&&_&&Object.defineProperty(D,f,_),_},n=function(l,D){return function(f,y){D(f,y,l)}};let c=class extends S{constructor(D){super(),this.editorService=D,this.onDidActiveTextEditorControlChange=m.ju.None}get activeTextEditorControl(){var D;return(D=this.editorService.getFocusedCodeEditor())!==null&&D!==void 0?D:void 0}};c=i([n(0,R.$)],c);class u extends g.R6{constructor(){super({id:u.ID,label:w.qq.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:a.u.focus,primary:2085,mac:{primary:293},weight:100}})}run(D){D.get(r.eJ).quickAccess.show(c.PREFIX)}}u.ID="editor.action.gotoLine",(0,g.Qr)(u),p.B.as(E.IP.Quickaccess).registerQuickAccessProvider({ctor:c,prefix:c.PREFIX,helpEntries:[{description:w.qq.gotoLineActionLabel,commandId:u.ID}]})},68926:function(et,Le,e){"use strict";var o=e(58411),B=e(16450),x=e(74696),O=e(65642),S=e(24752),p=e(68777),E=e(87100),R=e(99620),w=e(15122),m=e(30144);const g=[void 0,[]];function a(We,ye,X=0,ve=0){const Ee=ye;return Ee.values&&Ee.values.length>1?r(We,Ee.values,X,ve):i(We,ye,X,ve)}function r(We,ye,X,ve){let Ee=0;const Oe=[];for(const Ke of ye){const[Qe,fe]=i(We,Ke,X,ve);if(typeof Qe!="number")return g;Ee+=Qe,Oe.push(...fe)}return[Ee,c(Oe)]}function i(We,ye,X,ve){const Ee=(0,E.EW)(ye.original,ye.originalLowercase,X,We,We.toLowerCase(),ve,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return Ee?[Ee[0],(0,E.mB)(Ee)]:g}const n=Object.freeze({score:0});function c(We){const ye=We.sort((Ee,Oe)=>Ee.start-Oe.start),X=[];let ve;for(const Ee of ye)!ve||!u(ve,Ee)?(ve=Ee,X.push(Ee)):(ve.start=Math.min(ve.start,Ee.start),ve.end=Math.max(ve.end,Ee.end));return X}function u(We,ye){return!(We.end<ye.start||ye.end<We.start)}function l(We){return We.startsWith('"')&&We.endsWith('"')}const D=" ";function f(We){typeof We!="string"&&(We="");const ye=We.toLowerCase(),{pathNormalized:X,normalized:ve,normalizedLowercase:Ee}=y(We),Oe=X.indexOf(R.ir)>=0,Ke=l(We);let Qe;const fe=We.split(D);if(fe.length>1)for(const $ of fe){const le=l($),{pathNormalized:De,normalized:xe,normalizedLowercase:Ce}=y($);xe&&(Qe||(Qe=[]),Qe.push({original:$,originalLowercase:$.toLowerCase(),pathNormalized:De,normalized:xe,normalizedLowercase:Ce,expectContiguousMatch:le}))}return{original:We,originalLowercase:ye,pathNormalized:X,normalized:ve,normalizedLowercase:Ee,values:Qe,containsPathSeparator:Oe,expectContiguousMatch:Ke}}function y(We){let ye;w.ED?ye=We.replace(/\//g,R.ir):ye=We.replace(/\\/g,R.ir);const X=(0,m.R1)(ye).replace(/\s|"/g,"");return{pathNormalized:ye,normalized:X,normalizedLowercase:X.toLowerCase()}}function C(We){return Array.isArray(We)?f(We.map(ye=>ye.original).join(D)):f(We.original)}var _=e(45029),N=e(4694),b=e(91895),k=e(15202),V=e(5680),K=e(61652),Z=e(70546),z=e(15864),A=function(We,ye,X,ve){var Ee=arguments.length,Oe=Ee<3?ye:ve===null?ve=Object.getOwnPropertyDescriptor(ye,X):ve,Ke;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Oe=Reflect.decorate(We,ye,X,ve);else for(var Qe=We.length-1;Qe>=0;Qe--)(Ke=We[Qe])&&(Oe=(Ee<3?Ke(Oe):Ee>3?Ke(ye,X,Oe):Ke(ye,X))||Oe);return Ee>3&&Oe&&Object.defineProperty(ye,X,Oe),Oe},P=function(We,ye){return function(X,ve){ye(X,ve,We)}},I;let W=I=class extends V.X{constructor(ye,X,ve=Object.create(null)){super(ve),this._languageFeaturesService=ye,this._outlineModelService=X,this.options=ve,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(ye){return this.provideLabelPick(ye,(0,K.NC)("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),_.JT.None}provideWithTextEditor(ye,X,ve){const Ee=ye.editor,Oe=this.getModel(Ee);return Oe?this._languageFeaturesService.documentSymbolProvider.has(Oe)?this.doProvideWithEditorSymbols(ye,Oe,X,ve):this.doProvideWithoutEditorSymbols(ye,Oe,X,ve):_.JT.None}doProvideWithoutEditorSymbols(ye,X,ve,Ee){const Oe=new _.SL;return this.provideLabelPick(ve,(0,K.NC)("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),Ft(this,null,function*(){!(yield this.waitForLanguageSymbolRegistry(X,Oe))||Ee.isCancellationRequested||Oe.add(this.doProvideWithEditorSymbols(ye,X,ve,Ee))}),Oe}provideLabelPick(ye,X){ye.items=[{label:X,index:0,kind:14}],ye.ariaLabel=X}waitForLanguageSymbolRegistry(ye,X){return Ft(this,null,function*(){if(this._languageFeaturesService.documentSymbolProvider.has(ye))return!0;const ve=new x.CR,Ee=X.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(ye)&&(Ee.dispose(),ve.complete(!0))}));return X.add((0,_.OF)(()=>ve.complete(!1))),ve.p})}doProvideWithEditorSymbols(ye,X,ve,Ee){var Oe;const Ke=ye.editor,Qe=new _.SL;Qe.add(ve.onDidAccept(De=>{const[xe]=ve.selectedItems;xe&&xe.range&&(this.gotoLocation(ye,{range:xe.range.selection,keyMods:ve.keyMods,preserveFocus:De.inBackground}),De.inBackground||ve.hide())})),Qe.add(ve.onDidTriggerItemButton(({item:De})=>{De&&De.range&&(this.gotoLocation(ye,{range:De.range.selection,keyMods:ve.keyMods,forceSideBySide:!0}),ve.hide())}));const fe=this.getDocumentSymbols(X,Ee);let $;const le=De=>Ft(this,null,function*(){$==null||$.dispose(!0),ve.busy=!1,$=new O.AU(Ee),ve.busy=!0;try{const xe=f(ve.value.substr(I.PREFIX.length).trim()),Ce=yield this.doGetSymbolPicks(fe,xe,void 0,$.token);if(Ee.isCancellationRequested)return;if(Ce.length>0){if(ve.items=Ce,De&&xe.original.length===0){const me=(0,z.dF)(Ce,be=>!!(be.type!=="separator"&&be.range&&N.e.containsPosition(be.range.decoration,De)));me&&(ve.activeItems=[me])}}else xe.original.length>0?this.provideLabelPick(ve,(0,K.NC)("noMatchingSymbolResults","No matching editor symbols")):this.provideLabelPick(ve,(0,K.NC)("noSymbolResults","No editor symbols"))}finally{Ee.isCancellationRequested||(ve.busy=!1)}});return Qe.add(ve.onDidChangeValue(()=>le(void 0))),le((Oe=Ke.getSelection())===null||Oe===void 0?void 0:Oe.getPosition()),Qe.add(ve.onDidChangeActive(()=>{const[De]=ve.activeItems;De&&De.range&&(Ke.revealRangeInCenter(De.range.selection,0),this.addDecorations(Ke,De.range.decoration))})),Qe}doGetSymbolPicks(ye,X,ve,Ee){return Ft(this,null,function*(){var Oe,Ke;const Qe=yield ye;if(Ee.isCancellationRequested)return[];const fe=X.original.indexOf(I.SCOPE_PREFIX)===0,$=fe?1:0;let le,De;X.values&&X.values.length>1?(le=C(X.values[0]),De=C(X.values.slice(1))):le=X;let xe;const Ce=(Ke=(Oe=this.options)===null||Oe===void 0?void 0:Oe.openSideBySideDirection)===null||Ke===void 0?void 0:Ke.call(Oe);Ce&&(xe=[{iconClass:Ce==="right"?p.k.asClassName(S.l.splitHorizontal):p.k.asClassName(S.l.splitVertical),tooltip:Ce==="right"?(0,K.NC)("openToSide","Open to the Side"):(0,K.NC)("openToBottom","Open to the Bottom")}]);const me=[];for(let ue=0;ue<Qe.length;ue++){const de=Qe[ue],Se=(0,m.fy)(de.name),Te=`$(${b.uZ.toIcon(de.kind).id}) ${Se}`,Ae=Te.length-Se.length;let pe=de.containerName;ve!=null&&ve.extraContainerLabel&&(pe?pe=`${ve.extraContainerLabel} \u2022 ${pe}`:pe=ve.extraContainerLabel);let je,ot,xt,jt;if(X.original.length>$){let ti=!1;if(le!==X&&([je,ot]=a(Te,Ki(vi({},X),{values:void 0}),$,Ae),typeof je=="number"&&(ti=!0)),typeof je!="number"&&([je,ot]=a(Te,le,$,Ae),typeof je!="number"))continue;if(!ti&&De){if(pe&&De.original.length>0&&([xt,jt]=a(pe,De)),typeof xt!="number")continue;typeof je=="number"&&(je+=xt)}}const oi=de.tags&&de.tags.indexOf(1)>=0;me.push({index:ue,kind:de.kind,score:je,label:Te,ariaLabel:(0,b.R4)(de.name,de.kind),description:pe,highlights:oi?void 0:{label:ot,description:jt},range:{selection:N.e.collapseToStart(de.selectionRange),decoration:de.range},strikethrough:oi,buttons:xe})}const be=me.sort((ue,de)=>fe?this.compareByKindAndScore(ue,de):this.compareByScore(ue,de));let oe=[];if(fe){let Te=function(){de&&typeof ue=="number"&&Se>0&&(de.label=(0,m.WU)(j[ue]||G,Se))},ue,de,Se=0;for(const Ae of be)ue!==Ae.kind?(Te(),ue=Ae.kind,Se=1,de={type:"separator"},oe.push(de)):Se++,oe.push(Ae);Te()}else be.length>0&&(oe=[{label:(0,K.NC)("symbols","symbols ({0})",me.length),type:"separator"},...be]);return oe})}compareByScore(ye,X){if(typeof ye.score!="number"&&typeof X.score=="number")return 1;if(typeof ye.score=="number"&&typeof X.score!="number")return-1;if(typeof ye.score=="number"&&typeof X.score=="number"){if(ye.score>X.score)return-1;if(ye.score<X.score)return 1}return ye.index<X.index?-1:ye.index>X.index?1:0}compareByKindAndScore(ye,X){const ve=j[ye.kind]||G,Ee=j[X.kind]||G,Oe=ve.localeCompare(Ee);return Oe===0?this.compareByScore(ye,X):Oe}getDocumentSymbols(ye,X){return Ft(this,null,function*(){const ve=yield this._outlineModelService.getOrCreate(ye,X);return X.isCancellationRequested?[]:ve.asListOfDocumentSymbols()})}};W.PREFIX="@",W.SCOPE_PREFIX=":",W.PREFIX_BY_CATEGORY=`${I.PREFIX}${I.SCOPE_PREFIX}`,W=I=A([P(0,Z.p),P(1,k.Je)],W);const G=(0,K.NC)("property","properties ({0})"),j={5:(0,K.NC)("method","methods ({0})"),11:(0,K.NC)("function","functions ({0})"),8:(0,K.NC)("_constructor","constructors ({0})"),12:(0,K.NC)("variable","variables ({0})"),4:(0,K.NC)("class","classes ({0})"),22:(0,K.NC)("struct","structs ({0})"),23:(0,K.NC)("event","events ({0})"),24:(0,K.NC)("operator","operators ({0})"),10:(0,K.NC)("interface","interfaces ({0})"),2:(0,K.NC)("namespace","namespaces ({0})"),3:(0,K.NC)("package","packages ({0})"),25:(0,K.NC)("typeParameter","type parameters ({0})"),1:(0,K.NC)("modules","modules ({0})"),6:(0,K.NC)("property","properties ({0})"),9:(0,K.NC)("enum","enumerations ({0})"),21:(0,K.NC)("enumMember","enumeration members ({0})"),14:(0,K.NC)("string","strings ({0})"),0:(0,K.NC)("file","files ({0})"),17:(0,K.NC)("array","arrays ({0})"),15:(0,K.NC)("number","numbers ({0})"),16:(0,K.NC)("boolean","booleans ({0})"),18:(0,K.NC)("object","objects ({0})"),19:(0,K.NC)("key","keys ({0})"),7:(0,K.NC)("field","fields ({0})"),13:(0,K.NC)("constant","constants ({0})")};var Y=e(2816),H=e(1430),Q=e(89226),ie=e(85096),te=e(79329),se=e(92635),ne=e(22706),ee=e(86773),re=function(We,ye,X,ve){var Ee=arguments.length,Oe=Ee<3?ye:ve===null?ve=Object.getOwnPropertyDescriptor(ye,X):ve,Ke;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Oe=Reflect.decorate(We,ye,X,ve);else for(var Qe=We.length-1;Qe>=0;Qe--)(Ke=We[Qe])&&(Oe=(Ee<3?Ke(Oe):Ee>3?Ke(ye,X,Oe):Ke(ye,X))||Oe);return Ee>3&&Oe&&Object.defineProperty(ye,X,Oe),Oe},he=function(We,ye){return function(X,ve){ye(X,ve,We)}};let M=class extends W{constructor(ye,X,ve){super(X,ve),this.editorService=ye,this.onDidActiveTextEditorControlChange=te.ju.None}get activeTextEditorControl(){var ye;return(ye=this.editorService.getFocusedCodeEditor())!==null&&ye!==void 0?ye:void 0}};M=re([he(0,Q.$),he(1,Z.p),he(2,k.Je)],M);class we extends se.R6{constructor(){super({id:we.ID,label:ie.aq.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:ne.u.hasDocumentSymbolProvider,kbOpts:{kbExpr:ne.u.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(ye){ye.get(ee.eJ).quickAccess.show(W.PREFIX,{itemActivation:ee.jG.NONE})}}we.ID="editor.action.quickOutline",(0,se.Qr)(we),Y.B.as(H.IP.Quickaccess).registerQuickAccessProvider({ctor:M,prefix:W.PREFIX,helpEntries:[{description:ie.aq.quickOutlineActionLabel,prefix:W.PREFIX,commandId:we.ID},{description:ie.aq.quickOutlineByCategoryActionLabel,prefix:W.PREFIX_BY_CATEGORY}]})},33811:function(et,Le,e){"use strict";var o=e(2816),B=e(1430),x=e(85096),O=e(61652),S=e(45029),p=e(66070),E=e(86773),R=function(a,r,i,n){var c=arguments.length,u=c<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,i):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(a,r,i,n);else for(var D=a.length-1;D>=0;D--)(l=a[D])&&(u=(c<3?l(u):c>3?l(r,i,u):l(r,i))||u);return c>3&&u&&Object.defineProperty(r,i,u),u},w=function(a,r){return function(i,n){r(i,n,a)}},m;let g=m=class{constructor(r,i){this.quickInputService=r,this.keybindingService=i,this.registry=o.B.as(B.IP.Quickaccess)}provide(r){const i=new S.SL;return i.add(r.onDidAccept(()=>{const[n]=r.selectedItems;n&&this.quickInputService.quickAccess.show(n.prefix,{preserveValue:!0})})),i.add(r.onDidChangeValue(n=>{const c=this.registry.getQuickAccessProvider(n.substr(m.PREFIX.length));c&&c.prefix&&c.prefix!==m.PREFIX&&this.quickInputService.quickAccess.show(c.prefix,{preserveValue:!0})})),r.items=this.getQuickAccessProviders().filter(n=>n.prefix!==m.PREFIX),i}getQuickAccessProviders(){return this.registry.getQuickAccessProviders().sort((i,n)=>i.prefix.localeCompare(n.prefix)).flatMap(i=>this.createPicks(i))}createPicks(r){return r.helpEntries.map(i=>{const n=i.prefix||r.prefix,c=n||"\u2026";return{prefix:n,label:c,keybinding:i.commandId?this.keybindingService.lookupKeybinding(i.commandId):void 0,ariaLabel:(0,O.NC)("helpPickAriaLabel","{0}, {1}",c,i.description),description:i.description}})}};g.PREFIX="?",g=m=R([w(0,E.eJ),w(1,p.d)],g),o.B.as(B.IP.Quickaccess).registerQuickAccessProvider({ctor:g,prefix:"",helpEntries:[{description:x.ld.helpQuickAccessActionLabel}]})},39729:function(et,Le,e){"use strict";var o=e(92635),B=e(89226),x=e(44069),O=e(48774),S=e(80568),p=e(87058),E=e(52994),R=e(10783),w=function(a,r,i,n){var c=arguments.length,u=c<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,i):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(a,r,i,n);else for(var D=a.length-1;D>=0;D--)(l=a[D])&&(u=(c<3?l(u):c>3?l(r,i,u):l(r,i))||u);return c>3&&u&&Object.defineProperty(r,i,u),u},m=function(a,r){return function(i,n){r(i,n,a)}};let g=class extends x.J{constructor(r,i,n,c,u,l,D){super(!0,r,i,n,c,u,l,D)}};g=w([m(1,S.i6),m(2,B.$),m(3,E.lT),m(4,p.TG),m(5,R.Uy),m(6,O.Ui)],g),(0,o._K)(x.J.ID,g,4)},11093:function(et,Le,e){"use strict";e.d(Le,{kR:function(){return j},MU:function(){return Y},nI:function(){return ee},rW:function(){return G},TG:function(){return W}});var o=e(91540),B=e(18119),x=e(64707),O=e(79329),S=e(91895),p=e(87597);class E{constructor(he,M,we,We,ye){this._parsedThemeRuleBrand=void 0,this.token=he,this.index=M,this.fontStyle=we,this.foreground=We,this.background=ye}}function R(re){if(!re||!Array.isArray(re))return[];const he=[];let M=0;for(let we=0,We=re.length;we<We;we++){const ye=re[we];let X=-1;if(typeof ye.fontStyle=="string"){X=0;const Oe=ye.fontStyle.split(" ");for(let Ke=0,Qe=Oe.length;Ke<Qe;Ke++)switch(Oe[Ke]){case"italic":X=X|1;break;case"bold":X=X|2;break;case"underline":X=X|4;break;case"strikethrough":X=X|8;break}}let ve=null;typeof ye.foreground=="string"&&(ve=ye.foreground);let Ee=null;typeof ye.background=="string"&&(Ee=ye.background),he[M++]=new E(ye.token||"",we,X,ve,Ee)}return he}function w(re,he){re.sort((Ke,Qe)=>{const fe=n(Ke.token,Qe.token);return fe!==0?fe:Ke.index-Qe.index});let M=0,we="000000",We="ffffff";for(;re.length>=1&&re[0].token==="";){const Ke=re.shift();Ke.fontStyle!==-1&&(M=Ke.fontStyle),Ke.foreground!==null&&(we=Ke.foreground),Ke.background!==null&&(We=Ke.background)}const ye=new g;for(const Ke of he)ye.getId(Ke);const X=ye.getId(we),ve=ye.getId(We),Ee=new c(M,X,ve),Oe=new u(Ee);for(let Ke=0,Qe=re.length;Ke<Qe;Ke++){const fe=re[Ke];Oe.insert(fe.token,fe.fontStyle,ye.getId(fe.foreground),ye.getId(fe.background))}return new a(ye,Oe)}const m=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class g{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(he){if(he===null)return 0;const M=he.match(m);if(!M)throw new Error("Illegal value for token color: "+he);he=M[1].toUpperCase();let we=this._color2id.get(he);return we||(we=++this._lastColorId,this._color2id.set(he,we),this._id2color[we]=x.Il.fromHex("#"+he),we)}getColorMap(){return this._id2color.slice(0)}}class a{static createFromRawTokenTheme(he,M){return this.createFromParsedTokenTheme(R(he),M)}static createFromParsedTokenTheme(he,M){return w(he,M)}constructor(he,M){this._colorMap=he,this._root=M,this._cache=new Map}getColorMap(){return this._colorMap.getColorMap()}_match(he){return this._root.match(he)}match(he,M){let we=this._cache.get(M);if(typeof we=="undefined"){const We=this._match(M),ye=i(M);we=(We.metadata|ye<<8)>>>0,this._cache.set(M,we)}return(we|he<<0)>>>0}}const r=/\b(comment|string|regex|regexp)\b/;function i(re){const he=re.match(r);if(!he)return 0;switch(he[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}function n(re,he){return re<he?-1:re>he?1:0}class c{constructor(he,M,we){this._themeTrieElementRuleBrand=void 0,this._fontStyle=he,this._foreground=M,this._background=we,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new c(this._fontStyle,this._foreground,this._background)}acceptOverwrite(he,M,we){he!==-1&&(this._fontStyle=he),M!==0&&(this._foreground=M),we!==0&&(this._background=we),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}class u{constructor(he){this._themeTrieElementBrand=void 0,this._mainRule=he,this._children=new Map}match(he){if(he==="")return this._mainRule;const M=he.indexOf(".");let we,We;M===-1?(we=he,We=""):(we=he.substring(0,M),We=he.substring(M+1));const ye=this._children.get(we);return typeof ye!="undefined"?ye.match(We):this._mainRule}insert(he,M,we,We){if(he===""){this._mainRule.acceptOverwrite(M,we,We);return}const ye=he.indexOf(".");let X,ve;ye===-1?(X=he,ve=""):(X=he.substring(0,ye),ve=he.substring(ye+1));let Ee=this._children.get(X);typeof Ee=="undefined"&&(Ee=new u(this._mainRule.clone()),this._children.set(X,Ee)),Ee.insert(ve,M,we,We)}}function l(re){const he=[];for(let M=1,we=re.length;M<we;M++){const We=re[M];he[M]=`.mtk${M} { color: ${We}; }`}return he.push(".mtki { font-style: italic; }"),he.push(".mtkb { font-weight: bold; }"),he.push(".mtku { text-decoration: underline; text-underline-position: under; }"),he.push(".mtks { text-decoration: line-through; }"),he.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),he.join(`
`)}var D=e(44444),f=e(97341);const y={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[f.cvW]:"#FFFFFE",[f.NOs]:"#000000",[f.ES4]:"#E5EBF1",[D.gS]:"#D3D3D3",[D.qe]:"#939393",[f.Rzx]:"#ADD6FF4D"}},C={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[f.cvW]:"#1E1E1E",[f.NOs]:"#D4D4D4",[f.ES4]:"#3A3D41",[D.gS]:"#404040",[D.qe]:"#707070",[f.Rzx]:"#ADD6FF26"}},_={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[f.cvW]:"#000000",[f.NOs]:"#FFFFFF",[D.gS]:"#FFFFFF",[D.qe]:"#FFFFFF"}},N={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[f.cvW]:"#FFFFFF",[f.NOs]:"#292929",[D.gS]:"#292929",[D.qe]:"#292929"}};var b=e(2816),k=e(63279),V=e(45029),K=e(98618),Z=e(68777),z=e(76557);function A(re){const he=new V.SL,M=he.add(new O.Q5),we=(0,z.Ks)();return he.add(we.onDidChange(()=>M.fire())),re&&he.add(re.onDidProductIconThemeChange(()=>M.fire())),{dispose:()=>he.dispose(),onDidChange:M.event,getCSS(){const We=re?re.getProductIconTheme():new P,ye={},X=[],ve=[];for(const Ee of we.getIcons()){const Oe=We.getIcon(Ee);if(!Oe)continue;const Ke=Oe.font,Qe=`--vscode-icon-${Ee.id}-font-family`,fe=`--vscode-icon-${Ee.id}-content`;Ke?(ye[Ke.id]=Ke.definition,ve.push(`${Qe}: ${(0,o._h)(Ke.id)};`,`${fe}: '${Oe.fontCharacter}';`),X.push(`.codicon-${Ee.id}:before { content: '${Oe.fontCharacter}'; font-family: ${(0,o._h)(Ke.id)}; }`)):(ve.push(`${fe}: '${Oe.fontCharacter}'; ${Qe}: 'codicon';`),X.push(`.codicon-${Ee.id}:before { content: '${Oe.fontCharacter}'; }`))}for(const Ee in ye){const Oe=ye[Ee],Ke=Oe.weight?`font-weight: ${Oe.weight};`:"",Qe=Oe.style?`font-style: ${Oe.style};`:"",fe=Oe.src.map($=>`${(0,o.wY)($.location)} format('${$.format}')`).join(", ");X.push(`@font-face { src: ${fe}; font-family: ${(0,o._h)(Ee)};${Ke}${Qe} font-display: block; }`)}return X.push(`:root { ${ve.join(" ")} }`),X.join(`
`)}}}class P{getIcon(he){const M=(0,z.Ks)();let we=he.defaults;for(;Z.k.isThemeIcon(we);){const We=M.getIcon(we.id);if(!We)return;we=We.defaults}return we}}var I=e(44454);const W="vs",G="vs-dark",j="hc-black",Y="hc-light",H=b.B.as(f.IPX.ColorContribution),Q=b.B.as(k.IP.ThemingContribution);class ie{constructor(he,M){this.semanticHighlighting=!1,this.themeData=M;const we=M.base;he.length>0?(te(he)?this.id=he:this.id=we+" "+he,this.themeName=he):(this.id=we,this.themeName=we),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const he=new Map;for(const M in this.themeData.colors)he.set(M,x.Il.fromHex(this.themeData.colors[M]));if(this.themeData.inherit){const M=se(this.themeData.base);for(const we in M.colors)he.has(we)||he.set(we,x.Il.fromHex(M.colors[we]))}this.colors=he}return this.colors}getColor(he,M){const we=this.getColors().get(he);if(we)return we;if(M!==!1)return this.getDefault(he)}getDefault(he){let M=this.defaultColors[he];return M||(M=H.resolveDefaultColor(he,this),this.defaultColors[he]=M,M)}defines(he){return this.getColors().has(he)}get type(){switch(this.base){case W:return K.eL.LIGHT;case j:return K.eL.HIGH_CONTRAST_DARK;case Y:return K.eL.HIGH_CONTRAST_LIGHT;default:return K.eL.DARK}}get tokenTheme(){if(!this._tokenTheme){let he=[],M=[];if(this.themeData.inherit){const ye=se(this.themeData.base);he=ye.rules,ye.encodedTokensColors&&(M=ye.encodedTokensColors)}const we=this.themeData.colors["editor.foreground"],We=this.themeData.colors["editor.background"];if(we||We){const ye={token:""};we&&(ye.foreground=we),We&&(ye.background=We),he.push(ye)}he=he.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(M=this.themeData.encodedTokensColors),this._tokenTheme=a.createFromRawTokenTheme(he,M)}return this._tokenTheme}getTokenStyleMetadata(he,M,we){const ye=this.tokenTheme._match([he].concat(M).join(".")).metadata,X=p.N.getForeground(ye),ve=p.N.getFontStyle(ye);return{foreground:X,italic:!!(ve&1),bold:!!(ve&2),underline:!!(ve&4),strikethrough:!!(ve&8)}}}function te(re){return re===W||re===G||re===j||re===Y}function se(re){switch(re){case W:return y;case G:return C;case j:return _;case Y:return N}}function ne(re){const he=se(re);return new ie(re,he)}class ee extends V.JT{constructor(){super(),this._onColorThemeChange=this._register(new O.Q5),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new O.Q5),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new P,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(W,ne(W)),this._knownThemes.set(G,ne(G)),this._knownThemes.set(j,ne(j)),this._knownThemes.set(Y,ne(Y));const he=this._register(A(this));this._codiconCSS=he.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(W),this._onOSSchemeChanged(),this._register(he.onDidChange(()=>{this._codiconCSS=he.getCSS(),this._updateCSS()})),(0,B.uB)(I.E,"(forced-colors: active)",()=>{this._onOSSchemeChanged()})}registerEditorContainer(he){return o.OO(he)?this._registerShadowDomContainer(he):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=o.dS(void 0,he=>{he.className="monaco-colors",he.textContent=this._allCSS}),this._styleElements.push(this._globalStyleElement)),V.JT.None}_registerShadowDomContainer(he){const M=o.dS(he,we=>{we.className="monaco-colors",we.textContent=this._allCSS});return this._styleElements.push(M),{dispose:()=>{for(let we=0;we<this._styleElements.length;we++)if(this._styleElements[we]===M){this._styleElements.splice(we,1);return}}}}defineTheme(he,M){if(!/^[a-z0-9\-]+$/i.test(he))throw new Error("Illegal theme name!");if(!te(M.base)&&!te(he))throw new Error("Illegal theme base!");this._knownThemes.set(he,new ie(he,M)),te(he)&&this._knownThemes.forEach(we=>{we.base===he&&we.notifyBaseUpdated()}),this._theme.themeName===he&&this.setTheme(he)}getColorTheme(){return this._theme}setColorMapOverride(he){this._colorMapOverride=he,this._updateThemeOrColorMap()}setTheme(he){let M;this._knownThemes.has(he)?M=this._knownThemes.get(he):M=this._knownThemes.get(W),this._updateActualTheme(M)}_updateActualTheme(he){!he||this._theme===he||(this._theme=he,this._updateThemeOrColorMap())}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const he=I.E.matchMedia("(forced-colors: active)").matches;if(he!==(0,K.c3)(this._theme.type)){let M;(0,K._T)(this._theme.type)?M=he?j:G:M=he?Y:W,this._updateActualTheme(this._knownThemes.get(M))}}}setAutoDetectHighContrast(he){this._autoDetectHighContrast=he,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const he=[],M={},we={addRule:X=>{M[X]||(he.push(X),M[X]=!0)}};Q.getThemingParticipants().forEach(X=>X(this._theme,we,this._environment));const We=[];for(const X of H.getColors()){const ve=this._theme.getColor(X.id,!0);ve&&We.push(`${(0,f.QO2)(X.id)}: ${ve.toString()};`)}we.addRule(`.monaco-editor, .monaco-diff-editor, .monaco-component { ${We.join(`
`)} }`);const ye=this._colorMapOverride||this._theme.tokenTheme.getColorMap();we.addRule(l(ye)),this._themeCSS=he.join(`
`),this._updateCSS(),S.RW.setColorMap(ye),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(he=>he.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}},74950:function(et,Le,e){"use strict";var o=e(92635),B=e(64657),x=e(85096),O=e(98618),S=e(11093);class p extends o.R6{constructor(){super({id:"editor.action.toggleHighContrast",label:x.xi.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(R,w){const m=R.get(B.Z),g=m.getColorTheme();(0,O.c3)(g.type)?(m.setTheme(this._originalThemeName||((0,O._T)(g.type)?S.rW:S.TG)),this._originalThemeName=null):(m.setTheme((0,O._T)(g.type)?S.kR:S.MU),this._originalThemeName=g.themeName)}}(0,o.Qr)(p)},64657:function(et,Le,e){"use strict";e.d(Le,{Z:function(){return B}});var o=e(87058);const B=(0,o.yh)("themeService")},8252:function(et,Le,e){"use strict";var o=e(52654);var B=Object.defineProperty,x=Object.getOwnPropertyDescriptor,O=Object.getOwnPropertyNames,S=Object.prototype.hasOwnProperty,p=(c,u,l,D)=>{if(u&&typeof u=="object"||typeof u=="function")for(let f of O(u))!S.call(c,f)&&f!==l&&B(c,f,{get:()=>u[f],enumerable:!(D=x(u,f))||D.enumerable});return c},E=(c,u,l)=>(p(c,u,"default"),l&&p(l,u,"default")),R={};E(R,o);var w=class{constructor(c,u,l){this._onDidChange=new R.Emitter,this._languageId=c,this.setOptions(u),this.setModeConfiguration(l)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(c){this._options=c||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(c){this.setOptions(c)}setModeConfiguration(c){this._modeConfiguration=c||Object.create(null),this._onDidChange.fire(this)}},m={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0},format:{newlineBetweenSelectors:!0,newlineBetweenRules:!0,spaceAroundSelectorSeparator:!1,braceStyle:"collapse",maxPreserveNewLines:void 0,preserveNewLines:!0}},g={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0,documentFormattingEdits:!0,documentRangeFormattingEdits:!0},a=new w("css",m,g),r=new w("scss",m,g),i=new w("less",m,g);R.languages.css={cssDefaults:a,lessDefaults:i,scssDefaults:r};function n(){return e.e(9959).then(e.bind(e,59959))}R.languages.onLanguage("less",()=>{n().then(c=>c.setupMode(i))}),R.languages.onLanguage("scss",()=>{n().then(c=>c.setupMode(r))}),R.languages.onLanguage("css",()=>{n().then(c=>c.setupMode(a))})},41443:function(et,Le,e){"use strict";var o=e(52654);var B=Object.defineProperty,x=Object.getOwnPropertyDescriptor,O=Object.getOwnPropertyNames,S=Object.prototype.hasOwnProperty,p=(N,b,k,V)=>{if(b&&typeof b=="object"||typeof b=="function")for(let K of O(b))!S.call(N,K)&&K!==k&&B(N,K,{get:()=>b[K],enumerable:!(V=x(b,K))||V.enumerable});return N},E=(N,b,k)=>(p(N,b,"default"),k&&p(k,b,"default")),R={};E(R,o);var w=class{constructor(N,b,k){this._onDidChange=new R.Emitter,this._languageId=N,this.setOptions(b),this.setModeConfiguration(k)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(N){this._options=N||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(N){this._modeConfiguration=N||Object.create(null),this._onDidChange.fire(this)}},m={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},g={format:m,suggest:{},data:{useDefaultDataProvider:!0}};function a(N){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:N===r,documentFormattingEdits:N===r,documentRangeFormattingEdits:N===r}}var r="html",i="handlebars",n="razor",c=_(r,g,a(r)),u=c.defaults,l=_(i,g,a(i)),D=l.defaults,f=_(n,g,a(n)),y=f.defaults;R.languages.html={htmlDefaults:u,razorDefaults:y,handlebarDefaults:D,htmlLanguageService:c,handlebarLanguageService:l,razorLanguageService:f,registerHTMLLanguageService:_};function C(){return e.e(2940).then(e.bind(e,2940))}function _(N,b=g,k=a(N)){const V=new w(N,b,k);let K;const Z=R.languages.onLanguage(N,()=>Ft(this,null,function*(){K=(yield C()).setupMode(V)}));return{defaults:V,dispose(){Z.dispose(),K==null||K.dispose(),K=void 0}}}},4050:function(et,Le,e){"use strict";var o=e(52654);var B=class{constructor(R,w,m){this._onDidChange=new o.Emitter,this._languageId=R,this.setDiagnosticsOptions(w),this.setModeConfiguration(m)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(R){this._diagnosticsOptions=R||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(R){this._modeConfiguration=R||Object.create(null),this._onDidChange.fire(this)}},x={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},O={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},S=new B("json",x,O),p=()=>E().then(R=>R.getWorker());o.languages.json={jsonDefaults:S,getWorker:p};function E(){return e.e(5263).then(e.bind(e,15263))}o.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),o.languages.onLanguage("json",()=>{E().then(R=>R.setupMode(S))})},76381:function(et,Le,e){"use strict";e.d(Le,{TG:function(){return l}});var o=e(52654);var B=Object.defineProperty,x=Object.getOwnPropertyDescriptor,O=Object.getOwnPropertyNames,S=Object.prototype.hasOwnProperty,p=(_,N,b,k)=>{if(N&&typeof N=="object"||typeof N=="function")for(let V of O(N))!S.call(_,V)&&V!==b&&B(_,V,{get:()=>N[V],enumerable:!(k=x(N,V))||k.enumerable});return _},E=(_,N,b)=>(p(_,N,"default"),b&&p(b,N,"default")),R="5.0.2",w={};E(w,o);var m=(_=>(_[_.None=0]="None",_[_.CommonJS=1]="CommonJS",_[_.AMD=2]="AMD",_[_.UMD=3]="UMD",_[_.System=4]="System",_[_.ES2015=5]="ES2015",_[_.ESNext=99]="ESNext",_))(m||{}),g=(_=>(_[_.None=0]="None",_[_.Preserve=1]="Preserve",_[_.React=2]="React",_[_.ReactNative=3]="ReactNative",_[_.ReactJSX=4]="ReactJSX",_[_.ReactJSXDev=5]="ReactJSXDev",_))(g||{}),a=(_=>(_[_.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",_[_.LineFeed=1]="LineFeed",_))(a||{}),r=(_=>(_[_.ES3=0]="ES3",_[_.ES5=1]="ES5",_[_.ES2015=2]="ES2015",_[_.ES2016=3]="ES2016",_[_.ES2017=4]="ES2017",_[_.ES2018=5]="ES2018",_[_.ES2019=6]="ES2019",_[_.ES2020=7]="ES2020",_[_.ESNext=99]="ESNext",_[_.JSON=100]="JSON",_[_.Latest=99]="Latest",_))(r||{}),i=(_=>(_[_.Classic=1]="Classic",_[_.NodeJs=2]="NodeJs",_))(i||{}),n=class{constructor(_,N,b,k,V){this._onDidChange=new w.Emitter,this._onDidExtraLibsChange=new w.Emitter,this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(_),this.setDiagnosticsOptions(N),this.setWorkerOptions(b),this.setInlayHintsOptions(k),this.setModeConfiguration(V),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get modeConfiguration(){return this._modeConfiguration}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(_,N){let b;if(typeof N=="undefined"?b=`ts:extralib-${Math.random().toString(36).substring(2,15)}`:b=N,this._extraLibs[b]&&this._extraLibs[b].content===_)return{dispose:()=>{}};let k=1;return this._removedExtraLibs[b]&&(k=this._removedExtraLibs[b]+1),this._extraLibs[b]&&(k=this._extraLibs[b].version+1),this._extraLibs[b]={content:_,version:k},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let V=this._extraLibs[b];V&&V.version===k&&(delete this._extraLibs[b],this._removedExtraLibs[b]=k,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(_){for(const N in this._extraLibs)this._removedExtraLibs[N]=this._extraLibs[N].version;if(this._extraLibs=Object.create(null),_&&_.length>0)for(const N of _){const b=N.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`,k=N.content;let V=1;this._removedExtraLibs[b]&&(V=this._removedExtraLibs[b]+1),this._extraLibs[b]={content:k,version:V}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(_){this._compilerOptions=_||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(_){this._diagnosticsOptions=_||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(_){this._workerOptions=_||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(_){this._inlayHintsOptions=_||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(_){}setEagerModelSync(_){this._eagerModelSync=_}getEagerModelSync(){return this._eagerModelSync}setModeConfiguration(_){this._modeConfiguration=_||Object.create(null),this._onDidChange.fire(void 0)}},c=R,u={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,diagnostics:!0,documentRangeFormattingEdits:!0,signatureHelp:!0,onTypeFormattingEdits:!0,codeActions:!0,inlayHints:!0},l=new n({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{},u),D=new n({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{},u),f=()=>C().then(_=>_.getTypeScriptWorker()),y=()=>C().then(_=>_.getJavaScriptWorker());w.languages.typescript={ModuleKind:m,JsxEmit:g,NewLineKind:a,ScriptTarget:r,ModuleResolutionKind:i,typescriptVersion:c,typescriptDefaults:l,javascriptDefaults:D,getTypeScriptWorker:f,getJavaScriptWorker:y};function C(){return e.e(7541).then(e.bind(e,27541))}w.languages.onLanguage("typescript",()=>C().then(_=>_.setupTypeScript(l))),w.languages.onLanguage("javascript",()=>C().then(_=>_.setupJavaScript(D)))},61652:function(et,Le,e){"use strict";e.d(Le,{NC:function(){return w},aj:function(){return g},vv:function(){return m}});let o=typeof document!="undefined"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;const B="i-default";function x(n,c){let u;return c.length===0?u=n:u=n.replace(/\{(\d+)\}/g,(l,D)=>{const f=D[0],y=c[f];let C=l;return typeof y=="string"?C=y:(typeof y=="number"||typeof y=="boolean"||y===void 0||y===null)&&(C=String(y)),C}),o&&(u="\uFF3B"+u.replace(/[aouei]/g,"$&$&")+"\uFF3D"),u}function O(n,c){let u=n[c];return u||(u=n["*"],u)?u:null}function S(n){return n.charAt(n.length-1)==="/"?n:n+"/"}function p(n,c,u){return Ft(this,null,function*(){const l=S(n)+S(c)+"vscode/"+S(u),D=yield fetch(l);if(D.ok)return yield D.json();throw new Error(`${D.status} - ${D.statusText}`)})}function E(n){return function(c,u){const l=Array.prototype.slice.call(arguments,2);return x(n[c],l)}}function R(n){return(c,u,...l)=>({value:x(n[c],l),original:x(u,l)})}function w(n,c,...u){return x(c,u)}function m(n,c,...u){const l=x(c,u);return{value:l,original:l}}function g(n){}function a(n){o=n}function r(n,c){var u;return{localize:E(c[n]),localize2:R(c[n]),getConfiguredDefaultLocale:(u=c.getConfiguredDefaultLocale)!==null&&u!==void 0?u:l=>{}}}function i(n,c,u,l){var D;const f=(D=l["vs/nls"])!==null&&D!==void 0?D:{};if(!n||n.length===0)return u({localize:w,localize2:m,getConfiguredDefaultLocale:()=>{var b;return(b=f.availableLanguages)===null||b===void 0?void 0:b["*"]}});const y=f.availableLanguages?O(f.availableLanguages,n):null,C=y===null||y===B;let _=".nls";C||(_=_+"."+y);const N=b=>{Array.isArray(b)?(b.localize=E(b),b.localize2=R(b)):(b.localize=E(b[n]),b.localize2=R(b[n])),b.getConfiguredDefaultLocale=()=>{var k;return(k=f.availableLanguages)===null||k===void 0?void 0:k["*"]},u(b)};typeof f.loadBundle=="function"?f.loadBundle(n,y,(b,k)=>{b?c([n+".nls"],N):N(k)}):f.translationServiceUrl&&!C?Ft(this,null,function*(){var b;try{const k=yield p(f.translationServiceUrl,y,n);return N(k)}catch(k){if(!y.includes("-"))return console.error(k),c([n+".nls"],N);try{const V=y.split("-")[0],K=yield p(f.translationServiceUrl,V,n);return(b=f.availableLanguages)!==null&&b!==void 0||(f.availableLanguages={}),f.availableLanguages["*"]=V,N(K)}catch(V){return console.error(V),c([n+".nls"],N)}}}):c([n+_],N,b=>{if(_===".nls"){console.error("Failed trying to load default language strings",b);return}console.error(`Failed to load message bundle for language ${y}. Falling back to the default language:`,b),c([n+".nls"],N)})}},84935:function(et,Le,e){"use strict";e.d(Le,{F:function(){return x},U:function(){return O}});var o=e(80568),B=e(87058);const x=(0,B.yh)("accessibilityService"),O=new o.uy("accessibilityModeEnabled",!1)},75881:function(et,Le,e){"use strict";e.d(Le,{IV:function(){return x},iP:function(){return E}});var o=e(61652),B=e(87058);const x=(0,B.yh)("accessibilitySignalService"),O=Symbol("AcknowledgeDocCommentsToken");class S{static register(w){return new S(w.fileName)}constructor(w){this.fileName=w}}S.error=S.register({fileName:"error.mp3"}),S.warning=S.register({fileName:"warning.mp3"}),S.foldedArea=S.register({fileName:"foldedAreas.mp3"}),S.break=S.register({fileName:"break.mp3"}),S.quickFixes=S.register({fileName:"quickFixes.mp3"}),S.taskCompleted=S.register({fileName:"taskCompleted.mp3"}),S.taskFailed=S.register({fileName:"taskFailed.mp3"}),S.terminalBell=S.register({fileName:"terminalBell.mp3"}),S.diffLineInserted=S.register({fileName:"diffLineInserted.mp3"}),S.diffLineDeleted=S.register({fileName:"diffLineDeleted.mp3"}),S.diffLineModified=S.register({fileName:"diffLineModified.mp3"}),S.chatRequestSent=S.register({fileName:"chatRequestSent.mp3"}),S.chatResponseReceived1=S.register({fileName:"chatResponseReceived1.mp3"}),S.chatResponseReceived2=S.register({fileName:"chatResponseReceived2.mp3"}),S.chatResponseReceived3=S.register({fileName:"chatResponseReceived3.mp3"}),S.chatResponseReceived4=S.register({fileName:"chatResponseReceived4.mp3"}),S.clear=S.register({fileName:"clear.mp3"}),S.save=S.register({fileName:"save.mp3"}),S.format=S.register({fileName:"format.mp3"}),S.voiceRecordingStarted=S.register({fileName:"voiceRecordingStarted.mp3"}),S.voiceRecordingStopped=S.register({fileName:"voiceRecordingStopped.mp3"}),S.progress=S.register({fileName:"progress.mp3"});class p{constructor(w){this.randomOneOf=w}}class E{constructor(w,m,g,a,r,i){this.sound=w,this.name=m,this.legacySoundSettingsKey=g,this.settingsKey=a,this.legacyAnnouncementSettingsKey=r,this.announcementMessage=i}static register(w){const m=new p("randomOneOf"in w.sound?w.sound.randomOneOf:[w.sound]),g=new E(m,w.name,w.legacySoundSettingsKey,w.settingsKey,w.legacyAnnouncementSettingsKey,w.announcementMessage);return E._signals.add(g),g}}E._signals=new Set,E.errorAtPosition=E.register({name:(0,o.NC)("accessibilitySignals.positionHasError.name","Error at Position"),sound:S.error,announcementMessage:(0,o.NC)("accessibility.signals.positionHasError","Error"),settingsKey:"accessibility.signals.positionHasError"}),E.warningAtPosition=E.register({name:(0,o.NC)("accessibilitySignals.positionHasWarning.name","Warning at Position"),sound:S.warning,announcementMessage:(0,o.NC)("accessibility.signals.positionHasWarning","Warning"),settingsKey:"accessibility.signals.positionHasWarning"}),E.errorOnLine=E.register({name:(0,o.NC)("accessibilitySignals.lineHasError.name","Error on Line"),sound:S.error,legacySoundSettingsKey:"audioCues.lineHasError",legacyAnnouncementSettingsKey:"accessibility.alert.error",announcementMessage:(0,o.NC)("accessibility.signals.lineHasError","Error on Line"),settingsKey:"accessibility.signals.lineHasError"}),E.warningOnLine=E.register({name:(0,o.NC)("accessibilitySignals.lineHasWarning.name","Warning on Line"),sound:S.warning,legacySoundSettingsKey:"audioCues.lineHasWarning",legacyAnnouncementSettingsKey:"accessibility.alert.warning",announcementMessage:(0,o.NC)("accessibility.signals.lineHasWarning","Warning on Line"),settingsKey:"accessibility.signals.lineHasWarning"}),E.foldedArea=E.register({name:(0,o.NC)("accessibilitySignals.lineHasFoldedArea.name","Folded Area on Line"),sound:S.foldedArea,legacySoundSettingsKey:"audioCues.lineHasFoldedArea",legacyAnnouncementSettingsKey:"accessibility.alert.foldedArea",announcementMessage:(0,o.NC)("accessibility.signals.lineHasFoldedArea","Folded"),settingsKey:"accessibility.signals.lineHasFoldedArea"}),E.break=E.register({name:(0,o.NC)("accessibilitySignals.lineHasBreakpoint.name","Breakpoint on Line"),sound:S.break,legacySoundSettingsKey:"audioCues.lineHasBreakpoint",legacyAnnouncementSettingsKey:"accessibility.alert.breakpoint",announcementMessage:(0,o.NC)("accessibility.signals.lineHasBreakpoint","Breakpoint"),settingsKey:"accessibility.signals.lineHasBreakpoint"}),E.inlineSuggestion=E.register({name:(0,o.NC)("accessibilitySignals.lineHasInlineSuggestion.name","Inline Suggestion on Line"),sound:S.quickFixes,legacySoundSettingsKey:"audioCues.lineHasInlineSuggestion",settingsKey:"accessibility.signals.lineHasInlineSuggestion"}),E.terminalQuickFix=E.register({name:(0,o.NC)("accessibilitySignals.terminalQuickFix.name","Terminal Quick Fix"),sound:S.quickFixes,legacySoundSettingsKey:"audioCues.terminalQuickFix",legacyAnnouncementSettingsKey:"accessibility.alert.terminalQuickFix",announcementMessage:(0,o.NC)("accessibility.signals.terminalQuickFix","Quick Fix"),settingsKey:"accessibility.signals.terminalQuickFix"}),E.onDebugBreak=E.register({name:(0,o.NC)("accessibilitySignals.onDebugBreak.name","Debugger Stopped on Breakpoint"),sound:S.break,legacySoundSettingsKey:"audioCues.onDebugBreak",legacyAnnouncementSettingsKey:"accessibility.alert.onDebugBreak",announcementMessage:(0,o.NC)("accessibility.signals.onDebugBreak","Breakpoint"),settingsKey:"accessibility.signals.onDebugBreak"}),E.noInlayHints=E.register({name:(0,o.NC)("accessibilitySignals.noInlayHints","No Inlay Hints on Line"),sound:S.error,legacySoundSettingsKey:"audioCues.noInlayHints",legacyAnnouncementSettingsKey:"accessibility.alert.noInlayHints",announcementMessage:(0,o.NC)("accessibility.signals.noInlayHints","No Inlay Hints"),settingsKey:"accessibility.signals.noInlayHints"}),E.taskCompleted=E.register({name:(0,o.NC)("accessibilitySignals.taskCompleted","Task Completed"),sound:S.taskCompleted,legacySoundSettingsKey:"audioCues.taskCompleted",legacyAnnouncementSettingsKey:"accessibility.alert.taskCompleted",announcementMessage:(0,o.NC)("accessibility.signals.taskCompleted","Task Completed"),settingsKey:"accessibility.signals.taskCompleted"}),E.taskFailed=E.register({name:(0,o.NC)("accessibilitySignals.taskFailed","Task Failed"),sound:S.taskFailed,legacySoundSettingsKey:"audioCues.taskFailed",legacyAnnouncementSettingsKey:"accessibility.alert.taskFailed",announcementMessage:(0,o.NC)("accessibility.signals.taskFailed","Task Failed"),settingsKey:"accessibility.signals.taskFailed"}),E.terminalCommandFailed=E.register({name:(0,o.NC)("accessibilitySignals.terminalCommandFailed","Terminal Command Failed"),sound:S.error,legacySoundSettingsKey:"audioCues.terminalCommandFailed",legacyAnnouncementSettingsKey:"accessibility.alert.terminalCommandFailed",announcementMessage:(0,o.NC)("accessibility.signals.terminalCommandFailed","Command Failed"),settingsKey:"accessibility.signals.terminalCommandFailed"}),E.terminalBell=E.register({name:(0,o.NC)("accessibilitySignals.terminalBell","Terminal Bell"),sound:S.terminalBell,legacySoundSettingsKey:"audioCues.terminalBell",legacyAnnouncementSettingsKey:"accessibility.alert.terminalBell",announcementMessage:(0,o.NC)("accessibility.signals.terminalBell","Terminal Bell"),settingsKey:"accessibility.signals.terminalBell"}),E.notebookCellCompleted=E.register({name:(0,o.NC)("accessibilitySignals.notebookCellCompleted","Notebook Cell Completed"),sound:S.taskCompleted,legacySoundSettingsKey:"audioCues.notebookCellCompleted",legacyAnnouncementSettingsKey:"accessibility.alert.notebookCellCompleted",announcementMessage:(0,o.NC)("accessibility.signals.notebookCellCompleted","Notebook Cell Completed"),settingsKey:"accessibility.signals.notebookCellCompleted"}),E.notebookCellFailed=E.register({name:(0,o.NC)("accessibilitySignals.notebookCellFailed","Notebook Cell Failed"),sound:S.taskFailed,legacySoundSettingsKey:"audioCues.notebookCellFailed",legacyAnnouncementSettingsKey:"accessibility.alert.notebookCellFailed",announcementMessage:(0,o.NC)("accessibility.signals.notebookCellFailed","Notebook Cell Failed"),settingsKey:"accessibility.signals.notebookCellFailed"}),E.diffLineInserted=E.register({name:(0,o.NC)("accessibilitySignals.diffLineInserted","Diff Line Inserted"),sound:S.diffLineInserted,legacySoundSettingsKey:"audioCues.diffLineInserted",settingsKey:"accessibility.signals.diffLineInserted"}),E.diffLineDeleted=E.register({name:(0,o.NC)("accessibilitySignals.diffLineDeleted","Diff Line Deleted"),sound:S.diffLineDeleted,legacySoundSettingsKey:"audioCues.diffLineDeleted",settingsKey:"accessibility.signals.diffLineDeleted"}),E.diffLineModified=E.register({name:(0,o.NC)("accessibilitySignals.diffLineModified","Diff Line Modified"),sound:S.diffLineModified,legacySoundSettingsKey:"audioCues.diffLineModified",settingsKey:"accessibility.signals.diffLineModified"}),E.chatRequestSent=E.register({name:(0,o.NC)("accessibilitySignals.chatRequestSent","Chat Request Sent"),sound:S.chatRequestSent,legacySoundSettingsKey:"audioCues.chatRequestSent",legacyAnnouncementSettingsKey:"accessibility.alert.chatRequestSent",announcementMessage:(0,o.NC)("accessibility.signals.chatRequestSent","Chat Request Sent"),settingsKey:"accessibility.signals.chatRequestSent"}),E.chatResponseReceived=E.register({name:(0,o.NC)("accessibilitySignals.chatResponseReceived","Chat Response Received"),legacySoundSettingsKey:"audioCues.chatResponseReceived",sound:{randomOneOf:[S.chatResponseReceived1,S.chatResponseReceived2,S.chatResponseReceived3,S.chatResponseReceived4]},settingsKey:"accessibility.signals.chatResponseReceived"}),E.progress=E.register({name:(0,o.NC)("accessibilitySignals.progress","Progress"),sound:S.progress,legacySoundSettingsKey:"audioCues.chatResponsePending",legacyAnnouncementSettingsKey:"accessibility.alert.chatResponseProgress",announcementMessage:(0,o.NC)("accessibility.signals.progress","Progress"),settingsKey:"accessibility.signals.progress"}),E.clear=E.register({name:(0,o.NC)("accessibilitySignals.clear","Clear"),sound:S.clear,legacySoundSettingsKey:"audioCues.clear",legacyAnnouncementSettingsKey:"accessibility.alert.clear",announcementMessage:(0,o.NC)("accessibility.signals.clear","Clear"),settingsKey:"accessibility.signals.clear"}),E.save=E.register({name:(0,o.NC)("accessibilitySignals.save","Save"),sound:S.save,legacySoundSettingsKey:"audioCues.save",legacyAnnouncementSettingsKey:"accessibility.alert.save",announcementMessage:(0,o.NC)("accessibility.signals.save","Save"),settingsKey:"accessibility.signals.save"}),E.format=E.register({name:(0,o.NC)("accessibilitySignals.format","Format"),sound:S.format,legacySoundSettingsKey:"audioCues.format",legacyAnnouncementSettingsKey:"accessibility.alert.format",announcementMessage:(0,o.NC)("accessibility.signals.format","Format"),settingsKey:"accessibility.signals.format"}),E.voiceRecordingStarted=E.register({name:(0,o.NC)("accessibilitySignals.voiceRecordingStarted","Voice Recording Started"),sound:S.voiceRecordingStarted,legacySoundSettingsKey:"audioCues.voiceRecordingStarted",settingsKey:"accessibility.signals.voiceRecordingStarted"}),E.voiceRecordingStopped=E.register({name:(0,o.NC)("accessibilitySignals.voiceRecordingStopped","Voice Recording Stopped"),sound:S.voiceRecordingStopped,legacySoundSettingsKey:"audioCues.voiceRecordingStopped",settingsKey:"accessibility.signals.voiceRecordingStopped"})},61182:function(et,Le,e){"use strict";e.d(Le,{X:function(){return B},q:function(){return o}});function o(x){return x&&typeof x=="object"&&typeof x.original=="string"&&typeof x.value=="string"}function B(x){return x?x.condition!==void 0:!1}},88595:function(et,Le,e){"use strict";e.d(Le,{Mm:function(){return z},Id:function(){return W},vr:function(){return K},LJ:function(){return V}});var o=e(91540),B=e(50908),x=e(75405),O=e(27884),S=e(43263),p=e(16287),E=e(45029),R=e(15122),w=e(61652),m=e(69713),g=e(61182),a=e(80568),r=e(31949),i=e(87058),n=e(66070),c=e(52994),u=e(10783),l=e(63279),D=e(68777),f=e(98618),y=e(26974),C=e(97341),_=e(26179),N=e(84935),b=function(G,j,Y,H){var Q=arguments.length,ie=Q<3?j:H===null?H=Object.getOwnPropertyDescriptor(j,Y):H,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ie=Reflect.decorate(G,j,Y,H);else for(var se=G.length-1;se>=0;se--)(te=G[se])&&(ie=(Q<3?te(ie):Q>3?te(j,Y,ie):te(j,Y))||ie);return Q>3&&ie&&Object.defineProperty(j,Y,ie),ie},k=function(G,j){return function(Y,H){j(Y,H,G)}};function V(G,j,Y,H){const Q=G.getActions(j),ie=o._q.getInstance(),te=ie.keyStatus.altKey||(R.ED||R.IJ)&&ie.keyStatus.shiftKey;Z(Q,Y,te,H?se=>se===H:se=>se==="navigation")}function K(G,j,Y,H,Q,ie){const te=G.getActions(j);Z(te,Y,!1,typeof H=="string"?ne=>ne===H:H,Q,ie)}function Z(G,j,Y,H=te=>te==="navigation",Q=()=>!1,ie=!1){let te,se;Array.isArray(j)?(te=j,se=j):(te=j.primary,se=j.secondary);const ne=new Set;for(const[ee,re]of G){let he;H(ee)?(he=te,he.length>0&&ie&&he.push(new S.Z0)):(he=se,he.length>0&&he.push(new S.Z0));for(let M of re){Y&&(M=M instanceof m.U8&&M.alt?M.alt:M);const we=he.push(M);M instanceof S.wY&&ne.add({group:ee,action:M,index:we-1})}}for(const{group:ee,action:re,index:he}of ne){const M=H(ee)?te:se,we=re.actions;Q(re,ee,M.length)&&M.splice(he,1,...we)}}let z=class extends x.gU{constructor(j,Y,H,Q,ie,te,se,ne){super(void 0,j,{icon:!!(j.class||j.item.icon),label:!j.class&&!j.item.icon,draggable:Y==null?void 0:Y.draggable,keybinding:Y==null?void 0:Y.keybinding,hoverDelegate:Y==null?void 0:Y.hoverDelegate}),this._keybindingService=H,this._notificationService=Q,this._contextKeyService=ie,this._themeService=te,this._contextMenuService=se,this._accessibilityService=ne,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new E.XK),this._altKey=o._q.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(j){return Ft(this,null,function*(){j.preventDefault(),j.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(Y){this._notificationService.error(Y)}})}render(j){if(super.render(j),j.classList.add("menu-entry"),this.options.icon&&this._updateItemClass(this._menuItemAction.item),this._menuItemAction.alt){let Y=!1;const H=()=>{var Q;const ie=!!(!((Q=this._menuItemAction.alt)===null||Q===void 0)&&Q.enabled)&&(!this._accessibilityService.isMotionReduced()||Y)&&(this._altKey.keyStatus.altKey||this._altKey.keyStatus.shiftKey&&Y);ie!==this._wantsAltCommand&&(this._wantsAltCommand=ie,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._register(this._altKey.event(H)),this._register((0,o.nm)(j,"mouseleave",Q=>{Y=!1,H()})),this._register((0,o.nm)(j,"mouseenter",Q=>{Y=!0,H()})),H()}}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var j;const Y=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),H=Y&&Y.getLabel(),Q=this._commandAction.tooltip||this._commandAction.label;let ie=H?(0,w.NC)("titleAndKb","{0} ({1})",Q,H):Q;if(!this._wantsAltCommand&&(!((j=this._menuItemAction.alt)===null||j===void 0)&&j.enabled)){const te=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,se=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),ne=se&&se.getLabel(),ee=ne?(0,w.NC)("titleAndKb","{0} ({1})",te,ne):te;ie=(0,w.NC)("titleAndKbAndAlt",`{0}
[{1}] {2}`,ie,p.xo.modifierLabels[R.OS].altKey,ee)}return ie}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(j){this._itemClassDispose.value=void 0;const{element:Y,label:H}=this;if(!Y||!H)return;const Q=this._commandAction.checked&&(0,g.X)(j.toggled)&&j.toggled.icon?j.toggled.icon:j.icon;if(Q)if(D.k.isThemeIcon(Q)){const ie=D.k.asClassNameArray(Q);H.classList.add(...ie),this._itemClassDispose.value=(0,E.OF)(()=>{H.classList.remove(...ie)})}else H.style.backgroundImage=(0,f._T)(this._themeService.getColorTheme().type)?(0,o.wY)(Q.dark):(0,o.wY)(Q.light),H.classList.add("icon"),this._itemClassDispose.value=(0,E.F8)((0,E.OF)(()=>{H.style.backgroundImage="",H.classList.remove("icon")}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}};z=b([k(2,n.d),k(3,c.lT),k(4,a.i6),k(5,l.XE),k(6,r.i),k(7,N.F)],z);let A=class extends O.C{constructor(j,Y,H,Q,ie){var te,se,ne;const ee=Ki(vi({},Y),{menuAsChild:(te=Y==null?void 0:Y.menuAsChild)!==null&&te!==void 0?te:!1,classNames:(se=Y==null?void 0:Y.classNames)!==null&&se!==void 0?se:D.k.isThemeIcon(j.item.icon)?D.k.asClassName(j.item.icon):void 0,keybindingProvider:(ne=Y==null?void 0:Y.keybindingProvider)!==null&&ne!==void 0?ne:re=>H.lookupKeybinding(re.id)});super(j,{getActions:()=>j.actions},Q,ee),this._keybindingService=H,this._contextMenuService=Q,this._themeService=ie}render(j){super.render(j),(0,y.p_)(this.element),j.classList.add("menu-entry");const Y=this._action,{icon:H}=Y.item;if(H&&!D.k.isThemeIcon(H)){this.element.classList.add("icon");const Q=()=>{this.element&&(this.element.style.backgroundImage=(0,f._T)(this._themeService.getColorTheme().type)?(0,o.wY)(H.dark):(0,o.wY)(H.light))};Q(),this._register(this._themeService.onDidColorThemeChange(()=>{Q()}))}}};A=b([k(2,n.d),k(3,r.i),k(4,l.XE)],A);let P=class extends x.YH{constructor(j,Y,H,Q,ie,te,se,ne){var ee,re,he;super(null,j),this._keybindingService=H,this._notificationService=Q,this._contextMenuService=ie,this._menuService=te,this._instaService=se,this._storageService=ne,this._container=null,this._options=Y,this._storageKey=`${j.item.submenu.id}_lastActionId`;let M;const we=Y!=null&&Y.persistLastActionId?ne.get(this._storageKey,1):void 0;we&&(M=j.actions.find(ye=>we===ye.id)),M||(M=j.actions[0]),this._defaultAction=this._instaService.createInstance(z,M,{keybinding:this._getDefaultActionKeybindingLabel(M)});const We=Ki(vi({keybindingProvider:ye=>this._keybindingService.lookupKeybinding(ye.id)},Y),{menuAsChild:(ee=Y==null?void 0:Y.menuAsChild)!==null&&ee!==void 0?ee:!0,classNames:(re=Y==null?void 0:Y.classNames)!==null&&re!==void 0?re:["codicon","codicon-chevron-down"],actionRunner:(he=Y==null?void 0:Y.actionRunner)!==null&&he!==void 0?he:new S.Wi});this._dropdown=new O.C(j,j.actions,this._contextMenuService,We),this._register(this._dropdown.actionRunner.onDidRun(ye=>{ye.action instanceof m.U8&&this.update(ye.action)}))}update(j){var Y;!((Y=this._options)===null||Y===void 0)&&Y.persistLastActionId&&this._storageService.store(this._storageKey,j.id,1,1),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(z,j,{keybinding:this._getDefaultActionKeybindingLabel(j)}),this._defaultAction.actionRunner=new class extends S.Wi{runAction(H,Q){return Ft(this,null,function*(){yield H.run(void 0)})}},this._container&&this._defaultAction.render((0,o.Ce)(this._container,(0,o.$)(".action-container")))}_getDefaultActionKeybindingLabel(j){var Y;let H;if(!((Y=this._options)===null||Y===void 0)&&Y.renderKeybindingWithDefaultActionLabel){const Q=this._keybindingService.lookupKeybinding(j.id);Q&&(H=`(${Q.getLabel()})`)}return H}setActionContext(j){super.setActionContext(j),this._defaultAction.setActionContext(j),this._dropdown.setActionContext(j)}render(j){this._container=j,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const Y=(0,o.$)(".action-container");this._defaultAction.render((0,o.R3)(this._container,Y)),this._register((0,o.nm)(Y,o.tw.KEY_DOWN,Q=>{const ie=new B.y(Q);ie.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),ie.stopPropagation())}));const H=(0,o.$)(".dropdown-action-container");this._dropdown.render((0,o.R3)(this._container,H)),this._register((0,o.nm)(H,o.tw.KEY_DOWN,Q=>{var ie;const te=new B.y(Q);te.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(ie=this._defaultAction.element)===null||ie===void 0||ie.focus(),te.stopPropagation())}))}focus(j){j?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(j){j?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};P=b([k(2,n.d),k(3,c.lT),k(4,r.i),k(5,m.co),k(6,i.TG),k(7,u.Uy)],P);let I=class extends x.Lc{constructor(j,Y){super(null,j,j.actions.map(H=>({text:H.id===S.Z0.ID?"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500":H.label,isDisabled:!H.enabled})),0,Y,_.BM,{ariaLabel:j.tooltip,optionsAsChildren:!0}),this.select(Math.max(0,j.actions.findIndex(H=>H.checked)))}render(j){super.render(j),j.style.borderColor=(0,C.n_1)(C.a9O)}runAction(j,Y){const H=this.action.actions[Y];H&&this.actionRunner.run(H)}};I=b([k(1,r.u)],I);function W(G,j,Y){return j instanceof m.U8?G.createInstance(z,j,Y):j instanceof m.NZ?j.item.isSelection?G.createInstance(I,j):j.item.rememberDefaultAction?G.createInstance(P,j,Ki(vi({},Y),{persistLastActionId:!0})):G.createInstance(A,j,Y):void 0}},78937:function(et,Le,e){"use strict";e.d(Le,{r:function(){return Z},T:function(){return K}});var o=e(91540),B=e(65512),x=e(318),O=e(27884),S=e(43263),p=e(24752),E=e(68777),R=e(79329),w=e(45029),m=e(61652),g=e(66503);class a extends w.JT{constructor(A,P,I={orientation:0}){var W;super(),this.submenuActionViewItems=[],this.hasSecondaryActions=!1,this._onDidChangeDropdownVisibility=this._register(new R.z5),this.onDidChangeDropdownVisibility=this._onDidChangeDropdownVisibility.event,this.disposables=this._register(new w.SL),I.hoverDelegate=(W=I.hoverDelegate)!==null&&W!==void 0?W:this._register((0,g.p0)()),this.options=I,this.lookupKeybindings=typeof this.options.getKeyBinding=="function",this.toggleMenuAction=this._register(new r(()=>{var G;return(G=this.toggleMenuActionViewItem)===null||G===void 0?void 0:G.show()},I.toggleMenuTitle)),this.element=document.createElement("div"),this.element.className="monaco-toolbar",A.appendChild(this.element),this.actionBar=this._register(new x.o(this.element,{orientation:I.orientation,ariaLabel:I.ariaLabel,actionRunner:I.actionRunner,allowContextMenu:I.allowContextMenu,highlightToggledItems:I.highlightToggledItems,hoverDelegate:I.hoverDelegate,actionViewItemProvider:(G,j)=>{var Y;if(G.id===r.ID)return this.toggleMenuActionViewItem=new O.C(G,G.menuActions,P,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:E.k.asClassNameArray((Y=I.moreIcon)!==null&&Y!==void 0?Y:p.l.toolBarMore),anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry,isMenu:!0,hoverDelegate:this.options.hoverDelegate}),this.toggleMenuActionViewItem.setActionContext(this.actionBar.context),this.disposables.add(this._onDidChangeDropdownVisibility.add(this.toggleMenuActionViewItem.onDidChangeVisibility)),this.toggleMenuActionViewItem;if(I.actionViewItemProvider){const H=I.actionViewItemProvider(G,j);if(H)return H}if(G instanceof S.wY){const H=new O.C(G,G.actions,P,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:G.class,anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry,hoverDelegate:this.options.hoverDelegate});return H.setActionContext(this.actionBar.context),this.submenuActionViewItems.push(H),this.disposables.add(this._onDidChangeDropdownVisibility.add(H.onDidChangeVisibility)),H}}}))}set actionRunner(A){this.actionBar.actionRunner=A}get actionRunner(){return this.actionBar.actionRunner}getElement(){return this.element}getItemAction(A){return this.actionBar.getAction(A)}setActions(A,P){this.clear();const I=A?A.slice(0):[];this.hasSecondaryActions=!!(P&&P.length>0),this.hasSecondaryActions&&P&&(this.toggleMenuAction.menuActions=P.slice(0),I.push(this.toggleMenuAction)),I.forEach(W=>{this.actionBar.push(W,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(W)})})}getKeybindingLabel(A){var P,I,W;const G=this.lookupKeybindings?(I=(P=this.options).getKeyBinding)===null||I===void 0?void 0:I.call(P,A):void 0;return(W=G==null?void 0:G.getLabel())!==null&&W!==void 0?W:void 0}clear(){this.submenuActionViewItems=[],this.disposables.clear(),this.actionBar.clear()}dispose(){this.clear(),this.disposables.dispose(),super.dispose()}}class r extends S.aU{constructor(A,P){P=P||m.NC("moreActions","More Actions..."),super(r.ID,P,void 0,!0),this._menuActions=[],this.toggleDropdownMenu=A}run(){return Ft(this,null,function*(){this.toggleDropdownMenu()})}get menuActions(){return this._menuActions}set menuActions(A){this._menuActions=A}}r.ID="toolbar.toggle.more";var i=e(71221),n=e(35081),c=e(25602),u=e(852),l=e(88595),D=e(69713),f=e(85542),y=e(83349),C=e(80568),_=e(31949),N=e(66070),b=e(79553),k=function(z,A,P,I){var W=arguments.length,G=W<3?A:I===null?I=Object.getOwnPropertyDescriptor(A,P):I,j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")G=Reflect.decorate(z,A,P,I);else for(var Y=z.length-1;Y>=0;Y--)(j=z[Y])&&(G=(W<3?j(G):W>3?j(A,P,G):j(A,P))||G);return W>3&&G&&Object.defineProperty(A,P,G),G},V=function(z,A){return function(P,I){A(P,I,z)}};let K=class extends a{constructor(A,P,I,W,G,j,Y,H){super(A,G,Ki(vi({getKeyBinding:ie=>{var te;return(te=j.lookupKeybinding(ie.id))!==null&&te!==void 0?te:void 0}},P),{allowContextMenu:!0,skipTelemetry:typeof(P==null?void 0:P.telemetrySource)=="string"})),this._options=P,this._menuService=I,this._contextKeyService=W,this._contextMenuService=G,this._keybindingService=j,this._commandService=Y,this._sessionDisposables=this._store.add(new w.SL);const Q=P==null?void 0:P.telemetrySource;Q&&this._store.add(this.actionBar.onDidRun(ie=>H.publicLog2("workbenchActionExecuted",{id:ie.action.id,from:Q})))}setActions(A,P=[],I){var W,G,j;this._sessionDisposables.clear();const Y=A.slice(),H=P.slice(),Q=[];let ie=0;const te=[];let se=!1;if(((W=this._options)===null||W===void 0?void 0:W.hiddenItemStrategy)!==-1)for(let ne=0;ne<Y.length;ne++){const ee=Y[ne];!(ee instanceof D.U8)&&!(ee instanceof D.NZ)||ee.hideActions&&(Q.push(ee.hideActions.toggle),ee.hideActions.toggle.checked&&ie++,ee.hideActions.isHidden&&(se=!0,Y[ne]=void 0,((G=this._options)===null||G===void 0?void 0:G.hiddenItemStrategy)!==0&&(te[ne]=ee)))}if(((j=this._options)===null||j===void 0?void 0:j.overflowBehavior)!==void 0){const ne=(0,n.j)(new Set(this._options.overflowBehavior.exempted),u.$.map(Y,he=>he==null?void 0:he.id)),ee=this._options.overflowBehavior.maxItems-ne.size;let re=0;for(let he=0;he<Y.length;he++){const M=Y[he];M&&(re++,!ne.has(M.id)&&re>=ee&&(Y[he]=void 0,te[he]=M))}}(0,i.Rs)(Y),(0,i.Rs)(te),super.setActions(Y,S.Z0.join(te,H)),(Q.length>0||Y.length>0)&&this._sessionDisposables.add((0,o.nm)(this.getElement(),"contextmenu",ne=>{var ee,re,he,M,we;const We=new B.n((0,o.Jj)(this.getElement()),ne),ye=this.getItemAction(We.target);if(!ye)return;We.preventDefault(),We.stopPropagation();const X=[];if(ye instanceof D.U8&&ye.menuKeybinding?X.push(ye.menuKeybinding):ye instanceof D.NZ||ye instanceof r||X.push((0,f.p)(ye.id,void 0,this._commandService,this._keybindingService)),Q.length>0){let Ee=!1;if(ie===1&&((ee=this._options)===null||ee===void 0?void 0:ee.hiddenItemStrategy)===0){Ee=!0;for(let Oe=0;Oe<Q.length;Oe++)if(Q[Oe].checked){Q[Oe]=(0,S.xw)({id:ye.id,label:ye.label,checked:!0,enabled:!1,run(){}});break}}if(!Ee&&(ye instanceof D.U8||ye instanceof D.NZ)){if(!ye.hideActions)return;X.push(ye.hideActions.hide)}else X.push((0,S.xw)({id:"label",label:(0,m.NC)("hide","Hide"),enabled:!1,run(){}}))}const ve=S.Z0.join(X,Q);!((re=this._options)===null||re===void 0)&&re.resetMenu&&!I&&(I=[this._options.resetMenu]),se&&I&&(ve.push(new S.Z0),ve.push((0,S.xw)({id:"resetThisMenu",label:(0,m.NC)("resetThisMenu","Reset Menu"),run:()=>this._menuService.resetHiddenStates(I)}))),ve.length!==0&&this._contextMenuService.showContextMenu({getAnchor:()=>We,getActions:()=>ve,menuId:(he=this._options)===null||he===void 0?void 0:he.contextMenu,menuActionOptions:vi({renderShortTitle:!0},(M=this._options)===null||M===void 0?void 0:M.menuOptions),skipTelemetry:typeof((we=this._options)===null||we===void 0?void 0:we.telemetrySource)=="string",contextKeyService:this._contextKeyService})}))}};K=k([V(2,D.co),V(3,C.i6),V(4,_.i),V(5,N.d),V(6,y.H),V(7,b.b)],K);let Z=class extends K{constructor(A,P,I,W,G,j,Y,H,Q){super(A,vi({resetMenu:P},I),W,G,j,Y,H,Q),this._onDidChangeMenuItems=this._store.add(new R.Q5),this.onDidChangeMenuItems=this._onDidChangeMenuItems.event;const ie=this._store.add(W.createMenu(P,G,{emitEventsForSubmenuChanges:!0})),te=()=>{var se,ne,ee;const re=[],he=[];(0,l.vr)(ie,I==null?void 0:I.menuOptions,{primary:re,secondary:he},(se=I==null?void 0:I.toolbarOptions)===null||se===void 0?void 0:se.primaryGroup,(ne=I==null?void 0:I.toolbarOptions)===null||ne===void 0?void 0:ne.shouldInlineSubmenu,(ee=I==null?void 0:I.toolbarOptions)===null||ee===void 0?void 0:ee.useSeparatorsInPrimaryActions),A.classList.toggle("has-no-actions",re.length===0&&he.length===0),super.setActions(re,he)};this._store.add(ie.onDidChange(()=>{te(),this._onDidChangeMenuItems.fire(this)})),te()}setActions(){throw new c.he("This toolbar is populated from a menu.")}};Z=k([V(3,D.co),V(4,C.i6),V(5,_.i),V(6,N.d),V(7,y.H),V(8,b.b)],Z)},69713:function(et,Le,e){"use strict";e.d(Le,{BH:function(){return l},Ke:function(){return y},NZ:function(){return D},U8:function(){return f},co:function(){return c},eH:function(){return n},f6:function(){return i},r1:function(){return C},vr:function(){return r}});var o=e(43263),B=e(68777),x=e(79329),O=e(45029),S=e(50138),p=e(83349),E=e(80568),R=e(87058),w=e(803),m=function(_,N,b,k){var V=arguments.length,K=V<3?N:k===null?k=Object.getOwnPropertyDescriptor(N,b):k,Z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")K=Reflect.decorate(_,N,b,k);else for(var z=_.length-1;z>=0;z--)(Z=_[z])&&(K=(V<3?Z(K):V>3?Z(N,b,K):Z(N,b))||K);return V>3&&K&&Object.defineProperty(N,b,K),K},g=function(_,N){return function(b,k){N(b,k,_)}},a;function r(_){return _.command!==void 0}function i(_){return _.submenu!==void 0}class n{constructor(N){if(n._instances.has(N))throw new TypeError(`MenuId with identifier '${N}' already exists. Use MenuId.for(ident) or a unique identifier`);n._instances.set(N,this),this.id=N}}n._instances=new Map,n.CommandPalette=new n("CommandPalette"),n.DebugBreakpointsContext=new n("DebugBreakpointsContext"),n.DebugCallStackContext=new n("DebugCallStackContext"),n.DebugConsoleContext=new n("DebugConsoleContext"),n.DebugVariablesContext=new n("DebugVariablesContext"),n.NotebookVariablesContext=new n("NotebookVariablesContext"),n.DebugHoverContext=new n("DebugHoverContext"),n.DebugWatchContext=new n("DebugWatchContext"),n.DebugToolBar=new n("DebugToolBar"),n.DebugToolBarStop=new n("DebugToolBarStop"),n.EditorContext=new n("EditorContext"),n.SimpleEditorContext=new n("SimpleEditorContext"),n.EditorContent=new n("EditorContent"),n.EditorLineNumberContext=new n("EditorLineNumberContext"),n.EditorContextCopy=new n("EditorContextCopy"),n.EditorContextPeek=new n("EditorContextPeek"),n.EditorContextShare=new n("EditorContextShare"),n.EditorTitle=new n("EditorTitle"),n.EditorTitleRun=new n("EditorTitleRun"),n.EditorTitleContext=new n("EditorTitleContext"),n.EditorTitleContextShare=new n("EditorTitleContextShare"),n.EmptyEditorGroup=new n("EmptyEditorGroup"),n.EmptyEditorGroupContext=new n("EmptyEditorGroupContext"),n.EditorTabsBarContext=new n("EditorTabsBarContext"),n.EditorTabsBarShowTabsSubmenu=new n("EditorTabsBarShowTabsSubmenu"),n.EditorTabsBarShowTabsZenModeSubmenu=new n("EditorTabsBarShowTabsZenModeSubmenu"),n.EditorActionsPositionSubmenu=new n("EditorActionsPositionSubmenu"),n.ExplorerContext=new n("ExplorerContext"),n.ExplorerContextShare=new n("ExplorerContextShare"),n.ExtensionContext=new n("ExtensionContext"),n.GlobalActivity=new n("GlobalActivity"),n.CommandCenter=new n("CommandCenter"),n.CommandCenterCenter=new n("CommandCenterCenter"),n.LayoutControlMenuSubmenu=new n("LayoutControlMenuSubmenu"),n.LayoutControlMenu=new n("LayoutControlMenu"),n.MenubarMainMenu=new n("MenubarMainMenu"),n.MenubarAppearanceMenu=new n("MenubarAppearanceMenu"),n.MenubarDebugMenu=new n("MenubarDebugMenu"),n.MenubarEditMenu=new n("MenubarEditMenu"),n.MenubarCopy=new n("MenubarCopy"),n.MenubarFileMenu=new n("MenubarFileMenu"),n.MenubarGoMenu=new n("MenubarGoMenu"),n.MenubarHelpMenu=new n("MenubarHelpMenu"),n.MenubarLayoutMenu=new n("MenubarLayoutMenu"),n.MenubarNewBreakpointMenu=new n("MenubarNewBreakpointMenu"),n.PanelAlignmentMenu=new n("PanelAlignmentMenu"),n.PanelPositionMenu=new n("PanelPositionMenu"),n.ActivityBarPositionMenu=new n("ActivityBarPositionMenu"),n.MenubarPreferencesMenu=new n("MenubarPreferencesMenu"),n.MenubarRecentMenu=new n("MenubarRecentMenu"),n.MenubarSelectionMenu=new n("MenubarSelectionMenu"),n.MenubarShare=new n("MenubarShare"),n.MenubarSwitchEditorMenu=new n("MenubarSwitchEditorMenu"),n.MenubarSwitchGroupMenu=new n("MenubarSwitchGroupMenu"),n.MenubarTerminalMenu=new n("MenubarTerminalMenu"),n.MenubarViewMenu=new n("MenubarViewMenu"),n.MenubarHomeMenu=new n("MenubarHomeMenu"),n.OpenEditorsContext=new n("OpenEditorsContext"),n.OpenEditorsContextShare=new n("OpenEditorsContextShare"),n.ProblemsPanelContext=new n("ProblemsPanelContext"),n.SCMInputBox=new n("SCMInputBox"),n.SCMChangesSeparator=new n("SCMChangesSeparator"),n.SCMIncomingChanges=new n("SCMIncomingChanges"),n.SCMIncomingChangesContext=new n("SCMIncomingChangesContext"),n.SCMIncomingChangesSetting=new n("SCMIncomingChangesSetting"),n.SCMOutgoingChanges=new n("SCMOutgoingChanges"),n.SCMOutgoingChangesContext=new n("SCMOutgoingChangesContext"),n.SCMOutgoingChangesSetting=new n("SCMOutgoingChangesSetting"),n.SCMIncomingChangesAllChangesContext=new n("SCMIncomingChangesAllChangesContext"),n.SCMIncomingChangesHistoryItemContext=new n("SCMIncomingChangesHistoryItemContext"),n.SCMOutgoingChangesAllChangesContext=new n("SCMOutgoingChangesAllChangesContext"),n.SCMOutgoingChangesHistoryItemContext=new n("SCMOutgoingChangesHistoryItemContext"),n.SCMChangeContext=new n("SCMChangeContext"),n.SCMResourceContext=new n("SCMResourceContext"),n.SCMResourceContextShare=new n("SCMResourceContextShare"),n.SCMResourceFolderContext=new n("SCMResourceFolderContext"),n.SCMResourceGroupContext=new n("SCMResourceGroupContext"),n.SCMSourceControl=new n("SCMSourceControl"),n.SCMSourceControlInline=new n("SCMSourceControlInline"),n.SCMSourceControlTitle=new n("SCMSourceControlTitle"),n.SCMTitle=new n("SCMTitle"),n.SearchContext=new n("SearchContext"),n.SearchActionMenu=new n("SearchActionContext"),n.StatusBarWindowIndicatorMenu=new n("StatusBarWindowIndicatorMenu"),n.StatusBarRemoteIndicatorMenu=new n("StatusBarRemoteIndicatorMenu"),n.StickyScrollContext=new n("StickyScrollContext"),n.TestItem=new n("TestItem"),n.TestItemGutter=new n("TestItemGutter"),n.TestMessageContext=new n("TestMessageContext"),n.TestMessageContent=new n("TestMessageContent"),n.TestPeekElement=new n("TestPeekElement"),n.TestPeekTitle=new n("TestPeekTitle"),n.TouchBarContext=new n("TouchBarContext"),n.TitleBarContext=new n("TitleBarContext"),n.TitleBarTitleContext=new n("TitleBarTitleContext"),n.TunnelContext=new n("TunnelContext"),n.TunnelPrivacy=new n("TunnelPrivacy"),n.TunnelProtocol=new n("TunnelProtocol"),n.TunnelPortInline=new n("TunnelInline"),n.TunnelTitle=new n("TunnelTitle"),n.TunnelLocalAddressInline=new n("TunnelLocalAddressInline"),n.TunnelOriginInline=new n("TunnelOriginInline"),n.ViewItemContext=new n("ViewItemContext"),n.ViewContainerTitle=new n("ViewContainerTitle"),n.ViewContainerTitleContext=new n("ViewContainerTitleContext"),n.ViewTitle=new n("ViewTitle"),n.ViewTitleContext=new n("ViewTitleContext"),n.CommentEditorActions=new n("CommentEditorActions"),n.CommentThreadTitle=new n("CommentThreadTitle"),n.CommentThreadActions=new n("CommentThreadActions"),n.CommentThreadAdditionalActions=new n("CommentThreadAdditionalActions"),n.CommentThreadTitleContext=new n("CommentThreadTitleContext"),n.CommentThreadCommentContext=new n("CommentThreadCommentContext"),n.CommentTitle=new n("CommentTitle"),n.CommentActions=new n("CommentActions"),n.CommentsViewThreadActions=new n("CommentsViewThreadActions"),n.InteractiveToolbar=new n("InteractiveToolbar"),n.InteractiveCellTitle=new n("InteractiveCellTitle"),n.InteractiveCellDelete=new n("InteractiveCellDelete"),n.InteractiveCellExecute=new n("InteractiveCellExecute"),n.InteractiveInputExecute=new n("InteractiveInputExecute"),n.IssueReporter=new n("IssueReporter"),n.NotebookToolbar=new n("NotebookToolbar"),n.NotebookStickyScrollContext=new n("NotebookStickyScrollContext"),n.NotebookCellTitle=new n("NotebookCellTitle"),n.NotebookCellDelete=new n("NotebookCellDelete"),n.NotebookCellInsert=new n("NotebookCellInsert"),n.NotebookCellBetween=new n("NotebookCellBetween"),n.NotebookCellListTop=new n("NotebookCellTop"),n.NotebookCellExecute=new n("NotebookCellExecute"),n.NotebookCellExecuteGoTo=new n("NotebookCellExecuteGoTo"),n.NotebookCellExecutePrimary=new n("NotebookCellExecutePrimary"),n.NotebookDiffCellInputTitle=new n("NotebookDiffCellInputTitle"),n.NotebookDiffCellMetadataTitle=new n("NotebookDiffCellMetadataTitle"),n.NotebookDiffCellOutputsTitle=new n("NotebookDiffCellOutputsTitle"),n.NotebookOutputToolbar=new n("NotebookOutputToolbar"),n.NotebookOutlineFilter=new n("NotebookOutlineFilter"),n.NotebookOutlineActionMenu=new n("NotebookOutlineActionMenu"),n.NotebookEditorLayoutConfigure=new n("NotebookEditorLayoutConfigure"),n.NotebookKernelSource=new n("NotebookKernelSource"),n.BulkEditTitle=new n("BulkEditTitle"),n.BulkEditContext=new n("BulkEditContext"),n.TimelineItemContext=new n("TimelineItemContext"),n.TimelineTitle=new n("TimelineTitle"),n.TimelineTitleContext=new n("TimelineTitleContext"),n.TimelineFilterSubMenu=new n("TimelineFilterSubMenu"),n.AccountsContext=new n("AccountsContext"),n.SidebarTitle=new n("SidebarTitle"),n.PanelTitle=new n("PanelTitle"),n.AuxiliaryBarTitle=new n("AuxiliaryBarTitle"),n.AuxiliaryBarHeader=new n("AuxiliaryBarHeader"),n.TerminalInstanceContext=new n("TerminalInstanceContext"),n.TerminalEditorInstanceContext=new n("TerminalEditorInstanceContext"),n.TerminalNewDropdownContext=new n("TerminalNewDropdownContext"),n.TerminalTabContext=new n("TerminalTabContext"),n.TerminalTabEmptyAreaContext=new n("TerminalTabEmptyAreaContext"),n.TerminalStickyScrollContext=new n("TerminalStickyScrollContext"),n.WebviewContext=new n("WebviewContext"),n.InlineCompletionsActions=new n("InlineCompletionsActions"),n.InlineEditActions=new n("InlineEditActions"),n.NewFile=new n("NewFile"),n.MergeInput1Toolbar=new n("MergeToolbar1Toolbar"),n.MergeInput2Toolbar=new n("MergeToolbar2Toolbar"),n.MergeBaseToolbar=new n("MergeBaseToolbar"),n.MergeInputResultToolbar=new n("MergeToolbarResultToolbar"),n.InlineSuggestionToolbar=new n("InlineSuggestionToolbar"),n.InlineEditToolbar=new n("InlineEditToolbar"),n.ChatContext=new n("ChatContext"),n.ChatCodeBlock=new n("ChatCodeblock"),n.ChatCompareBlock=new n("ChatCompareBlock"),n.ChatMessageTitle=new n("ChatMessageTitle"),n.ChatExecute=new n("ChatExecute"),n.ChatExecuteSecondary=new n("ChatExecuteSecondary"),n.ChatInputSide=new n("ChatInputSide"),n.AccessibleView=new n("AccessibleView"),n.MultiDiffEditorFileToolbar=new n("MultiDiffEditorFileToolbar"),n.DiffEditorHunkToolbar=new n("DiffEditorHunkToolbar"),n.DiffEditorSelectionToolbar=new n("DiffEditorSelectionToolbar");const c=(0,R.yh)("menuService");class u{static for(N){let b=this._all.get(N);return b||(b=new u(N),this._all.set(N,b)),b}static merge(N){const b=new Set;for(const k of N)k instanceof u&&b.add(k.id);return b}constructor(N){this.id=N,this.has=b=>b===N}}u._all=new Map;const l=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new x.SZ({merge:u.merge}),this.onDidChangeMenu=this._onDidChangeMenu.event}addCommand(_){return this._commands.set(_.id,_),this._onDidChangeMenu.fire(u.for(n.CommandPalette)),(0,O.OF)(()=>{this._commands.delete(_.id)&&this._onDidChangeMenu.fire(u.for(n.CommandPalette))})}getCommand(_){return this._commands.get(_)}getCommands(){const _=new Map;return this._commands.forEach((N,b)=>_.set(b,N)),_}appendMenuItem(_,N){let b=this._menuItems.get(_);b||(b=new S.S,this._menuItems.set(_,b));const k=b.push(N);return this._onDidChangeMenu.fire(u.for(_)),(0,O.OF)(()=>{k(),this._onDidChangeMenu.fire(u.for(_))})}appendMenuItems(_){const N=new O.SL;for(const{id:b,item:k}of _)N.add(this.appendMenuItem(b,k));return N}getMenuItems(_){let N;return this._menuItems.has(_)?N=[...this._menuItems.get(_)]:N=[],_===n.CommandPalette&&this._appendImplicitItems(N),N}_appendImplicitItems(_){const N=new Set;for(const b of _)r(b)&&(N.add(b.command.id),b.alt&&N.add(b.alt.id));this._commands.forEach((b,k)=>{N.has(k)||_.push({command:b})})}};class D extends o.wY{constructor(N,b,k){super(`submenuitem.${N.submenu.id}`,typeof N.title=="string"?N.title:N.title.value,k,"submenu"),this.item=N,this.hideActions=b}}let f=a=class{static label(N,b){return b!=null&&b.renderShortTitle&&N.shortTitle?typeof N.shortTitle=="string"?N.shortTitle:N.shortTitle.value:typeof N.title=="string"?N.title:N.title.value}constructor(N,b,k,V,K,Z,z){var A,P;this.hideActions=V,this.menuKeybinding=K,this._commandService=z,this.id=N.id,this.label=a.label(N,k),this.tooltip=(P=typeof N.tooltip=="string"?N.tooltip:(A=N.tooltip)===null||A===void 0?void 0:A.value)!==null&&P!==void 0?P:"",this.enabled=!N.precondition||Z.contextMatchesRules(N.precondition),this.checked=void 0;let I;if(N.toggled){const W=N.toggled.condition?N.toggled:{condition:N.toggled};this.checked=Z.contextMatchesRules(W.condition),this.checked&&W.tooltip&&(this.tooltip=typeof W.tooltip=="string"?W.tooltip:W.tooltip.value),this.checked&&B.k.isThemeIcon(W.icon)&&(I=W.icon),this.checked&&W.title&&(this.label=typeof W.title=="string"?W.title:W.title.value)}I||(I=B.k.isThemeIcon(N.icon)?N.icon:void 0),this.item=N,this.alt=b?new a(b,void 0,k,V,void 0,Z,z):void 0,this._options=k,this.class=I&&B.k.asClassName(I)}run(...N){var b,k;let V=[];return!((b=this._options)===null||b===void 0)&&b.arg&&(V=[...V,this._options.arg]),!((k=this._options)===null||k===void 0)&&k.shouldForwardArgs&&(V=[...V,...N]),this._commandService.executeCommand(this.id,...V)}};f=a=m([g(5,E.i6),g(6,p.H)],f);class y{constructor(N){this.desc=N}}function C(_){const N=new O.SL,b=new _,z=b.desc,{f1:k,menu:V,keybinding:K}=z,Z=hd(z,["f1","menu","keybinding"]);if(p.P.getCommand(Z.id))throw new Error(`Cannot register two commands with the same id: ${Z.id}`);if(N.add(p.P.registerCommand({id:Z.id,handler:(A,...P)=>b.run(A,...P),metadata:Z.metadata})),Array.isArray(V))for(const A of V)N.add(l.appendMenuItem(A.id,vi({command:Ki(vi({},Z),{precondition:A.precondition===null?void 0:Z.precondition})},A)));else V&&N.add(l.appendMenuItem(V.id,vi({command:Ki(vi({},Z),{precondition:V.precondition===null?void 0:Z.precondition})},V)));if(k&&(N.add(l.appendMenuItem(n.CommandPalette,{command:Z,when:Z.precondition})),N.add(l.addCommand(Z))),Array.isArray(K))for(const A of K)N.add(w.W.registerKeybindingRule(Ki(vi({},A),{id:Z.id,when:Z.precondition?E.Ao.and(Z.precondition,A.when):A.when})));else K&&N.add(w.W.registerKeybindingRule(Ki(vi({},K),{id:Z.id,when:Z.precondition?E.Ao.and(Z.precondition,K.when):K.when})));return N}},85542:function(et,Le,e){"use strict";e.d(Le,{h:function(){return c},p:function(){return y}});var o=e(74696),B=e(79329),x=e(45029),O=e(69713),S=e(83349),p=e(80568),E=e(43263),R=e(10783),w=e(71221),m=e(61652),g=e(66070),a=function(C,_,N,b){var k=arguments.length,V=k<3?_:b===null?b=Object.getOwnPropertyDescriptor(_,N):b,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")V=Reflect.decorate(C,_,N,b);else for(var Z=C.length-1;Z>=0;Z--)(K=C[Z])&&(V=(k<3?K(V):k>3?K(_,N,V):K(_,N))||V);return k>3&&V&&Object.defineProperty(_,N,V),V},r=function(C,_){return function(N,b){_(N,b,C)}},i,n;let c=class{constructor(_,N,b){this._commandService=_,this._keybindingService=N,this._hiddenStates=new u(b)}createMenu(_,N,b){return new D(_,this._hiddenStates,vi({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},b),this._commandService,this._keybindingService,N)}resetHiddenStates(_){this._hiddenStates.reset(_)}};c=a([r(0,S.H),r(1,g.d),r(2,R.Uy)],c);let u=i=class{constructor(_){this._storageService=_,this._disposables=new x.SL,this._onDidChange=new B.Q5,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1,this._hiddenByDefaultCache=new Map;try{const N=_.get(i._key,0,"{}");this._data=JSON.parse(N)}catch(N){this._data=Object.create(null)}this._disposables.add(_.onDidChangeValue(0,i._key,this._disposables)(()=>{if(!this._ignoreChangeEvent)try{const N=_.get(i._key,0,"{}");this._data=JSON.parse(N)}catch(N){console.log("FAILED to read storage after UPDATE",N)}this._onDidChange.fire()}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}_isHiddenByDefault(_,N){var b;return(b=this._hiddenByDefaultCache.get(`${_.id}/${N}`))!==null&&b!==void 0?b:!1}setDefaultState(_,N,b){this._hiddenByDefaultCache.set(`${_.id}/${N}`,b)}isHidden(_,N){var b,k;const V=this._isHiddenByDefault(_,N),K=(k=(b=this._data[_.id])===null||b===void 0?void 0:b.includes(N))!==null&&k!==void 0?k:!1;return V?!K:K}updateHidden(_,N,b){this._isHiddenByDefault(_,N)&&(b=!b);const V=this._data[_.id];if(b)V?V.indexOf(N)<0&&V.push(N):this._data[_.id]=[N];else if(V){const K=V.indexOf(N);K>=0&&(0,w.LS)(V,K),V.length===0&&delete this._data[_.id]}this._persist()}reset(_){if(_===void 0)this._data=Object.create(null),this._persist();else{for(const{id:N}of _)this._data[N]&&delete this._data[N];this._persist()}}_persist(){try{this._ignoreChangeEvent=!0;const _=JSON.stringify(this._data);this._storageService.store(i._key,_,0,0)}finally{this._ignoreChangeEvent=!1}}};u._key="menu.hiddenCommands",u=i=a([r(0,R.Uy)],u);let l=n=class{constructor(_,N,b,k,V,K){this._id=_,this._hiddenStates=N,this._collectContextKeysForSubmenus=b,this._commandService=k,this._keybindingService=V,this._contextKeyService=K,this._menuGroups=[],this._structureContextKeys=new Set,this._preconditionContextKeys=new Set,this._toggledContextKeys=new Set,this.refresh()}get structureContextKeys(){return this._structureContextKeys}get preconditionContextKeys(){return this._preconditionContextKeys}get toggledContextKeys(){return this._toggledContextKeys}refresh(){this._menuGroups.length=0,this._structureContextKeys.clear(),this._preconditionContextKeys.clear(),this._toggledContextKeys.clear();const _=O.BH.getMenuItems(this._id);let N;_.sort(n._compareMenuItems);for(const b of _){const k=b.group||"";(!N||N[0]!==k)&&(N=[k,[]],this._menuGroups.push(N)),N[1].push(b),this._collectContextKeys(b)}}_collectContextKeys(_){if(n._fillInKbExprKeys(_.when,this._structureContextKeys),(0,O.vr)(_)){if(_.command.precondition&&n._fillInKbExprKeys(_.command.precondition,this._preconditionContextKeys),_.command.toggled){const N=_.command.toggled.condition||_.command.toggled;n._fillInKbExprKeys(N,this._toggledContextKeys)}}else this._collectContextKeysForSubmenus&&O.BH.getMenuItems(_.submenu).forEach(this._collectContextKeys,this)}createActionGroups(_){const N=[];for(const b of this._menuGroups){const[k,V]=b,K=[];for(const Z of V)if(this._contextKeyService.contextMatchesRules(Z.when)){const z=(0,O.vr)(Z);z&&this._hiddenStates.setDefaultState(this._id,Z.command.id,!!Z.isHiddenByDefault);const A=f(this._id,z?Z.command:Z,this._hiddenStates);if(z){const P=y(Z.command.id,Z.when,this._commandService,this._keybindingService);K.push(new O.U8(Z.command,Z.alt,_,A,P,this._contextKeyService,this._commandService))}else{const P=new n(Z.submenu,this._hiddenStates,this._collectContextKeysForSubmenus,this._commandService,this._keybindingService,this._contextKeyService).createActionGroups(_),I=E.Z0.join(...P.map(W=>W[1]));I.length>0&&K.push(new O.NZ(Z,A,I))}}K.length>0&&N.push([k,K])}return N}static _fillInKbExprKeys(_,N){if(_)for(const b of _.keys())N.add(b)}static _compareMenuItems(_,N){const b=_.group,k=N.group;if(b!==k){if(b){if(!k)return-1}else return 1;if(b==="navigation")return-1;if(k==="navigation")return 1;const Z=b.localeCompare(k);if(Z!==0)return Z}const V=_.order||0,K=N.order||0;return V<K?-1:V>K?1:n._compareTitles((0,O.vr)(_)?_.command.title:_.title,(0,O.vr)(N)?N.command.title:N.title)}static _compareTitles(_,N){const b=typeof _=="string"?_:_.original,k=typeof N=="string"?N:N.original;return b.localeCompare(k)}};l=n=a([r(3,S.H),r(4,g.d),r(5,p.i6)],l);let D=class{constructor(_,N,b,k,V,K){this._disposables=new x.SL,this._menuInfo=new l(_,N,b.emitEventsForSubmenuChanges,k,V,K);const Z=new o.pY(()=>{this._menuInfo.refresh(),this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})},b.eventDebounceDelay);this._disposables.add(Z),this._disposables.add(O.BH.onDidChangeMenu(I=>{I.has(_)&&Z.schedule()}));const z=this._disposables.add(new x.SL),A=I=>{let W=!1,G=!1,j=!1;for(const Y of I)if(W=W||Y.isStructuralChange,G=G||Y.isEnablementChange,j=j||Y.isToggleChange,W&&G&&j)break;return{menu:this,isStructuralChange:W,isEnablementChange:G,isToggleChange:j}},P=()=>{z.add(K.onDidChangeContext(I=>{const W=I.affectsSome(this._menuInfo.structureContextKeys),G=I.affectsSome(this._menuInfo.preconditionContextKeys),j=I.affectsSome(this._menuInfo.toggledContextKeys);(W||G||j)&&this._onDidChange.fire({menu:this,isStructuralChange:W,isEnablementChange:G,isToggleChange:j})})),z.add(N.onDidChange(I=>{this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})}))};this._onDidChange=new B.D0({onWillAddFirstListener:P,onDidRemoveLastListener:z.clear.bind(z),delay:b.eventDebounceDelay,merge:A}),this.onDidChange=this._onDidChange.event}getActions(_){return this._menuInfo.createActionGroups(_)}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}};D=a([r(3,S.H),r(4,g.d),r(5,p.i6)],D);function f(C,_,N){const b=(0,O.f6)(_)?_.submenu.id:_.id,k=typeof _.title=="string"?_.title:_.title.value,V=(0,E.xw)({id:`hide/${C.id}/${b}`,label:(0,m.NC)("hide.label","Hide '{0}'",k),run(){N.updateHidden(C,b,!0)}}),K=(0,E.xw)({id:`toggle/${C.id}/${b}`,label:k,get checked(){return!N.isHidden(C,b)},run(){N.updateHidden(C,b,!!this.checked)}});return{hide:V,toggle:K,get isHidden(){return!K.checked}}}function y(C,_=void 0,N,b){return(0,E.xw)({id:`configureKeybinding/${C}`,label:(0,m.NC)("configure keybinding","Configure Keybinding"),run(){const V=!!!b.lookupKeybinding(C)&&_?_.serialize():void 0;N.executeCommand("workbench.action.openGlobalKeybindings",`@command:${C}`+(V?` +when:${V}`:""))}})}},11796:function(et,Le,e){"use strict";e.d(Le,{p:function(){return B}});var o=e(87058);const B=(0,o.yh)("clipboardService")},83349:function(et,Le,e){"use strict";e.d(Le,{H:function(){return E},P:function(){return R}});var o=e(79329),B=e(852),x=e(45029),O=e(50138),S=e(26974),p=e(87058);const E=(0,p.yh)("commandService"),R=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new o.Q5,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(w,m){if(!w)throw new Error("invalid command");if(typeof w=="string"){if(!m)throw new Error("invalid command");return this.registerCommand({id:w,handler:m})}if(w.metadata&&Array.isArray(w.metadata.args)){const n=[];for(const u of w.metadata.args)n.push(u.constraint);const c=w.handler;w.handler=function(u,...l){return(0,S.D8)(l,n),c(u,...l)}}const{id:g}=w;let a=this._commands.get(g);a||(a=new O.S,this._commands.set(g,a));const r=a.unshift(w),i=(0,x.OF)(()=>{r();const n=this._commands.get(g);n!=null&&n.isEmpty()&&this._commands.delete(g)});return this._onDidRegisterCommand.fire(g),i}registerCommandAlias(w,m){return R.registerCommand(w,(g,...a)=>g.get(E).executeCommand(m,...a))}getCommand(w){const m=this._commands.get(w);if(!(!m||m.isEmpty()))return B.$.first(m)}getCommands(){const w=new Map;for(const m of this._commands.keys()){const g=this.getCommand(m);g&&w.set(m,g)}return w}};R.registerCommand("noop",()=>{})},48774:function(et,Le,e){"use strict";e.d(Le,{KV:function(){return O},Mt:function(){return E},Od:function(){return x},UI:function(){return R},Ui:function(){return B},xL:function(){return S}});var o=e(87058);const B=(0,o.yh)("configurationService");function x(w,m){const g=Object.create(null);for(const a in w)O(g,a,w[a],m);return g}function O(w,m,g,a){const r=m.split("."),i=r.pop();let n=w;for(let c=0;c<r.length;c++){const u=r[c];let l=n[u];switch(typeof l){case"undefined":l=n[u]=Object.create(null);break;case"object":if(l===null){a(`Ignoring ${m} as ${r.slice(0,c+1).join(".")} is null`);return}break;default:a(`Ignoring ${m} as ${r.slice(0,c+1).join(".")} is ${JSON.stringify(l)}`);return}n=l}if(typeof n=="object"&&n!==null)try{n[i]=g}catch(c){a(`Ignoring ${m} as ${r.join(".")} is ${JSON.stringify(n)}`)}else a(`Ignoring ${m} as ${r.join(".")} is ${JSON.stringify(n)}`)}function S(w,m){const g=m.split(".");p(w,g)}function p(w,m){const g=m.shift();if(m.length===0){delete w[g];return}if(Object.keys(w).indexOf(g)!==-1){const a=w[g];typeof a=="object"&&!Array.isArray(a)&&(p(a,m),Object.keys(a).length===0&&delete w[g])}}function E(w,m,g){function a(n,c){let u=n;for(const l of c){if(typeof u!="object"||u===null)return;u=u[l]}return u}const r=m.split("."),i=a(w,r);return typeof i=="undefined"?g:i}function R(w){return w.replace(/[\[\]]/g,"")}},18567:function(et,Le,e){"use strict";e.d(Le,{IP:function(){return R},eU:function(){return y},ny:function(){return C}});var o=e(71221),B=e(79329),x=e(26974),O=e(61652),S=e(48774),p=e(25210),E=e(2816);const R={Configuration:"base.contributions.configuration"},w={properties:{},patternProperties:{}},m={properties:{},patternProperties:{}},g={properties:{},patternProperties:{}},a={properties:{},patternProperties:{}},r={properties:{},patternProperties:{}},i={properties:{},patternProperties:{}},n="vscode://schemas/settings/resourceLanguage",c=E.B.as(p.I.JSONContribution);class u{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new B.Q5,this._onDidUpdateConfiguration=new B.Q5,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:O.NC("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},c.registerSchema(n,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(V,K=!0){this.registerConfigurations([V],K)}registerConfigurations(V,K=!0){const Z=new Set;this.doRegisterConfigurations(V,K,Z),c.registerSchema(n,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:Z})}registerDefaultConfigurations(V){const K=new Set;this.doRegisterDefaultConfigurations(V,K),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:K,defaultsOverrides:!0})}doRegisterDefaultConfigurations(V,K){var Z;const z=[];for(const{overrides:A,source:P}of V)for(const I in A)if(K.add(I),y.test(I)){const W=this.configurationDefaultsOverrides.get(I),G=(Z=W==null?void 0:W.valuesSources)!==null&&Z!==void 0?Z:new Map;if(P)for(const Q of Object.keys(A[I]))G.set(Q,P);const j=vi(vi({},(W==null?void 0:W.value)||{}),A[I]);this.configurationDefaultsOverrides.set(I,{source:P,value:j,valuesSources:G});const Y=(0,S.UI)(I),H={type:"object",default:j,description:O.NC("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",Y),$ref:n,defaultDefaultValue:j,source:x.HD(P)?void 0:P,defaultValueSource:P};z.push(...C(I)),this.configurationProperties[I]=H,this.defaultLanguageConfigurationOverridesNode.properties[I]=H}else{this.configurationDefaultsOverrides.set(I,{value:A[I],source:P});const W=this.configurationProperties[I];W&&(this.updatePropertyDefaultValue(I,W),this.updateSchema(I,W))}this.doRegisterOverrideIdentifiers(z)}registerOverrideIdentifiers(V){this.doRegisterOverrideIdentifiers(V),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(V){for(const K of V)this.overrideIdentifiers.add(K);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(V,K,Z){V.forEach(z=>{this.validateAndRegisterProperties(z,K,z.extensionInfo,z.restrictedProperties,void 0,Z),this.configurationContributors.push(z),this.registerJSONConfiguration(z)})}validateAndRegisterProperties(V,K=!0,Z,z,A=3,P){var I;A=x.Jp(V.scope)?A:V.scope;const W=V.properties;if(W)for(const j in W){const Y=W[j];if(K&&b(j,Y)){delete W[j];continue}if(Y.source=Z,Y.defaultDefaultValue=W[j].default,this.updatePropertyDefaultValue(j,Y),y.test(j)?Y.scope=void 0:(Y.scope=x.Jp(Y.scope)?A:Y.scope,Y.restricted=x.Jp(Y.restricted)?!!(z!=null&&z.includes(j)):Y.restricted),W[j].hasOwnProperty("included")&&!W[j].included){this.excludedConfigurationProperties[j]=W[j],delete W[j];continue}else this.configurationProperties[j]=W[j],!((I=W[j].policy)===null||I===void 0)&&I.name&&this.policyConfigurations.set(W[j].policy.name,j);!W[j].deprecationMessage&&W[j].markdownDeprecationMessage&&(W[j].deprecationMessage=W[j].markdownDeprecationMessage),P.add(j)}const G=V.allOf;if(G)for(const j of G)this.validateAndRegisterProperties(j,K,Z,z,A,P)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(V){const K=Z=>{const z=Z.properties;if(z)for(const P in z)this.updateSchema(P,z[P]);const A=Z.allOf;A==null||A.forEach(K)};K(V)}updateSchema(V,K){switch(w.properties[V]=K,K.scope){case 1:m.properties[V]=K;break;case 2:g.properties[V]=K;break;case 6:a.properties[V]=K;break;case 3:r.properties[V]=K;break;case 4:i.properties[V]=K;break;case 5:i.properties[V]=K,this.resourceLanguageSettingsSchema.properties[V]=K;break}}updateOverridePropertyPatternKey(){for(const V of this.overrideIdentifiers.values()){const K=`[${V}]`,Z={type:"object",description:O.NC("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:O.NC("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:n};this.updatePropertyDefaultValue(K,Z),w.properties[K]=Z,m.properties[K]=Z,g.properties[K]=Z,a.properties[K]=Z,r.properties[K]=Z,i.properties[K]=Z}}registerOverridePropertyPatternKey(){const V={type:"object",description:O.NC("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:O.NC("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:n};w.patternProperties[f]=V,m.patternProperties[f]=V,g.patternProperties[f]=V,a.patternProperties[f]=V,r.patternProperties[f]=V,i.patternProperties[f]=V,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(V,K){const Z=this.configurationDefaultsOverrides.get(V);let z=Z==null?void 0:Z.value,A=Z==null?void 0:Z.source;x.o8(z)&&(z=K.defaultDefaultValue,A=void 0),x.o8(z)&&(z=_(K.type)),K.default=z,K.defaultValueSource=A}}const l="\\[([^\\]]+)\\]",D=new RegExp(l,"g"),f=`^(${l})+$`,y=new RegExp(f);function C(k){const V=[];if(y.test(k)){let K=D.exec(k);for(;K!=null&&K.length;){const Z=K[1].trim();Z&&V.push(Z),K=D.exec(k)}}return(0,o.EB)(V)}function _(k){switch(Array.isArray(k)?k[0]:k){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}const N=new u;E.B.add(R.Configuration,N);function b(k,V){var K,Z,z,A;return k.trim()?y.test(k)?O.NC("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",k):N.getConfigurationProperties()[k]!==void 0?O.NC("config.property.duplicate","Cannot register '{0}'. This property is already registered.",k):!((K=V.policy)===null||K===void 0)&&K.name&&N.getPolicyConfigurations().get((Z=V.policy)===null||Z===void 0?void 0:Z.name)!==void 0?O.NC("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",k,(z=V.policy)===null||z===void 0?void 0:z.name,N.getPolicyConfigurations().get((A=V.policy)===null||A===void 0?void 0:A.name)):null:O.NC("config.property.empty","Cannot register an empty property")}},80568:function(et,Le,e){"use strict";e.d(Le,{cP:function(){return K},Ao:function(){return C},i6:function(){return ee},uy:function(){return ne},Fb:function(){return _},K8:function(){return M}});var o=e(15122),B=e(30144),x=e(25602),O=e(61652);function S(...ye){switch(ye.length){case 1:return(0,O.NC)("contextkey.scanner.hint.didYouMean1","Did you mean {0}?",ye[0]);case 2:return(0,O.NC)("contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",ye[0],ye[1]);case 3:return(0,O.NC)("contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",ye[0],ye[1],ye[2]);default:return}}const p=(0,O.NC)("contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?"),E=(0,O.NC)("contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'.");class R{constructor(){this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(X){switch(X.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return X.isTripleEq?"===":"==";case 4:return X.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return X.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return X.lexeme;case 18:return X.lexeme;case 19:return X.lexeme;case 20:return"EOF";default:throw(0,x.L6)(`unhandled token type: ${JSON.stringify(X)}; have you forgotten to add a case?`)}}reset(X){return this._input=X,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){const ve=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:ve})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){const ve=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:ve})}else this._match(126)?this._addToken(9):this._error(S("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(S("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(S("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(X){return this._isAtEnd()||this._input.charCodeAt(this._current)!==X?!1:(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(X){this._tokens.push({type:X,offset:this._start})}_error(X){const ve=this._start,Ee=this._input.substring(this._start,this._current),Oe={type:19,offset:this._start,lexeme:Ee};this._errors.push({offset:ve,lexeme:Ee,additionalInfo:X}),this._tokens.push(Oe)}_string(){this.stringRe.lastIndex=this._start;const X=this.stringRe.exec(this._input);if(X){this._current=this._start+X[0].length;const ve=this._input.substring(this._start,this._current),Ee=R._keywords.get(ve);Ee?this._addToken(Ee):this._tokens.push({type:17,lexeme:ve,offset:this._start})}}_quotedString(){for(;this._peek()!==39&&!this._isAtEnd();)this._advance();if(this._isAtEnd()){this._error(p);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let X=this._current,ve=!1,Ee=!1;for(;;){if(X>=this._input.length){this._current=X,this._error(E);return}const Ke=this._input.charCodeAt(X);if(ve)ve=!1;else if(Ke===47&&!Ee){X++;break}else Ke===91?Ee=!0:Ke===92?ve=!0:Ke===93&&(Ee=!1);X++}for(;X<this._input.length&&R._regexFlags.has(this._input.charCodeAt(X));)X++;this._current=X;const Oe=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:Oe,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}}R._regexFlags=new Set(["i","g","s","m","y","u"].map(ye=>ye.charCodeAt(0))),R._keywords=new Map([["not",14],["in",13],["false",12],["true",11]]);var w=e(87058);const m=new Map;m.set("false",!1),m.set("true",!0),m.set("isMac",o.dz),m.set("isLinux",o.IJ),m.set("isWindows",o.ED),m.set("isWeb",o.$L),m.set("isMacNative",o.dz&&!o.$L),m.set("isEdge",o.un),m.set("isFirefox",o.vU),m.set("isChrome",o.i7),m.set("isSafari",o.G6);const g=Object.prototype.hasOwnProperty,a={regexParsingWithErrorRecovery:!0},r=(0,O.NC)("contextkey.parser.error.emptyString","Empty context key expression"),i=(0,O.NC)("contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),n=(0,O.NC)("contextkey.parser.error.noInAfterNot","'in' after 'not'."),c=(0,O.NC)("contextkey.parser.error.closingParenthesis","closing parenthesis ')'"),u=(0,O.NC)("contextkey.parser.error.unexpectedToken","Unexpected token"),l=(0,O.NC)("contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?"),D=(0,O.NC)("contextkey.parser.error.unexpectedEOF","Unexpected end of expression"),f=(0,O.NC)("contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?");class y{constructor(X=a){this._config=X,this._scanner=new R,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}parse(X){if(X===""){this._parsingErrors.push({message:r,offset:0,lexeme:"",additionalInfo:i});return}this._tokens=this._scanner.reset(X).scan(),this._current=0,this._parsingErrors=[];try{const ve=this._expr();if(!this._isAtEnd()){const Ee=this._peek(),Oe=Ee.type===17?l:void 0;throw this._parsingErrors.push({message:u,offset:Ee.offset,lexeme:R.getLexeme(Ee),additionalInfo:Oe}),y._parseError}return ve}catch(ve){if(ve!==y._parseError)throw ve;return}}_expr(){return this._or()}_or(){const X=[this._and()];for(;this._matchOne(16);){const ve=this._and();X.push(ve)}return X.length===1?X[0]:C.or(...X)}_and(){const X=[this._term()];for(;this._matchOne(15);){const ve=this._term();X.push(ve)}return X.length===1?X[0]:C.and(...X)}_term(){if(this._matchOne(2)){const X=this._peek();switch(X.type){case 11:return this._advance(),b.INSTANCE;case 12:return this._advance(),k.INSTANCE;case 0:{this._advance();const ve=this._expr();return this._consume(1,c),ve==null?void 0:ve.negate()}case 17:return this._advance(),P.create(X.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",X)}}return this._primary()}_primary(){const X=this._peek();switch(X.type){case 11:return this._advance(),C.true();case 12:return this._advance(),C.false();case 0:{this._advance();const ve=this._expr();return this._consume(1,c),ve}case 17:{const ve=X.lexeme;if(this._advance(),this._matchOne(9)){const Oe=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),Oe.type!==10)throw this._errExpectedButGot("REGEX",Oe);const Ke=Oe.lexeme,Qe=Ke.lastIndexOf("/"),fe=Qe===Ke.length-1?void 0:this._removeFlagsGY(Ke.substring(Qe+1));let $;try{$=new RegExp(Ke.substring(1,Qe),fe)}catch(le){throw this._errExpectedButGot("REGEX",Oe)}return H.create(ve,$)}switch(Oe.type){case 10:case 19:{const Ke=[Oe.lexeme];this._advance();let Qe=this._peek(),fe=0;for(let Ce=0;Ce<Oe.lexeme.length;Ce++)Oe.lexeme.charCodeAt(Ce)===40?fe++:Oe.lexeme.charCodeAt(Ce)===41&&fe--;for(;!this._isAtEnd()&&Qe.type!==15&&Qe.type!==16;){switch(Qe.type){case 0:fe++;break;case 1:fe--;break;case 10:case 18:for(let Ce=0;Ce<Qe.lexeme.length;Ce++)Qe.lexeme.charCodeAt(Ce)===40?fe++:Oe.lexeme.charCodeAt(Ce)===41&&fe--}if(fe<0)break;Ke.push(R.getLexeme(Qe)),this._advance(),Qe=this._peek()}const $=Ke.join(""),le=$.lastIndexOf("/"),De=le===$.length-1?void 0:this._removeFlagsGY($.substring(le+1));let xe;try{xe=new RegExp($.substring(1,le),De)}catch(Ce){throw this._errExpectedButGot("REGEX",Oe)}return C.regex(ve,xe)}case 18:{const Ke=Oe.lexeme;this._advance();let Qe=null;if(!(0,B.m5)(Ke)){const fe=Ke.indexOf("/"),$=Ke.lastIndexOf("/");if(fe!==$&&fe>=0){const le=Ke.slice(fe+1,$),De=Ke[$+1]==="i"?"i":"";try{Qe=new RegExp(le,De)}catch(xe){throw this._errExpectedButGot("REGEX",Oe)}}}if(Qe===null)throw this._errExpectedButGot("REGEX",Oe);return H.create(ve,Qe)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,n);const Oe=this._value();return C.notIn(ve,Oe)}switch(this._peek().type){case 3:{this._advance();const Oe=this._value();if(this._previous().type===18)return C.equals(ve,Oe);switch(Oe){case"true":return C.has(ve);case"false":return C.not(ve);default:return C.equals(ve,Oe)}}case 4:{this._advance();const Oe=this._value();if(this._previous().type===18)return C.notEquals(ve,Oe);switch(Oe){case"true":return C.not(ve);case"false":return C.has(ve);default:return C.notEquals(ve,Oe)}}case 5:return this._advance(),j.create(ve,this._value());case 6:return this._advance(),Y.create(ve,this._value());case 7:return this._advance(),W.create(ve,this._value());case 8:return this._advance(),G.create(ve,this._value());case 13:return this._advance(),C.in(ve,this._value());default:return C.has(ve)}}case 20:throw this._parsingErrors.push({message:D,offset:X.offset,lexeme:"",additionalInfo:f}),y._parseError;default:throw this._errExpectedButGot(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}_value(){const X=this._peek();switch(X.type){case 17:case 18:return this._advance(),X.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_removeFlagsGY(X){return X.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(X){return this._check(X)?(this._advance(),!0):!1}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(X,ve){if(this._check(X))return this._advance();throw this._errExpectedButGot(ve,this._peek())}_errExpectedButGot(X,ve,Ee){const Oe=(0,O.NC)("contextkey.parser.error.expectedButGot",`Expected: {0}
Received: '{1}'.`,X,R.getLexeme(ve)),Ke=ve.offset,Qe=R.getLexeme(ve);return this._parsingErrors.push({message:Oe,offset:Ke,lexeme:Qe,additionalInfo:Ee}),y._parseError}_check(X){return this._peek().type===X}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===20}}y._parseError=new Error;class C{static false(){return b.INSTANCE}static true(){return k.INSTANCE}static has(X){return V.create(X)}static equals(X,ve){return K.create(X,ve)}static notEquals(X,ve){return A.create(X,ve)}static regex(X,ve){return H.create(X,ve)}static in(X,ve){return Z.create(X,ve)}static notIn(X,ve){return z.create(X,ve)}static not(X){return P.create(X)}static and(...X){return te.create(X,null,!0)}static or(...X){return se.create(X,null,!0)}static deserialize(X){return X==null?void 0:this._parser.parse(X)}}C._parser=new y({regexParsingWithErrorRecovery:!1});function _(ye,X){const ve=ye?ye.substituteConstants():void 0,Ee=X?X.substituteConstants():void 0;return!ve&&!Ee?!0:!ve||!Ee?!1:ve.equals(Ee)}function N(ye,X){return ye.cmp(X)}class b{constructor(){this.type=0}cmp(X){return this.type-X.type}equals(X){return X.type===this.type}substituteConstants(){return this}evaluate(X){return!1}serialize(){return"false"}keys(){return[]}negate(){return k.INSTANCE}}b.INSTANCE=new b;class k{constructor(){this.type=1}cmp(X){return this.type-X.type}equals(X){return X.type===this.type}substituteConstants(){return this}evaluate(X){return!0}serialize(){return"true"}keys(){return[]}negate(){return b.INSTANCE}}k.INSTANCE=new k;class V{static create(X,ve=null){const Ee=m.get(X);return typeof Ee=="boolean"?Ee?k.INSTANCE:b.INSTANCE:new V(X,ve)}constructor(X,ve){this.key=X,this.negated=ve,this.type=2}cmp(X){return X.type!==this.type?this.type-X.type:re(this.key,X.key)}equals(X){return X.type===this.type?this.key===X.key:!1}substituteConstants(){const X=m.get(this.key);return typeof X=="boolean"?X?k.INSTANCE:b.INSTANCE:this}evaluate(X){return!!X.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=P.create(this.key,this)),this.negated}}class K{static create(X,ve,Ee=null){if(typeof ve=="boolean")return ve?V.create(X,Ee):P.create(X,Ee);const Oe=m.get(X);return typeof Oe=="boolean"?ve===(Oe?"true":"false")?k.INSTANCE:b.INSTANCE:new K(X,ve,Ee)}constructor(X,ve,Ee){this.key=X,this.value=ve,this.negated=Ee,this.type=4}cmp(X){return X.type!==this.type?this.type-X.type:he(this.key,this.value,X.key,X.value)}equals(X){return X.type===this.type?this.key===X.key&&this.value===X.value:!1}substituteConstants(){const X=m.get(this.key);if(typeof X=="boolean"){const ve=X?"true":"false";return this.value===ve?k.INSTANCE:b.INSTANCE}return this}evaluate(X){return X.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=A.create(this.key,this.value,this)),this.negated}}class Z{static create(X,ve){return new Z(X,ve)}constructor(X,ve){this.key=X,this.valueKey=ve,this.type=10,this.negated=null}cmp(X){return X.type!==this.type?this.type-X.type:he(this.key,this.valueKey,X.key,X.valueKey)}equals(X){return X.type===this.type?this.key===X.key&&this.valueKey===X.valueKey:!1}substituteConstants(){return this}evaluate(X){const ve=X.getValue(this.valueKey),Ee=X.getValue(this.key);return Array.isArray(ve)?ve.includes(Ee):typeof Ee=="string"&&typeof ve=="object"&&ve!==null?g.call(ve,Ee):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=z.create(this.key,this.valueKey)),this.negated}}class z{static create(X,ve){return new z(X,ve)}constructor(X,ve){this.key=X,this.valueKey=ve,this.type=11,this._negated=Z.create(X,ve)}cmp(X){return X.type!==this.type?this.type-X.type:this._negated.cmp(X._negated)}equals(X){return X.type===this.type?this._negated.equals(X._negated):!1}substituteConstants(){return this}evaluate(X){return!this._negated.evaluate(X)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}class A{static create(X,ve,Ee=null){if(typeof ve=="boolean")return ve?P.create(X,Ee):V.create(X,Ee);const Oe=m.get(X);return typeof Oe=="boolean"?ve===(Oe?"true":"false")?b.INSTANCE:k.INSTANCE:new A(X,ve,Ee)}constructor(X,ve,Ee){this.key=X,this.value=ve,this.negated=Ee,this.type=5}cmp(X){return X.type!==this.type?this.type-X.type:he(this.key,this.value,X.key,X.value)}equals(X){return X.type===this.type?this.key===X.key&&this.value===X.value:!1}substituteConstants(){const X=m.get(this.key);if(typeof X=="boolean"){const ve=X?"true":"false";return this.value===ve?b.INSTANCE:k.INSTANCE}return this}evaluate(X){return X.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=K.create(this.key,this.value,this)),this.negated}}class P{static create(X,ve=null){const Ee=m.get(X);return typeof Ee=="boolean"?Ee?b.INSTANCE:k.INSTANCE:new P(X,ve)}constructor(X,ve){this.key=X,this.negated=ve,this.type=3}cmp(X){return X.type!==this.type?this.type-X.type:re(this.key,X.key)}equals(X){return X.type===this.type?this.key===X.key:!1}substituteConstants(){const X=m.get(this.key);return typeof X=="boolean"?X?b.INSTANCE:k.INSTANCE:this}evaluate(X){return!X.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=V.create(this.key,this)),this.negated}}function I(ye,X){if(typeof ye=="string"){const ve=parseFloat(ye);isNaN(ve)||(ye=ve)}return typeof ye=="string"||typeof ye=="number"?X(ye):b.INSTANCE}class W{static create(X,ve,Ee=null){return I(ve,Oe=>new W(X,Oe,Ee))}constructor(X,ve,Ee){this.key=X,this.value=ve,this.negated=Ee,this.type=12}cmp(X){return X.type!==this.type?this.type-X.type:he(this.key,this.value,X.key,X.value)}equals(X){return X.type===this.type?this.key===X.key&&this.value===X.value:!1}substituteConstants(){return this}evaluate(X){return typeof this.value=="string"?!1:parseFloat(X.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=Y.create(this.key,this.value,this)),this.negated}}class G{static create(X,ve,Ee=null){return I(ve,Oe=>new G(X,Oe,Ee))}constructor(X,ve,Ee){this.key=X,this.value=ve,this.negated=Ee,this.type=13}cmp(X){return X.type!==this.type?this.type-X.type:he(this.key,this.value,X.key,X.value)}equals(X){return X.type===this.type?this.key===X.key&&this.value===X.value:!1}substituteConstants(){return this}evaluate(X){return typeof this.value=="string"?!1:parseFloat(X.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=j.create(this.key,this.value,this)),this.negated}}class j{static create(X,ve,Ee=null){return I(ve,Oe=>new j(X,Oe,Ee))}constructor(X,ve,Ee){this.key=X,this.value=ve,this.negated=Ee,this.type=14}cmp(X){return X.type!==this.type?this.type-X.type:he(this.key,this.value,X.key,X.value)}equals(X){return X.type===this.type?this.key===X.key&&this.value===X.value:!1}substituteConstants(){return this}evaluate(X){return typeof this.value=="string"?!1:parseFloat(X.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=G.create(this.key,this.value,this)),this.negated}}class Y{static create(X,ve,Ee=null){return I(ve,Oe=>new Y(X,Oe,Ee))}constructor(X,ve,Ee){this.key=X,this.value=ve,this.negated=Ee,this.type=15}cmp(X){return X.type!==this.type?this.type-X.type:he(this.key,this.value,X.key,X.value)}equals(X){return X.type===this.type?this.key===X.key&&this.value===X.value:!1}substituteConstants(){return this}evaluate(X){return typeof this.value=="string"?!1:parseFloat(X.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=W.create(this.key,this.value,this)),this.negated}}class H{static create(X,ve){return new H(X,ve)}constructor(X,ve){this.key=X,this.regexp=ve,this.type=7,this.negated=null}cmp(X){if(X.type!==this.type)return this.type-X.type;if(this.key<X.key)return-1;if(this.key>X.key)return 1;const ve=this.regexp?this.regexp.source:"",Ee=X.regexp?X.regexp.source:"";return ve<Ee?-1:ve>Ee?1:0}equals(X){if(X.type===this.type){const ve=this.regexp?this.regexp.source:"",Ee=X.regexp?X.regexp.source:"";return this.key===X.key&&ve===Ee}return!1}substituteConstants(){return this}evaluate(X){const ve=X.getValue(this.key);return this.regexp?this.regexp.test(ve):!1}serialize(){const X=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${X}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=Q.create(this)),this.negated}}class Q{static create(X){return new Q(X)}constructor(X){this._actual=X,this.type=8}cmp(X){return X.type!==this.type?this.type-X.type:this._actual.cmp(X._actual)}equals(X){return X.type===this.type?this._actual.equals(X._actual):!1}substituteConstants(){return this}evaluate(X){return!this._actual.evaluate(X)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}negate(){return this._actual}}function ie(ye){let X=null;for(let ve=0,Ee=ye.length;ve<Ee;ve++){const Oe=ye[ve].substituteConstants();if(ye[ve]!==Oe&&X===null){X=[];for(let Ke=0;Ke<ve;Ke++)X[Ke]=ye[Ke]}X!==null&&(X[ve]=Oe)}return X===null?ye:X}class te{static create(X,ve,Ee){return te._normalizeArr(X,ve,Ee)}constructor(X,ve){this.expr=X,this.negated=ve,this.type=6}cmp(X){if(X.type!==this.type)return this.type-X.type;if(this.expr.length<X.expr.length)return-1;if(this.expr.length>X.expr.length)return 1;for(let ve=0,Ee=this.expr.length;ve<Ee;ve++){const Oe=N(this.expr[ve],X.expr[ve]);if(Oe!==0)return Oe}return 0}equals(X){if(X.type===this.type){if(this.expr.length!==X.expr.length)return!1;for(let ve=0,Ee=this.expr.length;ve<Ee;ve++)if(!this.expr[ve].equals(X.expr[ve]))return!1;return!0}return!1}substituteConstants(){const X=ie(this.expr);return X===this.expr?this:te.create(X,this.negated,!1)}evaluate(X){for(let ve=0,Ee=this.expr.length;ve<Ee;ve++)if(!this.expr[ve].evaluate(X))return!1;return!0}static _normalizeArr(X,ve,Ee){const Oe=[];let Ke=!1;for(const Qe of X)if(Qe){if(Qe.type===1){Ke=!0;continue}if(Qe.type===0)return b.INSTANCE;if(Qe.type===6){Oe.push(...Qe.expr);continue}Oe.push(Qe)}if(Oe.length===0&&Ke)return k.INSTANCE;if(Oe.length!==0){if(Oe.length===1)return Oe[0];Oe.sort(N);for(let Qe=1;Qe<Oe.length;Qe++)Oe[Qe-1].equals(Oe[Qe])&&(Oe.splice(Qe,1),Qe--);if(Oe.length===1)return Oe[0];for(;Oe.length>1;){const Qe=Oe[Oe.length-1];if(Qe.type!==9)break;Oe.pop();const fe=Oe.pop(),$=Oe.length===0,le=se.create(Qe.expr.map(De=>te.create([De,fe],null,Ee)),null,$);le&&(Oe.push(le),Oe.sort(N))}if(Oe.length===1)return Oe[0];if(Ee){for(let Qe=0;Qe<Oe.length;Qe++)for(let fe=Qe+1;fe<Oe.length;fe++)if(Oe[Qe].negate().equals(Oe[fe]))return b.INSTANCE;if(Oe.length===1)return Oe[0]}return new te(Oe,ve)}}serialize(){return this.expr.map(X=>X.serialize()).join(" && ")}keys(){const X=[];for(const ve of this.expr)X.push(...ve.keys());return X}negate(){if(!this.negated){const X=[];for(const ve of this.expr)X.push(ve.negate());this.negated=se.create(X,this,!0)}return this.negated}}class se{static create(X,ve,Ee){return se._normalizeArr(X,ve,Ee)}constructor(X,ve){this.expr=X,this.negated=ve,this.type=9}cmp(X){if(X.type!==this.type)return this.type-X.type;if(this.expr.length<X.expr.length)return-1;if(this.expr.length>X.expr.length)return 1;for(let ve=0,Ee=this.expr.length;ve<Ee;ve++){const Oe=N(this.expr[ve],X.expr[ve]);if(Oe!==0)return Oe}return 0}equals(X){if(X.type===this.type){if(this.expr.length!==X.expr.length)return!1;for(let ve=0,Ee=this.expr.length;ve<Ee;ve++)if(!this.expr[ve].equals(X.expr[ve]))return!1;return!0}return!1}substituteConstants(){const X=ie(this.expr);return X===this.expr?this:se.create(X,this.negated,!1)}evaluate(X){for(let ve=0,Ee=this.expr.length;ve<Ee;ve++)if(this.expr[ve].evaluate(X))return!0;return!1}static _normalizeArr(X,ve,Ee){let Oe=[],Ke=!1;if(X){for(let Qe=0,fe=X.length;Qe<fe;Qe++){const $=X[Qe];if($){if($.type===0){Ke=!0;continue}if($.type===1)return k.INSTANCE;if($.type===9){Oe=Oe.concat($.expr);continue}Oe.push($)}}if(Oe.length===0&&Ke)return b.INSTANCE;Oe.sort(N)}if(Oe.length!==0){if(Oe.length===1)return Oe[0];for(let Qe=1;Qe<Oe.length;Qe++)Oe[Qe-1].equals(Oe[Qe])&&(Oe.splice(Qe,1),Qe--);if(Oe.length===1)return Oe[0];if(Ee){for(let Qe=0;Qe<Oe.length;Qe++)for(let fe=Qe+1;fe<Oe.length;fe++)if(Oe[Qe].negate().equals(Oe[fe]))return k.INSTANCE;if(Oe.length===1)return Oe[0]}return new se(Oe,ve)}}serialize(){return this.expr.map(X=>X.serialize()).join(" || ")}keys(){const X=[];for(const ve of this.expr)X.push(...ve.keys());return X}negate(){if(!this.negated){const X=[];for(const ve of this.expr)X.push(ve.negate());for(;X.length>1;){const ve=X.shift(),Ee=X.shift(),Oe=[];for(const Ke of We(ve))for(const Qe of We(Ee))Oe.push(te.create([Ke,Qe],null,!1));X.unshift(se.create(Oe,null,!1))}this.negated=se.create(X,this,!0)}return this.negated}}class ne extends V{static all(){return ne._info.values()}constructor(X,ve,Ee){super(X,null),this._defaultValue=ve,typeof Ee=="object"?ne._info.push(Ki(vi({},Ee),{key:X})):Ee!==!0&&ne._info.push({key:X,description:Ee,type:ve!=null?typeof ve:void 0})}bindTo(X){return X.createKey(this.key,this._defaultValue)}getValue(X){return X.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(X){return K.create(this.key,X)}}ne._info=[];const ee=(0,w.yh)("contextKeyService");function re(ye,X){return ye<X?-1:ye>X?1:0}function he(ye,X,ve,Ee){return ye<ve?-1:ye>ve?1:X<Ee?-1:X>Ee?1:0}function M(ye,X){if(ye.type===0||X.type===1)return!0;if(ye.type===9)return X.type===9?we(ye.expr,X.expr):!1;if(X.type===9){for(const ve of X.expr)if(M(ye,ve))return!0;return!1}if(ye.type===6){if(X.type===6)return we(X.expr,ye.expr);for(const ve of ye.expr)if(M(ve,X))return!0;return!1}return ye.equals(X)}function we(ye,X){let ve=0,Ee=0;for(;ve<ye.length&&Ee<X.length;){const Oe=ye[ve].cmp(X[Ee]);if(Oe<0)return!1;Oe===0&&ve++,Ee++}return ve===ye.length}function We(ye){return ye.type===9?ye.expr:[ye]}},48276:function(et,Le,e){"use strict";e.d(Le,{Pf:function(){return E},Ul:function(){return i},cv:function(){return p},d0:function(){return r}});var o=e(15122),B=e(61652),x=e(80568);const O=new x.uy("isMac",o.dz,(0,B.NC)("isMac","Whether the operating system is macOS")),S=new x.uy("isLinux",o.IJ,(0,B.NC)("isLinux","Whether the operating system is Linux")),p=new x.uy("isWindows",o.ED,(0,B.NC)("isWindows","Whether the operating system is Windows")),E=new x.uy("isWeb",o.$L,(0,B.NC)("isWeb","Whether the platform is a web browser")),R=new x.uy("isMacNative",o.dz&&!o.$L,(0,B.NC)("isMacNative","Whether the operating system is macOS on a non-browser platform")),w=new x.uy("isIOS",o.gn,(0,B.NC)("isIOS","Whether the operating system is iOS")),m=new x.uy("isMobile",o.tq,(0,B.NC)("isMobile","Whether the platform is a mobile web browser")),g=new x.uy("isDevelopment",!1,!0),a=new x.uy("productQualityType","",(0,B.NC)("productQualityType","Quality type of VS Code")),r="inputFocus",i=new x.uy(r,!1,(0,B.NC)("inputFocus","Whether keyboard focus is inside an input box"))},31949:function(et,Le,e){"use strict";e.d(Le,{i:function(){return x},u:function(){return B}});var o=e(87058);const B=(0,o.yh)("contextViewService"),x=(0,o.yh)("contextMenuService")},21821:function(et,Le,e){"use strict";e.d(Le,{S:function(){return B}});var o=e(87058);const B=(0,o.yh)("dialogService")},63805:function(et,Le,e){"use strict";e.d(Le,{Ej:function(){return S},Km:function(){return B}});var o=e(2816);const B={EDITORS:"CodeEditors",FILES:"CodeFiles"};class x{}const O={DragAndDropContribution:"workbench.contributions.dragAndDrop"};o.B.add(O.DragAndDropContribution,new x);class S{constructor(){}static getInstance(){return S.INSTANCE}hasData(E){return E&&E===this.proto}getData(E){if(this.hasData(E))return this.data}}S.INSTANCE=new S},39356:function(et,Le,e){"use strict";e.d(Le,{Y:function(){return B}});var o=e(87058);const B=(0,o.yh)("environmentService")},60931:function(et,Le,e){"use strict";e.d(Le,{Yb:function(){return V},Nq:function(){return K},iX:function(){return f}});var o=e(55748),B=e(91540),x=e(62019),O=e(79418),S=e(60833),p=e(24752),E=e(79329),R=e(12261),w=e(61652),m=e(66503);const g=w.NC("defaultLabel","input"),a=w.NC("label.preserveCaseToggle","Preserve Case");class r extends x.Z{constructor(z){var A;super({icon:p.l.preserveCase,title:a+z.appendTitle,isChecked:z.isChecked,hoverDelegate:(A=z.hoverDelegate)!==null&&A!==void 0?A:(0,m.tM)("element"),inputActiveOptionBorder:z.inputActiveOptionBorder,inputActiveOptionForeground:z.inputActiveOptionForeground,inputActiveOptionBackground:z.inputActiveOptionBackground})}}class i extends S.${constructor(z,A,P,I){super(),this._showOptionButtons=P,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new E.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new E.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new E.Q5),this._onInput=this._register(new E.Q5),this._onKeyUp=this._register(new E.Q5),this._onPreserveCaseKeyDown=this._register(new E.Q5),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=A,this.placeholder=I.placeholder||"",this.validation=I.validation,this.label=I.label||g;const W=I.appendPreserveCaseLabel||"",G=I.history||[],j=!!I.flexibleHeight,Y=!!I.flexibleWidth,H=I.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new O.pG(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},history:G,showHistoryHint:I.showHistoryHint,flexibleHeight:j,flexibleWidth:Y,flexibleMaxHeight:H,inputBoxStyles:I.inputBoxStyles})),this.preserveCase=this._register(new r(vi({appendTitle:W,isChecked:!1},I.toggleStyles))),this._register(this.preserveCase.onChange(te=>{this._onDidOptionChange.fire(te),!te&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(te=>{this._onPreserveCaseKeyDown.fire(te)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;const Q=[this.preserveCase.domNode];this.onkeydown(this.domNode,te=>{if(te.equals(15)||te.equals(17)||te.equals(9)){const se=Q.indexOf(this.domNode.ownerDocument.activeElement);if(se>=0){let ne=-1;te.equals(17)?ne=(se+1)%Q.length:te.equals(15)&&(se===0?ne=Q.length-1:ne=se-1),te.equals(9)?(Q[se].blur(),this.inputBox.focus()):ne>=0&&Q[ne].focus(),B.zB.stop(te,!0)}}});const ie=document.createElement("div");ie.className="controls",ie.style.display=this._showOptionButtons?"block":"none",ie.appendChild(this.preserveCase.domNode),this.domNode.appendChild(ie),z==null||z.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,te=>this._onKeyDown.fire(te)),this.onkeyup(this.inputBox.inputElement,te=>this._onKeyUp.fire(te)),this.oninput(this.inputBox.inputElement,te=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,te=>this._onMouseDown.fire(te))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(z){z?this.enable():this.disable()}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(z){this.preserveCase.checked=z}focusOnPreserve(){this.preserveCase.focus()}validate(){var z;(z=this.inputBox)===null||z===void 0||z.validate()}set width(z){this.inputBox.paddingRight=this.cachedOptionsWidth,this.domNode.style.width=z+"px"}dispose(){super.dispose()}}var n=e(80568),c=e(803),u=e(45029),l=function(Z,z,A,P){var I=arguments.length,W=I<3?z:P===null?P=Object.getOwnPropertyDescriptor(z,A):P,G;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(Z,z,A,P);else for(var j=Z.length-1;j>=0;j--)(G=Z[j])&&(W=(I<3?G(W):I>3?G(z,A,W):G(z,A))||W);return I>3&&W&&Object.defineProperty(z,A,W),W},D=function(Z,z){return function(A,P){z(A,P,Z)}};const f=new n.uy("suggestWidgetVisible",!1,(0,w.NC)("suggestWidgetVisible","Whether suggestion are visible")),y="historyNavigationWidgetFocus",C="historyNavigationForwardsEnabled",_="historyNavigationBackwardsEnabled";let N;const b=[];function k(Z,z){if(b.includes(z))throw new Error("Cannot register the same widget multiple times");b.push(z);const A=new u.SL,P=new n.uy(y,!1).bindTo(Z),I=new n.uy(C,!0).bindTo(Z),W=new n.uy(_,!0).bindTo(Z),G=()=>{P.set(!0),N=z},j=()=>{P.set(!1),N===z&&(N=void 0)};return(0,B.H9)(z.element)&&G(),A.add(z.onDidFocus(()=>G())),A.add(z.onDidBlur(()=>j())),A.add((0,u.OF)(()=>{b.splice(b.indexOf(z),1),j()})),{historyNavigationForwardsEnablement:I,historyNavigationBackwardsEnablement:W,dispose(){A.dispose()}}}let V=class extends o.V{constructor(z,A,P,I){super(z,A,P);const W=this._register(I.createScoped(this.inputBox.element));this._register(k(W,this.inputBox))}};V=l([D(3,n.i6)],V);let K=class extends i{constructor(z,A,P,I,W=!1){super(z,A,W,P);const G=this._register(I.createScoped(this.inputBox.element));this._register(k(G,this.inputBox))}};K=l([D(3,n.i6)],K),c.W.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:n.Ao.and(n.Ao.has(y),n.Ao.equals(_,!0),n.Ao.not("isComposing"),f.isEqualTo(!1)),primary:16,secondary:[528],handler:Z=>{N==null||N.showPreviousValue()}}),c.W.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:n.Ao.and(n.Ao.has(y),n.Ao.equals(C,!0),n.Ao.not("isComposing"),f.isEqualTo(!1)),primary:18,secondary:[530],handler:Z=>{N==null||N.showNextValue()}})},78307:function(et,Le,e){"use strict";e.d(Le,{Bs:function(){return E},mQ:function(){return R}});var o=e(87058),B=e(45029),x=e(48774),O=e(91540),S=function(m,g,a,r){var i=arguments.length,n=i<3?g:r===null?r=Object.getOwnPropertyDescriptor(g,a):r,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(m,g,a,r);else for(var u=m.length-1;u>=0;u--)(c=m[u])&&(n=(i<3?c(n):i>3?c(g,a,n):c(g,a))||n);return i>3&&n&&Object.defineProperty(g,a,n),n},p=function(m,g){return function(a,r){g(a,r,m)}};const E=(0,o.yh)("hoverService");let R=class extends B.JT{get delay(){return this.isInstantlyHovering()?0:this._delay}constructor(g,a,r={},i,n){super(),this.placement=g,this.instantHover=a,this.overrideOptions=r,this.configurationService=i,this.hoverService=n,this.lastHoverHideTime=0,this.timeLimit=200,this.hoverDisposables=this._register(new B.SL),this._delay=this.configurationService.getValue("workbench.hover.delay"),this._register(this.configurationService.onDidChangeConfiguration(c=>{c.affectsConfiguration("workbench.hover.delay")&&(this._delay=this.configurationService.getValue("workbench.hover.delay"))}))}showHover(g,a){const r=typeof this.overrideOptions=="function"?this.overrideOptions(g,a):this.overrideOptions;this.hoverDisposables.clear();const i=g.target instanceof HTMLElement?[g.target]:g.target.targetElements;for(const c of i)this.hoverDisposables.add((0,O.mu)(c,"keydown",u=>{u.equals(9)&&this.hoverService.hideHover()}));const n=g.content instanceof HTMLElement?void 0:g.content.toString();return this.hoverService.showHover(Ki(vi(vi({},g),r),{persistence:vi({hideOnKeyDown:!0},r.persistence),id:n,appearance:vi(Ki(vi({},g.appearance),{compact:!0,skipFadeInAnimation:this.isInstantlyHovering()}),r.appearance)}),a)}isInstantlyHovering(){return this.instantHover&&Date.now()-this.lastHoverHideTime<this.timeLimit}onDidHideHover(){this.hoverDisposables.clear(),this.instantHover&&(this.lastHoverHideTime=Date.now())}};R=S([p(3,x.Ui),p(4,E)],R);const w={showHover:function(){throw new Error("Native hover function not implemented.")},delay:0,showNativeHover:!0}},56730:function(et,Le,e){"use strict";e.d(Le,{M:function(){return o}});class o{constructor(x,O=[],S=!1){this.ctor=x,this.staticArguments=O,this.supportsDelayedInstantiation=S}}},98352:function(et,Le,e){"use strict";e.d(Le,{d:function(){return O},z:function(){return x}});var o=e(56730);const B=[];function x(S,p,E){p instanceof o.M||(p=new o.M(p,[],!!E)),B.push([S,p])}function O(){return B}},87058:function(et,Le,e){"use strict";e.d(Le,{I8:function(){return o},TG:function(){return B},yh:function(){return O}});var o;(function(S){S.serviceIds=new Map,S.DI_TARGET="$di$target",S.DI_DEPENDENCIES="$di$dependencies";function p(E){return E[S.DI_DEPENDENCIES]||[]}S.getServiceDependencies=p})(o||(o={}));const B=O("instantiationService");function x(S,p,E){p[o.DI_TARGET]===p?p[o.DI_DEPENDENCIES].push({id:S,index:E}):(p[o.DI_DEPENDENCIES]=[{id:S,index:E}],p[o.DI_TARGET]=p)}function O(S){if(o.serviceIds.has(S))return o.serviceIds.get(S);const p=function(E,R,w){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");x(p,E,w)};return p.toString=()=>S,o.serviceIds.set(S,p),p}},44969:function(et,Le,e){"use strict";e.d(Le,{y:function(){return o}});class o{constructor(...x){this._entries=new Map;for(const[O,S]of x)this.set(O,S)}set(x,O){const S=this._entries.get(x);return this._entries.set(x,O),S}get(x){return this._entries.get(x)}}},25210:function(et,Le,e){"use strict";e.d(Le,{I:function(){return x}});var o=e(79329),B=e(2816);const x={JSONContribution:"base.contributions.json"};function O(E){return E.length>0&&E.charAt(E.length-1)==="#"?E.substring(0,E.length-1):E}class S{constructor(){this._onDidChangeSchema=new o.Q5,this.schemasById={}}registerSchema(R,w){this.schemasById[O(R)]=w,this._onDidChangeSchema.fire(R)}notifySchemaChanged(R){this._onDidChangeSchema.fire(R)}}const p=new S;B.B.add(x.JSONContribution,p)},66070:function(et,Le,e){"use strict";e.d(Le,{d:function(){return B}});var o=e(87058);const B=(0,o.yh)("keybindingService")},803:function(et,Le,e){"use strict";e.d(Le,{W:function(){return R}});var o=e(13804),B=e(15122),x=e(83349),O=e(2816),S=e(45029),p=e(50138);class E{constructor(){this._coreKeybindings=new p.S,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(a){if(B.OS===1){if(a&&a.win)return a.win}else if(B.OS===2){if(a&&a.mac)return a.mac}else if(a&&a.linux)return a.linux;return a}registerKeybindingRule(a){const r=E.bindToCurrentPlatform(a),i=new S.SL;if(r&&r.primary){const n=(0,o.Z9)(r.primary,B.OS);n&&i.add(this._registerDefaultKeybinding(n,a.id,a.args,a.weight,0,a.when))}if(r&&Array.isArray(r.secondary))for(let n=0,c=r.secondary.length;n<c;n++){const u=r.secondary[n],l=(0,o.Z9)(u,B.OS);l&&i.add(this._registerDefaultKeybinding(l,a.id,a.args,a.weight,-n-1,a.when))}return i}registerCommandAndKeybindingRule(a){return(0,S.F8)(this.registerKeybindingRule(a),x.P.registerCommand(a))}_registerDefaultKeybinding(a,r,i,n,c,u){const l=this._coreKeybindings.push({keybinding:a,command:r,commandArgs:i,when:u,weight1:n,weight2:c,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,(0,S.OF)(()=>{l(),this._cachedMergedKeybindings=null})}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(m)),this._cachedMergedKeybindings.slice(0)}}const R=new E,w={EditorModes:"platform.keybindingsRegistry"};O.B.add(w.EditorModes,R);function m(g,a){if(g.weight1!==a.weight1)return g.weight1-a.weight1;if(g.command&&a.command){if(g.command<a.command)return-1;if(g.command>a.command)return 1}return g.weight2-a.weight2}},26039:function(et,Le,e){"use strict";e.d(Le,{e:function(){return B}});var o=e(87058);const B=(0,o.yh)("labelService")},71088:function(et,Le,e){"use strict";e.d(Le,{Lw:function(){return $t},XN:function(){return Nt},ls:function(){return Qt},CQ:function(){return $i},PF:function(){return Ve},PS:function(){return Cn},uJ:function(){return Rn}});var o=e(91540),B=e(71221),x=e(65642),O=e(79329),S=e(45029),p=e(38588),E=e(66074);class R{get templateId(){return this.renderer.templateId}constructor(Ne,gt){this.renderer=Ne,this.modelProvider=gt}renderTemplate(Ne){return{data:this.renderer.renderTemplate(Ne),disposable:S.JT.None}}renderElement(Ne,gt,Bt,di){var hi;if((hi=Bt.disposable)===null||hi===void 0||hi.dispose(),!Bt.data)return;const Ni=this.modelProvider();if(Ni.isResolved(Ne))return this.renderer.renderElement(Ni.get(Ne),Ne,Bt.data,di);const zi=new x.AU,Gi=Ni.resolve(Ne,zi.token);Bt.disposable={dispose:()=>zi.cancel()},this.renderer.renderPlaceholder(Ne,Bt.data),Gi.then(ln=>this.renderer.renderElement(ln,Ne,Bt.data,di))}disposeTemplate(Ne){Ne.disposable&&(Ne.disposable.dispose(),Ne.disposable=void 0),Ne.data&&(this.renderer.disposeTemplate(Ne.data),Ne.data=void 0)}}class w{constructor(Ne,gt){this.modelProvider=Ne,this.accessibilityProvider=gt}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(Ne){const gt=this.modelProvider();return gt.isResolved(Ne)?this.accessibilityProvider.getAriaLabel(gt.get(Ne)):null}}function m(Jt,Ne){return Ki(vi({},Ne),{accessibilityProvider:Ne.accessibilityProvider&&new w(Jt,Ne.accessibilityProvider)})}class g{constructor(Ne,gt,Bt,di,hi={}){const Ni=()=>this.model,zi=di.map(Gi=>new R(Gi,Ni));this.list=new E.aV(Ne,gt,Bt,zi,m(Ni,hi))}updateOptions(Ne){this.list.updateOptions(Ne)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get widget(){return this.list}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return O.ju.map(this.list.onMouseDblClick,({element:Ne,index:gt,browserEvent:Bt})=>({element:Ne===void 0?void 0:this._model.get(Ne),index:gt,browserEvent:Bt}))}get onPointer(){return O.ju.map(this.list.onPointer,({element:Ne,index:gt,browserEvent:Bt})=>({element:Ne===void 0?void 0:this._model.get(Ne),index:gt,browserEvent:Bt}))}get onDidChangeSelection(){return O.ju.map(this.list.onDidChangeSelection,({elements:Ne,indexes:gt,browserEvent:Bt})=>({elements:Ne.map(di=>this._model.get(di)),indexes:gt,browserEvent:Bt}))}get model(){return this._model}set model(Ne){this._model=Ne,this.list.splice(0,this.list.length,(0,B.w6)(Ne.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(Ne=>this.model.get(Ne))}style(Ne){this.list.style(Ne)}dispose(){this.list.dispose()}}var a=e(66388),r=e(66503),i=e(37510);class n{constructor(Ne,gt,Bt){this.columns=Ne,this.getColumnSize=Bt,this.templateId=n.TemplateId,this.renderedTemplates=new Set;const di=new Map(gt.map(hi=>[hi.templateId,hi]));this.renderers=[];for(const hi of Ne){const Ni=di.get(hi.templateId);if(!Ni)throw new Error(`Table cell renderer for template id ${hi.templateId} not found.`);this.renderers.push(Ni)}}renderTemplate(Ne){const gt=(0,o.R3)(Ne,(0,o.$)(".monaco-table-tr")),Bt=[],di=[];for(let Ni=0;Ni<this.columns.length;Ni++){const zi=this.renderers[Ni],Gi=(0,o.R3)(gt,(0,o.$)(".monaco-table-td",{"data-col-index":Ni}));Gi.style.width=`${this.getColumnSize(Ni)}px`,Bt.push(Gi),di.push(zi.renderTemplate(Gi))}const hi={container:Ne,cellContainers:Bt,cellTemplateData:di};return this.renderedTemplates.add(hi),hi}renderElement(Ne,gt,Bt,di){for(let hi=0;hi<this.columns.length;hi++){const zi=this.columns[hi].project(Ne);this.renderers[hi].renderElement(zi,gt,Bt.cellTemplateData[hi],di)}}disposeElement(Ne,gt,Bt,di){for(let hi=0;hi<this.columns.length;hi++){const Ni=this.renderers[hi];if(Ni.disposeElement){const Gi=this.columns[hi].project(Ne);Ni.disposeElement(Gi,gt,Bt.cellTemplateData[hi],di)}}}disposeTemplate(Ne){for(let gt=0;gt<this.columns.length;gt++)this.renderers[gt].disposeTemplate(Ne.cellTemplateData[gt]);(0,o.PO)(Ne.container),this.renderedTemplates.delete(Ne)}layoutColumn(Ne,gt){for(const{cellContainers:Bt}of this.renderedTemplates)Bt[Ne].style.width=`${gt}px`}}n.TemplateId="row";function c(Jt){return{getHeight(Ne){return Jt.getHeight(Ne)},getTemplateId(){return n.TemplateId}}}class u extends S.JT{get minimumSize(){var Ne;return(Ne=this.column.minimumWidth)!==null&&Ne!==void 0?Ne:120}get maximumSize(){var Ne;return(Ne=this.column.maximumWidth)!==null&&Ne!==void 0?Ne:Number.POSITIVE_INFINITY}get onDidChange(){var Ne;return(Ne=this.column.onDidChangeWidthConstraints)!==null&&Ne!==void 0?Ne:O.ju.None}constructor(Ne,gt){super(),this.column=Ne,this.index=gt,this._onDidLayout=new O.Q5,this.onDidLayout=this._onDidLayout.event,this.element=(0,o.$)(".monaco-table-th",{"data-col-index":gt},Ne.label),Ne.tooltip&&this._register((0,a.B)().setupUpdatableHover((0,r.tM)("mouse"),this.element,Ne.tooltip))}layout(Ne){this._onDidLayout.fire([this.index,Ne])}}class l{get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onDidScroll(){return this.list.onDidScroll}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get scrollTop(){return this.list.scrollTop}set scrollTop(Ne){this.list.scrollTop=Ne}get scrollHeight(){return this.list.scrollHeight}get renderHeight(){return this.list.renderHeight}get onDidDispose(){return this.list.onDidDispose}constructor(Ne,gt,Bt,di,hi,Ni){this.virtualDelegate=Bt,this.domId=`table_id_${++l.InstanceCount}`,this.disposables=new S.SL,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,o.R3)(gt,(0,o.$)(`.monaco-table.${this.domId}`));const zi=di.map((ji,dn)=>this.disposables.add(new u(ji,dn))),Gi={size:zi.reduce((ji,dn)=>ji+dn.column.weight,0),views:zi.map(ji=>({size:ji.column.weight,view:ji}))};this.splitview=this.disposables.add(new i.z(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:Gi})),this.splitview.el.style.height=`${Bt.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${Bt.headerRowHeight}px`;const ln=new n(di,hi,ji=>this.splitview.getViewSize(ji));this.list=this.disposables.add(new E.aV(Ne,this.domNode,c(Bt),[ln],Ni)),O.ju.any(...zi.map(ji=>ji.onDidLayout))(([ji,dn])=>ln.layoutColumn(ji,dn),null,this.disposables),this.splitview.onDidSashReset(ji=>{const dn=di.reduce((Hi,rn)=>Hi+rn.weight,0),tn=di[ji].weight/dn*this.cachedWidth;this.splitview.resizeView(ji,tn)},null,this.disposables),this.styleElement=(0,o.dS)(this.domNode),this.style(E.uZ)}updateOptions(Ne){this.list.updateOptions(Ne)}splice(Ne,gt,Bt=[]){this.list.splice(Ne,gt,Bt)}getHTMLElement(){return this.domNode}style(Ne){const gt=[];gt.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=gt.join(`
`),this.list.style(Ne)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}l.InstanceCount=0;var D=e(34803),f=e(38688),y=e(77121),C=e(74171),_=e(852);class N{constructor(Ne,gt,Bt={}){this.user=Ne,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new y.X(Ne,gt,null,Bt),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,Bt.sorter&&(this.sorter={compare(di,hi){return Bt.sorter.compare(di.element,hi.element)}}),this.identityProvider=Bt.identityProvider}setChildren(Ne,gt=_.$.empty(),Bt={}){const di=this.getElementLocation(Ne);this._setChildren(di,this.preserveCollapseState(gt),Bt)}_setChildren(Ne,gt=_.$.empty(),Bt){const di=new Set,hi=new Set,Ni=Gi=>{var ln;if(Gi.element===null)return;const ji=Gi;if(di.add(ji.element),this.nodes.set(ji.element,ji),this.identityProvider){const dn=this.identityProvider.getId(ji.element).toString();hi.add(dn),this.nodesByIdentity.set(dn,ji)}(ln=Bt.onDidCreateNode)===null||ln===void 0||ln.call(Bt,ji)},zi=Gi=>{var ln;if(Gi.element===null)return;const ji=Gi;if(di.has(ji.element)||this.nodes.delete(ji.element),this.identityProvider){const dn=this.identityProvider.getId(ji.element).toString();hi.has(dn)||this.nodesByIdentity.delete(dn)}(ln=Bt.onDidDeleteNode)===null||ln===void 0||ln.call(Bt,ji)};this.model.splice([...Ne,0],Number.MAX_VALUE,gt,Ki(vi({},Bt),{onDidCreateNode:Ni,onDidDeleteNode:zi}))}preserveCollapseState(Ne=_.$.empty()){return this.sorter&&(Ne=[...Ne].sort(this.sorter.compare.bind(this.sorter))),_.$.map(Ne,gt=>{let Bt=this.nodes.get(gt.element);if(!Bt&&this.identityProvider){const Ni=this.identityProvider.getId(gt.element).toString();Bt=this.nodesByIdentity.get(Ni)}if(!Bt){let Ni;return typeof gt.collapsed=="undefined"?Ni=void 0:gt.collapsed===C.kn.Collapsed||gt.collapsed===C.kn.PreserveOrCollapsed?Ni=!0:gt.collapsed===C.kn.Expanded||gt.collapsed===C.kn.PreserveOrExpanded?Ni=!1:Ni=!!gt.collapsed,Ki(vi({},gt),{children:this.preserveCollapseState(gt.children),collapsed:Ni})}const di=typeof gt.collapsible=="boolean"?gt.collapsible:Bt.collapsible;let hi;return typeof gt.collapsed=="undefined"||gt.collapsed===C.kn.PreserveOrCollapsed||gt.collapsed===C.kn.PreserveOrExpanded?hi=Bt.collapsed:gt.collapsed===C.kn.Collapsed?hi=!0:gt.collapsed===C.kn.Expanded?hi=!1:hi=!!gt.collapsed,Ki(vi({},gt),{collapsible:di,collapsed:hi,children:this.preserveCollapseState(gt.children)})})}rerender(Ne){const gt=this.getElementLocation(Ne);this.model.rerender(gt)}getFirstElementChild(Ne=null){const gt=this.getElementLocation(Ne);return this.model.getFirstElementChild(gt)}has(Ne){return this.nodes.has(Ne)}getListIndex(Ne){const gt=this.getElementLocation(Ne);return this.model.getListIndex(gt)}getListRenderCount(Ne){const gt=this.getElementLocation(Ne);return this.model.getListRenderCount(gt)}isCollapsible(Ne){const gt=this.getElementLocation(Ne);return this.model.isCollapsible(gt)}setCollapsible(Ne,gt){const Bt=this.getElementLocation(Ne);return this.model.setCollapsible(Bt,gt)}isCollapsed(Ne){const gt=this.getElementLocation(Ne);return this.model.isCollapsed(gt)}setCollapsed(Ne,gt,Bt){const di=this.getElementLocation(Ne);return this.model.setCollapsed(di,gt,Bt)}expandTo(Ne){const gt=this.getElementLocation(Ne);this.model.expandTo(gt)}refilter(){this.model.refilter()}getNode(Ne=null){if(Ne===null)return this.model.getNode(this.model.rootRef);const gt=this.nodes.get(Ne);if(!gt)throw new C.ac(this.user,`Tree element not found: ${Ne}`);return gt}getNodeLocation(Ne){return Ne.element}getParentNodeLocation(Ne){if(Ne===null)throw new C.ac(this.user,"Invalid getParentNodeLocation call");const gt=this.nodes.get(Ne);if(!gt)throw new C.ac(this.user,`Tree element not found: ${Ne}`);const Bt=this.model.getNodeLocation(gt),di=this.model.getParentNodeLocation(Bt);return this.model.getNode(di).element}getElementLocation(Ne){if(Ne===null)return[];const gt=this.nodes.get(Ne);if(!gt)throw new C.ac(this.user,`Tree element not found: ${Ne}`);return this.model.getNodeLocation(gt)}}function b(Jt){const Ne=[Jt.element],gt=Jt.incompressible||!1;return{element:{elements:Ne,incompressible:gt},children:_.$.map(_.$.from(Jt.children),b),collapsible:Jt.collapsible,collapsed:Jt.collapsed}}function k(Jt){const Ne=[Jt.element],gt=Jt.incompressible||!1;let Bt,di;for(;[di,Bt]=_.$.consume(_.$.from(Jt.children),2),!(di.length!==1||di[0].incompressible);)Jt=di[0],Ne.push(Jt.element);return{element:{elements:Ne,incompressible:gt},children:_.$.map(_.$.concat(di,Bt),k),collapsible:Jt.collapsible,collapsed:Jt.collapsed}}function V(Jt,Ne=0){let gt;return Ne<Jt.element.elements.length-1?gt=[V(Jt,Ne+1)]:gt=_.$.map(_.$.from(Jt.children),Bt=>V(Bt,0)),Ne===0&&Jt.element.incompressible?{element:Jt.element.elements[Ne],children:gt,incompressible:!0,collapsible:Jt.collapsible,collapsed:Jt.collapsed}:{element:Jt.element.elements[Ne],children:gt,collapsible:Jt.collapsible,collapsed:Jt.collapsed}}function K(Jt){return V(Jt,0)}function Z(Jt,Ne,gt){return Jt.element===Ne?Ki(vi({},Jt),{children:gt}):Ki(vi({},Jt),{children:_.$.map(_.$.from(Jt.children),Bt=>Z(Bt,Ne,gt))})}const z=Jt=>({getId(Ne){return Ne.elements.map(gt=>Jt.getId(gt).toString()).join("\0")}});class A{get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}constructor(Ne,gt,Bt={}){this.user=Ne,this.rootRef=null,this.nodes=new Map,this.model=new N(Ne,gt,Bt),this.enabled=typeof Bt.compressionEnabled=="undefined"?!0:Bt.compressionEnabled,this.identityProvider=Bt.identityProvider}setChildren(Ne,gt=_.$.empty(),Bt){const di=Bt.diffIdentityProvider&&z(Bt.diffIdentityProvider);if(Ne===null){const rn=_.$.map(gt,this.enabled?k:b);this._setChildren(null,rn,{diffIdentityProvider:di,diffDepth:1/0});return}const hi=this.nodes.get(Ne);if(!hi)throw new C.ac(this.user,"Unknown compressed tree node");const Ni=this.model.getNode(hi),zi=this.model.getParentNodeLocation(hi),Gi=this.model.getNode(zi),ln=K(Ni),ji=Z(ln,Ne,gt),dn=(this.enabled?k:b)(ji),tn=Bt.diffIdentityProvider?(rn,sn)=>Bt.diffIdentityProvider.getId(rn)===Bt.diffIdentityProvider.getId(sn):void 0;if((0,B.fS)(dn.element.elements,Ni.element.elements,tn)){this._setChildren(hi,dn.children||_.$.empty(),{diffIdentityProvider:di,diffDepth:1});return}const Hi=Gi.children.map(rn=>rn===Ni?dn:rn);this._setChildren(Gi.element,Hi,{diffIdentityProvider:di,diffDepth:Ni.depth-Gi.depth})}isCompressionEnabled(){return this.enabled}setCompressionEnabled(Ne){if(Ne===this.enabled)return;this.enabled=Ne;const Bt=this.model.getNode().children,di=_.$.map(Bt,K),hi=_.$.map(di,Ne?k:b);this._setChildren(null,hi,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(Ne,gt,Bt){const di=new Set,hi=zi=>{for(const Gi of zi.element.elements)di.add(Gi),this.nodes.set(Gi,zi.element)},Ni=zi=>{for(const Gi of zi.element.elements)di.has(Gi)||this.nodes.delete(Gi)};this.model.setChildren(Ne,gt,Ki(vi({},Bt),{onDidCreateNode:hi,onDidDeleteNode:Ni}))}has(Ne){return this.nodes.has(Ne)}getListIndex(Ne){const gt=this.getCompressedNode(Ne);return this.model.getListIndex(gt)}getListRenderCount(Ne){const gt=this.getCompressedNode(Ne);return this.model.getListRenderCount(gt)}getNode(Ne){if(typeof Ne=="undefined")return this.model.getNode();const gt=this.getCompressedNode(Ne);return this.model.getNode(gt)}getNodeLocation(Ne){const gt=this.model.getNodeLocation(Ne);return gt===null?null:gt.elements[gt.elements.length-1]}getParentNodeLocation(Ne){const gt=this.getCompressedNode(Ne),Bt=this.model.getParentNodeLocation(gt);return Bt===null?null:Bt.elements[Bt.elements.length-1]}getFirstElementChild(Ne){const gt=this.getCompressedNode(Ne);return this.model.getFirstElementChild(gt)}isCollapsible(Ne){const gt=this.getCompressedNode(Ne);return this.model.isCollapsible(gt)}setCollapsible(Ne,gt){const Bt=this.getCompressedNode(Ne);return this.model.setCollapsible(Bt,gt)}isCollapsed(Ne){const gt=this.getCompressedNode(Ne);return this.model.isCollapsed(gt)}setCollapsed(Ne,gt,Bt){const di=this.getCompressedNode(Ne);return this.model.setCollapsed(di,gt,Bt)}expandTo(Ne){const gt=this.getCompressedNode(Ne);this.model.expandTo(gt)}rerender(Ne){const gt=this.getCompressedNode(Ne);this.model.rerender(gt)}refilter(){this.model.refilter()}getCompressedNode(Ne){if(Ne===null)return null;const gt=this.nodes.get(Ne);if(!gt)throw new C.ac(this.user,`Tree element not found: ${Ne}`);return gt}}const P=Jt=>Jt[Jt.length-1];class I{get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(Ne=>new I(this.unwrapper,Ne))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(Ne,gt){this.unwrapper=Ne,this.node=gt}}function W(Jt,Ne){return{splice(gt,Bt,di){Ne.splice(gt,Bt,di.map(hi=>Jt.map(hi)))},updateElementHeight(gt,Bt){Ne.updateElementHeight(gt,Bt)}}}function G(Jt,Ne){return Ki(vi({},Ne),{identityProvider:Ne.identityProvider&&{getId(gt){return Ne.identityProvider.getId(Jt(gt))}},sorter:Ne.sorter&&{compare(gt,Bt){return Ne.sorter.compare(gt.elements[0],Bt.elements[0])}},filter:Ne.filter&&{filter(gt,Bt){return Ne.filter.filter(Jt(gt),Bt)}}})}class j{get onDidSplice(){return O.ju.map(this.model.onDidSplice,({insertedNodes:Ne,deletedNodes:gt})=>({insertedNodes:Ne.map(Bt=>this.nodeMapper.map(Bt)),deletedNodes:gt.map(Bt=>this.nodeMapper.map(Bt))}))}get onDidChangeCollapseState(){return O.ju.map(this.model.onDidChangeCollapseState,({node:Ne,deep:gt})=>({node:this.nodeMapper.map(Ne),deep:gt}))}get onDidChangeRenderNodeCount(){return O.ju.map(this.model.onDidChangeRenderNodeCount,Ne=>this.nodeMapper.map(Ne))}constructor(Ne,gt,Bt={}){this.rootRef=null,this.elementMapper=Bt.elementMapper||P;const di=hi=>this.elementMapper(hi.elements);this.nodeMapper=new C.VA(hi=>new I(di,hi)),this.model=new A(Ne,W(this.nodeMapper,gt),G(di,Bt))}setChildren(Ne,gt=_.$.empty(),Bt={}){this.model.setChildren(Ne,gt,Bt)}isCompressionEnabled(){return this.model.isCompressionEnabled()}setCompressionEnabled(Ne){this.model.setCompressionEnabled(Ne)}has(Ne){return this.model.has(Ne)}getListIndex(Ne){return this.model.getListIndex(Ne)}getListRenderCount(Ne){return this.model.getListRenderCount(Ne)}getNode(Ne){return this.nodeMapper.map(this.model.getNode(Ne))}getNodeLocation(Ne){return Ne.element}getParentNodeLocation(Ne){return this.model.getParentNodeLocation(Ne)}getFirstElementChild(Ne){const gt=this.model.getFirstElementChild(Ne);return gt===null||typeof gt=="undefined"?gt:this.elementMapper(gt.elements)}isCollapsible(Ne){return this.model.isCollapsible(Ne)}setCollapsible(Ne,gt){return this.model.setCollapsible(Ne,gt)}isCollapsed(Ne){return this.model.isCollapsed(Ne)}setCollapsed(Ne,gt,Bt){return this.model.setCollapsed(Ne,gt,Bt)}expandTo(Ne){return this.model.expandTo(Ne)}rerender(Ne){return this.model.rerender(Ne)}refilter(){return this.model.refilter()}getCompressedTreeNode(Ne=null){return this.model.getNode(Ne)}}var Y=e(95738),H=function(Jt,Ne,gt,Bt){var di=arguments.length,hi=di<3?Ne:Bt===null?Bt=Object.getOwnPropertyDescriptor(Ne,gt):Bt,Ni;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")hi=Reflect.decorate(Jt,Ne,gt,Bt);else for(var zi=Jt.length-1;zi>=0;zi--)(Ni=Jt[zi])&&(hi=(di<3?Ni(hi):di>3?Ni(Ne,gt,hi):Ni(Ne,gt))||hi);return di>3&&hi&&Object.defineProperty(Ne,gt,hi),hi};class Q extends D.CH{get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}constructor(Ne,gt,Bt,di,hi={}){super(Ne,gt,Bt,di,hi),this.user=Ne}setChildren(Ne,gt=_.$.empty(),Bt){this.model.setChildren(Ne,gt,Bt)}rerender(Ne){if(Ne===void 0){this.view.rerender();return}this.model.rerender(Ne)}hasElement(Ne){return this.model.has(Ne)}createModel(Ne,gt,Bt){return new N(Ne,gt,Bt)}}class ie{get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}constructor(Ne,gt,Bt){this._compressedTreeNodeProvider=Ne,this.stickyScrollDelegate=gt,this.renderer=Bt,this.templateId=Bt.templateId,Bt.onDidChangeTwistieState&&(this.onDidChangeTwistieState=Bt.onDidChangeTwistieState)}renderTemplate(Ne){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(Ne)}}renderElement(Ne,gt,Bt,di){let hi=this.stickyScrollDelegate.getCompressedNode(Ne);hi||(hi=this.compressedTreeNodeProvider.getCompressedTreeNode(Ne.element)),hi.element.elements.length===1?(Bt.compressedTreeNode=void 0,this.renderer.renderElement(Ne,gt,Bt.data,di)):(Bt.compressedTreeNode=hi,this.renderer.renderCompressedElements(hi,gt,Bt.data,di))}disposeElement(Ne,gt,Bt,di){var hi,Ni,zi,Gi;Bt.compressedTreeNode?(Ni=(hi=this.renderer).disposeCompressedElements)===null||Ni===void 0||Ni.call(hi,Bt.compressedTreeNode,gt,Bt.data,di):(Gi=(zi=this.renderer).disposeElement)===null||Gi===void 0||Gi.call(zi,Ne,gt,Bt.data,di)}disposeTemplate(Ne){this.renderer.disposeTemplate(Ne.data)}renderTwistie(Ne,gt){return this.renderer.renderTwistie?this.renderer.renderTwistie(Ne,gt):!1}}H([Y.H],ie.prototype,"compressedTreeNodeProvider",null);class te{constructor(Ne){this.modelProvider=Ne,this.compressedStickyNodes=new Map}getCompressedNode(Ne){return this.compressedStickyNodes.get(Ne)}constrainStickyScrollNodes(Ne,gt,Bt){if(this.compressedStickyNodes.clear(),Ne.length===0)return[];for(let di=0;di<Ne.length;di++){const hi=Ne[di],Ni=hi.position+hi.height;if(di+1<Ne.length&&Ni+Ne[di+1].height>Bt||di>=gt-1&&gt<Ne.length){const Gi=Ne.slice(0,di),ln=Ne.slice(di),ji=this.compressStickyNodes(ln);return[...Gi,ji]}}return Ne}compressStickyNodes(Ne){if(Ne.length===0)throw new Error("Can't compress empty sticky nodes");const gt=this.modelProvider();if(!gt.isCompressionEnabled())return Ne[0];const Bt=[];for(let ln=0;ln<Ne.length;ln++){const ji=Ne[ln],dn=gt.getCompressedTreeNode(ji.node.element);if(dn.element){if(ln!==0&&dn.element.incompressible)break;Bt.push(...dn.element.elements)}}if(Bt.length<2)return Ne[0];const di=Ne[Ne.length-1],hi={elements:Bt,incompressible:!1},Ni=Ki(vi({},di.node),{children:[],element:hi}),zi=new Proxy(Ne[0].node,{}),Gi={node:zi,startIndex:Ne[0].startIndex,endIndex:di.endIndex,position:Ne[0].position,height:Ne[0].height};return this.compressedStickyNodes.set(zi,Ni),Gi}}function se(Jt,Ne){return Ne&&Ki(vi({},Ne),{keyboardNavigationLabelProvider:Ne.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(gt){let Bt;try{Bt=Jt().getCompressedTreeNode(gt)}catch(di){return Ne.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(gt)}return Bt.element.elements.length===1?Ne.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(gt):Ne.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(Bt.element.elements)}}})}class ne extends Q{constructor(Ne,gt,Bt,di,hi={}){const Ni=()=>this,zi=new te(()=>this.model),Gi=di.map(ln=>new ie(Ni,zi,ln));super(Ne,gt,Bt,Gi,Ki(vi({},se(Ni,hi)),{stickyScrollDelegate:zi}))}setChildren(Ne,gt=_.$.empty(),Bt){this.model.setChildren(Ne,gt,Bt)}createModel(Ne,gt,Bt){return new j(Ne,gt,Bt)}updateOptions(Ne={}){super.updateOptions(Ne),typeof Ne.compressionEnabled!="undefined"&&this.model.setCompressionEnabled(Ne.compressionEnabled)}getCompressedTreeNode(Ne=null){return this.model.getCompressedTreeNode(Ne)}}var ee=e(74696),re=e(24752),he=e(68777),M=e(25602),we=e(26974);function We(Jt){return Ki(vi({},Jt),{children:[],refreshPromise:void 0,stale:!0,slow:!1,forceExpanded:!1})}function ye(Jt,Ne){return Ne.parent?Ne.parent===Jt?!0:ye(Jt,Ne.parent):!1}function X(Jt,Ne){return Jt===Ne||ye(Jt,Ne)||ye(Ne,Jt)}class ve{get element(){return this.node.element.element}get children(){return this.node.children.map(Ne=>new ve(Ne))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(Ne){this.node=Ne}}class Ee{constructor(Ne,gt,Bt){this.renderer=Ne,this.nodeMapper=gt,this.onDidChangeTwistieState=Bt,this.renderedNodes=new Map,this.templateId=Ne.templateId}renderTemplate(Ne){return{templateData:this.renderer.renderTemplate(Ne)}}renderElement(Ne,gt,Bt,di){this.renderer.renderElement(this.nodeMapper.map(Ne),gt,Bt.templateData,di)}renderTwistie(Ne,gt){return Ne.slow?(gt.classList.add(...he.k.asClassNameArray(re.l.treeItemLoading)),!0):(gt.classList.remove(...he.k.asClassNameArray(re.l.treeItemLoading)),!1)}disposeElement(Ne,gt,Bt,di){var hi,Ni;(Ni=(hi=this.renderer).disposeElement)===null||Ni===void 0||Ni.call(hi,this.nodeMapper.map(Ne),gt,Bt.templateData,di)}disposeTemplate(Ne){this.renderer.disposeTemplate(Ne.templateData)}dispose(){this.renderedNodes.clear()}}function Oe(Jt){return{browserEvent:Jt.browserEvent,elements:Jt.elements.map(Ne=>Ne.element)}}function Ke(Jt){return{browserEvent:Jt.browserEvent,element:Jt.element&&Jt.element.element,target:Jt.target}}class Qe extends f.kX{constructor(Ne){super(Ne.elements.map(gt=>gt.element)),this.data=Ne}}function fe(Jt){return Jt instanceof f.kX?new Qe(Jt):Jt}class ${constructor(Ne){this.dnd=Ne}getDragURI(Ne){return this.dnd.getDragURI(Ne.element)}getDragLabel(Ne,gt){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(Ne.map(Bt=>Bt.element),gt)}onDragStart(Ne,gt){var Bt,di;(di=(Bt=this.dnd).onDragStart)===null||di===void 0||di.call(Bt,fe(Ne),gt)}onDragOver(Ne,gt,Bt,di,hi,Ni=!0){return this.dnd.onDragOver(fe(Ne),gt&&gt.element,Bt,di,hi)}drop(Ne,gt,Bt,di,hi){this.dnd.drop(fe(Ne),gt&&gt.element,Bt,di,hi)}onDragEnd(Ne){var gt,Bt;(Bt=(gt=this.dnd).onDragEnd)===null||Bt===void 0||Bt.call(gt,Ne)}dispose(){this.dnd.dispose()}}function le(Jt){return Jt&&Ki(vi({},Jt),{collapseByDefault:!0,identityProvider:Jt.identityProvider&&{getId(Ne){return Jt.identityProvider.getId(Ne.element)}},dnd:Jt.dnd&&new $(Jt.dnd),multipleSelectionController:Jt.multipleSelectionController&&{isSelectionSingleChangeEvent(Ne){return Jt.multipleSelectionController.isSelectionSingleChangeEvent(Ki(vi({},Ne),{element:Ne.element}))},isSelectionRangeChangeEvent(Ne){return Jt.multipleSelectionController.isSelectionRangeChangeEvent(Ki(vi({},Ne),{element:Ne.element}))}},accessibilityProvider:Jt.accessibilityProvider&&Ki(vi({},Jt.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:Jt.accessibilityProvider.getRole?Ne=>Jt.accessibilityProvider.getRole(Ne.element):()=>"treeitem",isChecked:Jt.accessibilityProvider.isChecked?Ne=>{var gt;return!!(!((gt=Jt.accessibilityProvider)===null||gt===void 0)&&gt.isChecked(Ne.element))}:void 0,getAriaLabel(Ne){return Jt.accessibilityProvider.getAriaLabel(Ne.element)},getWidgetAriaLabel(){return Jt.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:Jt.accessibilityProvider.getWidgetRole?()=>Jt.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:Jt.accessibilityProvider.getAriaLevel&&(Ne=>Jt.accessibilityProvider.getAriaLevel(Ne.element)),getActiveDescendantId:Jt.accessibilityProvider.getActiveDescendantId&&(Ne=>Jt.accessibilityProvider.getActiveDescendantId(Ne.element))}),filter:Jt.filter&&{filter(Ne,gt){return Jt.filter.filter(Ne.element,gt)}},keyboardNavigationLabelProvider:Jt.keyboardNavigationLabelProvider&&Ki(vi({},Jt.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(Ne){return Jt.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(Ne.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof Jt.expandOnlyOnTwistieClick=="undefined"?void 0:typeof Jt.expandOnlyOnTwistieClick!="function"?Jt.expandOnlyOnTwistieClick:Ne=>Jt.expandOnlyOnTwistieClick(Ne.element),defaultFindVisibility:Ne=>Ne.hasChildren&&Ne.stale?1:typeof Jt.defaultFindVisibility=="number"?Jt.defaultFindVisibility:typeof Jt.defaultFindVisibility=="undefined"?2:Jt.defaultFindVisibility(Ne.element)})}function De(Jt,Ne){Ne(Jt),Jt.children.forEach(gt=>De(gt,Ne))}class xe{get onDidScroll(){return this.tree.onDidScroll}get onDidChangeFocus(){return O.ju.map(this.tree.onDidChangeFocus,Oe)}get onDidChangeSelection(){return O.ju.map(this.tree.onDidChangeSelection,Oe)}get onMouseDblClick(){return O.ju.map(this.tree.onMouseDblClick,Ke)}get onPointer(){return O.ju.map(this.tree.onPointer,Ke)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidChangeStickyScrollFocused(){return this.tree.onDidChangeStickyScrollFocused}get onDidDispose(){return this.tree.onDidDispose}constructor(Ne,gt,Bt,di,hi,Ni={}){this.user=Ne,this.dataSource=hi,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new O.Q5,this._onDidChangeNodeSlowState=new O.Q5,this.nodeMapper=new C.VA(zi=>new ve(zi)),this.disposables=new S.SL,this.identityProvider=Ni.identityProvider,this.autoExpandSingleChildren=typeof Ni.autoExpandSingleChildren=="undefined"?!1:Ni.autoExpandSingleChildren,this.sorter=Ni.sorter,this.getDefaultCollapseState=zi=>Ni.collapseByDefault?Ni.collapseByDefault(zi)?C.kn.PreserveOrCollapsed:C.kn.PreserveOrExpanded:void 0,this.tree=this.createTree(Ne,gt,Bt,di,Ni),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.onDidChangeFindMatchType=this.tree.onDidChangeFindMatchType,this.root=We({element:void 0,parent:null,hasChildren:!0,defaultCollapseState:void 0}),this.identityProvider&&(this.root=Ki(vi({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}createTree(Ne,gt,Bt,di,hi){const Ni=new D.cz(Bt),zi=di.map(ln=>new Ee(ln,this.nodeMapper,this._onDidChangeNodeSlowState.event)),Gi=le(hi)||{};return new Q(Ne,gt,Ni,zi,Gi)}updateOptions(Ne={}){this.tree.updateOptions(Ne)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(Ne){this.tree.scrollTop=Ne}get scrollHeight(){return this.tree.scrollHeight}get renderHeight(){return this.tree.renderHeight}domFocus(){this.tree.domFocus()}layout(Ne,gt){this.tree.layout(Ne,gt)}style(Ne){this.tree.style(Ne)}getInput(){return this.root.element}setInput(Ne,gt){return Ft(this,null,function*(){this.refreshPromises.forEach(di=>di.cancel()),this.refreshPromises.clear(),this.root.element=Ne;const Bt=gt&&{viewState:gt,focus:[],selection:[]};yield this._updateChildren(Ne,!0,!1,Bt),Bt&&(this.tree.setFocus(Bt.focus),this.tree.setSelection(Bt.selection)),gt&&typeof gt.scrollTop=="number"&&(this.scrollTop=gt.scrollTop)})}_updateChildren(){return Ft(this,arguments,function*(Ne=this.root.element,gt=!0,Bt=!1,di,hi){if(typeof this.root.element=="undefined")throw new C.ac(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield O.ju.toPromise(this._onDidRender.event));const Ni=this.getDataNode(Ne);if(yield this.refreshAndRenderNode(Ni,gt,di,hi),Bt)try{this.tree.rerender(Ni)}catch(zi){}})}rerender(Ne){if(Ne===void 0||Ne===this.root.element){this.tree.rerender();return}const gt=this.getDataNode(Ne);this.tree.rerender(gt)}getNode(Ne=this.root.element){const gt=this.getDataNode(Ne),Bt=this.tree.getNode(gt===this.root?null:gt);return this.nodeMapper.map(Bt)}collapse(Ne,gt=!1){const Bt=this.getDataNode(Ne);return this.tree.collapse(Bt===this.root?null:Bt,gt)}expand(Ne,gt=!1){return Ft(this,null,function*(){if(typeof this.root.element=="undefined")throw new C.ac(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield O.ju.toPromise(this._onDidRender.event));const Bt=this.getDataNode(Ne);if(this.tree.hasElement(Bt)&&!this.tree.isCollapsible(Bt)||(Bt.refreshPromise&&(yield this.root.refreshPromise,yield O.ju.toPromise(this._onDidRender.event)),Bt!==this.root&&!Bt.refreshPromise&&!this.tree.isCollapsed(Bt)))return!1;const di=this.tree.expand(Bt===this.root?null:Bt,gt);return Bt.refreshPromise&&(yield this.root.refreshPromise,yield O.ju.toPromise(this._onDidRender.event)),di})}setSelection(Ne,gt){const Bt=Ne.map(di=>this.getDataNode(di));this.tree.setSelection(Bt,gt)}getSelection(){return this.tree.getSelection().map(gt=>gt.element)}setFocus(Ne,gt){const Bt=Ne.map(di=>this.getDataNode(di));this.tree.setFocus(Bt,gt)}getFocus(){return this.tree.getFocus().map(gt=>gt.element)}reveal(Ne,gt){this.tree.reveal(this.getDataNode(Ne),gt)}getParentElement(Ne){const gt=this.tree.getParentElement(this.getDataNode(Ne));return gt&&gt.element}getFirstElementChild(Ne=this.root.element){const gt=this.getDataNode(Ne),Bt=this.tree.getFirstElementChild(gt===this.root?null:gt);return Bt&&Bt.element}getDataNode(Ne){const gt=this.nodes.get(Ne===this.root.element?null:Ne);if(!gt)throw new C.ac(this.user,`Data tree node not found: ${Ne}`);return gt}refreshAndRenderNode(Ne,gt,Bt,di){return Ft(this,null,function*(){yield this.refreshNode(Ne,gt,Bt),!this.disposables.isDisposed&&this.render(Ne,Bt,di)})}refreshNode(Ne,gt,Bt){return Ft(this,null,function*(){let di;if(this.subTreeRefreshPromises.forEach((hi,Ni)=>{!di&&X(Ni,Ne)&&(di=hi.then(()=>this.refreshNode(Ne,gt,Bt)))}),di)return di;if(Ne!==this.root&&this.tree.getNode(Ne).collapsed){Ne.hasChildren=!!this.dataSource.hasChildren(Ne.element),Ne.stale=!0,this.setChildren(Ne,[],gt,Bt);return}return this.doRefreshSubTree(Ne,gt,Bt)})}doRefreshSubTree(Ne,gt,Bt){return Ft(this,null,function*(){let di;Ne.refreshPromise=new Promise(hi=>di=hi),this.subTreeRefreshPromises.set(Ne,Ne.refreshPromise),Ne.refreshPromise.finally(()=>{Ne.refreshPromise=void 0,this.subTreeRefreshPromises.delete(Ne)});try{const hi=yield this.doRefreshNode(Ne,gt,Bt);Ne.stale=!1,yield ee.jT.settled(hi.map(Ni=>this.doRefreshSubTree(Ni,gt,Bt)))}finally{di()}})}doRefreshNode(Ne,gt,Bt){return Ft(this,null,function*(){Ne.hasChildren=!!this.dataSource.hasChildren(Ne.element);let di;if(!Ne.hasChildren)di=Promise.resolve(_.$.empty());else{const hi=this.doGetChildren(Ne);if((0,we.TW)(hi))di=Promise.resolve(hi);else{const Ni=(0,ee.Vs)(800);Ni.then(()=>{Ne.slow=!0,this._onDidChangeNodeSlowState.fire(Ne)},zi=>null),di=hi.finally(()=>Ni.cancel())}}try{const hi=yield di;return this.setChildren(Ne,hi,gt,Bt)}catch(hi){if(Ne!==this.root&&this.tree.hasElement(Ne)&&this.tree.collapse(Ne),(0,M.n2)(hi))return[];throw hi}finally{Ne.slow&&(Ne.slow=!1,this._onDidChangeNodeSlowState.fire(Ne))}})}doGetChildren(Ne){let gt=this.refreshPromises.get(Ne);if(gt)return gt;const Bt=this.dataSource.getChildren(Ne.element);return(0,we.TW)(Bt)?this.processChildren(Bt):(gt=(0,ee.PG)(()=>Ft(this,null,function*(){return this.processChildren(yield Bt)})),this.refreshPromises.set(Ne,gt),gt.finally(()=>{this.refreshPromises.delete(Ne)}))}_onDidChangeCollapseState({node:Ne,deep:gt}){Ne.element!==null&&!Ne.collapsed&&Ne.element.stale&&(gt?this.collapse(Ne.element.element):this.refreshAndRenderNode(Ne.element,!1).catch(M.dL))}setChildren(Ne,gt,Bt,di){const hi=[...gt];if(Ne.children.length===0&&hi.length===0)return[];const Ni=new Map,zi=new Map;for(const ji of Ne.children)Ni.set(ji.element,ji),this.identityProvider&&zi.set(ji.id,{node:ji,collapsed:this.tree.hasElement(ji)&&this.tree.isCollapsed(ji)});const Gi=[],ln=hi.map(ji=>{const dn=!!this.dataSource.hasChildren(ji);if(!this.identityProvider){const sn=We({element:ji,parent:Ne,hasChildren:dn,defaultCollapseState:this.getDefaultCollapseState(ji)});return dn&&sn.defaultCollapseState===C.kn.PreserveOrExpanded&&Gi.push(sn),sn}const tn=this.identityProvider.getId(ji).toString(),Hi=zi.get(tn);if(Hi){const sn=Hi.node;return Ni.delete(sn.element),this.nodes.delete(sn.element),this.nodes.set(ji,sn),sn.element=ji,sn.hasChildren=dn,Bt?Hi.collapsed?(sn.children.forEach(fi=>De(fi,Je=>this.nodes.delete(Je.element))),sn.children.splice(0,sn.children.length),sn.stale=!0):Gi.push(sn):dn&&!Hi.collapsed&&Gi.push(sn),sn}const rn=We({element:ji,parent:Ne,id:tn,hasChildren:dn,defaultCollapseState:this.getDefaultCollapseState(ji)});return di&&di.viewState.focus&&di.viewState.focus.indexOf(tn)>-1&&di.focus.push(rn),di&&di.viewState.selection&&di.viewState.selection.indexOf(tn)>-1&&di.selection.push(rn),(di&&di.viewState.expanded&&di.viewState.expanded.indexOf(tn)>-1||dn&&rn.defaultCollapseState===C.kn.PreserveOrExpanded)&&Gi.push(rn),rn});for(const ji of Ni.values())De(ji,dn=>this.nodes.delete(dn.element));for(const ji of ln)this.nodes.set(ji.element,ji);return Ne.children.splice(0,Ne.children.length,...ln),Ne!==this.root&&this.autoExpandSingleChildren&&ln.length===1&&Gi.length===0&&(ln[0].forceExpanded=!0,Gi.push(ln[0])),Gi}render(Ne,gt,Bt){const di=Ne.children.map(Ni=>this.asTreeElement(Ni,gt)),hi=Bt&&Ki(vi({},Bt),{diffIdentityProvider:Bt.diffIdentityProvider&&{getId(Ni){return Bt.diffIdentityProvider.getId(Ni.element)}}});this.tree.setChildren(Ne===this.root?null:Ne,di,hi),Ne!==this.root&&this.tree.setCollapsible(Ne,Ne.hasChildren),this._onDidRender.fire()}asTreeElement(Ne,gt){if(Ne.stale)return{element:Ne,collapsible:Ne.hasChildren,collapsed:!0};let Bt;return gt&&gt.viewState.expanded&&Ne.id&&gt.viewState.expanded.indexOf(Ne.id)>-1?Bt=!1:Ne.forceExpanded?(Bt=!1,Ne.forceExpanded=!1):Bt=Ne.defaultCollapseState,{element:Ne,children:Ne.hasChildren?_.$.map(Ne.children,di=>this.asTreeElement(di,gt)):[],collapsible:Ne.hasChildren,collapsed:Bt}}processChildren(Ne){return this.sorter&&(Ne=[...Ne].sort(this.sorter.compare.bind(this.sorter))),Ne}dispose(){this.disposables.dispose(),this.tree.dispose()}}class Ce{get element(){return{elements:this.node.element.elements.map(Ne=>Ne.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(Ne=>new Ce(Ne))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(Ne){this.node=Ne}}class me{constructor(Ne,gt,Bt,di){this.renderer=Ne,this.nodeMapper=gt,this.compressibleNodeMapperProvider=Bt,this.onDidChangeTwistieState=di,this.renderedNodes=new Map,this.disposables=[],this.templateId=Ne.templateId}renderTemplate(Ne){return{templateData:this.renderer.renderTemplate(Ne)}}renderElement(Ne,gt,Bt,di){this.renderer.renderElement(this.nodeMapper.map(Ne),gt,Bt.templateData,di)}renderCompressedElements(Ne,gt,Bt,di){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(Ne),gt,Bt.templateData,di)}renderTwistie(Ne,gt){return Ne.slow?(gt.classList.add(...he.k.asClassNameArray(re.l.treeItemLoading)),!0):(gt.classList.remove(...he.k.asClassNameArray(re.l.treeItemLoading)),!1)}disposeElement(Ne,gt,Bt,di){var hi,Ni;(Ni=(hi=this.renderer).disposeElement)===null||Ni===void 0||Ni.call(hi,this.nodeMapper.map(Ne),gt,Bt.templateData,di)}disposeCompressedElements(Ne,gt,Bt,di){var hi,Ni;(Ni=(hi=this.renderer).disposeCompressedElements)===null||Ni===void 0||Ni.call(hi,this.compressibleNodeMapperProvider().map(Ne),gt,Bt.templateData,di)}disposeTemplate(Ne){this.renderer.disposeTemplate(Ne.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,S.B9)(this.disposables)}}function be(Jt){const Ne=Jt&&le(Jt);return Ne&&Ki(vi({},Ne),{keyboardNavigationLabelProvider:Ne.keyboardNavigationLabelProvider&&Ki(vi({},Ne.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(gt){return Jt.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(gt.map(Bt=>Bt.element))}})})}class oe extends xe{constructor(Ne,gt,Bt,di,hi,Ni,zi={}){super(Ne,gt,Bt,hi,Ni,zi),this.compressionDelegate=di,this.compressibleNodeMapper=new C.VA(Gi=>new Ce(Gi)),this.filter=zi.filter}createTree(Ne,gt,Bt,di,hi){const Ni=new D.cz(Bt),zi=di.map(ln=>new me(ln,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),Gi=be(hi)||{};return new ne(Ne,gt,Ni,zi,Gi)}asTreeElement(Ne,gt){return vi({incompressible:this.compressionDelegate.isIncompressible(Ne.element)},super.asTreeElement(Ne,gt))}updateOptions(Ne={}){this.tree.updateOptions(Ne)}render(Ne,gt,Bt){if(!this.identityProvider)return super.render(Ne,gt);const di=Hi=>this.identityProvider.getId(Hi).toString(),hi=Hi=>{const rn=new Set;for(const sn of Hi){const fi=this.tree.getCompressedTreeNode(sn===this.root?null:sn);if(fi.element)for(const Je of fi.element.elements)rn.add(di(Je.element))}return rn},Ni=hi(this.tree.getSelection()),zi=hi(this.tree.getFocus());super.render(Ne,gt,Bt);const Gi=this.getSelection();let ln=!1;const ji=this.getFocus();let dn=!1;const tn=Hi=>{const rn=Hi.element;if(rn)for(let sn=0;sn<rn.elements.length;sn++){const fi=di(rn.elements[sn].element),Je=rn.elements[rn.elements.length-1].element;Ni.has(fi)&&Gi.indexOf(Je)===-1&&(Gi.push(Je),ln=!0),zi.has(fi)&&ji.indexOf(Je)===-1&&(ji.push(Je),dn=!0)}Hi.children.forEach(tn)};tn(this.tree.getCompressedTreeNode(Ne===this.root?null:Ne)),ln&&this.setSelection(Gi),dn&&this.setFocus(ji)}processChildren(Ne){return this.filter&&(Ne=_.$.filter(Ne,gt=>{const Bt=this.filter.filter(gt,1),di=ue(Bt);if(di===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return di===1})),super.processChildren(Ne)}}function ue(Jt){return typeof Jt=="boolean"?Jt?1:0:(0,y.gB)(Jt)?(0,y.aG)(Jt.visibility):(0,y.aG)(Jt)}class de extends D.CH{constructor(Ne,gt,Bt,di,hi,Ni={}){super(Ne,gt,Bt,di,Ni),this.user=Ne,this.dataSource=hi,this.identityProvider=Ni.identityProvider}createModel(Ne,gt,Bt){return new N(Ne,gt,Bt)}}var Se=e(61652),Te=e(48774),Ae=e(18567),pe=e(80568),je=e(48276),ot=e(31949),xt=e(87058),jt=e(66070),oi=e(2816),ti=e(26179),it=function(Jt,Ne,gt,Bt){var di=arguments.length,hi=di<3?Ne:Bt===null?Bt=Object.getOwnPropertyDescriptor(Ne,gt):Bt,Ni;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")hi=Reflect.decorate(Jt,Ne,gt,Bt);else for(var zi=Jt.length-1;zi>=0;zi--)(Ni=Jt[zi])&&(hi=(di<3?Ni(hi):di>3?Ni(Ne,gt,hi):Ni(Ne,gt))||hi);return di>3&&hi&&Object.defineProperty(Ne,gt,hi),hi},yt=function(Jt,Ne){return function(gt,Bt){Ne(gt,Bt,Jt)}};const $t=(0,xt.yh)("listService");class Nt{get lastFocusedList(){return this._lastFocusedWidget}constructor(){this.disposables=new S.SL,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}setLastFocusedList(Ne){var gt,Bt;Ne!==this._lastFocusedWidget&&((gt=this._lastFocusedWidget)===null||gt===void 0||gt.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=Ne,(Bt=this._lastFocusedWidget)===null||Bt===void 0||Bt.getHTMLElement().classList.add("last-focused"))}register(Ne,gt){if(this._hasCreatedStyleController||(this._hasCreatedStyleController=!0,new E.wD((0,o.dS)(),"").style(ti.O2)),this.lists.some(di=>di.widget===Ne))throw new Error("Cannot register the same widget multiple times");const Bt={widget:Ne,extraContextKeys:gt};return this.lists.push(Bt),(0,o.H9)(Ne.getHTMLElement())&&this.setLastFocusedList(Ne),(0,S.F8)(Ne.onDidFocus(()=>this.setLastFocusedList(Ne)),(0,S.OF)(()=>this.lists.splice(this.lists.indexOf(Bt),1)),Ne.onDidDispose(()=>{this.lists=this.lists.filter(di=>di!==Bt),this._lastFocusedWidget===Ne&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}}const qt=new pe.uy("listScrollAtBoundary","none"),Ht=pe.Ao.or(qt.isEqualTo("top"),qt.isEqualTo("both")),He=pe.Ao.or(qt.isEqualTo("bottom"),qt.isEqualTo("both")),Ct=new pe.uy("listFocus",!0),Gt=new pe.uy("treestickyScrollFocused",!1),Di=new pe.uy("listSupportsMultiselect",!0),$i=pe.Ao.and(Ct,pe.Ao.not(je.d0),Gt.negate()),Bi=new pe.uy("listHasSelectionOrFocus",!1),Vi=new pe.uy("listDoubleSelection",!1),Ji=new pe.uy("listMultiSelection",!1),wn=new pe.uy("listSelectionNavigation",!1),yn=new pe.uy("listSupportsFind",!0),Cn=new pe.uy("treeElementCanCollapse",!1),an=new pe.uy("treeElementHasParent",!1),Rn=new pe.uy("treeElementCanExpand",!1),kn=new pe.uy("treeElementHasChild",!1),fn=new pe.uy("treeFindOpen",!1),On="listTypeNavigationMode",xn="listAutomaticKeyboardNavigation";function An(Jt,Ne){const gt=Jt.createScoped(Ne.getHTMLElement());return Ct.bindTo(gt),gt}function Zt(Jt,Ne){const gt=qt.bindTo(Jt),Bt=()=>{const di=Ne.scrollTop===0,hi=Ne.scrollHeight-Ne.renderHeight-Ne.scrollTop<1;di&&hi?gt.set("both"):di?gt.set("top"):hi?gt.set("bottom"):gt.set("none")};return Bt(),Ne.onDidScroll(Bt)}const ci="workbench.list.multiSelectModifier",_i="workbench.list.openMode",Ri="workbench.list.horizontalScrolling",Zi="workbench.list.defaultFindMode",gi="workbench.list.typeNavigationMode",Ze="workbench.list.keyboardNavigation",dt="workbench.list.scrollByPage",Ue="workbench.list.defaultFindMatchType",$e="workbench.tree.indent",bt="workbench.tree.renderIndentGuides",ft="workbench.list.smoothScrolling",Ye="workbench.list.mouseWheelScrollSensitivity",vt="workbench.list.fastScrollSensitivity",nt="workbench.tree.expandMode",Ge="workbench.tree.enableStickyScroll",rt="workbench.tree.stickyScrollMaxItemCount";function st(Jt){return Jt.getValue(ci)==="alt"}class tt extends S.JT{constructor(Ne){super(),this.configurationService=Ne,this.useAltAsMultipleSelectionModifier=st(Ne),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(Ne=>{Ne.affectsConfiguration(ci)&&(this.useAltAsMultipleSelectionModifier=st(this.configurationService))}))}isSelectionSingleChangeEvent(Ne){return this.useAltAsMultipleSelectionModifier?Ne.browserEvent.altKey:(0,E.Zo)(Ne)}isSelectionRangeChangeEvent(Ne){return(0,E.wn)(Ne)}}function _t(Jt,Ne){var gt;const Bt=Jt.get(Te.Ui),di=Jt.get(jt.d),hi=new S.SL;return[Ki(vi({},Ne),{keyboardNavigationDelegate:{mightProducePrintableCharacter(zi){return di.mightProducePrintableCharacter(zi)}},smoothScrolling:!!Bt.getValue(ft),mouseWheelScrollSensitivity:Bt.getValue(Ye),fastScrollSensitivity:Bt.getValue(vt),multipleSelectionController:(gt=Ne.multipleSelectionController)!==null&&gt!==void 0?gt:hi.add(new tt(Bt)),keyboardNavigationEventFilter:mt(di),scrollByPage:!!Bt.getValue(dt)}),hi]}let kt=class extends E.aV{constructor(Ne,gt,Bt,di,hi,Ni,zi,Gi,ln){const ji=typeof hi.horizontalScrolling!="undefined"?hi.horizontalScrolling:!!Gi.getValue(Ri),[dn,tn]=ln.invokeFunction(_t,hi);super(Ne,gt,Bt,di,Ki(vi({keyboardSupport:!1},dn),{horizontalScrolling:ji})),this.disposables.add(tn),this.contextKeyService=An(Ni,this),this.disposables.add(Zt(this.contextKeyService,this)),this.listSupportsMultiSelect=Di.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(hi.multipleSelectionSupport!==!1),wn.bindTo(this.contextKeyService).set(!!hi.selectionNavigation),this.listHasSelectionOrFocus=Bi.bindTo(this.contextKeyService),this.listDoubleSelection=Vi.bindTo(this.contextKeyService),this.listMultiSelection=Ji.bindTo(this.contextKeyService),this.horizontalScrolling=hi.horizontalScrolling,this._useAltAsMultipleSelectionModifier=st(Gi),this.disposables.add(this.contextKeyService),this.disposables.add(zi.register(this)),this.updateStyles(hi.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const rn=this.getSelection(),sn=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(rn.length>0||sn.length>0),this.listMultiSelection.set(rn.length>1),this.listDoubleSelection.set(rn.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const rn=this.getSelection(),sn=this.getFocus();this.listHasSelectionOrFocus.set(rn.length>0||sn.length>0)})),this.disposables.add(Gi.onDidChangeConfiguration(rn=>{rn.affectsConfiguration(ci)&&(this._useAltAsMultipleSelectionModifier=st(Gi));let sn={};if(rn.affectsConfiguration(Ri)&&this.horizontalScrolling===void 0){const fi=!!Gi.getValue(Ri);sn=Ki(vi({},sn),{horizontalScrolling:fi})}if(rn.affectsConfiguration(dt)){const fi=!!Gi.getValue(dt);sn=Ki(vi({},sn),{scrollByPage:fi})}if(rn.affectsConfiguration(ft)){const fi=!!Gi.getValue(ft);sn=Ki(vi({},sn),{smoothScrolling:fi})}if(rn.affectsConfiguration(Ye)){const fi=Gi.getValue(Ye);sn=Ki(vi({},sn),{mouseWheelScrollSensitivity:fi})}if(rn.affectsConfiguration(vt)){const fi=Gi.getValue(vt);sn=Ki(vi({},sn),{fastScrollSensitivity:fi})}Object.keys(sn).length>0&&this.updateOptions(sn)})),this.navigator=new ut(this,vi({configurationService:Gi},hi)),this.disposables.add(this.navigator)}updateOptions(Ne){super.updateOptions(Ne),Ne.overrideStyles!==void 0&&this.updateStyles(Ne.overrideStyles),Ne.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!Ne.multipleSelectionSupport)}updateStyles(Ne){this.style(Ne?(0,ti.TU)(Ne):ti.O2)}};kt=it([yt(5,pe.i6),yt(6,$t),yt(7,Te.Ui),yt(8,xt.TG)],kt);let at=class extends g{constructor(Ne,gt,Bt,di,hi,Ni,zi,Gi,ln){const ji=typeof hi.horizontalScrolling!="undefined"?hi.horizontalScrolling:!!Gi.getValue(Ri),[dn,tn]=ln.invokeFunction(_t,hi);super(Ne,gt,Bt,di,Ki(vi({keyboardSupport:!1},dn),{horizontalScrolling:ji})),this.disposables=new S.SL,this.disposables.add(tn),this.contextKeyService=An(Ni,this),this.disposables.add(Zt(this.contextKeyService,this.widget)),this.horizontalScrolling=hi.horizontalScrolling,this.listSupportsMultiSelect=Di.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(hi.multipleSelectionSupport!==!1),wn.bindTo(this.contextKeyService).set(!!hi.selectionNavigation),this._useAltAsMultipleSelectionModifier=st(Gi),this.disposables.add(this.contextKeyService),this.disposables.add(zi.register(this)),this.updateStyles(hi.overrideStyles),this.disposables.add(Gi.onDidChangeConfiguration(rn=>{rn.affectsConfiguration(ci)&&(this._useAltAsMultipleSelectionModifier=st(Gi));let sn={};if(rn.affectsConfiguration(Ri)&&this.horizontalScrolling===void 0){const fi=!!Gi.getValue(Ri);sn=Ki(vi({},sn),{horizontalScrolling:fi})}if(rn.affectsConfiguration(dt)){const fi=!!Gi.getValue(dt);sn=Ki(vi({},sn),{scrollByPage:fi})}if(rn.affectsConfiguration(ft)){const fi=!!Gi.getValue(ft);sn=Ki(vi({},sn),{smoothScrolling:fi})}if(rn.affectsConfiguration(Ye)){const fi=Gi.getValue(Ye);sn=Ki(vi({},sn),{mouseWheelScrollSensitivity:fi})}if(rn.affectsConfiguration(vt)){const fi=Gi.getValue(vt);sn=Ki(vi({},sn),{fastScrollSensitivity:fi})}Object.keys(sn).length>0&&this.updateOptions(sn)})),this.navigator=new ut(this,vi({configurationService:Gi},hi)),this.disposables.add(this.navigator)}updateOptions(Ne){super.updateOptions(Ne),Ne.overrideStyles!==void 0&&this.updateStyles(Ne.overrideStyles),Ne.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!Ne.multipleSelectionSupport)}updateStyles(Ne){this.style(Ne?(0,ti.TU)(Ne):ti.O2)}dispose(){this.disposables.dispose(),super.dispose()}};at=it([yt(5,pe.i6),yt(6,$t),yt(7,Te.Ui),yt(8,xt.TG)],at);let ht=class extends l{constructor(Ne,gt,Bt,di,hi,Ni,zi,Gi,ln,ji){const dn=typeof Ni.horizontalScrolling!="undefined"?Ni.horizontalScrolling:!!ln.getValue(Ri),[tn,Hi]=ji.invokeFunction(_t,Ni);super(Ne,gt,Bt,di,hi,Ki(vi({keyboardSupport:!1},tn),{horizontalScrolling:dn})),this.disposables.add(Hi),this.contextKeyService=An(zi,this),this.disposables.add(Zt(this.contextKeyService,this)),this.listSupportsMultiSelect=Di.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Ni.multipleSelectionSupport!==!1),wn.bindTo(this.contextKeyService).set(!!Ni.selectionNavigation),this.listHasSelectionOrFocus=Bi.bindTo(this.contextKeyService),this.listDoubleSelection=Vi.bindTo(this.contextKeyService),this.listMultiSelection=Ji.bindTo(this.contextKeyService),this.horizontalScrolling=Ni.horizontalScrolling,this._useAltAsMultipleSelectionModifier=st(ln),this.disposables.add(this.contextKeyService),this.disposables.add(Gi.register(this)),this.updateStyles(Ni.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const sn=this.getSelection(),fi=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(sn.length>0||fi.length>0),this.listMultiSelection.set(sn.length>1),this.listDoubleSelection.set(sn.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const sn=this.getSelection(),fi=this.getFocus();this.listHasSelectionOrFocus.set(sn.length>0||fi.length>0)})),this.disposables.add(ln.onDidChangeConfiguration(sn=>{sn.affectsConfiguration(ci)&&(this._useAltAsMultipleSelectionModifier=st(ln));let fi={};if(sn.affectsConfiguration(Ri)&&this.horizontalScrolling===void 0){const Je=!!ln.getValue(Ri);fi=Ki(vi({},fi),{horizontalScrolling:Je})}if(sn.affectsConfiguration(dt)){const Je=!!ln.getValue(dt);fi=Ki(vi({},fi),{scrollByPage:Je})}if(sn.affectsConfiguration(ft)){const Je=!!ln.getValue(ft);fi=Ki(vi({},fi),{smoothScrolling:Je})}if(sn.affectsConfiguration(Ye)){const Je=ln.getValue(Ye);fi=Ki(vi({},fi),{mouseWheelScrollSensitivity:Je})}if(sn.affectsConfiguration(vt)){const Je=ln.getValue(vt);fi=Ki(vi({},fi),{fastScrollSensitivity:Je})}Object.keys(fi).length>0&&this.updateOptions(fi)})),this.navigator=new ke(this,vi({configurationService:ln},Ni)),this.disposables.add(this.navigator)}updateOptions(Ne){super.updateOptions(Ne),Ne.overrideStyles!==void 0&&this.updateStyles(Ne.overrideStyles),Ne.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!Ne.multipleSelectionSupport)}updateStyles(Ne){this.style(Ne?(0,ti.TU)(Ne):ti.O2)}dispose(){this.disposables.dispose(),super.dispose()}};ht=it([yt(6,pe.i6),yt(7,$t),yt(8,Te.Ui),yt(9,xt.TG)],ht);class Mt extends S.JT{constructor(Ne,gt){var Bt;super(),this.widget=Ne,this._onDidOpen=this._register(new O.Q5),this.onDidOpen=this._onDidOpen.event,this._register(O.ju.filter(this.widget.onDidChangeSelection,di=>(0,o.vd)(di.browserEvent))(di=>this.onSelectionFromKeyboard(di))),this._register(this.widget.onPointer(di=>this.onPointer(di.element,di.browserEvent))),this._register(this.widget.onMouseDblClick(di=>this.onMouseDblClick(di.element,di.browserEvent))),typeof(gt==null?void 0:gt.openOnSingleClick)!="boolean"&&(gt!=null&&gt.configurationService)?(this.openOnSingleClick=(gt==null?void 0:gt.configurationService.getValue(_i))!=="doubleClick",this._register(gt==null?void 0:gt.configurationService.onDidChangeConfiguration(di=>{di.affectsConfiguration(_i)&&(this.openOnSingleClick=(gt==null?void 0:gt.configurationService.getValue(_i))!=="doubleClick")}))):this.openOnSingleClick=(Bt=gt==null?void 0:gt.openOnSingleClick)!==null&&Bt!==void 0?Bt:!0}onSelectionFromKeyboard(Ne){if(Ne.elements.length!==1)return;const gt=Ne.browserEvent,Bt=typeof gt.preserveFocus=="boolean"?gt.preserveFocus:!0,di=typeof gt.pinned=="boolean"?gt.pinned:!Bt;this._open(this.getSelectedElement(),Bt,di,!1,Ne.browserEvent)}onPointer(Ne,gt){if(!this.openOnSingleClick||gt.detail===2)return;const di=gt.button===1,hi=!0,Ni=di,zi=gt.ctrlKey||gt.metaKey||gt.altKey;this._open(Ne,hi,Ni,zi,gt)}onMouseDblClick(Ne,gt){if(!gt)return;const Bt=gt.target;if(Bt.classList.contains("monaco-tl-twistie")||Bt.classList.contains("monaco-icon-label")&&Bt.classList.contains("folder-icon")&&gt.offsetX<16)return;const hi=!1,Ni=!0,zi=gt.ctrlKey||gt.metaKey||gt.altKey;this._open(Ne,hi,Ni,zi,gt)}_open(Ne,gt,Bt,di,hi){Ne&&this._onDidOpen.fire({editorOptions:{preserveFocus:gt,pinned:Bt,revealIfVisible:!0},sideBySide:di,element:Ne,browserEvent:hi})}}class ut extends Mt{constructor(Ne,gt){super(Ne,gt),this.widget=Ne}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class ke extends Mt{constructor(Ne,gt){super(Ne,gt)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class lt extends Mt{constructor(Ne,gt){super(Ne,gt)}getSelectedElement(){var Ne;return(Ne=this.widget.getSelection()[0])!==null&&Ne!==void 0?Ne:void 0}}function mt(Jt){let Ne=!1;return gt=>{if(gt.toKeyCodeChord().isModifierKey())return!1;if(Ne)return Ne=!1,!1;const Bt=Jt.softDispatch(gt,gt.target);return Bt.kind===1?(Ne=!0,!1):(Ne=!1,Bt.kind===0)}}let Ve=class extends Q{constructor(Ne,gt,Bt,di,hi,Ni,zi,Gi,ln){const{options:ji,getTypeNavigationMode:dn,disposable:tn}=Ni.invokeFunction(Ii,hi);super(Ne,gt,Bt,di,ji),this.disposables.add(tn),this.internals=new Qi(this,hi,dn,hi.overrideStyles,zi,Gi,ln),this.disposables.add(this.internals)}updateOptions(Ne){super.updateOptions(Ne),this.internals.updateOptions(Ne)}};Ve=it([yt(5,xt.TG),yt(6,pe.i6),yt(7,$t),yt(8,Te.Ui)],Ve);let Tt=class extends ne{constructor(Ne,gt,Bt,di,hi,Ni,zi,Gi,ln){const{options:ji,getTypeNavigationMode:dn,disposable:tn}=Ni.invokeFunction(Ii,hi);super(Ne,gt,Bt,di,ji),this.disposables.add(tn),this.internals=new Qi(this,hi,dn,hi.overrideStyles,zi,Gi,ln),this.disposables.add(this.internals)}updateOptions(Ne={}){super.updateOptions(Ne),Ne.overrideStyles&&this.internals.updateStyleOverrides(Ne.overrideStyles),this.internals.updateOptions(Ne)}};Tt=it([yt(5,xt.TG),yt(6,pe.i6),yt(7,$t),yt(8,Te.Ui)],Tt);let At=class extends de{constructor(Ne,gt,Bt,di,hi,Ni,zi,Gi,ln,ji){const{options:dn,getTypeNavigationMode:tn,disposable:Hi}=zi.invokeFunction(Ii,Ni);super(Ne,gt,Bt,di,hi,dn),this.disposables.add(Hi),this.internals=new Qi(this,Ni,tn,Ni.overrideStyles,Gi,ln,ji),this.disposables.add(this.internals)}updateOptions(Ne={}){super.updateOptions(Ne),Ne.overrideStyles!==void 0&&this.internals.updateStyleOverrides(Ne.overrideStyles),this.internals.updateOptions(Ne)}};At=it([yt(6,xt.TG),yt(7,pe.i6),yt(8,$t),yt(9,Te.Ui)],At);let Qt=class extends xe{get onDidOpen(){return this.internals.onDidOpen}constructor(Ne,gt,Bt,di,hi,Ni,zi,Gi,ln,ji){const{options:dn,getTypeNavigationMode:tn,disposable:Hi}=zi.invokeFunction(Ii,Ni);super(Ne,gt,Bt,di,hi,dn),this.disposables.add(Hi),this.internals=new Qi(this,Ni,tn,Ni.overrideStyles,Gi,ln,ji),this.disposables.add(this.internals)}updateOptions(Ne={}){super.updateOptions(Ne),Ne.overrideStyles&&this.internals.updateStyleOverrides(Ne.overrideStyles),this.internals.updateOptions(Ne)}};Qt=it([yt(6,xt.TG),yt(7,pe.i6),yt(8,$t),yt(9,Te.Ui)],Qt);let mi=class extends oe{constructor(Ne,gt,Bt,di,hi,Ni,zi,Gi,ln,ji,dn){const{options:tn,getTypeNavigationMode:Hi,disposable:rn}=Gi.invokeFunction(Ii,zi);super(Ne,gt,Bt,di,hi,Ni,tn),this.disposables.add(rn),this.internals=new Qi(this,zi,Hi,zi.overrideStyles,ln,ji,dn),this.disposables.add(this.internals)}updateOptions(Ne){super.updateOptions(Ne),this.internals.updateOptions(Ne)}};mi=it([yt(7,xt.TG),yt(8,pe.i6),yt(9,$t),yt(10,Te.Ui)],mi);function Ci(Jt){const Ne=Jt.getValue(Zi);if(Ne==="highlight")return D.sZ.Highlight;if(Ne==="filter")return D.sZ.Filter;const gt=Jt.getValue(Ze);if(gt==="simple"||gt==="highlight")return D.sZ.Highlight;if(gt==="filter")return D.sZ.Filter}function Oi(Jt){const Ne=Jt.getValue(Ue);if(Ne==="fuzzy")return D.Zd.Fuzzy;if(Ne==="contiguous")return D.Zd.Contiguous}function Ii(Jt,Ne){var gt;const Bt=Jt.get(Te.Ui),di=Jt.get(ot.u),hi=Jt.get(pe.i6),Ni=Jt.get(xt.TG),zi=()=>{const Hi=hi.getContextKeyValue(On);if(Hi==="automatic")return E.AA.Automatic;if(Hi==="trigger"||hi.getContextKeyValue(xn)===!1)return E.AA.Trigger;const sn=Bt.getValue(gi);if(sn==="automatic")return E.AA.Automatic;if(sn==="trigger")return E.AA.Trigger},Gi=Ne.horizontalScrolling!==void 0?Ne.horizontalScrolling:!!Bt.getValue(Ri),[ln,ji]=Ni.invokeFunction(_t,Ne),dn=Ne.paddingBottom,tn=Ne.renderIndentGuides!==void 0?Ne.renderIndentGuides:Bt.getValue(bt);return{getTypeNavigationMode:zi,disposable:ji,options:Ki(vi({keyboardSupport:!1},ln),{indent:typeof Bt.getValue($e)=="number"?Bt.getValue($e):void 0,renderIndentGuides:tn,smoothScrolling:!!Bt.getValue(ft),defaultFindMode:Ci(Bt),defaultFindMatchType:Oi(Bt),horizontalScrolling:Gi,scrollByPage:!!Bt.getValue(dt),paddingBottom:dn,hideTwistiesOfChildlessElements:Ne.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(gt=Ne.expandOnlyOnTwistieClick)!==null&&gt!==void 0?gt:Bt.getValue(nt)==="doubleClick",contextViewProvider:di,findWidgetStyles:ti.uX,enableStickyScroll:!!Bt.getValue(Ge),stickyScrollMaxItemCount:Number(Bt.getValue(rt))})}}let Qi=class{get onDidOpen(){return this.navigator.onDidOpen}constructor(Ne,gt,Bt,di,hi,Ni,zi){var Gi;this.tree=Ne,this.disposables=[],this.contextKeyService=An(hi,Ne),this.disposables.push(Zt(this.contextKeyService,Ne)),this.listSupportsMultiSelect=Di.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(gt.multipleSelectionSupport!==!1),wn.bindTo(this.contextKeyService).set(!!gt.selectionNavigation),this.listSupportFindWidget=yn.bindTo(this.contextKeyService),this.listSupportFindWidget.set((Gi=gt.findWidgetEnabled)!==null&&Gi!==void 0?Gi:!0),this.hasSelectionOrFocus=Bi.bindTo(this.contextKeyService),this.hasDoubleSelection=Vi.bindTo(this.contextKeyService),this.hasMultiSelection=Ji.bindTo(this.contextKeyService),this.treeElementCanCollapse=Cn.bindTo(this.contextKeyService),this.treeElementHasParent=an.bindTo(this.contextKeyService),this.treeElementCanExpand=Rn.bindTo(this.contextKeyService),this.treeElementHasChild=kn.bindTo(this.contextKeyService),this.treeFindOpen=fn.bindTo(this.contextKeyService),this.treeStickyScrollFocused=Gt.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=st(zi),this.updateStyleOverrides(di);const ji=()=>{const tn=Ne.getFocus()[0];if(!tn)return;const Hi=Ne.getNode(tn);this.treeElementCanCollapse.set(Hi.collapsible&&!Hi.collapsed),this.treeElementHasParent.set(!!Ne.getParentElement(tn)),this.treeElementCanExpand.set(Hi.collapsible&&Hi.collapsed),this.treeElementHasChild.set(!!Ne.getFirstElementChild(tn))},dn=new Set;dn.add(On),dn.add(xn),this.disposables.push(this.contextKeyService,Ni.register(Ne),Ne.onDidChangeSelection(()=>{const tn=Ne.getSelection(),Hi=Ne.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(tn.length>0||Hi.length>0),this.hasMultiSelection.set(tn.length>1),this.hasDoubleSelection.set(tn.length===2)})}),Ne.onDidChangeFocus(()=>{const tn=Ne.getSelection(),Hi=Ne.getFocus();this.hasSelectionOrFocus.set(tn.length>0||Hi.length>0),ji()}),Ne.onDidChangeCollapseState(ji),Ne.onDidChangeModel(ji),Ne.onDidChangeFindOpenState(tn=>this.treeFindOpen.set(tn)),Ne.onDidChangeStickyScrollFocused(tn=>this.treeStickyScrollFocused.set(tn)),zi.onDidChangeConfiguration(tn=>{let Hi={};if(tn.affectsConfiguration(ci)&&(this._useAltAsMultipleSelectionModifier=st(zi)),tn.affectsConfiguration($e)){const rn=zi.getValue($e);Hi=Ki(vi({},Hi),{indent:rn})}if(tn.affectsConfiguration(bt)&&gt.renderIndentGuides===void 0){const rn=zi.getValue(bt);Hi=Ki(vi({},Hi),{renderIndentGuides:rn})}if(tn.affectsConfiguration(ft)){const rn=!!zi.getValue(ft);Hi=Ki(vi({},Hi),{smoothScrolling:rn})}if(tn.affectsConfiguration(Zi)||tn.affectsConfiguration(Ze)){const rn=Ci(zi);Hi=Ki(vi({},Hi),{defaultFindMode:rn})}if(tn.affectsConfiguration(gi)||tn.affectsConfiguration(Ze)){const rn=Bt();Hi=Ki(vi({},Hi),{typeNavigationMode:rn})}if(tn.affectsConfiguration(Ue)){const rn=Oi(zi);Hi=Ki(vi({},Hi),{defaultFindMatchType:rn})}if(tn.affectsConfiguration(Ri)&&gt.horizontalScrolling===void 0){const rn=!!zi.getValue(Ri);Hi=Ki(vi({},Hi),{horizontalScrolling:rn})}if(tn.affectsConfiguration(dt)){const rn=!!zi.getValue(dt);Hi=Ki(vi({},Hi),{scrollByPage:rn})}if(tn.affectsConfiguration(nt)&&gt.expandOnlyOnTwistieClick===void 0&&(Hi=Ki(vi({},Hi),{expandOnlyOnTwistieClick:zi.getValue(nt)==="doubleClick"})),tn.affectsConfiguration(Ge)){const rn=zi.getValue(Ge);Hi=Ki(vi({},Hi),{enableStickyScroll:rn})}if(tn.affectsConfiguration(rt)){const rn=Math.max(1,zi.getValue(rt));Hi=Ki(vi({},Hi),{stickyScrollMaxItemCount:rn})}if(tn.affectsConfiguration(Ye)){const rn=zi.getValue(Ye);Hi=Ki(vi({},Hi),{mouseWheelScrollSensitivity:rn})}if(tn.affectsConfiguration(vt)){const rn=zi.getValue(vt);Hi=Ki(vi({},Hi),{fastScrollSensitivity:rn})}Object.keys(Hi).length>0&&Ne.updateOptions(Hi)}),this.contextKeyService.onDidChangeContext(tn=>{tn.affectsSome(dn)&&Ne.updateOptions({typeNavigationMode:Bt()})})),this.navigator=new lt(Ne,vi({configurationService:zi},gt)),this.disposables.push(this.navigator)}updateOptions(Ne){Ne.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!Ne.multipleSelectionSupport)}updateStyleOverrides(Ne){this.tree.style(Ne?(0,ti.TU)(Ne):ti.O2)}dispose(){this.disposables=(0,S.B9)(this.disposables)}};Qi=it([yt(4,pe.i6),yt(5,$t),yt(6,Te.Ui)],Qi),oi.B.as(Ae.IP.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,Se.NC)("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[ci]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[(0,Se.NC)("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),(0,Se.NC)("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:(0,Se.NC)({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[_i]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,Se.NC)({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[Ri]:{type:"boolean",default:!1,description:(0,Se.NC)("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[dt]:{type:"boolean",default:!1,description:(0,Se.NC)("list.scrollByPage","Controls whether clicks in the scrollbar scroll page by page.")},[$e]:{type:"number",default:8,minimum:4,maximum:40,description:(0,Se.NC)("tree indent setting","Controls tree indentation in pixels.")},[bt]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,Se.NC)("render tree indent guides","Controls whether the tree should render indent guides.")},[ft]:{type:"boolean",default:!1,description:(0,Se.NC)("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[Ye]:{type:"number",default:1,markdownDescription:(0,Se.NC)("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[vt]:{type:"number",default:5,markdownDescription:(0,Se.NC)("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[Zi]:{type:"string",enum:["highlight","filter"],enumDescriptions:[(0,Se.NC)("defaultFindModeSettingKey.highlight","Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements."),(0,Se.NC)("defaultFindModeSettingKey.filter","Filter elements when searching.")],default:"highlight",description:(0,Se.NC)("defaultFindModeSettingKey","Controls the default find mode for lists and trees in the workbench.")},[Ze]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,Se.NC)("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),(0,Se.NC)("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),(0,Se.NC)("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:(0,Se.NC)("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter."),deprecated:!0,deprecationMessage:(0,Se.NC)("keyboardNavigationSettingKeyDeprecated","Please use 'workbench.list.defaultFindMode' and	'workbench.list.typeNavigationMode' instead.")},[Ue]:{type:"string",enum:["fuzzy","contiguous"],enumDescriptions:[(0,Se.NC)("defaultFindMatchTypeSettingKey.fuzzy","Use fuzzy matching when searching."),(0,Se.NC)("defaultFindMatchTypeSettingKey.contiguous","Use contiguous matching when searching.")],default:"fuzzy",description:(0,Se.NC)("defaultFindMatchTypeSettingKey","Controls the type of matching used when searching lists and trees in the workbench.")},[nt]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,Se.NC)("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[Ge]:{type:"boolean",default:!0,description:(0,Se.NC)("sticky scroll","Controls whether sticky scrolling is enabled in trees.")},[rt]:{type:"number",minimum:1,default:7,markdownDescription:(0,Se.NC)("sticky scroll maximum items","Controls the number of sticky elements displayed in the tree when `#workbench.tree.enableStickyScroll#` is enabled.")},[gi]:{type:"string",enum:["automatic","trigger"],default:"automatic",markdownDescription:(0,Se.NC)("typeNavigationMode2","Controls how type navigation works in lists and trees in the workbench. When set to `trigger`, type navigation begins once the `list.triggerTypeNavigation` command is run.")}}})},61629:function(et,Le,e){"use strict";e.d(Le,{VZ:function(){return S},in:function(){return p},kw:function(){return w},qA:function(){return m}});var o=e(79329),B=e(45029),x=e(80568),O=e(87058);const S=(0,O.yh)("logService");var p;(function(r){r[r.Off=0]="Off",r[r.Trace=1]="Trace",r[r.Debug=2]="Debug",r[r.Info=3]="Info",r[r.Warning=4]="Warning",r[r.Error=5]="Error"})(p||(p={}));const E=p.Info;class R extends B.JT{constructor(){super(...arguments),this.level=E,this._onDidChangeLogLevel=this._register(new o.Q5),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(i){this.level!==i&&(this.level=i,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}checkLogLevel(i){return this.level!==p.Off&&this.level<=i}}class w extends R{constructor(i=E,n=!0){super(),this.useColors=n,this.setLevel(i)}trace(i,...n){this.checkLogLevel(p.Trace)&&(this.useColors?console.log("%cTRACE","color: #888",i,...n):console.log(i,...n))}debug(i,...n){this.checkLogLevel(p.Debug)&&(this.useColors?console.log("%cDEBUG","background: #eee; color: #888",i,...n):console.log(i,...n))}info(i,...n){this.checkLogLevel(p.Info)&&(this.useColors?console.log("%c INFO","color: #33f",i,...n):console.log(i,...n))}warn(i,...n){this.checkLogLevel(p.Warning)&&(this.useColors?console.log("%c WARN","color: #993",i,...n):console.log(i,...n))}error(i,...n){this.checkLogLevel(p.Error)&&(this.useColors?console.log("%c  ERR","color: #f33",i,...n):console.error(i,...n))}}class m extends R{constructor(i){super(),this.loggers=i,i.length&&this.setLevel(i[0].getLevel())}setLevel(i){for(const n of this.loggers)n.setLevel(i);super.setLevel(i)}trace(i,...n){for(const c of this.loggers)c.trace(i,...n)}debug(i,...n){for(const c of this.loggers)c.debug(i,...n)}info(i,...n){for(const c of this.loggers)c.info(i,...n)}warn(i,...n){for(const c of this.loggers)c.warn(i,...n)}error(i,...n){for(const c of this.loggers)c.error(i,...n)}dispose(){for(const i of this.loggers)i.dispose();super.dispose()}}function g(r){switch(r){case p.Trace:return"trace";case p.Debug:return"debug";case p.Info:return"info";case p.Warning:return"warn";case p.Error:return"error";case p.Off:return"off"}}const a=new x.uy("logLevel",g(p.Info))},91466:function(et,Le,e){"use strict";e.d(Le,{H0:function(){return S},ZL:function(){return O},lT:function(){return p}});var o=e(25632),B=e(61652),x=e(87058),O;(function(E){E[E.Hint=1]="Hint",E[E.Info=2]="Info",E[E.Warning=4]="Warning",E[E.Error=8]="Error"})(O||(O={})),function(E){function R(r,i){return i-r}E.compare=R;const w=Object.create(null);w[E.Error]=(0,B.NC)("sev.error","Error"),w[E.Warning]=(0,B.NC)("sev.warning","Warning"),w[E.Info]=(0,B.NC)("sev.info","Info");function m(r){return w[r]||""}E.toString=m;function g(r){switch(r){case o.Z.Error:return E.Error;case o.Z.Warning:return E.Warning;case o.Z.Info:return E.Info;case o.Z.Ignore:return E.Hint}}E.fromSeverity=g;function a(r){switch(r){case E.Error:return o.Z.Error;case E.Warning:return o.Z.Warning;case E.Info:return o.Z.Info;case E.Hint:return o.Z.Ignore}}E.toSeverity=a}(O||(O={}));var S;(function(E){const R="";function w(g){return m(g,!0)}E.makeKey=w;function m(g,a){const r=[R];return g.source?r.push(g.source.replace("\xA6","\\\xA6")):r.push(R),g.code?typeof g.code=="string"?r.push(g.code.replace("\xA6","\\\xA6")):r.push(g.code.value.replace("\xA6","\\\xA6")):r.push(R),g.severity!==void 0&&g.severity!==null?r.push(O.toString(g.severity)):r.push(R),g.message&&a?r.push(g.message.replace("\xA6","\\\xA6")):r.push(R),g.startLineNumber!==void 0&&g.startLineNumber!==null?r.push(g.startLineNumber.toString()):r.push(R),g.startColumn!==void 0&&g.startColumn!==null?r.push(g.startColumn.toString()):r.push(R),g.endLineNumber!==void 0&&g.endLineNumber!==null?r.push(g.endLineNumber.toString()):r.push(R),g.endColumn!==void 0&&g.endColumn!==null?r.push(g.endColumn.toString()):r.push(R),r.push(R),r.join("\xA6")}E.makeKeyOptionalMessage=m})(S||(S={}));const p=(0,x.yh)("markerService")},52994:function(et,Le,e){"use strict";e.d(Le,{EO:function(){return S},lT:function(){return O},zb:function(){return x}});var o=e(25632),B=e(87058),x=o.Z;const O=(0,B.yh)("notificationService");class S{}},27473:function(et,Le,e){"use strict";e.d(Le,{v:function(){return B},x:function(){return x}});var o=e(87058);const B=(0,o.yh)("openerService");function x(O){let S;const p=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(O.fragment);return p&&(S={startLineNumber:parseInt(p[1]),startColumn:p[2]?parseInt(p[2]):1,endLineNumber:p[4]?parseInt(p[4]):void 0,endColumn:p[4]?p[5]?parseInt(p[5]):1:void 0},O=O.with({fragment:""})),{selection:S,uri:O}}},80731:function(et,Le,e){"use strict";e.d(Le,{Ex:function(){return O},R9:function(){return B},ek:function(){return S}});var o=e(87058);const B=(0,o.yh)("progressService"),x=Object.freeze({total(){},worked(){},done(){}});class O{constructor(E){this.callback=E}report(E){this._value=E,this.callback(this._value)}}O.None=Object.freeze({report(){}});const S=(0,o.yh)("editorProgressService")},1430:function(et,Le,e){"use strict";e.d(Le,{IP:function(){return S},Ry:function(){return O}});var o=e(71221),B=e(45029),x=e(2816),O;(function(E){E[E.PRESERVE=0]="PRESERVE",E[E.LAST=1]="LAST"})(O||(O={}));const S={Quickaccess:"workbench.contributions.quickaccess"};class p{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(R){return R.prefix.length===0?this.defaultProvider=R:this.providers.push(R),this.providers.sort((w,m)=>m.prefix.length-w.prefix.length),(0,B.OF)(()=>{this.providers.splice(this.providers.indexOf(R),1),this.defaultProvider===R&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,o.kX)([this.defaultProvider,...this.providers])}getQuickAccessProvider(R){return R&&this.providers.find(m=>R.startsWith(m.prefix))||void 0||this.defaultProvider}}x.B.add(S.Quickaccess,new p)},86773:function(et,Le,e){"use strict";e.d(Le,{Jq:function(){return x},X5:function(){return B},eJ:function(){return E},jG:function(){return O}});var o=e(87058);const B={ctrlCmd:!1,alt:!1};var x;(function(R){R[R.Blur=1]="Blur",R[R.Gesture=2]="Gesture",R[R.Other=3]="Other"})(x||(x={}));var O;(function(R){R[R.NONE=0]="NONE",R[R.FIRST=1]="FIRST",R[R.SECOND=2]="SECOND",R[R.LAST=3]="LAST"})(O||(O={}));class S{constructor(w){this.options=w}}const p=new S,E=(0,o.yh)("quickInputService")},2816:function(et,Le,e){"use strict";e.d(Le,{B:function(){return O}});var o=e(9751),B=e(26974);class x{constructor(){this.data=new Map}add(p,E){o.ok(B.HD(p)),o.ok(B.Kn(E)),o.ok(!this.data.has(p),"There is already an extension with this id"),this.data.set(p,E)}as(p){return this.data.get(p)||null}}const O=new x},10783:function(et,Le,e){"use strict";e.d(Le,{Uy:function(){return a},vm:function(){return c},fk:function(){return r}});var o=e(79329),B=e(45029),x=e(26974),O=e(74696),S=e(66492),p;(function(u){u[u.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",u[u.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY"})(p||(p={}));var E;(function(u){u[u.None=0]="None",u[u.Initialized=1]="Initialized",u[u.Closed=2]="Closed"})(E||(E={}));class R extends B.JT{constructor(l,D=Object.create(null)){super(),this.database=l,this.options=D,this._onDidChangeStorage=this._register(new o.K3),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=E.None,this.cache=new Map,this.flushDelayer=this._register(new O.rH(R.DEFAULT_FLUSH_DELAY)),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(l=>this.onDidChangeItemsExternal(l)))}onDidChangeItemsExternal(l){var D,f;this._onDidChangeStorage.pause();try{(D=l.changed)===null||D===void 0||D.forEach((y,C)=>this.acceptExternal(C,y)),(f=l.deleted)===null||f===void 0||f.forEach(y=>this.acceptExternal(y,void 0))}finally{this._onDidChangeStorage.resume()}}acceptExternal(l,D){if(this.state===E.Closed)return;let f=!1;(0,x.Jp)(D)?f=this.cache.delete(l):this.cache.get(l)!==D&&(this.cache.set(l,D),f=!0),f&&this._onDidChangeStorage.fire({key:l,external:!0})}get(l,D){const f=this.cache.get(l);return(0,x.Jp)(f)?D:f}getBoolean(l,D){const f=this.get(l);return(0,x.Jp)(f)?D:f==="true"}getNumber(l,D){const f=this.get(l);return(0,x.Jp)(f)?D:parseInt(f,10)}set(l,D,f=!1){return Ft(this,null,function*(){if(this.state===E.Closed)return;if((0,x.Jp)(D))return this.delete(l,f);const y=(0,x.Kn)(D)||Array.isArray(D)?(0,S.Pz)(D):String(D);if(this.cache.get(l)!==y)return this.cache.set(l,y),this.pendingInserts.set(l,y),this.pendingDeletes.delete(l),this._onDidChangeStorage.fire({key:l,external:f}),this.doFlush()})}delete(l,D=!1){return Ft(this,null,function*(){if(!(this.state===E.Closed||!this.cache.delete(l)))return this.pendingDeletes.has(l)||this.pendingDeletes.add(l),this.pendingInserts.delete(l),this._onDidChangeStorage.fire({key:l,external:D}),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return Ft(this,null,function*(){if(!this.hasPending)return;const l={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(l).finally(()=>{var D;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(D=this.whenFlushedCallbacks.pop())===null||D===void 0||D()})})}doFlush(l){return Ft(this,null,function*(){return this.options.hint===p.STORAGE_IN_MEMORY?this.flushPending():this.flushDelayer.trigger(()=>this.flushPending(),l)})}}R.DEFAULT_FLUSH_DELAY=100;class w{constructor(){this.onDidChangeItemsExternal=o.ju.None,this.items=new Map}updateItems(l){return Ft(this,null,function*(){var D,f;(D=l.insert)===null||D===void 0||D.forEach((y,C)=>this.items.set(C,y)),(f=l.delete)===null||f===void 0||f.forEach(y=>this.items.delete(y))})}}var m=e(87058);const g="__$__targetStorageMarker",a=(0,m.yh)("storageService");var r;(function(u){u[u.NONE=0]="NONE",u[u.SHUTDOWN=1]="SHUTDOWN"})(r||(r={}));function i(u){const l=u.get(g);if(l)try{return JSON.parse(l)}catch(D){}return Object.create(null)}class n extends B.JT{constructor(l={flushInterval:n.DEFAULT_FLUSH_INTERVAL}){super(),this.options=l,this._onDidChangeValue=this._register(new o.K3),this._onDidChangeTarget=this._register(new o.K3),this._onWillSaveState=this._register(new o.Q5),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}onDidChangeValue(l,D,f){return o.ju.filter(this._onDidChangeValue.event,y=>y.scope===l&&(D===void 0||y.key===D),f)}emitDidChangeValue(l,D){const{key:f,external:y}=D;if(f===g){switch(l){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0;break}this._onDidChangeTarget.fire({scope:l})}else this._onDidChangeValue.fire({scope:l,key:f,target:this.getKeyTargets(l)[f],external:y})}get(l,D,f){var y;return(y=this.getStorage(D))===null||y===void 0?void 0:y.get(l,f)}getBoolean(l,D,f){var y;return(y=this.getStorage(D))===null||y===void 0?void 0:y.getBoolean(l,f)}getNumber(l,D,f){var y;return(y=this.getStorage(D))===null||y===void 0?void 0:y.getNumber(l,f)}store(l,D,f,y,C=!1){if((0,x.Jp)(D)){this.remove(l,f,C);return}this.withPausedEmitters(()=>{var _;this.updateKeyTarget(l,f,y),(_=this.getStorage(f))===null||_===void 0||_.set(l,D,C)})}remove(l,D,f=!1){this.withPausedEmitters(()=>{var y;this.updateKeyTarget(l,D,void 0),(y=this.getStorage(D))===null||y===void 0||y.delete(l,f)})}withPausedEmitters(l){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{l()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(l,D,f,y=!1){var C,_;const N=this.getKeyTargets(D);typeof f=="number"?N[l]!==f&&(N[l]=f,(C=this.getStorage(D))===null||C===void 0||C.set(g,JSON.stringify(N),y)):typeof N[l]=="number"&&(delete N[l],(_=this.getStorage(D))===null||_===void 0||_.set(g,JSON.stringify(N),y))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(l){switch(l){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(l){const D=this.getStorage(l);return D?i(D):Object.create(null)}}n.DEFAULT_FLUSH_INTERVAL=60*1e3;class c extends n{constructor(){super(),this.applicationStorage=this._register(new R(new w,{hint:p.STORAGE_IN_MEMORY})),this.profileStorage=this._register(new R(new w,{hint:p.STORAGE_IN_MEMORY})),this.workspaceStorage=this._register(new R(new w,{hint:p.STORAGE_IN_MEMORY})),this._register(this.workspaceStorage.onDidChangeStorage(l=>this.emitDidChangeValue(1,l))),this._register(this.profileStorage.onDidChangeStorage(l=>this.emitDidChangeValue(0,l))),this._register(this.applicationStorage.onDidChangeStorage(l=>this.emitDidChangeValue(-1,l)))}getStorage(l){switch(l){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}},79553:function(et,Le,e){"use strict";e.d(Le,{b:function(){return B}});var o=e(87058);const B=(0,o.yh)("telemetryService")},26179:function(et,Le,e){"use strict";e.d(Le,{BM:function(){return c},Hc:function(){return m},O2:function(){return i},TU:function(){return n},ZR:function(){return u},b5:function(){return p},eO:function(){return O},ku:function(){return a},pl:function(){return E},uX:function(){return g},wG:function(){return S}});var o=e(97341),B=e(64707);function x(l,D){const f=vi({},D);for(const y in l){const C=l[y];f[y]=C!==void 0?(0,o.n_1)(C):void 0}return f}const O={keybindingLabelBackground:(0,o.n_1)(o.oQ$),keybindingLabelForeground:(0,o.n_1)(o.lWp),keybindingLabelBorder:(0,o.n_1)(o.AWI),keybindingLabelBottomBorder:(0,o.n_1)(o.K19),keybindingLabelShadow:(0,o.n_1)(o.rh)},S={buttonForeground:(0,o.n_1)(o.j5u),buttonSeparator:(0,o.n_1)(o.iFQ),buttonBackground:(0,o.n_1)(o.b7$),buttonHoverBackground:(0,o.n_1)(o.GO4),buttonSecondaryForeground:(0,o.n_1)(o.qBU),buttonSecondaryBackground:(0,o.n_1)(o.ESD),buttonSecondaryHoverBackground:(0,o.n_1)(o.xEn),buttonBorder:(0,o.n_1)(o.GYc)},p={progressBarBackground:(0,o.n_1)(o.zRJ)},E={inputActiveOptionBorder:(0,o.n_1)(o.PRb),inputActiveOptionForeground:(0,o.n_1)(o.Pvw),inputActiveOptionBackground:(0,o.n_1)(o.XEs)},R={checkboxBackground:(0,o.n_1)(o.SUp),checkboxBorder:(0,o.n_1)(o.nd),checkboxForeground:(0,o.n_1)(o.BQ0)},w={dialogBackground:(0,o.n_1)(o.D0T),dialogForeground:(0,o.n_1)(o.Hfx),dialogShadow:(0,o.n_1)(o.rh),dialogBorder:(0,o.n_1)(o.lRK),errorIconForeground:(0,o.n_1)(o.JpG),warningIconForeground:(0,o.n_1)(o.BOY),infoIconForeground:(0,o.n_1)(o.OLZ),textLinkForeground:(0,o.n_1)(o.url)},m={inputBackground:(0,o.n_1)(o.sEe),inputForeground:(0,o.n_1)(o.zJb),inputBorder:(0,o.n_1)(o.dt_),inputValidationInfoBorder:(0,o.n_1)(o.EPQ),inputValidationInfoBackground:(0,o.n_1)(o._lC),inputValidationInfoForeground:(0,o.n_1)(o.YI3),inputValidationWarningBorder:(0,o.n_1)(o.C3g),inputValidationWarningBackground:(0,o.n_1)(o.RV_),inputValidationWarningForeground:(0,o.n_1)(o.SUG),inputValidationErrorBorder:(0,o.n_1)(o.OZR),inputValidationErrorBackground:(0,o.n_1)(o.paE),inputValidationErrorForeground:(0,o.n_1)(o._t9)},g={listFilterWidgetBackground:(0,o.n_1)(o.vGG),listFilterWidgetOutline:(0,o.n_1)(o.oSI),listFilterWidgetNoMatchesOutline:(0,o.n_1)(o.Saq),listFilterWidgetShadow:(0,o.n_1)(o.y65),inputBoxStyles:m,toggleStyles:E},a={badgeBackground:(0,o.n_1)(o.g8u),badgeForeground:(0,o.n_1)(o.qeD),badgeBorder:(0,o.n_1)(o.lRK)},r={breadcrumbsBackground:(0,o.n_1)(o.ixd),breadcrumbsForeground:(0,o.n_1)(o.l80),breadcrumbsHoverForeground:(0,o.n_1)(o.H6q),breadcrumbsFocusForeground:(0,o.n_1)(o.H6q),breadcrumbsFocusAndSelectionForeground:(0,o.n_1)(o.fSI)},i={listBackground:void 0,listInactiveFocusForeground:void 0,listFocusBackground:(0,o.n_1)(o._bK),listFocusForeground:(0,o.n_1)(o._2n),listFocusOutline:(0,o.n_1)(o.Oop),listActiveSelectionBackground:(0,o.n_1)(o.dCr),listActiveSelectionForeground:(0,o.n_1)(o.M6C),listActiveSelectionIconForeground:(0,o.n_1)(o.Tnx),listFocusAndSelectionOutline:(0,o.n_1)(o.Bqu),listFocusAndSelectionBackground:(0,o.n_1)(o.dCr),listFocusAndSelectionForeground:(0,o.n_1)(o.M6C),listInactiveSelectionBackground:(0,o.n_1)(o.rg2),listInactiveSelectionIconForeground:(0,o.n_1)(o.kvU),listInactiveSelectionForeground:(0,o.n_1)(o.ytC),listInactiveFocusBackground:(0,o.n_1)(o.s$),listInactiveFocusOutline:(0,o.n_1)(o.F3d),listHoverBackground:(0,o.n_1)(o.mV1),listHoverForeground:(0,o.n_1)(o.$d5),listDropOverBackground:(0,o.n_1)(o.pdn),listDropBetweenBackground:(0,o.n_1)(o.XVp),listSelectionOutline:(0,o.n_1)(o.xL1),listHoverOutline:(0,o.n_1)(o.xL1),treeIndentGuidesStroke:(0,o.n_1)(o.UnT),treeInactiveIndentGuidesStroke:(0,o.n_1)(o.KjV),treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:void 0,tableColumnsBorder:(0,o.n_1)(o.uxu),tableOddRowsBackgroundColor:(0,o.n_1)(o.EQn)};function n(l){return x(l,i)}const c={selectBackground:(0,o.n_1)(o.XV0),selectListBackground:(0,o.n_1)(o.Fgs),selectForeground:(0,o.n_1)(o._g0),decoratorRightForeground:(0,o.n_1)(o.kJk),selectBorder:(0,o.n_1)(o.a9O),focusBorder:(0,o.n_1)(o.R80),listFocusBackground:(0,o.n_1)(o.Vqd),listInactiveSelectionIconForeground:(0,o.n_1)(o.cbQ),listFocusForeground:(0,o.n_1)(o.NPS),listFocusOutline:(0,o.BtC)(o.xL1,B.Il.transparent.toString()),listHoverBackground:(0,o.n_1)(o.mV1),listHoverForeground:(0,o.n_1)(o.$d5),listHoverOutline:(0,o.n_1)(o.xL1),selectListBorder:(0,o.n_1)(o.D1_),listBackground:void 0,listActiveSelectionBackground:void 0,listActiveSelectionForeground:void 0,listActiveSelectionIconForeground:void 0,listFocusAndSelectionBackground:void 0,listDropOverBackground:void 0,listDropBetweenBackground:void 0,listInactiveSelectionBackground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusBackground:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listFocusAndSelectionForeground:void 0,listFocusAndSelectionOutline:void 0,listInactiveFocusForeground:void 0,tableColumnsBorder:void 0,tableOddRowsBackgroundColor:void 0,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0,treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:void 0},u={shadowColor:(0,o.n_1)(o.rh),borderColor:(0,o.n_1)(o.Cdg),foregroundColor:(0,o.n_1)(o.DEr),backgroundColor:(0,o.n_1)(o.Hz8),selectionForegroundColor:(0,o.n_1)(o.jbW),selectionBackgroundColor:(0,o.n_1)(o.$DX),selectionBorderColor:(0,o.n_1)(o.E3h),separatorColor:(0,o.n_1)(o.ZGJ),scrollbarShadow:(0,o.n_1)(o._wn),scrollbarSliderBackground:(0,o.n_1)(o.etL),scrollbarSliderHoverBackground:(0,o.n_1)(o.ABB),scrollbarSliderActiveBackground:(0,o.n_1)(o.ynu)}},97341:function(et,Le,e){"use strict";e.d(Le,{IPX:function(){return m},xL1:function(){return I},n_1:function(){return R},QO2:function(){return E},BtC:function(){return w},g8u:function(){return ee},qeD:function(){return re},fSI:function(){return ke},ixd:function(){return Mt},H6q:function(){return ut},l80:function(){return ht},b7$:function(){return Yi},GYc:function(){return hn},j5u:function(){return Mi},GO4:function(){return mn},ESD:function(){return ts},qBU:function(){return Pn},xEn:function(){return is},iFQ:function(){return Fi},SUp:function(){return Gn},nd:function(){return Cs},BQ0:function(){return Xn},lRK:function(){return P},CzK:function(){return Zt},keg:function(){return ci},ypS:function(){return _i},P6Y:function(){return Ue},F9q:function(){return $e},P4M:function(){return Ri},_Yy:function(){return je},cvW:function(){return X},b6y:function(){return me},lXJ:function(){return Ce},MUv:function(){return yt},EiJ:function(){return qt},gkn:function(){return Ht},NOs:function(){return ve},Dut:function(){return Ae},yJx:function(){return Ct},CNo:function(){return Di},ES4:function(){return jt},T83:function(){return Te},c63:function(){return Se},PpC:function(){return Vi},VVv:function(){return Bi},phM:function(){return Cn},HCL:function(){return yn},bKB:function(){return wn},hX8:function(){return Ji},hEj:function(){return ot},yb5:function(){return xt},Rzx:function(){return oi},gpD:function(){return be},pW3:function(){return ue},uoC:function(){return oe},D0T:function(){return fe},D1_:function(){return le},Hfx:function(){return $},R80:function(){return A},dRz:function(){return k},XZx:function(){return z},XEs:function(){return Mn},PRb:function(){return nn},Pvw:function(){return wt},sEe:function(){return Ui},dt_:function(){return Xi},zJb:function(){return Pi},paE:function(){return It},OZR:function(){return si},_t9:function(){return ni},_lC:function(){return J},EPQ:function(){return Re},YI3:function(){return ce},RV_:function(){return Be},C3g:function(){return Et},SUG:function(){return Xe},oQ$:function(){return Rs},AWI:function(){return _s},K19:function(){return rs},lWp:function(){return ps},dCr:function(){return Js},M6C:function(){return ws},Tnx:function(){return Es},XVp:function(){return gr},pdn:function(){return $o},vGG:function(){return _r},Saq:function(){return ko},oSI:function(){return qs},y65:function(){return Fo},Bqu:function(){return jo},_bK:function(){return Ns},_2n:function(){return qn},PX0:function(){return no},Oop:function(){return Vs},Gwp:function(){return io},mV1:function(){return Xs},$d5:function(){return lo},s$:function(){return Ms},F3d:function(){return fr},rg2:function(){return zs},ytC:function(){return to},kvU:function(){return hr},Hz8:function(){return ls},Cdg:function(){return Go},DEr:function(){return co},$DX:function(){return uo},E3h:function(){return Zo},jbW:function(){return so},ZGJ:function(){return vr},kVY:function(){return fi},Gj_:function(){return sn},SUY:function(){return ji},Itd:function(){return Je},Gvr:function(){return Hi},ov3:function(){return tn},IYc:function(){return dn},Ivo:function(){return rn},kwl:function(){return l},Fm_:function(){return hi},SPM:function(){return Ni},opG:function(){return br},kJk:function(){return Cr},JpG:function(){return zi},OLZ:function(){return ln},BOY:function(){return Gi},zRJ:function(){return ye},zKr:function(){return Fs},tZ6:function(){return Qo},Vqd:function(){return Wo},NPS:function(){return So},cbQ:function(){return Jo},loF:function(){return Yo},P6G:function(){return r},_wn:function(){return he},ynu:function(){return We},etL:function(){return M},ABB:function(){return we},XV0:function(){return Xt},a9O:function(){return xi},_g0:function(){return ui},Fgs:function(){return ri},uxu:function(){return as},EQn:function(){return Bo},url:function(){return G},ZnX:function(){return u},KjV:function(){return Gs},UnT:function(){return $s},A42:function(){return tt},rh:function(){return st}});var o=e(9751),B=e(74696),x=e(64707),O=e(79329),S=e(25210),p=e(2816);function E(In){return`--vscode-${In.replace(/\./g,"-")}`}function R(In){return`var(${E(In)})`}function w(In,Bn){return`var(${E(In)}, ${Bn})`}const m={ColorContribution:"base.contributions.colors"};class g{constructor(){this._onDidChangeSchema=new O.Q5,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(Bn,ds,cs,Ls=!1,Os){const Ds={id:Bn,description:cs,defaults:ds,needsTransparency:Ls,deprecationMessage:Os};this.colorsById[Bn]=Ds;const As={type:"string",description:cs,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return Os&&(As.deprecationMessage=Os),Ls&&(As.pattern="^#(?:(?<rgba>[0-9a-fA-f]{3}[0-9a-eA-E])|(?:[0-9a-fA-F]{6}(?:(?![fF]{2})(?:[0-9a-fA-F]{2}))))?$",As.patternErrorMessage="This color must be transparent or it will obscure content"),this.colorSchema.properties[Bn]=As,this.colorReferenceSchema.enum.push(Bn),this.colorReferenceSchema.enumDescriptions.push(cs),this._onDidChangeSchema.fire(),Bn}getColors(){return Object.keys(this.colorsById).map(Bn=>this.colorsById[Bn])}resolveDefaultColor(Bn,ds){const cs=this.colorsById[Bn];if(cs&&cs.defaults){const Ls=cs.defaults[ds.type];return y(Ls,ds)}}getColorSchema(){return this.colorSchema}toString(){const Bn=(ds,cs)=>{const Ls=ds.indexOf(".")===-1?0:1,Os=cs.indexOf(".")===-1?0:1;return Ls!==Os?Ls-Os:ds.localeCompare(cs)};return Object.keys(this.colorsById).sort(Bn).map(ds=>`- \`${ds}\`: ${this.colorsById[ds].description}`).join(`
`)}}const a=new g;p.B.add(m.ColorContribution,a);function r(In,Bn,ds,cs,Ls){return a.registerColor(In,Bn,ds,cs,Ls)}function i(In,Bn){var ds,cs,Ls,Os;switch(In.op){case 0:return(ds=y(In.value,Bn))===null||ds===void 0?void 0:ds.darken(In.factor);case 1:return(cs=y(In.value,Bn))===null||cs===void 0?void 0:cs.lighten(In.factor);case 2:return(Ls=y(In.value,Bn))===null||Ls===void 0?void 0:Ls.transparent(In.factor);case 3:{const Ds=y(In.background,Bn);return Ds?(Os=y(In.value,Bn))===null||Os===void 0?void 0:Os.makeOpaque(Ds):y(In.value,Bn)}case 4:for(const Ds of In.values){const As=y(Ds,Bn);if(As)return As}return;case 6:return y(Bn.defines(In.if)?In.then:In.else,Bn);case 5:{const Ds=y(In.value,Bn);if(!Ds)return;const As=y(In.background,Bn);return As?Ds.isDarkerThan(As)?x.Il.getLighterColor(Ds,As,In.factor).transparent(In.transparency):x.Il.getDarkerColor(Ds,As,In.factor).transparent(In.transparency):Ds.transparent(In.factor*In.transparency)}default:throw(0,o.vE)(In)}}function n(In,Bn){return{op:0,value:In,factor:Bn}}function c(In,Bn){return{op:1,value:In,factor:Bn}}function u(In,Bn){return{op:2,value:In,factor:Bn}}function l(...In){return{op:4,values:In}}function D(In,Bn,ds){return{op:6,if:In,then:Bn,else:ds}}function f(In,Bn,ds,cs){return{op:5,value:In,background:Bn,factor:ds,transparency:cs}}function y(In,Bn){if(In!==null){if(typeof In=="string")return In[0]==="#"?x.Il.fromHex(In):Bn.getColor(In);if(In instanceof x.Il)return In;if(typeof In=="object")return i(In,Bn)}}const C="vscode://schemas/workbench-colors",_=p.B.as(S.I.JSONContribution);_.registerSchema(C,a.getColorSchema());const N=new B.pY(()=>_.notifySchemaChanged(C),200);a.onDidChangeSchema(()=>{N.isScheduled()||N.schedule()});var b=e(61652);const k=r("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},b.NC("foreground","Overall foreground color. This color is only used if not overridden by a component.")),V=r("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},b.NC("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component.")),K=r("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},b.NC("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),Z=r("descriptionForeground",{light:"#717171",dark:u(k,.7),hcDark:u(k,.7),hcLight:u(k,.7)},b.NC("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),z=r("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},b.NC("iconForeground","The default color for icons in the workbench.")),A=r("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},b.NC("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),P=r("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},b.NC("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),I=r("contrastActiveBorder",{light:null,dark:null,hcDark:A,hcLight:A},b.NC("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),W=r("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},b.NC("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),G=r("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},b.NC("textLinkForeground","Foreground color for links in text.")),j=r("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},b.NC("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),Y=r("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:x.Il.black,hcLight:"#292929"},b.NC("textSeparatorForeground","Color for text separators.")),H=r("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#000000",hcLight:"#FFFFFF"},b.NC("textPreformatForeground","Foreground color for preformatted text segments.")),Q=r("textPreformat.background",{light:"#0000001A",dark:"#FFFFFF1A",hcDark:"#FFFFFF",hcLight:"#09345f"},b.NC("textPreformatBackground","Background color for preformatted text segments.")),ie=r("textBlockQuote.background",{light:"#f2f2f2",dark:"#222222",hcDark:null,hcLight:"#F2F2F2"},b.NC("textBlockQuoteBackground","Background color for block quotes in text.")),te=r("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:x.Il.white,hcLight:"#292929"},b.NC("textBlockQuoteBorder","Border color for block quotes in text.")),se=r("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:x.Il.black,hcLight:"#F2F2F2"},b.NC("textCodeBlockBackground","Background color for code blocks in text.")),ne=r("sash.hoverBorder",{dark:A,light:A,hcDark:A,hcLight:A},b.NC("sashActiveBorder","Border color of active sashes.")),ee=r("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:x.Il.black,hcLight:"#0F4A85"},b.NC("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),re=r("badge.foreground",{dark:x.Il.white,light:"#333",hcDark:x.Il.white,hcLight:x.Il.white},b.NC("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),he=r("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},b.NC("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),M=r("scrollbarSlider.background",{dark:x.Il.fromHex("#797979").transparent(.4),light:x.Il.fromHex("#646464").transparent(.4),hcDark:u(P,.6),hcLight:u(P,.4)},b.NC("scrollbarSliderBackground","Scrollbar slider background color.")),we=r("scrollbarSlider.hoverBackground",{dark:x.Il.fromHex("#646464").transparent(.7),light:x.Il.fromHex("#646464").transparent(.7),hcDark:u(P,.8),hcLight:u(P,.8)},b.NC("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),We=r("scrollbarSlider.activeBackground",{dark:x.Il.fromHex("#BFBFBF").transparent(.4),light:x.Il.fromHex("#000000").transparent(.6),hcDark:P,hcLight:P},b.NC("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),ye=r("progressBar.background",{dark:x.Il.fromHex("#0E70C0"),light:x.Il.fromHex("#0E70C0"),hcDark:P,hcLight:P},b.NC("progressBarBackground","Background color of the progress bar that can show for long running operations.")),X=r("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:x.Il.black,hcLight:x.Il.white},b.NC("editorBackground","Editor background color.")),ve=r("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:x.Il.white,hcLight:k},b.NC("editorForeground","Editor default foreground color.")),Ee=r("editorStickyScroll.background",{light:X,dark:X,hcDark:X,hcLight:X},b.NC("editorStickyScrollBackground","Background color of sticky scroll in the editor")),Oe=r("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:x.Il.fromHex("#0F4A85").transparent(.1)},b.NC("editorStickyScrollHoverBackground","Background color of sticky scroll on hover in the editor")),Ke=r("editorStickyScroll.border",{dark:null,light:null,hcDark:P,hcLight:P},b.NC("editorStickyScrollBorder","Border color of sticky scroll in the editor")),Qe=r("editorStickyScroll.shadow",{dark:he,light:he,hcDark:he,hcLight:he},b.NC("editorStickyScrollShadow"," Shadow color of sticky scroll in the editor")),fe=r("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:x.Il.white},b.NC("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),$=r("editorWidget.foreground",{dark:k,light:k,hcDark:k,hcLight:k},b.NC("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),le=r("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:P,hcLight:P},b.NC("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),De=r("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},b.NC("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),xe=r("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},b.NC("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Ce=r("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},b.NC("editorError.foreground","Foreground color of error squigglies in the editor.")),me=r("editorError.border",{dark:null,light:null,hcDark:x.Il.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},b.NC("errorBorder","If set, color of double underlines for errors in the editor.")),be=r("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},b.NC("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),oe=r("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},b.NC("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),ue=r("editorWarning.border",{dark:null,light:null,hcDark:x.Il.fromHex("#FFCC00").transparent(.8),hcLight:x.Il.fromHex("#FFCC00").transparent(.8)},b.NC("warningBorder","If set, color of double underlines for warnings in the editor.")),de=r("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},b.NC("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Se=r("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},b.NC("editorInfo.foreground","Foreground color of info squigglies in the editor.")),Te=r("editorInfo.border",{dark:null,light:null,hcDark:x.Il.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},b.NC("infoBorder","If set, color of double underlines for infos in the editor.")),Ae=r("editorHint.foreground",{dark:x.Il.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},b.NC("editorHint.foreground","Foreground color of hint squigglies in the editor.")),pe=r("editorHint.border",{dark:null,light:null,hcDark:x.Il.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},b.NC("hintBorder","If set, color of double underlines for hints in the editor.")),je=r("editorLink.activeForeground",{dark:"#4E94CE",light:x.Il.blue,hcDark:x.Il.cyan,hcLight:"#292929"},b.NC("activeLinkForeground","Color of active links.")),ot=r("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},b.NC("editorSelectionBackground","Color of the editor selection.")),xt=r("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:x.Il.white},b.NC("editorSelectionForeground","Color of the selected text for high contrast.")),jt=r("editor.inactiveSelectionBackground",{light:u(ot,.5),dark:u(ot,.5),hcDark:u(ot,.7),hcLight:u(ot,.5)},b.NC("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),oi=r("editor.selectionHighlightBackground",{light:f(ot,X,.3,.6),dark:f(ot,X,.3,.6),hcDark:null,hcLight:null},b.NC("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),ti=r("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:I,hcLight:I},b.NC("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),it=r("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},b.NC("editorFindMatch","Color of the current search match.")),yt=r("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},b.NC("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),$t=r("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},b.NC("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),Nt=r("editor.findMatchBorder",{light:null,dark:null,hcDark:I,hcLight:I},b.NC("editorFindMatchBorder","Border color of the current search match.")),qt=r("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:I,hcLight:I},b.NC("findMatchHighlightBorder","Border color of the other search matches.")),Ht=r("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:u(I,.4),hcLight:u(I,.4)},b.NC("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),He=r("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},b.NC("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),Ct=r("editorHoverWidget.background",{light:fe,dark:fe,hcDark:fe,hcLight:fe},b.NC("hoverBackground","Background color of the editor hover.")),Gt=r("editorHoverWidget.foreground",{light:$,dark:$,hcDark:$,hcLight:$},b.NC("hoverForeground","Foreground color of the editor hover.")),Di=r("editorHoverWidget.border",{light:le,dark:le,hcDark:le,hcLight:le},b.NC("hoverBorder","Border color of the editor hover.")),$i=r("editorHoverWidget.statusBarBackground",{dark:c(Ct,.2),light:n(Ct,.05),hcDark:fe,hcLight:fe},b.NC("statusBarBackground","Background color of the editor hover status bar.")),Bi=r("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:x.Il.white,hcLight:x.Il.black},b.NC("editorInlayHintForeground","Foreground color of inline hints")),Vi=r("editorInlayHint.background",{dark:u(ee,.1),light:u(ee,.1),hcDark:u(x.Il.white,.1),hcLight:u(ee,.1)},b.NC("editorInlayHintBackground","Background color of inline hints")),Ji=r("editorInlayHint.typeForeground",{dark:Bi,light:Bi,hcDark:Bi,hcLight:Bi},b.NC("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),wn=r("editorInlayHint.typeBackground",{dark:Vi,light:Vi,hcDark:Vi,hcLight:Vi},b.NC("editorInlayHintBackgroundTypes","Background color of inline hints for types")),yn=r("editorInlayHint.parameterForeground",{dark:Bi,light:Bi,hcDark:Bi,hcLight:Bi},b.NC("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),Cn=r("editorInlayHint.parameterBackground",{dark:Vi,light:Vi,hcDark:Vi,hcLight:Vi},b.NC("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),an=r("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},b.NC("editorLightBulbForeground","The color used for the lightbulb actions icon.")),Rn=r("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},b.NC("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),kn=r("editorLightBulbAi.foreground",{dark:an,light:an,hcDark:an,hcLight:an},b.NC("editorLightBulbAiForeground","The color used for the lightbulb AI icon.")),fn=r("editor.snippetTabstopHighlightBackground",{dark:new x.Il(new x.VS(124,124,124,.3)),light:new x.Il(new x.VS(10,50,100,.2)),hcDark:new x.Il(new x.VS(124,124,124,.3)),hcLight:new x.Il(new x.VS(10,50,100,.2))},b.NC("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),On=r("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},b.NC("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),xn=r("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},b.NC("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),An=r("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new x.Il(new x.VS(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},b.NC("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),Zt=new x.Il(new x.VS(155,185,85,.2)),ci=new x.Il(new x.VS(255,0,0,.2)),_i=r("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},b.NC("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),Ri=r("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},b.NC("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),Zi=r("diffEditor.insertedLineBackground",{dark:Zt,light:Zt,hcDark:null,hcLight:null},b.NC("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),gi=r("diffEditor.removedLineBackground",{dark:ci,light:ci,hcDark:null,hcLight:null},b.NC("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),Ze=r("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},b.NC("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),dt=r("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},b.NC("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),Ue=r("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},b.NC("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),$e=r("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},b.NC("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),bt=r("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},b.NC("diffEditorInsertedOutline","Outline color for the text that got inserted.")),ft=r("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},b.NC("diffEditorRemovedOutline","Outline color for text that got removed.")),Ye=r("diffEditor.border",{dark:null,light:null,hcDark:P,hcLight:P},b.NC("diffEditorBorder","Border color between the two text editors.")),vt=r("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},b.NC("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),nt=r("diffEditor.unchangedRegionBackground",{dark:"sideBar.background",light:"sideBar.background",hcDark:"sideBar.background",hcLight:"sideBar.background"},b.NC("diffEditor.unchangedRegionBackground","The background color of unchanged blocks in the diff editor.")),Ge=r("diffEditor.unchangedRegionForeground",{dark:"foreground",light:"foreground",hcDark:"foreground",hcLight:"foreground"},b.NC("diffEditor.unchangedRegionForeground","The foreground color of unchanged blocks in the diff editor.")),rt=r("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},b.NC("diffEditor.unchangedCodeBackground","The background color of unchanged code in the diff editor.")),st=r("widget.shadow",{dark:u(x.Il.black,.36),light:u(x.Il.black,.16),hcDark:null,hcLight:null},b.NC("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),tt=r("widget.border",{dark:null,light:null,hcDark:P,hcLight:P},b.NC("widgetBorder","Border color of widgets such as find/replace inside the editor.")),_t=r("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},b.NC("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),kt=r("toolbar.hoverOutline",{dark:null,light:null,hcDark:I,hcLight:I},b.NC("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),at=r("toolbar.activeBackground",{dark:c(_t,.1),light:n(_t,.1),hcDark:null,hcLight:null},b.NC("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),ht=r("breadcrumb.foreground",{light:u(k,.8),dark:u(k,.8),hcDark:u(k,.8),hcLight:u(k,.8)},b.NC("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),Mt=r("breadcrumb.background",{light:X,dark:X,hcDark:X,hcLight:X},b.NC("breadcrumbsBackground","Background color of breadcrumb items.")),ut=r("breadcrumb.focusForeground",{light:n(k,.2),dark:c(k,.1),hcDark:c(k,.1),hcLight:c(k,.1)},b.NC("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),ke=r("breadcrumb.activeSelectionForeground",{light:n(k,.2),dark:c(k,.1),hcDark:c(k,.1),hcLight:c(k,.1)},b.NC("breadcrumbsSelectedForeground","Color of selected breadcrumb items.")),lt=r("breadcrumbPicker.background",{light:fe,dark:fe,hcDark:fe,hcLight:fe},b.NC("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),mt=.5,Ve=x.Il.fromHex("#40C8AE").transparent(mt),Tt=x.Il.fromHex("#40A6FF").transparent(mt),At=x.Il.fromHex("#606060").transparent(.4),Qt=.4,mi=1,Ci=r("merge.currentHeaderBackground",{dark:Ve,light:Ve,hcDark:null,hcLight:null},b.NC("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Oi=r("merge.currentContentBackground",{dark:u(Ci,Qt),light:u(Ci,Qt),hcDark:u(Ci,Qt),hcLight:u(Ci,Qt)},b.NC("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Ii=r("merge.incomingHeaderBackground",{dark:Tt,light:Tt,hcDark:null,hcLight:null},b.NC("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Qi=r("merge.incomingContentBackground",{dark:u(Ii,Qt),light:u(Ii,Qt),hcDark:u(Ii,Qt),hcLight:u(Ii,Qt)},b.NC("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Wi=r("merge.commonHeaderBackground",{dark:At,light:At,hcDark:null,hcLight:null},b.NC("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Jt=r("merge.commonContentBackground",{dark:u(Wi,Qt),light:u(Wi,Qt),hcDark:u(Wi,Qt),hcLight:u(Wi,Qt)},b.NC("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Ne=r("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},b.NC("mergeBorder","Border color on headers and the splitter in inline merge-conflicts.")),gt=r("editorOverviewRuler.currentContentForeground",{dark:u(Ci,mi),light:u(Ci,mi),hcDark:Ne,hcLight:Ne},b.NC("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),Bt=r("editorOverviewRuler.incomingContentForeground",{dark:u(Ii,mi),light:u(Ii,mi),hcDark:Ne,hcLight:Ne},b.NC("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),di=r("editorOverviewRuler.commonContentForeground",{dark:u(Wi,mi),light:u(Wi,mi),hcDark:Ne,hcLight:Ne},b.NC("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),hi=r("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},b.NC("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),Ni=r("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},b.NC("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),zi=r("problemsErrorIcon.foreground",{dark:Ce,light:Ce,hcDark:Ce,hcLight:Ce},b.NC("problemsErrorIconForeground","The color used for the problems error icon.")),Gi=r("problemsWarningIcon.foreground",{dark:oe,light:oe,hcDark:oe,hcLight:oe},b.NC("problemsWarningIconForeground","The color used for the problems warning icon.")),ln=r("problemsInfoIcon.foreground",{dark:Se,light:Se,hcDark:Se,hcLight:Se},b.NC("problemsInfoIconForeground","The color used for the problems info icon.")),ji=r("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},b.NC("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),dn=r("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},b.NC("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),tn=r("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},b.NC("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),Hi=r("minimap.infoHighlight",{dark:Se,light:Se,hcDark:Te,hcLight:Te},b.NC("minimapInfo","Minimap marker color for infos.")),rn=r("minimap.warningHighlight",{dark:oe,light:oe,hcDark:ue,hcLight:ue},b.NC("overviewRuleWarning","Minimap marker color for warnings.")),sn=r("minimap.errorHighlight",{dark:new x.Il(new x.VS(255,18,18,.7)),light:new x.Il(new x.VS(255,18,18,.7)),hcDark:new x.Il(new x.VS(255,50,50,1)),hcLight:"#B5200D"},b.NC("minimapError","Minimap marker color for errors.")),fi=r("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},b.NC("minimapBackground","Minimap background color.")),Je=r("minimap.foregroundOpacity",{dark:x.Il.fromHex("#000f"),light:x.Il.fromHex("#000f"),hcDark:x.Il.fromHex("#000f"),hcLight:x.Il.fromHex("#000f")},b.NC("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),Pt=r("minimapSlider.background",{light:u(M,.5),dark:u(M,.5),hcDark:u(M,.5),hcLight:u(M,.5)},b.NC("minimapSliderBackground","Minimap slider background color.")),Wt=r("minimapSlider.hoverBackground",{light:u(we,.5),dark:u(we,.5),hcDark:u(we,.5),hcLight:u(we,.5)},b.NC("minimapSliderHoverBackground","Minimap slider background color when hovering.")),Yt=r("minimapSlider.activeBackground",{light:u(We,.5),dark:u(We,.5),hcDark:u(We,.5),hcLight:u(We,.5)},b.NC("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),Vt=r("charts.foreground",{dark:k,light:k,hcDark:k,hcLight:k},b.NC("chartsForeground","The foreground color used in charts.")),St=r("charts.lines",{dark:u(k,.5),light:u(k,.5),hcDark:u(k,.5),hcLight:u(k,.5)},b.NC("chartsLines","The color used for horizontal lines in charts.")),Kt=r("charts.red",{dark:Ce,light:Ce,hcDark:Ce,hcLight:Ce},b.NC("chartsRed","The red color used in chart visualizations.")),ei=r("charts.blue",{dark:Se,light:Se,hcDark:Se,hcLight:Se},b.NC("chartsBlue","The blue color used in chart visualizations.")),Ei=r("charts.yellow",{dark:oe,light:oe,hcDark:oe,hcLight:oe},b.NC("chartsYellow","The yellow color used in chart visualizations.")),Li=r("charts.orange",{dark:ji,light:ji,hcDark:ji,hcLight:ji},b.NC("chartsOrange","The orange color used in chart visualizations.")),yi=r("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},b.NC("chartsGreen","The green color used in chart visualizations.")),bi=r("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},b.NC("chartsPurple","The purple color used in chart visualizations.")),Ui=r("input.background",{dark:"#3C3C3C",light:x.Il.white,hcDark:x.Il.black,hcLight:x.Il.white},b.NC("inputBoxBackground","Input box background.")),Pi=r("input.foreground",{dark:k,light:k,hcDark:k,hcLight:k},b.NC("inputBoxForeground","Input box foreground.")),Xi=r("input.border",{dark:null,light:null,hcDark:P,hcLight:P},b.NC("inputBoxBorder","Input box border.")),nn=r("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:P,hcLight:P},b.NC("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),Sn=r("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},b.NC("inputOption.hoverBackground","Background color of activated options in input fields.")),Mn=r("inputOption.activeBackground",{dark:u(A,.4),light:u(A,.2),hcDark:x.Il.transparent,hcLight:x.Il.transparent},b.NC("inputOption.activeBackground","Background hover color of options in input fields.")),wt=r("inputOption.activeForeground",{dark:x.Il.white,light:x.Il.black,hcDark:k,hcLight:k},b.NC("inputOption.activeForeground","Foreground color of activated options in input fields.")),T=r("input.placeholderForeground",{light:u(k,.5),dark:u(k,.5),hcDark:u(k,.7),hcLight:u(k,.7)},b.NC("inputPlaceholderForeground","Input box foreground color for placeholder text.")),J=r("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:x.Il.black,hcLight:x.Il.white},b.NC("inputValidationInfoBackground","Input validation background color for information severity.")),ce=r("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:k},b.NC("inputValidationInfoForeground","Input validation foreground color for information severity.")),Re=r("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:P,hcLight:P},b.NC("inputValidationInfoBorder","Input validation border color for information severity.")),Be=r("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:x.Il.black,hcLight:x.Il.white},b.NC("inputValidationWarningBackground","Input validation background color for warning severity.")),Xe=r("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:k},b.NC("inputValidationWarningForeground","Input validation foreground color for warning severity.")),Et=r("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:P,hcLight:P},b.NC("inputValidationWarningBorder","Input validation border color for warning severity.")),It=r("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:x.Il.black,hcLight:x.Il.white},b.NC("inputValidationErrorBackground","Input validation background color for error severity.")),ni=r("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:k},b.NC("inputValidationErrorForeground","Input validation foreground color for error severity.")),si=r("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:P,hcLight:P},b.NC("inputValidationErrorBorder","Input validation border color for error severity.")),Xt=r("dropdown.background",{dark:"#3C3C3C",light:x.Il.white,hcDark:x.Il.black,hcLight:x.Il.white},b.NC("dropdownBackground","Dropdown background.")),ri=r("dropdown.listBackground",{dark:null,light:null,hcDark:x.Il.black,hcLight:x.Il.white},b.NC("dropdownListBackground","Dropdown list background.")),ui=r("dropdown.foreground",{dark:"#F0F0F0",light:k,hcDark:x.Il.white,hcLight:k},b.NC("dropdownForeground","Dropdown foreground.")),xi=r("dropdown.border",{dark:Xt,light:"#CECECE",hcDark:P,hcLight:P},b.NC("dropdownBorder","Dropdown border.")),Mi=r("button.foreground",{dark:x.Il.white,light:x.Il.white,hcDark:x.Il.white,hcLight:x.Il.white},b.NC("buttonForeground","Button foreground color.")),Fi=r("button.separator",{dark:u(Mi,.4),light:u(Mi,.4),hcDark:u(Mi,.4),hcLight:u(Mi,.4)},b.NC("buttonSeparator","Button separator color.")),Yi=r("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},b.NC("buttonBackground","Button background color.")),mn=r("button.hoverBackground",{dark:c(Yi,.2),light:n(Yi,.2),hcDark:Yi,hcLight:Yi},b.NC("buttonHoverBackground","Button background color when hovering.")),hn=r("button.border",{dark:P,light:P,hcDark:P,hcLight:P},b.NC("buttonBorder","Button border color.")),Pn=r("button.secondaryForeground",{dark:x.Il.white,light:x.Il.white,hcDark:x.Il.white,hcLight:k},b.NC("buttonSecondaryForeground","Secondary button foreground color.")),ts=r("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:x.Il.white},b.NC("buttonSecondaryBackground","Secondary button background color.")),is=r("button.secondaryHoverBackground",{dark:c(ts,.2),light:n(ts,.2),hcDark:null,hcLight:null},b.NC("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),Gn=r("checkbox.background",{dark:Xt,light:Xt,hcDark:Xt,hcLight:Xt},b.NC("checkbox.background","Background color of checkbox widget.")),Vn=r("checkbox.selectBackground",{dark:fe,light:fe,hcDark:fe,hcLight:fe},b.NC("checkbox.select.background","Background color of checkbox widget when the element it's in is selected.")),Xn=r("checkbox.foreground",{dark:ui,light:ui,hcDark:ui,hcLight:ui},b.NC("checkbox.foreground","Foreground color of checkbox widget.")),Cs=r("checkbox.border",{dark:xi,light:xi,hcDark:xi,hcLight:xi},b.NC("checkbox.border","Border color of checkbox widget.")),ns=r("checkbox.selectBorder",{dark:z,light:z,hcDark:z,hcLight:z},b.NC("checkbox.select.border","Border color of checkbox widget when the element it's in is selected.")),Rs=r("keybindingLabel.background",{dark:new x.Il(new x.VS(128,128,128,.17)),light:new x.Il(new x.VS(221,221,221,.4)),hcDark:x.Il.transparent,hcLight:x.Il.transparent},b.NC("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),ps=r("keybindingLabel.foreground",{dark:x.Il.fromHex("#CCCCCC"),light:x.Il.fromHex("#555555"),hcDark:x.Il.white,hcLight:k},b.NC("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),_s=r("keybindingLabel.border",{dark:new x.Il(new x.VS(51,51,51,.6)),light:new x.Il(new x.VS(204,204,204,.4)),hcDark:new x.Il(new x.VS(111,195,223)),hcLight:P},b.NC("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),rs=r("keybindingLabel.bottomBorder",{dark:new x.Il(new x.VS(68,68,68,.6)),light:new x.Il(new x.VS(187,187,187,.4)),hcDark:new x.Il(new x.VS(111,195,223)),hcLight:k},b.NC("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),Ns=r("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},b.NC("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),qn=r("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},b.NC("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Vs=r("list.focusOutline",{dark:A,light:A,hcDark:I,hcLight:I},b.NC("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),jo=r("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},b.NC("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),Js=r("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:x.Il.fromHex("#0F4A85").transparent(.1)},b.NC("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ws=r("list.activeSelectionForeground",{dark:x.Il.white,light:x.Il.white,hcDark:null,hcLight:null},b.NC("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Es=r("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},b.NC("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),zs=r("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:x.Il.fromHex("#0F4A85").transparent(.1)},b.NC("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),to=r("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},b.NC("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),hr=r("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},b.NC("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Ms=r("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},b.NC("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),fr=r("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},b.NC("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Xs=r("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:x.Il.white.transparent(.1),hcLight:x.Il.fromHex("#0F4A85").transparent(.1)},b.NC("listHoverBackground","List/Tree background when hovering over items using the mouse.")),lo=r("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},b.NC("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),$o=r("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},b.NC("listDropBackground","List/Tree drag and drop background when moving items over other items when using the mouse.")),gr=r("list.dropBetweenBackground",{dark:z,light:z,hcDark:null,hcLight:null},b.NC("listDropBetweenBackground","List/Tree drag and drop border color when moving items between items when using the mouse.")),io=r("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:A,hcLight:A},b.NC("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),no=r("list.focusHighlightForeground",{dark:io,light:D(Js,io,"#BBE7FF"),hcDark:io,hcLight:io},b.NC("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),Zn=r("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},b.NC("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),mr=r("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},b.NC("listErrorForeground","Foreground color of list items containing errors.")),pr=r("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},b.NC("listWarningForeground","Foreground color of list items containing warnings.")),_r=r("listFilterWidget.background",{light:n(fe,0),dark:c(fe,0),hcDark:fe,hcLight:fe},b.NC("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),qs=r("listFilterWidget.outline",{dark:x.Il.transparent,light:x.Il.transparent,hcDark:"#f38518",hcLight:"#007ACC"},b.NC("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),ko=r("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:P,hcLight:P},b.NC("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),Fo=r("listFilterWidget.shadow",{dark:st,light:st,hcDark:st,hcLight:st},b.NC("listFilterWidgetShadow","Shadow color of the type filter widget in lists and trees.")),bs=r("list.filterMatchBackground",{dark:yt,light:yt,hcDark:null,hcLight:null},b.NC("listFilterMatchHighlight","Background color of the filtered match.")),xs=r("list.filterMatchBorder",{dark:qt,light:qt,hcDark:P,hcLight:I},b.NC("listFilterMatchHighlightBorder","Border color of the filtered match.")),Us=r("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},b.NC("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized.")),$s=r("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},b.NC("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),Gs=r("tree.inactiveIndentGuidesStroke",{dark:u($s,.4),light:u($s,.4),hcDark:u($s,.4),hcLight:u($s,.4)},b.NC("treeInactiveIndentGuidesStroke","Tree stroke color for the indentation guides that are not active.")),as=r("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},b.NC("tableColumnsBorder","Table border color between columns.")),Bo=r("tree.tableOddRowsBackground",{dark:u(k,.04),light:u(k,.04),hcDark:null,hcLight:null},b.NC("tableOddRowsBackgroundColor","Background color for odd table rows.")),Go=r("menu.border",{dark:null,light:null,hcDark:P,hcLight:P},b.NC("menuBorder","Border color of menus.")),co=r("menu.foreground",{dark:ui,light:ui,hcDark:ui,hcLight:ui},b.NC("menuForeground","Foreground color of menu items.")),ls=r("menu.background",{dark:Xt,light:Xt,hcDark:Xt,hcLight:Xt},b.NC("menuBackground","Background color of menu items.")),so=r("menu.selectionForeground",{dark:ws,light:ws,hcDark:ws,hcLight:ws},b.NC("menuSelectionForeground","Foreground color of the selected menu item in menus.")),uo=r("menu.selectionBackground",{dark:Js,light:Js,hcDark:Js,hcLight:Js},b.NC("menuSelectionBackground","Background color of the selected menu item in menus.")),Zo=r("menu.selectionBorder",{dark:null,light:null,hcDark:I,hcLight:I},b.NC("menuSelectionBorder","Border color of the selected menu item in menus.")),vr=r("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:P,hcLight:P},b.NC("menuSeparatorBackground","Color of a separator menu item in menus.")),Fs=r("quickInput.background",{dark:fe,light:fe,hcDark:fe,hcLight:fe},b.NC("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),Qo=r("quickInput.foreground",{dark:$,light:$,hcDark:$,hcLight:$},b.NC("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),Yo=r("quickInputTitle.background",{dark:new x.Il(new x.VS(255,255,255,.105)),light:new x.Il(new x.VS(0,0,0,.06)),hcDark:"#000000",hcLight:x.Il.white},b.NC("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),Cr=r("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:x.Il.white,hcLight:"#0F4A85"},b.NC("pickerGroupForeground","Quick picker color for grouping labels.")),br=r("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:x.Il.white,hcLight:"#0F4A85"},b.NC("pickerGroupBorder","Quick picker color for grouping borders.")),Ts=r("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,b.NC("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),So=r("quickInputList.focusForeground",{dark:ws,light:ws,hcDark:ws,hcLight:ws},b.NC("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),Jo=r("quickInputList.focusIconForeground",{dark:Es,light:Es,hcDark:Es,hcLight:Es},b.NC("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),Wo=r("quickInputList.focusBackground",{dark:l(Ts,Js),light:l(Ts,Js),hcDark:null,hcLight:null},b.NC("quickInput.listFocusBackground","Quick picker background color for the focused item.")),Zs=r("search.resultsInfoForeground",{light:k,dark:u(k,.65),hcDark:k,hcLight:k},b.NC("search.resultsInfoForeground","Color of the text in the search viewlet's completion message.")),yo=r("searchEditor.findMatchBackground",{light:u(yt,.66),dark:u(yt,.66),hcDark:yt,hcLight:yt},b.NC("searchEditor.queryMatch","Color of the Search Editor query matches.")),Xo=r("searchEditor.findMatchBorder",{light:u(qt,.66),dark:u(qt,.66),hcDark:qt,hcLight:qt},b.NC("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches."))},76557:function(et,Le,e){"use strict";e.d(Le,{Ks:function(){return u},q5:function(){return c},s_:function(){return C}});var o=e(74696),B=e(24752),x=e(43313),O=e(68777),S=e(79329),p=e(26974),E=e(10058),R=e(61652),w=e(25210),m=e(2816);const g={IconContribution:"base.contributions.icons"};var a;(function(V){function K(Z,z){let A=Z.defaults;for(;O.k.isThemeIcon(A);){const P=n.getIcon(A.id);if(!P)return;A=P.defaults}return A}V.getDefinition=K})(a||(a={}));var r;(function(V){function K(z){return{weight:z.weight,style:z.style,src:z.src.map(A=>({format:A.format,location:A.location.toString()}))}}V.toJSONObject=K;function Z(z){const A=P=>(0,p.HD)(P)?P:void 0;if(z&&Array.isArray(z.src)&&z.src.every(P=>(0,p.HD)(P.format)&&(0,p.HD)(P.location)))return{weight:A(z.weight),style:A(z.style),src:z.src.map(P=>({format:P.format,location:E.o.parse(P.location)}))}}V.fromJSONObject=Z})(r||(r={}));class i{constructor(){this._onDidChange=new S.Q5,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,R.NC)("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:(0,R.NC)("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${O.k.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(K,Z,z,A){const P=this.iconsById[K];if(P){if(z&&!P.description){P.description=z,this.iconSchema.properties[K].markdownDescription=`${z} $(${K})`;const G=this.iconReferenceSchema.enum.indexOf(K);G!==-1&&(this.iconReferenceSchema.enumDescriptions[G]=z),this._onDidChange.fire()}return P}const I={id:K,description:z,defaults:Z,deprecationMessage:A};this.iconsById[K]=I;const W={$ref:"#/definitions/icons"};return A&&(W.deprecationMessage=A),z&&(W.markdownDescription=`${z}: $(${K})`),this.iconSchema.properties[K]=W,this.iconReferenceSchema.enum.push(K),this.iconReferenceSchema.enumDescriptions.push(z||""),this._onDidChange.fire(),{id:K}}getIcons(){return Object.keys(this.iconsById).map(K=>this.iconsById[K])}getIcon(K){return this.iconsById[K]}getIconSchema(){return this.iconSchema}toString(){const K=(P,I)=>P.id.localeCompare(I.id),Z=P=>{for(;O.k.isThemeIcon(P.defaults);)P=this.iconsById[P.defaults.id];return`codicon codicon-${P?P.id:""}`},z=[];z.push("| preview     | identifier                        | default codicon ID                | description"),z.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const A=Object.keys(this.iconsById).map(P=>this.iconsById[P]);for(const P of A.filter(I=>!!I.description).sort(K))z.push(`|<i class="${Z(P)}"></i>|${P.id}|${O.k.isThemeIcon(P.defaults)?P.defaults.id:P.id}|${P.description||""}|`);z.push("| preview     | identifier                        "),z.push("| ----------- | --------------------------------- |");for(const P of A.filter(I=>!O.k.isThemeIcon(I.defaults)).sort(K))z.push(`|<i class="${Z(P)}"></i>|${P.id}|`);return z.join(`
`)}}const n=new i;m.B.add(g.IconContribution,n);function c(V,K,Z,z){return n.registerIcon(V,K,Z,z)}function u(){return n}function l(){const V=(0,x.u)();for(const K in V){const Z="\\"+V[K].toString(16);n.registerIcon(K,{fontCharacter:Z})}}l();const D="vscode://schemas/icons",f=m.B.as(w.I.JSONContribution);f.registerSchema(D,n.getIconSchema());const y=new o.pY(()=>f.notifySchemaChanged(D),200);n.onDidChange(()=>{y.isScheduled()||y.schedule()});const C=c("widget-close",B.l.close,(0,R.NC)("widgetClose","Icon for the close action in widgets.")),_=c("goto-previous-location",B.l.arrowUp,(0,R.NC)("previousChangeIcon","Icon for goto previous editor location.")),N=c("goto-next-location",B.l.arrowDown,(0,R.NC)("nextChangeIcon","Icon for goto next editor location.")),b=O.k.modify(B.l.sync,"spin"),k=O.k.modify(B.l.loading,"spin")},98618:function(et,Le,e){"use strict";e.d(Le,{_T:function(){return x},c3:function(){return B},eL:function(){return o}});var o;(function(O){O.DARK="dark",O.LIGHT="light",O.HIGH_CONTRAST_DARK="hcDark",O.HIGH_CONTRAST_LIGHT="hcLight"})(o||(o={}));function B(O){return O===o.HIGH_CONTRAST_DARK||O===o.HIGH_CONTRAST_LIGHT}function x(O){return O===o.DARK||O===o.HIGH_CONTRAST_DARK}},63279:function(et,Le,e){"use strict";e.d(Le,{EN:function(){return E},IP:function(){return w},Ic:function(){return a},XE:function(){return p},bB:function(){return r},m6:function(){return R}});var o=e(79329),B=e(45029),x=e(87058),O=e(2816),S=e(98618);const p=(0,x.yh)("themeService");function E(i){return{id:i}}function R(i){switch(i){case S.eL.DARK:return"vs-dark";case S.eL.HIGH_CONTRAST_DARK:return"hc-black";case S.eL.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}const w={ThemingContribution:"base.contributions.theming"};class m{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new o.Q5}onColorThemeChange(n){return this.themingParticipants.push(n),this.onThemingParticipantAddedEmitter.fire(n),(0,B.OF)(()=>{const c=this.themingParticipants.indexOf(n);this.themingParticipants.splice(c,1)})}getThemingParticipants(){return this.themingParticipants}}const g=new m;O.B.add(w.ThemingContribution,g);function a(i){return g.onColorThemeChange(i)}class r extends B.JT{constructor(n){super(),this.themeService=n,this.theme=n.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(c=>this.onThemeChange(c)))}onThemeChange(n){this.theme=n,this.updateStyles()}updateStyles(){}}},60031:function(et,Le,e){"use strict";e.d(Le,{Xt:function(){return O},YO:function(){return x},gJ:function(){return S},tJ:function(){return B}});var o=e(87058);const B=(0,o.yh)("undoRedoService");class x{constructor(E,R){this.resource=E,this.elements=R}}class O{constructor(){this.id=O._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}O._ID=0,O.None=new O;class S{constructor(){this.id=S._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}S._ID=0,S.None=new S},48983:function(et,Le,e){"use strict";e.d(Le,{A6:function(){return n},c$:function(){return R},eb:function(){return E},ec:function(){return p},md:function(){return i},p$:function(){return u},uT:function(){return g},x:function(){return l}});var o=e(61652),B=e(99620),x=e(8848),O=e(10058),S=e(87058);const p=(0,S.yh)("contextService");function E(D){const f=D;return typeof(f==null?void 0:f.id)=="string"&&O.o.isUri(f.uri)}function R(D){const f=D;return typeof(f==null?void 0:f.id)=="string"&&!E(D)&&!a(D)}const w={id:"ext-dev"},m={id:"empty-window"};function g(D,f){if(typeof D=="string"||typeof D=="undefined")return typeof D=="string"?{id:(0,B.EZ)(D)}:f?w:m;const y=D;return y.configuration?{id:y.id,configPath:y.configuration}:y.folders.length===1?{id:y.id,uri:y.folders[0].uri}:{id:y.id}}function a(D){const f=D;return typeof(f==null?void 0:f.id)=="string"&&O.o.isUri(f.configPath)}class r{constructor(f,y,C,_,N){this._id=f,this._transient=C,this._configuration=_,this._ignorePathCasing=N,this._foldersMap=TernarySearchTree.forUris(this._ignorePathCasing,()=>!0),this.folders=y}get folders(){return this._folders}set folders(f){this._folders=f,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(f){this._configuration=f}getFolder(f){return f&&this._foldersMap.findSubstr(f)||null}updateFoldersMap(){this._foldersMap=TernarySearchTree.forUris(this._ignorePathCasing,()=>!0);for(const f of this.folders)this._foldersMap.set(f.uri,f)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}class i{constructor(f,y){this.raw=y,this.uri=f.uri,this.index=f.index,this.name=f.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}const n="code-workspace",c=[{name:(0,o.NC)("codeWorkspace","Code Workspace"),extensions:[n]}],u="4064f6ec-cb38-4ad0-af64-ee6467e63c82";function l(D){return D.id===u}},81773:function(et,Le,e){"use strict";e.d(Le,{Y:function(){return B}});var o=e(87058);const B=(0,o.yh)("workspaceTrustManagementService")},38498:function(et,Le,e){var o=e(78770);function B(x){if(Array.isArray(x))return o(x)}et.exports=B,et.exports.__esModule=!0,et.exports.default=et.exports},335:function(et,Le,e){var o=e(31479);function B(x,O){var S=typeof Symbol!="undefined"&&x[Symbol.iterator]||x["@@iterator"];if(!S){if(Array.isArray(x)||(S=o(x))||O&&x&&typeof x.length=="number"){S&&(x=S);var p=0,E=function(){};return{s:E,n:function(){return p>=x.length?{done:!0}:{done:!1,value:x[p++]}},e:function(a){throw a},f:E}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var R=!0,w=!1,m;return{s:function(){S=S.call(x)},n:function(){var a=S.next();return R=a.done,a},e:function(a){w=!0,m=a},f:function(){try{!R&&S.return!=null&&S.return()}finally{if(w)throw m}}}}et.exports=B,et.exports.__esModule=!0,et.exports.default=et.exports},20698:function(et){function Le(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}et.exports=Le,et.exports.__esModule=!0,et.exports.default=et.exports},91162:function(et){function Le(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}et.exports=Le,et.exports.__esModule=!0,et.exports.default=et.exports},53649:function(et){function Le(e,o){return o||(o=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(o)}}))}et.exports=Le,et.exports.__esModule=!0,et.exports.default=et.exports},15558:function(et,Le,e){var o=e(38498),B=e(20698),x=e(31479),O=e(91162);function S(p){return o(p)||B(p)||x(p)||O()}et.exports=S,et.exports.__esModule=!0,et.exports.default=et.exports},92480:function(et,Le,e){"use strict";e.d(Le,{ZP:function(){return An},_m:function(){return Te},Ik:function(){return Cn}});function o(Zt,ci,_i){return ci in Zt?Object.defineProperty(Zt,ci,{value:_i,enumerable:!0,configurable:!0,writable:!0}):Zt[ci]=_i,Zt}function B(Zt,ci){var _i=Object.keys(Zt);if(Object.getOwnPropertySymbols){var Ri=Object.getOwnPropertySymbols(Zt);ci&&(Ri=Ri.filter(function(Zi){return Object.getOwnPropertyDescriptor(Zt,Zi).enumerable})),_i.push.apply(_i,Ri)}return _i}function x(Zt){for(var ci=1;ci<arguments.length;ci++){var _i=arguments[ci]!=null?arguments[ci]:{};ci%2?B(Object(_i),!0).forEach(function(Ri){o(Zt,Ri,_i[Ri])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Zt,Object.getOwnPropertyDescriptors(_i)):B(Object(_i)).forEach(function(Ri){Object.defineProperty(Zt,Ri,Object.getOwnPropertyDescriptor(_i,Ri))})}return Zt}function O(Zt,ci){if(Zt==null)return{};var _i={},Ri=Object.keys(Zt),Zi,gi;for(gi=0;gi<Ri.length;gi++)Zi=Ri[gi],!(ci.indexOf(Zi)>=0)&&(_i[Zi]=Zt[Zi]);return _i}function S(Zt,ci){if(Zt==null)return{};var _i=O(Zt,ci),Ri,Zi;if(Object.getOwnPropertySymbols){var gi=Object.getOwnPropertySymbols(Zt);for(Zi=0;Zi<gi.length;Zi++)Ri=gi[Zi],!(ci.indexOf(Ri)>=0)&&Object.prototype.propertyIsEnumerable.call(Zt,Ri)&&(_i[Ri]=Zt[Ri])}return _i}function p(Zt,ci){return E(Zt)||R(Zt,ci)||w(Zt,ci)||g()}function E(Zt){if(Array.isArray(Zt))return Zt}function R(Zt,ci){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(Zt)))){var _i=[],Ri=!0,Zi=!1,gi=void 0;try{for(var Ze=Zt[Symbol.iterator](),dt;!(Ri=(dt=Ze.next()).done)&&(_i.push(dt.value),!(ci&&_i.length===ci));Ri=!0);}catch(Ue){Zi=!0,gi=Ue}finally{try{!Ri&&Ze.return!=null&&Ze.return()}finally{if(Zi)throw gi}}return _i}}function w(Zt,ci){if(Zt){if(typeof Zt=="string")return m(Zt,ci);var _i=Object.prototype.toString.call(Zt).slice(8,-1);if(_i==="Object"&&Zt.constructor&&(_i=Zt.constructor.name),_i==="Map"||_i==="Set")return Array.from(Zt);if(_i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_i))return m(Zt,ci)}}function m(Zt,ci){(ci==null||ci>Zt.length)&&(ci=Zt.length);for(var _i=0,Ri=new Array(ci);_i<ci;_i++)Ri[_i]=Zt[_i];return Ri}function g(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a(Zt,ci,_i){return ci in Zt?Object.defineProperty(Zt,ci,{value:_i,enumerable:!0,configurable:!0,writable:!0}):Zt[ci]=_i,Zt}function r(Zt,ci){var _i=Object.keys(Zt);if(Object.getOwnPropertySymbols){var Ri=Object.getOwnPropertySymbols(Zt);ci&&(Ri=Ri.filter(function(Zi){return Object.getOwnPropertyDescriptor(Zt,Zi).enumerable})),_i.push.apply(_i,Ri)}return _i}function i(Zt){for(var ci=1;ci<arguments.length;ci++){var _i=arguments[ci]!=null?arguments[ci]:{};ci%2?r(Object(_i),!0).forEach(function(Ri){a(Zt,Ri,_i[Ri])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Zt,Object.getOwnPropertyDescriptors(_i)):r(Object(_i)).forEach(function(Ri){Object.defineProperty(Zt,Ri,Object.getOwnPropertyDescriptor(_i,Ri))})}return Zt}function n(){for(var Zt=arguments.length,ci=new Array(Zt),_i=0;_i<Zt;_i++)ci[_i]=arguments[_i];return function(Ri){return ci.reduceRight(function(Zi,gi){return gi(Zi)},Ri)}}function c(Zt){return function ci(){for(var _i=this,Ri=arguments.length,Zi=new Array(Ri),gi=0;gi<Ri;gi++)Zi[gi]=arguments[gi];return Zi.length>=Zt.length?Zt.apply(this,Zi):function(){for(var Ze=arguments.length,dt=new Array(Ze),Ue=0;Ue<Ze;Ue++)dt[Ue]=arguments[Ue];return ci.apply(_i,[].concat(Zi,dt))}}}function u(Zt){return{}.toString.call(Zt).includes("Object")}function l(Zt){return!Object.keys(Zt).length}function D(Zt){return typeof Zt=="function"}function f(Zt,ci){return Object.prototype.hasOwnProperty.call(Zt,ci)}function y(Zt,ci){return u(ci)||V("changeType"),Object.keys(ci).some(function(_i){return!f(Zt,_i)})&&V("changeField"),ci}function C(Zt){D(Zt)||V("selectorType")}function _(Zt){D(Zt)||u(Zt)||V("handlerType"),u(Zt)&&Object.values(Zt).some(function(ci){return!D(ci)})&&V("handlersType")}function N(Zt){Zt||V("initialIsRequired"),u(Zt)||V("initialType"),l(Zt)&&V("initialContent")}function b(Zt,ci){throw new Error(Zt[ci]||Zt.default)}var k={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},V=c(b)(k),K={changes:y,selector:C,handler:_,initial:N};function Z(Zt){var ci=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};K.initial(Zt),K.handler(ci);var _i={current:Zt},Ri=c(P)(_i,ci),Zi=c(A)(_i),gi=c(K.changes)(Zt),Ze=c(z)(_i);function dt(){var $e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(bt){return bt};return K.selector($e),$e(_i.current)}function Ue($e){n(Ri,Zi,gi,Ze)($e)}return[dt,Ue]}function z(Zt,ci){return D(ci)?ci(Zt.current):ci}function A(Zt,ci){return Zt.current=i(i({},Zt.current),ci),ci}function P(Zt,ci,_i){return D(ci)?ci(Zt.current):Object.keys(_i).forEach(function(Ri){var Zi;return(Zi=ci[Ri])===null||Zi===void 0?void 0:Zi.call(ci,Zt.current[Ri])}),_i}var I={create:Z},W=I,G={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}},j=G;function Y(Zt){return function ci(){for(var _i=this,Ri=arguments.length,Zi=new Array(Ri),gi=0;gi<Ri;gi++)Zi[gi]=arguments[gi];return Zi.length>=Zt.length?Zt.apply(this,Zi):function(){for(var Ze=arguments.length,dt=new Array(Ze),Ue=0;Ue<Ze;Ue++)dt[Ue]=arguments[Ue];return ci.apply(_i,[].concat(Zi,dt))}}}var H=Y;function Q(Zt){return{}.toString.call(Zt).includes("Object")}var ie=Q;function te(Zt){return Zt||re("configIsRequired"),ie(Zt)||re("configType"),Zt.urls?(se(),{paths:{vs:Zt.urls.monacoBase}}):Zt}function se(){console.warn(ee.deprecation)}function ne(Zt,ci){throw new Error(Zt[ci]||Zt.default)}var ee={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},re=H(ne)(ee),he={config:te},M=he,we=function(){for(var ci=arguments.length,_i=new Array(ci),Ri=0;Ri<ci;Ri++)_i[Ri]=arguments[Ri];return function(Zi){return _i.reduceRight(function(gi,Ze){return Ze(gi)},Zi)}},We=we;function ye(Zt,ci){return Object.keys(ci).forEach(function(_i){ci[_i]instanceof Object&&Zt[_i]&&Object.assign(ci[_i],ye(Zt[_i],ci[_i]))}),x(x({},Zt),ci)}var X=ye,ve={type:"cancelation",msg:"operation is manually canceled"};function Ee(Zt){var ci=!1,_i=new Promise(function(Ri,Zi){Zt.then(function(gi){return ci?Zi(ve):Ri(gi)}),Zt.catch(Zi)});return _i.cancel=function(){return ci=!0},_i}var Oe=Ee,Ke=W.create({config:j,isInitialized:!1,resolve:null,reject:null,monaco:null}),Qe=p(Ke,2),fe=Qe[0],$=Qe[1];function le(Zt){var ci=M.config(Zt),_i=ci.monaco,Ri=S(ci,["monaco"]);$(function(Zi){return{config:X(Zi.config,Ri),monaco:_i}})}function De(){var Zt=fe(function(ci){var _i=ci.monaco,Ri=ci.isInitialized,Zi=ci.resolve;return{monaco:_i,isInitialized:Ri,resolve:Zi}});if(!Zt.isInitialized){if($({isInitialized:!0}),Zt.monaco)return Zt.resolve(Zt.monaco),Oe(de);if(window.monaco&&window.monaco.editor)return oe(window.monaco),Zt.resolve(window.monaco),Oe(de);We(xe,me)(be)}return Oe(de)}function xe(Zt){return document.body.appendChild(Zt)}function Ce(Zt){var ci=document.createElement("script");return Zt&&(ci.src=Zt),ci}function me(Zt){var ci=fe(function(Ri){var Zi=Ri.config,gi=Ri.reject;return{config:Zi,reject:gi}}),_i=Ce("".concat(ci.config.paths.vs,"/loader.js"));return _i.onload=function(){return Zt()},_i.onerror=ci.reject,_i}function be(){var Zt=fe(function(_i){var Ri=_i.config,Zi=_i.resolve,gi=_i.reject;return{config:Ri,resolve:Zi,reject:gi}}),ci=window.require;ci.config(Zt.config),ci(["vs/editor/editor.main"],function(_i){oe(_i),Zt.resolve(_i)},function(_i){Zt.reject(_i)})}function oe(Zt){fe().monaco||$({monaco:Zt})}function ue(){return fe(function(Zt){var ci=Zt.monaco;return ci})}var de=new Promise(function(Zt,ci){return $({resolve:Zt,reject:ci})}),Se={config:le,init:De,__getMonacoInstance:ue},Te=Se,Ae=e(75271),pe={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},je=pe,ot={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},xt=ot;function jt({children:Zt}){return Ae.createElement("div",{style:xt.container},Zt)}var oi=jt,ti=oi;function it({width:Zt,height:ci,isEditorReady:_i,loading:Ri,_ref:Zi,className:gi,wrapperProps:Ze}){return Ae.createElement("section",vi({style:Ki(vi({},je.wrapper),{width:Zt,height:ci})},Ze),!_i&&Ae.createElement(ti,null,Ri),Ae.createElement("div",{ref:Zi,style:vi(vi({},je.fullWidth),!_i&&je.hide),className:gi}))}var yt=it,$t=(0,Ae.memo)(yt);function Nt(Zt){(0,Ae.useEffect)(Zt,[])}var qt=Nt;function Ht(Zt,ci,_i=!0){let Ri=(0,Ae.useRef)(!0);(0,Ae.useEffect)(Ri.current||!_i?()=>{Ri.current=!1}:Zt,ci)}var He=Ht;function Ct(){}function Gt(Zt,ci,_i,Ri){return Di(Zt,Ri)||$i(Zt,ci,_i,Ri)}function Di(Zt,ci){return Zt.editor.getModel(Bi(Zt,ci))}function $i(Zt,ci,_i,Ri){return Zt.editor.createModel(ci,_i,Ri?Bi(Zt,Ri):void 0)}function Bi(Zt,ci){return Zt.Uri.parse(ci)}function Vi({original:Zt,modified:ci,language:_i,originalLanguage:Ri,modifiedLanguage:Zi,originalModelPath:gi,modifiedModelPath:Ze,keepCurrentOriginalModel:dt=!1,keepCurrentModifiedModel:Ue=!1,theme:$e="light",loading:bt="Loading...",options:ft={},height:Ye="100%",width:vt="100%",className:nt,wrapperProps:Ge={},beforeMount:rt=Ct,onMount:st=Ct}){let[tt,_t]=(0,Ae.useState)(!1),[kt,at]=(0,Ae.useState)(!0),ht=(0,Ae.useRef)(null),Mt=(0,Ae.useRef)(null),ut=(0,Ae.useRef)(null),ke=(0,Ae.useRef)(st),lt=(0,Ae.useRef)(rt),mt=(0,Ae.useRef)(!1);qt(()=>{let Qt=Te.init();return Qt.then(mi=>(Mt.current=mi)&&at(!1)).catch(mi=>(mi==null?void 0:mi.type)!=="cancelation"&&console.error("Monaco initialization: error:",mi)),()=>ht.current?At():Qt.cancel()}),He(()=>{if(ht.current&&Mt.current){let Qt=ht.current.getOriginalEditor(),mi=Gt(Mt.current,Zt||"",Ri||_i||"text",gi||"");mi!==Qt.getModel()&&Qt.setModel(mi)}},[gi],tt),He(()=>{if(ht.current&&Mt.current){let Qt=ht.current.getModifiedEditor(),mi=Gt(Mt.current,ci||"",Zi||_i||"text",Ze||"");mi!==Qt.getModel()&&Qt.setModel(mi)}},[Ze],tt),He(()=>{let Qt=ht.current.getModifiedEditor();Qt.getOption(Mt.current.editor.EditorOption.readOnly)?Qt.setValue(ci||""):ci!==Qt.getValue()&&(Qt.executeEdits("",[{range:Qt.getModel().getFullModelRange(),text:ci||"",forceMoveMarkers:!0}]),Qt.pushUndoStop())},[ci],tt),He(()=>{var Qt,mi;(mi=(Qt=ht.current)==null?void 0:Qt.getModel())==null||mi.original.setValue(Zt||"")},[Zt],tt),He(()=>{let{original:Qt,modified:mi}=ht.current.getModel();Mt.current.editor.setModelLanguage(Qt,Ri||_i||"text"),Mt.current.editor.setModelLanguage(mi,Zi||_i||"text")},[_i,Ri,Zi],tt),He(()=>{var Qt;(Qt=Mt.current)==null||Qt.editor.setTheme($e)},[$e],tt),He(()=>{var Qt;(Qt=ht.current)==null||Qt.updateOptions(ft)},[ft],tt);let Ve=(0,Ae.useCallback)(()=>{var Ci;if(!Mt.current)return;lt.current(Mt.current);let Qt=Gt(Mt.current,Zt||"",Ri||_i||"text",gi||""),mi=Gt(Mt.current,ci||"",Zi||_i||"text",Ze||"");(Ci=ht.current)==null||Ci.setModel({original:Qt,modified:mi})},[_i,ci,Zi,Zt,Ri,gi,Ze]),Tt=(0,Ae.useCallback)(()=>{var Qt;!mt.current&&ut.current&&(ht.current=Mt.current.editor.createDiffEditor(ut.current,vi({automaticLayout:!0},ft)),Ve(),(Qt=Mt.current)==null||Qt.editor.setTheme($e),_t(!0),mt.current=!0)},[ft,$e,Ve]);(0,Ae.useEffect)(()=>{tt&&ke.current(ht.current,Mt.current)},[tt]),(0,Ae.useEffect)(()=>{!kt&&!tt&&Tt()},[kt,tt,Tt]);function At(){var mi,Ci,Oi,Ii;let Qt=(mi=ht.current)==null?void 0:mi.getModel();dt||((Ci=Qt==null?void 0:Qt.original)==null||Ci.dispose()),Ue||((Oi=Qt==null?void 0:Qt.modified)==null||Oi.dispose()),(Ii=ht.current)==null||Ii.dispose()}return Ae.createElement($t,{width:vt,height:Ye,isEditorReady:tt,loading:bt,_ref:ut,className:nt,wrapperProps:Ge})}var Ji=Vi,wn=(0,Ae.memo)(Ji);function yn(){let[Zt,ci]=(0,Ae.useState)(Te.__getMonacoInstance());return qt(()=>{let _i;return Zt||(_i=Te.init(),_i.then(Ri=>{ci(Ri)})),()=>_i==null?void 0:_i.cancel()}),Zt}var Cn=yn;function an(Zt){let ci=(0,Ae.useRef)();return(0,Ae.useEffect)(()=>{ci.current=Zt},[Zt]),ci.current}var Rn=an,kn=new Map;function fn({defaultValue:Zt,defaultLanguage:ci,defaultPath:_i,value:Ri,language:Zi,path:gi,theme:Ze="light",line:dt,loading:Ue="Loading...",options:$e={},overrideServices:bt={},saveViewState:ft=!0,keepCurrentModel:Ye=!1,width:vt="100%",height:nt="100%",className:Ge,wrapperProps:rt={},beforeMount:st=Ct,onMount:tt=Ct,onChange:_t,onValidate:kt=Ct}){let[at,ht]=(0,Ae.useState)(!1),[Mt,ut]=(0,Ae.useState)(!0),ke=(0,Ae.useRef)(null),lt=(0,Ae.useRef)(null),mt=(0,Ae.useRef)(null),Ve=(0,Ae.useRef)(tt),Tt=(0,Ae.useRef)(st),At=(0,Ae.useRef)(),Qt=(0,Ae.useRef)(Ri),mi=Rn(gi),Ci=(0,Ae.useRef)(!1),Oi=(0,Ae.useRef)(!1);qt(()=>{let Wi=Te.init();return Wi.then(Jt=>(ke.current=Jt)&&ut(!1)).catch(Jt=>(Jt==null?void 0:Jt.type)!=="cancelation"&&console.error("Monaco initialization: error:",Jt)),()=>lt.current?Qi():Wi.cancel()}),He(()=>{var Jt,Ne,gt,Bt;let Wi=Gt(ke.current,Zt||Ri||"",ci||Zi||"",gi||_i||"");Wi!==((Jt=lt.current)==null?void 0:Jt.getModel())&&(ft&&kn.set(mi,(Ne=lt.current)==null?void 0:Ne.saveViewState()),(gt=lt.current)==null||gt.setModel(Wi),ft&&((Bt=lt.current)==null||Bt.restoreViewState(kn.get(gi))))},[gi],at),He(()=>{var Wi;(Wi=lt.current)==null||Wi.updateOptions($e)},[$e],at),He(()=>{!lt.current||Ri===void 0||(lt.current.getOption(ke.current.editor.EditorOption.readOnly)?lt.current.setValue(Ri):Ri!==lt.current.getValue()&&(Oi.current=!0,lt.current.executeEdits("",[{range:lt.current.getModel().getFullModelRange(),text:Ri,forceMoveMarkers:!0}]),lt.current.pushUndoStop(),Oi.current=!1))},[Ri],at),He(()=>{var Jt,Ne;let Wi=(Jt=lt.current)==null?void 0:Jt.getModel();Wi&&Zi&&((Ne=ke.current)==null||Ne.editor.setModelLanguage(Wi,Zi))},[Zi],at),He(()=>{var Wi;dt!==void 0&&((Wi=lt.current)==null||Wi.revealLine(dt))},[dt],at),He(()=>{var Wi;(Wi=ke.current)==null||Wi.editor.setTheme(Ze)},[Ze],at);let Ii=(0,Ae.useCallback)(()=>{var Wi;if(!(!mt.current||!ke.current)&&!Ci.current){Tt.current(ke.current);let Jt=gi||_i,Ne=Gt(ke.current,Ri||Zt||"",ci||Zi||"",Jt||"");lt.current=(Wi=ke.current)==null?void 0:Wi.editor.create(mt.current,vi({model:Ne,automaticLayout:!0},$e),bt),ft&&lt.current.restoreViewState(kn.get(Jt)),ke.current.editor.setTheme(Ze),dt!==void 0&&lt.current.revealLine(dt),ht(!0),Ci.current=!0}},[Zt,ci,_i,Ri,Zi,gi,$e,bt,ft,Ze,dt]);(0,Ae.useEffect)(()=>{at&&Ve.current(lt.current,ke.current)},[at]),(0,Ae.useEffect)(()=>{!Mt&&!at&&Ii()},[Mt,at,Ii]),Qt.current=Ri,(0,Ae.useEffect)(()=>{var Wi,Jt;at&&_t&&((Wi=At.current)==null||Wi.dispose(),At.current=(Jt=lt.current)==null?void 0:Jt.onDidChangeModelContent(Ne=>{Oi.current||_t(lt.current.getValue(),Ne)}))},[at,_t]),(0,Ae.useEffect)(()=>{if(at){let Wi=ke.current.editor.onDidChangeMarkers(Jt=>{var gt;let Ne=(gt=lt.current.getModel())==null?void 0:gt.uri;if(Ne&&Jt.find(Bt=>Bt.path===Ne.path)){let Bt=ke.current.editor.getModelMarkers({resource:Ne});kt==null||kt(Bt)}});return()=>{Wi==null||Wi.dispose()}}return()=>{}},[at,kt]);function Qi(){var Wi,Jt;(Wi=At.current)==null||Wi.dispose(),Ye?ft&&kn.set(gi,lt.current.saveViewState()):(Jt=lt.current.getModel())==null||Jt.dispose(),lt.current.dispose()}return Ae.createElement($t,{width:vt,height:nt,isEditorReady:at,loading:Ue,_ref:mt,className:Ge,wrapperProps:rt})}var On=fn,xn=(0,Ae.memo)(On),An=xn}}]);
}());