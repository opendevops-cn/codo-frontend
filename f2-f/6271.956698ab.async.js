"use strict";(self.webpackChunkf2=self.webpackChunkf2||[]).push([[6271],{91583:function(H,T,n){n.d(T,{fN:function(){return O},wm:function(){return P}});var N=50,E={prefixPeriod:"\u6BCF",everyText:"\u6BCF",emptyMonths:"\u6BCF\u6708",emptyMonthDays:"\u6BCF\u6708\u7684\u4EFB\u4E00\u5929",emptyMonthDaysShort:"\u65E5\u671F",emptyWeekDays:"\u6BCF\u5468\u7684\u4EFB\u4E00\u5929",emptyWeekDaysShort:"\u661F\u671F",emptyHours:"\u6BCF\u5C0F\u65F6",emptyMinutes:"\u6BCF\u5206\u949F",yearOption:"\u5E74",monthOption:"\u6708",weekOption:"\u5468",dayOption:"\u5929",hourOption:"\u5C0F\u65F6",minuteOption:"\u5206\u949F",emptyMinutesForHourPeriod:"\u5206\u949F",weekDays:["\u5468\u5929","\u5468\u4E00","\u5468\u4E8C","\u5468\u4E09","\u5468\u56DB","\u5468\u4E94","\u5468\u516D"],altWeekDays:["\u5468\u5929","\u5468\u4E00","\u5468\u4E8C","\u5468\u4E09","\u5468\u56DB","\u5468\u4E94","\u5468\u516D"],months:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],altMonths:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],clearButtonText:"\u91CD\u7F6E"},F="__devops_version__",P="____FL_",O=function(){var U=window.location.href.replace(location.origin,"").replace("/login?redirect=","");return"/login?redirect=".concat(U)}},65111:function(H,T,n){n.d(T,{Lq:function(){return u},PV:function(){return W},XC:function(){return L},fG:function(){return w},hI:function(){return J},ok:function(){return ae}});var N=n(15558),E=n.n(N),F=n(31759),P=n.n(F),O=n(48305),C=n.n(O),U=n(2115),S=n(86432),y=n(50876),M=n(92508),j=n(61304),B=n(81558),g=n(16483),A=n.n(g),l=n(56327),m=n(32699),i=n.n(m),p=n(75271),I=n(96256),r=n(52676),b="-";function Z(t){t&&t.stopPropagation(),t&&t.preventDefault()}var $=function(){var e=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone|MiuiBrowser)/i);return e},v=function(e,a){for(var s=0;s<a.length;s++)if(a[s].page_path===e)return a[s].can_access;return!1},u=function(e){if(e.indexOf("?")<0)return{};var a=e.split("?")[1],s={};return a&&a.split("&").forEach(function(o){var d=o.split("="),h=C()(d,2),f=h[0],c=h[1];s[f]=c}),s},x=function(e,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{needSeparate:!0,separator:" ",exportUnit:"CN_YUAN",exact:2},o={CN_FEN:{CN_FEN:1,CN_JIAO:10,CN_YUAN:100},CN_JIAO:{CN_FEN:1/10,CN_JIAO:1,CN_YUAN:10},CN_YUAN:{CN_FEN:1/100,CN_JIAO:1/10,CN_YUAN:1}},d=o[a][s.exportUnit],h=(e/d).toFixed(s.exact);return s.needSeparate?String(h).replace(/(\d)(?=(\d{3})+\b)/g,"$1".concat(s.separator)):String(h)};function D(t){var e=p.useState(!1),a=C()(e,2),s=a[0],o=a[1],d=!1;if(typeof t.message=="string")d=t.message.length>70;else{var h=t.message,f=h.msg,c=h.reason;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:f}),c&&(0,r.jsx)(S.Z,{zIndex:1e4,placement:"top",title:f,content:c,overlayInnerStyle:{maxWidth:500,maxHeight:400,overflowY:"auto",wordBreak:"break-all",whiteSpace:"break-spaces"},children:(0,r.jsx)(U.Z,{})})]})}return typeof t.message=="string"?(0,r.jsx)("span",{children:d?s?(0,r.jsxs)("span",{children:["".concat(t.message," "),(0,r.jsx)(y.Z,{mouseEnterDelay:.5,title:l.ZP.t("Collapse"),children:(0,r.jsx)("a",{onClick:function(){return o(!1)},children:l.ZP.t("Collapse")})})]}):(0,r.jsxs)("span",{children:["".concat(t.message.slice(0,70),"... "),(0,r.jsx)(y.Z,{mouseEnterDelay:.5,title:l.ZP.t("Show all"),children:(0,r.jsx)("a",{onClick:function(){return o(!0)},children:l.ZP.t("Show all")})})]}):(0,r.jsx)("span",{children:t.message})}):(0,r.jsx)(r.Fragment,{children:t.message})}function L(t){var e=t,a=!1;e.stackTrace&&(a=!0);var s=(i().get(t,"response.data.code")||t.code||"").toString();s=s.toLowerCase();var o=i().get(t,"response.data.msg")||i().get(t,"response.data.errorMessage","")||i().get(t,"response.data.message",""),d=i().get(t,"response.data.reason",""),h=i().get(t,"message"),f=i().get(t,"response.status"),c;return f===401?c=l.ZP.t("Token expired"):f===403?c=l.ZP.t("Permission denied"):f===404?c=l.ZP.t("Api service not available",{service:e.config.url}):f===504||f===503?c=l.ZP.t("Server is down"):s==="econnaborted"&&h.indexOf("timeout")!==-1&&(c=l.ZP.t("Request timeout")),c||(c=o||h||l.ZP.t("Api error not defined")),a?c=(0,r.jsxs)("span",{children:[c,"\uFF0C",(0,r.jsx)("span",{style:{cursor:"pointer",textDecoration:"underline"},children:l.ZP.t("Show detail")})]}):c={msg:c,reason:d},c}function R(t){message.destroy(),console.error(t),message.error(_jsx(D,{message:t}))}function J(t){console.error(t),I.oC.error({title:(0,r.jsx)(D,{message:t}),zIndex:9999,content:(0,r.jsx)(r.Fragment,{children:"\u91CD\u8BD5\u540E\uFF0C\u65E0\u6CD5\u89E3\u51B3\uFF0C\u8BF7\u8054\u7CFB"}),closable:!0,className:"show-api-error-modal"})}function w(){var t=window.location.pathname.match(/^[^\/]*(\/[^\/]+)/),e=(0,r.jsx)(r.Fragment,{children:"\u91CD\u8BD5\u540E\uFF0C\u65E0\u6CD5\u89E3\u51B3\uFF0C\u8BF7\u8054\u7CFB"});t[0]&&(e=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"\u8BE5\u9879\u76EE\u60A8\u65E0\u6743\u8BBF\u95EE\uFF0C\u53EF\u8054\u7CFB\u7BA1\u7406\u5458\u6DFB\u52A0\u6743\u9650\u3002"}),(0,r.jsx)("a",{href:"/project-management?accessCode=".concat(t[0].replace("/","")),target:"_blank",rel:"noreferrer",children:"\u7533\u8BF7\u6743\u9650"})]})),I.oC.error({title:"\u6743\u9650\u4E0D\u8DB3",zIndex:9999,content:e,closable:!0,className:"show-api-error-modal"})}function W(t){I.yw.destroy(),I.yw.success((0,r.jsx)(D,{message:t}))}function X(t){message.info(_jsx(D,{message:t}))}var k={zh:{name:"\u7B80\u4F53\u4E2D\u6587",antd:B.Z},en:{name:"English",antd:M.Z},kr:{name:"\uD55C\uAD6D\uC5B4",antd:j.Z}},G=function(e){return e!==null&&_typeof(e)==="object"},se=function t(e,a){var s=Object.keys(e),o=Object.keys(a);if(s.length!==o.length)return!1;for(var d=0;d<s.length;d++){var h=e[s[d]],f=a[o[d]],c=G(h)&&G(f);if(c&&!t(h,f)||!c&&JSON.stringify(h)!==JSON.stringify(f))return!1}return!0},oe=function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:30,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return typeof e!="string"?e:e.length>a?_jsx(Tooltip,{title:s&&e,overlayInnerStyle:{maxWidth:450,maxHeight:250,overflow:"auto"},children:e.length>a?"".concat(e.slice(0,a),"..."):e}):e},ue=function(e){return e==null?void 0:e.split("@")[0]},Q=60,z=Q*60,Y=z*24,q=Y*30,ne=q*12,ie=function(e,a){if(typeof e!="number")return e;var s=a!=null?a:Math.floor(+new Date/1e3),o=s-e;return o=o<0?0:o,o<Q?"\u521A\u521A":o<z?"".concat(Math.floor(o/60),"\u5206\u949F\u524D"):o<Y?"".concat(Math.floor(o/z),"\u5C0F\u65F6\u524D"):o<q?"".concat(Math.floor(o/Y),"\u5929\u524D"):o<ne?"".concat(Math.floor(o/q),"\u6708\u524D"):"".concat(Math.floor(o/ne),"\u5E74\u524D")},V=function(e){return e.split(/\D/).filter(function(a){return a!==""}).join(":")},le=function(e){if(typeof e!="number")return{str:"0\u79D2",colonStr:"00:00",mins:0,seconds:e};var a=dayjs.duration(e,"seconds"),s=a.seconds(),o=a.minutes(),d=a.hours(),h=a.days(),f="".concat(s).padStart(2,"0")+"\u79D2",c="".concat(o).padStart(2,"0")+"\u5206",K="".concat(d).padStart(2,"0")+"\u65F6",ee="".concat(h).padStart(2,"0")+"\u5929";return e<Q?{str:f,colonStr:V("".concat(c).concat(f)),timeNode:_jsxs(_Fragment,{children:[_jsx("span",{className:"num",children:f.slice(0,2)}),_jsx("span",{children:"\u79D2"})]}),mins:o,seconds:s}:e<z?{str:"".concat(c).concat(f),colonStr:V("".concat(c).concat(f)),timeNode:_jsxs(_Fragment,{children:[_jsx("span",{className:"num",children:c.slice(0,2)}),_jsx("span",{children:"\u5206"}),_jsx("span",{className:"num",children:f.slice(0,2)}),_jsx("span",{children:"\u79D2"})]}),mins:o,seconds:s}:e<Y?{str:"".concat(K).concat(c).concat(f),colonStr:V("".concat(K).concat(c).concat(f)),timeNode:_jsxs(_Fragment,{children:[_jsx("span",{className:"num",children:K.slice(0,2)}),_jsx("span",{children:"\u65F6"}),_jsx("span",{className:"num",children:c.slice(0,2)}),_jsx("span",{children:"\u5206"}),_jsx("span",{className:"num",children:f.slice(0,2)}),_jsx("span",{children:"\u79D2"})]}),hours:d,mins:o,seconds:s}:{str:"".concat(ee).concat(K).concat(c).concat(f),colonStr:V("".concat(ee).concat(K).concat(c).concat(f)),timeNode:_jsxs(_Fragment,{children:[_jsx("span",{className:"num",children:ee.slice(0,2)}),_jsx("span",{children:"\u5929"}),_jsx("span",{className:"num",children:K.slice(0,2)}),_jsx("span",{children:"\u65F6"}),_jsx("span",{className:"num",children:c.slice(0,2)}),_jsx("span",{children:"\u5206"}),_jsx("span",{className:"num",children:f.slice(0,2)}),_jsx("span",{children:"\u79D2"})]}),days:h,hours:d,mins:o,seconds:s}},re=1024,te=null,ce=function(e){var a,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;if(typeof e!="number")return(a=e)!==null&&a!==void 0?a:"0B";for(var o=0;e>re&&o<te.length-1;)e/=re,o++;return"".concat(e.toFixed(s)).concat(te[o])},de=function(e,a){return a>e.length?e:"".concat(e.slice(0,a),"...")},_e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:14;if(!(!_.isInteger(e)||e<1)){var a=Math.floor(dayjs().endOf("day").valueOf()/1e3),s=Math.floor(dayjs().subtract(e,"day").startOf("day").valueOf()/1e3);return{run_at_gte:s,run_at_lte:a}}},fe=function(e){return"".concat(e,"_").concat(JSON.parse(localStorage.getItem("USER_INFO")).email)},ae=function(e,a){try{return((a==null?void 0:a.label)||(a==null?void 0:a.title)||"").toUpperCase().includes(e.toUpperCase())}catch(s){}},me=function(){var t=/(https?:\/\/[^\s]+)/g;return function(e){var a=e.split(t);return(0,r.jsx)(r.Fragment,{children:a.map(function(s){return s.match(t)?(0,r.jsx)("a",{target:"_blank",rel:"noreferrer",href:s,onClick:function(d){d.stopPropagation()},children:s},s):s})})}}(),ve=function(e,a){return e.reduce(function(s,o,d){return a(o)?[].concat(_toConsumableArray(s),[d]):s},[])},ge=function(e,a){var s=new Map;return a.forEach(function(o,d){s.set(o,d)}),e.sort(function(o,d){var h=s.has(o.dataIndex)?s.get(o.dataIndex):a.length,f=s.has(d.dataIndex)?s.get(d.dataIndex):a.length;return h-f})},pe=function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:14,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"caption",o=document.createElement("canvas"),d=o.getContext("2d");d.font="".concat(a,"px ").concat(s);var h=d.measureText(e);return h.width}},67254:function(H,T,n){var N=n(26068),E=n.n(N),F=n(67825),P=n.n(F),O=n(53649),C=n.n(O),U=n(99503),S=n(77777),y=n(88230),M=n(75271),j=n(52676),B=["children","extra","ghost","title"],g,A,l=(0,y.kc)(function(i){var p=i.css;return{pageContainer:{"& .ant-page-header-heading":p(g||(g=C()([`
      margin-bottom: -50px;
    `]))),"& .ant-page-header-heading-extra":p(A||(A=C()([`
      position: absolute;
      top: 17px;
      right: 20px;
    `])))}}}),m=function(p){var I=p.children,r=p.extra,b=r===void 0?(0,j.jsx)(U.er,{}):r,Z=p.ghost,$=Z===void 0?!1:Z,v=p.title,u=v===void 0?!1:v,x=P()(p,B),D=l(),L=D.styles;return(0,j.jsx)(S._z,E()(E()({ghost:$,extra:b,className:L.pageContainer,title:u},x),{},{children:I}))};T.Z=m},78474:function(H,T,n){n.d(T,{j:function(){return F},t:function(){return P}});var N=n(54388),E=n(87300);function F(O,C,U,S,y,M){var j=y!=null?y:E.ZP,B=(0,N.useRequest)(O(C,U),{manual:!0,onSuccess:function(m){if(m.code!==0?j.error(m.msg):j.success(m.msg),M)M();else{var i;S==null||(i=S.current)===null||i===void 0||i.reload(!1)}},onError:function(){j.error("\u64CD\u4F5C\u5931\u8D25")}}),g=B.run,A=B.loading;return{runOpt:g,loading:A}}function P(O){var C=O.optMethod,U=O.optType,S=O.method,y=O.actionRef,M=O.messageApi,j=O.onSuccessCallback,B=O.showSuccessMessage,g=B===void 0?!0:B,A=M!=null?M:E.ZP,l=(0,N.useRequest)(C(U,S),{manual:!0,onSuccess:function(I){var r=typeof I.msg=="string"?I.msg:JSON.stringify(I.msg);if(I.code!==0)A.error(r);else if(j)j(I);else{var b;g&&A.success(r),y==null||(b=y.current)===null||b===void 0||b.reload(!1)}},onError:function(){A.error("\u64CD\u4F5C\u5931\u8D25")}}),m=l.run,i=l.loading;return{runOpt:m,loading:i}}},16751:function(H,T,n){n.d(T,{Z:function(){return $}});var N=n(82092),E=n.n(N),F=n(48305),P=n.n(F),O=n(89458),C={},U=C,S={},y=n(46949),M=n(65111),j=n(91583),B=n(26068),g=n(33909),A=function(u){return g.ZP.load(u)},l=function(u,x,D){cookie.save(u,x,_objectSpread({path:"/"},D))},m=function(u,x){return cookie.remove(u,x)},i={baseURL:"",headers:{"Content-Type":"application/json","Cache-Control":"no-cache"}},p=y.Z.create(i);p.interceptors.request.use(function(v){var u=A("token");return u||localStorage.getItem("TOKEN")&&(u=localStorage.getItem("TOKEN").replace(/"/g,"")),v.headers.authorization=u,v.headers.language=localStorage.getItem("i18nextLng")||"zh",v},function(v){throw v}),p.interceptors.response.use(function(v){var u=v.data,x=v.config,D=x.showSuccessMessage,L=D===void 0?!0:D,R=x.showErrorMessage,J=R===void 0?!0:R;if(u.code===61)window.location.assign((0,j.fN)());else if(u.code!==0&&u.code!==200)if(u.code===10404)location.assign("/access-deny");else if(u.code===401)location.assign((0,j.fN)());else if(u.code===403)location.assign("/");else throw u.code===109001?new Error(JSON.stringify(u)):u.code===100007?(console.log("\u6743\u9650\u9519\u8BEF"),new Error(JSON.stringify(u))):(J&&(0,M.hI)(u.message||u.msg),new Error(JSON.stringify(u)));else if(v.config.method!=="get"&&L){var w;(0,M.PV)(!u.message||((w=u.message)===null||w===void 0?void 0:w.toUpperCase())==="OK"?"\u64CD\u4F5C\u6210\u529F":u.message)}if("meta"in u){var W;return{list:u.data,page_info:(W=u.meta)===null||W===void 0?void 0:W.pagination}}return u.data||u.response},function(v){var u=v.response,x=u.data,D=u.config.showErrorMessage,L=D===void 0?!0:D;(x==null?void 0:x.code)===100007?(0,M.fG)():L&&(0,M.hI)((0,M.XC)(v));var R=v.response.status;return R===401&&window.location.assign((0,j.fN)()),Promise.reject(v)});var I=p,r=y.Z.create(i);r.interceptors.response.use(function(v){return v.data});var b=function(u){var x=u,D="GET",L=u.split(" ");if(L.length===2){var R=P()(L,2);D=R[0],x=R[1]}return function(J,w){var W=E()(E()({url:x,method:D},D==="GET"?"params":"data",J),"paramsSerializer",function(k){return O.Z.stringify(k,{arrayFormat:"comma"})});return Object.assign(W,w||{}),new Promise(function(X,k){I(W).then(function(G){X(G)}).catch(function(G){k(G)})})}},Z={};Reflect.ownKeys(U).forEach(function(v){Z[v]=b(U[v])});var $=Z},56633:function(H,T,n){n.d(T,{oR:function(){return B}});var N=n(26068),E=n.n(N),F=n(90228),P=n.n(F),O=n(87999),C=n.n(O),U=n(39669),S=n(24513),y=n(71348),M={getAllUsers:function(){var g=C()(P()().mark(function l(){return P()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",{list:[]});case 1:case"end":return i.stop()}},l)}));function A(){return g.apply(this,arguments)}return A}(),getHuanleUsers:function(){var g=C()(P()().mark(function l(){return P()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",{list:[]});case 1:case"end":return i.stop()}},l)}));function A(){return g.apply(this,arguments)}return A}()},j={count:0,user:{age:18},project:{},userInfo:{userInfo:{avatar:""}},allUsers:[],departments:[],gameList:{},userAuth:{}},B=(0,y.F)()((0,U.mW)(function(g,A){return E()(E()({},j),{},{increase:function(){return g(function(m){return{count:m.count+1}})},changeUserInfo:function(){return g(function(){return{user:{age:20}}})},setProject:function(m){return g(function(){return{project:m}})},setUserAuth:function(m){return g(function(){return{userAuth:m}})},setUserInfo:function(m){return g(function(i){return{userInfo:E()(E()({},i.userInfo),m)}})},setUserAvatar:function(m){return g(function(i){return{userInfo:E()(E()({},i.userInfo),{},{userInfo:E()(E()({},i.userInfo.userInfo),{},{avatar:m})})}})},updateAllUsers:function(){var l=C()(P()().mark(function i(){var p;return P()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,M.getAllUsers();case 3:p=r.sent,g(function(){return{allUsers:p.list}}),r.next=9;break;case 7:r.prev=7,r.t0=r.catch(0);case 9:case"end":return r.stop()}},i,null,[[0,7]])}));function m(){return l.apply(this,arguments)}return m}(),updateDepartments:function(){var l=C()(P()().mark(function i(){var p;return P()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,M.getHuanleUsers();case 3:p=r.sent,g(function(){return{departments:p.list}}),r.next=9;break;case 7:r.prev=7,r.t0=r.catch(0);case 9:case"end":return r.stop()}},i,null,[[0,7]])}));function m(){return l.apply(this,arguments)}return m}(),setGameList:function(m){return g(function(){return{gameList:m}})}})},{name:"global-store"}),S.X)}}]);
