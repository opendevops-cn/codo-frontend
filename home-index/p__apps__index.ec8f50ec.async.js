"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[850],{24302:function(Pe,Y,a){a.r(Y),a.d(Y,{default:function(){return Re}});var ie=a(15558),H=a.n(ie),oe=a(26068),j=a.n(oe),se=a(90228),c=a.n(se),le=a(87999),I=a.n(le),de=a(48305),N=a.n(de),v=a(12871),M=a(14417),D=a(87980),m=a(50959),ue=a(61826),Ae=a(18653),ce=a(36379),T=a(33564),G=a(94587),ve=a(64293),pe=a(1193),ge=a(38546),O=a(47698),fe=a(64527),n=a(11527);function he(p){var l=p.entryData,u=p.onUpdateFavorite,g=p.onUpdateRecentVisited,C=G.Z.getDesignToken,Z=C(),f=(0,ce.Z)(),x=(0,T.Z)(f.breakpoints.down(1620)),y=(0,T.Z)(f.breakpoints.between(1620,1750)),B=(0,T.Z)(f.breakpoints.up(1750)),R=x?"300px":y?"330px":B?"360px":"100%";return(0,n.jsxs)(v.Z,{sx:{border:"1px solid #F0F2F5",borderRadius:1,display:"flex",alignItems:"flex-start",p:"20px",boxSizing:"border-box",gap:"24px",width:R,maxWidth:"100%",cursor:"pointer",":hover":{boxShadow:"10px 10px 50px 0px rgba(25, 48, 129, 0.10)",borderColor:Z.colorPrimaryBg,background:'url("/imgs/card_bg.png") no-repeat center center',".component-name":{color:Z.colorPrimary}}},onClick:function(F){F.stopPropagation(),g==null||g(l.id),l.href?window.open(l.href):window.location.assign("/".concat(l.app_code))},children:[(0,n.jsx)(v.Z,{sx:{flexShrink:0,padding:"8px",borderRadius:1,bgcolor:"#F2F7FF"},children:(0,n.jsx)(ve.Z,{preview:!1,width:28,height:28,alt:l.icon,src:ue.DY[l.icon||"default"],fallback:"data:image/png;base64,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"})}),(0,n.jsxs)(v.Z,{sx:{flexGrow:1},children:[(0,n.jsx)(v.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:"8px"},children:(0,n.jsx)(v.Z,{className:"component-name",sx:{color:"#1E2226",fontSize:14,fontWeight:600,lineHeight:"22px",width:"100%"},children:(0,n.jsxs)(M.Z,{justify:"space-between",children:[(0,n.jsx)(D.Z,{children:l.name}),(0,n.jsx)(D.Z,{onClick:function(F){F.stopPropagation()},children:(0,n.jsxs)(pe.Z,{size:"middle",children:[(0,n.jsx)(ge.Z,{title:"\u4EA7\u54C1\u624B\u518C",children:(0,n.jsx)(Ae.Z,{style:{fontSize:"13px",marginBottom:"6px"},onClick:function(){O.ZP.info("\u6682\u672A\u5F00\u653E")}})}),(0,n.jsx)(fe.Z,{value:l.isFavorite?1:0,count:1,onChange:function(){u==null||u(l)},style:{fontSize:16}})]})})]})})}),(0,n.jsx)(v.Z,{sx:{color:"#8A9099",height:"40px",fontSize:12,lineHeight:"20px",overflow:"hidden",textOverflow:"ellipsis",textAlign:"justify",display:"-webkit-box",WebkitLineClamp:"2",WebkitBoxOrient:"vertical"},children:l.description})]})]})}var Ee=(0,m.forwardRef)(function(p,l){var u=p.components,g=p.onLoad,C=p.onUpdateFavorite,Z=p.onUpdateRecentVisited;return(0,m.useLayoutEffect)(function(){g()},[g]),(0,n.jsx)(v.Z,{sx:{ml:"10px"},ref:l,children:u.map(function(f,x){var y;return f&&(0,n.jsxs)(v.Z,{sx:{minHeight:x===u.length-1?"800px":"auto",mb:"40px"},children:[(0,n.jsx)(v.Z,{id:f.hash,sx:{fontSize:"16px",fontWeight:600,lineHeight:"24px",mb:"12px"},children:f.classifyName}),(0,n.jsx)(M.Z,{gutter:[16,16],children:(y=f.childrenClassifyList)===null||y===void 0?void 0:y.map(function(B){return(0,n.jsx)("div",{children:(0,n.jsx)(D.Z,{flex:"339px",children:(0,n.jsx)(he,{entryData:B,onUpdateFavorite:C,onUpdateRecentVisited:Z})},B.id)},B.id)})})]},f.id)})})}),Qe=G.Z.getDesignToken,xe=Qe(),me=function(l){var u=l.entryData,g=l.onUpdate;return(0,n.jsx)(v.Z,{sx:{width:"100%",height:"40px",display:"flex",lineHeight:"40px",alignItems:"center",textIndent:"10px",cursor:"pointer",borderRadius:"6px",gap:"10px","&:hover":{backgroundColor:xe.colorBgTextHover}},onClick:function(){g==null||g(u.id),u.href?window.open(u.href):window.location.assign("/".concat(u.app_code))},children:u.name})},V=me,W=a(86004),ze="cli_a270b45f63b9100b",X="5e932919d768f52a3113fcd52556a6da",$="favorite_apps",q=a(82529),Ce=a(40460),ye=a(45370),L=a(81855),_=a(53269),Be=a(88464),Se=a(94190),w=a(48345),je=a(41268),Ie=a(57900),Le=a(33938),Ze=a(19383),Fe=(0,Ze.kc)(function(p){var l=p.token;return{container:{display:"flex"},navigation:{boxSizing:"border-box",".ant-anchor-link-active":{background:l.colorInfoBg,color:l.colorInfoText},".ant-anchor-link":{}},appsContainer:{flex:1,height:"calc(100vh - 166px)",overflowY:"auto",overflowX:"hidden"}}}),Ne=function(){var l,u=Fe(),g=u.styles,C=(0,q.useLocation)(),Z=(0,m.useState)(""),f=N()(Z,2),x=f[0],y=f[1],B=(0,q.useModel)("@@initialState"),R=B.initialState,U=(0,m.useState)((R==null||(l=R.appList)===null||l===void 0?void 0:l.data)||[]),F=N()(U,2),J=F[0],ee=F[1],Ue=(0,m.useState)([]),ne=N()(Ue,2),b=ne[0],Je=ne[1],be=Object.entries(Object.groupBy(J,function(i){var t=i.classify;return t!=null?t:"\u5176\u4ED6"})),Ke=(0,Be.Z)("recent-visited",{defaultValue:[],listenStorageChange:!0}),te=N()(Ke,2),K=te[0],ke=te[1],De=function(){var i=I()(c()().mark(function t(e){var o;return c()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,W._l)(e);case 3:return o=r.sent,r.abrupt("return",o);case 7:return r.prev=7,r.t0=r.catch(0),console.log("++++++++++++error",r.t0),r.abrupt("return",{});case 11:case"end":return r.stop()}},t,null,[[0,7]])}));return function(e){return i.apply(this,arguments)}}(),k=be.map(function(i){var t,e=i[0],o=(t=i[1])!==null&&t!==void 0?t:[];return{id:e,classifyName:e,hash:"component-"+encodeURIComponent(e),childrenClassifyList:o}}),S=(0,m.useMemo)(function(){var i=["SaaS","PaaS","\u7B2C\u4E09\u65B9"];return(k==null?void 0:k.map(function(t){var e,o=((e=t.childrenClassifyList)===null||e===void 0?void 0:e.filter(function(s){return s.name.toLocaleLowerCase().includes(x.toLocaleLowerCase())||s.app_code.toLocaleLowerCase().includes(x.toLocaleLowerCase())}).filter(Boolean))||[];return o.length<=0?null:j()(j()({},t),{},{childrenClassifyList:o})}).filter(Boolean).sort(function(t,e){var o=i.indexOf(t==null?void 0:t.classifyName),s=i.indexOf(e==null?void 0:e.classifyName);return o===-1&&s===-1?0:o===-1?1:s===-1?-1:o-s}))||[]},[k,x]),ae=function(){var i=I()(c()().mark(function t(){var e,o;return c()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,De({key:X,app_code:$});case 2:return o=r.sent,Je((o==null||(e=o.data)===null||e===void 0||(e=e[0])===null||e===void 0||(e=e.value)===null||e===void 0?void 0:e.app_collect)||[]),r.abrupt("return",o);case 5:case"end":return r.stop()}},t)}));return function(){return i.apply(this,arguments)}}(),Te=function(){var i=I()(c()().mark(function t(e){var o,s,r,h,E;return c()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return o=b.findIndex(function(Q){return Q.id===e.id}),s=[],o!==-1?s=b.filter(function(Q,z){return z!==o}):s=[{id:e.id,app_code:e.app_code,name:e.name,href:e.href}].concat(H()(b)),r={key:X,app_code:$,value:{app_collect:s}},A.prev=4,A.next=7,(0,W.dV)(r);case 7:return O.ZP.success(o!==-1?"\u53D6\u6D88\u6536\u85CF\u6210\u529F":"\u6DFB\u52A0\u6536\u85CF\u6210\u529F"),A.next=10,ae();case 10:h=J.map(function(Q){var z=Q.id===e.id;return z?j()(j()({},Q),{},{isFavorite:!Q.isFavorite}):Q}),E=re(h),ee(E),A.next=17;break;case 15:A.prev=15,A.t0=A.catch(4);case 17:case"end":return A.stop()}},t,null,[[4,15]])}));return function(e){return i.apply(this,arguments)}}(),re=function(t){var e=Object.groupBy(t,function(s){var r=s.classify;return r!=null?r:"\u5176\u4ED6"}),o=Object.fromEntries(Object.entries(e).map(function(s){var r=N()(s,2),h=r[0],E=r[1];return[h,(E!=null?E:[]).sort(function(d,A){return d.isFavorite===A.isFavorite?0:d.isFavorite?-1:1})]}));return Object.values(o).flat()},we=function(){var i=I()(c()().mark(function t(){var e,o,s;return c()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,ae();case 2:e=h.sent,o=J.map(function(E){var d,A=(d=e.data)===null||d===void 0||(d=d[0])===null||d===void 0||(d=d.value)===null||d===void 0||(d=d.app_collect)===null||d===void 0?void 0:d.find(function(Q){return Q.id===E.id});return j()(j()({},E),{},{isFavorite:!!A})}),s=re(o),ee(s);case 6:case"end":return h.stop()}},t)}));return function(){return i.apply(this,arguments)}}(),P=function(t){var e=J.find(function(r){return r.id===t});if(e){var o={id:e.id,app_code:e.app_code,name:e.name,href:e.href},s=[o].concat(H()((K!=null?K:[]).filter(function(r){return r.id!==e.id})));s.length>5&&s.pop(),ke(s)}};return(0,m.useEffect)(function(){I()(c()().mark(function i(){return c()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we();case 2:case"end":return e.stop()}},i)}))()},[]),(0,n.jsx)(ye._z,{header:{title:"\u5E94\u7528\u4E2D\u5FC3"},style:{padding:0},pageHeaderRender:function(){return(0,n.jsxs)(Se.Z,{vertical:!0,style:{padding:"24px 24px 0"},gap:8,children:[(0,n.jsx)(w.Z.Title,{level:4,children:"\u5E94\u7528\u4E2D\u5FC3"}),(0,n.jsx)(je.Z,{addonBefore:(0,n.jsx)(Ce.Z,{}),placeholder:"\u8BF7\u8F93\u5165\u4EA7\u54C1\u6216\u670D\u52A1\u540D\u79F0\u8FDB\u884C\u641C\u7D22",allowClear:!0,value:x,onChange:function(e){return y(e.target.value)}})]})},childrenContentStyle:{padding:24},children:(0,n.jsxs)(L.Z,{gutter:12,children:[(0,n.jsx)(L.Z,{colSpan:3,bodyStyle:{padding:"16px 0 0 0"},children:(0,n.jsx)("div",{className:g.navigation,children:(0,n.jsx)(Ie.Z,{affix:!1,getContainer:function(){return document.getElementById("scroll-container")},items:S==null?void 0:S.map(function(i){return i?{key:i.id,href:"#".concat(i.hash),title:i.classifyName}:{key:"",href:"",title:""}})})})}),(0,n.jsx)(L.Z,{colSpan:17,direction:"column",bodyStyle:{padding:"16px 0 0 0"},children:(0,n.jsx)(v.Z,{sx:{padding:"0",height:"calc(100vh - 260px)",overflowY:"auto",overflowX:"hidden"},id:"scroll-container",children:(S==null?void 0:S.length)<=0?(0,n.jsx)(v.Z,{mt:40,children:(0,n.jsx)(Le.Z,{})}):(0,n.jsx)(Ee,{components:S,onLoad:function(){var t=C.hash?document.getElementById(C.hash.slice(1)):null;t&&t.scrollIntoView()},onUpdateFavorite:function(){var i=I()(c()().mark(function t(e){return c()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Te(e);case 2:case"end":return s.stop()}},t)}));return function(t){return i.apply(this,arguments)}}(),onUpdateRecentVisited:P})})}),(0,n.jsxs)(L.Z,{colSpan:4,direction:"column",bodyStyle:{padding:0},children:[(0,n.jsx)(L.Z,{bordered:!0,bodyStyle:{padding:"10px 0 0 0",height:230,overflowY:"auto"},title:(0,n.jsx)(w.Z.Title,{level:5,children:"\u6700\u8FD1\u8BBF\u95EE"}),style:{marginBottom:12},children:(0,n.jsx)(_.Rs,{size:"large",grid:{gutter:2,column:1},dataSource:K,renderItem:function(t){return(0,n.jsx)(V,{entryData:t,onUpdate:P})}})}),(0,n.jsx)(L.Z,{bordered:!0,bodyStyle:{padding:"10px 0 0 0",minHeight:230,height:"calc(100vh - 580px)",overflowY:"auto"},title:(0,n.jsx)(w.Z.Title,{level:5,children:"\u6211\u7684\u6536\u85CF"}),children:(0,n.jsx)(_.Rs,{size:"large",grid:{gutter:2,column:1},dataSource:b,renderItem:function(t){return(0,n.jsx)(V,{entryData:t,onUpdate:P})}})})]})]})})},Re=Ne}}]);
