"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[37],{20235:function(rt,F,n){n.r(F),n.d(F,{default:function(){return Ye}});var Me=n(90228),L=n.n(Me),ge=n(26068),j=n.n(ge),Le=n(87999),N=n.n(Le),je=n(48305),f=n.n(je),de=n(39086),ye=n(98065),Ie=n(61826),Se=n(62682),Ne=n(42956),fe=n(27709),me=n(63704),Y=n(19014),he=n(5e4),T=n(82529),Te=n(94587),Q=n(47698),Ee=n(40676),b=n(1193),p=n(38546),R=n(48345),xe=n(70939),k=n(50159),C=n(14417),ve=n(87980),De=n(19383),Ae=n(82187),ze=n.n(Ae),M=n(50959),pe=n(10422),Ce=Object.defineProperty,P=Object.getOwnPropertySymbols,we=Object.prototype.hasOwnProperty,Oe=Object.prototype.propertyIsEnumerable,G=(g,s,o)=>s in g?Ce(g,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):g[s]=o,Ue=(g,s)=>{for(var o in s||(s={}))we.call(s,o)&&G(g,o,s[o]);if(P)for(var o of P(s))Oe.call(s,o)&&G(g,o,s[o]);return g};const it=g=>React.createElement("svg",Ue({"data-name":"\\u56FE\\u5C42 2",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 165.99 146.9"},g),React.createElement("defs",null,React.createElement("linearGradient",{id:"logo_svg__b","data-name":"\\u672A\\u547D\\u540D\\u7684\\u6E10\\u53D8",x1:-686.82,y1:610.82,x2:-685.84,y2:609.82,gradientTransform:"matrix(165.99 0 0 -146.9 114009.77 89728.26)",gradientUnits:"userSpaceOnUse"},React.createElement("stop",{offset:0,stopColor:"#15b5fe"}),React.createElement("stop",{offset:.49,stopColor:"#2462fe"}),React.createElement("stop",{offset:1,stopColor:"#903ffe"})),React.createElement("linearGradient",{id:"logo_svg__a","data-name":"\\u672A\\u547D\\u540D\\u7684\\u6E10\\u53D8 3",x1:-683.45,y1:609.93,x2:-682.63,y2:609,gradientTransform:"matrix(92.6 0 0 -117.13 63307.6 71482.08)",gradientUnits:"userSpaceOnUse"},React.createElement("stop",{offset:0,stopColor:"#9442ff"}),React.createElement("stop",{offset:1,stopColor:"#1ab2fd"})),React.createElement("linearGradient",{id:"logo_svg__c","data-name":"\\u672A\\u547D\\u540D\\u7684\\u6E10\\u53D8 3",x1:-697.43,y1:616.93,x2:-698.36,y2:617.82,gradientTransform:"matrix(-93.14 0 0 118.01 -64894.69 -72805.69)",xlinkHref:"#logo_svg__a"})),React.createElement("g",{"data-name":"\\u56FE\\u5C42 1"},React.createElement("path",{d:"M128.87 82.45c5-5.67 5-12 0-19-38.33-36.34-60.33-56-66-59-.44-.23-.93-.48-1.46-.75a74.24 74.24 0 0 1 5.26-1.42c1.77-.41 3.55-.74 5.35-1.02 1.8-.27 3.6-.48 5.41-.61 1.81-.14 3.63-.2 5.44-.2 1.19 0 2.37.03 3.56.09s2.37.15 3.55.26c1.18.12 2.36.26 3.53.44a71.58 71.58 0 0 1 6.98 1.39c1.15.29 2.29.6 3.43.95 1.14.34 2.26.72 3.38 1.12 1.12.4 2.22.83 3.32 1.28 1.1.45 2.18.93 3.25 1.44 1.07.51 2.13 1.04 3.18 1.6a72.48 72.48 0 0 1 6.11 3.65c.99.66 1.96 1.34 2.91 2.05.95.71 1.89 1.44 2.81 2.19a74.568 74.568 0 0 1 5.27 4.77c.84.84 1.66 1.7 2.45 2.58.8.88 1.57 1.78 2.32 2.69.75.92 1.48 1.85 2.19 2.81.71.95 1.39 1.92 2.05 2.91a72.46 72.46 0 0 1 3.65 6.11c.56 1.05 1.09 2.11 1.6 3.18.51 1.07.99 2.16 1.44 3.25.45 1.1.88 2.2 1.28 3.32.4 1.12.77 2.24 1.12 3.38.34 1.14.66 2.28.95 3.43.29 1.15.55 2.31.78 3.47.23 1.16.43 2.33.61 3.51.17 1.17.32 2.35.44 3.53s.2 2.36.26 3.55.09 2.37.09 3.56c0 3.46-.25 6.91-.74 10.34-.49 3.43-1.23 6.8-2.21 10.13.25.37.5.73.75 1.1 16.88 32.67 13.89 43.49 8.95 47.94l-.28.25c-4.99 4.51-12.43 11.24-49.72-15.75-7-5.33-14.5-11.17-22.5-17.5-22.26-20.82-34.43-32.65-36.5-35.5l24.5-25.5-13-11-27.5 27c-5 5.67-5 12 0 19 38.33 36.33 60.33 56 66 59 .05.02.09.05.14.07-3.31.97-6.67 1.7-10.09 2.19s-6.85.74-10.3.74c-1.19 0-2.37-.03-3.56-.09a83.48 83.48 0 0 1-3.55-.26c-1.18-.12-2.36-.26-3.53-.44a71.58 71.58 0 0 1-6.98-1.39c-1.15-.29-2.29-.6-3.43-.95-1.14-.34-2.26-.72-3.38-1.12-1.12-.4-2.22-.83-3.32-1.28-1.1-.45-2.18-.93-3.25-1.44-1.07-.51-2.13-1.04-3.18-1.6a72.48 72.48 0 0 1-6.11-3.65c-.99-.66-1.96-1.34-2.91-2.05-.95-.71-1.89-1.44-2.81-2.19-.92-.75-1.82-1.53-2.69-2.32-.88-.8-1.74-1.62-2.58-2.45-.84-.84-1.66-1.7-2.45-2.58-.8-.88-1.57-1.78-2.32-2.69-.75-.92-1.48-1.85-2.19-2.81-.71-.95-1.39-1.92-2.05-2.91a72.46 72.46 0 0 1-3.65-6.11c-.56-1.05-1.09-2.11-1.6-3.18-.51-1.07-.99-2.16-1.44-3.25-.45-1.1-.88-2.2-1.28-3.32-.4-1.12-.77-2.24-1.12-3.38-.34-1.14-.66-2.28-.95-3.43-.29-1.15-.55-2.31-.78-3.47a80.31 80.31 0 0 1-.61-3.51c-.17-1.17-.32-2.35-.44-3.53-.12-1.18-.2-2.36-.26-3.55s-.09-2.37-.09-3.56a72.475 72.475 0 0 1 2.74-19.73c-.25-.36-.49-.72-.73-1.08l1 1.32C-4.13 19.95-1.13 8.95 3.87 4.45l.28-.25C9.14-.32 16.58-7.04 53.87 19.95c7 5.33 14.5 11.17 22.5 17.5 22.26 20.82 34.43 32.65 36.5 35.5l-24.5 25.5 13 11 27.5-27Z",style:{fill:"url(#logo_svg__b)",fillRule:"evenodd",strokeWidth:0}}),React.createElement("path",{d:"M30.97 29.84c-19 5-41.5 66.5 17 107.5 15 8.67 33.34 10.5 55 5.5l-32-27-30.5-29.5c-7-6.67-8.5-13.33-4.5-20 2.67-3 6.5-6.83 11.5-11.5 5-5 10.83-10.67 17.5-17-10-8.67-21.33-11.33-34-8Z",style:{fill:"url(#logo_svg__a)",strokeWidth:0}}),React.createElement("path",{d:"M135.37 117.19c19-5 39-75.74-17-107.5C103.04.2 84.2-1.89 61.87 3.45l33.5 27.74 30.5 29.5c7 6.67 8.5 13.33 4.5 20-2.67 3-6.5 6.83-11.5 11.5-5 5-10.83 10.67-17.5 17 10 8.67 21.33 11.33 34 8Z",style:{strokeWidth:0,fill:"url(#logo_svg__c)"}})));var Ze="data:image/svg+xml;base64,PHN2ZyBkYXRhLW5hbWU9IuWbvuWxgiAyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgMTY1Ljk5IDE0Ni45Ij48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImIiIGRhdGEtbmFtZT0i5pyq5ZG95ZCN55qE5riQ5Y+YIiB4MT0iLTY4Ni44MiIgeTE9IjYxMC44MiIgeDI9Ii02ODUuODQiIHkyPSI2MDkuODIiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMTY1Ljk5IDAgMCAtMTQ2LjkgMTE0MDA5Ljc3IDg5NzI4LjI2KSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iIzE1YjVmZSIvPjxzdG9wIG9mZnNldD0iLjQ5IiBzdG9wLWNvbG9yPSIjMjQ2MmZlIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjOTAzZmZlIi8+PC9saW5lYXJHcmFkaWVudD48bGluZWFyR3JhZGllbnQgaWQ9ImEiIGRhdGEtbmFtZT0i5pyq5ZG95ZCN55qE5riQ5Y+YIDMiIHgxPSItNjgzLjQ1IiB5MT0iNjA5LjkzIiB4Mj0iLTY4Mi42MyIgeTI9IjYwOSIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCg5Mi42IDAgMCAtMTE3LjEzIDYzMzA3LjYgNzE0ODIuMDgpIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjOTQ0MmZmIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjMWFiMmZkIi8+PC9saW5lYXJHcmFkaWVudD48bGluZWFyR3JhZGllbnQgaWQ9ImMiIGRhdGEtbmFtZT0i5pyq5ZG95ZCN55qE5riQ5Y+YIDMiIHgxPSItNjk3LjQzIiB5MT0iNjE2LjkzIiB4Mj0iLTY5OC4zNiIgeTI9IjYxNy44MiIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgtOTMuMTQgMCAwIDExOC4wMSAtNjQ4OTQuNjkgLTcyODA1LjY5KSIgeGxpbms6aHJlZj0iI2EiLz48L2RlZnM+PGcgZGF0YS1uYW1lPSLlm77lsYIgMSI+PHBhdGggZD0iTTEyOC44NyA4Mi40NWM1LTUuNjcgNS0xMiAwLTE5LTM4LjMzLTM2LjM0LTYwLjMzLTU2LTY2LTU5LS40NC0uMjMtLjkzLS40OC0xLjQ2LS43NWE3NC4yNCA3NC4yNCAwIDAgMSA1LjI2LTEuNDJjMS43Ny0uNDEgMy41NS0uNzQgNS4zNS0xLjAyIDEuOC0uMjcgMy42LS40OCA1LjQxLS42MSAxLjgxLS4xNCAzLjYzLS4yIDUuNDQtLjIgMS4xOSAwIDIuMzcuMDMgMy41Ni4wOXMyLjM3LjE1IDMuNTUuMjZjMS4xOC4xMiAyLjM2LjI2IDMuNTMuNDRhNzEuNTggNzEuNTggMCAwIDEgNi45OCAxLjM5YzEuMTUuMjkgMi4yOS42IDMuNDMuOTUgMS4xNC4zNCAyLjI2LjcyIDMuMzggMS4xMiAxLjEyLjQgMi4yMi44MyAzLjMyIDEuMjggMS4xLjQ1IDIuMTguOTMgMy4yNSAxLjQ0IDEuMDcuNTEgMi4xMyAxLjA0IDMuMTggMS42YTcyLjQ4IDcyLjQ4IDAgMCAxIDYuMTEgMy42NWMuOTkuNjYgMS45NiAxLjM0IDIuOTEgMi4wNS45NS43MSAxLjg5IDEuNDQgMi44MSAyLjE5YTc0LjU2OCA3NC41NjggMCAwIDEgNS4yNyA0Ljc3Yy44NC44NCAxLjY2IDEuNyAyLjQ1IDIuNTguOC44OCAxLjU3IDEuNzggMi4zMiAyLjY5Ljc1LjkyIDEuNDggMS44NSAyLjE5IDIuODEuNzEuOTUgMS4zOSAxLjkyIDIuMDUgMi45MWE3Mi40NiA3Mi40NiAwIDAgMSAzLjY1IDYuMTFjLjU2IDEuMDUgMS4wOSAyLjExIDEuNiAzLjE4LjUxIDEuMDcuOTkgMi4xNiAxLjQ0IDMuMjUuNDUgMS4xLjg4IDIuMiAxLjI4IDMuMzIuNCAxLjEyLjc3IDIuMjQgMS4xMiAzLjM4LjM0IDEuMTQuNjYgMi4yOC45NSAzLjQzLjI5IDEuMTUuNTUgMi4zMS43OCAzLjQ3LjIzIDEuMTYuNDMgMi4zMy42MSAzLjUxLjE3IDEuMTcuMzIgMi4zNS40NCAzLjUzcy4yIDIuMzYuMjYgMy41NS4wOSAyLjM3LjA5IDMuNTZjMCAzLjQ2LS4yNSA2LjkxLS43NCAxMC4zNC0uNDkgMy40My0xLjIzIDYuOC0yLjIxIDEwLjEzLjI1LjM3LjUuNzMuNzUgMS4xIDE2Ljg4IDMyLjY3IDEzLjg5IDQzLjQ5IDguOTUgNDcuOTRsLS4yOC4yNWMtNC45OSA0LjUxLTEyLjQzIDExLjI0LTQ5LjcyLTE1Ljc1LTctNS4zMy0xNC41LTExLjE3LTIyLjUtMTcuNS0yMi4yNi0yMC44Mi0zNC40My0zMi42NS0zNi41LTM1LjVsMjQuNS0yNS41LTEzLTExLTI3LjUgMjdjLTUgNS42Ny01IDEyIDAgMTkgMzguMzMgMzYuMzMgNjAuMzMgNTYgNjYgNTkgLjA1LjAyLjA5LjA1LjE0LjA3LTMuMzEuOTctNi42NyAxLjctMTAuMDkgMi4xOXMtNi44NS43NC0xMC4zLjc0Yy0xLjE5IDAtMi4zNy0uMDMtMy41Ni0uMDlhODMuNDggODMuNDggMCAwIDEtMy41NS0uMjZjLTEuMTgtLjEyLTIuMzYtLjI2LTMuNTMtLjQ0YTcxLjU4IDcxLjU4IDAgMCAxLTYuOTgtMS4zOWMtMS4xNS0uMjktMi4yOS0uNi0zLjQzLS45NS0xLjE0LS4zNC0yLjI2LS43Mi0zLjM4LTEuMTItMS4xMi0uNC0yLjIyLS44My0zLjMyLTEuMjgtMS4xLS40NS0yLjE4LS45My0zLjI1LTEuNDQtMS4wNy0uNTEtMi4xMy0xLjA0LTMuMTgtMS42YTcyLjQ4IDcyLjQ4IDAgMCAxLTYuMTEtMy42NWMtLjk5LS42Ni0xLjk2LTEuMzQtMi45MS0yLjA1LS45NS0uNzEtMS44OS0xLjQ0LTIuODEtMi4xOS0uOTItLjc1LTEuODItMS41My0yLjY5LTIuMzItLjg4LS44LTEuNzQtMS42Mi0yLjU4LTIuNDUtLjg0LS44NC0xLjY2LTEuNy0yLjQ1LTIuNTgtLjgtLjg4LTEuNTctMS43OC0yLjMyLTIuNjktLjc1LS45Mi0xLjQ4LTEuODUtMi4xOS0yLjgxLS43MS0uOTUtMS4zOS0xLjkyLTIuMDUtMi45MWE3Mi40NiA3Mi40NiAwIDAgMS0zLjY1LTYuMTFjLS41Ni0xLjA1LTEuMDktMi4xMS0xLjYtMy4xOC0uNTEtMS4wNy0uOTktMi4xNi0xLjQ0LTMuMjUtLjQ1LTEuMS0uODgtMi4yLTEuMjgtMy4zMi0uNC0xLjEyLS43Ny0yLjI0LTEuMTItMy4zOC0uMzQtMS4xNC0uNjYtMi4yOC0uOTUtMy40My0uMjktMS4xNS0uNTUtMi4zMS0uNzgtMy40N2E4MC4zMSA4MC4zMSAwIDAgMS0uNjEtMy41MWMtLjE3LTEuMTctLjMyLTIuMzUtLjQ0LTMuNTMtLjEyLTEuMTgtLjItMi4zNi0uMjYtMy41NXMtLjA5LTIuMzctLjA5LTMuNTZhNzIuNDc1IDcyLjQ3NSAwIDAgMSAyLjc0LTE5LjczYy0uMjUtLjM2LS40OS0uNzItLjczLTEuMDhsMSAxLjMyQy00LjEzIDE5Ljk1LTEuMTMgOC45NSAzLjg3IDQuNDVsLjI4LS4yNUM5LjE0LS4zMiAxNi41OC03LjA0IDUzLjg3IDE5Ljk1YzcgNS4zMyAxNC41IDExLjE3IDIyLjUgMTcuNSAyMi4yNiAyMC44MiAzNC40MyAzMi42NSAzNi41IDM1LjVsLTI0LjUgMjUuNSAxMyAxMSAyNy41LTI3WiIgc3R5bGU9ImZpbGw6dXJsKCNiKTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2Utd2lkdGg6MCIvPjxwYXRoIGQ9Ik0zMC45NyAyOS44NGMtMTkgNS00MS41IDY2LjUgMTcgMTA3LjUgMTUgOC42NyAzMy4zNCAxMC41IDU1IDUuNWwtMzItMjctMzAuNS0yOS41Yy03LTYuNjctOC41LTEzLjMzLTQuNS0yMCAyLjY3LTMgNi41LTYuODMgMTEuNS0xMS41IDUtNSAxMC44My0xMC42NyAxNy41LTE3LTEwLTguNjctMjEuMzMtMTEuMzMtMzQtOFoiIHN0eWxlPSJmaWxsOnVybCgjYSk7c3Ryb2tlLXdpZHRoOjAiLz48cGF0aCBkPSJNMTM1LjM3IDExNy4xOWMxOS01IDM5LTc1Ljc0LTE3LTEwNy41QzEwMy4wNC4yIDg0LjItMS44OSA2MS44NyAzLjQ1bDMzLjUgMjcuNzQgMzAuNSAyOS41YzcgNi42NyA4LjUgMTMuMzMgNC41IDIwLTIuNjcgMy02LjUgNi44My0xMS41IDExLjUtNSA1LTEwLjgzIDEwLjY3LTE3LjUgMTcgMTAgOC42NyAyMS4zMyAxMS4zMyAzNCA4WiIgc3R5bGU9InN0cm9rZS13aWR0aDowO2ZpbGw6dXJsKCNjKSIvPjwvZz48L3N2Zz4=",t=n(11527),E=(0,Se.Z)({scriptUrl:"//at.alicdn.com/t/c/font_4007128_to11zcmje6.js"}),w=(0,De.kc)(function(g){var s=g.token;return{action:{marginLeft:"8px",color:"rgba(0, 0, 0, 0.2)",fontSize:"24px",verticalAlign:"middle",cursor:"pointer",transition:"color 0.3s","&:hover":{color:s.colorPrimaryActive}},cornerSwitch:{position:"absolute",top:2,right:2,fontSize:"48px",cursor:"pointer"},pcLogin:{top:0,right:0},lang:{width:42,height:42,lineHeight:"42px",position:"fixed",right:16,borderRadius:s.borderRadius,":hover":{backgroundColor:s.colorBgTextHover}},container:{display:"flex",flexDirection:"column",height:"100vh",overflow:"auto","& .ant-pro-form-login-page-notice":{background:"url(/imgs/login_bg.png) left center no-repeat",backgroundSize:"cover"},"& .ant-pro-form-login-page-left":{maxWidth:700},"& iframe":{border:"none"},"& .ant-pro-form-login-page-desc":{transform:"scale(0.9)",marginBlockStart:22,marginBlockEnd:30}},authCodeContainer:{margin:"12px auto"}}}),st=function(){var s=w(),o=s.styles;return _jsx(_Fragment,{children:_jsx(Tooltip,{title:"\u98DE\u4E66\u767B\u9646",children:_jsx(E,{type:"c-icon-feishu",className:o.action})})})},ot=function(){var s=w(),o=s.styles;return _jsx("div",{className:o.lang,"data-lang":!0,children:SelectLang&&_jsx(SelectLang,{})})},lt=function(s){var o=s.content;return _jsx(Alert,{style:{marginBottom:24},message:o,type:"error",showIcon:!0})},W={color:"rgba(0, 0, 0, 0.2)",fontSize:"18px",verticalAlign:"middle"},Fe=function(){var s=(0,M.useState)("base"),o=f()(s,2),B=o[0],Qe=o[1],H=(0,T.useModel)("@@initialState"),m=H.initialState,be=H.setInitialState,Re=w(),x=Re.styles,J=(0,T.useIntl)(),ke=Te.Z.useToken(),Pe=ke.token,Ge=(0,M.useState)(!1),V=f()(Ge,2),v=V[0],X=V[1],We=(0,M.useState)(!1),$=f()(We,2),D=$[0],K=$[1],Be=(0,M.useState)(""),q=f()(Be,2),h=q[0],He=q[1],Je=(0,M.useState)(!1),_=f()(Je,2),d=_[0],ee=_[1],Ve=(0,M.useState)(""),te=f()(Ve,2),Xe=te[0],ne=te[1],$e=(0,M.useState)(""),ae=f()($e,2),Ke=ae[0],ue=ae[1],qe=function(e){He(e)},re=(0,M.useRef)(null),O=(0,M.useRef)(),ie=(0,M.useRef)(),A=(0,M.useRef)(),_e=new URL(window.location.href).searchParams,et=_e.get("redirect")||"/",tt=m==null?void 0:m.feishuAppId,U="https://passport.feishu.cn/suite/passport/oauth/authorize?client_id=".concat(tt,"&redirect_uri=").concat(encodeURIComponent(window.location.href),"&response_type=code&state=").concat(et),ct=function(){var i=N()(L()().mark(function e(){var a,u;return L()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,m==null||(a=m.fetchUserInfo)===null||a===void 0?void 0:a.call(m);case 2:u=r.sent,u&&(0,pe.flushSync)(function(){be(function(y){return j()(j()({},y),{},{currentUser:u})})});case 4:case"end":return r.stop()}},e)}));return function(){return i.apply(this,arguments)}}(),se=function(){var i=N()(L()().mark(function e(a){var u,c,r,y,I;return L()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,(0,ye.x4)(a);case 3:if(u=l.sent,u.code!==66){l.next=7;break}return X(!0),l.abrupt("return");case 7:if(!(u.code===0&&u.data)){l.next=16;break}return c="\u767B\u5F55\u6210\u529F\uFF01",Q.ZP.success(c),r=u.data,localStorage.removeItem(r.username),(0,Ie.ps)(r),y=new URL(window.location.href).searchParams,setTimeout(function(){window.location.href=r.c_url||y.get("redirect")||"/"},500),l.abrupt("return");case 16:l.next=22;break;case 18:l.prev=18,l.t0=l.catch(0),I="\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01",Q.ZP.error(I);case 22:case"end":return l.stop()}},e,null,[[0,18]])}));return function(a){return i.apply(this,arguments)}}(),nt=function(){var i=N()(L()().mark(function e(a){var u;return L()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return h.length===6&&((u=ie.current)===null||u===void 0||u.submit()),r.abrupt("return",!0);case 2:case"end":return r.stop()}},e)}));return function(a){return i.apply(this,arguments)}}(),oe=function(){var e;(e=re.current)===null||e===void 0||e.clear()},at=function(){var i=N()(L()().mark(function e(){return L()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:window.location.assign(U);case 1:case"end":return u.stop()}},e)}));return function(){return i.apply(this,arguments)}}(),ut=function(){var e=document.querySelector("iframe");e&&e.remove(),A.current=window.QRLogin({id:"login_container",goto:U,width:"328",height:"286"})},le=function(e){if(A.current&&A.current.matchOrigin(e.origin)&&A.current.matchData(e.data)){var a=e.data.tmp_code;window.location.href="".concat(U,"&tmp_code=").concat(a)}};typeof window.addEventListener!="undefined"?window.addEventListener("message",le,!1):typeof window.attachEvent!="undefined"&&window.attachEvent("onmessage",le);var ce=function(){var i=N()(L()().mark(function e(a,u,c){var r,y,I,z,l,Z;return L()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(r=new URLSearchParams(window.location.search),y=r.get("redirect")||r.get("c_url")||"/",I={},z=h.length===6,!u){S.next=10;break}return I=j()(j()({login_type:"feishu",code:u},z?{dynamic:h}:{}),{},{c_url:y,fs_redirect_uri:"".concat(encodeURIComponent(window.location.href))}),S.next=8,se(I);case 8:S.next=14;break;case 10:if(!a){S.next=14;break}return I=j()(j()({username:(l=a.username)===null||l===void 0?void 0:l.trim(),password:window.btoa(window.btoa((Z=a.password)===null||Z===void 0?void 0:Z.trim()))},z?{dynamic:h}:{login_type:B}),{},{c_url:y}),S.next=14,se(I);case 14:case"end":return S.stop()}},e)}));return function(a,u,c){return i.apply(this,arguments)}}();return(0,M.useEffect)(function(){oe(),v||(ne(""),ue(""))},[v]),(0,M.useEffect)(function(){h.length===6?K(!0):K(!1)},[h]),(0,M.useEffect)(function(){ut()},[d]),(0,M.useEffect)(function(){N()(L()().mark(function i(){var e,a,u;return L()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(e=new URLSearchParams(window.location.search),a=e.get("code"),u=e.get("state"),!(a&&u)){r.next=8;break}return r.next=6,ce(void 0,a,u);case 6:ne(a),ue(u);case 8:case"end":return r.stop()}},i)}))()},[]),(0,M.useEffect)(function(){if(D){var i;(i=O.current)===null||i===void 0||i.submit()}},[D]),(0,t.jsxs)("div",{className:x.container,children:[(0,t.jsx)(T.Helmet,{children:(0,t.jsx)("title",{children:"\u767B\u5F55"})}),(0,t.jsxs)("div",{style:{backgroundColor:"white",height:"100vh"},children:[(0,t.jsxs)(me.B,{style:{backgroundSize:"auto"},logo:(0,t.jsx)("img",{alt:"logo",src:Ze}),title:"\u5168\u7403\u4E00\u7AD9\u5F0F\u8FD0\u7EF4",containerStyle:{backgroundImage:"none",height:500},backgroundImageUrl:"",formRef:ie,subTitle:"\u7814\u8FD0\u4E00\u4F53\uFF0C\u6570\u5B57\u5316\u9A71\u52A8\uFF0C\u5353\u8D8A\u6548\u80FD\u63D0\u5347\uFF0C\u7CBE\u7EC6\u5316\u6210\u672C\u7BA1\u7406",submitter:{render:function(e,a){return!d&&a.pop()}},actions:!d&&(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[(0,t.jsx)(Ee.Z,{plain:!0,children:(0,t.jsx)("span",{style:{fontWeight:"normal",fontSize:14},children:"\u5176\u4ED6\u767B\u5F55\u65B9\u5F0F"})}),(0,t.jsx)(b.Z,{align:"center",size:24,children:(0,t.jsx)(p.Z,{title:"\u98DE\u4E66\u767B\u9646",placement:"right",children:(0,t.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:40,width:40,border:"1px solid "+Pe.colorPrimaryBorder,borderRadius:"50%",cursor:"pointer"},onClick:at,children:(0,t.jsx)(E,{type:"c-icon-feishu",style:j()({},W)})})})})]}),onFinish:function(){var i=N()(L()().mark(function e(a){return L()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,ce(a,Xe,Ke);case 2:case"end":return c.stop()}},e)}));return function(e){return i.apply(this,arguments)}}(),children:[(0,t.jsxs)("div",{style:{display:d?"block":"none",textAlign:"center"},children:[(0,t.jsx)("div",{id:"login_container"}),(0,t.jsxs)(b.Z,{children:[(0,t.jsx)(E,{type:"c-icon-feishu",style:j()({},W)}),(0,t.jsx)(R.Z.Text,{type:"secondary",children:"\u98DE\u4E66App\u626B\u4E00\u626B"})]})]}),(0,t.jsxs)("div",{style:{display:d?"none":"block"},children:[(0,t.jsx)(xe.Z,{activeKey:B,onChange:function(e){Qe(e)},centered:!0,items:[{key:"base",label:"\u8D26\u53F7\u5BC6\u7801\u767B\u5F55"},{key:"ldap",label:"LDAP"}]}),(0,t.jsx)(Y.Z,{name:"username",fieldProps:{size:"large",prefix:(0,t.jsx)(Ne.Z,{})},placeholder:J.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"}),rules:[{required:!v,message:(0,t.jsx)(T.FormattedMessage,{id:"pages.login.username.required",defaultMessage:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"})}]}),(0,t.jsx)(Y.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,t.jsx)(fe.Z,{})},placeholder:J.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"\u5BC6\u7801: ant.design"}),rules:[{required:!v,message:(0,t.jsx)(T.FormattedMessage,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]})]}),d?(0,t.jsx)(p.Z,{title:"\u5207\u6362\u81F3\u8D26\u53F7\u767B\u5F55",children:(0,t.jsx)(E,{type:"c-icon-pc-login",className:ze()(x.cornerSwitch,x.pcLogin),onClick:function(){ee(!d)}})}):(0,t.jsx)(p.Z,{title:"\u98DE\u4E66\u626B\u7801\uFF0C\u5FEB\u901F\u767B\u9646",children:(0,t.jsx)(E,{type:"c-icon-saomadenglu01",className:x.cornerSwitch,onClick:function(){ee(!d)}})})]}),(0,t.jsx)(he.Y,{title:"\u4E8C\u6B21\u9A8C\u8BC1",open:v,width:580,formRef:O,onOpenChange:X,submitter:{resetButtonProps:!1,submitButtonProps:!1,render:function(e,a){return console.log(e),[(0,t.jsx)(k.ZP,{onClick:function(){oe()},children:"\u91CD\u7F6E"},"reset"),(0,t.jsx)(k.ZP,{type:"primary",onClick:function(){var c,r;return(c=e.form)===null||c===void 0||(r=c.submit)===null||r===void 0?void 0:r.call(c)},disabled:!D,children:"\u63D0\u4EA4"},"submit")]}},onFinish:nt,onKeyPress:function(e){if(e.key==="Enter"&&D){var a;(a=O.current)===null||a===void 0||a.submit()}},children:(0,t.jsx)(C.Z,{justify:"center",children:(0,t.jsxs)(ve.Z,{children:[(0,t.jsx)(C.Z,{justify:"center",children:(0,t.jsx)(de.eF,{onChange:qe,containerClassName:x.authCodeContainer,ref:re,allowedCharacters:"numeric"})}),(0,t.jsx)(C.Z,{justify:"center",children:(0,t.jsx)(R.Z.Text,{children:"\u8BF7\u6253\u5F00\u60A8\u624B\u673A\u4E0A\u7684Authenticator\u5E94\u7528\uFF0C\u627E\u5230\u751F\u6210\u76846\u4F4D\u9A8C\u8BC1\u7801\u5E76\u8F93\u5165\u4EE5\u7EE7\u7EED\u3002"})})]})})})]})]})},Ye=Fe}}]);
