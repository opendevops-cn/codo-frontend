"use strict";(self.webpackChunkk2=self.webpackChunkk2||[]).push([[9702],{28371:function(n,e,r){r.d(e,{Z:function(){return w}});var t=r(79482);function o(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=Array(e);r<e;r++)t[r]=n[r];return t}function i(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var r=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=r){var t,o,i,a,c=[],l=!0,u=!1;try{if(i=(r=r.call(n)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(t=i.call(r)).done)&&(c.push(t.value),c.length!==e);l=!0);}catch(n){u=!0,o=n}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}}(n,e)||function(n,e){if(n){if("string"==typeof n)return o(n,e);var r={}.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(n,e):void 0}}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var a=r(20431),c=r(49124),l=r(50959),u=r(82187),s=r.n(u),f=r(75875),d=r(70726),m=r(13800),p=r(58761),y=["icon","className","onClick","style","primaryColor","secondaryColor"],v={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var b=function(n){var e=n.icon,r=n.className,t=n.onClick,o=n.style,i=n.primaryColor,a=n.secondaryColor,u=(0,c.Z)(n,y),s=l.useRef(),f=v;if(i&&(f={primaryColor:i,secondaryColor:a||(0,p.pw)(i)}),(0,p.C3)(s),(0,p.Kp)((0,p.r)(e),"icon should be icon definiton, but got ".concat(e)),!(0,p.r)(e))return null;var d=e;return d&&"function"==typeof d.icon&&(d=(0,m.Z)((0,m.Z)({},d),{},{icon:d.icon(f.primaryColor,f.secondaryColor)})),(0,p.R_)(d.icon,"svg-".concat(d.name),(0,m.Z)((0,m.Z)({className:r,onClick:t,style:o,"data-icon":d.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},u),{},{ref:s}))};b.displayName="IconReact",b.getTwoToneColors=function(){return(0,m.Z)({},v)},b.setTwoToneColors=function(n){var e=n.primaryColor,r=n.secondaryColor;v.primaryColor=e,v.secondaryColor=r||(0,p.pw)(e),v.calculated=!!r};var g=b;function h(n){var e=i((0,p.H9)(n),2),r=e[0],t=e[1];return g.setTwoToneColors({primaryColor:r,secondaryColor:t})}var C=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];h(f.iN.primary);var Z=l.forwardRef((function(n,e){var r=n.className,o=n.icon,u=n.spin,f=n.rotate,m=n.tabIndex,y=n.onClick,v=n.twoToneColor,b=(0,c.Z)(n,C),h=l.useContext(d.Z),Z=h.prefixCls,w=void 0===Z?"anticon":Z,j=h.rootClassName,x=s()(j,w,(0,a.Z)((0,a.Z)({},"".concat(w,"-").concat(o.name),!!o.name),"".concat(w,"-spin"),!!u||"loading"===o.name),r),k=m;void 0===k&&y&&(k=-1);var O=f?{msTransform:"rotate(".concat(f,"deg)"),transform:"rotate(".concat(f,"deg)")}:void 0,_=i((0,p.H9)(v),2),T=_[0],N=_[1];return l.createElement("span",(0,t.Z)({role:"img","aria-label":o.name},b,{ref:e,tabIndex:k,onClick:y,className:x}),l.createElement(g,{icon:o,primaryColor:T,secondaryColor:N,style:O}))}));Z.displayName="AntdIcon",Z.getTwoToneColor=function(){var n=g.getTwoToneColors();return n.calculated?[n.primaryColor,n.secondaryColor]:n.primaryColor},Z.setTwoToneColor=h;var w=Z},70726:function(n,e,r){var t=(0,r(50959).createContext)({});e.Z=t},58761:function(n,e,r){r.d(e,{C3:function(){return h},H9:function(){return b},Kp:function(){return d},R_:function(){return y},pw:function(){return v},r:function(){return m},vD:function(){return g}});var t=r(13800),o=r(74468),i=r(75875),a=r(20685),c=r(10282),l=r(3769),u=r(50959),s=r(70726);function f(n){return n.replace(/-(.)/g,(function(n,e){return e.toUpperCase()}))}function d(n,e){(0,l.ZP)(n,"[@ant-design/icons] ".concat(e))}function m(n){return"object"===(0,o.Z)(n)&&"string"==typeof n.name&&"string"==typeof n.theme&&("object"===(0,o.Z)(n.icon)||"function"==typeof n.icon)}function p(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(n).reduce((function(e,r){var t=n[r];if("class"===r)e.className=t,delete e.class;else delete e[r],e[f(r)]=t;return e}),{})}function y(n,e,r){return r?u.createElement(n.tag,(0,t.Z)((0,t.Z)({key:e},p(n.attrs)),r),(n.children||[]).map((function(r,t){return y(r,"".concat(e,"-").concat(n.tag,"-").concat(t))}))):u.createElement(n.tag,(0,t.Z)({key:e},p(n.attrs)),(n.children||[]).map((function(r,t){return y(r,"".concat(e,"-").concat(n.tag,"-").concat(t))})))}function v(n){return(0,i.R_)(n)[0]}function b(n){return n?Array.isArray(n)?n:[n]:[]}var g={width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"},h=function(n){var e=(0,u.useContext)(s.Z),r=e.csp,t=e.prefixCls,o="\n.anticon {\n  display: inline-flex;\n  align-items: center;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n";t&&(o=o.replace(/anticon/g,t)),(0,u.useEffect)((function(){var e=n.current,t=(0,c.A)(e);(0,a.hq)(o,"@ant-design-icons",{prepend:!0,csp:r,attachTo:t})}),[])}},41306:function(n,e,r){r.r(e),r.d(e,{default:function(){return T}});var t=r(90228),o=r.n(t),i=r(87999),a=r.n(i),c=r(48305),l=r.n(c),u=r(16975),s=r(74889),f=r(39048),d=r(10534),m=r(97607),p=r(63176),y=r(47852),v=r(70334),b=r(13702),g=r(82187),h=r.n(g),C=r(50959),Z="container___UbXRa",w="grid___QF9Zf",j="card___csAj7",x="title-0___lSRMG",k="title-1___Gdp4w",O="new___Db1h_",_=r(11527),T=function(){var n=(0,f.Z)((function(n){return(0,u.Z)({url:"/api/k2/v1/project/?searchVal=".concat(n||"",'&filter_map={"status":"archived"}')}).then((function(n){return n.items}))})),e=n.data,r=n.refresh,t=n.run,i=(0,f.Z)((function(){return(0,u.Z)({url:"/api/k2/v1/project/"}).then((function(n){return n.items}))})).data,c=(0,C.useState)(""),g=l()(c,2),T=g[0],N=g[1],P=m.Z.useForm(),S=l()(P,1)[0],E=(0,d.Z)((function(n){t(n)}),{wait:500}),A=E.run;return(0,_.jsxs)("div",{children:[(0,_.jsx)(p.Z,{value:T,onChange:function(n){N(n.target.value),A(n.target.value)},placeholder:"输入名称或代号进行搜索",style:{width:"100%",marginBottom:10}}),(0,_.jsx)("div",{className:Z,children:(0,_.jsxs)("div",{className:w,children:[(0,_.jsxs)("div",{className:h()(j,O),onClick:function(){var n;y.Z.confirm({title:"项目配置归档",width:600,onCancel:function(){S.resetFields()},okText:"确定归档当前项目",onOk:(n=a()(o()().mark((function n(){var e;return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,S.validateFields();case 2:return e=n.sent,n.next=5,(0,u.Z)({url:"/api/k2/v1/project/",method:"PATCH",data:e});case 5:v.ZP.success("归档成功"),S.resetFields(),r();case 8:case"end":return n.stop()}}),n)}))),function(){return n.apply(this,arguments)}),content:(0,_.jsx)(m.Z,{form:S,style:{marginTop:20},children:(0,_.jsx)(m.Z.Item,{name:"id",colon:!1,rules:[{required:!0}],children:(0,_.jsx)(b.Z,{options:(null==i?void 0:i.map((function(n){return{value:n.id,label:"".concat(n.name,"(").concat(n.code,")")}})))||[],placeholder:"请选择所属应用"})})})})},children:[(0,_.jsx)("div",{className:x,children:(0,_.jsx)(s.Z,{})}),(0,_.jsx)("div",{className:k,children:"归档项目"})]}),null==e?void 0:e.map((function(n){return(0,_.jsxs)("div",{className:j,children:[(0,_.jsx)("div",{className:x,children:n.code}),(0,_.jsx)("div",{className:k,children:n.name})]},n.code)}))]})})]})}},10534:function(n,e,r){var t=r(99938),o=r(66292),i=r.n(o),a=r(50959),c=r(53270),l=r(77924),u=r(25492),s=r(80785);e.Z=function(n,e){var r;s.Z&&((0,u.mf)(n)||console.error("useDebounceFn expected parameter is a function, got ".concat(typeof n)));var o=(0,c.Z)(n),f=null!==(r=null==e?void 0:e.wait)&&void 0!==r?r:1e3,d=(0,a.useMemo)((function(){return i()((function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return o.current.apply(o,(0,t.ev)([],(0,t.CR)(n),!1))}),f,e)}),[]);return(0,l.Z)((function(){d.cancel()})),{run:d,cancel:d.cancel,flush:d.flush}}},20431:function(n,e,r){r.d(e,{Z:function(){return i}});var t=r(74468);function o(n){var e=function(n,e){if("object"!=(0,t.Z)(n)||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var o=r.call(n,e||"default");if("object"!=(0,t.Z)(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"==(0,t.Z)(e)?e:e+""}function i(n,e,r){return(e=o(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}},79482:function(n,e,r){function t(){return t=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var t in r)({}).hasOwnProperty.call(r,t)&&(n[t]=r[t])}return n},t.apply(null,arguments)}r.d(e,{Z:function(){return t}})},13800:function(n,e,r){r.d(e,{Z:function(){return i}});var t=r(20431);function o(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.push.apply(r,t)}return r}function i(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){(0,t.Z)(n,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}))}return n}},49124:function(n,e,r){function t(n,e){if(null==n)return{};var r,t,o=function(n,e){if(null==n)return{};var r={};for(var t in n)if({}.hasOwnProperty.call(n,t)){if(e.includes(t))continue;r[t]=n[t]}return r}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(t=0;t<i.length;t++)r=i[t],e.includes(r)||{}.propertyIsEnumerable.call(n,r)&&(o[r]=n[r])}return o}r.d(e,{Z:function(){return t}})},74468:function(n,e,r){function t(n){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},t(n)}r.d(e,{Z:function(){return t}})}}]);