{"version":3,"sources":["webpack://cmdb-[name]/./src/views/cmdb/components/region-asset-preview.vue","webpack://cmdb-[name]/src/views/cmdb/components/region-asset-preview.vue","webpack://cmdb-[name]/./src/views/cmdb/components/region-asset-preview.vue?d576","webpack://cmdb-[name]/./src/views/cmdb/components/region-asset-preview.vue?f267","webpack://cmdb-[name]/./src/api/service-tree.js","webpack://cmdb-[name]/./src/views/cmdb/components/region-asset.vue?bdcf","webpack://cmdb-[name]/./src/api/cloud/vpc.js","webpack://cmdb-[name]/./src/views/cmdb/cloud-region.vue","webpack://cmdb-[name]/src/views/cmdb/cloud-region.vue","webpack://cmdb-[name]/./src/views/cmdb/cloud-region.vue?f56f","webpack://cmdb-[name]/./src/views/cmdb/cloud-region.vue?a8c4","webpack://cmdb-[name]/./src/views/cmdb/cloud-region.vue?53fc","webpack://cmdb-[name]/./src/views/cmdb/components/cloud-region-edit.vue","webpack://cmdb-[name]/src/views/cmdb/components/cloud-region-edit.vue","webpack://cmdb-[name]/./src/views/cmdb/components/cloud-region-edit.vue?bf21","webpack://cmdb-[name]/./src/views/cmdb/components/cloud-region-edit.vue?0109","webpack://cmdb-[name]/./src/views/cmdb/components/region-asset-preview.vue?44a0","webpack://cmdb-[name]/./src/views/cmdb/components/cloud-region-edit.vue?29d0","webpack://cmdb-[name]/./src/views/cmdb/components/region-asset.vue","webpack://cmdb-[name]/src/views/cmdb/components/region-asset.vue","webpack://cmdb-[name]/./src/views/cmdb/components/region-asset.vue?4403","webpack://cmdb-[name]/./src/views/cmdb/components/region-asset.vue?63d5","webpack://cmdb-[name]/./src/views/cmdb/components/region-asset.vue?e027","webpack://cmdb-[name]/./src/api/cloud-region.js"],"names":["render","_vm","this","_c","_self","attrs","modalData","title","on","handleCancel","model","value","show","callback","$$v","$set","expression","staticClass","handleSearch","nativeOn","$event","type","indexOf","_k","keyCode","key","apply","arguments","initPara","searchVal","ref","columns","tableData","handleSelect","staticStyle","i","pageTotal","page_number","page_size","handlerChangePage","handlePageSize","staticRenderFns","components","name","props","Object","default","data","tableLoading","selectList","width","align","minWidth","maxWidth","methods","$emit","assign","region_id","res","previewCloudRegion","code","count","$Notice","error","msg","handleDel","id_list","val","selectIdList","forEach","item","push","id","handleGetData","watch","computed","mounted","component","postTreeAsset","request","url","method","getTreeAsset","params","changeTreeAssetStatus","deleteTreeAsset","getRelation","getServiceTreelist","operationTree","getBizEnv","getTreeModule","getVPC","optVPC","showEdit","theData","handleSaveData","handleClose","_v","slot","handleAdd","length","handleSort","handleRelevance","_e","modalPreview","handleReDel","cloudRegionEdit","regionAsset","regionAssetPreview","action","cloudList","initForm","asset_group_rules","query_name","query_conditions","query_value","index","status","accounts","account_type","jms_account_template_id","auto_update_agent_id","order_by","order","sortable","tooltip","h","style","marginRight","click","handlePreview","row","handleClone","handleEdit","color","getCloudRegion","$Message","$options","paramsRow","saveData","optCloudRegion","then","success","$Modal","confirm","content","onOk","onCancel","info","handleAddAsset","$refs","assetPreview","optCloudRegionPro","column","formValidate","ruleValidate","formData","cloud_region_id","proxy_ip","ssh_user","ssh_ip","ssh_port","_l","items","_uid","_s","vpcOptions","handleAddRules","handleRemoveRules","preventDefault","handleRemoveCard","scopedSlots","_u","fn","proxy","jms_org_id","jms_domain_id","jms_account_template","handleRemove","minRows","maxRows","ssh_key","ssh_pub_key","detail","btnLoading","handleSubmit","vpcList","vendorMap","required","message","trigger","max","filters","testF","location","warning","splice","transformData","cloud_zh_name","region","label","vpc_name","instance_id","keys","map","vendor","children","getCloudSettinglist","$message","getVpcCloudName","accountID","cloud","find","vpc","account_id","getVpcRegion","vpcName","cidr_block_v4","desc","duration","JSON","stringify","validate","valid","accountTypes","Set","duplicateFound","account","has","add","rules","rule","Array","isArray","trim","setTimeout","getCloudSettingList","getVpcList","styles","treeData","handleChange","topoList","height","overflow","paddingBottom","position","changeId2","objAry","newkey","newkey2","asset_type","handleGetAssetData","topoParams"],"mappings":"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","file":"static/js/chunk-502d5a72.9368c9ef.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Drawer',{attrs:{\"title\":_vm.modalData.title,\"width\":\"70%\",\"draggable\":\"\"},on:{\"on-close\":_vm.handleCancel},model:{value:(_vm.modalData.show),callback:function ($$v) {_vm.$set(_vm.modalData, \"show\", $$v)},expression:\"modalData.show\"}},[_c('div',{staticClass:\"search-con search-con-top\"},[_c('Input',{staticClass:\"search-input\",attrs:{\"search\":\"\",\"placeholder\":\"输入关键字全局搜索\"},on:{\"on-search\":_vm.handleSearch},nativeOn:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.handleSearch.apply(null, arguments)}},model:{value:(_vm.initPara.searchVal),callback:function ($$v) {_vm.$set(_vm.initPara, \"searchVal\", $$v)},expression:\"initPara.searchVal\"}})],1),_c('Table',{ref:\"selection\",attrs:{\"size\":\"small\",\"columns\":_vm.columns,\"data\":_vm.tableData},on:{\"on-selection-change\":_vm.handleSelect}}),_c('div',{staticStyle:{\"margin\":\"10px\",\"overflow\":\"hidden\"}},[_c('div',{staticStyle:{\"float\":\"left\"}},[_c('Page',{attrs:{\"total\":_vm.i.pageTotal,\"current\":_vm.initPara.page_number,\"page-size\":_vm.initPara.page_size,\"show-total\":\"\",\"show-sizer\":\"\",\"page-size-opts\":[15, 50, 100]},on:{\"on-change\":_vm.handlerChangePage,\"on-page-size-change\":_vm.handlePageSize}})],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <Drawer v-model=\"modalData.show\" @on-close='handleCancel'  :title=\"modalData.title\" width=\"70%\" draggable  >\n      <div class=\"search-con search-con-top\">\n          <Input class=\"search-input\"  v-model=\"initPara.searchVal\" search @on-search=\"handleSearch\"  @keydown.enter.native=\"handleSearch\" placeholder=\"输入关键字全局搜索\" />\n<!--           <Button type=\"error\" class=\"search-btn\" :disabled=\"selectList.length !== 0 ? false : true\"   @click=\"handleDel\">解除关联</Button>-->\n      </div>\n\n      <Table size=\"small\" ref=\"selection\"  :columns=\"columns\" :data=\"tableData\" @on-selection-change=\"handleSelect\"></Table>\n\n      <!-- 分页 -->\n      <div style=\"margin: 10px; overflow: hidden\">\n        <div style=\"float: left;\">\n          <Page :total=\"i.pageTotal\" :current=\"initPara.page_number\" :page-size=\"initPara.page_size\" show-total show-sizer\n            :page-size-opts=\"[15, 50, 100]\" @on-change=\"handlerChangePage\" @on-page-size-change=\"handlePageSize\" />\n        </div>\n      </div>\n\n    </Drawer>\n</template>\n<script>\nimport { previewCloudRegion } from '@/api/cloud-region'\nexport default {\n  components: {},\n  name: 'regionAssetPreview',\n  props: {\n    modalData: {\n      type: Object,\n      default: {}\n    },\n  },\n  data () {\n    return {\n      initPara:{\n        page_number: 1,\n        page_size: 15,\n        searchVal: null,\n      },\n      i: {\n        pageTotal: 0, //总数\n        tableLoading: false\n      },\n      selectList: [],\n      tableData: [],\n      columns: [\n         {\n            type: \"selection\",\n            key: \"selection\",\n            width: 60,\n            align: \"center\",\n        },\n        {\n          title: \"ID\",\n          key: \"id\",\n          minWidth: 100,\n          align: \"center\",\n        },\n         {\n          title: \"资源名\",\n          key: \"name\",\n          minWidth: 150,\n          align: \"center\",\n        },\n        {\n         title: \"云厂商\",\n          key: \"cloud_name\",\n          minWidth: 150,\n          align: \"center\",\n        },\n          {\n         title: \"地域\",\n          key: \"region\",\n          minWidth: 150,\n          align: \"center\",\n        },\n        {\n          title: \"内网IP\",\n          key: \"inner_ip\",\n          minWidth: 120,\n          maxWidth: 170,\n          align: \"center\",\n        },\n        {\n          title: \"状态\",\n          key: \"state\",\n          minWidth: 110,\n          maxWidth: 140,\n          align: \"center\",\n        },\n      ],\n    }\n  },\n  methods: {\n    handleCancel () {\n      this.$emit('close')\n    },\n    async handleGetData () {\n      this.initPara = Object.assign(this.initPara, { region_id: this.modalData.region_id })\n      const res = await previewCloudRegion( this.initPara);\n      if (res.code == 0) {\n        this.tableData = res.data\n        this.i.pageTotal = res.count\n      } else {\n       this.$Notice.error({ title: `${res.msg}` });\n      }\n    },\n    handleDel () {\n      this.$emit('del', { id_list: this.selectList, region_id: this.modalData.region_id })\n    },\n \n    handleSelect (val) {\n      let selectIdList = []\n      val.forEach(item => {\n        selectIdList.push(item.id)\n      })\n      this.selectList = selectIdList\n    },\n    handleSearch () {\n      this.initPara.page_number = 1\n      this.handleGetData()\n    },\n    // 分页\n    handlerChangePage (value) {\n      this.initPara.page_number = value\n      this.handleGetData()\n    },\n    handlePageSize (value) {\n      this.initPara.page_number = 1\n      this.initPara.page_size = value\n      this.handleGetData()\n    },\n  },\n  watch: {\n  },\n  computed: {\n  },\n  //\n  mounted () {\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.search-con {\n  padding: 10px 0;\n\n  .search {\n    &-col {\n      display: inline-block;\n      width: 80px;\n      margin-left: 2px;\n    }\n    &-input {\n      display: inline-block;\n      width: 450px;\n      margin-left: 2px;\n    }\n\n    &-btn {\n      margin-left: 10px;\n    }\n\n    &-add-btn {\n      margin-right: 10px;\n    }\n  }\n}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./region-asset-preview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./region-asset-preview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./region-asset-preview.vue?vue&type=template&id=16f6d2f2&scoped=true&\"\nimport script from \"./region-asset-preview.vue?vue&type=script&lang=js&\"\nexport * from \"./region-asset-preview.vue?vue&type=script&lang=js&\"\nimport style0 from \"./region-asset-preview.vue?vue&type=style&index=0&id=16f6d2f2&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"16f6d2f2\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/plugins/axios'\n\n//  服务树\nexport const postTreeAsset = (/** @type {any} */ data) => request({\n  url: '/api/v2/cmdb/tree/asset/',\n  method: 'post',\n  data,\n})\n// 获取树资产\nexport const getTreeAsset = (/** @type {any} */ params) => request({\n  url: '/api/v2/cmdb/tree/asset/',\n  method: 'get',\n  params,\n})\n\n// 更改资产状态\nexport const changeTreeAssetStatus = (/** @type {any} */ data) => request({\n  url: '/api/v2/cmdb/tree/asset/',\n  method: 'patch',\n  data,\n})\n\nexport const deleteTreeAsset = (/** @type {any} */ data) => request({\n  url: '/api/v2/cmdb/tree/asset/',\n  method: 'delete',\n  data,\n})\n\n// 主机关系\nexport const getRelation = (/** @type {any} */ params) => request({\n  url: '/api/v2/cmdb/tree/asset/relation/',\n  method: 'get',\n  params,\n})\n\n// 业务Tree\nexport const getServiceTreelist = (/** @type {any} */ params) => request({\n  url: '/api/v2/cmdb/tree/',\n  method: 'get',\n  params,\n})\n\nexport const operationTree = (/** @type {any} */ data, /** @type {any} */ method) => request({\n  url: '/api/v2/cmdb/tree/',\n  method,\n  data,\n})\n\n\nexport const getBizEnv = (/** @type {any} */ params) => request({\n  url: '/api/v2/cmdb/tree/env/',\n  method: 'get',\n  params,\n})\n\nexport const getTreeModule = (/** @type {any} */ params) => request({\n  url: '/api/v2/cmdb/tree/module/',\n  method: 'get',\n  params,\n})","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./region-asset.vue?vue&type=style&index=1&id=7ced1199&prod&lang=less&scoped=true&\"","/* eslint-disable camelcase */\nimport request from '@/plugins/axios'\n\nexport const getVPC = (params) => request({\n  url: '/api/v2/cmdb/vpc/',\n  method: 'get',\n  params,\n})\n\nexport const optVPC = (data, method) => request({\n  url: '/api/v2/cmdb/vpc/',\n  method,\n  data,\n})\n\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(!_vm.showEdit)?_c('Card',{attrs:{\"dis-hover\":\"\",\"bordered\":false}},[_c('Alert',{attrs:{\"type\":\"success\",\"show-icon\":\"\"}},[_vm._v(\" 使用说明： \"),_c('Icon',{attrs:{\"slot\":\"icon\",\"type\":\"ios-bulb-outline\"},slot:\"icon\"}),_c('template',{slot:\"desc\"},[_c('p',[_vm._v(\"云区域是主机内网的逻辑区域划分，跨云区域之间的主机不可以通过内网直接互相访问，默认主机属于直连区域。\")]),_c('p',[_vm._v(\"云区域关联到主机使用vpc自动添加，同一组云区域vpc不能超十五个，添加后自动修改agent_id 为 内网IP:proxy_id。\")]),_c('p',[_vm._v(\"云区域同步关联的主机到堡垒机，需要指定堡垒机组织【Default组织ID】、网域、账号模板信息，普通、特权账号分别对应开发、运维账号。\")]),_c('p',[_vm._v(\"创建云区域后，需要在云区域节点上部署 agent proxy，并同步云区域信息到节点管理，用于agent自动部署。\")]),_c('p',[_vm._v(\"实例只能存在于一个云区域内\")])])],2),_c('div',[_c('div',{staticClass:\"search-con search-con-top\"},[_c('Input',{staticClass:\"search-input\",attrs:{\"search\":\"\",\"maxlength\":50,\"placeholder\":\"输入关键字全局搜索\"},on:{\"on-search\":_vm.handleSearch},model:{value:(_vm.initPara.searchVal),callback:function ($$v) {_vm.$set(_vm.initPara, \"searchVal\", $$v)},expression:\"initPara.searchVal\"}}),_c('ButtonGroup',{staticClass:\"search-btn\"},[_c('Button',{on:{\"click\":_vm.handleAdd}},[_vm._v(\"添加云区域\")]),_c('Button',{attrs:{\"disabled\":_vm.selectList.length !== 0 ? false : true},on:{\"click\":function($event){}}},[_vm._v(\"同步至节点管理\")])],1)],1),_c('Table',{attrs:{\"size\":\"small\",\"columns\":_vm.columns,\"data\":_vm.tableData,\"loading\":_vm.i.tableLoading},on:{\"on-sort-change\":_vm.handleSort,\"on-selection-change\":_vm.handleSelect}}),_c('div',{staticStyle:{\"margin\":\"10px\",\"overflow\":\"hidden\"}},[_c('div',{staticStyle:{\"float\":\"left\"}},[_c('Page',{attrs:{\"total\":_vm.i.pageTotal,\"current\":_vm.initPara.page_number,\"page-size\":_vm.initPara.page_size,\"show-total\":\"\",\"show-sizer\":\"\",\"page-size-opts\":[15, 50, 100]},on:{\"on-change\":_vm.handlerChangePage,\"on-page-size-change\":_vm.handlePageSize}})],1)])],1)],1):_c('cloud-region-edit',{attrs:{\"formData\":_vm.theData},on:{\"save-data\":_vm.handleSaveData,\"edit-close\":_vm.handleClose}}),(_vm.modalData.name)?[_c('region-asset',{attrs:{\"modalData\":_vm.modalData},on:{\"close\":_vm.handleClose,\"relevance\":_vm.handleRelevance}})]:_vm._e(),_c('region-asset-preview',{ref:\"assetPreview\",attrs:{\"modalData\":_vm.modalPreview},on:{\"close\":_vm.handleClose,\"relevance\":_vm.handleRelevance,\"del\":_vm.handleReDel}})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n   <div>\n    <Card v-if=\"!showEdit\" dis-hover :bordered=\"false\">\n      <Alert type=\"success\" show-icon>\n          使用说明：\n          <Icon type=\"ios-bulb-outline\" slot=\"icon\"></Icon>\n          <template slot=\"desc\">\n            <p>云区域是主机内网的逻辑区域划分，跨云区域之间的主机不可以通过内网直接互相访问，默认主机属于直连区域。</p>\n            <p>云区域关联到主机使用vpc自动添加，同一组云区域vpc不能超十五个，添加后自动修改agent_id 为 内网IP:proxy_id。</p>\n            <p>云区域同步关联的主机到堡垒机，需要指定堡垒机组织【Default组织ID】、网域、账号模板信息，普通、特权账号分别对应开发、运维账号。</p>\n            <p>创建云区域后，需要在云区域节点上部署 agent proxy，并同步云区域信息到节点管理，用于agent自动部署。</p>\n            <p>实例只能存在于一个云区域内</p>\n          </template>\n        </Alert>\n      <div>\n        <div class=\"search-con search-con-top\">\n          <Input class=\"search-input\"  v-model=\"initPara.searchVal\" search :maxlength=\"50\" @on-search=\"handleSearch\"  placeholder=\"输入关键字全局搜索\" />\n           <ButtonGroup class=\"search-btn\">\n            <Button  @click=\"handleAdd\">添加云区域</Button>\n            <!-- <Button type=\"\" @click=\"handleAdd\">部署Agent代理</Button> -->\n            <Button @click=\"\" :disabled=\"selectList.length !== 0 ? false : true\" >同步至节点管理</Button>\n          </ButtonGroup>\n        </div>\n\n        <Table size=\"small\"  :columns=\"columns\" :data=\"tableData\" :loading=\"i.tableLoading\"  \n          @on-sort-change=\"handleSort\"  @on-selection-change=\"handleSelect\"></Table>\n\n        <!-- 分页 -->\n        <div style=\"margin: 10px; overflow: hidden\">\n          <div style=\"float: left;\">\n            <Page :total=\"i.pageTotal\" :current=\"initPara.page_number\" :page-size=\"initPara.page_size\" show-total show-sizer\n              :page-size-opts=\"[15, 50, 100]\" @on-change=\"handlerChangePage\" @on-page-size-change=\"handlePageSize\" />\n          </div>\n        </div>\n      </div>\n      \n    </Card>\n    <cloud-region-edit v-else :formData=\"theData\"  @save-data=\"handleSaveData\"  @edit-close=\"handleClose\" />\n    <template v-if=\"modalData.name\">\n      <region-asset :modalData=\"modalData\" @close=\"handleClose\" @relevance=\"handleRelevance\" />\n    </template>\n    <region-asset-preview  :modalData=\"modalPreview\"  ref=\"assetPreview\" @close=\"handleClose\" @relevance=\"handleRelevance\" @del=\"handleReDel\" />\n  </div>\n</template>\n\n<script>\nimport { optCloudRegion, getCloudRegion, optCloudRegionPro } from \"@/api/cloud-region.js\";\nimport cloudRegionEdit from './components/cloud-region-edit.vue'\nimport regionAsset from './components/region-asset.vue'\nimport regionAssetPreview from './components/region-asset-preview.vue'\nimport { getCloudSettinglist } from '@/api/cmdb';\n\nexport default {\n  components: {\n    cloudRegionEdit,\n    regionAsset,\n    regionAssetPreview\n  },\n  data() {\n    return {\n      modalPreview: {\n        show: false,\n        title: '预览云区域主机',\n        name: ''\n      },\n      modalData: {\n        show: false,\n        title: '添加主机到当前云区域',\n        id: null,\n        name:'',\n        action: 'put'\n      },\n      action: 'post',\n      showEdit: false,\n      selectList: [],\n      cloudList: [],\n      theData: {},\n      initForm: {\n        asset_group_rules: [\n          [{\n            query_name: \"vpc\",\n            query_conditions: \"=\", //条件 like = !=\n            query_value: [], //值\n            index: 1,\n            status: 1\n          }]],\n        accounts: [\n          {account_type: \"dev\",\n            jms_account_template_id: \"\",\n            index: 1,\n            status: 1\n          }],\n        auto_update_agent_id: \"no\",\n      },\n      initPara:{\n        page_number: 1,\n        page_size: 50,\n        searchVal: null,\n        order_by: \"name\",      //排序字段\n        order: \"ascend\", //排序 ascend descend\n      },\n      i:{\n        pageTotal: 0, //总数\n        tableLoading: true\n      },\n      tableData: [],\n      columns: [\n        {\n          type: \"selection\",\n          key: \"selection\",\n          width: 60,\n          align: \"center\",\n        },\n        {\n          title: \"云区域ID\",\n          key: \"cloud_region_id\",\n          minWidth: 110,\n          maxWidth: 140,\n          sortable: true,\n        },\n        {\n          title: \"云区域名称\",\n          key: \"name\",\n          minWidth: 170,\n          maxWidth: 300,\n          sortable: true,\n          // render: (h, params) => {\n          //   return h(\n          //     \"a\",\n          //     {\n          //       on: {\n          //         click: () => {\n          //           this.$Message.success('这是设计agent节点管理的地方')\n          //         },\n          //       },\n          //     },\n          //     params.row.name\n          //   );\n          // },\n        },\n        {\n          title: \"代理IP\",\n          key: \"proxy_ip\",\n          minWidth: 130,\n          maxWidth: 180,\n          align: \"center\",\n          sortable: true,\n        },\n          {\n          title: \"SSH IP\",\n          key: \"ssh_ip\",\n          minWidth: 130,\n          maxWidth: 180,\n          align: \"center\",\n          sortable: true,\n        },\n        {\n          title: \"状态\",\n          key: \"state\",\n          minWidth: 110,\n          maxWidth: 140,\n          align: \"center\",\n          sortable: true,\n        },\n        {\n          title: \"备注\",\n          key: \"detail\",\n          minWidth: 200,\n          tooltip: true\n        },\n        {\n          title: '更新时间',\n          key: \"update_time\",\n          minWidth: 170,\n          maxWidth: 210,\n          sortable: true,\n        },\n        {\n          title: \"操作\",\n          key: \"handle\",\n          minWidth: 230,\n          render: (h, params) => {\n            return h(\"div\", [\n              h(\n                \"a\",\n                {\n                  style: {\n                    marginRight: \"10px\",\n                  },\n                  on: {\n                    click: () => {\n                      this.handlePreview(params.row)\n                    },\n                  },\n                },\n                \"预览\"\n              ),\n              // h(\n              //   \"a\",\n              //   {\n              //     style: {\n              //       marginRight: \"10px\",\n              //     },\n              //     on: {\n              //       click: () => {\n              //         this.handleAddAsset(params.row)\n              //       },\n              //     },\n              //   },\n              //   \"添加主机\"\n              // ),\n              h(\n                \"a\",\n                {\n                  style: {\n                    marginRight: \"10px\",\n                  },\n                  on: {\n                    click: () => {\n                      this.handleClone(params.row)\n                    },\n                  },\n                },\n                \"克隆\"\n              ),\n              h(\n                \"a\",\n                {\n                  style: {\n                    marginRight: \"10px\",\n                  },\n                  on: {\n                    click: () => {\n                      this.handleEdit(params.row)\n                    },\n                  },\n                },\n                \"编辑\"\n              ),\n              h(\n                \"a\",\n                {\n                  style: {\n                    color: 'red',\n                    marginRight: \"10px\",\n                  },\n                  on: {\n                    click: () => {\n                      this.handleDel(params.row)\n                    },\n                  },\n                },\n                \"删除\"\n              ),\n            ]);\n          },\n        },\n      ],\n      //\n    };\n  },\n  methods: {\n    // 获取\n    async handleGetData() {\n      const res = await getCloudRegion(this.initPara);\n      if (res.code == 0) {\n        this.tableData = res.data;\n        this.i.pageTotal = res.count\n      } else {\n        this.$Message.error(res.msg)\n      }\n      this.i.tableLoading = false\n    },\n    handleClose () {\n      this.showEdit = false\n      this.modalData.show = false\n      this.modalPreview.show = false\n      this.handleGetData()\n      this.selectList = []\n    },\n    handleAdd () {\n      this.action = 'post'\n      this.showEdit = true\n      this.theData = Object.assign(this.$options.data().theData, this.initForm)\n    },\n    handleEdit (paramsRow) {\n      this.action = 'put'\n      this.showEdit = true\n      // 兼容一下历史数据\n      if (!paramsRow.asset_group_rules) {\n        paramsRow.asset_group_rules = this.initForm.asset_group_rules\n      }\n      if (!paramsRow.accounts) {\n        paramsRow.accounts = this.initForm.accounts\n      }\n      this.theData = paramsRow\n    },\n    handleClone (paramsRow) {\n      this.action = 'post'\n      this.showEdit = true\n      delete paramsRow.id\n      paramsRow.name = `${paramsRow.name}-副本`\n      // 兼容一下历史数据\n      if (!paramsRow.asset_group_rules) {\n        paramsRow.asset_group_rules = this.initForm.asset_group_rules\n      }\n      this.theData = paramsRow\n    },\n    // 保存\n    handleSaveData (saveData) {\n      optCloudRegion(saveData, this.action).then(res => {\n        if (res.code == 0) {\n          this.$Notice.success({ title: `${res.msg}` });\n          this.handleClose()\n        } else {\n          this.$Notice.error({ title: `${res.msg}` });\n        }\n      })\n    },\n    // 删除\n    handleDel(paramsRow) {\n      this.$Modal.confirm({\n        title: \"提醒\",\n        content: `<p>确认要删除云区域 《${paramsRow.name}》 之后无法找回, 请谨慎操作!</p>`,\n        onOk: () => {\n          optCloudRegion({ id_list: [paramsRow.id] }, \"delete\").then((res) => {\n            if (res.code === 0) {\n              this.$Notice.success({ title: `${res.msg}` });\n              this.handleGetData();\n            } else {\n              this.$Notice.error({ title: `${res.msg}` });\n            }\n          });\n        },\n        onCancel: () => {\n          this.$Message.info(\"回头是岸~\");\n        },\n      });\n    },\n    handleAddAsset (paramsRow) {\n      this.modalData.show = true\n      this.modalData.name = paramsRow.name\n      this.modalData.id = paramsRow.id\n    },\n    // 预览动态分组主机\n    async handlePreview(paramsRow) {\n      this.modalPreview.show = true\n      this.modalPreview.region_id = paramsRow.id\n\n      this.$refs.assetPreview.handleGetData()\n    },\n    // 关联\n    async handleRelevance(data) {\n      let res = await optCloudRegion(data, 'patch')\n      if (res.code === 0) {\n        this.$Notice.success({ title: `${res.msg}` });\n        this.handleClose()\n      } else {\n        this.$Notice.error({ title: `${res.msg}` });\n      }\n    },\n    handleReDel (data) {\n      this.$Modal.confirm({\n      title: \"提醒\",\n      content: `<p>确认要解除关联？, 请谨慎操作!</p>`,\n      onOk: () => {\n        optCloudRegionPro(data, \"delete\").then((res) => {\n          if (res.code === 0) {\n            this.$Notice.success({ title: `${res.msg}` });\n            this.$refs.assetPreview.handleGetData()\n          } else {\n            this.$Notice.error({ title: `${res.msg}` });\n          }\n        });\n      },\n      onCancel: () => {\n        this.$Message.info(\"回头是岸~\");\n      },\n    });\n    },\n    handleSelect (val) {\n      let selectIdList = []\n      val.forEach(item => {\n        selectIdList.push(item.id)\n      })\n      this.selectList = selectIdList\n    },\n    handleSearch(){\n      this.initPara.page_number = 1\n      this.handleGetData()\n    },\n    handleSort (column, key, order) {\n      this.initPara.order = column.order === \"asc\" ? 'ascend' : 'descend'\n      this.initPara.order_by = column.key\n      this.handleGetData()\n    },\n    // 分页\n    handlerChangePage (value) {\n      this.initPara.page_number = value\n      this.handleGetData()\n    },\n    handlePageSize (value) {\n      this.initPara.page_number = 1\n      this.initPara.page_size = value\n      this.handleGetData()\n    },\n  },\n  watch: {\n\n  },\n  mounted() {\n    this.handleGetData();\n  },\n};\n</script>\n<style lang=\"less\" scoped>\n.search-con {\n  padding: 10px 0;\n\n  .search {\n    &-col {\n      display: inline-block;\n      width: 200px;\n    }\n\n    &-col-1 {\n      display: inline-block;\n      margin-left: 5px;\n    }\n\n    &-input {\n      display: inline-block;\n      width: 300px;\n      margin-left: 2px;\n    }\n\n    &-btn {\n      margin-left: 10px;\n    }\n\n    &-add-btn {\n      margin-right: 10px;\n    }\n  }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cloud-region.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cloud-region.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./cloud-region.vue?vue&type=template&id=49b1a818&scoped=true&\"\nimport script from \"./cloud-region.vue?vue&type=script&lang=js&\"\nexport * from \"./cloud-region.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cloud-region.vue?vue&type=style&index=0&id=49b1a818&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"49b1a818\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cloud-region.vue?vue&type=style&index=0&id=49b1a818&prod&lang=less&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Card',{attrs:{\"bordered\":false,\"dis-hover\":\"\"}},[_c('Form',{ref:\"formValidate\",attrs:{\"model\":_vm.formValidate,\"rules\":_vm.ruleValidate,\"label-colon\":true,\"label-position\":\"right\",\"label-width\":200}},[_c('Row',[_c('Col',{attrs:{\"span\":\"12\",\"offset\":\"4\"}},[_c('Divider',[_vm._v(\"基础配置\")]),(_vm.formData.id)?_c('FormItem',{attrs:{\"label\":\"云区域名称\",\"prop\":\"name\"}},[_c('Input',{attrs:{\"maxlength\":\"50\",\"type\":\"text\",\"disabled\":\"\",\"placeholder\":\"请输入规则名称...\"},model:{value:(_vm.formValidate.name),callback:function ($$v) {_vm.$set(_vm.formValidate, \"name\", $$v)},expression:\"formValidate.name\"}})],1):_c('FormItem',{attrs:{\"label\":\"云区域名称\",\"prop\":\"name\"}},[_c('Input',{attrs:{\"maxlength\":\"50\",\"type\":\"text\",\"placeholder\":\"请输入规则名称...\"},model:{value:(_vm.formValidate.name),callback:function ($$v) {_vm.$set(_vm.formValidate, \"name\", $$v)},expression:\"formValidate.name\"}})],1),_c('FormItem',{attrs:{\"label\":\"云区域ID\",\"prop\":\"cloud_region_id\"}},[_c('Input',{attrs:{\"maxlength\":\"10\",\"type\":\"text\",\"placeholder\":\"云区域ID、代理ID...\"},model:{value:(_vm.formValidate.cloud_region_id),callback:function ($$v) {_vm.$set(_vm.formValidate, \"cloud_region_id\", $$v)},expression:\"formValidate.cloud_region_id\"}})],1),_c('FormItem',{attrs:{\"label\":\"代理地址\",\"prop\":\"proxy_ip\"}},[_c('Input',{attrs:{\"maxlength\":\"100\",\"type\":\"text\",\"placeholder\":\"连接代理节点IP地址或域名地址，一般为内网LB或者内网域名\"},model:{value:(_vm.formValidate.proxy_ip),callback:function ($$v) {_vm.$set(_vm.formValidate, \"proxy_ip\", $$v)},expression:\"formValidate.proxy_ip\"}})],1),_c('FormItem',{attrs:{\"label\":\"SSH\",\"prop\":\"ssh_user\"}},[_c('Row',{attrs:{\"gutter\":6}},[_c('Col',{attrs:{\"span\":\"8\"}},[_c('Input',{attrs:{\"maxlength\":\"25\",\"type\":\"text\",\"placeholder\":\"用户名...\"},model:{value:(_vm.formValidate.ssh_user),callback:function ($$v) {_vm.$set(_vm.formValidate, \"ssh_user\", $$v)},expression:\"formValidate.ssh_user\"}},[_c('span',{attrs:{\"slot\":\"prepend\"},slot:\"prepend\"},[_vm._v(\"ssh\")])])],1),_c('Col',{attrs:{\"span\":\"8\"}},[_c('Input',{attrs:{\"maxlength\":\"100\",\"type\":\"text\",\"placeholder\":\"主机/ip...\"},model:{value:(_vm.formValidate.ssh_ip),callback:function ($$v) {_vm.$set(_vm.formValidate, \"ssh_ip\", $$v)},expression:\"formValidate.ssh_ip\"}},[_c('span',{attrs:{\"slot\":\"prepend\"},slot:\"prepend\"},[_vm._v(\"@\")])])],1),_c('Col',{attrs:{\"span\":\"8\"}},[_c('Input',{attrs:{\"maxlength\":\"10\",\"type\":\"text\",\"placeholder\":\"端口...\"},model:{value:(_vm.formValidate.ssh_port),callback:function ($$v) {_vm.$set(_vm.formValidate, \"ssh_port\", $$v)},expression:\"formValidate.ssh_port\"}},[_c('span',{attrs:{\"slot\":\"prepend\"},slot:\"prepend\"},[_vm._v(\"-p\")])])],1)],1)],1),_vm._l((_vm.formValidate.asset_group_rules),function(items,i){return [(_vm.formValidate.asset_group_rules && _vm.formValidate.asset_group_rules.length !== 0)?_c('FormItem',{attrs:{\"label\":\"关联主机\"}},[(i === 0)?_c('Alert',{staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"8px\"},attrs:{\"show-icon\":\"\"}},[_vm._v(\" 通过关联vpc把一组vpc下的主机资产划分到云区域，vpc之间的的条件关系为或。 \")]):_vm._e(),_c('Row',{attrs:{\"gutter\":20}},[_c('Col',[(items.length > 0)?_c('Card',{staticStyle:{\"margin-bottom\":\"0px\"},attrs:{\"dis-hover\":\"\"}},_vm._l((items),function(item,index){return (item.status)?_c('FormItem',{key:index + _vm._uid},[_c('div',{staticClass:\"alert-con\",staticStyle:{\"margin-bottom\":\"10px\"}},[_c('span',{staticStyle:{\"margin-right\":\"5px\",\"min-width\":\"30px\",\"display\":\"inline-block\"}},[_vm._v(\" \"+_vm._s(index + 1)+\" - \")]),_c('Cascader',{staticStyle:{\"width\":\"700px\",\"margin-left\":\"10px\"},attrs:{\"data\":_vm.vpcOptions},model:{value:(item.query_value),callback:function ($$v) {_vm.$set(item, \"query_value\", $$v)},expression:\"item.query_value\"}}),_c('Button',{staticClass:\"rule-btn-add\",attrs:{\"shape\":\"circle\",\"type\":\"text\",\"icon\":\"md-add\"},on:{\"click\":function($event){return _vm.handleAddRules(i)}}}),(items.length !== 1)?_c('Button',{staticClass:\"rule-btn-del\",attrs:{\"shape\":\"circle\",\"type\":\"text\",\"icon\":\"md-close\"},on:{\"click\":function($event){return _vm.handleRemoveRules(i, index)}}}):_vm._e()],1)]):_vm._e()}),1):_vm._e(),(_vm.formValidate.asset_group_rules.length > 1 && i != 2)?_c('p',{staticStyle:{\"padding-top\":\"15px\"}},[_vm._v(\"或\")]):_vm._e()],1),_c('Col',{attrs:{\"span\":\"2\"}},[(_vm.formValidate.asset_group_rules.length !== 1)?_c('a',{on:{\"click\":function($event){$event.preventDefault();return _vm.handleRemoveCard(i)}}},[_vm._v(\" 删除\")]):_vm._e()])],1)],1):_vm._e()]}),_c('FormItem',{staticStyle:{\"width\":\"100%\"},attrs:{\"prop\":\"auto_update_agent_id\"},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_vm._v(\" 自动修改AgentID \"),_c('Tooltip',{attrs:{\"placement\":\"top-start\",\"max-width\":\"400\"},scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('p',[_vm._v(\"如果选择是：会自动把当前云区域ID通过VPC和主机关联，设置主机AgentID为主机IP:云区域ID\")])]},proxy:true}])},[_c('Icon',{attrs:{\"type\":\"ios-help-circle-outline\"}}),_vm._v(\" : \")],1)]},proxy:true}])},[_c('RadioGroup',{model:{value:(_vm.formValidate.auto_update_agent_id),callback:function ($$v) {_vm.$set(_vm.formValidate, \"auto_update_agent_id\", $$v)},expression:\"formValidate.auto_update_agent_id\"}},[_c('Radio',{attrs:{\"label\":\"yes\"}},[_vm._v(\"是\")]),_c('Radio',{attrs:{\"label\":\"no\"}},[_vm._v(\"否\")])],1)],1),_c('Divider',{attrs:{\"dashed\":\"\"}},[_vm._v(\"堡垒机配置\")]),_c('FormItem',{attrs:{\"prop\":\"jms_org_id\"},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_vm._v(\" 组织ID \"),_c('Tooltip',{attrs:{\"placement\":\"top-start\",\"max-width\":\"400\"},scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('p',[_vm._v(\"关联堡垒机组织，社区版不支持组织管理，只有默认Default组织，企业版支持多组织管理\")]),_c('p',[_vm._v(\"堡垒机查看组织ID方法：堡垒机资产管理-->网域列表-->点击网域查看ID\")])]},proxy:true}])},[_c('Icon',{attrs:{\"type\":\"ios-help-circle-outline\"}}),_vm._v(\" : \")],1)]},proxy:true}])},[_c('Input',{attrs:{\"maxlength\":\"100\",\"type\":\"text\",\"placeholder\":\"堡垒机组织ID...\"},model:{value:(_vm.formValidate.jms_org_id),callback:function ($$v) {_vm.$set(_vm.formValidate, \"jms_org_id\", $$v)},expression:\"formValidate.jms_org_id\"}})],1),_c('FormItem',{attrs:{\"prop\":\"jms_domain_id\"},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_vm._v(\" 网域ID \"),_c('Tooltip',{attrs:{\"placement\":\"top-start\",\"max-width\":\"400\"},scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('p',[_vm._v(\"关联堡垒机网域，指定云区域下的主机属于哪个网域，理论上一个区域的主机归属于同一个网域\")]),_c('p',[_vm._v(\"堡垒机查看网域ID方法：堡垒机资产管理-->网域列表-->点击网域查看ID\")])]},proxy:true}])},[_c('Icon',{attrs:{\"type\":\"ios-help-circle-outline\"}}),_vm._v(\" : \")],1)]},proxy:true}])},[_c('Input',{attrs:{\"maxlength\":\"100\",\"type\":\"text\",\"placeholder\":\"堡垒机网域ID...\"},model:{value:(_vm.formValidate.jms_domain_id),callback:function ($$v) {_vm.$set(_vm.formValidate, \"jms_domain_id\", $$v)},expression:\"formValidate.jms_domain_id\"}})],1),_c('FormItem',{attrs:{\"label\":\"\",\"prop\":\"jms_account_template\"},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_vm._v(\" 特权账号模版ID \"),_c('Tooltip',{attrs:{\"placement\":\"top-start\",\"max-width\":\"400\"},scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('p',[_vm._v(\"关联堡垒机特权账户模板，创建主机时需指定特权账号，用户推送创建非特权账号到服务器\")]),_c('p',[_vm._v(\"堡垒机特权账号模版ID方法：堡垒机账号管理-->账号模板-->点击特权账号查看ID\")])]},proxy:true}])},[_c('Icon',{attrs:{\"type\":\"ios-help-circle-outline\"}}),_vm._v(\" : \")],1)]},proxy:true}])},[_c('Input',{attrs:{\"maxlength\":\"100\",\"type\":\"text\",\"placeholder\":\"堡垒机特权账户模板ID...\"},model:{value:(_vm.formValidate.jms_account_template),callback:function ($$v) {_vm.$set(_vm.formValidate, \"jms_account_template\", $$v)},expression:\"formValidate.jms_account_template\"}})],1)],2),_c('Col',{attrs:{\"span\":\"12\",\"offset\":\"4\"}},[_vm._l((_vm.formValidate.accounts),function(item,index){return [(item.status)?_c('FormItem',{key:index,attrs:{\"label\":'账户模板ID ' + (index + 1),\"prop\":'accounts.' + index + '.value'},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_vm._v(\" 账户模板ID \"),_c('Tooltip',{attrs:{\"placement\":\"top-start\",\"max-width\":\"400\"},scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('p',[_vm._v(\"关联堡垒机特权账户模板，需指定普通账号模板ID和特权账户模板ID，分别用于创建普通用户和特权账户, 如模板不存在则需在堡垒机创建并录入\")]),_c('p',[_vm._v(\"查看堡垒机账号模版ID方法：堡垒机账号管理-->账号模板-->点击特权查看ID\")])]},proxy:true}],null,true)},[_c('Icon',{attrs:{\"type\":\"ios-help-circle-outline\"}}),_vm._v(\" : \")],1)]},proxy:true}],null,true)},[_c('Row',[_c('Select',{staticStyle:{\"margin-right\":\"1px\",\"margin-left\":\"1px\",\"max-width\":\"100px\"},attrs:{\"placeholder\":\"选择账户类型\"},model:{value:(item.account_type),callback:function ($$v) {_vm.$set(item, \"account_type\", $$v)},expression:\"item.account_type\"}},[_c('Option',{attrs:{\"value\":\"dev\"}},[_vm._v(\"普通账户\")]),_c('Option',{attrs:{\"value\":\"ops\"}},[_vm._v(\"特权账户\")])],1),_c('Input',{staticStyle:{\"max-width\":\"500px\"},attrs:{\"placeholder\":\"请输入待创建账号模板ID\"},model:{value:(item.jms_account_template_id),callback:function ($$v) {_vm.$set(item, \"jms_account_template_id\", $$v)},expression:\"item.jms_account_template_id\"}}),_c('Icon',{staticStyle:{\"margin-top\":\"8px\",\"margin-left\":\"4px\"},attrs:{\"type\":\"ios-backspace\"},on:{\"click\":function($event){return _vm.handleRemove(index)}}})],1)],1):_vm._e()]}),_c('FormItem',[_c('Row',[_c('Col',{attrs:{\"span\":\"12\"}},[_c('Tooltip',{attrs:{\"trigger\":\"hover\",\"placement\":\"top-start\",\"content\":\"只允许添加两个不同类型的账户\"}},[_c('Button',{attrs:{\"type\":\"dashed\",\"long\":\"\",\"icon\":\"md-add\"},on:{\"click\":function($event){return _vm.handleAdd(_vm.account_type)}}},[_vm._v(\"添加账户\")])],1)],1)],1)],1)],2),_c('Col',{attrs:{\"span\":\"12\",\"offset\":\"4\"}},[_c('FormItem',{attrs:{\"label\":\"网域密钥\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"maxlength\":\"65500\",\"autosize\":{minRows: 6,maxRows: 15},\"placeholder\":\"当前云区域网域私钥...\"},model:{value:(_vm.formValidate.ssh_key),callback:function ($$v) {_vm.$set(_vm.formValidate, \"ssh_key\", $$v)},expression:\"formValidate.ssh_key\"}})],1)],1),_c('Col',{attrs:{\"span\":\"12\",\"offset\":\"4\"}},[_c('FormItem',{attrs:{\"label\":\"网域公钥\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"maxlength\":\"65500\",\"autosize\":{minRows: 3,maxRows: 15},\"placeholder\":\"当前云区域网域公钥...\"},model:{value:(_vm.formValidate.ssh_pub_key),callback:function ($$v) {_vm.$set(_vm.formValidate, \"ssh_pub_key\", $$v)},expression:\"formValidate.ssh_pub_key\"}})],1)],1),_c('Col',{attrs:{\"span\":\"12\",\"offset\":\"4\"}},[_c('FormItem',{attrs:{\"label\":\"备注信息\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"maxlength\":\"65500\",\"autosize\":{minRows: 2,maxRows: 5},\"placeholder\":\"备注信息...\"},model:{value:(_vm.formValidate.detail),callback:function ($$v) {_vm.$set(_vm.formValidate, \"detail\", $$v)},expression:\"formValidate.detail\"}})],1)],1),_c('Col',{attrs:{\"span\":\"12\",\"offset\":\"4\"}},[_c('FormItem',[_c('Button',{attrs:{\"type\":\"primary\",\"loading\":_vm.btnLoading},on:{\"click\":function($event){return _vm.handleSubmit('formValidate')}}},[_vm._v(\"确定\")]),_c('Button',{staticStyle:{\"margin-left\":\"15px\"},on:{\"click\":_vm.handleCancel}},[_vm._v(\"返回\")])],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <Card :bordered=\"false\" dis-hover>\n    <Form ref=\"formValidate\" :model=\"formValidate\" :rules=\"ruleValidate\" :label-colon='true' label-position=\"right\"\n          :label-width=\"200\">\n      <Row>\n        <Col span=\"12\" offset=\"4\">\n          <Divider>基础配置</Divider>\n          <FormItem label=\"云区域名称\" prop=\"name\" v-if=\"formData.id\">\n            <Input v-model=\"formValidate.name\" maxlength=\"50\" type=\"text\" disabled\n                   placeholder=\"请输入规则名称...\"></Input>\n          </FormItem>\n          <FormItem label=\"云区域名称\" prop=\"name\" v-else>\n            <Input v-model=\"formValidate.name\" maxlength=\"50\" type=\"text\" placeholder=\"请输入规则名称...\"></Input>\n          </FormItem>\n          <FormItem label=\"云区域ID\" prop=\"cloud_region_id\">\n            <Input v-model=\"formValidate.cloud_region_id\" maxlength=\"10\" type=\"text\"\n                   placeholder=\"云区域ID、代理ID...\"></Input>\n          </FormItem>\n          <FormItem label=\"代理地址\" prop=\"proxy_ip\">\n            <Input v-model=\"formValidate.proxy_ip\" maxlength=\"100\" type=\"text\"\n                   placeholder=\"连接代理节点IP地址或域名地址，一般为内网LB或者内网域名\"></Input>\n            <!--                  <Select v-model=\"formValidate.proxy_ips\" filterable multiple suffix allow-create-->\n            <!--                          placeholder=\"请输入代理节点IP地址或域名\" @on-create=\"handleCreate\">-->\n            <!--                    <Option v-for=\"item in formValidate.proxy_ips\" :key=\"item\" :value=\"item\">{{ item }}</Option>-->\n            <!--                  </Select>-->\n          </FormItem>\n          <FormItem label=\"SSH\" prop=\"ssh_user\">\n            <Row :gutter=\"6\">\n              <Col span=\"8\">\n                <Input v-model=\"formValidate.ssh_user\" maxlength=\"25\" type=\"text\" placeholder=\"用户名...\">\n                  <span slot=\"prepend\">ssh</span>\n                </Input>\n              </Col>\n              <Col span=\"8\">\n                <Input v-model=\"formValidate.ssh_ip\" maxlength=\"100\" type=\"text\" placeholder=\"主机/ip...\">\n                  <span slot=\"prepend\">@</span>\n                </Input>\n              </Col>\n              <Col span=\"8\">\n                <Input v-model=\"formValidate.ssh_port\" maxlength=\"10\" type=\"text\" placeholder=\"端口...\">\n                  <span slot=\"prepend\">-p</span>\n                </Input>\n              </Col>\n            </Row>\n          </FormItem>\n          <template v-for=\"items, i in formValidate.asset_group_rules\" class=\"alert-c\">\n            <FormItem label=\"关联主机\"\n                      v-if=\"formValidate.asset_group_rules && formValidate.asset_group_rules.length !== 0\">\n              <Alert show-icon v-if=\"i === 0\" style=\"width: 100%; margin-bottom: 8px;\">\n                通过关联vpc把一组vpc下的主机资产划分到云区域，vpc之间的的条件关系为或。\n              </Alert>\n              <Row :gutter=\"20\">\n                <Col>\n                  <Card v-if=\"items.length > 0\" style=\"margin-bottom: 0px;\" dis-hover>\n                    <FormItem v-for=\"(item, index) in items\" v-if=\"item.status\" :key=\"index + _uid\">\n                      <div class=\"alert-con\" style=\"margin-bottom: 10px;\">\n                            <span style=\"margin-right: 5px; min-width: 30px; display: inline-block;\">\n                                {{ index + 1 }} -\n                            </span>\n                        <Cascader :data=\"vpcOptions\" v-model=\"item.query_value\"\n                                  style=\"width:700px;margin-left: 10px;\"></Cascader>\n                        <Button shape=\"circle\" type=\"text\" icon=\"md-add\" class=\"rule-btn-add\"\n                                @click=\"handleAddRules(i)\"></Button>\n                        <Button v-if=\"items.length !== 1\" shape=\"circle\" type=\"text\" icon=\"md-close\"\n                                class=\"rule-btn-del\" @click=\"handleRemoveRules(i, index)\"></Button>\n                      </div>\n                    </FormItem>\n                  </Card>\n                  <p v-if=\"formValidate.asset_group_rules.length > 1 && i != 2\" style=\"padding-top: 15px\">或</p>\n                </Col>\n                <Col span=\"2\">\n                  <a v-if=\"formValidate.asset_group_rules.length !== 1\" @click.prevent=\"handleRemoveCard(i)\"> 删除</a>\n                </Col>\n              </Row>\n            </FormItem>\n          </template>\n          <!--          <Row>-->\n          <!--          <Tooltip trigger=\"hover\" placement=\"right-start\" content=\"选择是会自动更新关联主机的云区域ID\">-->\n          <FormItem prop=\"auto_update_agent_id\" style=\"width: 100%\">\n            <template #label>\n              自动修改AgentID\n              <Tooltip placement=\"top-start\" max-width=\"400\">\n                <template #content>\n                  <p>如果选择是：会自动把当前云区域ID通过VPC和主机关联，设置主机AgentID为主机IP:云区域ID</p>\n                </template>\n                <Icon type=\"ios-help-circle-outline\" />\n                :\n              </Tooltip>\n            </template>\n            <RadioGroup v-model=\"formValidate.auto_update_agent_id\">\n              <Radio label=\"yes\">是</Radio>\n              <Radio label=\"no\">否</Radio>\n            </RadioGroup>\n          </FormItem>\n          <Divider dashed>堡垒机配置</Divider>\n          <FormItem prop=\"jms_org_id\">\n            <template #label>\n              组织ID\n              <Tooltip placement=\"top-start\" max-width=\"400\">\n                <template #content>\n                  <p>关联堡垒机组织，社区版不支持组织管理，只有默认Default组织，企业版支持多组织管理</p>\n                  <p>堡垒机查看组织ID方法：堡垒机资产管理-->网域列表-->点击网域查看ID</p>\n                </template>\n                <Icon type=\"ios-help-circle-outline\" />\n                :\n              </Tooltip>\n            </template>\n\n            <Input v-model=\"formValidate.jms_org_id\" maxlength=\"100\" type=\"text\"\n                   placeholder=\"堡垒机组织ID...\"></Input>\n          </FormItem>\n\n          <FormItem prop=\"jms_domain_id\">\n            <template #label>\n              网域ID\n              <Tooltip placement=\"top-start\" max-width=\"400\">\n                <template #content>\n                  <p>关联堡垒机网域，指定云区域下的主机属于哪个网域，理论上一个区域的主机归属于同一个网域</p>\n                  <p>堡垒机查看网域ID方法：堡垒机资产管理-->网域列表-->点击网域查看ID</p>\n                </template>\n                <Icon type=\"ios-help-circle-outline\" />\n                :\n              </Tooltip>\n            </template>\n            <Input v-model=\"formValidate.jms_domain_id\" maxlength=\"100\" type=\"text\"\n                   placeholder=\"堡垒机网域ID...\"></Input>\n          </FormItem>\n          <FormItem label=\"\" prop=\"jms_account_template\">\n            <template #label>\n              特权账号模版ID\n              <Tooltip placement=\"top-start\" max-width=\"400\">\n                <template #content>\n                  <p>关联堡垒机特权账户模板，创建主机时需指定特权账号，用户推送创建非特权账号到服务器</p>\n                  <p>堡垒机特权账号模版ID方法：堡垒机账号管理-->账号模板-->点击特权账号查看ID</p>\n                </template>\n                <Icon type=\"ios-help-circle-outline\" />\n                :\n              </Tooltip>\n            </template>\n            <Input v-model=\"formValidate.jms_account_template\" maxlength=\"100\" type=\"text\"\n                   placeholder=\"堡垒机特权账户模板ID...\"></Input>\n          </FormItem>\n        </Col>\n        <Col span=\"12\" offset=\"4\">\n          <template v-for=\"(item, index) in formValidate.accounts\">\n            <FormItem v-if=\"item.status\" :key=\"index\" :label=\"'账户模板ID ' + (index + 1)\"\n                      :prop=\"'accounts.' + index + '.value'\">\n              <template #label>\n                账户模板ID\n                <Tooltip placement=\"top-start\" max-width=\"400\">\n                  <template #content>\n                    <p>关联堡垒机特权账户模板，需指定普通账号模板ID和特权账户模板ID，分别用于创建普通用户和特权账户, 如模板不存在则需在堡垒机创建并录入</p>\n                    <p>查看堡垒机账号模版ID方法：堡垒机账号管理-->账号模板-->点击特权查看ID</p>\n                  </template>\n                  <Icon type=\"ios-help-circle-outline\" />\n                  :\n                </Tooltip>\n              </template>\n              <Row>\n                <Select v-model=\"item.account_type\" placeholder=\"选择账户类型\"\n                        style=\"margin-right: 1px;margin-left: 1px; max-width: 100px\">\n                  <Option value=\"dev\">普通账户</Option>\n                  <Option value=\"ops\">特权账户</Option>\n                </Select>\n                <Input style=\"max-width: 500px\" v-model=\"item.jms_account_template_id\"\n                       placeholder=\"请输入待创建账号模板ID\"></Input>\n                <Icon v-on:click=\"handleRemove(index)\" type=\"ios-backspace\" style=\"margin-top: 8px; margin-left: 4px\"/>\n              </Row>\n            </FormItem>\n          </template>\n          <FormItem>\n            <Row>\n              <Col span=\"12\">\n                <Tooltip trigger=\"hover\" placement=\"top-start\" content=\"只允许添加两个不同类型的账户\">\n                  <Button type=\"dashed\" long @click=\"handleAdd(account_type)\" icon=\"md-add\">添加账户</Button>\n                </Tooltip>\n              </Col>\n            </Row>\n          </FormItem>\n        </Col>\n        <Col span=\"12\" offset=\"4\">\n          <FormItem label=\"网域密钥\">\n            <Input v-model=\"formValidate.ssh_key\" type=\"textarea\" maxlength=\"65500\"\n                   :autosize=\"{minRows: 6,maxRows: 15}\"\n                   placeholder=\"当前云区域网域私钥...\" />\n          </FormItem>\n        </Col>\n        <Col span=\"12\" offset=\"4\">\n          <FormItem label=\"网域公钥\">\n            <Input v-model=\"formValidate.ssh_pub_key\" type=\"textarea\" maxlength=\"65500\"\n                   :autosize=\"{minRows: 3,maxRows: 15}\" placeholder=\"当前云区域网域公钥...\" />\n          </FormItem>\n        </Col>\n\n        <Col span=\"12\" offset=\"4\">\n          <FormItem label=\"备注信息\">\n            <Input v-model=\"formValidate.detail\" type=\"textarea\" maxlength=\"65500\" :autosize=\"{minRows: 2,maxRows: 5}\"\n                   placeholder=\"备注信息...\" />\n          </FormItem>\n        </Col>\n        <Col span=\"12\" offset=\"4\">\n          <FormItem>\n            <Button type=\"primary\" :loading=\"btnLoading\" @click=\"handleSubmit('formValidate')\">确定</Button>\n            <Button @click=\"handleCancel\" style=\"margin-left: 15px\">返回</Button>\n          </FormItem>\n\n        </Col>\n      </Row>\n    </Form>\n\n  </Card>\n</template>\n<script>\nimport { getCloudSettinglist } from '@/api/cmdb';\nimport { getVPC } from '@/api/cloud/vpc.js';\n\nexport default {\n  components: {},\n  name: 'cloudRegionEdit',\n  props: {\n    formData: {\n      type: Object,\n      default: {}\n    }\n  },\n  data() {\n    return {\n      btnLoading: false,\n      cloudList: [],\n      index: 1,\n      vpcList: [],\n      vpcOptions: [],\n      vendorMap: {},\n      account_type: 'dev',\n      ruleValidate: {\n        name: [{ required: true, message: '名称不能为空', trigger: 'blur' }],\n        cloud_region_id: [{ required: true, message: '不能为空', trigger: 'blur' }],\n        ssh_user: [{ required: true, message: '不能为空', trigger: 'blur' }],\n        proxy_ip: [{ required: true, message: '不能为空', trigger: 'blur' }],\n        detail: [{ type: 'string', max: 300, message: '备注也不能太长吧', trigger: 'blur' }],\n        auto_update_agent_id: [{ type: 'string', max: 10, message: '不能为空', trigger: 'blur', required: true }],\n        asset_group_rules: [{ type: 'array', max: 10, message: '不能为空', trigger: 'blur', required: true }],\n        jms_domain_id: [{ message: '不能为空', trigger: 'blur', required: true, max: 100 }],\n        jms_account_template: [{ message: '不能为空', trigger: 'blur', required: true, max: 100 }],\n        jms_org_id: [{ required: true, message: '组织ID为空', trigger: 'blur', max: 100 }]\n      }\n    };\n  },\n  filters: {\n    testF(value, location) {\n      if (location === 1) {\n        return '资产 B';\n      } else if (location === 2) {\n        return '资产 C';\n      } else if (location === 0) {\n        return '资产 A';\n      }\n    }\n  },\n  methods: {\n    // 添加条件\n    handleAdd() {\n      this.index++;\n      if (this.index > 2) {\n        this.$Notice.warning({\n          title: '条件超出最大限制'\n        });\n        this.index--;\n        return;\n      }\n      // 条件默认配置\n      this.formValidate.accounts.push({\n        account_type: 'dev',\n        jms_account_template_id: '',\n        index: this.index,\n        status: 1\n      });\n    },\n    // 移除条件\n    handleRemove(index) {\n      this.index--;\n      this.formValidate.accounts.splice(index, 1);\n    },\n\n    transformData(data) {\n      data.forEach(item => {\n        if (!item.cloud_zh_name) {\n          return;\n        }\n        if (!this.vendorMap[item.cloud_zh_name]) {\n          this.vendorMap[item.cloud_zh_name] = {};\n        }\n        if (!this.vendorMap[item.cloud_zh_name][item.region]) {\n          this.vendorMap[item.cloud_zh_name][item.region] = [];\n        }\n        this.vendorMap[item.cloud_zh_name][item.region].push({\n          label: item.vpc_name,\n          value: item.instance_id\n        });\n      });\n\n      return Object.keys(this.vendorMap).map(vendor => ({\n        label: vendor,\n        value: vendor,\n        children: Object.keys(this.vendorMap[vendor]).map(region => ({\n          label: region,\n          value: region,\n          children: this.vendorMap[vendor][region]\n        }))\n      }));\n    },\n\n    async getCloudSettingList() {\n      const res = await getCloudSettinglist();\n      if (res.code === 0) {\n        this.cloudList = res.data;\n      } else {\n        this.$message.error(`${res.msg}`);\n      }\n    },\n    getVpcCloudName(accountID) {\n      const cloud = this.cloudList.find(vpc => vpc.account_id === accountID);\n      return cloud ? cloud.name : '';\n    },\n    getVpcRegion(vpcName) {\n      const vpc = this.vpcList.find(vpc => vpc.vpc_name === vpcName);\n      return vpc ? vpc.region : '';\n    },\n    async getVpcList() {\n      const params = {\n        page_number: 1,\n        page_size: 300\n      };\n      const res = await getVPC(params);\n      if (res.code === 0) {\n        this.vpcList = res.data;\n        for (const vpc of this.vpcList) {\n          if (vpc.cidr_block_v4) {\n            vpc.vpc_name = vpc.vpc_name + '(' + vpc.cidr_block_v4 + ')';\n          }\n          vpc.cloud_zh_name = this.getVpcCloudName(vpc.account_id);\n        }\n        // 转换成级联选择器的数据格式\n        this.vpcOptions = this.transformData(this.vpcList);\n      } else {\n        this.$message.error(`${res.msg}`);\n      }\n    },\n    handleAddRules(i) {\n      this.index++;\n      if (this.formValidate.asset_group_rules[i].length > 14) {\n        this.$Notice.warning({\n          title: '限制提示',\n          desc: '添加指标的个数不能超过十五个',\n          duration: 10\n        });\n        return;\n      }\n      this.formValidate.asset_group_rules[i].push({\n        index: this.index,\n        query_name: 'vpc',\n        query_conditions: '=', //条件 like = !=\n        query_value: [], //值\n        status: 1\n      });\n    },\n    handleRemoveRules(i, index) {\n      this.formValidate.asset_group_rules[i].splice(index, 1);\n    },\n    handleRemoveCard(i) {\n      this.formValidate.asset_group_rules.splice(i, 1);\n    },\n    handleCancel() {\n      if (JSON.stringify(this.formValidate) != JSON.stringify(this.formData)) {\n        this.$Modal.confirm({\n          content: `<p>编辑还没有保存，确定要离开？</p>`,\n          onOk: () => {\n            this.$emit('edit-close');\n          },\n          onCancel: () => {\n            this.$Message.info('回头是岸');\n          }\n        });\n      } else {\n        this.$emit('edit-close');\n      }\n    },\n\n    handleSubmit(name) {\n      this.$refs[name].validate((valid) => {\n        if (valid) {\n          const accountTypes = new Set();\n          let duplicateFound = false;\n          if (this.formValidate.accounts) {\n            for (const account of this.formValidate.accounts) {\n              if (account.status === 1 && (account.jms_account_template_id === '' || !account.jms_account_template_id)) {\n                this.$Notice.warning({ title: '账号模板ID存在空值！' });\n                return;\n              }\n              if (accountTypes.has(account.account_type)) {\n                duplicateFound = true;\n                break;\n              }\n              accountTypes.add(account.account_type);\n            }\n          }\n          if (duplicateFound) {\n            this.$Notice.warning({\n              title: '账号类型重复，请检查！'\n            });\n            return;\n          }\n          if (this.formValidate.asset_group_rules) {\n            for (const rules of this.formValidate.asset_group_rules) {\n              for (const rule of rules) {\n                if (rule.status === 1 && (Array.isArray(rule.query_value) && rule.query_value.length < 2)) {\n                  this.$Notice.warning({ title: '查询条件存在空值！' });\n                  return;\n                }\n                // vpc_id不能为空\n                if (!rule.query_value[rule.query_value.length - 1]) {\n                  this.$Notice.warning({ title: 'VPC存在空值！' });\n                  return;\n                }\n              }\n            }\n          }\n          this.btnLoading = true;\n          this.formValidate.name = this.formValidate.name.trim();\n          setTimeout(() => {\n            this.$emit('save-data', this.formValidate);\n            this.btnLoading = false;\n          }, 1000);\n        } else {\n          this.$Message.error('表单校验不通过!');\n        }\n      });\n    }\n\n\n  },\n  watch: {\n    formValidate(value) {\n    }\n  },\n  computed: {\n    formValidate: function() {\n      return this.formData;\n    }\n  },\n  //\n  mounted() {\n    this.getCloudSettingList();\n    this.getVpcList();\n  }\n};\n</script>\n\n<style scoped>\n.alert-con {\n  display: flex;\n  align-items: center;\n}\n.rule-btn-add,\n.rule-btn-del {\n  margin-left: 10px; /* 根据需要调整间距 */\n}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cloud-region-edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cloud-region-edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./cloud-region-edit.vue?vue&type=template&id=7d182a3d&scoped=true&\"\nimport script from \"./cloud-region-edit.vue?vue&type=script&lang=js&\"\nexport * from \"./cloud-region-edit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cloud-region-edit.vue?vue&type=style&index=0&id=7d182a3d&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7d182a3d\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./region-asset-preview.vue?vue&type=style&index=0&id=16f6d2f2&prod&lang=less&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cloud-region-edit.vue?vue&type=style&index=0&id=7d182a3d&prod&scoped=true&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Drawer',{attrs:{\"title\":_vm.modalData.title,\"styles\":_vm.styles,\"width\":\"70%\",\"draggable\":\"\",\"mask-closable\":false},on:{\"on-close\":_vm.handleCancel},model:{value:(_vm.modalData.show),callback:function ($$v) {_vm.$set(_vm.modalData, \"show\", $$v)},expression:\"modalData.show\"}},[_c('div',{staticClass:\"search-con search-con-top\"},[_c('div',{staticClass:\"search-col\"},[_c('b',[_vm._v(\"选择主机:\")])]),_c('Cascader',{staticClass:\"search-input\",attrs:{\"data\":_vm.treeData,\"change-on-select\":\"\",\"placeholder\":\"通过拓扑选择主机\"},on:{\"on-change\":_vm.handleChange},model:{value:(_vm.topoList),callback:function ($$v) {_vm.topoList=$$v},expression:\"topoList\"}})],1),_c('Table',{attrs:{\"size\":\"small\",\"columns\":_vm.columns,\"data\":_vm.tableData}}),_c('div',{staticStyle:{\"margin\":\"10px\",\"overflow\":\"hidden\"}},[_c('div',{staticStyle:{\"float\":\"left\"}},[_c('Page',{attrs:{\"total\":_vm.i.pageTotal,\"current\":_vm.initPara.page_number,\"page-size\":_vm.initPara.page_size,\"show-total\":\"\",\"show-sizer\":\"\",\"page-size-opts\":[15, 50, 100]},on:{\"on-change\":_vm.handlerChangePage,\"on-page-size-change\":_vm.handlePageSize}})],1)]),_c('div',{staticClass:\"drawer-footer\"},[_c('Button',{staticStyle:{\"margin-right\":\"8px\"},on:{\"click\":_vm.handleCancel}},[_vm._v(\"取消\")]),_c('Button',{staticStyle:{\"margin-right\":\"8px\"},attrs:{\"type\":\"warning\"},on:{\"click\":function($event){return _vm.handleSubmit()}}},[_vm._v(\"关联\")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <Drawer v-model=\"modalData.show\" @on-close='handleCancel'  :title=\"modalData.title\" :styles=\"styles\" width=\"70%\" draggable :mask-closable='false' >\n      \n    <div class=\"search-con search-con-top\">\n      <div class=\"search-col\"><b>选择主机:</b></div>\n      <Cascader  class=\"search-input\" :data=\"treeData\" v-model=\"topoList\"  change-on-select @on-change=\"handleChange\" placeholder=\"通过拓扑选择主机\"></Cascader>\n    </div>\n\n    <Table size=\"small\"  :columns=\"columns\" :data=\"tableData\" ></Table>\n\n      <!-- 分页 -->\n      <div style=\"margin: 10px; overflow: hidden\">\n        <div style=\"float: left;\">\n          <Page :total=\"i.pageTotal\" :current=\"initPara.page_number\" :page-size=\"initPara.page_size\" show-total show-sizer\n            :page-size-opts=\"[15, 50, 100]\" @on-change=\"handlerChangePage\" @on-page-size-change=\"handlePageSize\" />\n        </div>\n      </div>\n\n    <div class=\"drawer-footer\">\n        <Button style=\"margin-right: 8px\" @click=\"handleCancel\">取消</Button>\n        <Button style=\"margin-right: 8px\"  type=\"warning\" @click=\"handleSubmit()\">关联</Button>\n    </div>\n  </Drawer>\n</template>\n<script>\nimport { getServiceTreelist, getTreeAsset } from '@/api/service-tree'\nexport default {\n  components: {},\n  name: 'regionAsset',\n  props: {\n    modalData: {\n      type: Object,\n      default: {}\n    },\n  },\n  data () {\n    return {\n      topoList: [],\n      params: {},\n      treeData: [],\n      initPara:{\n        page_number: 1,\n        page_size: 15,\n        searchVal: null,\n      },\n      i: {\n        pageTotal: 0, //总数\n        tableLoading: false\n      },\n      tableData: [],\n      columns: [\n        {\n          title: \"环境\",\n          key: \"env_name\",\n          width: 100,\n          align: \"center\",\n        },\n          {\n          title: \"集群\",\n          key: \"region_name\",\n          minWidth: 120,\n          maxWidth: 150,\n          align: \"center\",\n        },\n         {\n          title: \"模块\",\n          key: \"module_name\",\n          minWidth: 120,\n          maxWidth: 170,\n          align: \"center\",\n        },\n         {\n          title: \"资源名\",\n          key: \"name\",\n          minWidth: 150,\n          align: \"center\",\n        },\n        {\n          title: \"内网IP\",\n          key: \"inner_ip\",\n          minWidth: 120,\n          maxWidth: 170,\n          align: \"center\",\n        },\n        {\n          title: \"状态\",\n          key: \"state\",\n          minWidth: 110,\n          maxWidth: 140,\n          align: \"center\",\n        },\n      ],\n      styles: {\n          height: 'calc(100% - 55px)',\n          overflow: 'auto',\n          paddingBottom: '53px',\n          position: 'static'\n      },\n    }\n  },\n  methods: {\n    handleCancel () {\n      this.$emit('close')\n    },\n    async handleGetData() {\n      const res = await getServiceTreelist();\n      if (res.code == 0) {\n        this.treeData = res.data\n        this.changeId2(this.treeData ,'title','label','value')\n      } else {\n       this.$Notice.error({ title: `${res.msg}` });\n      }\n    },\n    async handleGetAssetData () {\n      this.params = Object.assign(this.params, this.initPara)\n      const res = await getTreeAsset(this.params);\n      if (res.code == 0) {\n        this.tableData = res.data\n        this.i.pageTotal = res.count\n      } else {\n       this.$Notice.error({ title: `${res.msg}` });\n      }\n    },\n    changeId2(objAry, key, newkey, newkey2) {\n      if (objAry != null) {\n        objAry.forEach((item) => {\n          Object.assign(item, {\n            [newkey]:  item[key],\n            [newkey2]: item[key],\n          });\n          this.changeId2(item.children, key, newkey, newkey2);\n        });\n      }\n    },\n    // 选中后预览\n    handleChange (value) {\n      this.params = {\n        asset_type: 'server'\n      }\n      if (value.length >= 1 ) {\n         this.params['biz_cn'] = value[0]\n      }\n      if (value.length >= 2 ) {\n         this.params['env_name'] = value[1]\n      }\n      if (value.length >= 3 ) {\n         this.params['region_name'] = value[2]\n      }\n      if (value.length == 4 ) {\n         this.params['module_name'] = value[3]\n      }\n      // console.info('params', this.params)\n      this.handleGetAssetData()\n    },\n    handleSubmit(){\n      this.$emit('relevance', {id: this.modalData.id, topoParams: this.params})\n    },\n        // 分页\n    handlerChangePage (value) {\n      this.initPara.page_number = value\n      this.handleGetAssetData()\n    },\n    handlePageSize (value) {\n      this.initPara.page_number = 1\n      this.initPara.page_size = value\n      this.handleGetAssetData()\n    },\n  },\n  watch: {\n  },\n  computed: {\n  },\n  //\n  mounted () {\n    this.handleGetData()\n  }\n}\n</script>\n<style>\n    .drawer-footer{\n        width: 100%;\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        border-top: 1px solid #e8e8e8;\n        padding: 10px 16px;\n        text-align: right;\n        background: #fff;\n    }\n</style>\n\n<style lang=\"less\" scoped>\n.search-con {\n  padding: 10px 0;\n\n  .search {\n    &-col {\n      display: inline-block;\n      width: 80px;\n      margin-left: 2px;\n    }\n    &-input {\n      display: inline-block;\n      width: 450px;\n      margin-left: 2px;\n    }\n\n    &-btn {\n      margin-left: 10px;\n    }\n\n    &-add-btn {\n      margin-right: 10px;\n    }\n  }\n}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./region-asset.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./region-asset.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./region-asset.vue?vue&type=template&id=7ced1199&scoped=true&\"\nimport script from \"./region-asset.vue?vue&type=script&lang=js&\"\nexport * from \"./region-asset.vue?vue&type=script&lang=js&\"\nimport style0 from \"./region-asset.vue?vue&type=style&index=0&id=7ced1199&prod&lang=css&\"\nimport style1 from \"./region-asset.vue?vue&type=style&index=1&id=7ced1199&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7ced1199\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./region-asset.vue?vue&type=style&index=0&id=7ced1199&prod&lang=css&\"","/* eslint-disable camelcase */\nimport request from '@/plugins/axios'\n// 动态规则管理\n\n// 预览\nexport const previewCloudRegion = (params) => request({\n  url: '/api/v2/cmdb/cloud_region/preview/',\n  method: 'get',\n  params\n})\n\n// 操作\nexport const optCloudRegionPro = (data, method) => request({\n  url: '/api/v2/cmdb/cloud_region/pro/',\n  data,\n  method\n})\n\n// 查看\nexport const getCloudRegion = (params) => request({\n  url: '/api/v2/cmdb/cloud_region/',\n  method: 'get',\n  params\n})\n\n// 操作\nexport const optCloudRegion= (data, method) => request({\n  url: '/api/v2/cmdb/cloud_region/',\n  data,\n  method\n})"],"sourceRoot":""}