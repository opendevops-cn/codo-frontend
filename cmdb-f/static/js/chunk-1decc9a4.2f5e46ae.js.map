{"version":3,"sources":["webpack://cmdb-[name]/./src/views/cmdb/basic/asset-vpc.vue?c400","webpack://cmdb-[name]/./src/api/cloud/vpc.js","webpack://cmdb-[name]/./src/views/cmdb/basic/asset-vpc.vue","webpack://cmdb-[name]/src/views/cmdb/basic/asset-vpc.vue","webpack://cmdb-[name]/./src/views/cmdb/basic/asset-vpc.vue?9238","webpack://cmdb-[name]/./src/views/cmdb/basic/asset-vpc.vue?9c2d"],"names":["getVPC","params","request","url","method","optVPC","data","render","_vm","this","_c","_self","staticClass","attrs","on","handleSearch","model","value","initPara","searchVal","callback","$$v","$set","expression","selectList","length","handleDel","_v","ref","tableColumns","tableData","i","tableLoading","handleSort","handleSelect","staticStyle","pageTotal","page_number","page_size","handlerChangePage","handlePageSize","staticRenderFns","type","key","width","align","title","tooltip","sortable","minWidth","order_by","order","methods","handleGetData","then","res","code","count","clearSelectAll","$Modal","confirm","content","onOk","id_list","$Message","success","msg","$Notice","error","onCancel","info","handlerDetail","redisData","modalData","show","val","selectIdList","forEach","item","push","id","$refs","selection","selectAll","column","watch","computed","mounted","component"],"mappings":"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","file":"static/js/chunk-1decc9a4.2f5e46ae.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./asset-vpc.vue?vue&type=style&index=0&id=4fbec562&prod&lang=less&scoped=true&\"","/* eslint-disable camelcase */\nimport request from '@/plugins/axios'\n\nexport const getVPC = (params) => request({\n  url: '/api/v2/cmdb/vpc/',\n  method: 'get',\n  params,\n})\n\nexport const optVPC = (data, method) => request({\n  url: '/api/v2/cmdb/vpc/',\n  method,\n  data,\n})\n\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"search-con search-con-top\"},[_c('Input',{staticClass:\"search-input\",attrs:{\"search\":\"\",\"maxlength\":50,\"placeholder\":\"输入关键字搜索\"},on:{\"on-search\":_vm.handleSearch},model:{value:(_vm.initPara.searchVal),callback:function ($$v) {_vm.$set(_vm.initPara, \"searchVal\", $$v)},expression:\"initPara.searchVal\"}}),_c('Button',{staticClass:\"search-add-btn\",attrs:{\"type\":\"error\",\"disabled\":_vm.selectList.length !== 0 ? false : true},on:{\"click\":_vm.handleDel}},[_vm._v(\"批量删除\")])],1),_c('Table',{ref:\"selection\",attrs:{\"size\":\"small\",\"columns\":_vm.tableColumns,\"data\":_vm.tableData,\"loading\":_vm.i.tableLoading},on:{\"on-sort-change\":_vm.handleSort,\"on-selection-change\":_vm.handleSelect}}),_c('div',{staticStyle:{\"margin\":\"10px\",\"overflow\":\"hidden\"}},[_c('div',{staticStyle:{\"float\":\"left\"}},[_c('Page',{attrs:{\"total\":_vm.i.pageTotal,\"current\":_vm.initPara.page_number,\"page-size\":_vm.initPara.page_size,\"show-total\":\"\",\"show-sizer\":\"\",\"page-size-opts\":[15, 50, 100, 1000]},on:{\"on-change\":_vm.handlerChangePage,\"on-page-size-change\":_vm.handlePageSize}})],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"search-con search-con-top\">\n       <Input class=\"search-input\" v-model=\"initPara.searchVal\" search :maxlength='50' @on-search=\"handleSearch\"  placeholder=\"输入关键字搜索\" />\n        <Button type=\"error\" class=\"search-add-btn\" @click=\"handleDel\" :disabled=\"selectList.length !== 0 ? false : true\">批量删除</Button>\n    </div>\n\n    <Table ref=\"selection\" size=\"small\"  :columns=\"tableColumns\" :data=\"tableData\" :loading=\"i.tableLoading\"\n     @on-sort-change=\"handleSort\"  @on-selection-change=\"handleSelect\" ></Table>\n\n      <!-- 分页 -->\n    <div style=\"margin: 10px; overflow: hidden\">\n      <div style=\"float: left;\">\n        <Page :total=\"i.pageTotal\" :current=\"initPara.page_number\" :page-size=\"initPara.page_size\" show-total show-sizer\n          :page-size-opts=\"[15, 50, 100, 1000]\" @on-change=\"handlerChangePage\" @on-page-size-change=\"handlePageSize\" />\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport { getVPC,optVPC } from '@/api/cloud/vpc.js'\nexport default {\n  data () {\n    return {\n      tableColumns: [\n        {\n            type: \"selection\",\n            key: \"\",\n            width: 60,\n            align: \"center\"\n        },\n        {\n          title: 'VPC ID',\n          key: 'instance_id',\n          tooltip: true,\n          width: 300\n        },\n            {\n          title: '名称',\n          key: 'vpc_name',\n          tooltip: true,\n          sortable: true,\n          width: 300\n        },\n        {\n            title: \"厂商\",\n            key: \"cloud_name\",\n            minWidth: 90,\n        },\n        {\n          title: '地域',\n          key: 'region',\n          minWidth: 90\n        },\n        {\n          title: '网段',\n          key: 'cidr_block_v4',\n          tooltip: true,\n          minWidth: 130\n        },\n        {\n          title: '虚拟子网',\n          key: 'vpc_switch',\n          tooltip: true,\n          minWidth: 220\n        },\n        {\n          title: '更新时间',\n          key: 'update_time',\n          width: 170\n        }\n\n      ],\n      tableData: [],\n      selectList: [],\n      i: {\n          pageTotal: 0,\n          tableLoading: true\n      },\n      initPara: {\n          page_number: 1,\n          page_size: 15,\n          searchVal: null,\n          order_by: \"\",      //排序字段\n          order: \"ascend\", //排序 ascend descend\n      },\n    }\n  },\n  methods: {\n    handleGetData () {\n      getVPC(this.initPara).then(res => {\n        if (res.code == 0) {\n          this.tableData = res.data;\n          this.i.pageTotal = res.count;\n        } else {\n          this.i.pageTotal = 0\n          this.tableData = []\n        }\n        this.clearSelectAll();\n        this.i.tableLoading = false;\n      })\n    },\n    handleDel() {\n      this.$Modal.confirm({\n          title: \"二次确认\",\n          content: \"确定删除已选中的数据？\",\n          onOk: () => {\n              optVPC({ id_list: this.selectList }, \"delete\").then(res => {\n                  if (res.code === 0) {\n                      this.$Message.success(res.msg);\n                      this.handleGetData();\n                  }\n                  else {\n                      this.$Notice.error({ title: `${res.msg}` });\n                  }\n              });\n          },\n          onCancel: () => {\n              this.$Message.info(\"回头是岸~\");\n          },\n      });\n    },\n    // 详细信息\n    handlerDetail (value) {\n      this.redisData = value\n      this.modalData.show = true\n    },\n    handleSelect(val) {\n        let selectIdList = [];\n        val.forEach(item => {\n            selectIdList.push(item.id);\n        });\n        this.selectList = selectIdList;\n    },\n    // 清空table已选择\n    clearSelectAll() {\n        this.$refs.selection.selectAll(false);\n    },\n    handleSearch() {\n        this.initPara.page_number = 1;\n        this.handleGetData();\n    },\n    handleSort (column, key, order) {\n        this.initPara.order = column.order === \"asc\" ? 'ascend' : 'descend'\n        this.initPara.order_by = column.key\n        this.handleGetData()\n      },\n    // 分页\n    handlerChangePage(value) {\n        this.initPara.page_number = value;\n        this.handleGetData();\n    },\n    handlePageSize(value) {\n        this.initPara.page_number = 1;\n        this.initPara.page_size = value;\n        this.handleGetData();\n    },\n  },\n  watch: {\n  },\n  computed: {\n  },\n  mounted () {\n    this.handleGetData()\n  }\n}\n</script>\n<style lang=\"less\" scoped>\n.search-con {\n  padding: 5px 0;\n  .search {\n    &-input {\n      display: inline-block;\n      width: 350px;\n      margin-left: 2px;\n    }\n     &-add-btn {\n      margin-left: 2px;\n      margin-right: 3px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./asset-vpc.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./asset-vpc.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./asset-vpc.vue?vue&type=template&id=4fbec562&scoped=true&\"\nimport script from \"./asset-vpc.vue?vue&type=script&lang=js&\"\nexport * from \"./asset-vpc.vue?vue&type=script&lang=js&\"\nimport style0 from \"./asset-vpc.vue?vue&type=style&index=0&id=4fbec562&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4fbec562\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}