{"version":3,"sources":["webpack://cmdb-[name]/./src/views/cmdb/components/server-add.vue","webpack://cmdb-[name]/src/views/cmdb/components/server-add.vue","webpack://cmdb-[name]/./src/views/cmdb/components/server-add.vue?44f4","webpack://cmdb-[name]/./src/views/cmdb/components/server-add.vue?924f","webpack://cmdb-[name]/./src/views/cmdb/basic/asset-server.vue","webpack://cmdb-[name]/src/views/cmdb/basic/asset-server.vue","webpack://cmdb-[name]/./src/views/cmdb/basic/asset-server.vue?4125","webpack://cmdb-[name]/./src/views/cmdb/basic/asset-server.vue?a2d0","webpack://cmdb-[name]/./src/api/cloud/server.js"],"names":["render","_vm","this","_c","_self","attrs","handleClose","modalData","title","on","handleCancel","model","value","show","callback","$$v","$set","expression","ref","formValidate","ruleValidate","name","cloud_name","ownership","inner_ip","outer_ip","instance_id","agent_id","onJsonChange","onJsonSave","onError","ext_info","$event","handleSubmit","_v","staticStyle","handleReset","staticRenderFns","components","vueJsonEditor","props","type","Object","default","data","btnLoading","required","message","trigger","methods","$emit","next","$refs","validate","valid","setTimeout","action","$Message","error","val","console","log","jsonErrFlag","watch","computed","mounted","component","_s","selectList","length","clearSelectAll","handleSearch","searchParams","searchVal","handleAdd","search_filter","handlefilter","handleShowEditAddr","handleDelete","staticClass","exportData","handerSettingShow","serverData","_e","tableColumns2","tableData","handleSort","changeSelect","pageTotal","page_number","page_size","changePage","handlePageSize","modalAddrEdit","slot","outer_biz_addr","handleSaveAddr","showDrawer","listStyle","tranferTitles","sourceField","targetField","handleSettingChange","modalAdd","handleSaveData","showDrawerSecurity","sg_ids","serverDetail","serverAdd","SecurityGroup","label","key","disabled","width","height","selectOperation","check_box_list","tableColumnsChecked","modalMap","loading","modalVisible","modalTitle","method_data","order_by","order","getTableData","getTable2Columns","getUserFieldFavorites","table2ColumnList","selection","align","id","sortable","h","params","cloudName","row","color","region","zone","minWidth","click","handleDetail","tooltip","show_security_group","nativeOn","handlerShowSecurity","cpu","memory","system_disk","data_disk","state","text","os_name","network_type","charge_type","instance_type","is_expired","instance_create_time","instance_expired_time","update_time","fixed","detail","agent_bind_status","status","is_product","forEach","ele","indexOf","push","col","changeTableColumns","res","getServerList","code","count","$message","msg","paramsRow","handcustomView","saveData","optServer","then","success","$Modal","confirm","content","onOk","optBatchServer","hosts","$Notice","onCancel","info","warning","handerSelectOperation","exportCsv","filename","original","security_group_ids","column","e","selectAll","resetFields","newTargetKeys","direction","moveKeys","$options","handlerUpdateFavorites","newArr","Set","user_fields","join","user_type","optrationUserField","getUserField","split","request","url","method","optServerMainAgent"],"mappings":"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","file":"static/js/chunk-74e384f8.5b9530c3.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('Drawer',{attrs:{\"before-close\":_vm.handleClose,\"title\":_vm.modalData.title,\"width\":\"50%\",\"draggable\":\"\",\"mask-closable\":false,\"footer-hide\":true},on:{\"on-close\":_vm.handleCancel},model:{value:(_vm.modalData.show),callback:function ($$v) {_vm.$set(_vm.modalData, \"show\", $$v)},expression:\"modalData.show\"}},[_c('Form',{ref:\"formValidate\",attrs:{\"model\":_vm.formValidate,\"rules\":_vm.ruleValidate,\"label-width\":100}},[_c('FormItem',{attrs:{\"label\":\"实例名称\",\"prop\":\"name\"}},[_c('Input',{attrs:{\"maxlength\":120,\"placeholder\":\"请输入实例名称\"},model:{value:(_vm.formValidate.name),callback:function ($$v) {_vm.$set(_vm.formValidate, \"name\", $$v)},expression:\"formValidate.name\"}})],1),_c('FormItem',{attrs:{\"label\":\"厂商信息\",\"prop\":\"cloud_name\"}},[_c('Input',{attrs:{\"maxlength\":120,\"placeholder\":\"请输入厂商名称\"},model:{value:(_vm.formValidate.cloud_name),callback:function ($$v) {_vm.$set(_vm.formValidate, \"cloud_name\", $$v)},expression:\"formValidate.cloud_name\"}})],1),_c('FormItem',{attrs:{\"label\":\"归属\",\"prop\":\"ownership\"}},[_c('Input',{attrs:{\"maxlength\":120,\"placeholder\":\"请输入\"},model:{value:(_vm.formValidate.ownership),callback:function ($$v) {_vm.$set(_vm.formValidate, \"ownership\", $$v)},expression:\"formValidate.ownership\"}})],1),_c('FormItem',{attrs:{\"label\":\"内网IP\",\"prop\":\"inner_ip\"}},[_c('Input',{attrs:{\"maxlength\":120,\"placeholder\":\"请输入内网IP\"},model:{value:(_vm.formValidate.inner_ip),callback:function ($$v) {_vm.$set(_vm.formValidate, \"inner_ip\", $$v)},expression:\"formValidate.inner_ip\"}})],1),_c('FormItem',{attrs:{\"label\":\"外网IP\",\"prop\":\"outer_ip\"}},[_c('Input',{attrs:{\"maxlength\":120,\"placeholder\":\"请输入\"},model:{value:(_vm.formValidate.outer_ip),callback:function ($$v) {_vm.$set(_vm.formValidate, \"outer_ip\", $$v)},expression:\"formValidate.outer_ip\"}})],1),_c('FormItem',{attrs:{\"label\":\"实例ID\",\"prop\":\"instance_id\"}},[_c('Input',{attrs:{\"maxlength\":120,\"placeholder\":\"请输入实例ID，如果不填则随机生成\"},model:{value:(_vm.formValidate.instance_id),callback:function ($$v) {_vm.$set(_vm.formValidate, \"instance_id\", $$v)},expression:\"formValidate.instance_id\"}})],1),_c('FormItem',{attrs:{\"label\":\"Agent ID\",\"prop\":\"agent_id\"}},[_c('Input',{attrs:{\"maxlength\":120,\"placeholder\":\"请输入，如果不填默认\"},model:{value:(_vm.formValidate.agent_id),callback:function ($$v) {_vm.$set(_vm.formValidate, \"agent_id\", $$v)},expression:\"formValidate.agent_id\"}})],1),_c('FormItem',{attrs:{\"label\":\"扩展字段\"}},[_c('vue-json-editor',{attrs:{\"show-btns\":false,\"mode\":'code',\"lang\":\"zh\"},on:{\"json-change\":_vm.onJsonChange,\"json-save\":_vm.onJsonSave,\"has-error\":_vm.onError},model:{value:(_vm.formValidate.ext_info),callback:function ($$v) {_vm.$set(_vm.formValidate, \"ext_info\", $$v)},expression:\"formValidate.ext_info\"}})],1),_c('FormItem',[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleSubmit('formValidate', false)}}},[_vm._v(\"保存\")]),_c('Button',{staticStyle:{\"margin-left\":\"8px\"},on:{\"click\":function($event){return _vm.handleSubmit('formValidate', true)}}},[_vm._v(\"保存并继续\")]),_c('Button',{staticStyle:{\"margin-left\":\"8px\"},on:{\"click\":function($event){return _vm.handleReset('formValidate')}}},[_vm._v(\"重置\")])],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- eslint-disable vue/no-mutating-props -->\n<template>\n  <div>\n    <!-- 添加 -->\n    <!-- <Drawer v-model=\"modalData.show\" :title=\"modalData.title\" :loading=\"true\" :footer-hide=\"true\" width=\"750\" @on-cancel=\"handleCancel\"> -->\n    <Drawer v-model=\"modalData.show\" @on-close='handleCancel' :before-close='handleClose' :title=\"modalData.title\" width=\"50%\" \n      draggable :mask-closable='false' :footer-hide='true'>\n      <Form ref=\"formValidate\" :model=\"formValidate\" :rules=\"ruleValidate\" :label-width=\"100\">\n        <FormItem label=\"实例名称\" prop=\"name\">\n          <Input v-model=\"formValidate.name\" :maxlength=\"120\" placeholder=\"请输入实例名称\"></Input>\n        </FormItem>\n        \n        <FormItem label=\"厂商信息\" prop=\"cloud_name\">\n           <Input v-model=\"formValidate.cloud_name\" :maxlength=\"120\" placeholder=\"请输入厂商名称\"></Input>\n        </FormItem>\n\n        <FormItem label=\"归属\" prop=\"ownership\">\n          <Input v-model=\"formValidate.ownership\" :maxlength=\"120\" placeholder=\"请输入\"></Input>\n        </FormItem>\n\n        <FormItem label=\"内网IP\" prop=\"inner_ip\">\n          <Input v-model=\"formValidate.inner_ip\" :maxlength=\"120\" placeholder=\"请输入内网IP\"></Input>\n        </FormItem>\n        \n        <FormItem label=\"外网IP\" prop=\"outer_ip\">\n          <Input v-model=\"formValidate.outer_ip\" :maxlength=\"120\" placeholder=\"请输入\"></Input>\n        </FormItem>\n\n        <FormItem label=\"实例ID\" prop=\"instance_id\">\n          <Input v-model=\"formValidate.instance_id\" :maxlength=\"120\" placeholder=\"请输入实例ID，如果不填则随机生成\"></Input>\n        </FormItem>\n        \n        <FormItem label=\"Agent ID\" prop=\"agent_id\">\n          <Input v-model=\"formValidate.agent_id\" :maxlength=\"120\" placeholder=\"请输入，如果不填默认\"></Input>\n        </FormItem>\n        \n          <FormItem label=\"扩展字段\">\n          <vue-json-editor v-model=\"formValidate.ext_info\" :show-btns=\"false\" :mode=\"'code'\" lang=\"zh\" @json-change=\"onJsonChange\" @json-save=\"onJsonSave\" @has-error=\"onError\" />\n        </FormItem>\n\n        <FormItem>\n          <Button type=\"primary\" @click=\"handleSubmit('formValidate', false)\">保存</Button>\n          <Button @click=\"handleSubmit('formValidate', true)\" style=\"margin-left: 8px\">保存并继续</Button>\n          <Button @click=\"handleReset('formValidate')\" style=\"margin-left: 8px\">重置</Button>\n        </FormItem>\n      </Form>\n    </Drawer>\n  </div>\n</template>\n<script>\nimport vueJsonEditor from 'vue-json-editor'\nexport default {\n  name: 'serverAdd',\n  components: {\n    vueJsonEditor,\n  },\n  props: {\n    modalData: {\n      type: Object,\n      default: {}\n    },\n  },\n  data () {\n    return {\n      btnLoading: false,\n      ruleValidate: {\n        name: [{ required: true, message: '名称不能为空', trigger: 'blur' }],\n        cloud_name: [{ required: true, message: '名称不能为空', trigger: 'blur' }],\n        inner_ip: [{ required: true, message: '内网IP不能为空', trigger: 'blur' }],\n        ownership: [{ required: true, message: '主机归属不能为空', trigger: 'blur' }],\n      },\n      formValidate: {\n        cloud_name: 'qcloud',\n        ext_info:{\"cpu\": 4, \"zone\": \"ap-shanghai-5\", \"state\": \"运行中\", \"memory\": 8, \"region\": \"ap-shanghai\", \"vpc_id\": \"vpc-66666666666\", \"os_name\": \"CentOS 7.5 64位\", \"inner_ip\": \"\", \"outer_ip\": \"\", \"data_disk\": 100, \"charge_type\": \"包年包月\", \"instance_id\": \"\", \"system_disk\": 50, \"network_type\": \"vpc\", \"instance_type\": \"TS4.LARGE8\", \"security_group_ids\": [], \"instance_create_time\": \"2093-04-23T18:40:53Z\", \"instance_expired_time\": \"2093-07-23T18:40:53Z\"}\n      }\n    }\n  },\n  methods: {\n    handleCancel () {\n      this.$emit('drawer-close')\n    },\n    handleClose () {\n     this.$emit('drawer-close')\n    },\n    handleSubmit (name, next) {\n      this.$refs[name].validate((valid) => {\n        if (valid) {\n          this.btnLoading = true\n          setTimeout(() => {\n            this.$emit('save-data',this.formValidate, this.modalData.action, next)\n            this.btnLoading = false\n          }, 1000)\n        } else {\n          this.$Message.error('表单校验不通过!')\n        }\n      })\n    },\n    // 获取最新数据\n    onJsonChange(val) {\n      console.log('更改了-->', val)\n      this.jsonErrFlag = false\n    },\n    onJsonSave(val) {\n      console.log('保存了--->', val)\n    },\n    onError(val) {\n      console.log('报错了--->', val)\n      this.jsonErrFlag = true\n    },\n  },\n  watch: {\n  },\n  computed: {\n  },\n  //\n  mounted () {\n  }\n  //\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./server-add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./server-add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./server-add.vue?vue&type=template&id=11773bcc&\"\nimport script from \"./server-add.vue?vue&type=script&lang=js&\"\nexport * from \"./server-add.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('Card',{attrs:{\"dis-hover\":\"\",\"bordered\":false}},[_c('Alert',{attrs:{\"show-icon\":\"\"}},[_vm._v(\" 已选择 \"),_c('span',[_vm._v(_vm._s(_vm.selectList.length))]),_vm._v(\" 项 \"),_c('a',{staticStyle:{\"margin-left\":\"10px\"},on:{\"click\":_vm.clearSelectAll}},[_vm._v(\"清空已选\")])]),_c('div',[_c('Input',{staticStyle:{\"width\":\"300px\",\"margin\":\"2px\"},attrs:{\"search\":\"\",\"placeholder\":\"输入关键字全局搜索\"},on:{\"on-search\":_vm.handleSearch},model:{value:(_vm.searchParams.searchVal),callback:function ($$v) {_vm.$set(_vm.searchParams, \"searchVal\", $$v)},expression:\"searchParams.searchVal\"}}),_c('Button',{staticStyle:{\"margin\":\"3px\"},on:{\"click\":_vm.handleAdd}},[_vm._v(\"添加\")]),_c('span',{staticStyle:{\"margin-left\":\"20px\"}},[_vm._v(\"一键筛选：\")]),_c('ButtonGroup',[(_vm.searchParams.search_filter === 'is_normal')?_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handlefilter('is_normal')}}},[_vm._v(\"未过期\")]):_c('Button',{on:{\"click\":function($event){return _vm.handlefilter('is_normal')}}},[_vm._v(\"未过期\")]),(_vm.searchParams.search_filter === 'is_expired')?_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handlefilter('is_expired')}}},[_vm._v(\"已过期\")]):_c('Button',{on:{\"click\":function($event){return _vm.handlefilter('is_expired')}}},[_vm._v(\"已过期\")]),(_vm.searchParams.search_filter === 'is_showdown')?_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handlefilter('is_showdown')}}},[_vm._v(\"已关机\")]):_c('Button',{on:{\"click\":function($event){return _vm.handlefilter('is_showdown')}}},[_vm._v(\"已关机\")])],1),(_vm.selectList.length !== 0)?[_c('Button',{staticStyle:{\"margin-left\":\"5px\"},on:{\"click\":_vm.handleShowEditAddr}},[_vm._v(\"业务出口\")]),_c('Button',{staticStyle:{\"margin\":\"5px\"},attrs:{\"type\":\"error\"},on:{\"click\":_vm.handleDelete}},[_vm._v(\"一键删除\")]),_c('Button',{staticClass:\"search-btn\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.exportData(2)}}},[_c('Icon',{attrs:{\"type\":\"ios-download-outline\"}}),_vm._v(\"导出数据 \")],1)]:[_c('Button',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"type\":\"primary\",\"disabled\":\"\"},on:{\"click\":_vm.handleShowEditAddr}},[_vm._v(\"业务出口\")]),_c('Button',{staticStyle:{\"margin\":\"5px\"},attrs:{\"type\":\"error\",\"disabled\":\"\"}},[_vm._v(\"一键删除\")]),_c('Button',{staticClass:\"search-btn\",attrs:{\"type\":\"primary\",\"disabled\":\"\"}},[_c('Icon',{attrs:{\"type\":\"ios-download-outline\"}}),_vm._v(\"导出数据 \")],1)],_c('div',{staticStyle:{\"float\":\"right\"}},[_c('Button',{on:{\"click\":function($event){return _vm.handerSettingShow()}}},[_c('Icon',{attrs:{\"type\":\"ios-settings\"}}),_vm._v(\"字段配置 \")],1)],1)],2),(_vm.serverData)?_c('div',[_c('serverDetail',{attrs:{\"modal-data\":_vm.modalData,\"server-data\":_vm.serverData}})],1):_vm._e(),_c('div',{staticStyle:{\"margin-top\":\"5px\"}},[_c('Table',{ref:\"selection\",attrs:{\"stripe\":\"\",\"size\":\"small\",\"columns\":_vm.tableColumns2,\"data\":_vm.tableData},on:{\"on-sort-change\":_vm.handleSort,\"on-selection-change\":_vm.changeSelect}})],1),_c('div',{staticStyle:{\"margin\":\"10px\",\"overflow\":\"hidden\"}},[_c('div',{staticStyle:{\"float\":\"left\"}},[_c('Page',{attrs:{\"total\":_vm.pageTotal,\"current\":_vm.searchParams.page_number,\"page-size\":_vm.searchParams.page_size,\"page-size-opts\":[12, 35, 50, 100, 2000],\"show-sizer\":\"\",\"show-total\":\"\"},on:{\"on-change\":_vm.changePage,\"on-page-size-change\":_vm.handlePageSize}})],1)])],1),_c('Modal',{attrs:{\"width\":\"450\"},model:{value:(_vm.modalAddrEdit),callback:function ($$v) {_vm.modalAddrEdit=$$v},expression:\"modalAddrEdit\"}},[_c('p',{staticStyle:{\"color\":\"#f60\",\"text-align\":\"center\"},attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('Icon',{attrs:{\"type\":\"ios-information-circle\"}}),_c('span',[_vm._v(\"批量修改业务出口地址\")])],1),_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('p',[_vm._v(\"地址出错会严重影响业务！\")]),_c('p',[_vm._v(\"当真要修改吗！\")])]),_c('div',{staticStyle:{\"padding\":\"10px 0 0 0\"}},[_c('Input',{staticClass:\"search-input\",attrs:{\"clearable\":\"\",\"maxlength\":250,\"placeholder\":\"输入当前的业务出口地址，一般是是EIP、LB、域名\"},model:{value:(_vm.outer_biz_addr),callback:function ($$v) {_vm.outer_biz_addr=$$v},expression:\"outer_biz_addr\"}})],1),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{attrs:{\"type\":\"error\",\"size\":\"large\",\"long\":\"\",\"loading\":_vm.btnLoading},on:{\"click\":_vm.handleSaveAddr}},[_vm._v(\"提交\")])],1)]),_c('Drawer',{staticStyle:{\"background-color\":\"#f8f8f9\"},attrs:{\"title\":\"选择展示的字段\",\"width\":\"500\"},model:{value:(_vm.showDrawer),callback:function ($$v) {_vm.showDrawer=$$v},expression:\"showDrawer\"}},[_c('Transfer',{attrs:{\"filterable\":\"\",\"list-style\":_vm.listStyle,\"titles\":_vm.tranferTitles,\"data\":_vm.sourceField,\"target-keys\":_vm.targetField},on:{\"on-change\":_vm.handleSettingChange}})],1),_c('server-add',{attrs:{\"modal-data\":_vm.modalAdd},on:{\"drawer-close\":_vm.handleClose,\"save-data\":_vm.handleSaveData}}),_c('div',{staticStyle:{\"position\":\"relative\"}},[_c('Drawer',{attrs:{\"mask-closable\":false,\"width\":\"75%\"},model:{value:(_vm.showDrawerSecurity),callback:function ($$v) {_vm.showDrawerSecurity=$$v},expression:\"showDrawerSecurity\"}},[_c('security-group',{attrs:{\"instance_id\":_vm.instance_id,\"sg_ids\":_vm.sg_ids}})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- eslint-disable max-len -->\n<template>\n  <div>\n    <Card dis-hover :bordered=\"false\">\n      <Alert show-icon>\n        已选择\n        <span>{{ selectList.length }}</span> 项\n        <a style=\"margin-left: 10px\" @click=\"clearSelectAll\">清空已选</a>\n      </Alert>\n      <div>\n        <Input v-model=\"searchParams.searchVal\" style=\"width: 300px; margin: 2px\" search placeholder=\"输入关键字全局搜索\" @on-search=\"handleSearch\" />\n        <Button @click=\"handleAdd\" style=\"margin: 3px\">添加</Button>\n\n        <!-- <Button @click=\"handcustomView()\" style=\"margin: 3px\">列表属性</Button> -->\n        <span style=\"margin-left: 20px\">一键筛选：</span>\n        <ButtonGroup>\n          <Button v-if=\"searchParams.search_filter === 'is_normal'\" type=\"primary\" @click=\"handlefilter('is_normal')\">未过期</Button>\n          <Button v-else @click=\"handlefilter('is_normal')\">未过期</Button>\n          <Button v-if=\"searchParams.search_filter === 'is_expired'\" type=\"primary\" @click=\"handlefilter('is_expired')\">已过期</Button>\n          <Button v-else @click=\"handlefilter('is_expired')\">已过期</Button>\n          <Button v-if=\"searchParams.search_filter === 'is_showdown'\" type=\"primary\" @click=\"handlefilter('is_showdown')\">已关机</Button>\n          <Button v-else @click=\"handlefilter('is_showdown')\">已关机</Button>\n          <!-- <Button v-if=\"searchParams.search_filter === 'is_product'\" type=\"primary\" @click=\"handlefilter('is_product')\">未分配</Button>\n          <Button v-else @click=\"handlefilter('is_product')\">未分配</Button> -->\n        </ButtonGroup>\n        <template v-if=\"selectList.length !== 0\">\n          <Button style=\"margin-left: 5px\" @click=\"handleShowEditAddr\">业务出口</Button>\n          <Button type=\"error\" style=\"margin: 5px\" @click=\"handleDelete\">一键删除</Button>\n          <Button type=\"primary\" class=\"search-btn\" @click=\"exportData(2)\">\n            <Icon type=\"ios-download-outline\" />导出数据\n          </Button>\n        </template>\n        <template v-else>\n          <Button type=\"primary\" style=\"margin-left: 5px\" disabled @click=\"handleShowEditAddr\">业务出口</Button>\n          <Button type=\"error\" style=\"margin: 5px\" disabled>一键删除</Button>\n          <Button type=\"primary\" class=\"search-btn\" disabled >\n            <Icon type=\"ios-download-outline\" />导出数据\n          </Button>\n        </template>\n        <div style=\"float: right;\">\n          <Button @click=\"handerSettingShow()\">\n            <Icon type=\"ios-settings\" />字段配置\n          </Button>\n        </div>\n      </div>\n\n      <!-- 主机详情 -->\n      <div v-if=\"serverData\">\n        <serverDetail :modal-data=\"modalData\" :server-data=\"serverData\" />\n      </div>\n\n      <div style=\"margin-top: 5px\">\n        <Table ref=\"selection\" stripe size=\"small\" :columns=\"tableColumns2\" :data=\"tableData\"\n          @on-sort-change=\"handleSort\" @on-selection-change=\"changeSelect\" />\n      </div>\n      <!-- 分页 -->\n      <div style=\"margin: 10px; overflow: hidden\">\n        <div style=\"float: left\">\n          <Page :total=\"pageTotal\" :current=\"searchParams.page_number\" :page-size=\"searchParams.page_size\" :page-size-opts=\"[12, 35, 50, 100, 2000]\" show-sizer show-total @on-change=\"changePage\" @on-page-size-change=\"handlePageSize\" />\n        </div>\n      </div>\n    </Card>\n\n    <Modal v-model=\"modalAddrEdit\" width=\"450\" >\n      <p slot=\"header\" style=\"color:#f60;text-align:center\">\n        <Icon type=\"ios-information-circle\"></Icon>\n        <span>批量修改业务出口地址</span>\n      </p>\n      <div style=\"text-align:center\">\n        <p>地址出错会严重影响业务！</p>\n        <p>当真要修改吗！</p>\n      </div>\n\n      <div style=\"padding: 10px 0 0 0;\">\n        <Input class=\"search-input\" v-model=\"outer_biz_addr\" clearable :maxlength='250' placeholder=\"输入当前的业务出口地址，一般是是EIP、LB、域名\" />\n      </div>\n      <div slot=\"footer\">\n        <Button type=\"error\" size=\"large\" long :loading=\"btnLoading\" @click=\"handleSaveAddr\">提交</Button>\n      </div>\n    </Modal>\n\n    <Drawer v-model=\"showDrawer\" title=\"选择展示的字段\" style=\"background-color: #f8f8f9\" width=\"500\">\n      <Transfer filterable :list-style=\"listStyle\" :titles=\"tranferTitles\" :data=\"sourceField\" :target-keys=\"targetField\" @on-change=\"handleSettingChange\" />\n    </Drawer>\n\n    <server-add :modal-data=\"modalAdd\" @drawer-close=\"handleClose\" @save-data=\"handleSaveData\"/>\n\n    <div style=\"position: relative\">\n      <Drawer v-model=\"showDrawerSecurity\" :mask-closable=\"false\" width=\"75%\">\n        <security-group :instance_id=\"instance_id\" :sg_ids=\"sg_ids\" />\n      </Drawer>\n    </div>\n\n  </div>\n</template>\n<script>\nimport {\n  getServerList,\n  optServer,\n  optBatchServer,\n  getUserField,\n  optrationUserField,\n} from '@/api/cloud/server'\n\nimport serverDetail from '../components/server-detail.vue'\nimport serverAdd from '../components/server-add.vue'\nimport SecurityGroup from './security-group'\n\nexport default {\n  components: {\n    serverDetail,\n    serverAdd,\n    SecurityGroup\n  },\n  data() {\n    return {\n      showDrawer: false,\n      btnLoading: false,\n      sourceField: [\n        { label: 'selection', key: 'selection', disabled: true },\n        { label: 'ID', key: 'id', disabled: true },\n        { label: '云厂商', key: 'cloud_name', disabled: true },\n        { label: '实例ID', key: 'instance_id', disabled: true },\n        { label: '实例名称', key: 'name', disabled: true },\n        { label: '内网IP', key: 'inner_ip', disabled: true },\n        { label: '外网IP', key: 'outer_ip'},\n        { label: '运行状态', key: 'state', disabled: true },\n        // { label: '最后更新时间', key: 'update_time', disabled: true },\n        { label: '归属', key: 'ownership'},\n        // {label: '标签', key: 'tags'},\n        {label: '是否绑定主Agent', key: 'has_main_agent'},\n        {label: 'Agent绑定状态', key: 'agent_bind_status'},\n\n        //\n        { label: '地区', key: 'region' },\n        { label: '机房', key: 'zone' },\n        { label: '是否过期', key: 'is_expired' },\n        { label: 'Agent ID', key: 'agent_id' },\n        { label: 'CPU', key: 'cpu' },\n        { label: '内存', key: 'memory' },\n        { label: '系统OS', key: 'os_name' },\n        { label: '系统盘', key: 'system_disk' },\n        { label: '数据盘', key: 'data_disk' },\n        { label: '付费类型', key: 'charge_type' },\n        { label: '网络类型', key: 'network_type' },\n        { label: '实例类型', key: 'instance_type' },\n        { label: '实例创建时间', key: 'instance_create_time' },\n        { label: '线上使用', key: 'is_product' },\n      ],\n      targetField: [\n        'selection',\n        'id',\n        'cloud_name',\n        'instance_id',\n        'name',\n        'inner_ip',\n        'show_security_group',\n        // 'outer_ip',\n        'state',\n        'update_time',\n      ],\n      tranferTitles: ['所有字段', '收藏字段'],\n      listStyle: {\n        width: '200px',\n        height: '750px',\n      },\n      // 详情\n      modalData: {\n        show: false,\n        title: '主机详情',\n      },\n      // 添加\n      modalAdd: {\n        show: false,\n        action: 'post',\n        title: '添加主机',\n      },\n      // 业务出口\n      modalAddrEdit: false,\n      outer_biz_addr: null,\n      serverData: {},\n      selectOperation: 'more', // 选择xx\n      // 自定义表格\n      check_box_list: [],\n      // 默认存在的\n      tableColumnsChecked: [\n        'selection',\n        'name',\n        // 'id',\n        'cloud_name',\n        'instance_id',\n        'inner_ip',\n        // 'outer_ip',\n        'show_security_group',\n        'agent_id',\n        'state',\n        'update_time',\n        'agent_bind_status',\n        // 'has_main_agent',\n      ],\n\n      // 添加\n      modalMap: {\n        loading: false,\n        modalVisible: false,\n        modalTitle: '添加',\n      },\n\n      selectList: [],\n      searchVal: null, // 模糊查询\n      pageTotal: null, // 总数\n      method_data: null, // 请求方法\n      formValidate: {},\n      tableData: [],\n      tableColumns2: [],\n      ruleValidate: {},\n      showDrawerSecurity: false,\n      instance_id: null,\n      sg_ids: [],\n      searchParams: {\n        page_number: 1,\n        page_size: 12,\n        search_filter: 'is_normal',\n        order_by: \"\",      //排序字段\n        order: \"ascend\", //排序 ascend descend\n      },\n    }\n  },\n  mounted() {\n    this.getTableData() // 获取数据信息\n    this.tableColumns2 = this.getTable2Columns() // 获取出来默认的表格Columns\n    this.getUserFieldFavorites() //  从后端获取用户收藏\n  },\n  methods: {\n    // 自定义tableCloumns\n    getTable2Columns() {\n      const table2ColumnList = {\n        selection: {\n          type: 'selection',\n          title: 'selection',\n          key: 'selection',\n          width: 60,\n          align: 'center',\n        },\n        id: {\n          title: 'ID',\n          key: 'id',\n          align: 'center',\n          width: 100,\n          sortable: true,\n        },\n\n        cloud_name: {\n          title: '厂商',\n          key: 'cloud_name',\n          align: 'center',\n          width: 120,\n          sortable: true,\n          // eslint-disable-next-line consistent-return\n          render: (h, params) => {\n            const cloudName = params.row.cloud_name\n            // const { cloud_name } = params.row\n            if (cloudName === 'qcloud') {\n              return h('div', [\n                h(\n                  'Tag',\n                  {\n                    props: { color: 'geekblue' },\n                  },\n                  '腾讯云',\n                ),\n              ])\n            } else if (cloudName === 'aliyun') {\n              return h('div', [\n                h(\n                  'Tag',\n                  {\n                    props: { color: 'blue' },\n                  },\n                  '阿里云',\n                ),\n              ])\n            } else if (cloudName === 'cds') {\n              return h('div', [\n                h(\n                  'Tag',\n                  {\n                    props: { color: 'cyan' },\n                  },\n                  '首都云',\n                ),\n              ])\n            } else if (cloudName === 'vmware') {\n              return h('div', [\n                h(\n                  'Tag',\n                  {\n                    props: { color: 'purple' },\n                  },\n                  'VMware',\n                ),\n              ])\n            } else if (cloudName === 'volc') {\n              return h('div', [\n                h(\n                  'Tag',\n                  {\n                    props: { color: 'orange' },\n                  },\n                  '火山云',\n                ),\n              ])\n           } else if (cloudName === 'gcp') {\n              return h('div', [\n                h(\n                  'Tag',\n                  {\n                    props: { color: 'green' },\n                  },\n                  '谷歌云',\n                ),\n              ])\n            } else if (cloudName === 'aws') {\n              return h('div', [\n                h(\n                  'Tag',\n                  {\n                    props: { color: 'volcano' },\n                  },\n                  'AWS',\n                ),\n              ])\n            } else {\n              return h('div', [\n                h(\n                  'Tag',\n                  {\n                    props: { color: 'gold' },\n                  },\n                  cloudName,\n                ),\n              ])\n            }\n          },\n        },\n        region: {\n          title: '地区',\n          key: 'zone',\n          align: 'center',\n          width: 150,\n          sortable: true,\n        },\n        zone: {\n          title: '机房',\n          key: 'zone',\n          align: 'center',\n          width: 150,\n          sortable: true,\n        },\n        instance_id: {\n          title: '实例ID',\n          key: 'instance_id',\n          minWidth: 190,\n          align: 'center',\n          render: (h, params) => h(\n            'a',\n            {\n              on: {\n                click: () => {\n                  this.handleDetail(params.row)\n                },\n              },\n            },\n            params.row.instance_id,\n          ),\n        },\n        name: {\n          title: '实例名称',\n          minWidth: 220,\n          key: 'name',\n          align: 'left',\n          sortable: true,\n          tooltip: true,\n        },\n        inner_ip: {\n          title: '内网IP',\n          key: 'inner_ip',\n          align: 'center',\n          width: 150,\n          sortable: true,\n        },\n        outer_ip: {\n          title: '外网IP',\n          key: 'outer_ip',\n          align: 'center',\n          width: 150,\n          sortable: true,\n        },\n        show_security_group: {\n          title: '安全组',\n          key: 'instance_id',\n          align: 'center',\n          minWidth: 90,\n          render: (h, params) => {\n            return h('a', [\n              h('Icon', {\n                  props: {\n                      type: 'ios-eye'\n                  },\n                  nativeOn: {\n                      click: () => {\n                          this.handlerShowSecurity(params.row);\n                      }\n                  }\n              }),\n              h('a',{\n                on: {\n                  click: () => {\n                      this.handlerShowSecurity(params.row)\n                    }\n                  }\n                },'  ' + '查看'\n              )\n            ]);\n          }\n        },\n        cpu: {\n          title: 'CPU',\n          key: 'cpu',\n          align: 'center',\n          width: 80,\n          sortable: true,\n        },\n        memory: {\n          title: '内存',\n          key: 'memory',\n          align: 'center',\n          width: 80,\n          sortable: true,\n        },\n        system_disk: {\n          title: '系统盘(G)',\n          key: 'system_disk',\n          align: 'center',\n          width: 120,\n        },\n        data_disk: {\n          title: '数据盘(G)',\n          key: 'data_disk',\n          align: 'center',\n          width: 120,\n        },\n        state: {\n          title: '状态',\n          key: 'state',\n          align: 'center',\n          width: 130,\n          sortable: true,\n          render: (h, params) => {\n            const { row } = params\n            // eslint-disable-next-line no-nested-ternary\n            const color = row.state === '运行中' ? 'success' : row.state === '关机' ? 'error' : row.state === '创建中' ? 'primary' : 'error'\n            // eslint-disable-next-line no-nested-ternary\n            const text = row.state === '运行中' ? '运行中' : row.state === '关机' ? '已关机' : row.state === '创建中' ? '创建中' : row.state === '未同步' ? '未同步' :'Fail'\n            return h(\n              'Tag',\n              {\n                props: {\n                  type: 'dot',\n                  color,\n                },\n              },\n              text,\n            )\n          },\n        },\n        os_name: {\n          title: '系统',\n          key: 'os_name',\n          align: 'center',\n          width: 150,\n          sortable: true,\n        },\n        network_type: {\n          title: '网络类型',\n          key: 'network_type',\n          align: 'center',\n          width: 150,\n          sortable: true,\n          render: (h, params) => {\n            if (params.row.network_type === '经典网络') {\n              return h('div', [\n                h(\n                  'Tag',\n                  {\n                    props: { color: 'cyan' },\n                  },\n                  '经典网络',\n                ),\n              ])\n            } if (params.row.network_type === '专有网络') {\n              return h('div', [\n                h(\n                  'Tag',\n                  {\n                    props: { color: 'green' },\n                  },\n                  '专有网络',\n                ),\n              ])\n            }\n            return h('div', [\n              h(\n                'Tag',\n                {\n                  props: { color: 'error' },\n                },\n                '未知',\n              ),\n            ])\n          },\n        },\n        charge_type: {\n          title: '付费类型',\n          key: 'charge_type',\n          align: 'center',\n          width: 120,\n          sortable: true,\n          render: (h, params) => {\n            if (params.row.charge_type === '包年包月') {\n              return h('div', [\n                h(\n                  'Tag',\n                  {\n                    props: { color: 'blue' },\n                  },\n                  '包年包月',\n                ),\n              ])\n            } if (params.row.charge_type === '按量付费') {\n              return h('div', [\n                h(\n                  'Tag',\n                  {\n                    props: { color: 'orange' },\n                  },\n                  '按量付费',\n                ),\n              ])\n            }\n            return h('div', [\n              h(\n                'Tag',\n                {\n                  props: { color: 'error' },\n                },\n                '未知',\n              ),\n            ])\n          },\n        },\n\n        instance_type: {\n          title: '实例类型',\n          key: 'instance_type',\n          align: 'center',\n          width: 150,\n          sortable: true,\n        },\n        is_expired: {\n          title: '是否过期',\n          key: 'is_expired',\n          align: 'center',\n          width: 120,\n          sortable: true,\n          render: (h, params) => {\n            if (params.row.is_expired === true) {\n              return h('div', [\n                h(\n                  'Tag',\n                  {\n                    props: { color: 'error' },\n                  },\n                  '已过期',\n                ),\n              ])\n            } if (params.row.is_expired === false) {\n              return h('div', [\n                h(\n                  'Tag',\n                  {\n                    props: { color: 'success' },\n                  },\n                  '正常',\n                ),\n              ])\n            } return h('div', [\n              h(\n                'Tag',\n                {\n                  props: { color: 'error' },\n                },\n                '未知',\n              ),\n            ])\n          },\n        },\n        instance_create_time: {\n          title: '创建时间',\n          key: 'instance_create_time',\n          align: 'center',\n          width: 190,\n          sortable: true,\n        },\n        instance_expired_time: {\n          title: '过期时间',\n          key: 'instance_expired_time',\n          align: 'center',\n          width: 185,\n          sortable: true,\n        },\n        update_time: {\n          title: '数据更新时间',\n          key: 'update_time',\n          align: 'center',\n          fixed: 'right',\n          width: 180,\n          sortable: true,\n        },\n        detail: {\n          title: '备注',\n          key: 'detail',\n          align: 'center',\n          width: 150,\n          sortable: true,\n        },\n        agent_id: {\n          title: 'Agent ID',\n          key: 'agent_id',\n          align: 'center',\n          width: 150,\n          sortable: true,\n        },\n        ownership: {\n          title: '归属',\n          key: 'ownership',\n          align: 'center',\n          width: 150,\n          sortable: true,\n        },\n        agent_bind_status: {\n          title: 'Agent绑定状态',\n          key: 'agent_bind_status',\n          align: 'center',\n          width: 150,\n          sortable: true,\n          render: (h, params) => {\n            const status = params.row.agent_bind_status\n            if (status === 0) {\n              return h('div', [\n                h(\n                  'Tag',\n                  {\n                    props: { color: '#ed3f14' },\n                  },\n                  '暂未绑定',\n                ),\n              ])\n            } else if (status === 1) {\n              return h('div', [\n                h(\n                  'Tag',\n                  {\n                    props: { color: '#2d8cf0' },\n                  },\n                  '自动绑定',\n                ),\n              ])\n            } else if (status === 2) {\n              return h('div', [\n                h(\n                  'Tag',\n                  {\n                    props: { color: '#19be6b' },\n                  },\n                  '手动绑定',\n                ),\n              ])\n            }\n          },\n        },\n        // has_main_agent: {\n        //   title: '绑定主Agent',\n        //   key: 'has_main_agent',\n        //   align: 'center',\n        //   width: 150,\n        //   sortable: true,\n        //   render: (h, params) => {\n        //     const value = params.row.has_main_agent;\n\n        //     // 处理 true 值 (或数值 1)\n        //     if (value === true || value === 1) {\n        //       return h('div', [\n        //         h(\n        //           'Tag',\n        //           {\n        //             props: { color: 'success' },\n        //           },\n        //           '是'\n        //         )\n        //       ]);\n        //     }\n        //     // 处理 false、null、undefined、0 等值\n        //     else if (value === false || value === 0 || value === null || value === undefined) {\n        //       return h('div', [\n        //         h(\n        //           'Tag',\n        //           {\n        //             props: { color: 'error' },\n        //           },\n        //           '否'\n        //         )\n        //       ]);\n        //     }\n        //     // 处理其他意外值\n        //     else {\n        //       return h('div', [\n        //         h(\n        //           'Tag',\n        //           {\n        //             props: { color: 'warning' },\n        //           },\n        //           '未知'\n        //         )\n        //       ]);\n        //     }\n        //   }\n        // },\n        // tags: {\n        //   title: '标签',\n        //   key: 'tags',\n        //   align: 'center',\n        //   width: 150,\n        //   sortable: true,\n        //   render: (h, params) => {\n        //     return h('span', params.row.tags.join(','));\n        //   },\n        // },\n        is_product: {\n          title: '线上使用',\n          key: 'is_product',\n          align: 'center',\n          width: 120,\n          sortable: true,\n          render: (h, params) => {\n            if (params.row.is_product === 0) {\n              return h('div', [\n                h(\n                  'Tag',\n                  {\n                    props: { color: 'error' },\n                  },\n                  'False',\n                ),\n              ])\n            } if (params.row.is_product === 1) {\n              return h('div', [\n                h(\n                  'Tag',\n                  {\n                    props: { color: 'success' },\n                  },\n                  'True',\n                ),\n              ])\n            }\n            return h('div', [\n              h(\n                'Tag',\n                {\n                  props: { color: 'error' },\n                },\n                '未知',\n              ),\n            ])\n          },\n        },\n      }\n      const data = []\n\n      // 列表合并去重\n      this.targetField.forEach((ele) => {\n        if (this.tableColumnsChecked.indexOf(ele) === -1) {\n          this.tableColumnsChecked.push(ele)\n        }\n      })\n\n      this.tableColumnsChecked.forEach((col) => data.push(table2ColumnList[col]))\n\n      return data\n    },\n    // 切换TableColums\n    changeTableColumns() {\n      this.tableColumns2 = this.getTable2Columns()\n    },\n\n    // get biz list\n    async getTableData() {\n      const res = await getServerList(this.searchParams)\n      if (res.code === 0) {\n        this.tableData = res.data\n        this.pageTotal = res.count\n      } else {\n        this.$message.error(`${res.msg}`)\n      }\n    },\n\n    handleClose () {\n      this.modalData.show = false\n      this.modalAdd.show = false\n      this.modalAddrEdit = false\n      this.getTableData()\n    },\n    // // view\n    handleDetail(paramsRow) {\n      this.serverData = paramsRow\n      this.modalData.show = true\n    },\n    // 搜索\n    handleSearch() {\n      this.searchParams.page_number = 1\n      // this.searchParams.search_filter = ''\n      this.getTableData()\n    },\n    // 自定义展示\n    handcustomView() {\n      this.modalMap.modalVisible = true\n      this.modalMap.modalTitle = '列表显示属性配置'\n    },\n    handleAdd () {\n      this.modalAdd.show = true\n    },\n    //保存 手动录入数据\n    handleSaveData (saveData, action, next) {\n      optServer(saveData, action).then(res => {\n          if (res.code == 0) {\n            this.$Message.success('成功')\n            if (next) {\n              this.getTableData()\n            } else {\n              this.handleClose()\n            }\n          } else {\n            this.$Message.error(res.msg)\n          }\n        })\n    },\n    // 业务出口地址编辑\n    handleShowEditAddr () {\n      this.modalAddrEdit = true\n      this.outer_biz_addr = null\n    },\n    handleSaveAddr () {\n       if (!this.outer_biz_addr) {\n         this.$Message.warning('地址数据不能为空~')\n         return\n       }\n       this.$Modal.confirm({\n        title: '二次确认',\n        content: '确定修改已选中的数据?',\n        onOk: () => {\n          optBatchServer({ hosts: this.selectList, outer_biz_addr: this.outer_biz_addr }, 'patch').then(res => {\n            if (res.code === 0) {\n              this.$Message.success(res.msg)\n              this.handleClose()\n            } else {\n             this.$Notice.error({ title: `${res.msg}` })\n            }\n            this.clearSelectAll()\n          })\n        },\n        onCancel: () => {\n          this.$Message.info('回头是岸~')\n          this.clearSelectAll()\n        },\n      })\n    },\n\n    handlefilter(val) {\n      this.searchParams.search_filter = val\n      this.getTableData()\n    },\n    // 删除主机\n    handleDelete() {\n      this.$Modal.confirm({\n        title: '二次确认',\n        content: '确定删除已选中的数据? 只能删除与业务没有关联的主机',\n        onOk: () => {\n          optServer({ hosts: this.selectList }, 'delete').then(res => {\n            if (res.code === 0) {\n              this.$Message.success(res.msg)\n              this.handleClose()\n            } else {\n             this.$Notice.error({ title: `${res.msg}` })\n            }\n            this.clearSelectAll()\n          })\n        },\n        onCancel: () => {\n          this.$Message.info('回头是岸~')\n          this.clearSelectAll()\n        },\n      })\n    },\n    handerSelectOperation(val) {\n      try {\n        if (this.selectList.length === 0) {\n          this.$Message.error('同学, 请至少选择一条数据.')\n          // return;\n        } else {\n          this.$Message.info('你选择了（待开发）', val)\n        }\n      } finally {\n        // 恢复到默认绑定数据更多\n        this.selectOperation = 'more'\n      }\n    },\n    // 导出数据、支持分页、过滤、搜索、排序后导出\n    exportData(type) {\n      if (type === 1) {\n        this.$refs.selection.exportCsv({\n          filename: 'codo_cmdb_original_data',\n        })\n      } else if (type === 2) {\n        this.$refs.selection.exportCsv({\n          filename: 'codo_cmdb_sorting_and_filtering_data',\n          original: false,\n        })\n      }\n      this.clearSelectAll()\n    },\n    // 安全组\n    handlerShowSecurity (paramsRow) {\n      this.instance_id = paramsRow.instance_id\n      this.sg_ids = paramsRow.security_group_ids\n      if (!paramsRow.security_group_ids) {\n        this.$Notice.error({ title: \"当前实例下没有安全组或者不支持查询\" })\n        return\n      }\n      this.showDrawerSecurity = !this.showDrawerSecurity\n    },\n    handleSort (column, key, order) {\n      this.searchParams.order = column.order === \"asc\" ? 'ascend' : 'descend'\n      this.searchParams.order_by = column.key\n      this.getTableData()\n    },\n    // 切换分页\n    changePage(val) {\n      this.searchParams.page_number = val\n      // this.pageNum = val;\n      this.clearSelectAll()\n      this.getTableData()\n    },\n    // 每页条数\n    handlePageSize(val) {\n      this.searchParams.page_size = val\n      // this.pageSize = val;\n      this.clearSelectAll()\n      this.getTableData()\n    },\n    // table 选中的ID\n    changeSelect(e) {\n      this.selectList = e\n    },\n\n    // 清空table已选择\n    clearSelectAll() {\n      this.$refs.selection.selectAll(false)\n    },\n    // 重置\n    handleReset(name) {\n      this.$refs[name].resetFields()\n    },\n\n    handerSettingShow() {\n      this.showDrawer = !this.showDrawer\n    },\n    handleSettingChange(newTargetKeys, direction, moveKeys) {\n      console.log('最终提交上去的。', newTargetKeys) // 最终右侧\n      console.log('向', direction)\n      console.log('移动', moveKeys)\n      this.targetField = newTargetKeys\n      this.tableColumnsChecked = this.$options.data().tableColumnsChecked\n      this.handlerUpdateFavorites()\n      this.changeTableColumns()\n    },\n    async handlerUpdateFavorites() {\n      const newArr = [...new Set(this.targetField)]\n      // eslint-disable-next-line camelcase\n      const user_fields = newArr.join(',')\n      // console.log(user_fields);\n      const data = {\n        user_type: 'server',\n        // eslint-disable-next-line camelcase\n        user_fields,\n      }\n      const res = await optrationUserField(data)\n      if (res.code === 0) {\n        this.$Message.success(`${res.msg}`)\n      } else {\n        this.$Message.error(`${res.msg}`)\n      }\n    },\n    // 从后端获取用户收藏\n    getUserFieldFavorites() {\n      getUserField({ user_type: 'server' }).then((res) => {\n        if (res.code === 0 && res.data) {\n          res.data.split(',').forEach((ele) => {\n            this.targetField.push(ele)\n          })\n        }\n        // console.log(this.targetField)\n        this.changeTableColumns()\n      })\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./asset-server.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./asset-server.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./asset-server.vue?vue&type=template&id=6a8c3690&\"\nimport script from \"./asset-server.vue?vue&type=script&lang=js&\"\nexport * from \"./asset-server.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/* eslint-disable camelcase */\nimport request from '@/plugins/axios'\n\n// 主机\nexport const getServerList = (params) => request({\n  url: '/api/v2/cmdb/server/',\n  method: 'get',\n  params,\n})\n\nexport const optServer = (data, method) => request({\n  url: '/api/v2/cmdb/server/',\n  method,\n  data,\n})\n\nexport const optBatchServer = (data, method) => request({\n  url: '/api/v2/cmdb/server/batch/',\n  method,\n  data,\n})\n\n// 用戶收藏字段\nexport const getUserField = (params) => request({\n  url: '/api/v2/cmdb/user_field/',\n  method: 'get',\n  params,\n})\n\nexport const optrationUserField = (data) => request({\n  url: '/api/v2/cmdb/user_field/',\n  method: 'put',\n  data,\n})\n\nexport const optServerMainAgent = (data, method) => request({\n  url: '/api/v2/cmdb/server/main_agent/',\n  method,\n  data,\n})"],"sourceRoot":""}