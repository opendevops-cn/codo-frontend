{"version":3,"sources":["webpack://cmdb-[name]/./src/api/cloud/events.js","webpack://cmdb-[name]/./src/views/cmdb/events/qcloud-events.vue","webpack://cmdb-[name]/src/views/cmdb/events/qcloud-events.vue","webpack://cmdb-[name]/./src/views/cmdb/events/qcloud-events.vue?20cb","webpack://cmdb-[name]/./src/views/cmdb/events/qcloud-events.vue?54a6"],"names":["getAwsEventslist","params","request","url","method","getAliyunEventslist","getQcloudEventslist","render","_vm","this","_c","_self","staticStyle","attrs","on","handleSearch","model","value","initPara","searchVal","callback","$$v","$set","expression","_v","$event","handlefilter","filter_status","ref","columns","tableData","handleSort","pageTotal","page_number","page_size","handleChangePage","handlePageSize","staticRenderFns","components","data","order_by","order","title","key","align","width","sortable","tooltip","minWidth","h","click","handleDetail","index","row","event_instance_id","state","event_status","props","color","style","marginRight","mounted","handleGetData","methods","res","code","count","$Message","error","msg","$Modal","info","content","account_id","event_id","event_instance_name","event_type","event_start_time","event_end_time","event_detail","column","val","component"],"mappings":"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","file":"static/js/chunk-46be0546.f181e724.js","sourcesContent":["/* eslint-disable camelcase */\nimport request from '@/plugins/axios'\n// 获取AWS Events信息\nexport const getAwsEventslist = (params) => request({\n  url: '/api/v2/cmdb/events/aws/',\n  method: 'get',\n  params,\n})\n\n// 获取Aliyun Events信息\nexport const getAliyunEventslist = (params) => request({\n  url: '/api/v2/cmdb/events/aliyun/',\n  method: 'get',\n  params,\n})\n\n\n// 获取Aliyun Events信息\nexport const getQcloudEventslist = (params) => request({\n  url: '/api/v2/cmdb/events/qcloud/',\n  method: 'get',\n  params,\n})\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Card',[_c('Input',{staticStyle:{\"width\":\"350px\",\"margin\":\"2px\"},attrs:{\"maxlength\":50,\"search\":\"\",\"placeholder\":\"输入关键字模糊搜索\"},on:{\"on-search\":_vm.handleSearch},model:{value:(_vm.initPara.searchVal),callback:function ($$v) {_vm.$set(_vm.initPara, \"searchVal\", $$v)},expression:\"initPara.searchVal\"}}),_c('span',{staticStyle:{\"margin-left\":\"20px\"}},[_vm._v(\"一键筛选：\")]),_c('Checkbox',{staticStyle:{\"margin-left\":\"10px\"},on:{\"on-change\":function($event){return _vm.handlefilter()}},model:{value:(_vm.initPara.filter_status),callback:function ($$v) {_vm.$set(_vm.initPara, \"filter_status\", $$v)},expression:\"initPara.filter_status\"}},[_vm._v(\"待处理事件\")]),_c('Table',{ref:\"selection\",attrs:{\"size\":\"small\",\"columns\":_vm.columns,\"data\":_vm.tableData},on:{\"on-sort-change\":_vm.handleSort}}),_c('div',{staticStyle:{\"margin\":\"10px\",\"overflow\":\"hidden\"}},[_c('div',{staticStyle:{\"float\":\"left\"}},[_c('Page',{attrs:{\"total\":_vm.pageTotal,\"current\":_vm.initPara.page_number,\"page-size\":_vm.initPara.page_size,\"page-size-opts\":[12, 35, 50, 100],\"show-sizer\":\"\",\"show-total\":\"\"},on:{\"on-change\":_vm.handleChangePage,\"on-page-size-change\":_vm.handlePageSize}})],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- eslint-disable max-len -->\n<template>\n  <Card>\n    <Input v-model=\"initPara.searchVal\" :maxlength=\"50\" style=\"width: 350px; margin: 2px\" search placeholder=\"输入关键字模糊搜索\" @on-search=\"handleSearch\"/>\n    <span style=\"margin-left: 20px\">一键筛选：</span>\n    <Checkbox v-model=\"initPara.filter_status\" style=\"margin-left: 10px\"  @on-change=\"handlefilter()\">待处理事件</Checkbox>\n    <Table  ref=\"selection\" size=\"small\" :columns=\"columns\" :data=\"tableData\"  @on-sort-change=\"handleSort\" ></Table>\n    <!-- 分页 -->\n    <div style=\"margin: 10px; overflow: hidden\">\n      <div style=\"float: left\">\n        <Page :total=\"pageTotal\" :current=\"initPara.page_number\" :page-size=\"initPara.page_size\" :page-size-opts=\"[12, 35, 50, 100]\"\n         show-sizer show-total  @on-change=\"handleChangePage\" @on-page-size-change=\"handlePageSize\"/>\n      </div>\n    </div>\n  </Card>\n</template>\n\n<script>\nimport { getQcloudEventslist } from '@/api/cloud/events.js'\n\nexport default {\n    components: {},\n    data() {\n        return {\n            tableData: [],\n            pageTotal: 0,\n            initPara: {\n              page_number: 1,\n              page_size: 12,\n              searchVal: null,\n              order_by: \"event_end_time\",      //排序字段\n              order: \"descend\", //排序 ascend descend\n            },\n            columns: [\n                {\n                    title: 'ID',\n                    key: 'id',\n                    align: 'center',\n                    width: 80,\n                    sortable: true,\n                },\n                {\n                    title: '账号',\n                    width: 210,\n                    key: 'account_id',\n                    sortable: true\n                },\n                {\n                    title: '服务',\n                    key: 'event_service',\n                    width: 150,\n                    sortable: true\n                },\n                {\n                    title: '类型',\n                    width: 200,\n                    key: 'event_type',\n                    tooltip: true,\n                    align: 'left',\n                    sortable: true,\n                },\n                {\n                    title: '实例ID',\n                    key: 'event_instance_id',\n                    align: 'left',\n                    sortable: true,\n                    minWidth: 120,\n                    render: (h, params) => h(\n                        'a',\n                        {\n                            on: {\n                                click: () => {\n                                    this.handleDetail(params.index)\n                                },\n                            },\n                        },\n                        params.row.event_instance_id,\n                    ),\n                },\n                {\n                    title: '实例名称',\n                    key: 'event_instance_name',\n                    align: 'left',\n                    minWidth: 200,\n                    sortable: true\n                },\n                {\n                    title: '开始时间',\n                    width: 180,\n                    key: 'event_start_time',\n                    sortable: true\n                },\n                {\n                    title: '结束时间',\n                    key: 'event_end_time',\n                    width: 180,\n                    sortable: true\n                },\n                {\n                    title: '状态',\n                    key: 'event_status',\n                    width: 100,\n                    align: 'center',\n                    render: (h, params) => {\n                        const state = params.row.event_status\n                        if (state === '待授权') {\n                            return h('div', [\n                                h(\n                                    'tag',\n                                    {\n                                        props: {\n                                            color: 'error',\n                                        },\n                                        style: {\n                                            marginRight: '4px',\n                                        },\n                                    },\n                                    '待处理',\n                                ),\n                            ])\n                        } else {\n                            return h('div', [\n                                h(\n                                    'tag',\n                                    {\n                                        props: {\n                                            color: 'success'\n                                        },\n                                        style: {\n                                            marginRight: '4px',\n                                        },\n                                    },\n                                    state,\n                                ),\n                            ])\n                        }\n                    },\n                },\n            ],\n        }\n    },\n    mounted() {\n      this.handleGetData()\n    },\n    methods: {\n      async handleGetData() {\n          const res = await getQcloudEventslist(this.initPara)\n          if (res.code == 0) {\n              this.tableData = res.data\n              this.pageTotal = res.count\n          } else {\n              this.$Message.error(`${res.msg}`)\n          }\n      },\n      handleDetail(index) {\n          this.$Modal.info({\n              width: '950px',\n              title: '腾讯云事件信息',\n              content: `账号：${this.tableData[index].account_id}<br>\n          事件ID：${this.tableData[index].event_id}<br>\n          实例ID：${this.tableData[index].event_instance_id}<br>\n          实例名称：${this.tableData[index].event_instance_name}<br>\n          事件状态：${this.tableData[index].event_status}<br>\n          事件类型：${this.tableData[index].event_type}<br>\n          开始时间：${this.tableData[index].event_start_time}<br>\n          结束时间：${this.tableData[index].event_end_time}<br>\n          备注：${this.tableData[index].event_detail}<br>\n`,\n          })\n      },\n      handleSearch() {\n          this.initPara.page_number = 1\n          this.handleGetData();\n      },\n      handleSort (column, key, order) {\n        this.initPara.order = column.order === \"asc\" ? 'ascend' : 'descend'\n        this.initPara.order_by = column.key\n        this.handleGetData()\n      },\n      // 分页\n      handleChangePage(value) {\n          this.initPara.page_number = value;\n          this.handleGetData();\n      },\n      handlePageSize(value) {\n          this.initPara.page_number = 1\n          this.initPara.page_size = value;\n          this.handleGetData();\n      },\n      handlefilter (val) {\n          this.initPara.page_number = 1\n          this.handleGetData()\n      },\n    },\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./qcloud-events.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./qcloud-events.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./qcloud-events.vue?vue&type=template&id=5f99f494&\"\nimport script from \"./qcloud-events.vue?vue&type=script&lang=js&\"\nexport * from \"./qcloud-events.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}