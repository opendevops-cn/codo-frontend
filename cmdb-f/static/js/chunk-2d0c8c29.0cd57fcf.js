(window["webpackJsonp_cmdb"]=window["webpackJsonp_cmdb"]||[]).push([["chunk-2d0c8c29"],{"55f9":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("div",[t("Modal",{attrs:{title:"预览主机",width:"950","mask-closable":!1,"footer-hide":!0},model:{value:e.dialog.show,callback:function(t){e.$set(e.dialog,"show",t)},expression:"dialog.show"}},[t("alert",[e._v("一共查询到:"+e._s(e.totalCount)+"条数据")]),t("Input",{staticStyle:{width:"330px",margin:"0px"},attrs:{clearable:"",placeholder:"输入实例ID、主机名、内网IP搜索"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSearch.apply(null,arguments)}},model:{value:e.searchVal,callback:function(t){e.searchVal=t},expression:"searchVal"}}),t("Button",{staticStyle:{margin:"3px"},on:{click:e.handleSearch}},[e._v("搜索")]),t("div",{staticStyle:{"margin-top":"5px"}},[t("Table",{attrs:{stripe:"",border:"",size:"small",columns:e.columns,data:e.tableData}})],1),t("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[t("Page",{attrs:{total:e.totalCount,current:e.pageNum,"page-size":e.pageSize,"show-total":""},on:{"on-change":e.handlerChangePage}})],1)],1)],1)},s=[],i={name:"preViewHost",props:{dialog:{type:Object,default:{}}},data(){return{serverList:[],tableData:[],searchVal:null,pageTotal:0,pageSize:10,pageNum:1,columns:[{title:"实例ID",key:"instance_id",align:"center",sortable:!0},{title:"主机名称",key:"name",align:"center",minWidth:100,sortable:!0},{title:"内网IP",key:"inner_ip",align:"center",width:140,sortable:!0},{title:"外网IP",key:"outer_ip",align:"center",width:140,sortable:!0},{title:"运行状态",key:"state",align:"center",width:135,sortable:!0,render:(e,t)=>{const{row:a}=t,r="运行中"===a.state?"success":"关机"===a.state?"error":"创建中"===a.state?"primary":"error",s="运行中"===a.state?"运行中":"关机"===a.state?"已关机":"创建中"===a.state?"创建中":"Fail";return e("Tag",{props:{type:"dot",color:r}},s)}},{title:"Agent状态",key:"agent_status",align:"center",width:135,sortable:!0,render:(e,t)=>{let a=t.row.agent_status;return e("div","1"==a?[e("Tag",{props:{color:"green",type:"border"}},"在线")]:"2"==a?[e("Tag",{props:{color:"red"}},"离线")]:[e("Tag",{props:{color:"error"}},"未知")])}}]}},watch:{},computed:{totalCount(){return this.serverList.length}},methods:{handlerChangePage(e){this.pageNum=e,this.setCurrentPageData()},setCurrentPageData(){let e=(this.pageNum-1)*this.pageSize,t=this.pageNum*this.pageSize;this.tableData=this.serverList.slice(e,t)},checkExecList(e){return e.instance_id.indexOf(this.searchVal)>=0||e.name.indexOf(this.searchVal)>=0||e.inner_ip.indexOf(this.searchVal)>=0},handleSearch(){this.searchVal?(this.pageNum=1,this.tableData=this.serverList.filter(this.checkExecList)):(this.pageNum=1,this.setCurrentPageData())}}},l=i,n=a("2877"),o=Object(n["a"])(l,r,s,!1,null,null,null);t["default"]=o.exports}}]);
//# sourceMappingURL=chunk-2d0c8c29.0cd57fcf.js.map