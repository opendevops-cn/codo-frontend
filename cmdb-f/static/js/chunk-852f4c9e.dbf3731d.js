(window["webpackJsonp_cmdb"]=window["webpackJsonp_cmdb"]||[]).push([["chunk-852f4c9e","chunk-2d225f8a"],{"06f7":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("Drawer",{attrs:{title:e.modalData.title,width:"70%",draggable:""},on:{"on-close":e.handleCancel},model:{value:e.modalData.show,callback:function(t){e.$set(e.modalData,"show",t)},expression:"modalData.show"}},[t("div",{staticClass:"search-con search-con-top"},[t("Input",{staticClass:"search-input",attrs:{search:"",placeholder:"输入关键字全局搜索"},on:{"on-search":e.handleSearch},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSearch.apply(null,arguments)}},model:{value:e.initPara.searchVal,callback:function(t){e.$set(e.initPara,"searchVal",t)},expression:"initPara.searchVal"}})],1),t("Table",{ref:"selection",attrs:{size:"small",columns:e.columns,data:e.tableData},on:{"on-selection-change":e.handleSelect}}),t("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[t("div",{staticStyle:{float:"left"}},[t("Page",{attrs:{total:e.i.pageTotal,current:e.initPara.page_number,"page-size":e.initPara.page_size,"show-total":"","show-sizer":"","page-size-opts":[15,50,100]},on:{"on-change":e.handlerChangePage,"on-page-size-change":e.handlePageSize}})],1)])],1)},n=[],l=(a("14d9"),a("e757")),o={components:{},name:"regionAssetPreview",props:{modalData:{type:Object,default:{}}},data(){return{initPara:{page_number:1,page_size:15,searchVal:null},i:{pageTotal:0,tableLoading:!1},selectList:[],tableData:[],columns:[{type:"selection",key:"selection",width:60,align:"center"},{title:"ID",key:"id",minWidth:100,align:"center"},{title:"资源名",key:"name",minWidth:150,align:"center"},{title:"云厂商",key:"cloud_name",minWidth:150,align:"center"},{title:"地域",key:"region",minWidth:150,align:"center"},{title:"内网IP",key:"inner_ip",minWidth:120,maxWidth:170,align:"center"},{title:"状态",key:"state",minWidth:110,maxWidth:140,align:"center"}]}},methods:{handleCancel(){this.$emit("close")},async handleGetData(){this.initPara=Object.assign(this.initPara,{region_id:this.modalData.region_id});const e=await Object(l["previewCloudRegion"])(this.initPara);0==e.code?(this.tableData=e.data,this.i.pageTotal=e.count):this.$Notice.error({title:""+e.msg})},handleDel(){this.$emit("del",{id_list:this.selectList,region_id:this.modalData.region_id})},handleSelect(e){let t=[];e.forEach(e=>{t.push(e.id)}),this.selectList=t},handleSearch(){this.initPara.page_number=1,this.handleGetData()},handlerChangePage(e){this.initPara.page_number=e,this.handleGetData()},handlePageSize(e){this.initPara.page_number=1,this.initPara.page_size=e,this.handleGetData()}},watch:{},computed:{},mounted(){}},r=o,s=(a("9696"),a("2877")),c=Object(s["a"])(r,i,n,!1,null,"16f6d2f2",null);t["default"]=c.exports},"3aae":function(e,t,a){},9696:function(e,t,a){"use strict";a("3aae")},e757:function(e,t,a){"use strict";a.r(t),a.d(t,"previewCloudRegion",(function(){return n})),a.d(t,"optCloudRegionPro",(function(){return l})),a.d(t,"getCloudRegion",(function(){return o})),a.d(t,"optCloudRegion",(function(){return r}));var i=a("be3b");const n=e=>Object(i["default"])({url:"/api/v2/cmdb/cloud_region/preview/",method:"get",params:e}),l=(e,t)=>Object(i["default"])({url:"/api/v2/cmdb/cloud_region/pro/",data:e,method:t}),o=e=>Object(i["default"])({url:"/api/v2/cmdb/cloud_region/",method:"get",params:e}),r=(e,t)=>Object(i["default"])({url:"/api/v2/cmdb/cloud_region/",data:e,method:t})}}]);
//# sourceMappingURL=chunk-852f4c9e.dbf3731d.js.map