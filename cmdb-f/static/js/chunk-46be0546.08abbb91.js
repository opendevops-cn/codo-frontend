(window["webpackJsonp_cmdb"]=window["webpackJsonp_cmdb"]||[]).push([["chunk-46be0546","chunk-2d0d5c03"],{"702f":function(t,e,a){"use strict";a.r(e),a.d(e,"getAwsEventslist",(function(){return i})),a.d(e,"getAliyunEventslist",(function(){return s})),a.d(e,"getQcloudEventslist",(function(){return l}));var n=a("be3b");const i=t=>Object(n["default"])({url:"/api/v2/cmdb/events/aws/",method:"get",params:t}),s=t=>Object(n["default"])({url:"/api/v2/cmdb/events/aliyun/",method:"get",params:t}),l=t=>Object(n["default"])({url:"/api/v2/cmdb/events/qcloud/",method:"get",params:t})},fca4:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("Card",[e("Input",{staticStyle:{width:"350px",margin:"2px"},attrs:{maxlength:50,search:"",placeholder:"输入关键字模糊搜索"},on:{"on-search":t.handleSearch},model:{value:t.initPara.searchVal,callback:function(e){t.$set(t.initPara,"searchVal",e)},expression:"initPara.searchVal"}}),e("span",{staticStyle:{"margin-left":"20px"}},[t._v("一键筛选：")]),e("Checkbox",{staticStyle:{"margin-left":"10px"},on:{"on-change":function(e){return t.handlefilter()}},model:{value:t.initPara.filter_status,callback:function(e){t.$set(t.initPara,"filter_status",e)},expression:"initPara.filter_status"}},[t._v("待处理事件")]),e("Table",{ref:"selection",attrs:{size:"small",columns:t.columns,data:t.tableData},on:{"on-sort-change":t.handleSort}}),e("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[e("div",{staticStyle:{float:"left"}},[e("Page",{attrs:{total:t.pageTotal,current:t.initPara.page_number,"page-size":t.initPara.page_size,"page-size-opts":[12,35,50,100],"show-sizer":"","show-total":""},on:{"on-change":t.handleChangePage,"on-page-size-change":t.handlePageSize}})],1)])],1)},i=[],s=a("702f"),l={components:{},data(){return{tableData:[],pageTotal:0,initPara:{page_number:1,page_size:12,searchVal:null,order_by:"event_end_time",order:"descend"},columns:[{title:"ID",key:"id",align:"center",width:80,sortable:!0},{title:"账号",width:210,key:"account_id",sortable:!0},{title:"服务",key:"event_service",width:150,sortable:!0},{title:"类型",width:200,key:"event_type",tooltip:!0,align:"left",sortable:!0},{title:"实例ID",key:"event_instance_id",align:"left",sortable:!0,minWidth:120,render:(t,e)=>t("a",{on:{click:()=>{this.handleDetail(e.index)}}},e.row.event_instance_id)},{title:"实例名称",key:"event_instance_name",align:"left",minWidth:200,sortable:!0},{title:"开始时间",width:180,key:"event_start_time",sortable:!0},{title:"结束时间",key:"event_end_time",width:180,sortable:!0},{title:"状态",key:"event_status",width:100,align:"center",render:(t,e)=>{const a=e.row.event_status;return t("div","待授权"===a?[t("tag",{props:{color:"error"},style:{marginRight:"4px"}},"待处理")]:[t("tag",{props:{color:"success"},style:{marginRight:"4px"}},a)])}}]}},mounted(){this.handleGetData()},methods:{async handleGetData(){const t=await Object(s["getQcloudEventslist"])(this.initPara);0==t.code?(this.tableData=t.data,this.pageTotal=t.count):this.$Message.error(""+t.msg)},handleDetail(t){this.$Modal.info({width:"950px",title:"腾讯云事件信息",content:`账号：${this.tableData[t].account_id}<br>\n          事件ID：${this.tableData[t].event_id}<br>\n          实例ID：${this.tableData[t].event_instance_id}<br>\n          实例名称：${this.tableData[t].event_instance_name}<br>\n          事件状态：${this.tableData[t].event_status}<br>\n          事件类型：${this.tableData[t].event_type}<br>\n          开始时间：${this.tableData[t].event_start_time}<br>\n          结束时间：${this.tableData[t].event_end_time}<br>\n          备注：${this.tableData[t].event_detail}<br>\n`})},handleSearch(){this.initPara.page_number=1,this.handleGetData()},handleSort(t,e,a){this.initPara.order="asc"===t.order?"ascend":"descend",this.initPara.order_by=t.key,this.handleGetData()},handleChangePage(t){this.initPara.page_number=t,this.handleGetData()},handlePageSize(t){this.initPara.page_number=1,this.initPara.page_size=t,this.handleGetData()},handlefilter(t){this.initPara.page_number=1,this.handleGetData()}}},r=l,o=a("2877"),d=Object(o["a"])(r,n,i,!1,null,null,null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-46be0546.08abbb91.js.map