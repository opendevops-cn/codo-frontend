(window["webpackJsonp_cmdb"]=window["webpackJsonp_cmdb"]||[]).push([["chunk-681c2afa","chunk-2d0aba0d"],{"15a4":function(a,e,t){"use strict";t.r(e),t.d(e,"getDomain",(function(){return i})),t.d(e,"optDomain",(function(){return r})),t.d(e,"syncDomain",(function(){return o})),t.d(e,"getDomainRecords",(function(){return d})),t.d(e,"optDomainRecords",(function(){return s})),t.d(e,"recordsChangeRemark",(function(){return l})),t.d(e,"getDomainLog",(function(){return c}));var n=t("be3b");const i=a=>Object(n["default"])({url:"/api/v2/cmdb/dns/domain/",method:"get",params:a}),r=(a,e)=>Object(n["default"])({url:"/api/v2/cmdb/dns/domain/",method:e,data:a}),o=()=>Object(n["default"])({url:"/api/v2/cmdb/dns/sync/",method:"post"}),d=a=>Object(n["default"])({url:"/api/v2/cmdb/dns/record/",method:"get",params:a}),s=(a,e)=>Object(n["default"])({url:"/api/v2/cmdb/dns/record/",method:e,data:a}),l=a=>Object(n["default"])({url:"/api/v2/cmdb/dns/remark/",method:"post",data:a}),c=a=>Object(n["default"])({url:"/api/v2/cmdb/dns/logs/",method:"get",params:a})},4199:function(a,e,t){"use strict";t.r(e);var n=function(){var a=this,e=a._self._c;return e("div",[e("Drawer",{staticStyle:{"background-color":"#f8f8f9"},attrs:{closable:!1,width:"950"},model:{value:a.modalData.show,callback:function(e){a.$set(a.modalData,"show",e)},expression:"modalData.show"}},[e("div",{staticClass:"search-con search-con-top"},[e("Input",{staticClass:"search-input",attrs:{search:"",maxlength:250,placeholder:"输入关键字搜索"},on:{"on-search":a.handleSearch},model:{value:a.initPara.searchVal,callback:function(e){a.$set(a.initPara,"searchVal",e)},expression:"initPara.searchVal"}})],1),e("Table",{ref:"selection",attrs:{size:"small",columns:a.tableColumns,data:a.tableData,loading:a.i.tableLoading},on:{"on-sort-change":a.handleSort}}),e("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[e("div",{staticStyle:{float:"left"}},[e("Page",{attrs:{total:a.i.pageTotal,current:a.initPara.page_number,"page-size":a.initPara.page_size,"show-total":"","show-sizer":"","page-size-opts":[15,50,100,1e3]},on:{"on-change":a.handlerChangePage,"on-page-size-change":a.handlePageSize}})],1)])],1)],1)},i=[],r=t("15a4"),o={name:"optLog",props:{modalData:{type:Object,default:{}}},data(){return{tableData:[],tableColumns:[{title:"操作时间",width:150,key:"update_time",sortable:!0},{title:"用户",key:"username",align:"center",sortable:!0,width:100},{title:"行为",key:"action",align:"center",width:100},{title:"记录",key:"record",sortable:!0,minWidth:150}],i:{pageTotal:0,tableLoading:!0},initPara:{page_number:1,page_size:15,searchVal:null,domain_name:"",order_by:"update_time",order:"descend"}}},methods:{handleCancel(){this.$emit("drawer-close")},handleGetData(){Object(r["getDomainLog"])(this.initPara).then(a=>{0==a.code?(this.tableData=a.data,this.i.pageTotal=a.count):(this.i.pageTotal=0,this.tableData=[]),this.i.tableLoading=!1})},handleSort(a,e,t){this.initPara.order="asc"===a.order?"ascend":"descend",this.initPara.order_by=a.key,this.handleGetData()},handleSearch(){this.initPara.page_number=1,this.handleGetData()},handlerChangePage(a){this.initPara.page_number=a,this.handleGetData()},handlePageSize(a){this.initPara.page_number=1,this.initPara.page_size=a,this.handleGetData()}},watch:{},computed:{},mounted(){}},d=o,s=t("2877"),l=Object(s["a"])(d,n,i,!1,null,null,null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-681c2afa.930a6aa7.js.map