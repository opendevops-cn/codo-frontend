{"version":3,"sources":["webpack://cmdb-[name]/./src/views/cmdb/resource/templateManagement/templateManagement.vue?c982","webpack://cmdb-[name]/./src/views/cmdb/resource/templateManagement/templateManagement.vue","webpack://cmdb-[name]/src/views/cmdb/resource/templateManagement/templateManagement.vue","webpack://cmdb-[name]/./src/views/cmdb/resource/templateManagement/templateManagement.vue?e51d","webpack://cmdb-[name]/./src/views/cmdb/resource/templateManagement/templateManagement.vue?3b45"],"names":["render","_vm","this","_c","_self","staticClass","attrs","model","value","searchParams","searchVal","callback","$$v","$set","expression","on","getTableData","_v","handleAddddTemplate","ref","tableLoading","columns","tableData","staticStyle","pageTotal","page_number","page_size","changePage","handlePageSize","cloneModalLoading","colneModalOk","cloneModalCancel","showCloneModal","cloneFormValues","required","message","trigger","name","deleteModalLoading","deleteModalOk","deleteModalCancel","showDeleteModal","showModal","buyRow","closeAddModal","addSuccessCallback","showDrawer","curRow","closeDrawer","editSuccessCallback","staticRenderFns","components","AddTemplateModal","EditTemplate","data","title","key","width","minWidth","h","params","style","color","cursor","click","row","props","type","size","order_by","order","mounted","methods","id","res","deleteOrderTemplate","id_list","Error","$Message","success","msg","err","error","$nextTick","Promise","resolve","reject","$refs","form","validate","v","account_id","vendor","cloud_region_id","res_type","region","zone","image_id","cpu","memory","instance_type","system_disk_size","system_disk_type","security_groups","tags","vpc_id","vpc_name","subnet_id","subnet_name","max_flow_out","instance_charge_type","internet_charge_type","data_disk","description","createOrderTemplate","count","getOrderTemplateList","handleShowModal","show","val","component"],"mappings":"mJAAA,W,2CCAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,MAAM,CAACE,YAAY,4BAA4B,CAACF,EAAG,QAAQ,CAACE,YAAY,kCAAkCC,MAAM,CAAC,YAAc,WAAWC,MAAM,CAACC,MAAOP,EAAIQ,aAAaC,UAAWC,SAAS,SAAUC,GAAMX,EAAIY,KAAKZ,EAAIQ,aAAc,YAAaG,IAAME,WAAW,4BAA4BX,EAAG,SAAS,CAACE,YAAY,mCAAmCU,GAAG,CAAC,MAAQd,EAAIe,eAAe,CAACf,EAAIgB,GAAG,SAAS,GAAGd,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,WAAWS,GAAG,CAAC,MAAQd,EAAIiB,sBAAsB,CAACjB,EAAIgB,GAAG,WAAW,GAAGd,EAAG,QAAQ,CAACgB,IAAI,YAAYb,MAAM,CAAC,OAAS,GAAG,KAAO,QAAQ,QAAUL,EAAImB,aAAa,QAAUnB,EAAIoB,QAAQ,KAAOpB,EAAIqB,aAAanB,EAAG,MAAM,CAACoB,YAAY,CAAC,QAAU,OAAO,kBAAkB,WAAW,aAAa,OAAO,SAAW,WAAW,CAACpB,EAAG,OAAO,CAACG,MAAM,CAAC,MAAQL,EAAIuB,UAAU,QAAUvB,EAAIQ,aAAagB,YAAY,YAAYxB,EAAIQ,aAAaiB,UAAU,iBAAiB,CAAC,GAAI,GAAI,GAAI,KAAK,aAAa,GAAG,aAAa,IAAIX,GAAG,CAAC,YAAYd,EAAI0B,WAAW,sBAAsB1B,EAAI2B,mBAAmB,GAAGzB,EAAG,QAAQ,CAACG,MAAM,CAAC,MAAQ,OAAO,QAAUL,EAAI4B,kBAAkB,MAAQ,IAAId,GAAG,CAAC,QAAQd,EAAI6B,aAAa,YAAY7B,EAAI8B,kBAAkBxB,MAAM,CAACC,MAAOP,EAAI+B,eAAgBrB,SAAS,SAAUC,GAAMX,EAAI+B,eAAepB,GAAKE,WAAW,mBAAmB,CAACX,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,OAAO,CAACgB,IAAI,OAAOb,MAAM,CAAC,MAAQL,EAAIgC,kBAAkB,CAAC9B,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,OAAO,MAAQ,OAAO,cAAc,IAAI,MAAQ,CAAE4B,UAAU,EAAMC,QAAS,SAAUC,QAAS,YAAa,CAACjC,EAAG,QAAQ,CAACI,MAAM,CAACC,MAAOP,EAAIgC,gBAAgBI,KAAM1B,SAAS,SAAUC,GAAMX,EAAIY,KAAKZ,EAAIgC,gBAAiB,OAAQrB,IAAME,WAAW,2BAA2B,IAAI,IAAI,KAAKX,EAAG,QAAQ,CAACG,MAAM,CAAC,MAAQ,OAAO,QAAUL,EAAIqC,oBAAoBvB,GAAG,CAAC,QAAQd,EAAIsC,cAAc,YAAYtC,EAAIuC,mBAAmBjC,MAAM,CAACC,MAAOP,EAAIwC,gBAAiB9B,SAAS,SAAUC,GAAMX,EAAIwC,gBAAgB7B,GAAKE,WAAW,oBAAoB,CAACb,EAAIgB,GAAG,gBAAgBd,EAAG,mBAAmB,CAACG,MAAM,CAAC,KAAOL,EAAIyC,UAAU,OAASzC,EAAI0C,QAAQ5B,GAAG,CAAC,cAAgBd,EAAI2C,cAAc,mBAAqB3C,EAAI4C,sBAAsB1C,EAAG,eAAe,CAACG,MAAM,CAAC,KAAOL,EAAI6C,WAAW,IAAM7C,EAAI8C,QAAQhC,GAAG,CAAC,YAAcd,EAAI+C,YAAY,oBAAsB/C,EAAIgD,wBAAwB,IAE70EC,EAAkB,G,gDC6DP,GACfC,WAAA,CACAC,8BACAC,2BAEAC,OACA,OACAX,OAAA,KACAnB,UAAA,EACAsB,YAAA,EACAL,iBAAA,EACAH,oBAAA,EACAS,OAAA,GACAL,WAAA,EACAV,gBAAA,EACAH,mBAAA,EACAT,cAAA,EACAa,gBAAA,CACAI,KAAA,IAEAhB,QAAA,EACAkC,MAAA,OACAC,IAAA,KACAC,MAAA,KACA,CACAF,MAAA,OACAC,IAAA,OACAE,SAAA,IACA1D,QAAA2D,EAAAC,IAAAD,EAAA,OACAA,EAAA,OACAE,MAAA,CACAC,MAAA,UACAC,OAAA,WAEAhD,GAAA,CACAiD,WACA,KAAAlB,YAAA,EACA,KAAAC,OAAAa,EAAAK,OAGAL,EAAAK,IAAA5B,SAEA,CACAkB,MAAA,OACAC,IAAA,cACAC,MAAA,KACA,CACAF,MAAA,OACAC,IAAA,iBACAC,MAAA,KACA,CACAF,MAAA,MACAC,IAAA,eACAC,MAAA,KACA,CACAF,MAAA,OACAC,IAAA,cACAC,MAAA,KACA,CACAF,MAAA,WACAC,IAAA,YACAC,MAAA,KACA,CACAF,MAAA,KACAvD,QAAA2D,EAAAC,IAAAD,EAAA,OACAA,EAAA,UACAO,MAAA,CACAC,KAAA,OACAC,KAAA,SAEAP,MAAA,CACAC,MAAA,WAEA/C,GAAA,CACAiD,WACA,KAAAtB,WAAA,EACA,KAAAC,OAAAiB,EAAAK,OAGA,MACAN,EAAA,UACAO,MAAA,CACAC,KAAA,OACAC,KAAA,SAEAP,MAAA,CACAC,MAAA,WAEA/C,GAAA,CACAiD,WACA,KAAA/B,gBAAAI,KAAAuB,EAAAK,IAAA5B,KAAA,MACA,KAAAU,OAAAa,EAAAK,IACA,KAAAjC,gBAAA,KAGA,MACA2B,EAAA,UACAO,MAAA,CACAC,KAAA,OACAC,KAAA,SAEAP,MAAA,CACAC,MAAA,WAEA/C,GAAA,CACAiD,WACA,KAAAjB,OAAAa,EAAAK,IACA,KAAAxB,iBAAA,KAGA,QAEAgB,MAAA,MAEAnC,UAAA,GACAb,aAAA,CACAgB,YAAA,EACAC,UAAA,GACA2C,SAAA,KACAC,MAAA,UACA5D,UAAA,MAIA6D,UACA,KAAAvD,gBAEAwD,QAAA,CACAtD,sBACA,KAAAyB,OAAA,KACA,KAAAD,WAAA,GAEAO,sBACA,KAAAH,YAAA,EACA,KAAA9B,gBAEAgC,cACA,KAAAF,YAAA,GAEA,sBACA,IACA,SACA2B,GACA,KAAA1B,OACA2B,QAAAC,iCAAA,CACAC,QAAA,CAAAH,KAEA,IAAAC,EACA,UAAAG,MAAA,YAEA,KAAApC,iBAAA,EACA,KAAAqC,SAAAC,QAAAL,EAAAM,KACA,KAAAhE,eACA,MAAAiE,GACA,KAAAH,SAAAI,MAAAD,EAAA9C,SACA,KAAAG,oBAAA,EACA,QACA,KAAA6C,UAAA,KACA,KAAA7C,oBAAA,MAIAE,oBACA,KAAAC,iBAAA,GAEAI,qBACA,KAAAH,WAAA,EACA,KAAA1B,gBAEA4B,gBACA,KAAAF,WAAA,GAEAX,mBACA,KAAAC,gBAAA,GAEA,qBACA,UACA,IAAAoD,QAAA,CAAAC,EAAAC,KACA,KAAAC,MAAAC,KAAAC,SAAAC,IACAA,GACAJ,EAAA,IAAAT,MAAA,eAEAQ,QAGA,iBACAM,EAAA,OAAAC,EAAA,gBACAC,EAAA,SAAAC,EAAA,OAAAC,EAAA,KAAAC,EAAA,SACAC,EAAA,IAAAC,EAAA,OAAAC,EAAA,cAAAC,EAAA,iBAAAC,EAAA,iBACAC,EAAA,gBAAAC,EAAA,KAAAC,EAAA,OACAC,EAAA,SAAAC,EAAA,UAAAC,EAAA,YAAAC,EAAA,aAAAC,EAAA,qBACAC,EAAA,qBAAAC,EAAA,UACAC,EAAA,YAAAC,GACA,KAAAlE,OACA2B,QAAAwC,iCAAA,CACA7E,KAAA,KAAAJ,gBAAAI,KACAsD,aACAC,SACAC,kBACAC,WACAC,SACAC,OACAC,WACAC,MACAC,SACAC,gBACAC,mBACAC,mBACAC,kBACAC,OACAC,SACAC,WACAC,YACAC,cACAC,eACAC,uBACAC,uBACAC,YACAC,gBAEA,IAAAvC,EACA,UAAAG,MAAA,YAEA,KAAA7C,gBAAA,EACA,KAAA8C,SAAAC,QAAAL,EAAAM,KACA,KAAAhE,eACA,MAAAiE,GACA,KAAAH,SAAAI,MAAAD,EAAA9C,SACA,KAAAN,mBAAA,EACA,QACA,KAAAsD,UAAA,KACA,KAAAtD,mBAAA,MAIA,qBACA,IACA,KAAAT,cAAA,EACA,WAAAkC,EAAA,MAAA6D,SAAAC,kCAAA,KAAA3G,cACA,KAAAe,UAAA2F,EACA,KAAA7F,UAAAgC,EACA,MAAA2B,GACA,KAAAH,SAAAI,MAAAD,EAAA9C,SACA,QACA,KAAAf,cAAA,IAGAiG,gBAAAC,GACA,KAAA5E,UAAA4E,GAGA1F,eAAA2F,GACA,KAAA9G,aAAAiB,UAAA6F,EACA,KAAAvG,gBAGAW,WAAA4F,GACA,KAAA9G,aAAAgB,YAAA8F,EACA,KAAAvG,kBCjUyY,I,wBCQrYwG,EAAY,eACd,EACAxH,EACAkD,GACA,EACA,KACA,WACA,MAIa,aAAAsE,E","file":"static/js/chunk-78539a29.ffe30742.js","sourcesContent":["export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./templateManagement.vue?vue&type=style&index=0&id=7c8f1cfe&prod&scoped=true&lang=less&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"template__header\"},[_c('div',{staticClass:\"template__header__search\"},[_c('Input',{staticClass:\"template__header__search__input\",attrs:{\"placeholder\":\"请输入搜索内容\"},model:{value:(_vm.searchParams.searchVal),callback:function ($$v) {_vm.$set(_vm.searchParams, \"searchVal\", $$v)},expression:\"searchParams.searchVal\"}}),_c('Button',{staticClass:\"template__header__search__button\",on:{\"click\":_vm.getTableData}},[_vm._v(\"搜索\")])],1),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleAddddTemplate}},[_vm._v(\"创建模板\")])],1),_c('Table',{ref:\"selection\",attrs:{\"stripe\":\"\",\"size\":\"small\",\"loading\":_vm.tableLoading,\"columns\":_vm.columns,\"data\":_vm.tableData}}),_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"flex-end\",\"margin-top\":\"10px\",\"overflow\":\"hidden\"}},[_c('Page',{attrs:{\"total\":_vm.pageTotal,\"current\":_vm.searchParams.page_number,\"page-size\":_vm.searchParams.page_size,\"page-size-opts\":[12, 35, 50, 100],\"show-sizer\":\"\",\"show-total\":\"\"},on:{\"on-change\":_vm.changePage,\"on-page-size-change\":_vm.handlePageSize}})],1),_c('Modal',{attrs:{\"title\":\"克隆模板\",\"loading\":_vm.cloneModalLoading,\"width\":60},on:{\"on-ok\":_vm.colneModalOk,\"on-cancel\":_vm.cloneModalCancel},model:{value:(_vm.showCloneModal),callback:function ($$v) {_vm.showCloneModal=$$v},expression:\"showCloneModal\"}},[_c('div',{staticClass:\"clone-modal__content\"},[_c('Form',{ref:\"form\",attrs:{\"model\":_vm.cloneFormValues}},[_c('FormItem',{attrs:{\"prop\":\"name\",\"label\":\"模板名称\",\"label-width\":100,\"rules\":{ required: true, message: '模板名称必填', trigger: 'change' }}},[_c('Input',{model:{value:(_vm.cloneFormValues.name),callback:function ($$v) {_vm.$set(_vm.cloneFormValues, \"name\", $$v)},expression:\"cloneFormValues.name\"}})],1)],1)],1)]),_c('Modal',{attrs:{\"title\":\"删除模板\",\"loading\":_vm.deleteModalLoading},on:{\"on-ok\":_vm.deleteModalOk,\"on-cancel\":_vm.deleteModalCancel},model:{value:(_vm.showDeleteModal),callback:function ($$v) {_vm.showDeleteModal=$$v},expression:\"showDeleteModal\"}},[_vm._v(\" 确认删除模板吗？ \")]),_c('AddTemplateModal',{attrs:{\"show\":_vm.showModal,\"buyRow\":_vm.buyRow},on:{\"closeAddModal\":_vm.closeAddModal,\"addSuccessCallback\":_vm.addSuccessCallback}}),_c('EditTemplate',{attrs:{\"show\":_vm.showDrawer,\"row\":_vm.curRow},on:{\"closeDrawer\":_vm.closeDrawer,\"editSuccessCallback\":_vm.editSuccessCallback}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- eslint-disable vue/attribute-hyphenation -->\n<template>\n  <div>\n    <div class=\"template__header\">\n      <div class=\"template__header__search\">\n        <Input v-model=\"searchParams.searchVal\" class=\"template__header__search__input\" placeholder=\"请输入搜索内容\" />\n        <Button class=\"template__header__search__button\" @click=\"getTableData\">搜索</Button>\n      </div>\n      <Button type=\"primary\" @click=\"handleAddddTemplate\">创建模板</Button>\n    </div>\n    <Table ref=\"selection\" stripe size=\"small\" :loading=\"tableLoading\" :columns=\"columns\" :data=\"tableData\" />\n    <!-- 分页 -->\n    <div style=\"display: flex; justify-content: flex-end; margin-top: 10px; overflow: hidden\">\n      <Page\n        :total=\"pageTotal\"\n        :current=\"searchParams.page_number\"\n        :page-size=\"searchParams.page_size\"\n        :page-size-opts=\"[12, 35, 50, 100]\"\n        show-sizer show-total\n        @on-change=\"changePage\"\n        @on-page-size-change=\"handlePageSize\" />\n    </div>\n\n    <Modal\n      v-model=\"showCloneModal\"\n      title=\"克隆模板\"\n      :loading=\"cloneModalLoading\"\n      :width=\"60\"\n      @on-ok=\"colneModalOk\"\n      @on-cancel=\"cloneModalCancel\">\n      <div class=\"clone-modal__content\">\n        <Form ref=\"form\" :model=\"cloneFormValues\">\n          <FormItem prop=\"name\" label=\"模板名称\" :label-width=\"100\" :rules=\"{ required: true, message: '模板名称必填', trigger: 'change' }\">\n            <Input v-model=\"cloneFormValues.name\" />\n          </FormItem>\n        </Form>\n      </div>\n    </Modal>\n    <Modal\n      v-model=\"showDeleteModal\"\n      title=\"删除模板\"\n      :loading=\"deleteModalLoading\"\n      @on-ok=\"deleteModalOk\"\n      @on-cancel=\"deleteModalCancel\">\n      确认删除模板吗？\n    </Modal>\n    <AddTemplateModal :show=\"showModal\" :buyRow=\"buyRow\" @closeAddModal=\"closeAddModal\" @addSuccessCallback=\"addSuccessCallback\" />\n    <EditTemplate :show=\"showDrawer\" :row=\"curRow\" @closeDrawer=\"closeDrawer\" @editSuccessCallback=\"editSuccessCallback\" />\n  </div>\n</template>\n<!-- eslint-disable camelcase -->\n\n<script>\n\nimport {\n  getOrderTemplateList,\n  createOrderTemplate,\n  deleteOrderTemplate,\n} from \"@/api/cmdb\"\n\nimport AddTemplateModal from \"./addTemplate.vue\"\nimport EditTemplate from \"./editTemplate.vue\"\n\nexport default {\n  components: {\n    AddTemplateModal,\n    EditTemplate,\n  },\n  data() {\n    return {\n      buyRow: null,\n      pageTotal: 0,\n      showDrawer: false,\n      showDeleteModal: false,\n      deleteModalLoading: true,\n      curRow: {},\n      showModal: false,\n      showCloneModal: false,\n      cloneModalLoading: true,\n      tableLoading: false,\n      cloneFormValues: {\n        name: \"\",\n      },\n      columns: [{\n        title: \"资源ID\",\n        key: \"id\",\n        width: 100,\n      }, {\n        title: \"模板名称\",\n        key: \"name\",\n        minWidth: 160,\n        render: (h, params) => h(\"div\", [\n          h(\"div\", {\n            style: {\n              color: \"#2d8cf0\",\n              cursor: \"pointer\",\n            },\n            on: {\n              click: () => {\n                this.showDrawer = true\n                this.curRow = params.row\n              },\n            },\n          }, params.row.name),\n        ]),\n      }, {\n        title: \"子网信息\",\n        key: \"subnet_name\",\n        width: 280,\n      }, {\n        title: \"模板类型\",\n        key: \"res_type_alias\",\n        width: 120,\n      }, {\n        title: \"云厂商\",\n        key: \"vendor_alias\",\n        width: 120,\n      }, {\n        title: \"更新时间\",\n        key: \"update_time\",\n        width: 160,\n      }, {\n        title: \"最后一次使用时间\",\n        key: \"last_time\",\n        width: 160,\n      }, {\n        title: \"操作\",\n        render: (h, params) => h(\"div\", [\n          h(\"Button\", {\n            props: {\n              type: \"text\",\n              size: \"small\",\n            },\n            style: {\n              color: \"#2d8cf0\",\n            },\n            on: {\n              click: () => {\n                this.showModal = true\n                this.buyRow = params.row\n              },\n            },\n          }, \"购买\"),\n          h(\"Button\", {\n            props: {\n              type: \"text\",\n              size: \"small\",\n            },\n            style: {\n              color: \"#2d8cf0\",\n            },\n            on: {\n              click: () => {\n                this.cloneFormValues.name = `${params.row.name}-克隆`\n                this.curRow = params.row\n                this.showCloneModal = true\n              },\n            },\n          }, \"克隆\"),\n          h(\"Button\", {\n            props: {\n              type: \"text\",\n              size: \"small\",\n            },\n            style: {\n              color: \"#ed4014\",\n            },\n            on: {\n              click: () => {\n                this.curRow = params.row\n                this.showDeleteModal = true\n              },\n            },\n          }, \"删除\"),\n        ]),\n        width: 200,\n      }],\n      tableData: [],\n      searchParams: {\n        page_number: 1,\n        page_size: 12,\n        order_by: \"id\",\n        order: \"descend\",\n        searchVal: \"\",\n      },\n    }\n  },\n  mounted() {\n    this.getTableData()\n  },\n  methods: {\n    handleAddddTemplate() {\n      this.buyRow = null\n      this.showModal = true\n    },\n    editSuccessCallback() {\n      this.showDrawer = false\n      this.getTableData()\n    },\n    closeDrawer() {\n      this.showDrawer = false\n    },\n    async deleteModalOk() {\n      try {\n        const {\n          id,\n        } = this.curRow\n        const res = await deleteOrderTemplate({\n          id_list: [id],\n        })\n        if (!res) {\n          throw new Error(\"请求错误，请重试\")\n        }\n        this.showDeleteModal = false\n        this.$Message.success(res.msg)\n        this.getTableData()\n      } catch (err) {\n        this.$Message.error(err.message)\n        this.deleteModalLoading = false\n      } finally {\n        this.$nextTick(() => {\n          this.deleteModalLoading = true\n        })\n      }\n    },\n    deleteModalCancel() {\n      this.showDeleteModal = false\n    },\n    addSuccessCallback() {\n      this.showModal = false\n      this.getTableData()\n    },\n    closeAddModal() {\n      this.showModal = false\n    },\n    cloneModalCancel() {\n      this.showCloneModal = false\n    },\n    async colneModalOk() {\n      try {\n        await new Promise((resolve, reject) => {\n          this.$refs.form.validate((v) => {\n            if (!v) {\n              reject(new Error(\"表单校验失败，请检查\"))\n            }\n            resolve()\n          })\n        })\n        const {\n          account_id, vendor,\n          cloud_region_id, res_type, region, zone,\n          image_id, cpu, memory, instance_type, system_disk_size,\n          system_disk_type, security_groups, tags,\n          vpc_id, vpc_name, subnet_id, subnet_name, max_flow_out,\n          instance_charge_type, internet_charge_type,\n          data_disk, description,\n        } = this.curRow\n        const res = await createOrderTemplate({\n          name: this.cloneFormValues.name,\n          account_id,\n          vendor,\n          cloud_region_id,\n          res_type,\n          region,\n          zone,\n          image_id,\n          cpu,\n          memory,\n          instance_type,\n          system_disk_size,\n          system_disk_type,\n          security_groups,\n          tags,\n          vpc_id,\n          vpc_name,\n          subnet_id,\n          subnet_name,\n          max_flow_out,\n          instance_charge_type,\n          internet_charge_type,\n          data_disk,\n          description,\n        })\n        if (!res) {\n          throw new Error(\"请求错误，请重试\")\n        }\n        this.showCloneModal = false\n        this.$Message.success(res.msg)\n        this.getTableData()\n      } catch (err) {\n        this.$Message.error(err.message)\n        this.cloneModalLoading = false\n      } finally {\n        this.$nextTick(() => {\n          this.cloneModalLoading = true\n        })\n      }\n    },\n    async getTableData() {\n      try {\n        this.tableLoading = true\n        const { data, count } = await getOrderTemplateList(this.searchParams)\n        this.pageTotal = count\n        this.tableData = data\n      } catch (err) {\n        this.$Message.error(err.message)\n      } finally {\n        this.tableLoading = false\n      }\n    },\n    handleShowModal(show) {\n      this.showModal = show\n    },\n    // 每页条数\n    handlePageSize(val) {\n      this.searchParams.page_size = val\n      this.getTableData()\n    },\n    // 切换分页\n    changePage(val) {\n      this.searchParams.page_number = val\n      this.getTableData()\n    },\n  },\n}\n\n</script>\n\n<style scoped lang=\"less\">\n.template__header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 12px;\n  &__search {\n    display: flex;\n    &__input {\n      margin-right: 20px;\n      width: 200px;\n    }\n  }\n}\n\n.clone-modal__content {\n  padding: 0 30px;\n}\n\n/deep/ .ivu-table-wrapper {\n  max-height: calc(~\"100vh - 200px\");\n  .ivu-table-body {\n    max-height: calc(~\"100vh - 280px\");\n    overflow-y: auto;\n  }\n}\n\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./templateManagement.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./templateManagement.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./templateManagement.vue?vue&type=template&id=7c8f1cfe&scoped=true&\"\nimport script from \"./templateManagement.vue?vue&type=script&lang=js&\"\nexport * from \"./templateManagement.vue?vue&type=script&lang=js&\"\nimport style0 from \"./templateManagement.vue?vue&type=style&index=0&id=7c8f1cfe&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7c8f1cfe\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}