{"version":3,"sources":["webpack://cmdb-[name]/./src/api/cloud/security-group.js","webpack://cmdb-[name]/./src/views/cmdb/resource/templateManagement/addTemplate.bak.vue","webpack://cmdb-[name]/src/views/cmdb/resource/templateManagement/addTemplate.bak.vue","webpack://cmdb-[name]/./src/views/cmdb/resource/templateManagement/addTemplate.bak.vue?3a40","webpack://cmdb-[name]/./src/views/cmdb/resource/templateManagement/addTemplate.bak.vue?21b1","webpack://cmdb-[name]/./src/views/cmdb/resource/templateManagement/addTemplate.bak.vue?09c8"],"names":["getSecurityGroup","params","request","url","method","optSecurityGroup","data","getSecurityGroupRefs","render","_vm","this","_c","_self","attrs","title","modalLoading","on","ok","cancel","model","value","showModal","callback","$$v","expression","staticClass","ref","formValues","formRules","_v","name","$set","res_type","_l","resTypeOptions","item","key","_s","label","handleInstanceChange","subnet_id","vswitchOptions","id","instance_id","vpc_name","cloud_region_id","cloundAccountRender","region","zone","imageIdLoading","image_id","imageIdOptions","option","index","instance_charge_type","instanceChargeTypeOptions","slot","staticStyle","cpu","memory","instance_type","system_disk_type","systemDiskTypeOptions","system_disk_size","data_disk_type","dataDiskTypeOptions","data_disk_size","inner_ip","is_eip","internet_charge_type","internetChargeTypeOptions","tipFormat","commonNums","max_flow_out","bindWidthIdLoading","bandwidth_pkg_id","bindWidthIdOptions","_e","securityGroupsValues","securityGroupOptions","tagsValues","required","message","trigger","handleSelectTag","tagKeyOptions","tagKey","undefined","tagValueOptions","tagValue","length","handleAddTag","$event","handleRemoveTag","description","buy","buyValues","buyFormRules","count","price","dis_count_price","dis_count","original_price","bandwidth_dis_count_price","bandwidth_dis_count","bandwidth_original_price","priceLoading","toFixed","staticRenderFns","DEFAULT_FORM_VALUES","cloud_region_name","account_id","vendor","image_name","security_groups","tags","vpc_id","subnet_name","image_passwd","DEBOUNCE_IMAGE_ID","DEBOUNCE_BINDWIDTH_ID","DEBOUNCE_INS_OPTIONS","DEFAULT_PRICE","props","show","type","Boolean","default","buyRow","Object","$createElement","click","$nextTick","setTimeout","specialSplit","validator","_","Error","test","computed","realShow","insTypeParams","watch","v","getSettings","getFeFormInfo","getSecurityGroupData","filter_map","cloud_name","getImageIdOptions","getBindWidthPkgIdOptions","onFormValiDate","deep","val","getInsTypeOptions","mounted","getUniqueStr","methods","debounce","getInsType","err","getImageIds","map","c","os_name","getBindWidthPkgIds","validateBeforGetPrice","getParams","getPrice","validate","Promise","resolve","reject","$refs","form","buyForm","validateField","getVswitchData","getTagData","getVswitch","cidr_block_v4","security_group_name","getTagList","tag","tag_key","push","filter","i","find","cloudRender","res","createOrder","instance_name","createOrderTemplate","$emit","$Message","success","msg","error","component"],"mappings":"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","file":"static/js/chunk-a5da55ca.dd10b7a2.js","sourcesContent":["/* eslint-disable camelcase */\nimport request from '@/plugins/axios'\n\nexport const getSecurityGroup = (params) => request({\n  url: '/api/v2/cmdb/security_group/',\n  method: 'get',\n  params,\n})\n\nexport const optSecurityGroup = (data, method) => request({\n  url: '/api/v2/cmdb/security_group/',\n  method,\n  data,\n})\n\n\n// 获取关联\nexport const getSecurityGroupRefs = (params) => request({\n  url: '/api/v2/cmdb/security_group/refs/',\n  method: 'get',\n  params,\n})","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Modal',{attrs:{\"title\":_vm.title,\"loading\":_vm.modalLoading,\"width\":70},on:{\"on-ok\":_vm.ok,\"on-cancel\":_vm.cancel},model:{value:(_vm.showModal),callback:function ($$v) {_vm.showModal=$$v},expression:\"showModal\"}},[_c('div',{staticClass:\"modal__content\"},[_c('Form',{ref:\"form\",attrs:{\"model\":_vm.formValues,\"label-width\":100,\"rules\":_vm.formRules}},[_c('div',{staticClass:\"modal__content__section\"},[_c('div',{staticClass:\"modal__content__section__title\"},[_vm._v(\"基础配置\")]),_c('div',{staticClass:\"modal__content__section__form\"},[_c('div',{staticClass:\"modal__content__section__form__custom\"},[_c('FormItem',{attrs:{\"prop\":\"name\",\"label\":\"模板名称\"}},[_c('Input',{attrs:{\"type\":\"text\",\"placeholder\":\"请输入模板名称\"},model:{value:(_vm.formValues.name),callback:function ($$v) {_vm.$set(_vm.formValues, \"name\", $$v)},expression:\"formValues.name\"}})],1)],1),_c('div',{staticClass:\"modal__content__section__form__select\"},[_c('FormItem',{attrs:{\"prop\":\"res_type\",\"label\":\"模板类型\"}},[_c('Select',{attrs:{\"type\":\"text\",\"placeholder\":\"请选择模板类型\"},model:{value:(_vm.formValues.res_type),callback:function ($$v) {_vm.$set(_vm.formValues, \"res_type\", $$v)},expression:\"formValues.res_type\"}},_vm._l((_vm.resTypeOptions),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1)],1)],1),_c('div',{staticClass:\"modal__content__section__form__longer\"},[_c('FormItem',{attrs:{\"prop\":\"subnet_id\",\"label\":\"私有子网\"}},[_c('Select',{attrs:{\"filterable\":\"\",\"placeholder\":\"请选择私有子网\"},on:{\"on-change\":_vm.handleInstanceChange},model:{value:(_vm.formValues.subnet_id),callback:function ($$v) {_vm.$set(_vm.formValues, \"subnet_id\", $$v)},expression:\"formValues.subnet_id\"}},_vm._l((_vm.vswitchOptions),function(item){return _c('Option',{key:item.id,attrs:{\"value\":item.instance_id}},[_vm._v(_vm._s(item.label))])}),1)],1)],1),_c('div',{staticClass:\"modal__content__section__form__longer\"},[_c('FormItem',{attrs:{\"prop\":\"vpc_name\",\"label\":\"私有网络\"}},[_c('Input',{attrs:{\"type\":\"text\",\"disabled\":\"\"},model:{value:(_vm.formValues.vpc_name),callback:function ($$v) {_vm.$set(_vm.formValues, \"vpc_name\", $$v)},expression:\"formValues.vpc_name\"}})],1)],1),_c('div',{staticClass:\"modal__content__section__form__select\"},[_c('FormItem',{attrs:{\"prop\":\"cloud_region_id\",\"label\":\"云区域\"}},[_c('Input',{attrs:{\"type\":\"text\",\"disabled\":\"\",\"placeholder\":\"\"},model:{value:(_vm.formValues.cloud_region_id),callback:function ($$v) {_vm.$set(_vm.formValues, \"cloud_region_id\", $$v)},expression:\"formValues.cloud_region_id\"}})],1)],1),_c('div',{staticClass:\"modal__content__section__form__select\"},[_c('FormItem',{attrs:{\"prop\":\"cloundAccountRender\",\"label\":\"云厂商\"}},[_c('Input',{attrs:{\"type\":\"text\",\"disabled\":\"\",\"placeholder\":\"\"},model:{value:(_vm.formValues.cloundAccountRender),callback:function ($$v) {_vm.$set(_vm.formValues, \"cloundAccountRender\", $$v)},expression:\"formValues.cloundAccountRender\"}})],1)],1),_c('div',{staticClass:\"modal__content__section__form__select\"},[_c('FormItem',{attrs:{\"prop\":\"region\",\"label\":\"地域\"}},[_c('Input',{attrs:{\"type\":\"text\",\"disabled\":\"\",\"placeholder\":\"\"},model:{value:(_vm.formValues.region),callback:function ($$v) {_vm.$set(_vm.formValues, \"region\", $$v)},expression:\"formValues.region\"}})],1)],1),_c('div',{staticClass:\"modal__content__section__form__select\"},[_c('FormItem',{attrs:{\"prop\":\"zone\",\"label\":\"可用区\"}},[_c('Input',{attrs:{\"type\":\"text\",\"disabled\":\"\",\"placeholder\":\"\"},model:{value:(_vm.formValues.zone),callback:function ($$v) {_vm.$set(_vm.formValues, \"zone\", $$v)},expression:\"formValues.zone\"}})],1)],1)]),_c('div',{staticClass:\"modal__content__section\"},[_c('div',{staticClass:\"modal__content__section__title\"},[_vm._v(\"实例配置\")]),_c('div',{staticClass:\"modal__content__section__form\"},[_c('div',{staticClass:\"modal__content__section__form__custom\"},[_c('FormItem',{attrs:{\"prop\":\"image_id\",\"label\":\"镜像\"}},[_c('Select',{attrs:{\"disabled\":!_vm.formValues.subnet_id,\"filterable\":\"\",\"clearable\":\"\",\"placeholder\":!_vm.formValues.subnet_id ? '请先选择私有子网' : '请搜索',\"loading\":_vm.imageIdLoading},model:{value:(_vm.formValues.image_id),callback:function ($$v) {_vm.$set(_vm.formValues, \"image_id\", $$v)},expression:\"formValues.image_id\"}},_vm._l((_vm.imageIdOptions),function(option,index){return _c('Option',{key:index,attrs:{\"value\":option.value}},[_vm._v(_vm._s(option.label))])}),1)],1)],1),_c('div',{staticClass:\"modal__content__section__form__custom\"},[_c('FormItem',{attrs:{\"prop\":\"instance_charge_type\",\"label\":\"实例计费模式\"}},[_c('Select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.formValues.instance_charge_type),callback:function ($$v) {_vm.$set(_vm.formValues, \"instance_charge_type\", $$v)},expression:\"formValues.instance_charge_type\"}},_vm._l((_vm.instanceChargeTypeOptions),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1)],1)],1),_c('div',{staticClass:\"modal__content__section__form__int\"},[_c('div',{staticClass:\"modal__content__section__form__special\"},[_c('div',{staticClass:\"modal__content__section__form__special__label\"},[_c('span',[_vm._v(\"实例配置\")]),_c('Tooltip',{attrs:{\"placement\":\"top-start\"}},[_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('div',[_vm._v(\"填写基础配置及实例类型后自动查询回填\")])]),_c('Icon',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"type\":\"ios-help-circle-outline\"}})],1)],1),_c('FormItem',{attrs:{\"prop\":\"cpu\"}},[_c('Input',{attrs:{\"type\":\"number\",\"placeholder\":\"CPU\",\"disabled\":\"\"},model:{value:(_vm.formValues.cpu),callback:function ($$v) {_vm.$set(_vm.formValues, \"cpu\", $$v)},expression:\"formValues.cpu\"}}),_c('span',{staticClass:\"modal__content__section__form__special__unit\"},[_vm._v(\"核\")])],1),_c('FormItem',{attrs:{\"prop\":\"memory\"}},[_c('Input',{attrs:{\"type\":\"number\",\"placeholder\":\"内存\",\"disabled\":\"\"},model:{value:(_vm.formValues.memory),callback:function ($$v) {_vm.$set(_vm.formValues, \"memory\", $$v)},expression:\"formValues.memory\"}}),_c('span',{staticClass:\"modal__content__section__form__special__unit\"},[_vm._v(\"GB\")])],1)],1)]),_c('div',{staticClass:\"modal__content__section__form__custom\"},[_c('FormItem',{attrs:{\"prop\":\"instance_type\",\"label\":\"实例类型\"}},[_c('Input',{attrs:{\"type\":\"text\",\"placeholder\":\"请输入实例类型\"},model:{value:(_vm.formValues.instance_type),callback:function ($$v) {_vm.$set(_vm.formValues, \"instance_type\", $$v)},expression:\"formValues.instance_type\"}})],1)],1),_c('div',{staticClass:\"modal__content__section__form__custom\"},[_c('FormItem',{attrs:{\"prop\":\"system_disk_type\",\"label\":\"系统盘类型\"}},[_c('Select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.formValues.system_disk_type),callback:function ($$v) {_vm.$set(_vm.formValues, \"system_disk_type\", $$v)},expression:\"formValues.system_disk_type\"}},_vm._l((_vm.systemDiskTypeOptions),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1)],1)],1),_c('div',{staticClass:\"modal__content__section__form__int\"},[_c('FormItem',{attrs:{\"prop\":\"system_disk_size\",\"label\":\"系统盘大小\"}},[_c('Input',{attrs:{\"type\":\"number\",\"placeholder\":\"请输入\"},model:{value:(_vm.formValues.system_disk_size),callback:function ($$v) {_vm.$set(_vm.formValues, \"system_disk_size\", $$v)},expression:\"formValues.system_disk_size\"}},[_c('div',{staticClass:\"modal__content__section__form__int__unit\",attrs:{\"slot\":\"suffix\"},slot:\"suffix\"},[_vm._v(\" GB \")])])],1)],1),_c('div',{staticClass:\"modal__content__section__form__custom\"},[_c('FormItem',{attrs:{\"prop\":\"data_disk_type\",\"label\":\"数据盘类型\"}},[_c('Select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.formValues.data_disk_type),callback:function ($$v) {_vm.$set(_vm.formValues, \"data_disk_type\", $$v)},expression:\"formValues.data_disk_type\"}},_vm._l((_vm.dataDiskTypeOptions),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1)],1)],1),_c('div',{staticClass:\"modal__content__section__form__int\"},[_c('FormItem',{attrs:{\"prop\":\"data_disk_size\",\"label\":\"数据盘大小\"}},[_c('Input',{attrs:{\"type\":\"number\",\"placeholder\":\"请输入\"},model:{value:(_vm.formValues.data_disk_size),callback:function ($$v) {_vm.$set(_vm.formValues, \"data_disk_size\", $$v)},expression:\"formValues.data_disk_size\"}},[_c('div',{staticClass:\"modal__content__section__form__int__unit\",attrs:{\"slot\":\"suffix\"},slot:\"suffix\"},[_vm._v(\" GB \")])])],1)],1),_c('div',{staticClass:\"modal__content__section__form__custom\"},[_c('FormItem',{attrs:{\"prop\":\"inner_ip\",\"label\":\"指定私有IP\"}},[_c('Input',{attrs:{\"type\":\"text\",\"placeholder\":\"请输入\"},model:{value:(_vm.formValues.inner_ip),callback:function ($$v) {_vm.$set(_vm.formValues, \"inner_ip\", $$v)},expression:\"formValues.inner_ip\"}})],1)],1),_c('div',{staticClass:\"modal__content__section__form__custom\"},[_c('FormItem',{attrs:{\"prop\":\"is_eip\",\"label\":\"开通弹性公网\"}},[_c('RadioGroup',{attrs:{\"type\":\"button\"},model:{value:(_vm.formValues.is_eip),callback:function ($$v) {_vm.$set(_vm.formValues, \"is_eip\", $$v)},expression:\"formValues.is_eip\"}},[_c('Radio',{attrs:{\"label\":\"0\"}},[_vm._v(\"否\")]),_c('Radio',{attrs:{\"label\":\"1\"}},[_vm._v(\"是\")])],1)],1)],1),(_vm.formValues.is_eip == '1')?[_c('div',{staticClass:\"modal__content__section__form__custom\"},[_c('FormItem',{attrs:{\"prop\":\"internet_charge_type\",\"label\":\"网络计费模式\"}},[_c('Select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.formValues.internet_charge_type),callback:function ($$v) {_vm.$set(_vm.formValues, \"internet_charge_type\", $$v)},expression:\"formValues.internet_charge_type\"}},_vm._l((_vm.internetChargeTypeOptions),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1)],1)],1),_c('div',{staticClass:\"modal__content__section__form__limit\"},[_c('div',{staticClass:\"modal__content__section__form__limit__special\"},[_c('div',{staticClass:\"modal__content__section__form__limit__special__label\"},[_vm._v(\" 带宽限制 \")]),_c('FormItem',{staticClass:\"modal__content__section__form__limit__special__slider\",attrs:{\"prop\":\"max_flow_out\"}},[_c('Slider',{attrs:{\"max\":2000,\"tip-format\":_vm.tipFormat,\"marks\":_vm.commonNums},model:{value:(_vm.formValues.max_flow_out),callback:function ($$v) {_vm.$set(_vm.formValues, \"max_flow_out\", $$v)},expression:\"formValues.max_flow_out\"}})],1),_c('FormItem',{staticClass:\"modal__content__section__form__limit__special__input\",attrs:{\"prop\":\"max_flow_out\"}},[_c('InputNumber',{attrs:{\"max\":2000,\"min\":1},model:{value:(_vm.formValues.max_flow_out),callback:function ($$v) {_vm.$set(_vm.formValues, \"max_flow_out\", $$v)},expression:\"formValues.max_flow_out\"}}),_c('span',{staticClass:\"modal__content__section__form__limit__special__unit\"},[_vm._v(\"Mbps\")])],1)],1)]),(_vm.formValues.internet_charge_type == 'BANDWIDTH_PACKAGE')?[_c('div',{staticClass:\"modal__content__section__form__custom\"},[_c('FormItem',{attrs:{\"prop\":\"bandwidth_pkg_id\",\"label\":\"带宽包\"}},[_c('Select',{attrs:{\"disabled\":!_vm.formValues.subnet_id,\"filterable\":\"\",\"clearable\":\"\",\"placeholder\":!_vm.formValues.subnet_id ? '请先选择私有子网' : '请搜索',\"loading\":_vm.bindWidthIdLoading},model:{value:(_vm.formValues.bandwidth_pkg_id),callback:function ($$v) {_vm.$set(_vm.formValues, \"bandwidth_pkg_id\", $$v)},expression:\"formValues.bandwidth_pkg_id\"}},_vm._l((_vm.bindWidthIdOptions),function(option,index){return _c('Option',{key:index,attrs:{\"value\":option.value}},[_vm._v(_vm._s(option.label))])}),1)],1)],1)]:_vm._e()]:_vm._e(),_c('div',{staticClass:\"modal__content__section__form__longer\"},[_c('FormItem',{attrs:{\"prop\":\"securityGroupsValues\",\"label\":\"安全组\"}},[_c('Select',{attrs:{\"placeholder\":!_vm.formValues.subnet_id ? '请先选择私有子网' : '请搜索',\"filterable\":\"\",\"disabled\":!_vm.formValues.subnet_id,\"multiple\":\"\"},model:{value:(_vm.formValues.securityGroupsValues),callback:function ($$v) {_vm.$set(_vm.formValues, \"securityGroupsValues\", $$v)},expression:\"formValues.securityGroupsValues\"}},_vm._l((_vm.securityGroupOptions),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1)],1)],1)],2)]),_c('div',{staticClass:\"modal__content__section\"},[_c('div',{staticClass:\"modal__content__section__title\"},[_vm._v(\"其他设置\")]),_c('div',{staticClass:\"modal__content__section__form\"},[_c('div',{staticClass:\"modal__content__section__form__tags\"},[_c('div',{staticClass:\"modal__content__section__form__tags__label\"},[_vm._v(\" 标签 \")]),_c('div',{staticClass:\"modal__content__section__form__tags__content\"},_vm._l((_vm.formValues.tagsValues),function(item,index){return _c('div',{key:index,staticClass:\"modal__content__section__form__tags__content__line\"},[_c('FormItem',{attrs:{\"prop\":'tagsValues.' + index + '.key',\"rules\":{\n                      required: true,\n                      message: '标签键不能为空',\n                      trigger: 'blur',\n                    }}},[_c('Select',{attrs:{\"filterable\":\"\"},on:{\"on-select\":_vm.handleSelectTag},model:{value:(item.key),callback:function ($$v) {_vm.$set(item, \"key\", $$v)},expression:\"item.key\"}},_vm._l((_vm.tagKeyOptions),function(tagKey){return _c('Option',{key:tagKey.value,attrs:{\"value\":tagKey.value}},[_vm._v(_vm._s(tagKey.label))])}),1)],1),_c('FormItem',{attrs:{\"prop\":'tagsValues.' + index + '.value',\"rules\":{\n                      required: true,\n                      message: '标签值不能为空',\n                      trigger: 'blur',\n                    }}},[_c('Select',{attrs:{\"filterable\":\"\",\"loading\":_vm.tagValueOptions[item.key] === undefined,\"disabled\":item.key === '',\"placeholder\":item.key === '' ? '请先选择标签键' : '请选择'},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}},_vm._l((_vm.tagValueOptions[item.key]),function(tagValue){return _c('Option',{key:tagValue.value,attrs:{\"value\":tagValue.value}},[_vm._v(_vm._s(tagValue.label))])}),1)],1),(index === _vm.formValues.tagsValues.length - 1)?_c('Icon',{attrs:{\"size\":\"20\",\"type\":\"md-add\"},on:{\"click\":_vm.handleAddTag}}):_vm._e(),(_vm.formValues.tagsValues.length > 1)?_c('Icon',{attrs:{\"size\":\"20\",\"type\":\"md-close\"},on:{\"click\":function($event){return _vm.handleRemoveTag(index)}}}):_vm._e()],1)}),0)]),_c('div',{staticClass:\"modal__content__section__form__longer\"},[_c('FormItem',{attrs:{\"prop\":\"description\",\"label\":\"备注\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"请输入备注\"},model:{value:(_vm.formValues.description),callback:function ($$v) {_vm.$set(_vm.formValues, \"description\", $$v)},expression:\"formValues.description\"}})],1)],1)])])])]),(_vm.buy)?_c('div',{staticClass:\"modal__content__buy\"},[_c('Form',{ref:\"buyForm\",attrs:{\"model\":_vm.buyValues,\"label-width\":100,\"rules\":_vm.buyFormRules}},[_c('FormItem',{attrs:{\"prop\":\"name\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('span',[_vm._v(\"资源名称\")]),_c('Tooltip',{attrs:{\"placement\":\"top-start\"}},[_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('div',[_vm._v(\" 示例：业务-厂商-地域-环境-服务+编号(ops-tx-sh-test-etcd01) \")]),_c('div',[_vm._v(\"全部为英文或者数字，-为分隔符 是关键字不能被占用\")])]),_c('Icon',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"type\":\"ios-help-circle-outline\"}})],1)],1),_c('Input',{attrs:{\"type\":\"text\"},model:{value:(_vm.buyValues.name),callback:function ($$v) {_vm.$set(_vm.buyValues, \"name\", $$v)},expression:\"buyValues.name\"}})],1),_c('FormItem',{attrs:{\"prop\":\"count\",\"label\":\"购买数量\"}},[_c('InputNumber',{attrs:{\"max\":10,\"min\":1},model:{value:(_vm.buyValues.count),callback:function ($$v) {_vm.$set(_vm.buyValues, \"count\", $$v)},expression:\"buyValues.count\"}})],1)],1),_c('div',{staticClass:\"modal__content__buy__price\"},[_c('Tooltip',{attrs:{\"placement\":\"top\",\"max-width\":1000}},[_c('div',{staticClass:\"popup__price\",attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('div',{staticClass:\"popup__price__header\"},[_c('div',{staticClass:\"popup__price__header__label\"},[_vm._v(\"计费项\")]),_c('div',{staticClass:\"popup__price__header__value\"},[_vm._v(\"价格\")])]),_c('div',{staticClass:\"popup__price__item\"},[_c('div',{staticClass:\"popup__price__item__label\"},[_vm._v(\"实例\")]),_c('div',{staticClass:\"popup__price__item__value\"},[_c('div',{staticClass:\"popup__price__item__value__final\"},[_vm._v(\" ￥\"+_vm._s(_vm.price.dis_count_price)+\" \")]),(_vm.price.dis_count !== 100)?_c('div',{staticClass:\"popup__price__item__value__discount\"},[_vm._v(\" \"+_vm._s(_vm.price.dis_count / 10)+\"折 \")]):_vm._e(),(_vm.price.dis_count !== 100)?_c('div',{staticClass:\"popup__price__item__value__original\"},[_vm._v(\" ￥\"+_vm._s(_vm.price.original_price)+\" \")]):_vm._e()])]),_c('div',{staticClass:\"popup__price__item\"},[_c('div',{staticClass:\"popup__price__item__label\"},[_vm._v(\"带宽\")]),_c('div',{staticClass:\"popup__price__item__value\"},[_c('div',{staticClass:\"popup__price__item__value__final\"},[_vm._v(\" ￥\"+_vm._s(_vm.price.bandwidth_dis_count_price)+\" \")]),(_vm.price.bandwidth_dis_count !== 100)?_c('div',{staticClass:\"popup__price__item__value__discount\"},[_vm._v(\" \"+_vm._s(_vm.price.bandwidth_dis_count / 10)+\"折 \")]):_vm._e(),(_vm.price.bandwidth_dis_count !== 100)?_c('div',{staticClass:\"popup__price__item__value__original\"},[_vm._v(\" ￥\"+_vm._s(_vm.price.bandwidth_original_price)+\" \")]):_vm._e()])])]),_c('div',{staticClass:\"modal__content__buy__price__label\"},[_vm._v(\"配置费用\")])]),(!_vm.priceLoading)?_c('div',{staticClass:\"modal__content__buy__price__value\"},[_vm._v(\" ￥\"+_vm._s((_vm.price.bandwidth_dis_count_price + _vm.price.dis_count_price).toFixed( 2 ))+\" \")]):_c('div',{staticClass:\"modal__content__buy__price__loading\"},[_c('Icon',{attrs:{\"type\":\"ios-loading\"}})],1)],1)],1):_vm._e()],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <Modal\n    v-model=\"showModal\"\n    :title=\"title\"\n    :loading=\"modalLoading\"\n    :width=\"70\"\n    @on-ok=\"ok\"\n    @on-cancel=\"cancel\"\n  >\n    <div class=\"modal__content\">\n      <Form\n        ref=\"form\"\n        :model=\"formValues\"\n        :label-width=\"100\"\n        :rules=\"formRules\"\n      >\n        <div class=\"modal__content__section\">\n          <div class=\"modal__content__section__title\">基础配置</div>\n          <div class=\"modal__content__section__form\">\n            <div class=\"modal__content__section__form__custom\">\n              <FormItem prop=\"name\" label=\"模板名称\">\n                <Input\n                  v-model=\"formValues.name\"\n                  type=\"text\"\n                  placeholder=\"请输入模板名称\"\n                />\n              </FormItem>\n            </div>\n            <div class=\"modal__content__section__form__select\">\n              <FormItem prop=\"res_type\" label=\"模板类型\">\n                <Select\n                  v-model=\"formValues.res_type\"\n                  type=\"text\"\n                  placeholder=\"请选择模板类型\"\n                >\n                  <Option\n                    v-for=\"item in resTypeOptions\"\n                    :key=\"item.value\"\n                    :value=\"item.value\"\n                    >{{ item.label }}</Option\n                  >\n                </Select>\n              </FormItem>\n            </div>\n            <div class=\"modal__content__section__form__longer\">\n              <FormItem prop=\"subnet_id\" label=\"私有子网\">\n                <Select\n                  v-model=\"formValues.subnet_id\"\n                  filterable\n                  placeholder=\"请选择私有子网\"\n                  @on-change=\"handleInstanceChange\"\n                >\n                  <Option\n                    v-for=\"item in vswitchOptions\"\n                    :key=\"item.id\"\n                    :value=\"item.instance_id\"\n                    >{{ item.label }}</Option\n                  >\n                </Select>\n              </FormItem>\n            </div>\n            <div class=\"modal__content__section__form__longer\">\n              <FormItem prop=\"vpc_name\" label=\"私有网络\">\n                <Input v-model=\"formValues.vpc_name\" type=\"text\" disabled />\n              </FormItem>\n            </div>\n            <div class=\"modal__content__section__form__select\">\n              <FormItem prop=\"cloud_region_id\" label=\"云区域\">\n                <Input\n                  v-model=\"formValues.cloud_region_id\"\n                  type=\"text\"\n                  disabled\n                  placeholder=\"\"\n                />\n              </FormItem>\n            </div>\n            <div class=\"modal__content__section__form__select\">\n              <FormItem prop=\"cloundAccountRender\" label=\"云厂商\">\n                <Input\n                  v-model=\"formValues.cloundAccountRender\"\n                  type=\"text\"\n                  disabled\n                  placeholder=\"\"\n                />\n              </FormItem>\n            </div>\n            <div class=\"modal__content__section__form__select\">\n              <FormItem prop=\"region\" label=\"地域\">\n                <Input\n                  v-model=\"formValues.region\"\n                  type=\"text\"\n                  disabled\n                  placeholder=\"\"\n                />\n              </FormItem>\n            </div>\n            <div class=\"modal__content__section__form__select\">\n              <FormItem prop=\"zone\" label=\"可用区\">\n                <Input\n                  v-model=\"formValues.zone\"\n                  type=\"text\"\n                  disabled\n                  placeholder=\"\"\n                />\n              </FormItem>\n            </div>\n          </div>\n          <div class=\"modal__content__section\">\n            <div class=\"modal__content__section__title\">实例配置</div>\n            <div class=\"modal__content__section__form\">\n              <div class=\"modal__content__section__form__custom\">\n                <FormItem prop=\"image_id\" label=\"镜像\">\n                  <Select\n                    v-model=\"formValues.image_id\"\n                    :disabled=\"!formValues.subnet_id\"\n                    filterable\n                    clearable\n                    :placeholder=\"\n                      !formValues.subnet_id ? '请先选择私有子网' : '请搜索'\n                    \"\n                    :loading=\"imageIdLoading\"\n                  >\n                    <Option\n                      v-for=\"(option, index) in imageIdOptions\"\n                      :key=\"index\"\n                      :value=\"option.value\"\n                      >{{ option.label }}</Option\n                    >\n                  </Select>\n                  <!-- <Input v-model=\"formValues.image_id\" type=\"text\" placeholder=\"请输入\" /> -->\n                </FormItem>\n              </div>\n              <div class=\"modal__content__section__form__custom\">\n                <FormItem prop=\"instance_charge_type\" label=\"实例计费模式\">\n                  <Select\n                    v-model=\"formValues.instance_charge_type\"\n                    placeholder=\"请选择\"\n                  >\n                    <Option\n                      v-for=\"item in instanceChargeTypeOptions\"\n                      :key=\"item.value\"\n                      :value=\"item.value\"\n                      >{{ item.label }}</Option\n                    >\n                  </Select>\n                </FormItem>\n              </div>\n              <div class=\"modal__content__section__form__int\">\n                <div class=\"modal__content__section__form__special\">\n                  <div class=\"modal__content__section__form__special__label\">\n                    <span>实例配置</span>\n                    <Tooltip placement=\"top-start\">\n                      <div slot=\"content\">\n                        <div>填写基础配置及实例类型后自动查询回填</div>\n                      </div>\n                      <Icon\n                        type=\"ios-help-circle-outline\"\n                        style=\"margin-left: 5px\"\n                      />\n                    </Tooltip>\n                  </div>\n                  <FormItem prop=\"cpu\">\n                    <Input\n                      v-model=\"formValues.cpu\"\n                      type=\"number\"\n                      placeholder=\"CPU\"\n                      disabled\n                    /><span class=\"modal__content__section__form__special__unit\"\n                      >核</span\n                    >\n                  </FormItem>\n                  <FormItem prop=\"memory\">\n                    <Input\n                      v-model=\"formValues.memory\"\n                      type=\"number\"\n                      placeholder=\"内存\"\n                      disabled\n                    /><span class=\"modal__content__section__form__special__unit\"\n                      >GB</span\n                    >\n                  </FormItem>\n                </div>\n              </div>\n              <div class=\"modal__content__section__form__custom\">\n                <FormItem prop=\"instance_type\" label=\"实例类型\">\n                  <Input\n                    v-model=\"formValues.instance_type\"\n                    type=\"text\"\n                    placeholder=\"请输入实例类型\"\n                  />\n                </FormItem>\n              </div>\n              <div class=\"modal__content__section__form__custom\">\n                <FormItem prop=\"system_disk_type\" label=\"系统盘类型\">\n                  <Select\n                    v-model=\"formValues.system_disk_type\"\n                    placeholder=\"请选择\"\n                  >\n                    <Option\n                      v-for=\"item in systemDiskTypeOptions\"\n                      :key=\"item.value\"\n                      :value=\"item.value\"\n                      >{{ item.label }}</Option\n                    >\n                  </Select>\n                </FormItem>\n              </div>\n              <div class=\"modal__content__section__form__int\">\n                <FormItem prop=\"system_disk_size\" label=\"系统盘大小\">\n                  <Input\n                    v-model=\"formValues.system_disk_size\"\n                    type=\"number\"\n                    placeholder=\"请输入\"\n                  >\n                    <div\n                      slot=\"suffix\"\n                      class=\"modal__content__section__form__int__unit\"\n                    >\n                      GB\n                    </div>\n                  </Input>\n                </FormItem>\n              </div>\n              <div class=\"modal__content__section__form__custom\">\n                <FormItem prop=\"data_disk_type\" label=\"数据盘类型\">\n                  <Select\n                    v-model=\"formValues.data_disk_type\"\n                    placeholder=\"请选择\"\n                  >\n                    <Option\n                      v-for=\"item in dataDiskTypeOptions\"\n                      :key=\"item.value\"\n                      :value=\"item.value\"\n                      >{{ item.label }}</Option\n                    >\n                  </Select>\n                </FormItem>\n              </div>\n              <div class=\"modal__content__section__form__int\">\n                <FormItem prop=\"data_disk_size\" label=\"数据盘大小\">\n                  <Input\n                    v-model=\"formValues.data_disk_size\"\n                    type=\"number\"\n                    placeholder=\"请输入\"\n                  >\n                    <div\n                      slot=\"suffix\"\n                      class=\"modal__content__section__form__int__unit\"\n                    >\n                      GB\n                    </div>\n                  </Input>\n                </FormItem>\n              </div>\n              <div class=\"modal__content__section__form__custom\">\n                <FormItem prop=\"inner_ip\" label=\"指定私有IP\">\n                  <Input\n                    v-model=\"formValues.inner_ip\"\n                    type=\"text\"\n                    placeholder=\"请输入\"\n                  >\n                  </Input>\n                </FormItem>\n              </div>\n              <div class=\"modal__content__section__form__custom\">\n                <FormItem prop=\"is_eip\" label=\"开通弹性公网\">\n                  <RadioGroup v-model=\"formValues.is_eip\" type=\"button\">\n                    <Radio label=\"0\">否</Radio>\n                    <Radio label=\"1\">是</Radio>\n                  </RadioGroup>\n                </FormItem>\n              </div>\n              <template v-if=\"formValues.is_eip == '1'\">\n                <div class=\"modal__content__section__form__custom\">\n                  <FormItem prop=\"internet_charge_type\" label=\"网络计费模式\">\n                    <Select\n                      v-model=\"formValues.internet_charge_type\"\n                      placeholder=\"请选择\"\n                    >\n                      <Option\n                        v-for=\"item in internetChargeTypeOptions\"\n                        :key=\"item.value\"\n                        :value=\"item.value\"\n                        >{{ item.label }}</Option\n                      >\n                    </Select>\n                  </FormItem>\n                </div>\n                <div class=\"modal__content__section__form__limit\">\n                  <div class=\"modal__content__section__form__limit__special\">\n                    <div\n                      class=\"modal__content__section__form__limit__special__label\"\n                    >\n                      带宽限制\n                    </div>\n                    <FormItem\n                      prop=\"max_flow_out\"\n                      class=\"modal__content__section__form__limit__special__slider\"\n                    >\n                      <Slider\n                        v-model=\"formValues.max_flow_out\"\n                        :max=\"2000\"\n                        :tip-format=\"tipFormat\"\n                        :marks=\"commonNums\"\n                      />\n                    </FormItem>\n                    <FormItem\n                      prop=\"max_flow_out\"\n                      class=\"modal__content__section__form__limit__special__input\"\n                    >\n                      <InputNumber\n                        v-model=\"formValues.max_flow_out\"\n                        :max=\"2000\"\n                        :min=\"1\"\n                      /><span\n                        class=\"modal__content__section__form__limit__special__unit\"\n                        >Mbps</span\n                      >\n                    </FormItem>\n                  </div>\n                </div>\n\n                <template\n                  v-if=\"formValues.internet_charge_type == 'BANDWIDTH_PACKAGE'\"\n                >\n                  <div class=\"modal__content__section__form__custom\">\n                    <FormItem prop=\"bandwidth_pkg_id\" label=\"带宽包\">\n                      <Select\n                        v-model=\"formValues.bandwidth_pkg_id\"\n                        :disabled=\"!formValues.subnet_id\"\n                        filterable\n                        clearable\n                        :placeholder=\"\n                          !formValues.subnet_id ? '请先选择私有子网' : '请搜索'\n                        \"\n                        :loading=\"bindWidthIdLoading\"\n                      >\n                        <Option\n                          v-for=\"(option, index) in bindWidthIdOptions\"\n                          :key=\"index\"\n                          :value=\"option.value\"\n                          >{{ option.label }}</Option\n                        >\n                      </Select>\n                    </FormItem>\n                  </div>\n                </template>\n              </template>\n              <div class=\"modal__content__section__form__longer\">\n                <FormItem prop=\"securityGroupsValues\" label=\"安全组\">\n                  <Select\n                    v-model=\"formValues.securityGroupsValues\"\n                    :placeholder=\"\n                      !formValues.subnet_id ? '请先选择私有子网' : '请搜索'\n                    \"\n                    filterable\n                    :disabled=\"!formValues.subnet_id\"\n                    multiple\n                  >\n                    <Option\n                      v-for=\"item in securityGroupOptions\"\n                      :key=\"item.value\"\n                      :value=\"item.value\"\n                      >{{ item.label }}</Option\n                    >\n                  </Select>\n                </FormItem>\n              </div>\n            </div>\n          </div>\n          <div class=\"modal__content__section\">\n            <div class=\"modal__content__section__title\">其他设置</div>\n            <div class=\"modal__content__section__form\">\n              <div class=\"modal__content__section__form__tags\">\n                <div class=\"modal__content__section__form__tags__label\">\n                  标签\n                </div>\n                <div class=\"modal__content__section__form__tags__content\">\n                  <div\n                    v-for=\"(item, index) in formValues.tagsValues\"\n                    :key=\"index\"\n                    class=\"modal__content__section__form__tags__content__line\"\n                  >\n                    <FormItem\n                      :prop=\"'tagsValues.' + index + '.key'\"\n                      :rules=\"{\n                        required: true,\n                        message: '标签键不能为空',\n                        trigger: 'blur',\n                      }\"\n                    >\n                      <Select\n                        v-model=\"item.key\"\n                        filterable\n                        @on-select=\"handleSelectTag\"\n                      >\n                        <Option\n                          v-for=\"tagKey in tagKeyOptions\"\n                          :key=\"tagKey.value\"\n                          :value=\"tagKey.value\"\n                          >{{ tagKey.label }}</Option\n                        >\n                      </Select>\n                    </FormItem>\n                    <FormItem\n                      :prop=\"'tagsValues.' + index + '.value'\"\n                      :rules=\"{\n                        required: true,\n                        message: '标签值不能为空',\n                        trigger: 'blur',\n                      }\"\n                    >\n                      <Select\n                        v-model=\"item.value\"\n                        filterable\n                        :loading=\"tagValueOptions[item.key] === undefined\"\n                        :disabled=\"item.key === ''\"\n                        :placeholder=\"\n                          item.key === '' ? '请先选择标签键' : '请选择'\n                        \"\n                      >\n                        <Option\n                          v-for=\"tagValue in tagValueOptions[item.key]\"\n                          :key=\"tagValue.value\"\n                          :value=\"tagValue.value\"\n                          >{{ tagValue.label }}</Option\n                        >\n                      </Select>\n                    </FormItem>\n                    <Icon\n                      v-if=\"index === formValues.tagsValues.length - 1\"\n                      size=\"20\"\n                      type=\"md-add\"\n                      @click=\"handleAddTag\"\n                    />\n                    <Icon\n                      v-if=\"formValues.tagsValues.length > 1\"\n                      size=\"20\"\n                      type=\"md-close\"\n                      @click=\"handleRemoveTag(index)\"\n                    />\n                  </div>\n                </div>\n              </div>\n              <div class=\"modal__content__section__form__longer\">\n                <FormItem prop=\"description\" label=\"备注\">\n                  <Input\n                    v-model=\"formValues.description\"\n                    type=\"textarea\"\n                    placeholder=\"请输入备注\"\n                  />\n                </FormItem>\n              </div>\n            </div>\n          </div>\n        </div>\n      </Form>\n      <div v-if=\"buy\" class=\"modal__content__buy\">\n        <Form\n          ref=\"buyForm\"\n          :model=\"buyValues\"\n          :label-width=\"100\"\n          :rules=\"buyFormRules\"\n        >\n          <FormItem prop=\"name\">\n            <span slot=\"label\">\n              <span>资源名称</span>\n              <Tooltip placement=\"top-start\">\n                <div slot=\"content\">\n                  <div>\n                    示例：业务-厂商-地域-环境-服务+编号(ops-tx-sh-test-etcd01)\n                  </div>\n                  <div>全部为英文或者数字，-为分隔符 是关键字不能被占用</div>\n                </div>\n                <Icon type=\"ios-help-circle-outline\" style=\"margin-left: 5px\" />\n              </Tooltip>\n            </span>\n            <Input v-model=\"buyValues.name\" type=\"text\" />\n          </FormItem>\n          <FormItem prop=\"count\" label=\"购买数量\">\n            <InputNumber v-model=\"buyValues.count\" :max=\"10\" :min=\"1\" />\n          </FormItem>\n        </Form>\n        <div class=\"modal__content__buy__price\">\n          <Tooltip placement=\"top\" :max-width=\"1000\">\n            <div slot=\"content\" class=\"popup__price\">\n              <div class=\"popup__price__header\">\n                <div class=\"popup__price__header__label\">计费项</div>\n                <div class=\"popup__price__header__value\">价格</div>\n              </div>\n              <div class=\"popup__price__item\">\n                <div class=\"popup__price__item__label\">实例</div>\n                <div class=\"popup__price__item__value\">\n                  <div class=\"popup__price__item__value__final\">\n                    ￥{{ price.dis_count_price }}\n                  </div>\n                  <div\n                    v-if=\"price.dis_count !== 100\"\n                    class=\"popup__price__item__value__discount\"\n                  >\n                    {{ price.dis_count / 10 }}折\n                  </div>\n                  <div\n                    v-if=\"price.dis_count !== 100\"\n                    class=\"popup__price__item__value__original\"\n                  >\n                    ￥{{ price.original_price }}\n                  </div>\n                </div>\n              </div>\n              <div class=\"popup__price__item\">\n                <div class=\"popup__price__item__label\">带宽</div>\n                <div class=\"popup__price__item__value\">\n                  <div class=\"popup__price__item__value__final\">\n                    ￥{{ price.bandwidth_dis_count_price }}\n                  </div>\n                  <div\n                    v-if=\"price.bandwidth_dis_count !== 100\"\n                    class=\"popup__price__item__value__discount\"\n                  >\n                    {{ price.bandwidth_dis_count / 10 }}折\n                  </div>\n                  <div\n                    v-if=\"price.bandwidth_dis_count !== 100\"\n                    class=\"popup__price__item__value__original\"\n                  >\n                    ￥{{ price.bandwidth_original_price }}\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"modal__content__buy__price__label\">配置费用</div>\n          </Tooltip>\n          <div v-if=\"!priceLoading\" class=\"modal__content__buy__price__value\">\n            ￥{{\n              (price.bandwidth_dis_count_price + price.dis_count_price).toFixed(\n                2\n              )\n            }}\n          </div>\n          <div v-else class=\"modal__content__buy__price__loading\">\n            <Icon type=\"ios-loading\" />\n          </div>\n        </div>\n      </div>\n    </div>\n  </Modal>\n</template>\n<!-- eslint-disable camelcase -->\n<script>\nimport { debounce } from 'lodash';\nimport {\n  createOrderTemplate,\n  getTagList,\n  getPrice,\n  createOrder,\n  getImageIds,\n  getInsType,\n  getBindWidthPkgIds,\n} from '@/api/cmdb';\n\nimport { getVswitch } from '@/api/cloud/vswitch';\nimport { getSecurityGroup } from '@/api/cloud/security-group';\n\nimport { getFeFormInfo, getUniqueStr, getParams } from '../utils';\n\nimport {\n  resTypeOptions,\n  dataDiskTypeOptions,\n  systemDiskTypeOptions,\n  instanceChargeTypeOptions,\n  internetChargeTypeOptions,\n} from '../options';\n\nconst DEFAULT_FORM_VALUES = {\n  cloud_region_id: '',\n  cloud_region_name: '',\n  account_id: '',\n  name: '',\n  res_type: '',\n  vendor: '',\n  region: '',\n  zone: '',\n  image_id: '',\n  image_name: '',\n  cpu: '',\n  memory: '',\n  instance_type: '',\n  system_disk_size: '',\n  system_disk_type: '',\n  security_groups: {},\n  securityGroupsValues: [],\n  tags: {},\n  tagsValues: [\n    {\n      key: '',\n      value: '',\n    },\n  ],\n  vpc_id: '',\n  vpc_name: '',\n  subnet_id: '',\n  subnet_name: '',\n  max_flow_out: 1,\n  image_passwd: '',\n  instance_charge_type: '',\n  internet_charge_type: '',\n  description: '',\n  is_eip: '',\n  inner_ip: '',\n  bandwidth_pkg_id: '',\n  data_disk_type: '',\n  data_disk_size: '',\n  cloundAccountRender: '',\n};\n\n// 镜像查询间隔ms\nconst DEBOUNCE_IMAGE_ID = 300;\n\n// 带宽包ID查询间隔ms\nconst DEBOUNCE_BINDWIDTH_ID = 1000;\n\n// 实例配置查询间隔ms\nconst DEBOUNCE_INS_OPTIONS = 1000;\n\nconst DEFAULT_PRICE = {\n  bandwidth_dis_count: 100,\n  bandwidth_dis_count_price: 0,\n  bandwidth_original_price: 0,\n  dis_count: 100,\n  dis_count_price: 0,\n  original_price: 0,\n};\n\nexport default {\n  name: 'AddTemplateModal',\n  props: {\n    show: {\n      type: Boolean,\n      default: false,\n    },\n    buyRow: {\n      type: Object,\n      default: null,\n    },\n  },\n  data() {\n    return {\n      // 镜像远程搜索\n      imageIdOptions: [],\n      imageIdLoading: false,\n      // 镜像远程搜索\n      bindWidthIdOptions: [],\n      bindWidthIdLoading: false,\n      // 带宽限制常用数字，点击设置具体值\n      commonNums: {\n        1: {\n          label: this.$createElement(\n            'div',\n            {\n              on: {\n                click: () => {\n                  this.$nextTick(() => {\n                    setTimeout(() => {\n                      this.$set(this.formValues, 'max_flow_out', 1);\n                    }, 0);\n                  });\n                },\n              },\n            },\n            '1'\n          ),\n        },\n        200: {\n          label: this.$createElement(\n            'div',\n            {\n              on: {\n                click: () => {\n                  this.$nextTick(() => {\n                    setTimeout(() => {\n                      this.$set(this.formValues, 'max_flow_out', 200);\n                    }, 0);\n                  });\n                },\n              },\n            },\n            '200'\n          ),\n        },\n        500: {\n          label: this.$createElement(\n            'div',\n            {\n              on: {\n                click: () => {\n                  this.$nextTick(() => {\n                    setTimeout(() => {\n                      this.$set(this.formValues, 'max_flow_out', 500);\n                    }, 0);\n                  });\n                },\n              },\n            },\n            '500'\n          ),\n        },\n      },\n      title: '创建资源模板字段页面',\n      priceLoading: false,\n      buy: false,\n      price: DEFAULT_PRICE,\n      // 处理tags、security_groups等数据结构\n      specialSplit: '',\n      resTypeOptions,\n      dataDiskTypeOptions,\n      systemDiskTypeOptions,\n      instanceChargeTypeOptions,\n      internetChargeTypeOptions,\n      vswitchOptions: [],\n      securityGroupOptions: [],\n      tagKeyOptions: [],\n      tagValueOptions: {},\n      buyValues: {\n        name: '',\n        count: 1,\n      },\n      buyFormRules: {\n        name: [\n          {\n            required: true,\n            validator: (_, value, callback) => {\n              if (value === '') {\n                callback(new Error('资源名称必填'));\n              } else if (!/^([a-zA-Z0-9]+-){4}[a-zA-Z0-9]+$/.test(value)) {\n                callback(new Error('资源名称格式错误，请检查'));\n              } else {\n                callback();\n              }\n            },\n            trigger: 'blur',\n          },\n        ],\n        count: [\n          {\n            required: true,\n            validator: (_, value, callback) => {\n              if (!value || value < 1) {\n                callback(new Error('资源数量须大于等于1'));\n              } else {\n                callback();\n              }\n            },\n            trigger: 'blur',\n          },\n        ],\n      },\n      formValues: DEFAULT_FORM_VALUES,\n      formRules: {\n        name: [{ required: true, message: '模板名称必填', trigger: 'blur' }],\n        res_type: [\n          { required: true, message: '模板类型必选', trigger: 'blur' },\n        ],\n        subnet_id: [\n          { required: true, message: '私有子网必选', trigger: 'blur' },\n        ],\n        cloud_region_id: [\n          { required: true, message: '云区域不能为空', trigger: 'blur' },\n        ],\n        cloundAccountRender: [\n          { required: true, message: '云厂商不能为空', trigger: 'blur' },\n        ],\n        vpc_name: [\n          { required: true, message: '私有网络不能为空', trigger: 'blur' },\n        ],\n        region: [{ required: true, message: '地域不能为空', trigger: 'blur' }],\n        zone: [{ required: true, message: '可用区不能为空', trigger: 'blur' }],\n        image_id: [{ required: true, message: '镜像必填', trigger: 'blur' }],\n        instance_charge_type: [\n          { required: true, message: '实例计费模式必填', trigger: 'blur' },\n        ],\n        cpu: [\n          {\n            required: true,\n            validator: (_, value, callback) => {\n              if (!value) {\n                callback(new Error('cpu必填'));\n              } else {\n                callback();\n              }\n            },\n            trigger: 'blur',\n          },\n        ],\n        memory: [\n          {\n            required: true,\n            validator: (_, value, callback) => {\n              if (!value) {\n                callback(new Error('内存必填'));\n              } else {\n                callback();\n              }\n            },\n            trigger: 'blur',\n          },\n        ],\n        instance_type: [\n          { required: true, message: '实例类型必填', trigger: 'blur' },\n        ],\n        system_disk_type: [\n          { required: true, message: '系统盘类型必填', trigger: 'blur' },\n        ],\n        system_disk_size: [\n          {\n            required: true,\n            validator: (_, value, callback) => {\n              if (!value) {\n                callback(new Error('系统盘大小必填'));\n              } else {\n                callback();\n              }\n            },\n            trigger: 'blur',\n          },\n        ],\n        internet_charge_type: [\n          { required: true, message: '网络计费模式必填', trigger: 'blur' },\n        ],\n        max_flow_out: [\n          {\n            required: true,\n            validator: (_, value, callback) => {\n              if (!value) {\n                callback(new Error('带宽限制必填'));\n              } else {\n                callback();\n              }\n            },\n            trigger: 'blur',\n          },\n        ],\n        securityGroupsValues: [\n          {\n            required: true,\n            validator: (_, value, callback) => {\n              if (!value || value.length === 0) {\n                callback(new Error('安全组必填'));\n              } else {\n                callback();\n              }\n            },\n            trigger: 'blur',\n          },\n        ],\n        tags: [{ required: true, message: '标签必填', trigger: 'blur' }],\n      },\n      showModal: this.show,\n      modalLoading: true,\n    };\n  },\n  computed: {\n    realShow() {\n      return this.show;\n    },\n    insTypeParams() {\n      const { account_id, vendor, res_type, region, zone, instance_type } =\n        this.formValues;\n      return {\n        account_id,\n        vendor,\n        res_type,\n        region,\n        zone,\n        instance_type,\n      };\n    },\n  },\n  watch: {\n    show(v) {\n      if (v) {\n        this.getSettings();\n      }\n      this.showModal = v;\n    },\n    buyRow(v) {\n      if (v) {\n        this.title = '购买资源';\n        this.formValues = getFeFormInfo(v, this);\n\n        this.$nextTick(() => {\n          this.buy = true;\n          this.getSecurityGroupData({\n            filter_map: {\n              region: this.formValues.region,\n              cloud_name: this.formValues.vendor,\n            },\n          });\n          this.getImageIdOptions({\n            filter_map: {\n              region: this.formValues.region,\n              cloud_name: this.formValues.vendor,\n            },\n          });\n          this.getBindWidthPkgIdOptions({\n            filter_map: {\n              region: this.formValues.region,\n              cloud_name: this.formValues.vendor,\n            },\n          });\n        });\n      } else {\n        this.title = '创建资源模板字段页面';\n        this.buy = false;\n        this.formValues = DEFAULT_FORM_VALUES;\n      }\n    },\n    formValues: {\n      async handler() {\n        if (!this.buy) return;\n        this.onFormValiDate();\n      },\n      deep: true,\n    },\n    'buyValues.count': {\n      async handler() {\n        this.onFormValiDate();\n      },\n      deep: true,\n    },\n    insTypeParams: {\n      async handler(val) {\n        const { account_id, vendor, res_type, region, zone, instance_type } =\n          val;\n        if (\n          !account_id ||\n          !vendor ||\n          !res_type ||\n          !region ||\n          !zone ||\n          !instance_type\n        )\n          return;\n        this.getInsTypeOptions();\n      },\n      deep: true,\n    },\n  },\n  mounted() {\n    this.specialSplit = getUniqueStr(3);\n  },\n  methods: {\n    getInsTypeOptions: debounce(async function () {\n      try {\n        const { account_id, vendor, res_type, region, zone, instance_type } =\n          this.formValues;\n        const { data } = await getInsType({\n          account_id,\n          vendor,\n          res_type,\n          region,\n          zone,\n          instance_type,\n        });\n        this.formValues.cpu = data.cpu;\n        this.formValues.memory = data.memory;\n      } catch (err) {\n        this.formValues.cpu = '';\n        this.formValues.memory = '';\n      }\n    }, DEBOUNCE_INS_OPTIONS),\n\n    getImageIdOptions: debounce(async function (params) {\n      try {\n        this.imageIdLoading = true;\n        const { data } = await getImageIds(params);\n        this.imageIdOptions = data.map((c) => ({\n          label: `${c.instance_id} | ${c.name} | ${c.os_name}`,\n          value: c.instance_id,\n        }));\n      } catch (err) {\n        this.imageIdOptions = [];\n      } finally {\n        this.imageIdLoading = false;\n      }\n    }, DEBOUNCE_IMAGE_ID),\n\n    getBindWidthPkgIdOptions: debounce(async function () {\n      try {\n        this.bindWidthIdLoading = true;\n        const { account_id, vendor, res_type, region } = this.formValues;\n        const { data } = await getBindWidthPkgIds({\n          account_id,\n          vendor,\n          res_type,\n          region,\n        });\n        this.bindWidthIdOptions = data.map((c) => ({\n          label: `${c.id} | ${c.name}`,\n          value: c.id,\n        }));\n      } catch (err) {\n        this.bindWidthIdOptions = [];\n      } finally {\n        this.bindWidthIdLoading = false;\n      }\n    }, DEBOUNCE_BINDWIDTH_ID),\n\n    tipFormat(val) {\n      return val + 'Mbps';\n    },\n    onFormValiDate: debounce(async function () {\n      try {\n        await this.validateBeforGetPrice();\n        const params = getParams(this.formValues, this);\n        this.priceLoading = true;\n        const { data } = await getPrice({\n          count: this.buyValues.count,\n          ...params,\n        });\n        this.price = data;\n      } catch (err) {\n        this.price = DEFAULT_PRICE;\n      } finally {\n        this.priceLoading = false;\n      }\n    }, 500),\n    async validateBeforGetPrice() {\n      const validate = await new Promise((resolve, reject) => {\n        this.$refs.form.validate((v) => {\n          if (v) {\n            this.$refs.buyForm.validateField('count', (count) => {\n              if (!count) {\n                resolve();\n              }\n            });\n          }\n          reject(new Error('表单校验失败，请检查'));\n        });\n      });\n      return validate;\n    },\n    async getSettings() {\n      this.getVswitchData();\n      this.getTagData();\n    },\n    async getVswitchData() {\n      const { data } = await getVswitch();\n      this.vswitchOptions = data.map((c) => ({\n        ...c,\n        label: `${c.instance_id} | ${c.name} | ${c.cidr_block_v4}`,\n      }));\n    },\n    async getSecurityGroupData(params) {\n      const { data } = await getSecurityGroup(params);\n      this.securityGroupOptions = data.map((c) => ({\n        ...c,\n        label: `${c.instance_id} | ${c.security_group_name}`,\n        value: `${c.instance_id}${this.specialSplit}${c.security_group_name}`,\n      }));\n    },\n    async getTagData() {\n      const { data } = await getTagList();\n\n      this.tagKeyOptions = data.map((c) => ({\n        label: c,\n        value: c,\n      }));\n    },\n    async handleSelectTag(tag) {\n      const { data } = await getTagList({ tag_key: tag.value });\n\n      this.$set(\n        this.tagValueOptions,\n        tag.value,\n        data.map((c) => ({\n          label: c,\n          value: c,\n        }))\n      );\n    },\n    handleAddTag() {\n      this.formValues.tagsValues.push({\n        key: '',\n        value: '',\n      });\n    },\n    handleRemoveTag(index) {\n      this.formValues.tagsValues = this.formValues.tagsValues.filter(\n        (_, i) => i !== index\n      );\n    },\n    handleInstanceChange(v) {\n      const option = this.vswitchOptions.find((c) => c?.instance_id === v);\n      if (!option) return;\n      this.formValues = {\n        ...this.formValues,\n        subnet_name: `${option.instance_id} | ${option.name} | ${option.cidr_block_v4}`,\n        vendor: option.cloud_name,\n        account_id: option.account_id,\n        cloundAccountRender: `${option.account_id} | ${option.cloud_name}`,\n        vpc_id: option.vpc_id,\n        vpc_name: `${option.vpc_id} | ${option.vpc_name}`,\n        cloud_region_id: option.cloud_region_id,\n        cloudRender: `${option.cloud_region_id}`,\n        region: option.region,\n        zone: option.zone,\n      };\n      this.getSecurityGroupData({\n        filter_map: {\n          region: option.region,\n          cloud_name: option.cloud_name,\n        },\n      });\n      this.getImageIdOptions({\n        filter_map: {\n          region: option.region,\n          cloud_name: option.cloud_name,\n        },\n      });\n      this.getBindWidthPkgIdOptions({\n        filter_map: {\n          region: option.region,\n          cloud_name: option.cloud_name,\n        },\n      });\n    },\n    async ok() {\n      try {\n        await new Promise((resolve, reject) => {\n          this.$refs.form.validate((v) => {\n            if (!v) {\n              reject(new Error('表单校验失败，请检查'));\n            }\n          });\n          if (this.buy) {\n            this.$refs.buyForm.validate((v) => {\n              if (!v) {\n                reject(new Error('表单校验失败，请检查'));\n              }\n            });\n          }\n          resolve();\n        });\n        const params = getParams(this.formValues, this);\n        const res = await (this.buy\n          ? createOrder({\n              instance_name: this.buyValues.name,\n              count: this.buyValues.count,\n              image_passwd: '',\n              ...params,\n            })\n          : createOrderTemplate({\n              ...params,\n            }));\n        if (!res) {\n          throw new Error('请求错误，请重试');\n        }\n        this.$emit('addSuccessCallback');\n        this.showModal = false;\n        this.$Message.success(res.msg);\n      } catch (err) {\n        this.$Message.error(err.message);\n        this.modalLoading = false;\n      } finally {\n        this.$nextTick(() => {\n          this.modalLoading = true;\n        });\n      }\n    },\n    cancel() {\n      this.$emit('closeAddModal');\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n/deep/ .ivu-modal-body {\n  padding: 16px 16px 0 0;\n}\n\n.modal {\n  &__content {\n    padding-left: 16px;\n    position: relative;\n    max-height: calc(~'100vh - 300px');\n    overflow-y: auto;\n    &__section {\n      border-width: 1px 0 0 0;\n      border-color: #ccc;\n      border-style: solid;\n      &__title {\n        margin: 12px 0;\n      }\n      &__form {\n        padding-left: 12px;\n        display: flex;\n        flex-wrap: wrap;\n        &__custom {\n          width: 50%;\n        }\n        &__select {\n          width: 50%;\n        }\n        &__int {\n          width: 50%;\n          &__unit {\n            line-height: 32px;\n          }\n        }\n        &__longer {\n          width: 100%;\n        }\n\n        /deep/ .ivu-form-item {\n          padding-right: 20px;\n          // width: 50%;\n          .ivu-form-item-label {\n            padding: 10px 0;\n            font-size: 12px;\n            text-align: center;\n          }\n          .ivu-form-item-content {\n            margin-left: 112px !important;\n          }\n        }\n        &__special,\n        &__tags {\n          display: flex;\n          &__label {\n            width: 100px;\n            height: 32px;\n            line-height: 32px;\n            font-size: 12px;\n            text-align: center;\n            flex-shrink: 0;\n          }\n          &__label::before {\n            content: '*';\n            display: inline-block;\n            margin-right: 4px;\n            line-height: 1;\n            font-family: SimSun;\n            font-size: 14px;\n            color: #ed4014;\n          }\n          &__unit {\n            margin-left: 5px;\n          }\n        }\n        &__special {\n          /deep/ .ivu-form-item {\n            flex: 1;\n            padding-right: 0px;\n            .ivu-form-item-content {\n              display: flex;\n              margin-left: 12px !important;\n              margin-right: 20px;\n            }\n          }\n        }\n        &__limit {\n          width: 50%;\n          &__special {\n            display: flex;\n            &__label {\n              width: 100px;\n              height: 32px;\n              line-height: 32px;\n              font-size: 12px;\n              text-align: center;\n              flex-shrink: 0;\n            }\n            &__label::before {\n              content: '*';\n              display: inline-block;\n              margin-right: 4px;\n              line-height: 1;\n              font-family: SimSun;\n              font-size: 14px;\n              color: #ed4014;\n            }\n            &__slider {\n              flex: 1;\n            }\n            &__input {\n              flex-grow: 0;\n              width: 160px;\n              flex-shrink: 0;\n            }\n            &__unit {\n              margin-left: 5px;\n            }\n            /deep/ .ivu-form-item {\n              padding-right: 0px;\n              .ivu-form-item-content {\n                display: flex;\n                margin-left: 12px !important;\n                margin-right: 20px;\n                .ivu-input-number {\n                  width: 100%;\n                }\n                .ivu-slider {\n                  flex: 1;\n                }\n              }\n            }\n          }\n        }\n        &__tags {\n          width: 100%;\n          &__content {\n            flex: 1;\n            &__line {\n              display: flex;\n              /deep/ .ivu-form-item {\n                margin-left: 12px;\n                width: calc(~'50% - 62px');\n                .ivu-form-item-content {\n                  width: 100%;\n                  margin-left: 0 !important;\n                }\n              }\n              /deep/ .ivu-icon-md-close,\n              .ivu-icon-md-add {\n                margin-right: 10px;\n                line-height: 32px;\n                cursor: pointer;\n              }\n            }\n          }\n        }\n      }\n    }\n    &__buy {\n      z-index: 1;\n      padding-top: 12px;\n      background-color: #fbfcfc;\n      display: flex;\n      justify-content: space-between;\n      align-items: flex-end;\n      position: sticky;\n      padding-left: 12px;\n      margin-left: -16px;\n      bottom: 0;\n      border-top: 1px solid #e8eaec;\n      -webkit-box-shadow: 0 -1px 2px rgba(0, 0, 0, 0.03);\n      box-shadow: 0 -1px 2px rgba(0, 0, 0, 0.03);\n      /deep/ .ivu-form-item {\n        padding-right: 20px;\n        // width: 50%;\n\n        .ivu-form-item-label {\n          padding: 10px 0;\n          font-size: 12px;\n          text-align: right;\n        }\n        .ivu-form-item-content {\n          margin-left: 112px !important;\n          width: 200px;\n          .ivu-input-number {\n            width: 100%;\n          }\n        }\n      }\n      &__price {\n        height: 34px;\n        margin-bottom: 24px;\n        margin-right: 200px;\n        display: flex;\n        align-items: center;\n        &__label {\n          margin-right: 12px;\n          text-decoration: underline dotted #999999;\n        }\n        &__value {\n          color: #ba0018;\n        }\n        &__loading {\n          animation: load 1.1s infinite linear;\n        }\n      }\n    }\n  }\n  @keyframes load {\n    from {\n      transform: rotate(0deg);\n    }\n    to {\n      transform: rotate(360deg);\n    }\n  }\n}\n\n.popup {\n  &__price {\n    &__header {\n      display: flex;\n      padding-left: 10px;\n      align-items: center;\n      background-color: #f1f2f5;\n      height: 50px;\n      &__label {\n        width: 80px;\n        flex-shrink: 0;\n      }\n      &__value {\n        font-weight: bold;\n      }\n    }\n    &__item {\n      display: flex;\n      padding-left: 10px;\n      padding-right: 20px;\n      align-items: center;\n      height: 70px;\n      border-bottom: 1px solid #e2e6ed;\n      &__label {\n        width: 80px;\n        flex-shrink: 0;\n      }\n      &__value {\n        display: flex;\n        align-items: center;\n        &__final {\n          font-weight: bold;\n          margin-right: 10px;\n          color: #ff7200;\n          font-size: 16px;\n        }\n        &__discount {\n          font-weight: bold;\n          margin-right: 10px;\n          height: 32px;\n          line-height: 30px;\n          padding: 0 10px;\n          background-color: #ffe8d5;\n          color: #ff7200;\n          border: 1px solid #ff7200;\n          border-radius: 50%;\n        }\n        &__original {\n          font-size: 14px;\n          text-decoration: line-through;\n          color: #a5aebb;\n        }\n      }\n    }\n  }\n}\n\n/deep/ .ivu-tooltip-content {\n  .ivu-tooltip-inner {\n    max-width: unset;\n    background-color: #fff;\n    color: #000;\n  }\n  .ivu-tooltip-arrow {\n    background-color: #fff;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addTemplate.bak.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addTemplate.bak.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./addTemplate.bak.vue?vue&type=template&id=84c6fd0e&scoped=true&\"\nimport script from \"./addTemplate.bak.vue?vue&type=script&lang=js&\"\nexport * from \"./addTemplate.bak.vue?vue&type=script&lang=js&\"\nimport style0 from \"./addTemplate.bak.vue?vue&type=style&index=0&id=84c6fd0e&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"84c6fd0e\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addTemplate.bak.vue?vue&type=style&index=0&id=84c6fd0e&prod&scoped=true&lang=less&\""],"sourceRoot":""}