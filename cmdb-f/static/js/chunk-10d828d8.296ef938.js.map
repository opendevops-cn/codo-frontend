{"version":3,"sources":["webpack://cmdb-[name]/./src/api/cloud/events.js","webpack://cmdb-[name]/./src/views/cmdb/events/aws-events.vue","webpack://cmdb-[name]/src/views/cmdb/events/aws-events.vue","webpack://cmdb-[name]/./src/views/cmdb/events/aws-events.vue?6028","webpack://cmdb-[name]/./src/views/cmdb/events/aws-events.vue?73d4"],"names":["getAwsEventslist","params","request","url","method","getAliyunEventslist","getQcloudEventslist","render","_vm","this","_c","_self","staticStyle","attrs","on","handleClear","nativeOn","$event","type","indexOf","_k","keyCode","key","handleSearch","apply","arguments","model","value","searchParams","searchVal","callback","$$v","$set","expression","_v","handlefilter","columns","tableData","pageTotal","page_number","page_size","changePage","handlePageSize","staticRenderFns","components","data","title","align","width","sortable","tooltip","ellipsis","h","click","handleDetail","index","row","event_instnace_id","minWidth","maxWidth","state","event_status","props","color","style","marginRight","methods","res","code","count","$Message","error","msg","$Modal","info","content","event_account_id","event_region","event_name","event_type","event_start_time","event_arn","e","target","val","getTableData","filter_status","mounted","component"],"mappings":"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","file":"static/js/chunk-10d828d8.296ef938.js","sourcesContent":["/* eslint-disable camelcase */\nimport request from '@/plugins/axios'\n// 获取AWS Events信息\nexport const getAwsEventslist = (params) => request({\n  url: '/api/v2/cmdb/events/aws/',\n  method: 'get',\n  params,\n})\n\n// 获取Aliyun Events信息\nexport const getAliyunEventslist = (params) => request({\n  url: '/api/v2/cmdb/events/aliyun/',\n  method: 'get',\n  params,\n})\n\n\n// 获取Aliyun Events信息\nexport const getQcloudEventslist = (params) => request({\n  url: '/api/v2/cmdb/events/qcloud/',\n  method: 'get',\n  params,\n})\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Card',[_c('Input',{staticStyle:{\"width\":\"300px\",\"margin\":\"2px\"},attrs:{\"clearable\":\"\",\"placeholder\":\"输入关键字模糊搜索\"},on:{\"on-change\":_vm.handleClear},nativeOn:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.handleSearch.apply(null, arguments)}},model:{value:(_vm.searchParams.searchVal),callback:function ($$v) {_vm.$set(_vm.searchParams, \"searchVal\", $$v)},expression:\"searchParams.searchVal\"}}),_c('Button',{attrs:{\"type\":\"default\",\"icon\":\"ios-search\"},on:{\"click\":function($event){return _vm.handleSearch()}}},[_vm._v(\"搜索\")]),_c('span',{staticStyle:{\"margin-left\":\"20px\"}},[_vm._v(\"一键筛选：\")]),_c('Button',{staticStyle:{\"margin\":\"3px\"},on:{\"click\":function($event){return _vm.handlefilter('upcoming')}}},[_vm._v(\"未处理事件\")]),_c('Table',{attrs:{\"size\":\"small\",\"columns\":_vm.columns,\"data\":_vm.tableData}}),_c('div',{staticStyle:{\"margin\":\"10px\",\"overflow\":\"hidden\"}},[_c('div',{staticStyle:{\"float\":\"left\"}},[_c('Page',{attrs:{\"total\":_vm.pageTotal,\"current\":_vm.searchParams.page_number,\"page-size\":_vm.searchParams.page_size,\"page-size-opts\":[12, 35, 50, 100],\"show-sizer\":\"\",\"show-total\":\"\"},on:{\"on-change\":_vm.changePage,\"on-page-size-change\":_vm.handlePageSize}})],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <Card>\n    <Input style=\"width: 300px; margin: 2px\" @on-change=\"handleClear\" clearable placeholder=\"输入关键字模糊搜索\" v-model=\"searchParams.searchVal\" @keydown.enter.native=\"handleSearch\" />\n    <Button type=\"default\" @click=\"handleSearch()\" icon=\"ios-search\">搜索</Button>\n    <span style=\"margin-left: 20px\">一键筛选：</span>\n    <Button @click=\"handlefilter('upcoming')\" style=\"margin: 3px\">未处理事件</Button>\n    <Table size=\"small\" :columns=\"columns\" :data=\"tableData\"></Table>\n    <!-- 分页 -->\n    <div style=\"margin: 10px; overflow: hidden\">\n      <div style=\"float: left\">\n        <Page :total=\"pageTotal\" :current=\"searchParams.page_number\" :page-size=\"searchParams.page_size\" :page-size-opts=\"[12, 35, 50, 100]\" show-sizer show-total @on-change=\"changePage\" @on-page-size-change=\"handlePageSize\"></Page>\n      </div>\n    </div>\n  </Card>\n\n</template>\n\n<script>\nimport { getAwsEventslist } from '@/api/cloud/events.js';\nexport default {\n  components: {},\n  data() {\n    return {\n      tableData: [],\n\n      pageTotal: 10,\n      searchParams: {\n        page_number: 1,\n        page_size: 12,\n      },\n      columns: [\n        {\n          title: \"ID\",\n          key: \"id\",\n          align: \"center\",\n          width: 80,\n          sortable: true,\n        },\n        {\n          title: \"账号ID\",\n          width: 160,\n          key: \"event_account_id\",\n          align: \"center\",\n          sortable: true,\n        },\n        {\n          title: \"类型\",\n          width: 380,\n          key: \"event_type\",\n          tooltip: true,\n          align: \"left\",\n          sortable: true,\n        },\n        {\n          title: \"实例ID\",\n          key: \"event_instnace_id\",\n          align: \"left\",\n          sortable: true,\n          ellipsis: true,\n          tooltip: true,\n          render: (h, params) => {\n            return h(\n              \"a\",\n              {\n                on: {\n                  click: () => {\n                    this.handleDetail(params.index);\n                  },\n                },\n              },\n              params.row.event_instnace_id\n            );\n          },\n        },\n        {\n          title: \"主机名\",\n          key: \"event_name\",\n          align: \"left\",\n          minWidth: 150,\n          sortable: true,\n        },\n        {\n          title: \"区域\",\n          maxWidth: 150,\n          key: \"event_region\",\n          align: \"center\",\n          sortable: true,\n        },\n        {\n          title: \"服务\",\n          width: 150,\n          key: \"event_service\",\n          align: \"center\",\n          sortable: true,\n        },\n        {\n          title: \"开始时间(UTC)\",\n          width: 180,\n          key: \"event_start_time\",\n          align: \"center\",\n          sortable: true,\n        },\n        {\n          title: \"状态\",\n          key: \"event_status\",\n          width: 100,\n          align: \"center\",\n          sortable: true,\n\n          render: (h, params) => {\n            let state = params.row.event_status;\n            if (state == \"upcoming\") {\n              return h(\"div\", [\n                h(\n                  \"tag\",\n                  {\n                    props: {\n                      color: \"error\"\n                    },\n                    style: {\n                      marginRight: \"4px\",\n                    },\n                  },\n                  \"未处理\"\n                ),\n              ]);\n            } else {\n              return h(\"div\", [\n                h(\n                  \"tag\",\n                  {\n                    props: {\n                      color: \"success\"\n                    },\n                    style: {\n                      marginRight: \"4px\",\n                    },\n                  },\n                  \"已处理\"\n                ),\n              ]);\n            }\n          },\n        },\n      ],\n    };\n  },\n  methods: {\n    // tableData\n    async getTableData() {\n      const res = await getAwsEventslist(this.searchParams);\n      if (res.code === 0) {\n        this.tableData = res.data;\n        this.pageTotal = res.count;\n      } else {\n        this.$Message.error(`${res.msg}`);\n      }\n    },\n    handleDetail(index) {\n      this.$Modal.info({\n        width: \"950px\",\n        title: \"AWS Events 事件信息\",\n        content: `账号：${this.tableData[index].event_account_id}<br>\n            区域：${this.tableData[index].event_region}<br>\n            实例ID：${this.tableData[index].event_instnace_id}<br>\n            实例名称：${this.tableData[index].event_name}<br>\n            事件状态：${this.tableData[index].event_status}<br>\n            事件类型：${this.tableData[index].event_type}<br>\n            事件开始时间：${this.tableData[index].event_start_time}<br>\n            事件ID：${this.tableData[index].event_arn}<br>\n`,\n      });\n    },\n    handleClear(e) {\n      if (e.target.value === \"\") this.tableData = this.value;\n    },\n    // 每页条数\n    handlePageSize(val) {\n      this.searchParams.page_size = val;\n      this.getTableData();\n    },\n    // 切换分页\n    changePage(val) {\n      this.searchParams.page_number = val;\n      this.getTableData();\n    },\n    handleSearch() {\n      this.searchParams.filter_status = \"\";\n      this.searchParams.page_number = 1;\n      this.getTableData();\n    },\n    handlefilter(val) {\n      this.searchParams.filter_status = val;\n      this.searchParams.page_number = 1;\n      this.getTableData();\n    },\n  },\n  mounted() {\n    this.getTableData();\n  },\n};\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./aws-events.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./aws-events.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./aws-events.vue?vue&type=template&id=2a859f73&\"\nimport script from \"./aws-events.vue?vue&type=script&lang=js&\"\nexport * from \"./aws-events.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}