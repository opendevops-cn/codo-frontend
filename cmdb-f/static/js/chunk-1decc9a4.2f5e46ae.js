(window["webpackJsonp_cmdb"]=window["webpackJsonp_cmdb"]||[]).push([["chunk-1decc9a4","chunk-2d0c17f4"],{"093a":function(e,t,a){"use strict";a("802c")},"45fc":function(e,t,a){"use strict";a.r(t),a.d(t,"getVPC",(function(){return n})),a.d(t,"optVPC",(function(){return l}));var i=a("be3b");const n=e=>Object(i["default"])({url:"/api/v2/cmdb/vpc/",method:"get",params:e}),l=(e,t)=>Object(i["default"])({url:"/api/v2/cmdb/vpc/",method:t,data:e})},"802c":function(e,t,a){},"8a94":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"search-con search-con-top"},[t("Input",{staticClass:"search-input",attrs:{search:"",maxlength:50,placeholder:"输入关键字搜索"},on:{"on-search":e.handleSearch},model:{value:e.initPara.searchVal,callback:function(t){e.$set(e.initPara,"searchVal",t)},expression:"initPara.searchVal"}}),t("Button",{staticClass:"search-add-btn",attrs:{type:"error",disabled:0===e.selectList.length},on:{click:e.handleDel}},[e._v("批量删除")])],1),t("Table",{ref:"selection",attrs:{size:"small",columns:e.tableColumns,data:e.tableData,loading:e.i.tableLoading},on:{"on-sort-change":e.handleSort,"on-selection-change":e.handleSelect}}),t("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[t("div",{staticStyle:{float:"left"}},[t("Page",{attrs:{total:e.i.pageTotal,current:e.initPara.page_number,"page-size":e.initPara.page_size,"show-total":"","show-sizer":"","page-size-opts":[15,50,100,1e3]},on:{"on-change":e.handlerChangePage,"on-page-size-change":e.handlePageSize}})],1)])],1)},n=[],l=(a("14d9"),a("45fc")),s={data(){return{tableColumns:[{type:"selection",key:"",width:60,align:"center"},{title:"VPC ID",key:"instance_id",tooltip:!0,width:300},{title:"名称",key:"vpc_name",tooltip:!0,sortable:!0,width:300},{title:"厂商",key:"cloud_name",minWidth:90},{title:"地域",key:"region",minWidth:90},{title:"网段",key:"cidr_block_v4",tooltip:!0,minWidth:130},{title:"虚拟子网",key:"vpc_switch",tooltip:!0,minWidth:220},{title:"更新时间",key:"update_time",width:170}],tableData:[],selectList:[],i:{pageTotal:0,tableLoading:!0},initPara:{page_number:1,page_size:15,searchVal:null,order_by:"",order:"ascend"}}},methods:{handleGetData(){Object(l["getVPC"])(this.initPara).then(e=>{0==e.code?(this.tableData=e.data,this.i.pageTotal=e.count):(this.i.pageTotal=0,this.tableData=[]),this.clearSelectAll(),this.i.tableLoading=!1})},handleDel(){this.$Modal.confirm({title:"二次确认",content:"确定删除已选中的数据？",onOk:()=>{Object(l["optVPC"])({id_list:this.selectList},"delete").then(e=>{0===e.code?(this.$Message.success(e.msg),this.handleGetData()):this.$Notice.error({title:""+e.msg})})},onCancel:()=>{this.$Message.info("回头是岸~")}})},handlerDetail(e){this.redisData=e,this.modalData.show=!0},handleSelect(e){let t=[];e.forEach(e=>{t.push(e.id)}),this.selectList=t},clearSelectAll(){this.$refs.selection.selectAll(!1)},handleSearch(){this.initPara.page_number=1,this.handleGetData()},handleSort(e,t,a){this.initPara.order="asc"===e.order?"ascend":"descend",this.initPara.order_by=e.key,this.handleGetData()},handlerChangePage(e){this.initPara.page_number=e,this.handleGetData()},handlePageSize(e){this.initPara.page_number=1,this.initPara.page_size=e,this.handleGetData()}},watch:{},computed:{},mounted(){this.handleGetData()}},c=s,o=(a("093a"),a("2877")),h=Object(o["a"])(c,i,n,!1,null,"4fbec562",null);t["default"]=h.exports}}]);
//# sourceMappingURL=chunk-1decc9a4.2f5e46ae.js.map