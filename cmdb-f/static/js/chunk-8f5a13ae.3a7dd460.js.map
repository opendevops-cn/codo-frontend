{"version":3,"sources":["webpack://cmdb-[name]/./src/views/cmdb/components/set-server.vue","webpack://cmdb-[name]/src/views/cmdb/components/set-server.vue","webpack://cmdb-[name]/./src/views/cmdb/components/set-server.vue?35a2","webpack://cmdb-[name]/./src/views/cmdb/components/set-server.vue?86fc","webpack://cmdb-[name]/./src/api/cloud/server.js"],"names":["render","_vm","this","_c","_self","attrs","modalData","title","model","value","show","callback","$$v","$set","expression","asset_server_id","_l","serverList","item","key","id","name","staticStyle","btnLoading","on","handleChangeSave","_v","staticRenderFns","props","type","Object","default","data","initPara","page_number","page_size","methods","res","getServerList","code","$Message","error","msg","setTimeout","$emit","info","watch","created","mounted","handleGetData","component","params","request","url","method","optServer","optBatchServer","getUserField","optrationUserField","optServerMainAgent"],"mappings":"oJAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQJ,EAAIK,UAAUC,MAAM,eAAc,GAAMC,MAAM,CAACC,MAAOR,EAAIK,UAAUI,KAAMC,SAAS,SAAUC,GAAMX,EAAIY,KAAKZ,EAAIK,UAAW,OAAQM,IAAME,WAAW,mBAAmB,CAACX,EAAG,SAAS,CAACE,MAAM,CAAC,WAAa,GAAG,UAAY,GAAG,YAAc,SAASG,MAAM,CAACC,MAAOR,EAAIc,gBAAiBJ,SAAS,SAAUC,GAAMX,EAAIc,gBAAgBH,GAAKE,WAAW,oBAAoBb,EAAIe,GAAIf,EAAIgB,YAAY,SAASC,GAAM,OAAOf,EAAG,SAAS,CAACgB,IAAID,EAAKE,GAAGf,MAAM,CAAC,MAAQa,EAAKE,GAAG,MAAQF,EAAKG,WAAU,GAAGlB,EAAG,SAAS,CAACmB,YAAY,CAAC,aAAa,QAAQjB,MAAM,CAAC,KAAO,UAAU,QAAUJ,EAAIsB,WAAW,KAAO,IAAIC,GAAG,CAAC,MAAQvB,EAAIwB,mBAAmB,CAACxB,EAAIyB,GAAG,WAAW,IAEztBC,EAAkB,G,YCSP,GACfN,KAAA,cACAO,MAAA,CACAtB,UAAA,CACAuB,KAAAC,OACAC,QAAA,KAGAC,OACA,OACAjB,gBAAA,KACAQ,YAAA,EACAN,WAAA,GACAgB,SAAA,CACAC,YAAA,EACAC,UAAA,OAIAC,QAAA,CACA,sBACA,MAAAC,QAAAC,2BAAA,KAAAL,UACA,GAAAI,EAAAE,KACA,KAAAtB,WAAAoB,EAAAL,KAEA,KAAAQ,SAAAC,MAAAJ,EAAAK,MAGAjB,mBACA,KAAAV,iBAIA,KAAAQ,YAAA,EACAoB,WAAA,KACA,KAAAC,MAAA,aAAAxB,GAAA,KAAAd,UAAAc,GAAAL,gBAAA,KAAAA,kBACA,KAAAQ,YAAA,GACA,MAPA,KAAAiB,SAAAK,KAAA,WAWAC,MAAA,GAGAC,YACAC,UACA,KAAAC,kBCzDkX,I,YCO9WC,EAAY,eACd,EACAlD,EACA2B,GACA,EACA,KACA,KACA,MAIa,aAAAuB,E,2CClBf,iTAIO,MAAMZ,EAAiBa,GAAWC,qBAAQ,CAC/CC,IAAK,uBACLC,OAAQ,MACRH,WAGWI,EAAYA,CAACvB,EAAMsB,IAAWF,qBAAQ,CACjDC,IAAK,uBACLC,SACAtB,SAGWwB,EAAiBA,CAACxB,EAAMsB,IAAWF,qBAAQ,CACtDC,IAAK,6BACLC,SACAtB,SAIWyB,EAAgBN,GAAWC,qBAAQ,CAC9CC,IAAK,2BACLC,OAAQ,MACRH,WAGWO,EAAsB1B,GAASoB,qBAAQ,CAClDC,IAAK,2BACLC,OAAQ,MACRtB,SAGW2B,EAAqBA,CAAC3B,EAAMsB,IAAWF,qBAAQ,CAC1DC,IAAK,kCACLC,SACAtB","file":"static/js/chunk-8f5a13ae.3a7dd460.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Modal',{attrs:{\"title\":_vm.modalData.title,\"footer-hide\":true},model:{value:(_vm.modalData.show),callback:function ($$v) {_vm.$set(_vm.modalData, \"show\", $$v)},expression:\"modalData.show\"}},[_c('Select',{attrs:{\"filterable\":\"\",\"clearable\":\"\",\"placeholder\":\"请选择主机\"},model:{value:(_vm.asset_server_id),callback:function ($$v) {_vm.asset_server_id=$$v},expression:\"asset_server_id\"}},_vm._l((_vm.serverList),function(item){return _c('Option',{key:item.id,attrs:{\"value\":item.id,\"label\":item.name}})}),1),_c('Button',{staticStyle:{\"margin-top\":\"10px\"},attrs:{\"type\":\"success\",\"loading\":_vm.btnLoading,\"long\":\"\"},on:{\"click\":_vm.handleChangeSave}},[_vm._v(\"确定更换\")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <Modal v-model=\"modalData.show\" :title=\"modalData.title\" :footer-hide=true>\n    <Select v-model=\"asset_server_id\" filterable clearable placeholder=\"请选择主机\">\n      <Option v-for=\"item in serverList\" :value=\"item.id\" :key=\"item.id\" :label=\"item.name\"></Option>\n    </Select>\n    <Button type=\"success\" style=\"margin-top: 10px;\" :loading=\"btnLoading\" @click=\"handleChangeSave\" long>确定更换</Button>\n  </Modal>\n</template>\n\n<script>\nimport { getServerList } from \"@/api/cloud/server\";\nexport default {\n  name: 'serverModal',\n  props: {\n    modalData: {\n      type: Object,\n      default: {}\n    },\n  },\n  data () {\n    return {\n      asset_server_id: null,\n      btnLoading: false,\n      serverList: [],\n      initPara:{\n        page_number: 1,\n        page_size: 300,\n      },\n    }\n  },\n  methods: {\n    async handleGetData() {\n      const res = await getServerList(this.initPara);\n      if (res.code == 0) {\n        this.serverList = res.data;\n      } else {\n        this.$Message.error(res.msg)\n      }\n    },\n    handleChangeSave () {\n      if (!this.asset_server_id) {\n        this.$Message.info('请选择主机')\n        return\n      }\n      this.btnLoading = true\n      setTimeout(() => {\n        this.$emit('save-data', { id: this.modalData.id, asset_server_id: this.asset_server_id } )\n        this.btnLoading = false\n      }, 1000)\n    },\n\n  },\n  watch: {\n\n  },\n  created () { },\n  mounted () {\n    this.handleGetData()\n  },\n};\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./set-server.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./set-server.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./set-server.vue?vue&type=template&id=ea9c8934&\"\nimport script from \"./set-server.vue?vue&type=script&lang=js&\"\nexport * from \"./set-server.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/* eslint-disable camelcase */\nimport request from '@/plugins/axios'\n\n// 主机\nexport const getServerList = (params) => request({\n  url: '/api/v2/cmdb/server/',\n  method: 'get',\n  params,\n})\n\nexport const optServer = (data, method) => request({\n  url: '/api/v2/cmdb/server/',\n  method,\n  data,\n})\n\nexport const optBatchServer = (data, method) => request({\n  url: '/api/v2/cmdb/server/batch/',\n  method,\n  data,\n})\n\n// 用戶收藏字段\nexport const getUserField = (params) => request({\n  url: '/api/v2/cmdb/user_field/',\n  method: 'get',\n  params,\n})\n\nexport const optrationUserField = (data) => request({\n  url: '/api/v2/cmdb/user_field/',\n  method: 'put',\n  data,\n})\n\nexport const optServerMainAgent = (data, method) => request({\n  url: '/api/v2/cmdb/server/main_agent/',\n  method,\n  data,\n})"],"sourceRoot":""}