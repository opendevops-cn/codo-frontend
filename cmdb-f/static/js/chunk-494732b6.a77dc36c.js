(window["webpackJsonp_cmdb"]=window["webpackJsonp_cmdb"]||[]).push([["chunk-494732b6","chunk-2d0deb60","chunk-2d22a11c"],{"878c":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t._self._c;return a("Modal",{attrs:{width:"780px;",title:t.modalData.title,"footer-hide":!0,styles:{top:"30px"}},model:{value:t.modalData.show,callback:function(a){t.$set(t.modalData,"show",a)},expression:"modalData.show"}},[a("Card",{attrs:{"dis-hover":""}},[a("div",{staticClass:"inner"},[a("Alert",{attrs:{"show-icon":""}},[t._v("基本信息")]),a("div",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"}},[a("Row",[a("Col",{attrs:{span:"4"}},[a("p",[a("b",[t._v("实例ID：")])])]),a("Col",{attrs:{span:"20"}},[a("p",[t._v(" "+t._s(t.formData.instance_id))])])],1),a("Row",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"}},[a("Col",{attrs:{span:"4"}},[a("p",[a("b",[t._v("实例名称：")])])]),a("Col",{attrs:{span:"20"}},[a("p",[t._v(" "+t._s(t.formData.name))])])],1),a("Row",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"}},[a("Col",{attrs:{span:"4"}},[a("p",[a("b",[t._v("厂商：")])])]),t.formData.cloud_name?a("Col",{attrs:{span:"8"}},[a("p",[t._v(" "+t._s(t.formData.cloud_name)+" ")])]):t._e(),a("Col",{attrs:{span:"4"}},[a("p",[a("b",[t._v("AccountID：")])])]),a("Col",{attrs:{span:"8"}},[a("p",[t._v(" "+t._s(t.formData.account_id)+" ")])])],1),a("Row",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"}},[a("Col",{attrs:{span:"4"}},[a("p",[a("b",[t._v("地区：")])])]),t.formData.region?a("Col",{attrs:{span:"8"}},[a("p",[t._v(" "+t._s(t.formData.region))])]):a("Col",{attrs:{span:"8"}},[a("p",[t._v("未知")])]),a("Col",{attrs:{span:"4"}},[a("p",[a("b",[t._v("机房：")])])]),a("Col",{attrs:{span:"8"}},[a("p",[t._v(" "+t._s(t.formData.zone)+" ")])])],1),a("Row",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"}},[a("Col",{attrs:{span:"4"}},[a("p",[a("b",[t._v("网络类型：")])])]),t.formData.endpoint_type?a("Col",{attrs:{span:"8"}},[a("p",[t._v(" "+t._s(t.formData.endpoint_type)+" ")])]):a("Col",{attrs:{span:"8"}},[a("p",[t._v("未知信息")])]),a("Col",{attrs:{span:"4"}},[a("p",[a("b",[t._v("付费类型：")])])]),t.formData.ext_info&&t.formData.ext_info.charge_type?a("Col",{attrs:{span:"8"}},[a("p",[t._v(" "+t._s(t.formData.ext_info.charge_type)+" ")])]):a("Col",{attrs:{span:"8"}},[a("p",[t._v("未知信息")])])],1),a("Row",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"}},[a("Col",{attrs:{span:"4"}},[a("p",[a("b",[t._v("实例状态：")])])]),"运行中"==t.formData.state?a("Col",{attrs:{span:"8"}},[a("p",[a("tag",{attrs:{color:"success"}},[t._v(t._s(t.formData.state))])],1)]):a("Col",{attrs:{span:"8"}},[a("p",[a("tag",{attrs:{color:"red"}},[t._v(t._s(t.formData.state))])],1)]),a("Col",{attrs:{span:"4"}},[a("p",[a("b",[t._v("实例地址：")])])]),t.formData.dns_name?a("Col",{attrs:{span:"8"}},[a("p",[t._v(" "+t._s(t.formData.dns_name)+" ")])]):a("Col",{attrs:{span:"8"}},[a("p",[t._v(" "+t._s(t.formData.lb_vip)+" ")])])],1),a("Row",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"}},[a("Col",{attrs:{span:"4"}},[a("p",[a("b",[t._v("是否过期：")])])]),!0===t.formData.is_expired?a("Col",{attrs:{span:"8"}},[a("p",[a("tag",{attrs:{color:"red"}},[t._v(t._s(t.formData.is_expired))])],1)]):a("Col",{attrs:{span:"8"}},[a("p",[t._v("正常")])]),a("Col",{attrs:{span:"4"}},[a("p",[a("b",[t._v("备注信息：")])])]),t.formData.detail?a("Col",{attrs:{span:"8"}},[a("p",[t._v(" "+t._s(t.formData.detail)+" ")])]):a("Col",{attrs:{span:"8"}},[a("p",[t._v("无")])])],1),a("Row",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"}},[a("Col",{attrs:{span:"4"}},[a("p",[a("b",[t._v("创建时间：")])])]),t.formData.create_time?a("Col",{attrs:{span:"20"}},[a("p",[t._v(" "+t._s(t.formData.create_time)+" ")])]):a("Col",{attrs:{span:"20"}},[a("p",[t._v("未知信息")])])],1),a("Row",[a("Col",{attrs:{span:"4"}},[a("p",[a("b",[t._v("更新时间：")])])]),a("Col",{attrs:{span:"20"}},[a("p",[t._v(" "+t._s(t.formData.update_time)+" ")])])],1),a("Row",[a("Col",{attrs:{span:"4"}},[a("p",[a("b",[t._v("ext_info：")])])]),a("Col",{attrs:{span:"20"}},[a("p",[t._v(" "+t._s(t.formData.ext_info)+" ")])])],1)],1)],1)])],1)},r=[],l={name:"LbDetail",props:{modalData:{type:Object,default:()=>{}},formData:{type:Object,default:()=>{}}}},o=l,s=e("2877"),i=Object(s["a"])(o,n,r,!1,null,null,null);a["default"]=i.exports},c10f:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t._self._c;return a("Card",{attrs:{"dis-hover":"",bordered:!1}},[a("Alert",{attrs:{"show-icon":""}},[t._v(" 已选择"),a("span",[t._v(t._s(t.selectList.length))]),a("a",{staticStyle:{"margin-left":"10px"},on:{click:t.clearSelectAll}},[t._v("清空已选")])]),a("Input",{staticStyle:{width:"300px",margin:"2px"},attrs:{clearable:"",placeholder:"输入关键字模糊搜索"},on:{"on-change":t.handleClear},nativeOn:{keydown:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.handleSearch.apply(null,arguments)}},model:{value:t.initPara.searchVal,callback:function(a){t.$set(t.initPara,"searchVal",a)},expression:"initPara.searchVal"}}),a("Button",{staticStyle:{margin:"3px"},on:{click:function(a){return t.handleSearch()}}},[t._v("搜索")]),a("span",{staticStyle:{"margin-left":"20px"}},[t._v("一键筛选：")]),a("ButtonGroup",["is_normal"===t.initPara.search_filter?a("Button",{attrs:{type:"primary"},on:{click:function(a){return t.handlefilter("is_normal")}}},[t._v("未过期")]):a("Button",{on:{click:function(a){return t.handlefilter("is_normal")}}},[t._v("未过期")]),"is_expired"===t.initPara.search_filter?a("Button",{attrs:{type:"primary"},on:{click:function(a){return t.handlefilter("is_expired")}}},[t._v("已过期")]):a("Button",{on:{click:function(a){return t.handlefilter("is_expired")}}},[t._v("已过期")])],1),a("span",{staticStyle:{"margin-left":"20px"}},[t._v("一键筛选：")]),a("ButtonGroup",["is_alb"===t.initPara.search_filter?a("Button",{attrs:{type:"primary"},on:{click:function(a){return t.handlefilter("is_alb")}}},[t._v("ALB")]):a("Button",{on:{click:function(a){return t.handlefilter("is_alb")}}},[t._v("ALB")]),"is_slb"===t.initPara.search_filter?a("Button",{attrs:{type:"primary"},on:{click:function(a){return t.handlefilter("is_slb")}}},[t._v("SLB")]):a("Button",{on:{click:function(a){return t.handlefilter("is_slb")}}},[t._v("SLB")]),"is_nlb"===t.initPara.search_filter?a("Button",{attrs:{type:"primary"},on:{click:function(a){return t.handlefilter("is_nlb")}}},[t._v("NLB")]):a("Button",{on:{click:function(a){return t.handlefilter("is_nlb")}}},[t._v("NLB")])],1),0!==t.selectList.length?[a("Button",{staticStyle:{margin:"6px"},attrs:{type:"error"},on:{click:t.handleDel}},[t._v("一键删除")]),a("Button",{staticClass:"search-btn",attrs:{type:"primary"},on:{click:function(a){return t.exportData(2)}}},[a("Icon",{attrs:{type:"ios-download-outline"}}),t._v("导出数据 ")],1)]:t._e(),a("Table",{ref:"selection",attrs:{size:"small",columns:t.columns,data:t.tableData},on:{"on-selection-change":t.handleSelect},scopedSlots:t._u([{key:"cloud_name",fn:function({row:e}){return["qcloud"===e.cloud_name?a("span",[a("Tag",{attrs:{color:"geekblue"}},[t._v("腾讯云")])],1):"aliyun"===e.cloud_name?a("span",[a("Tag",{attrs:{color:"blue"}},[t._v("阿里云")])],1):"aws"===e.cloud_name?a("span",[a("Tag",{attrs:{color:"volcano"}},[t._v("AWS")])],1):"cds"===e.cloud_name?a("span",[a("Tag",{attrs:{color:"cyan"}},[t._v("首都云")])],1):"volc"===e.cloud_name?a("span",[a("Tag",{attrs:{color:"orange"}},[t._v("火山云")])],1):"gcp"===e.cloud_name?a("span",[a("Tag",{attrs:{color:"cyan"}},[t._v("谷歌云")])],1):t._e()]}},{key:"instance_id",fn:function({row:e}){return[a("a",{on:{click:function(a){return t.handleDetail(e)}}},[t._v(t._s(e.instance_id))])]}},{key:"state",fn:function({row:e}){return["运行中"===e.state?a("span",[a("Tag",{attrs:{type:"dot",color:"success"}},[t._v("运行中")])],1):a("span",[a("Tag",{attrs:{type:"dot",color:"red"}},[t._v(t._s(e.state))])],1)]}},{key:"endpoint_type",fn:function({row:e}){return["内网"===e.endpoint_type?a("span",[a("Tag",{attrs:{color:"blue"}},[t._v("内网")])],1):"公网"===e.endpoint_type?a("span",[a("Tag",{attrs:{color:"green"}},[t._v("公网")])],1):a("span",[a("Tag",{attrs:{color:"green"}},[t._v(t._s(e.endpoint_type))])],1)]}}])}),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"left"}},[a("Page",{attrs:{total:t.pageTotal,current:t.initPara.page_number,"page-size":t.initPara.page_size,"page-size-opts":[12,35,50,100],"show-sizer":"","show-total":""},on:{"on-change":t.changePage,"on-page-size-change":t.handlePageSize}})],1)]),t.formData?[a("LbDetail",{attrs:{"form-data":t.formData,"modal-data":t.modalData}})]:t._e()],2)},r=[],l=(e("14d9"),e("dfae")),o=e("878c"),s={name:"AssetLb",components:{LbDetail:o["default"]},data(){return{modalData:{show:!1,title:"LB详情"},formData:{},selectList:[],tableData:[],pageTotal:0,initPara:{page_size:12,page_number:1,searchVal:"",search_filter:"is_normal",order_by:"",order:"ascend"},columns:[{type:"selection",title:"selection",key:"selection",width:60,align:"center"},{title:"云厂商",align:"center",slot:"cloud_name",key:"cloud_name",width:100},{title:"实例状态",align:"center",width:130,slot:"state",key:"state"},{title:"类型",key:"type",align:"center",width:100},{title:"实例ID",slot:"instance_id",key:"instance_id",align:"left",minWidth:100,sortable:!0},{title:"实例名称",key:"name",align:"left",minWidth:120,sortable:!0,tooltip:!0},{title:"地址",key:"lb_vip",minWidth:150,tooltip:!0,render:(t,a)=>{let e=a.row.dns_name?a.row.dns_name:a.row.lb_vip;return t("div",[t("p",e)])}},{title:"网络",slot:"endpoint_type",align:"center",width:100,key:"endpoint_type"},{title:"地区",key:"region",align:"center",width:150},{title:"最后更新时间",key:"update_time",align:"center",fixed:"right",width:180,sortable:!0}]}},mounted(){this.handleGetData()},methods:{async handleGetData(){const t=await Object(l["getLBList"])(this.initPara);this.tableData=t.data,this.pageTotal=t.count},handleClear(t){""===t.target.value&&(this.tableData=this.value)},handleSearch(){this.initPara.page_number=1,this.handleGetData()},clearSelectAll(){this.$refs.selection.selectAll(!1)},handleSelect(t){let a=[];t.forEach(t=>{a.push(t.id)}),this.selectList=a},changePage(t){this.initPara.page_number=t,this.clearSelectAll(),this.handleGetData()},handlePageSize(t){this.initPara.page_size=t,this.clearSelectAll(),this.handleGetData()},handlefilter(t){this.initPara.search_filter=t,this.handleGetData()},handleDetail(t){this.formData=t,this.modalData.show=!0},handleDel(){this.$Modal.confirm({title:"二次确认",content:"确定删除已选中的数据? ",onOk:()=>{Object(l["deleteLB"])({id_list:this.selectList}).then(t=>{0===t.code?(this.$Notice.success({title:""+t.msg}),this.handleGetData()):this.$Notice.error({title:""+t.msg}),this.clearSelectAll()})},onCancel:()=>{this.$Message.info("回头是岸~"),this.clearSelectAll()}})},exportData(t){1===t?this.$refs.selection.exportCsv({filename:"codo_cmdb_original_data"}):2===t&&this.$refs.selection.exportCsv({filename:"codo_cmdb_sorting_and_filtering_data",original:!1}),this.clearSelectAll()}}},i=s,c=e("2877"),p=Object(c["a"])(i,n,r,!1,null,null,null);a["default"]=p.exports},dfae:function(t,a,e){"use strict";e.r(a),e.d(a,"deleteLB",(function(){return r})),e.d(a,"getLBList",(function(){return l}));var n=e("be3b");const r=t=>Object(n["default"])({url:"/api/v2/cmdb/lb/",method:"delete",data:t}),l=t=>Object(n["default"])({url:"/api/v2/cmdb/lb/",method:"get",params:t})}}]);
//# sourceMappingURL=chunk-494732b6.a77dc36c.js.map