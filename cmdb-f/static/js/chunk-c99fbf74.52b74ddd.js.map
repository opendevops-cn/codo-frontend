{"version":3,"sources":["webpack://cmdb-[name]/./src/views/cmdb/resource/templateManagement/editTemplate.vue?3d0f","webpack://cmdb-[name]/./src/views/cmdb/resource/templateManagement/editTemplate.vue","webpack://cmdb-[name]/src/views/cmdb/resource/templateManagement/editTemplate.vue","webpack://cmdb-[name]/./src/views/cmdb/resource/templateManagement/editTemplate.vue?bedc","webpack://cmdb-[name]/./src/views/cmdb/resource/templateManagement/editTemplate.vue?af9f"],"names":["render","_vm","this","_c","_self","attrs","templateInfo","name","on","onClose","model","value","showDrawer","callback","$$v","expression","staticClass","_v","editBasicInfo","_e","$event","ref","formRules","$set","res_type","_l","resTypeOptions","item","key","_s","label","handleInstanceChange","subnet_id","vswitchOptions","id","instance_id","vpc_name","cloud_region_id","cloundAccountRender","region","zone","resTypeRender","subnet_name","staticStyle","editModelInfo","handleEditModelInfo","_uid","script_type","read","content","editOtherInfo","tagsValues","index","required","message","trigger","handleSelectTag","tagKeyOptions","tagKey","undefined","tagValueOptions","tagValue","length","handleAddTag","handleRemoveTag","description","renderTags","handleUpdate","staticRenderFns","DEBOUNCE_INS_OPTIONS","components","codoEditor","props","show","type","Boolean","default","row","Object","data","imageIdOptions","imageIdLoading","specialSplit","securityGroupOptions","dataDiskTypeOptions","systemDiskTypeOptions","instanceChargeTypeOptions","internetChargeTypeOptions","cloud_region_name","account_id","vendor","tags","vpc_id","computed","insTypeParams","instance_type","isEdit","watch","v","getSettings","getFeFormInfo","val","getInsTypeOptions","deep","mounted","getUniqueStr","methods","debounce","getInsType","cpu","memory","err","basicCheck","Promise","resolve","reject","$refs","basicForm","validate","Error","resTypeCheck","resTypeForm","otherCheck","otherForm","all","params","getParams","res","modifyOrderTemplate","$emit","$Message","success","msg","error","console","log","option","find","c","cidr_block_v4","cloud_name","replace","cloudRender","getVswitchData","getTagData","getVswitch","map","getTagList","tag","tag_key","push","filter","_","i","component"],"mappings":"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","file":"static/js/chunk-c99fbf74.52b74ddd.js","sourcesContent":["export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editTemplate.vue?vue&type=style&index=0&id=34ab057c&prod&scoped=true&lang=less&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Drawer',{attrs:{\"title\":_vm.templateInfo.name,\"width\":\"1000\"},on:{\"on-close\":_vm.onClose},model:{value:(_vm.showDrawer),callback:function ($$v) {_vm.showDrawer=$$v},expression:\"showDrawer\"}},[_c('div',{staticClass:\"drawer__content\"},[_c('div',{staticClass:\"drawer__content__section\"},[_c('div',{staticClass:\"drawer__content__section__header\"},[_c('div',{staticClass:\"drawer__content__section__header__title\"},[_vm._v(\"基本信息\")]),(!_vm.editBasicInfo)?_c('div',{staticClass:\"drawer__content__section__header__icon\",on:{\"click\":function($event){_vm.editBasicInfo = true}}},[_c('Icon',{attrs:{\"type\":\"md-create\"}}),_c('span',{staticClass:\"drawer__content__section__header__icon__text\"},[_vm._v(\"编辑\")])],1):_vm._e()]),(!_vm.editBasicInfo)?_c('div',{staticClass:\"drawer__content__section__info\"},[_c('div',{staticClass:\"drawer__content__section__info__line\"},[_c('div',{staticClass:\"drawer__content__section__info__line__label\"},[_vm._v(\" 模板名称 \")]),_c('div',{staticClass:\"drawer__content__section__info__line__value\"},[_vm._v(\" \"+_vm._s(_vm.templateInfo.name)+\" \")])]),_c('div',{staticClass:\"drawer__content__section__info__line\"},[_c('div',{staticClass:\"drawer__content__section__info__line__label\"},[_vm._v(\" 模板类型 \")]),_c('div',{staticClass:\"drawer__content__section__info__line__value\"},[_vm._v(\" \"+_vm._s(_vm.templateInfo.resTypeRender)+\" \")])]),_c('div',{staticClass:\"drawer__content__section__info__line\"},[_c('div',{staticClass:\"drawer__content__section__info__line__label\"},[_vm._v(\" 私有子网 \")]),_c('div',{staticClass:\"drawer__content__section__info__line__value\"},[_vm._v(\" \"+_vm._s(_vm.templateInfo.subnet_name)+\" \")])]),_c('div',{staticClass:\"drawer__content__section__info__line\"},[_c('div',{staticClass:\"drawer__content__section__info__line__label\"},[_vm._v(\" 私有网络 \")]),_c('div',{staticClass:\"drawer__content__section__info__line__value\"},[_vm._v(\" \"+_vm._s(_vm.templateInfo.vpc_name)+\" \")])]),_c('div',{staticClass:\"drawer__content__section__info__line\"},[_c('div',{staticClass:\"drawer__content__section__info__line__label\"},[_vm._v(\" 云区域 \")]),_c('div',{staticClass:\"drawer__content__section__info__line__value\"},[_vm._v(\" \"+_vm._s(_vm.templateInfo.cloud_region_id)+\" \")])]),_c('div',{staticClass:\"drawer__content__section__info__line\"},[_c('div',{staticClass:\"drawer__content__section__info__line__label\"},[_vm._v(\" 云厂商 \")]),_c('div',{staticClass:\"drawer__content__section__info__line__value\"},[_vm._v(\" \"+_vm._s(_vm.templateInfo.cloundAccountRender)+\" \")])])]):_c('div',{staticClass:\"drawer__content__section__form\"},[_c('Form',{ref:\"basicForm\",attrs:{\"model\":_vm.templateInfo,\"label-width\":100,\"rules\":_vm.formRules}},[_c('div',{staticClass:\"modal__content__section__form\"},[_c('div',{staticClass:\"modal__content__section__form__custom\"},[_c('FormItem',{attrs:{\"prop\":\"name\",\"label\":\"模板名称\"}},[_c('Input',{attrs:{\"type\":\"text\",\"placeholder\":\"请输入模板名称\"},model:{value:(_vm.templateInfo.name),callback:function ($$v) {_vm.$set(_vm.templateInfo, \"name\", $$v)},expression:\"templateInfo.name\"}})],1)],1),_c('div',{staticClass:\"modal__content__section__form__select\"},[_c('FormItem',{attrs:{\"prop\":\"res_type\",\"label\":\"模板类型\"}},[_c('Select',{attrs:{\"type\":\"text\",\"placeholder\":\"请选择模板类型\"},model:{value:(_vm.templateInfo.res_type),callback:function ($$v) {_vm.$set(_vm.templateInfo, \"res_type\", $$v)},expression:\"templateInfo.res_type\"}},_vm._l((_vm.resTypeOptions),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1)],1)],1),_c('div',{staticClass:\"modal__content__section__form__longer\"},[_c('FormItem',{attrs:{\"prop\":\"subnet_id\",\"label\":\"私有子网\"}},[_c('Select',{attrs:{\"filterable\":\"\",\"placeholder\":\"请选择私有子网\"},on:{\"on-change\":_vm.handleInstanceChange},model:{value:(_vm.templateInfo.subnet_id),callback:function ($$v) {_vm.$set(_vm.templateInfo, \"subnet_id\", $$v)},expression:\"templateInfo.subnet_id\"}},_vm._l((_vm.vswitchOptions),function(item){return _c('Option',{key:item.id,attrs:{\"value\":item.instance_id}},[_vm._v(_vm._s(item.label))])}),1)],1)],1),_c('div',{staticClass:\"modal__content__section__form__longer\"},[_c('FormItem',{attrs:{\"prop\":\"vpc_name\",\"label\":\"私有网络\"}},[_c('Input',{attrs:{\"type\":\"text\",\"disabled\":\"\"},model:{value:(_vm.templateInfo.vpc_name),callback:function ($$v) {_vm.$set(_vm.templateInfo, \"vpc_name\", $$v)},expression:\"templateInfo.vpc_name\"}})],1)],1),_c('div',{staticClass:\"modal__content__section__form__select\"},[_c('FormItem',{attrs:{\"prop\":\"cloud_region_id\",\"label\":\"云区域\"}},[_c('Input',{attrs:{\"type\":\"text\",\"placeholder\":\"\"},model:{value:(_vm.templateInfo.cloud_region_id),callback:function ($$v) {_vm.$set(_vm.templateInfo, \"cloud_region_id\", $$v)},expression:\"templateInfo.cloud_region_id\"}})],1)],1),_c('div',{staticClass:\"modal__content__section__form__select\"},[_c('FormItem',{attrs:{\"prop\":\"cloundAccountRender\",\"label\":\"云厂商\"}},[_c('Input',{attrs:{\"type\":\"text\",\"disabled\":\"\",\"placeholder\":\"\"},model:{value:(_vm.templateInfo.cloundAccountRender),callback:function ($$v) {_vm.$set(_vm.templateInfo, \"cloundAccountRender\", $$v)},expression:\"templateInfo.cloundAccountRender\"}})],1)],1),_c('div',{staticClass:\"modal__content__section__form__select\"},[_c('FormItem',{attrs:{\"prop\":\"region\",\"label\":\"地域\"}},[_c('Input',{attrs:{\"type\":\"text\",\"disabled\":\"\",\"placeholder\":\"\"},model:{value:(_vm.templateInfo.region),callback:function ($$v) {_vm.$set(_vm.templateInfo, \"region\", $$v)},expression:\"templateInfo.region\"}})],1)],1),_c('div',{staticClass:\"modal__content__section__form__select\"},[_c('FormItem',{attrs:{\"prop\":\"zone\",\"label\":\"可用区\"}},[_c('Input',{attrs:{\"type\":\"text\",\"placeholder\":\"\"},model:{value:(_vm.templateInfo.zone),callback:function ($$v) {_vm.$set(_vm.templateInfo, \"zone\", $$v)},expression:\"templateInfo.zone\"}})],1)],1)])])],1)]),_c('div',{staticStyle:{\"margin-top\":\"1em\"}}),_c('div',{staticClass:\"modal__content__section__form__longer\"},[_c('div',{staticClass:\"drawer__content__section\"},[_c('div',{staticClass:\"drawer__content__section__header\"},[_c('div',{staticClass:\"drawer__content__section__header__title\"},[_vm._v(\"TF配置\")]),(!_vm.editModelInfo)?_c('div',{staticClass:\"drawer__content__section__header__icon\",on:{\"click\":_vm.handleEditModelInfo}},[_c('Icon',{attrs:{\"type\":\"md-create\"}}),_c('span',{staticClass:\"drawer__content__section__header__icon__text\"},[_vm._v(\"编辑\")])],1):_vm._e()]),(!_vm.editModelInfo)?_c('div',{staticClass:\"drawer__content__section__info\"},[_c('div',{staticClass:\"modal__content__section__form__longer\"},[_c('codo-editor',{key:`${_vm._uid}`,attrs:{\"lang\":_vm.script_type,\"read\":_vm.read},model:{value:(_vm.templateInfo.content),callback:function ($$v) {_vm.$set(_vm.templateInfo, \"content\", $$v)},expression:\"templateInfo.content\"}})],1)]):_c('div',{staticClass:\"drawer__content__section__form\"},[_c('Form',{ref:\"resTypeForm\",attrs:{\"model\":_vm.templateInfo,\"label-width\":100,\"rules\":_vm.formRules}},[_c('div',{staticClass:\"modal__content__section__form\"},[_c('div',{staticClass:\"modal__content__section__form__longer\"},[_c('codo-editor',{key:`${_vm._uid}`,attrs:{\"lang\":_vm.script_type,\"read\":_vm.read},model:{value:(_vm.templateInfo.content),callback:function ($$v) {_vm.$set(_vm.templateInfo, \"content\", $$v)},expression:\"templateInfo.content\"}})],1)])])],1)])]),_c('div',{staticStyle:{\"margin-top\":\"1em\"}}),_c('div',{staticClass:\"drawer__content__section\"},[_c('div',{staticClass:\"drawer__content__section__header\"},[_c('div',{staticClass:\"drawer__content__section__header__title\"},[_vm._v(\"其他设置\")]),(!_vm.editOtherInfo)?_c('div',{staticClass:\"drawer__content__section__header__icon\",on:{\"click\":function($event){_vm.editOtherInfo = true}}},[_c('Icon',{attrs:{\"type\":\"md-create\"}}),_c('span',{staticClass:\"drawer__content__section__header__icon__text\"},[_vm._v(\"编辑\")])],1):_vm._e()]),(!_vm.editOtherInfo)?_c('div',{staticClass:\"drawer__content__section__info\"},[_c('div',{staticClass:\"drawer__content__section__info__line\"},[_c('div',{staticClass:\"drawer__content__section__info__line__label\"},[_vm._v(\" 标签 \")]),_c('div',{staticClass:\"drawer__content__section__info__line__value\"},[_vm._v(\" \"+_vm._s(_vm.templateInfo.renderTags)+\" \")])]),_c('div',{staticClass:\"drawer__content__section__info__line\"},[_c('div',{staticClass:\"drawer__content__section__info__line__label\"},[_vm._v(\" 备注 \")]),_c('div',{staticClass:\"drawer__content__section__info__line__value\"},[_vm._v(\" \"+_vm._s(_vm.templateInfo.description)+\" \")])])]):_c('div',[_c('Form',{ref:\"otherForm\",attrs:{\"model\":_vm.templateInfo,\"label-width\":100,\"rules\":_vm.formRules}},[_c('div',{staticClass:\"modal__content__section__form\"},[_c('div',{staticClass:\"modal__content__section__form__tags\"},[_c('div',{staticClass:\"modal__content__section__form__tags__label\"},[_vm._v(\" 标签 \")]),_c('div',{staticClass:\"modal__content__section__form__tags__content\"},_vm._l((_vm.templateInfo.tagsValues),function(item,index){return _c('div',{key:index,staticClass:\"modal__content__section__form__tags__content__line\"},[_c('FormItem',{attrs:{\"prop\":'tagsValues.' + index + '.key',\"rules\":{\n                        required: true,\n                        message: '标签键不能为空',\n                        trigger: 'blur',\n                      }}},[_c('Select',{attrs:{\"filterable\":\"\"},on:{\"on-select\":_vm.handleSelectTag},model:{value:(item.key),callback:function ($$v) {_vm.$set(item, \"key\", $$v)},expression:\"item.key\"}},_vm._l((_vm.tagKeyOptions),function(tagKey){return _c('Option',{key:tagKey.value,attrs:{\"value\":tagKey.value}},[_vm._v(_vm._s(tagKey.label))])}),1)],1),_c('FormItem',{attrs:{\"prop\":'tagsValues.' + index + '.value',\"rules\":{\n                        required: true,\n                        message: '标签值不能为空',\n                        trigger: 'blur',\n                      }}},[_c('Select',{attrs:{\"filterable\":\"\",\"loading\":_vm.tagValueOptions[item.key] === undefined,\"disabled\":item.key === '',\"placeholder\":item.key === '' ? '请先选择标签键' : '请选择'},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}},_vm._l((_vm.tagValueOptions[item.key]),function(tagValue){return _c('Option',{key:tagValue.value,attrs:{\"value\":tagValue.value}},[_vm._v(_vm._s(tagValue.label))])}),1)],1),(index === _vm.templateInfo.tagsValues.length - 1)?_c('Icon',{attrs:{\"size\":\"20\",\"type\":\"md-add\"},on:{\"click\":_vm.handleAddTag}}):_vm._e(),(_vm.templateInfo.tagsValues.length > 1)?_c('Icon',{attrs:{\"size\":\"20\",\"type\":\"md-close\"},on:{\"click\":function($event){return _vm.handleRemoveTag(index)}}}):_vm._e()],1)}),0)]),_c('div',{staticClass:\"modal__content__section__form__longer\"},[_c('FormItem',{attrs:{\"prop\":\"description\",\"label\":\"备注\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"请输入备注\"},model:{value:(_vm.templateInfo.description),callback:function ($$v) {_vm.$set(_vm.templateInfo, \"description\", $$v)},expression:\"templateInfo.description\"}})],1)],1)])])],1)])]),(_vm.editBasicInfo || _vm.editModelInfo || _vm.editOtherInfo)?_c('div',{staticClass:\"drawer__footer\"},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleUpdate}},[_vm._v(\"确认修改\")])],1):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <Drawer\n    v-model=\"showDrawer\"\n    :title=\"templateInfo.name\"\n    width=\"1000\"\n    @on-close=\"onClose\"\n  >\n    <div class=\"drawer__content\">\n      <div class=\"drawer__content__section\">\n        <div class=\"drawer__content__section__header\">\n          <div class=\"drawer__content__section__header__title\">基本信息</div>\n          <div\n            v-if=\"!editBasicInfo\"\n            class=\"drawer__content__section__header__icon\"\n            @click=\"editBasicInfo = true\"\n          >\n            <Icon type=\"md-create\" /><span\n              class=\"drawer__content__section__header__icon__text\"\n              >编辑</span\n            >\n          </div>\n        </div>\n        <div v-if=\"!editBasicInfo\" class=\"drawer__content__section__info\">\n          <div class=\"drawer__content__section__info__line\">\n            <div class=\"drawer__content__section__info__line__label\">\n              模板名称\n            </div>\n            <div class=\"drawer__content__section__info__line__value\">\n              {{ templateInfo.name }}\n            </div>\n          </div>\n          <div class=\"drawer__content__section__info__line\">\n            <div class=\"drawer__content__section__info__line__label\">\n              模板类型\n            </div>\n            <div class=\"drawer__content__section__info__line__value\">\n              {{ templateInfo.resTypeRender }}\n            </div>\n          </div>\n          <div class=\"drawer__content__section__info__line\">\n            <div class=\"drawer__content__section__info__line__label\">\n              私有子网\n            </div>\n            <div class=\"drawer__content__section__info__line__value\">\n              {{ templateInfo.subnet_name }}\n            </div>\n          </div>\n          <div class=\"drawer__content__section__info__line\">\n            <div class=\"drawer__content__section__info__line__label\">\n              私有网络\n            </div>\n            <div class=\"drawer__content__section__info__line__value\">\n              {{ templateInfo.vpc_name }}\n            </div>\n          </div>\n          <div class=\"drawer__content__section__info__line\">\n            <div class=\"drawer__content__section__info__line__label\">\n              云区域\n            </div>\n            <div class=\"drawer__content__section__info__line__value\">\n              {{ templateInfo.cloud_region_id }}\n            </div>\n          </div>\n          <div class=\"drawer__content__section__info__line\">\n            <div class=\"drawer__content__section__info__line__label\">\n              云厂商\n            </div>\n            <div class=\"drawer__content__section__info__line__value\">\n              {{ templateInfo.cloundAccountRender }}\n            </div>\n          </div>\n        </div>\n        <div v-else class=\"drawer__content__section__form\">\n          <Form\n            ref=\"basicForm\"\n            :model=\"templateInfo\"\n            :label-width=\"100\"\n            :rules=\"formRules\"\n          >\n            <div class=\"modal__content__section__form\">\n              <div class=\"modal__content__section__form__custom\">\n                <FormItem prop=\"name\" label=\"模板名称\">\n                  <Input\n                    v-model=\"templateInfo.name\"\n                    type=\"text\"\n                    placeholder=\"请输入模板名称\"\n                  />\n                </FormItem>\n              </div>\n              <div class=\"modal__content__section__form__select\">\n                <FormItem prop=\"res_type\" label=\"模板类型\">\n                  <Select\n                    v-model=\"templateInfo.res_type\"\n                    type=\"text\"\n                    placeholder=\"请选择模板类型\"\n                  >\n                    <Option\n                      v-for=\"item in resTypeOptions\"\n                      :key=\"item.value\"\n                      :value=\"item.value\"\n                      >{{ item.label }}</Option\n                    >\n                  </Select>\n                </FormItem>\n              </div>\n              <div class=\"modal__content__section__form__longer\">\n                <FormItem prop=\"subnet_id\" label=\"私有子网\">\n                  <Select\n                    v-model=\"templateInfo.subnet_id\"\n                    filterable\n                    placeholder=\"请选择私有子网\"\n                    @on-change=\"handleInstanceChange\"\n                  >\n                    <Option\n                      v-for=\"item in vswitchOptions\"\n                      :key=\"item.id\"\n                      :value=\"item.instance_id\"\n                      >{{ item.label }}</Option\n                    >\n                  </Select>\n                </FormItem>\n              </div>\n              <div class=\"modal__content__section__form__longer\">\n                <FormItem prop=\"vpc_name\" label=\"私有网络\">\n                  <Input v-model=\"templateInfo.vpc_name\" type=\"text\" disabled />\n                </FormItem>\n              </div>\n              <div class=\"modal__content__section__form__select\">\n                <FormItem prop=\"cloud_region_id\" label=\"云区域\">\n                  <Input\n                    v-model=\"templateInfo.cloud_region_id\"\n                    type=\"text\"\n                    placeholder=\"\"\n                  />\n                </FormItem>\n              </div>\n              <div class=\"modal__content__section__form__select\">\n                <FormItem prop=\"cloundAccountRender\" label=\"云厂商\">\n                  <Input\n                    v-model=\"templateInfo.cloundAccountRender\"\n                    type=\"text\"\n                    disabled\n                    placeholder=\"\"\n                  />\n                </FormItem>\n              </div>\n              <div class=\"modal__content__section__form__select\">\n                <FormItem prop=\"region\" label=\"地域\">\n                  <Input\n                    v-model=\"templateInfo.region\"\n                    type=\"text\"\n                    disabled\n                    placeholder=\"\"\n                  />\n                </FormItem>\n              </div>\n              <div class=\"modal__content__section__form__select\">\n                <FormItem prop=\"zone\" label=\"可用区\">\n                  <Input\n                    v-model=\"templateInfo.zone\"\n                    type=\"text\"\n                    placeholder=\"\"\n                  />\n                </FormItem>\n              </div>\n            </div>\n          </Form>\n        </div>\n      </div>\n      <div style=\"margin-top: 1em;\"></div>\n      <div class=\"modal__content__section__form__longer\">\n        <div class=\"drawer__content__section\">\n          <div class=\"drawer__content__section__header\">\n            <div class=\"drawer__content__section__header__title\">TF配置</div>\n            <div\n              v-if=\"!editModelInfo\"\n              class=\"drawer__content__section__header__icon\"\n              @click=\"handleEditModelInfo\"\n            >\n              <Icon type=\"md-create\" /><span\n                class=\"drawer__content__section__header__icon__text\"\n                >编辑</span\n              >\n            </div>\n          </div>\n          <div v-if=\"!editModelInfo\" class=\"drawer__content__section__info\">\n            <div class=\"modal__content__section__form__longer\">\n              <codo-editor\n                v-model=\"templateInfo.content\"\n                :lang=\"script_type\"\n                :read=\"read\"\n                :key=\"`${_uid}`\"\n              />\n            </div>\n          </div>\n          <div v-else class=\"drawer__content__section__form\">\n            <Form\n              ref=\"resTypeForm\"\n              :model=\"templateInfo\"\n              :label-width=\"100\"\n              :rules=\"formRules\"\n            >\n              <div class=\"modal__content__section__form\">\n                <div class=\"modal__content__section__form__longer\">\n                  <codo-editor\n                    v-model=\"templateInfo.content\"\n                    :lang=\"script_type\"\n                    :read=\"read\"\n                    :key=\"`${_uid}`\"\n                  />\n                </div>\n              </div>\n            </Form>\n          </div>\n        </div>\n        </div>\n        <div style=\"margin-top: 1em;\"></div>\n        <div class=\"drawer__content__section\">\n          <div class=\"drawer__content__section__header\">\n            <div class=\"drawer__content__section__header__title\">其他设置</div>\n            <div\n              v-if=\"!editOtherInfo\"\n              class=\"drawer__content__section__header__icon\"\n              @click=\"editOtherInfo = true\"\n            >\n              <Icon type=\"md-create\" /><span\n                class=\"drawer__content__section__header__icon__text\"\n                >编辑</span\n              >\n            </div>\n          </div>\n          <div v-if=\"!editOtherInfo\" class=\"drawer__content__section__info\">\n            <div class=\"drawer__content__section__info__line\">\n              <div class=\"drawer__content__section__info__line__label\">\n                标签\n              </div>\n              <div class=\"drawer__content__section__info__line__value\">\n                {{ templateInfo.renderTags }}\n              </div>\n            </div>\n            <div class=\"drawer__content__section__info__line\">\n              <div class=\"drawer__content__section__info__line__label\">\n                备注\n              </div>\n              <div class=\"drawer__content__section__info__line__value\">\n                {{ templateInfo.description }}\n              </div>\n            </div>\n          </div>\n          <div v-else>\n            <Form\n              ref=\"otherForm\"\n              :model=\"templateInfo\"\n              :label-width=\"100\"\n              :rules=\"formRules\"\n            >\n              <div class=\"modal__content__section__form\">\n                <div class=\"modal__content__section__form__tags\">\n                  <div class=\"modal__content__section__form__tags__label\">\n                    标签\n                  </div>\n                  <div class=\"modal__content__section__form__tags__content\">\n                    <div\n                      v-for=\"(item, index) in templateInfo.tagsValues\"\n                      :key=\"index\"\n                      class=\"modal__content__section__form__tags__content__line\"\n                    >\n                      <FormItem\n                        :prop=\"'tagsValues.' + index + '.key'\"\n                        :rules=\"{\n                          required: true,\n                          message: '标签键不能为空',\n                          trigger: 'blur',\n                        }\"\n                      >\n                        <Select\n                          v-model=\"item.key\"\n                          filterable\n                          @on-select=\"handleSelectTag\"\n                        >\n                          <Option\n                            v-for=\"tagKey in tagKeyOptions\"\n                            :key=\"tagKey.value\"\n                            :value=\"tagKey.value\"\n                            >{{ tagKey.label }}</Option\n                          >\n                        </Select>\n                      </FormItem>\n                      <FormItem\n                        :prop=\"'tagsValues.' + index + '.value'\"\n                        :rules=\"{\n                          required: true,\n                          message: '标签值不能为空',\n                          trigger: 'blur',\n                        }\"\n                      >\n                        <Select\n                          v-model=\"item.value\"\n                          filterable\n                          :loading=\"tagValueOptions[item.key] === undefined\"\n                          :disabled=\"item.key === ''\"\n                          :placeholder=\"\n                            item.key === '' ? '请先选择标签键' : '请选择'\n                          \"\n                        >\n                          <Option\n                            v-for=\"tagValue in tagValueOptions[item.key]\"\n                            :key=\"tagValue.value\"\n                            :value=\"tagValue.value\"\n                            >{{ tagValue.label }}</Option\n                          >\n                        </Select>\n                      </FormItem>\n                      <Icon\n                        v-if=\"index === templateInfo.tagsValues.length - 1\"\n                        size=\"20\"\n                        type=\"md-add\"\n                        @click=\"handleAddTag\"\n                      />\n                      <Icon\n                        v-if=\"templateInfo.tagsValues.length > 1\"\n                        size=\"20\"\n                        type=\"md-close\"\n                        @click=\"handleRemoveTag(index)\"\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div class=\"modal__content__section__form__longer\">\n                  <FormItem prop=\"description\" label=\"备注\">\n                    <Input\n                      v-model=\"templateInfo.description\"\n                      type=\"textarea\"\n                      placeholder=\"请输入备注\"\n                    />\n                  </FormItem>\n                </div>\n              </div>\n            </Form>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div\n      v-if=\"editBasicInfo || editModelInfo || editOtherInfo\"\n      class=\"drawer__footer\"\n    >\n      <Button type=\"primary\" @click=\"handleUpdate\">确认修改</Button>\n    </div>\n  </Drawer>\n</template>\n<!-- eslint-disable camelcase -->\n\n<script>\nimport { debounce } from 'lodash';\n\nimport {\n  modifyOrderTemplate,\n  getTagList,\n  getInsType,\n} from '@/api/cmdb';\n\nimport { getVswitch } from '@/api/cloud/vswitch';\n\nimport { getFeFormInfo, getUniqueStr, getParams } from '../utils';\nimport codoEditor from '@/components/editor/editor-v3';\n\nimport {\n  resTypeOptions,\n  dataDiskTypeOptions,\n  systemDiskTypeOptions,\n  instanceChargeTypeOptions,\n  internetChargeTypeOptions,\n} from '../options';\n\n// 实例配置查询间隔ms\nconst DEBOUNCE_INS_OPTIONS = 1000;\n\nexport default {\n  components: { codoEditor },\n  name: 'EditTemplate',\n  props: {\n    show: {\n      type: Boolean,\n      default: false,\n    },\n    row: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n  data() {\n    return {\n      // 镜像远程搜索\n      script_type: 'sh',\n      read: true,\n      imageIdOptions: [],\n      imageIdLoading: false,\n      specialSplit: '',\n      editBasicInfo: false,\n      editModelInfo: false,\n      editOtherInfo: false,\n      vswitchOptions: [],\n      securityGroupOptions: [],\n      tagKeyOptions: [],\n      resTypeOptions,\n      dataDiskTypeOptions,\n      systemDiskTypeOptions,\n      instanceChargeTypeOptions,\n      internetChargeTypeOptions,\n      tagValueOptions: {},\n      templateInfo: {\n        cloud_region_id: '',\n        cloud_region_name: '',\n        account_id: '',\n        name: '',\n        res_type: '',\n        vendor: '',\n        region: '',\n        zone: '',\n        tags: {},\n        tagsValues: [\n          {\n            key: '',\n            value: '',\n          },\n        ],\n        renderTags: '',\n        vpc_id: '',\n        vpc_name: '',\n        content: '',\n      },\n      formRules: {\n        name: [{ required: true, message: '模板名称必填', trigger: 'blur' }],\n        res_type: [\n          { required: true, message: '模板类型必选', trigger: 'blur' },\n        ],\n        subnet_id: [\n          { required: true, message: '私有子网必选', trigger: 'change' },\n        ],\n        // cloud_region_id: [\n        //   { required: true, message: '云区域不能为空', trigger: 'blur' },\n        // ],\n        cloundAccountRender: [\n          { required: true, message: '云厂商不能为空', trigger: 'blur' },\n        ],\n        vpc_name: [\n          { required: true, message: '私有网络不能为空', trigger: 'blur' },\n        ],\n        region: [{ required: true, message: '地域不能为空', trigger: 'blur' }],\n        zone: [{ required: true, message: '可用区不能为空', trigger: 'blur' }],\n        tags: [{ required: true, message: '标签必填', trigger: 'blur' }],\n      },\n      showDrawer: false,\n    };\n  },\n  computed: {\n    insTypeParams() {\n      const {\n        account_id,\n        vendor,\n        res_type,\n        region,\n        zone,\n        instance_type,\n        content,\n      } = this.templateInfo;\n      return {\n        account_id,\n        vendor,\n        res_type,\n        region,\n        zone,\n        instance_type,\n        isEdit: this.editModelInfo,\n        content,\n      };\n    },\n  },\n  watch: {\n    show(v) {\n      if (v) {\n        this.getSettings();\n      }\n      this.showDrawer = v;\n    },\n    row(v) {\n      this.editBasicInfo = false;\n      this.editModelInfo = false;\n      this.editOtherInfo = false;\n      this.templateInfo = getFeFormInfo(v, this);\n    },\n    insTypeParams: {\n      async handler(val) {\n        const {\n          account_id,\n          vendor,\n          res_type,\n          region,\n          zone,\n          instance_type,\n          isEdit,\n        } = val;\n        if (\n          !account_id ||\n          !vendor ||\n          !res_type ||\n          !region ||\n          !zone ||\n          !instance_type ||\n          !isEdit\n        )\n          return;\n        this.getInsTypeOptions();\n      },\n      deep: true,\n    },\n  },\n  mounted() {\n    this.specialSplit = getUniqueStr(3);\n  },\n  methods: {\n    handleEditModelInfo() {\n      this.editModelInfo = true;\n      this.read = false;\n    },\n    getInsTypeOptions: debounce(async function () {\n      try {\n        const { account_id, vendor, res_type, region, zone, instance_type } =\n          this.templateInfo;\n        const { data } = await getInsType({\n          account_id,\n          vendor,\n          res_type,\n          region,\n          zone,\n          instance_type,\n        });\n        this.templateInfo.cpu = data.cpu;\n        this.templateInfo.memory = data.memory;\n      } catch (err) {\n        this.templateInfo.cpu = '';\n        this.templateInfo.memory = '';\n      }\n    }, DEBOUNCE_INS_OPTIONS),\n    // getImageIdOptions: debounce(async function (params) {\n    //   try {\n    //     this.imageIdLoading = true;\n    //     const { data } = await getImageIds(params);\n    //     this.imageIdOptions = data.map((c) => ({\n    //       label: `${c.instance_id} | ${c.name} | ${c.os_name}`,\n    //       value: c.instance_id,\n    //     }));\n    //   } catch (err) {\n    //     this.imageIdOptions = [];\n    //   } finally {\n    //     this.imageIdLoading = false;\n    //   }\n    // }, DEBOUNCE_IMAGE_ID),\n    // tipFormat(val) {\n    //   return val + 'Mbps';\n    // },\n    async handleUpdate() {\n      try {\n        const basicCheck = new Promise((resolve, reject) => {\n          if (!this.editBasicInfo) {\n            resolve();\n          } else {\n            this.$refs.basicForm.validate((v) => {\n              if (!v) {\n                reject(new Error('表单校验失败，请检查'));\n              }\n              resolve();\n            });\n          }\n        });\n        const resTypeCheck = new Promise((resolve, reject) => {\n          if (!this.editModelInfo) {\n            resolve();\n          } else {\n            this.$refs.resTypeForm.validate((v) => {\n              if (!v) {\n                reject(new Error('表单校验失败，请检查'));\n              }\n              resolve();\n            });\n          }\n        });\n        const otherCheck = new Promise((resolve, reject) => {\n          if (!this.editOtherInfo) {\n            resolve();\n          } else {\n            this.$refs.otherForm.validate((v) => {\n              if (!v) {\n                reject(new Error('表单校验失败，请检查'));\n              }\n              resolve();\n            });\n          }\n        });\n        await Promise.all([basicCheck, resTypeCheck, otherCheck]);\n        const params = getParams(this.templateInfo, this);\n        const res = await modifyOrderTemplate({\n          id: this.templateInfo.id,\n          ...params,\n          description: params.description || '',\n        });\n        if (!res) {\n          throw new Error('请求错误，请重试');\n        }\n        this.$emit('editSuccessCallback');\n        this.showDrawer = false;\n        this.$Message.success(res.msg);\n      } catch (error) {\n        console.log(error);\n        this.$Message.error(error.message);\n      }\n    },\n    handleInstanceChange(v) {\n      const option = this.vswitchOptions.find((c) => c.instance_id === v);\n      this.templateInfo = {\n        ...this.templateInfo,\n        subnet_name: `${option.instance_id} | ${option.name} | ${option.cidr_block_v4}`,\n        vendor: option.cloud_name,\n        account_id: option.account_id,\n        cloundAccountRender: `${option.account_id} | ${option.cloud_name}`,\n        vpc_id: option.vpc_id.replace(/[\\r\\n]/g, ''),\n        vpc_name: `${option.vpc_id} | ${option.vpc_name}`,\n        cloud_region_id: option.cloud_region_id,\n        cloudRender: `${option.cloud_region_id}`,\n        region: option.region,\n        zone: option.zone,\n      };\n      // this.getSecurityGroupData({\n      //   filter_map: {\n      //     region: option.region,\n      //     cloud_name: option.cloud_name,\n      //   },\n      // });\n      // this.getImageIdOptions({\n      //   filter_map: {\n      //     region: option.region,\n      //     cloud_name: option.cloud_name,\n      //   },\n      // });\n    },\n    async getSettings() {\n      this.getVswitchData();\n      this.getTagData();\n    },\n    async getVswitchData() {\n      const { data } = await getVswitch();\n      this.vswitchOptions = data.map((c) => ({\n        ...c,\n        label: `${c.instance_id} | ${c.name} | ${c.cidr_block_v4}`,\n      }));\n    },\n    async getTagData() {\n      const { data } = await getTagList();\n\n      this.tagKeyOptions = data.map((c) => ({\n        label: c,\n        value: c,\n      }));\n    },\n    async handleSelectTag(tag) {\n      const { data } = await getTagList({ tag_key: tag.value });\n\n      this.$set(\n        this.tagValueOptions,\n        tag.value,\n        data.map((c) => ({\n          label: c,\n          value: c,\n        }))\n      );\n    },\n    handleAddTag() {\n      this.templateInfo.tagsValues.push({\n        key: '',\n        value: '',\n      });\n    },\n    handleRemoveTag(index) {\n      this.templateInfo.tagsValues = this.templateInfo.tagsValues.filter(\n        (_, i) => i !== index\n      );\n    },\n    onClose() {\n      this.showDrawer = false;\n      this.$emit('closeDrawer');\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n.drawer {\n  position: relative;\n  &__content {\n    &__box {\n      display: flex;\n      margin-top: 12px;\n      .drawer__content__section {\n        width: 50%;\n      }\n    }\n    &__section {\n      margin: 0 12px;\n      &__header {\n        display: flex;\n        justify-content: space-between;\n        margin-bottom: 12px;\n        &__title {\n          font-size: 16px;\n        }\n        &__icon {\n          margin-right: 12px;\n          cursor: pointer;\n          color: #789efd;\n          &__text {\n            margin-left: 5px;\n          }\n        }\n      }\n      &__info {\n        border-width: 1px 1px 0 1px;\n        border-color: #f1f1f1;\n        border-style: solid;\n        &__line {\n          display: flex;\n          line-height: 32px;\n          border-bottom: #f1f1f1 1px solid;\n          box-sizing: border-box;\n          &__label {\n            display: flex;\n            align-items: center;\n            padding-left: 16px;\n            width: 160px;\n            flex-shrink: 0;\n            font-size: 14px;\n            background-color: #fafafa;\n          }\n          &__value {\n            display: flex;\n            padding-left: 16px;\n            word-break: break-all;\n          }\n        }\n      }\n    }\n  }\n  &__footer {\n    position: sticky;\n    width: 100%;\n    height: 48px;\n    padding-right: 24px;\n    left: 0;\n    bottom: 0;\n    display: flex;\n    justify-content: flex-end;\n  }\n}\n\n.modal {\n  &__content {\n    &__section {\n      border-width: 1px 0 0 0;\n      border-color: #ccc;\n      border-style: solid;\n      &__form {\n        padding-left: 12px;\n        display: flex;\n        flex-wrap: wrap;\n        &__custom {\n          width: 50%;\n        }\n        &__select {\n          width: 50%;\n        }\n        &__int {\n          width: 50%;\n          &__unit {\n            line-height: 32px;\n          }\n        }\n        &__longer {\n          width: 100%;\n          /deep/ .ivu-input-number {\n            width: 100%;\n          }\n        }\n        /deep/ .ivu-form-item {\n          padding-right: 20px;\n          // width: 50%;\n          .ivu-form-item-label {\n            padding: 10px 0;\n            font-size: 12px;\n            text-align: center;\n          }\n          .ivu-form-item-content {\n            margin-left: 112px !important;\n          }\n        }\n        &__special,\n        &__tags {\n          display: flex;\n          &__label {\n            width: 100px;\n            height: 32px;\n            line-height: 32px;\n            font-size: 12px;\n            text-align: center;\n            flex-shrink: 0;\n          }\n          &__label::before {\n            content: '*';\n            display: inline-block;\n            margin-right: 4px;\n            line-height: 1;\n            font-family: SimSun;\n            font-size: 14px;\n            color: #ed4014;\n          }\n          &__unit {\n            margin-left: 5px;\n          }\n        }\n        &__special {\n          /deep/ .ivu-form-item {\n            flex: 1;\n            padding-right: 0px;\n            .ivu-form-item-content {\n              display: flex;\n              margin-left: 12px !important;\n              margin-right: 20px;\n            }\n          }\n        }\n        &__tags {\n          width: 100%;\n          &__content {\n            flex: 1;\n            &__line {\n              display: flex;\n              /deep/ .ivu-form-item {\n                padding-right: 12px;\n                width: 130px;\n                margin-left: 12px;\n                box-sizing: border-box;\n                .ivu-form-item-content {\n                  width: 100%;\n                  margin-left: 0 !important;\n                }\n              }\n              /deep/ .ivu-icon-md-close,\n              .ivu-icon-md-add {\n                margin-right: 10px;\n                line-height: 32px;\n                cursor: pointer;\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\n/deep/ .ivu-tooltip-content {\n  .ivu-tooltip-inner {\n    max-width: unset;\n    background-color: #fff;\n    color: #000;\n  }\n  .ivu-tooltip-arrow {\n    background-color: #fff;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editTemplate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editTemplate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./editTemplate.vue?vue&type=template&id=34ab057c&scoped=true&\"\nimport script from \"./editTemplate.vue?vue&type=script&lang=js&\"\nexport * from \"./editTemplate.vue?vue&type=script&lang=js&\"\nimport style0 from \"./editTemplate.vue?vue&type=style&index=0&id=34ab057c&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"34ab057c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}