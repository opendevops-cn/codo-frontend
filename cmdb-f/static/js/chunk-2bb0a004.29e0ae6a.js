(window["webpackJsonp_cmdb"]=window["webpackJsonp_cmdb"]||[]).push([["chunk-2bb0a004","chunk-2d0c17f4"],{"088b":function(e,t,a){},"45fc":function(e,t,a){"use strict";a.r(t),a.d(t,"getVPC",(function(){return s})),a.d(t,"optVPC",(function(){return l}));var i=a("be3b");const s=e=>Object(i["default"])({url:"/api/v2/cmdb/vpc/",method:"get",params:e}),l=(e,t)=>Object(i["default"])({url:"/api/v2/cmdb/vpc/",method:t,data:e})},"82e5":function(e,t,a){"use strict";a("088b")},"8a94":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"search-con search-con-top"},[t("Input",{staticClass:"search-input",attrs:{search:"",maxlength:50,placeholder:"输入关键字搜索"},on:{"on-search":e.handleSearch},model:{value:e.initPara.searchVal,callback:function(t){e.$set(e.initPara,"searchVal",t)},expression:"initPara.searchVal"}}),t("Button",{staticClass:"search-add-btn",attrs:{type:"error",disabled:0===e.selectList.length},on:{click:e.handleDel}},[e._v("批量删除")])],1),t("Table",{ref:"selection",attrs:{size:"small",columns:e.tableColumns,data:e.tableData,loading:e.i.tableLoading},on:{"on-sort-change":e.handleSort,"on-selection-change":e.handleSelect}}),t("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[t("div",{staticStyle:{float:"left"}},[t("Page",{attrs:{total:e.i.pageTotal,current:e.initPara.page_number,"page-size":e.initPara.page_size,"show-total":"","show-sizer":"","page-size-opts":[15,50,100,1e3]},on:{"on-change":e.handlerChangePage,"on-page-size-change":e.handlePageSize}})],1)])],1)},s=[],l=(a("14d9"),a("45fc")),n={data(){return{tableColumns:[{type:"selection",key:"",width:60,align:"center"},{title:"厂商",key:"cloud_name",align:"center",width:120,sortable:!0,render:(e,t)=>{const a=t.row.cloud_name;return e("div","qcloud"===a?[e("Tag",{props:{color:"geekblue"}},"腾讯云")]:"aliyun"===a?[e("Tag",{props:{color:"blue"}},"阿里云")]:"cds"===a?[e("Tag",{props:{color:"cyan"}},"首都云")]:"vmware"===a?[e("Tag",{props:{color:"purple"}},"VMware")]:"volc"===a?[e("Tag",{props:{color:"orange"}},"火山云")]:"gcp"===a?[e("Tag",{props:{color:"green"}},"谷歌云")]:"aws"===a?[e("Tag",{props:{color:"volcano"}},"AWS")]:[e("Tag",{props:{color:"gold"}},a)])}},{title:"状态",key:"state",align:"center",width:130,sortable:!0,render:(e,t)=>{const{row:a}=t,i="运行中"===a.state?"success":"关机"===a.state?"error":"创建中"===a.state?"primary":"error",s="运行中"===a.state?"运行中":"关机"===a.state?"已关机":"创建中"===a.state?"创建中":"未同步"===a.state?"未同步":a.state;return e("Tag",{props:{type:"dot",color:i}},s)}},{title:"VPC ID",key:"instance_id",tooltip:!0,width:200},{title:"名称",key:"vpc_name",tooltip:!0,sortable:!0,width:300},{title:"地域",key:"region",minWidth:90},{title:"网段",key:"cidr_block_v4",tooltip:!0,minWidth:130},{title:"虚拟子网",key:"vpc_switch",tooltip:!0,minWidth:220},{title:"更新时间",key:"update_time",width:170}],tableData:[],selectList:[],i:{pageTotal:0,tableLoading:!0},initPara:{page_number:1,page_size:15,searchVal:null,order_by:"",order:"ascend"}}},methods:{handleGetData(){Object(l["getVPC"])(this.initPara).then(e=>{0==e.code?(this.tableData=e.data,this.i.pageTotal=e.count):(this.i.pageTotal=0,this.tableData=[]),this.clearSelectAll(),this.i.tableLoading=!1})},handleDel(){this.$Modal.confirm({title:"二次确认",content:"确定删除已选中的数据？",onOk:()=>{Object(l["optVPC"])({id_list:this.selectList},"delete").then(e=>{0===e.code?(this.$Message.success(e.msg),this.handleGetData()):this.$Notice.error({title:""+e.msg})})},onCancel:()=>{this.$Message.info("回头是岸~")}})},handlerDetail(e){this.redisData=e,this.modalData.show=!0},handleSelect(e){let t=[];e.forEach(e=>{t.push(e.id)}),this.selectList=t},clearSelectAll(){this.$refs.selection.selectAll(!1)},handleSearch(){this.initPara.page_number=1,this.handleGetData()},handleSort(e,t,a){this.initPara.order="asc"===e.order?"ascend":"descend",this.initPara.order_by=e.key,this.handleGetData()},handlerChangePage(e){this.initPara.page_number=e,this.handleGetData()},handlePageSize(e){this.initPara.page_number=1,this.initPara.page_size=e,this.handleGetData()}},watch:{},computed:{},mounted(){this.handleGetData()}},r=n,o=(a("82e5"),a("2877")),c=Object(o["a"])(r,i,s,!1,null,"2b131bb2",null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2bb0a004.29e0ae6a.js.map