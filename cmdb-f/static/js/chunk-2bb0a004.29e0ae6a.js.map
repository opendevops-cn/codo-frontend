{"version":3,"sources":["webpack://cmdb-[name]/./src/api/cloud/vpc.js","webpack://cmdb-[name]/./src/views/cmdb/basic/asset-vpc.vue?de45","webpack://cmdb-[name]/./src/views/cmdb/basic/asset-vpc.vue","webpack://cmdb-[name]/src/views/cmdb/basic/asset-vpc.vue","webpack://cmdb-[name]/./src/views/cmdb/basic/asset-vpc.vue?9238","webpack://cmdb-[name]/./src/views/cmdb/basic/asset-vpc.vue?9c2d"],"names":["getVPC","params","request","url","method","optVPC","data","render","_vm","this","_c","_self","staticClass","attrs","on","handleSearch","model","value","initPara","searchVal","callback","$$v","$set","expression","selectList","length","handleDel","_v","ref","tableColumns","tableData","i","tableLoading","handleSort","handleSelect","staticStyle","pageTotal","page_number","page_size","handlerChangePage","handlePageSize","staticRenderFns","type","key","width","align","title","sortable","h","cloudName","row","cloud_name","props","color","state","text","tooltip","minWidth","order_by","order","methods","handleGetData","then","res","code","count","clearSelectAll","$Modal","confirm","content","onOk","id_list","$Message","success","msg","$Notice","error","onCancel","info","handlerDetail","redisData","modalData","show","val","selectIdList","forEach","item","push","id","$refs","selection","selectAll","column","watch","computed","mounted","component"],"mappings":"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","file":"static/js/chunk-2bb0a004.29e0ae6a.js","sourcesContent":["/* eslint-disable camelcase */\nimport request from '@/plugins/axios'\n\nexport const getVPC = (params) => request({\n  url: '/api/v2/cmdb/vpc/',\n  method: 'get',\n  params,\n})\n\nexport const optVPC = (data, method) => request({\n  url: '/api/v2/cmdb/vpc/',\n  method,\n  data,\n})\n\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./asset-vpc.vue?vue&type=style&index=0&id=2b131bb2&prod&lang=less&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"search-con search-con-top\"},[_c('Input',{staticClass:\"search-input\",attrs:{\"search\":\"\",\"maxlength\":50,\"placeholder\":\"输入关键字搜索\"},on:{\"on-search\":_vm.handleSearch},model:{value:(_vm.initPara.searchVal),callback:function ($$v) {_vm.$set(_vm.initPara, \"searchVal\", $$v)},expression:\"initPara.searchVal\"}}),_c('Button',{staticClass:\"search-add-btn\",attrs:{\"type\":\"error\",\"disabled\":_vm.selectList.length !== 0 ? false : true},on:{\"click\":_vm.handleDel}},[_vm._v(\"批量删除\")])],1),_c('Table',{ref:\"selection\",attrs:{\"size\":\"small\",\"columns\":_vm.tableColumns,\"data\":_vm.tableData,\"loading\":_vm.i.tableLoading},on:{\"on-sort-change\":_vm.handleSort,\"on-selection-change\":_vm.handleSelect}}),_c('div',{staticStyle:{\"margin\":\"10px\",\"overflow\":\"hidden\"}},[_c('div',{staticStyle:{\"float\":\"left\"}},[_c('Page',{attrs:{\"total\":_vm.i.pageTotal,\"current\":_vm.initPara.page_number,\"page-size\":_vm.initPara.page_size,\"show-total\":\"\",\"show-sizer\":\"\",\"page-size-opts\":[15, 50, 100, 1000]},on:{\"on-change\":_vm.handlerChangePage,\"on-page-size-change\":_vm.handlePageSize}})],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"search-con search-con-top\">\n       <Input class=\"search-input\" v-model=\"initPara.searchVal\" search :maxlength='50' @on-search=\"handleSearch\"  placeholder=\"输入关键字搜索\" />\n        <Button type=\"error\" class=\"search-add-btn\" @click=\"handleDel\" :disabled=\"selectList.length !== 0 ? false : true\">批量删除</Button>\n    </div>\n\n    <Table ref=\"selection\" size=\"small\"  :columns=\"tableColumns\" :data=\"tableData\" :loading=\"i.tableLoading\"\n     @on-sort-change=\"handleSort\"  @on-selection-change=\"handleSelect\" ></Table>\n\n      <!-- 分页 -->\n    <div style=\"margin: 10px; overflow: hidden\">\n      <div style=\"float: left;\">\n        <Page :total=\"i.pageTotal\" :current=\"initPara.page_number\" :page-size=\"initPara.page_size\" show-total show-sizer\n          :page-size-opts=\"[15, 50, 100, 1000]\" @on-change=\"handlerChangePage\" @on-page-size-change=\"handlePageSize\" />\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport { getVPC,optVPC } from '@/api/cloud/vpc.js'\nexport default {\n  data () {\n    return {\n      tableColumns: [\n        {\n            type: \"selection\",\n            key: \"\",\n            width: 60,\n            align: \"center\"\n        },\n        {\n          title: '厂商',\n          key: 'cloud_name',\n          align: 'center',\n          width: 120,\n          sortable: true,\n          // eslint-disable-next-line consistent-return\n          render: (h, params) => {\n            const cloudName = params.row.cloud_name\n            // const { cloud_name } = params.row\n            if (cloudName === 'qcloud') {\n              return h('div', [\n                h(\n                  'Tag',\n                  {\n                    props: { color: 'geekblue' },\n                  },\n                  '腾讯云',\n                ),\n              ])\n            } else if (cloudName === 'aliyun') {\n              return h('div', [\n                h(\n                  'Tag',\n                  {\n                    props: { color: 'blue' },\n                  },\n                  '阿里云',\n                ),\n              ])\n            } else if (cloudName === 'cds') {\n              return h('div', [\n                h(\n                  'Tag',\n                  {\n                    props: { color: 'cyan' },\n                  },\n                  '首都云',\n                ),\n              ])\n            } else if (cloudName === 'vmware') {\n              return h('div', [\n                h(\n                  'Tag',\n                  {\n                    props: { color: 'purple' },\n                  },\n                  'VMware',\n                ),\n              ])\n            } else if (cloudName === 'volc') {\n              return h('div', [\n                h(\n                  'Tag',\n                  {\n                    props: { color: 'orange' },\n                  },\n                  '火山云',\n                ),\n              ])\n            } else if (cloudName === 'gcp') {\n              return h('div', [\n                h(\n                  'Tag',\n                  {\n                    props: { color: 'green' },\n                  },\n                  '谷歌云',\n                ),\n              ])\n            } else if (cloudName === 'aws') {\n              return h('div', [\n                h(\n                  'Tag',\n                  {\n                    props: { color: 'volcano' },\n                  },\n                  'AWS',\n                ),\n              ])\n            } else {\n              return h('div', [\n                h(\n                  'Tag',\n                  {\n                    props: { color: 'gold' },\n                  },\n                  cloudName,\n                ),\n              ])\n            }\n          },\n        },\n        {\n          title: '状态',\n          key: 'state',\n          align: 'center',\n          width: 130,\n          sortable: true,\n          render: (h, params) => {\n            const { row } = params\n            // eslint-disable-next-line no-nested-ternary\n            const color = row.state === '运行中' ? 'success' : row.state === '关机' ? 'error' : row.state === '创建中' ? 'primary' : 'error'\n            // eslint-disable-next-line no-nested-ternary\n            const text = row.state === '运行中' ? '运行中' : row.state === '关机' ? '已关机' : row.state === '创建中' ? '创建中' : row.state === '未同步' ? '未同步' :  row.state\n            return h(\n              'Tag',\n              {\n                props: {\n                  type: 'dot',\n                  color,\n                },\n              },\n              text,\n            )\n          },\n        },\n        {\n          title: 'VPC ID',\n          key: 'instance_id',\n          tooltip: true,\n          width: 200\n        },\n        {\n          title: '名称',\n          key: 'vpc_name',\n          tooltip: true,\n          sortable: true,\n          width: 300\n        },\n        {\n          title: '地域',\n          key: 'region',\n          minWidth: 90\n        },\n        {\n          title: '网段',\n          key: 'cidr_block_v4',\n          tooltip: true,\n          minWidth: 130\n        },\n        {\n          title: '虚拟子网',\n          key: 'vpc_switch',\n          tooltip: true,\n          minWidth: 220\n        },\n        {\n          title: '更新时间',\n          key: 'update_time',\n          width: 170\n        }\n\n      ],\n      tableData: [],\n      selectList: [],\n      i: {\n          pageTotal: 0,\n          tableLoading: true\n      },\n      initPara: {\n          page_number: 1,\n          page_size: 15,\n          searchVal: null,\n          order_by: \"\",      //排序字段\n          order: \"ascend\", //排序 ascend descend\n      },\n    }\n  },\n  methods: {\n    handleGetData () {\n      getVPC(this.initPara).then(res => {\n        if (res.code == 0) {\n          this.tableData = res.data;\n          this.i.pageTotal = res.count;\n        } else {\n          this.i.pageTotal = 0\n          this.tableData = []\n        }\n        this.clearSelectAll();\n        this.i.tableLoading = false;\n      })\n    },\n    handleDel() {\n      this.$Modal.confirm({\n          title: \"二次确认\",\n          content: \"确定删除已选中的数据？\",\n          onOk: () => {\n              optVPC({ id_list: this.selectList }, \"delete\").then(res => {\n                  if (res.code === 0) {\n                      this.$Message.success(res.msg);\n                      this.handleGetData();\n                  }\n                  else {\n                      this.$Notice.error({ title: `${res.msg}` });\n                  }\n              });\n          },\n          onCancel: () => {\n              this.$Message.info(\"回头是岸~\");\n          },\n      });\n    },\n    // 详细信息\n    handlerDetail (value) {\n      this.redisData = value\n      this.modalData.show = true\n    },\n    handleSelect(val) {\n        let selectIdList = [];\n        val.forEach(item => {\n            selectIdList.push(item.id);\n        });\n        this.selectList = selectIdList;\n    },\n    // 清空table已选择\n    clearSelectAll() {\n        this.$refs.selection.selectAll(false);\n    },\n    handleSearch() {\n        this.initPara.page_number = 1;\n        this.handleGetData();\n    },\n    handleSort (column, key, order) {\n        this.initPara.order = column.order === \"asc\" ? 'ascend' : 'descend'\n        this.initPara.order_by = column.key\n        this.handleGetData()\n      },\n    // 分页\n    handlerChangePage(value) {\n        this.initPara.page_number = value;\n        this.handleGetData();\n    },\n    handlePageSize(value) {\n        this.initPara.page_number = 1;\n        this.initPara.page_size = value;\n        this.handleGetData();\n    },\n  },\n  watch: {\n  },\n  computed: {\n  },\n  mounted () {\n    this.handleGetData()\n  }\n}\n</script>\n<style lang=\"less\" scoped>\n.search-con {\n  padding: 5px 0;\n  .search {\n    &-input {\n      display: inline-block;\n      width: 350px;\n      margin-left: 2px;\n    }\n     &-add-btn {\n      margin-left: 2px;\n      margin-right: 3px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./asset-vpc.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./asset-vpc.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./asset-vpc.vue?vue&type=template&id=2b131bb2&scoped=true&\"\nimport script from \"./asset-vpc.vue?vue&type=script&lang=js&\"\nexport * from \"./asset-vpc.vue?vue&type=script&lang=js&\"\nimport style0 from \"./asset-vpc.vue?vue&type=style&index=0&id=2b131bb2&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2b131bb2\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}