"use strict";(self.webpackChunkn2=self.webpackChunkn2||[]).push([[7821],{77821:function(Be,ae,a){a.d(ae,{eF:function(){return fe},ML:function(){return Te},er:function(){return Fe}});var re=a(26068),T=a.n(re),oe=a(82187),ie=a.n(oe),b=a(75271),Y=a(22501),le=(0,Y.kc)(function(e){var t=e.token;return{input:{width:"45px",height:"45px",padding:"0",fontSize:"24px",textAlign:"center",marginRight:"12px",textTransform:"uppercase",color:"#494949",fontFamily:"SF Pro Text, SF Pro Icons, Helvetica Neue, Helvetica, Arial, sans-serif",border:"1px solid #d6d6d6",borderRadius:"4px",background:"#fff",backgroundClip:"padding-box","&:focus":{appearance:"none",outline:"0",boxShadow:"0 0 0 3px rgb(131 192 253 / 50%)"}}}}),ue=le,P=a(52676),se=["alpha","numeric","alphanumeric"],ce={alpha:{type:"text",inputMode:"text",pattern:"[a-zA-Z]{1}"},alphanumeric:{type:"text",inputMode:"text",pattern:"[a-zA-Z0-9]{1}"},numeric:{type:"tel",inputMode:"numeric",pattern:"[0-9]{1}",min:"0",max:"9"}},de=(0,b.forwardRef)(function(e,t){var i=e.allowedCharacters,p=i===void 0?"alphanumeric":i,x=e.ariaLabel,f=e.autoFocus,S=f===void 0?!0:f,z=e.containerClassName,H=e.disabled,I=e.inputClassName,y=e.isPassword,L=y===void 0?!1:y,B=e.length,C=B===void 0?6:B,l=e.placeholder,E=e.onChange;if(isNaN(C)||C<1)throw new Error("Length should be a number and greater than 0");if(!se.some(function(h){return h===p}))throw new Error("Invalid value for allowedCharacters. Use alpha, numeric, or alphanumeric");var W=ue(),$=W.styles,d=ie()($.input),u=(0,b.useRef)([]),w=ce[p];(0,b.useImperativeHandle)(t,function(){return{focus:function(){u.current&&u.current[0].focus()},clear:function(){if(u.current){for(var n=0;n<u.current.length;n++)u.current[n].value="";u.current[0].focus()}s()}}}),(0,b.useEffect)(function(){S&&u.current[0].focus()},[]);for(var s=function(){var n=u.current.map(function(j){return j.value}).join("");E&&E(n)},v=function(n){var j=n.target,c=j.value,g=j.nextElementSibling;c.length>1?(n.target.value=c.charAt(0),g!==null&&g.focus()):c.match(w.pattern)?g!==null&&g.focus():n.target.value="",s()},R=function(n){var j=n.key,c=n.target;if(j==="Backspace"){if(c.value===""){if(c.previousElementSibling!==null){var g=c.previousElementSibling;g.value="",g.focus(),n.preventDefault()}}else c.value="";s()}},D=function(n){n.target.select()},M=function(n){for(var j=n.clipboardData.getData("Text"),c=0,g=0;g<j.length;g++){var m=j.charAt(g),r=u.current[c].value;m.match(w.pattern)&&(r||(u.current[c].value=m,u.current[c].nextElementSibling!==null&&(u.current[c].nextElementSibling.focus(),c++)))}s(),n.preventDefault()},Z=[],O=function(n){Z.push((0,P.jsx)("input",T()(T()({onChange:v,onKeyDown:R,onFocus:D,onPaste:M},w),{},{type:L?"password":w.type,ref:function(c){u.current[n]=c},maxLength:1,className:d,autoComplete:n===0?"one-time-code":"off","aria-label":x?"".concat(x,". Character ").concat(n+1,"."):"Character ".concat(n+1,"."),disabled:H,placeholder:l}),n))},N=0;N<C;N++)O(N);return(0,P.jsx)("div",{className:z,children:Z})}),fe=de,ve=a(48305),k=a.n(ve),he=a(67825),ge=a.n(he),me=a(12351),pe=a(37757),G=a(55387),q=a(58261),Q=a(27462),xe=["showFullScreenButton","fullScreenHeight","initialHeight","maxHeight","dynamicHeight"];G._m.config({monaco:Q});var Se={position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:10015,background:"#1e1e1e"},_={position:"absolute",right:10,top:10,zIndex:10,padding:"4px 14px",fontSize:20,cursor:"pointer"},ye=T()(T()({},_),{},{zIndex:10020}),Ce=function(t){var i=t.showFullScreenButton,p=i===void 0?!1:i,x=t.fullScreenHeight,f=t.initialHeight,S=f===void 0?"250px":f,z=t.maxHeight,H=z===void 0?"500px":z,I=t.dynamicHeight,y=I===void 0?!1:I,L=ge()(t,xe),B=(0,b.useState)(!1),C=k()(B,2),l=C[0],E=C[1],W=(0,b.useState)(t.value),$=k()(W,2),d=$[0],u=$[1],w=(0,b.useRef)(null),s=(0,b.useState)(S),v=k()(s,2),R=v[0],D=v[1],M=(0,b.useRef)(null),Z=(0,b.useRef)(0),O=function(){var m=t.theme||"";return typeof m=="string"&&m.includes("dark")?"#fff":"#000"}();(0,b.useEffect)(function(){u(t.value)},[t.value]);var N=function(){M.current&&clearTimeout(M.current),M.current=setTimeout(function(){if(w.current){var r=w.current.getModel();if(r){var o=r.getLineCount(),V=w.current.getOption(Q.editor.EditorOption.lineHeight)||19,U=o*V+20,K=typeof S=="string"?parseInt(S,10):S,Ie=typeof H=="string"?parseInt(H,10):H,X=Math.max(K,Math.min(U,Ie));Math.abs(X-Z.current)>2&&(Z.current=X,D("".concat(X,"px")))}}},50)},h=function(r){u(r),t.onChange&&t.onChange(r,void 0),y&&w.current&&N()},n=function(r){w.current=r,y&&setTimeout(function(){N()},100),t.onMount&&t.onMount(r,Q)};(0,b.useEffect)(function(){return function(){M.current&&clearTimeout(M.current)}},[]),(0,b.useEffect)(function(){var m=function(o){o.key==="Escape"&&l&&(o.stopPropagation(),o.preventDefault(),E(!1))};return l&&document.addEventListener("keydown",m,!0),function(){document.removeEventListener("keydown",m,!0)}},[l]);var j={minimap:{enabled:!1},scrollBeyondLastLine:!1,scrollbar:{alwaysConsumeMouseWheel:!1}},c=T()(T()({},j),t.options||{}),g=l?x||"calc(100vh)":y?R:t.height||S;return(0,P.jsxs)("div",{style:{position:"relative"},children:[!l&&p&&(0,P.jsx)("div",{style:_,children:(0,P.jsx)(q.Z,{title:"\u5168\u5C4F\u7F16\u8F91",children:(0,P.jsx)(me.Z,{fill:O,onClick:function(){return E(!0)}})})}),l?(0,P.jsxs)("div",{style:Se,children:[(0,P.jsx)("div",{style:ye,children:(0,P.jsx)(q.Z,{title:"\u9000\u51FA\u5168\u5C4F",children:(0,P.jsx)(pe.Z,{fill:O,onClick:function(){return E(!1)}})})}),(0,P.jsx)(G.ZP,T()(T()({},L),{},{value:d,onChange:h,onMount:n,height:g,options:c}))]}):(0,P.jsx)(G.ZP,T()(T()({},L),{},{value:d,onChange:h,onMount:n,height:g,options:c}))]})},Te=Ce,$e=function(){return _jsx(DefaultFooter,{style:{background:"none"},copyright:"Powered by Ant Desgin",links:[{key:"Ant Design Pro",title:"Ant Design Pro",href:"https://pro.ant.design",blankTarget:!0},{key:"github",title:_jsx(GithubOutlined,{}),href:"https://github.com/ant-design/ant-design-pro",blankTarget:!0},{key:"Ant Design",title:"Ant Design",href:"https://ant.design",blankTarget:!0}]})},Re=null,be=a(82092),F=a.n(be),A=function(e){return e.New="0",e.Waiting="1",e.InProgress="2",e.Completed="3",e.ExecutionError="4",e.ManualProcessing="5",e.Scheduled="7",e.Queued="11",e.ConditionError="24",e}({}),J=function(e){return e.Online="1",e.Offline="2",e.Unknown="3",e}({}),Pe={order_state:F()(F()(F()(F()(F()(F()(F()(F()(F()({},A.New,{color:"default",text:"\u65B0\u5EFA"}),A.Waiting,{color:"cyan",text:"\u7B49\u5F85"}),A.InProgress,{color:"blue",text:"\u5904\u7406\u4E2D"}),A.Completed,{color:"green",text:"\u5B8C\u6210"}),A.ExecutionError,{color:"red",text:"\u6267\u884C\u9519\u8BEF"}),A.ManualProcessing,{color:"gold",text:"\u624B\u5DE5\u5904\u7406"}),A.Scheduled,{color:"purple",text:"\u5B9A\u65F6"}),A.Queued,{color:"orange",text:"\u6392\u961F"}),A.ConditionError,{color:"error",text:"\u6761\u4EF6\u9519\u8BEF"}),agent_status:F()(F()(F()({},J.Online,{color:"green",text:"\u5728\u7EBF"}),J.Offline,{color:"red",text:"\u79BB\u7EBF"}),J.Unknown,{color:"default",text:"\u672A\u77E5"}),flow_run_state:{\u6392\u961F\u4E2D:{color:"orange",text:"\u6392\u961F\u4E2D"},\u7EC8\u6B62:{color:"magenta",text:"\u7EC8\u6B62"},\u6210\u529F:{color:"green",text:"\u6210\u529F"},\u5931\u8D25:{color:"error",text:"\u5931\u8D25"},\u5904\u7406\u4E2D:{color:"blue",text:"\u5904\u7406\u4E2D"}}},De=function(t){var i=t.status,p=t.statusType,x=Pe[p],f=x[i]||{color:"blue",text:String(i)};return _jsx(Tag,{color:f.color,children:f.text})},Me=null,ee=a(17534),Ee=a(69718),we=a(29038),te=a(28207),je=function(t){var i,p,x,f,S,z=t.label,H=t.syncUrlParams,I=H===void 0?!0:H,y=t.disabled,L=y===void 0?!1:y,B=t.mode,C=t.showDefaultValue,l=C===void 0?!0:C,E=t.width,W=E===void 0?200:E,$=(0,ee.useModel)("@@initialState"),d=$.initialState,u=$.setInitialState,w=(0,te.Z)("tenantid",{defaultValue:"502",serializer:function(o){return o},deserializer:function(o){return o}}),s=k()(w,2),v=s[0],R=s[1],D=(0,te.Z)("tenant",{defaultValue:"",serializer:function(o){return o},deserializer:function(o){return o}}),M=k()(D,2),Z=M[0],O=M[1],N=(d==null||(i=d.bizListData)===null||i===void 0?void 0:i.data)||[],h=(p=(x=d==null?void 0:d.currentBizId)!==null&&x!==void 0?x:v)!==null&&p!==void 0?p:"502",n=(f=(S=d==null?void 0:d.currentBizName)!==null&&S!==void 0?S:Z)!==null&&f!==void 0?f:"",j=(0,ee.useSearchParams)(),c=k()(j,2),g=c[0],m=c[1];return(0,b.useEffect)(function(){var r=new URLSearchParams(g.toString()),o=r.get("tenantid"),V=r.get("tenant");o&&V?(R(o),O(V),u(T()(T()({},d),{},{currentBizId:o,currentBizName:V}))):(r.set("tenantid",h),r.set("tenant",n),m(r),R(h),O(n))},[h,n]),(0,P.jsx)(Ee.A,{submitter:!1,layout:"inline",style:{margin:0,padding:0},children:(0,P.jsx)(we.Z,{name:B?"tenant_list":"tenantid",label:z,showSearch:!0,allowClear:!1,mode:B,fieldProps:{value:l?h:void 0,disabled:L},valueEnum:N.reduce(function(r,o){return r[o.biz_id]=o.biz_cn_name,r},{}),style:{width:W},placeholder:"\u8BF7\u9009\u62E9\u9879\u76EE",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u9879\u76EE"}],onChange:function(o,V){if(I){var U=V.title,K=new URLSearchParams(g.toString());K.set("tenantid",o),K.set("tenant",U),m(K),R(o),O(U),u(T()(T()({},d),{},{currentBizId:o,currentBizName:U}))}}})})},Fe=je,Ae=a(15558),He=a(53649),Le=a.n(He),ne,ze=(0,Y.kc)(function(e){var t=e.css,i=e.token;return{customButton:t(ne||(ne=Le()([`
    &.ant-radio-button-wrapper {
      &.selected {
        color: white;
        background: `,`;
        border-color: `,`;
        border-right-color: #d9d9d9;

        &:hover {
          color: white;
          background: `,`;
          border-color: `,`;
          border-right-color: #d9d9d9;
        }
      }

      &::before {
        display: none;
      }
    }
  `])),i.colorPrimary,i.colorPrimary,i.colorPrimary,i.colorPrimary)}});function Oe(e){var t=e.buttonOptions,i=e.localStorageKey,p=i===void 0?"commonflow-selected-tags":i,x=e.defaultValue,f=x===void 0?["all"]:x,S=ze(),z=S.styles,H=useSearchParams(),I=_slicedToArray(H,2),y=I[0],L=I[1],B=React.useState([]),C=_slicedToArray(B,2),l=C[0],E=C[1],W=useLocalStorageState(p,{defaultValue:f}),$=_slicedToArray(W,2),d=$[0],u=$[1];useEffect(function(){var s=y.get("tagId");if(s){var v=s.split(",");E(v),u(v)}else d&&d.length>0?E(d):(E(f),u(f))},[y]),useEffect(function(){if(l.length>0){var s=new URLSearchParams(y.toString());s.set("tagId",l.join(",")),L(s)}},[l]);var w=function(v){var R=function(){return v==="all"||v==="my_favorite"?l.includes(v)?l.length===1?l:[]:[v]:l.includes(v)?l.length===1?l:l.filter(function(D){return D!==v}):[].concat(_toConsumableArray(l.filter(function(D){return D!=="all"&&D!=="my_favorite"})),[v])}();E(R),u(R)};return _jsx(ProForm.Item,{children:_jsx(Radio.Group,{optionType:"button",value:void 0,onChange:function(v){return w(v.target.value)},children:t.map(function(s){return _jsx(Radio.Button,{value:s.value,className:"".concat(z.customButton," ").concat(l.includes(s.value)?"selected":""),children:s.label},s.value)})})})}var Ne=function(t){var i=t.tags,p=i===void 0?[]:i,x=t.tagColor,f=t.marginTop,S=f===void 0?4:f,z=t.marginBottom,H=z===void 0?4:z,I=t.lineClamp,y=I===void 0?2:I,L=t.tooltipTitle,B=L!=null?L:p.join(", ");return _jsx(Tooltip,{title:B,children:_jsx("div",{style:{display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:y,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"pre-wrap"},children:p.map(function(C){return _jsx(Tag,{color:x,style:{marginTop:S,marginBottom:H},children:C},C)})})})},We=null}}]);
