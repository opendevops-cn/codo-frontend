"use strict";(self.webpackChunkcnmp=self.webpackChunkcnmp||[]).push([[4931],{61159:function(e,t,a){var l=a(24680),n=a(65095),r=a(83408),o=a(61960),s=a(56031),c=a(97500),i=a(32699),u=a(50959),d=a(22241),m=a(99182),v=a(2177),h=a(24831),x=a(32779),f=a(59409),j=a(5695),p=a(19175),_=a(11527),y=[n.N,r.N,o.N],N=[d.N,m.N,v.N,h.N,x.N,f.N,j.N];s.D([].concat(y,N,[p.N]));var w={tooltip:{confine:!0},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{},showTitle:!1}};t.Z=function(e){var t=e.option,a=e.opts,n=e.onEvents,r=e.onChartReady,o=e.theme,s=e.style,d=e.showLoading,m=void 0!==d&&d,v=(0,u.useRef)(),h=(0,u.useMemo)((function(){return(0,i.merge)({},w,t)}),[t]);return(0,u.useEffect)((function(){v.current&&v.current.getEchartsInstance().setOption(h)}),[h]),(0,_.jsx)(l.Z,{ref:v,echarts:c,option:h,notMerge:!0,lazyUpdate:!1,theme:o,onChartReady:r,onEvents:n,opts:a,showLoading:m,style:s})}},40967:function(e,t,a){a.r(t),a.d(t,{default:function(){return w}});var l=a(90228),n=a.n(l),r=a(87999),o=a.n(r),s=a(15268),c=a(61159),i=a(62193),u=a(50959),d={block:"block___rwgjW",container:"container___gdFZ0","summary-card":"summary-card___tVJAZ",summaryCard:"summary-card___tVJAZ",divide:"divide___CEO4P",circle:"circle___MIUXo"},m=a(11527),v=function(e){var t=e.data,a=e.subtitle,l=e.title,n=e.className,r=(0,u.useMemo)((function(){return{legend:{show:!1},toolbox:{show:!1},title:{text:"".concat(l,"\n").concat(a),left:"center",top:58,textStyle:{fontSize:14,lineHeight:20,textAlign:"center"}},color:t.map((function(e){return e.color})),series:[{type:"pie",radius:["63%","75%"],label:{show:!1},data:t}]}}),[t,l,a]);return(0,m.jsxs)(i.Z,{className:n,children:[(0,m.jsx)(c.Z,{option:r,style:{height:160,width:200}}),(0,m.jsx)(i.Z,{vertical:!0,style:{padding:"30px 0"},justify:"space-around",children:t.map((function(e,t){return(0,m.jsxs)(i.Z,{children:[(0,m.jsx)("div",{className:d.circle,style:{background:e.color}}),(0,m.jsx)("div",{style:{width:60},children:e.name}),(0,m.jsx)("div",{children:e.value})]},t)}))})]})},h=a(47212),x=a(88253),f=a(31988),j=a(27196),p=a(38218),_=a(82187),y=a.n(_),N=x.Z.Title,w=function(){var e=(0,h.Z)(o()(n()().mark((function e(){return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.Rn)();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{pollingInterval:3e3}).data;if(!e)return(0,m.jsx)(f.Z,{tip:"加载中..."});var t=e.overview,a=t.cluster,l=t.node,r=t.cpu,c=t.memory,u=e.follow,x=e.error;return(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{className:y()(d.container,d.block),style:{height:240},children:[(0,m.jsxs)(i.Z,{justify:"space-between",children:[(0,m.jsx)(N,{level:5,children:"资源概览"}),(0,m.jsx)(p.Link,{to:"/cluster-list",children:"全部集群"})]}),(0,m.jsxs)(i.Z,{children:[(0,m.jsx)(v,{className:d.summaryCard,title:"集群总数",subtitle:e.overview.cluster.total,data:[{value:a.running_total,name:"运行中",color:"#00C782"},{value:a.error_total,name:"异常",color:"#FF4D4F"},{value:a.offline_total,name:"离线",color:"#AAAAAA"}]}),(0,m.jsx)("div",{className:d.divide}),(0,m.jsx)(v,{className:d.summaryCard,title:"节点总数",subtitle:l.total,data:[{value:l.running_total,name:"运行中",color:"#00C782"},{value:l.error_total,name:"异常",color:"#FF4D4F"}]}),(0,m.jsx)("div",{className:d.divide}),(0,m.jsx)(v,{className:d.summaryCard,title:"CPU总数",subtitle:"".concat(r.total,"核"),data:[{value:r.unallocated_total,name:"未分配",color:"#3BA1FF"},{value:r.allocated_total,name:"已分配",color:"#00C782"}]}),(0,m.jsx)("div",{className:d.divide}),(0,m.jsx)(v,{className:d.summaryCard,title:"内存总数",subtitle:"".concat(c.total,"GB"),data:[{value:c.unallocated_total,name:"未分配",color:"#3BA1FF"},{value:c.allocated_total,name:"已分配",color:"#00C782"}]})]})]}),(0,m.jsx)("div",{className:d.containerTable,children:(0,m.jsx)(j.Z,{leftTitle:(0,m.jsx)(N,{level:5,children:"我的关注"}),dataSource:u.list||[],scroll:{y:160},showAll:!0})}),(0,m.jsx)("div",{className:d.containerTable,style:{marginTop:10},children:(0,m.jsx)(j.Z,{leftTitle:(0,m.jsx)(N,{level:5,children:"异常集群"}),showPagination:!1,dataSource:x.list||[],showFollow:!1,scroll:{y:160},showAll:!0})})]})}}}]);