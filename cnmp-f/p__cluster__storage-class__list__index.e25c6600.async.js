(self.webpackChunkcnmp=self.webpackChunkcnmp||[]).push([[6716],{27274:function(t,e,n){"use strict";n.d(e,{Z:function(){return g}});var r=n(15558),i=n.n(r),u=n(26068),a=n.n(u),o=n(48305),s=n.n(o),l=n(45778),c=n(95974),f=n(41710),d=n(10534),h=n(65460),v=n(96286),m=n(50959),p="table___Rup7Y",$=n(11527),g=function(t){var e=t.placeholder,n=t.request,r=t.columns,u=t.leftTitle,o=t.tableProps,g=t.showSearch,x=void 0===g||g,w=t.dataSource,y=t.searchWidth,S=t.rightTitle,D=void 0===S?[]:S,Z=t.refreshDeps,C=t.actionRef,T=t.hideTitle,_=t.searchStyle,M=t.onSearch,j=(0,l.T)(C),Y=(0,m.useState)(""),b=s()(Y,2),O=b[0],R=b[1],k=(0,m.useRef)(""),U=(0,d.Z)((function(){var t,e;null==M||M(O),null===(t=j.current)||void 0===t||null===(e=t.reloadAndRest)||void 0===e||e.call(t)}),{wait:500}).run;return(0,h.Z)((function(){var t;null===(t=j.current)||void 0===t||t.reload()}),Z||[]),(0,$.jsx)(f.Z,a()({className:p,actionRef:j,headerTitle:u,dataSource:w,search:!1,columns:r,request:n&&function(t){return n(a()(a()({},t),{},{keyword:k.current}))},pagination:{showSizeChanger:!0,defaultPageSize:50},options:{reload:!!n},toolBarRender:!T&&function(){return[].concat(i()(D),i()(x?[(0,$.jsx)(v.Z,{style:a()({width:null!=y?y:300},_),value:O,placeholder:e,onChange:function(t){R(t.target.value),k.current=t.target.value,U()},allowClear:!0,suffix:(0,$.jsx)(c.Z,{style:{color:"#918f8f"}})},"__search__input")]:[]))}},o))}},45778:function(t,e,n){"use strict";n.d(e,{T:function(){return i}});var r=n(50959),i=function(t,e){var n=(0,r.useRef)(e);return t||n}},92102:function(t,e,n){"use strict";n.r(e);var r=n(90228),i=n.n(r),u=n(87999),a=n.n(u),o=n(15268),s=n(79890),l=n(27274),c=n(34593),f=n(36954),d=n(16782),h=n(56765),v=n(38218),m=n(62193),p=n(89169),$=n(3885),g=n(50959),x=n(11527);e.default=function(){var t=(0,v.useParams)().clusterName,e=void 0===t?"":t,n=(0,g.useRef)();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(c.Z,{items:[{title:"存储类StorageClass"}]}),(0,x.jsx)(l.Z,{actionRef:n,columns:[{dataIndex:"name",title:"名称",width:300,ellipsis:!0,render:function(t,e){return(0,x.jsx)(d.Z,{follow_type:"StorageClass",follow_value:e.name,follow:e.is_followed,style:{paddingRight:6},title:e.name,children:(0,x.jsxs)(m.Z,{children:[t,e.is_default&&(0,x.jsx)(p.Z,{color:"blue",children:"Default"})]})})}},{dataIndex:"provisioner",title:"来源",width:180,ellipsis:!0},{dataIndex:"reclaim_policy",title:"回收策略",width:120,ellipsis:!0},{dataIndex:"volume_binding_mode",title:"存储卷绑定模式",width:180,ellipsis:!0},{dataIndex:"create_time",title:"创建时间",render:h.kZ,width:160},{dataIndex:"operation",title:"操作",fixed:"right",width:160,render:function(t,n){return(0,x.jsx)($.Z,{children:(0,x.jsx)(s.Z,{modalRender:function(t){return(0,x.jsx)(f.Z,{defaultValue:n.yaml,clusterName:e,onCancel:function(){t()}})},children:(0,x.jsx)("a",{children:"编辑yaml"})})})}}],request:function(){var t=a()(i()().mark((function t(n){var r;return i()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,o.TN)({cluster_name:e,page:n.current,page_size:n.pageSize,keyword:n.keyword});case 2:return r=t.sent,t.abrupt("return",{data:r.list||[],total:r.total||0});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),tableProps:{scroll:{x:1e3},rowKey:"name"},placeholder:"模糊搜索StorageClass名称"})]})}},56765:function(t,e,n){"use strict";n.d(e,{jp:function(){return s},kZ:function(){return c},yq:function(){return l}});var r=n(5726),i=n.n(r),u=n(11110),a=n.n(u);i().extend(a());var o=function(t){var e=(Date.now()-t)/1e3;return e<60?{duration:e,unit:"second"}:e<3600?{duration:Math.floor(e/60),unit:"minute"}:e<86400?{duration:Math.floor(e/3600),unit:"hour"}:{duration:Math.floor(e/86400),unit:"day"}},s=function(t){if(void 0===t)return"";var e=o(t);return"second"===e.unit?"1分钟内":"".concat(e.duration," ").concat({second:"秒",minute:"分钟",hour:"小时",day:"天"}[e.unit],"前")},l=function(t){var e=o(t);return"second"===e.unit?"1分钟内":"约".concat(e.duration).concat({second:"秒",minute:"分钟",hour:"小时",day:"天"}[e.unit])},c=function(t){return isNaN(Number(t))?t:i()(Number(t)).format("YYYY-MM-DD HH:mm:ss")}},10534:function(t,e,n){"use strict";var r=n(99938),i=n(66292),u=n.n(i),a=n(50959),o=n(53270),s=n(77924),l=n(25492),c=n(80785);e.Z=function(t,e){var n;c.Z&&((0,l.mf)(t)||console.error("useDebounceFn expected parameter is a function, got ".concat(typeof t)));var i=(0,o.Z)(t),f=null!==(n=null==e?void 0:e.wait)&&void 0!==n?n:1e3,d=(0,a.useMemo)((function(){return u()((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i.current.apply(i,(0,r.ev)([],(0,r.CR)(t),!1))}),f,e)}),[]);return(0,s.Z)((function(){d.cancel()})),{run:d,cancel:d.cancel,flush:d.flush}}},11110:function(t){t.exports=function(){"use strict";var t="minute",e=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(r,i,u){var a=i.prototype;u.utc=function(t){return new i({date:t,utc:!0,args:arguments})},a.utc=function(e){var n=u(this.toDate(),{locale:this.$L,utc:!0});return e?n.add(this.utcOffset(),t):n},a.local=function(){return u(this.toDate(),{locale:this.$L,utc:!1})};var o=a.parse;a.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),o.call(this,t)};var s=a.init;a.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else s.call(this)};var l=a.utcOffset;a.utcOffset=function(r,i){var u=this.$utils().u;if(u(r))return this.$u?0:u(this.$offset)?l.call(this):this.$offset;if("string"==typeof r&&(r=function(t){void 0===t&&(t="");var r=t.match(e);if(!r)return null;var i=(""+r[0]).match(n)||["-",0,0],u=i[0],a=60*+i[1]+ +i[2];return 0===a?0:"+"===u?a:-a}(r),null===r))return this;var a=Math.abs(r)<=16?60*r:r,o=this;if(i)return o.$offset=a,o.$u=0===r,o;if(0!==r){var s=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(o=this.local().add(a+s,t)).$offset=a,o.$x.$localOffset=s}else o=this.utc();return o};var c=a.format;a.format=function(t){var e=t||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return c.call(this,e)},a.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*t},a.isUTC=function(){return!!this.$u},a.toISOString=function(){return this.toDate().toISOString()},a.toString=function(){return this.toDate().toUTCString()};var f=a.toDate;a.toDate=function(t){return"s"===t&&this.$offset?u(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():f.call(this)};var d=a.diff;a.diff=function(t,e,n){if(t&&this.$u===t.$u)return d.call(this,t,e,n);var r=this.local(),i=u(t).local();return d.call(r,i,e,n)}}}()}}]);