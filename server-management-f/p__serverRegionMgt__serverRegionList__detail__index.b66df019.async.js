"use strict";(self.webpackChunkservermgmt=self.webpackChunkservermgmt||[]).push([[122],{41379:function(se,$,e){var G=e(26068),t=e.n(G),N=e(48305),u=e.n(N),y=e(90801),o=e(27610),O=e(50959),C=e(11527),w=function(p){var F,b,D,P=p.label,d=p.syncUrlParams,I=d===void 0?!0:d,V=p.disabled,Y=V===void 0?!1:V,M=p.display,L=M===void 0?!0:M,B=(0,y.useModel)("@@initialState"),f=B.initialState,te=B.setInitialState,ue=(f==null||(F=f.bizListData)===null||F===void 0?void 0:F.data)||[],X=(b=f==null?void 0:f.currentBizId)!==null&&b!==void 0?b:"",Z=(D=f==null?void 0:f.currentBizName)!==null&&D!==void 0?D:"",U=(0,y.useSearchParams)(),v=u()(U,2),x=v[0],A=v[1];return(0,O.useEffect)(function(){var j=new URLSearchParams(x.toString());j.set("tenantid",X),j.set("tenant",Z),A(j)},[X,Z]),(0,C.jsx)(o.Z,{name:"tenantid",label:P,showSearch:!0,allowClear:!1,fieldProps:{defaultValue:X,disabled:Y},valueEnum:ue.reduce(function(j,c){return j[c.biz_id]=c.biz_cn_name,j},{}),style:t()({width:200},L?{}:{display:"none"}),placeholder:"\u8BF7\u9009\u62E9\u9879\u76EE",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u9879\u76EE"}],onChange:function(c,R){if(I){var ie=R.title,re=new URLSearchParams(x.toString());re.set("tenantid",c),re.set("tenant",ie),A(re),te(t()(t()({},f),{},{currentBizId:c,currentBizName:ie}))}}})};$.Z=w},60602:function(se,$,e){e.d($,{j:function(){return t}});var G=e(90801);function t(N,u,y,o,O){var C=(0,G.useRequest)(N(u,y),{manual:!0,onSuccess:function(F){var b,D;F.code!==-1&&(O==null||O.success(F.msg)),o==null||(b=o.current)===null||b===void 0||(D=b.reloadAndRest)===null||D===void 0||D.call(b)},onError:function(){O==null||O.error("\u64CD\u4F5C\u5931\u8D25")}}),w=C.run,E=C.loading;return{runOpt:w,loading:E}}},66777:function(se,$,e){var G=e(90228),t=e.n(G),N=e(87999),u=e.n(N),y=e(48305),o=e.n(y),O=e(49547),C=e(78420),w=e(27610),E=e(19014),p=e(35748),F=e(34927),b=e(20902),D=e(47698),P=e(50959),d=e(11527),I=function(Y){var M=Y.mode,L=Y.initialValues,B=Y.onFinish,f=Y.trigger,te=Y.environmentOptions,ue=O.A.useForm(),X=o()(ue,1),Z=X[0];return(0,d.jsxs)(C.a,{title:M==="create"?"\u65B0\u5EFA\u5927\u533A":"\u7F16\u8F91\u5927\u533A",form:Z,onOpenChange:function(v){v?M==="create"?Z.setFieldsValue({visible:!0,is_test:!0,enable:!0,env_id:L==null?void 0:L.env_id}):M==="edit"&&L&&Z.setFieldsValue(L):Z.resetFields()},onFinish:function(){var U=u()(t()().mark(function v(x){var A;return t()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,B(x);case 2:if(A=c.sent,!A){c.next=5;break}return c.abrupt("return",!0);case 5:return c.abrupt("return",!1);case 6:case"end":return c.stop()}},v)}));return function(v){return U.apply(this,arguments)}}(),layout:"horizontal",labelCol:{span:4},trigger:f,children:[(0,d.jsx)(w.Z,{name:"env_id",label:"\u73AF\u5883",options:te,disabled:M==="edit",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u73AF\u5883"}]}),(0,d.jsx)(E.Z,{name:"name",label:"\u5927\u533A\u540D",placeholder:"\u8BF7\u8F93\u5165\u5927\u533A\u540D\u79F0",fieldProps:{maxLength:100},rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5927\u533A\u540D\u79F0"}]}),(0,d.jsx)(E.Z,{name:"big_area",label:"\u5927\u533A\u7F16\u53F7",placeholder:"\u8BF7\u8F93\u5165\u5927\u533A\u7F16\u53F7",fieldProps:{maxLength:50,disabled:M==="edit"},rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5927\u533A\u7F16\u53F7"},{pattern:/^\d+$/,message:"\u5927\u533A\u7F16\u53F7\u5FC5\u987B\u662F\u6574\u6570"},{validator:function(){var U=u()(t()().mark(function x(A,j){return t()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:case 1:case"end":return R.stop()}},x)}));function v(x,A){return U.apply(this,arguments)}return v}()}]}),(0,d.jsx)(w.Z,{name:"tags",label:"\u5927\u533A\u6807\u7B7E",mode:"tags",placeholder:"\u8BF7\u8F93\u5165/\u9009\u62E9\u5927\u533A\u6807\u7B7E\uFF0C\u652F\u6301\u591A\u4E2A\u6807\u7B7E",fieldProps:{maxTagCount:5,tokenSeparators:[","],onChange:function(v){Array.isArray(v)&&v.length>20&&(D.ZP.warning("\u6700\u591A\u53EA\u80FD\u9009\u62E920\u4E2A\u6807\u7B7E"),Z.setFieldsValue({tags:v.slice(0,20)}))}},rules:[{validator:function(){var U=u()(t()().mark(function x(A,j){return t()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(!(Array.isArray(j)&&j.length>20)){R.next=2;break}throw new Error("\u6700\u591A\u53EA\u80FD\u9009\u62E920\u4E2A\u6807\u7B7E");case 2:case"end":return R.stop()}},x)}));function v(x,A){return U.apply(this,arguments)}return v}()}]}),(0,d.jsx)(E.Z,{name:"address",label:"ping\u5730\u5740",placeholder:"\u8BF7\u8F93\u5165\u5927\u533A\u5730\u5740\uFF0C\u53EF\u7528\u4E8Eping\u5927\u533A\u5EF6\u8FDF",fieldProps:{maxLength:50}}),(0,d.jsx)(p.Z,{name:"utc_offset",label:"UTC\u65F6\u95F4\u504F\u79FB",min:-12,max:14,fieldProps:{precision:0},rules:[{required:!0,message:"\u8BF7\u8F93\u5165UTC\u65F6\u95F4\u504F\u79FB"}]}),(0,d.jsx)(F.Z.Group,{name:"visible",label:"\u73A9\u5BB6\u53EF\u89C1",options:[{label:"\u662F",value:!0},{label:"\u5426",value:!1}],required:!0}),(0,d.jsx)(b.Z,{name:"ext",label:"\u6269\u5C55\u4FE1\u606F",placeholder:"\u8BF7\u8F93\u5165\u6269\u5C55\u4FE1\u606F",fieldProps:{maxLength:500}})]})};$.Z=I},16497:function(se,$,e){e.r($),e.d($,{default:function(){return De}});var G=e(26068),t=e.n(G),N=e(90228),u=e.n(N),y=e(87999),o=e.n(y),O=e(48305),C=e.n(O),w=e(41379),E=e(60602),p=e(12876),F=e(58207),b=e(90801),D=e(40460),P=e(75343),d=e(16030),I=e(59349),V=e(56142),Y=e(14990),M=e(47698),L=e(38546),B=e(12400),f=e(54748),te=e(63463),ue=e(36735),X=e(23885),Z=e(50159),U=e(41268),v=e(5726),x=e.n(v),A=e(50959),j=e(66777),c=e(49547),R=e(78420),ie=e(19014),re=e(27610),ce=e(34927),ve=e(35748),he=e(20902),Ee=e(58499),r=e(11527),Fe=function(k){var W=k.mode,s=k.initialValues,z=k.onFinish,J=k.trigger,de=c.A.useForm(),le=C()(de,1),Q=le[0],ne=!(s!=null&&s.is_test),oe=(s==null?void 0:s.open_timestamp)&&x()().isAfter(x()(s.open_timestamp));return(0,r.jsxs)(R.a,{title:W==="create"?"\u65B0\u5EFA\u533A\u670D":"\u7F16\u8F91\u533A\u670D",form:Q,onOpenChange:function(m){m?W==="create"?Q.setFieldsValue(t()(t()({},s),{},{is_top:!0,visible:!0})):W==="edit"&&s&&Q.setFieldsValue(t()({},s)):Q.resetFields()},onFinish:function(){var H=o()(u()().mark(function m(g){var q;return u()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,z(t()(t()({},g),{},{open_timestamp:x()(g.open_timestamp).valueOf()}));case 2:if(q=T.sent,!q){T.next=5;break}return T.abrupt("return",!0);case 5:return T.abrupt("return",!1);case 6:case"end":return T.stop()}},m)}));return function(m){return H.apply(this,arguments)}}(),layout:"horizontal",labelCol:{span:4},trigger:J,children:[(0,r.jsx)(ie.Z,{name:"name",label:"\u533A\u670D\u540D",placeholder:"\u8BF7\u8F93\u5165\u533A\u670D\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u533A\u670D\u540D\u79F0"}]}),(0,r.jsx)(ie.Z,{name:"area",label:"\u533A\u670D\u7F16\u53F7",placeholder:"\u8BF7\u8F93\u5165\u533A\u670D\u7F16\u53F7",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u533A\u670D\u7F16\u53F7"}],disabled:W==="edit"}),(0,r.jsx)(re.Z,{name:"tags",label:"\u533A\u670D\u6807\u7B7E",mode:"tags",placeholder:"\u8BF7\u8F93\u5165/\u9009\u62E9\u533A\u670D\u6807\u7B7E\uFF0C\u652F\u6301\u591A\u4E2A\u6807\u7B7E",fieldProps:{maxTagCount:5,tokenSeparators:[","],onChange:function(m){Array.isArray(m)&&m.length>10&&(M.ZP.warning("\u6700\u591A\u53EA\u80FD\u9009\u62E910\u4E2A\u6807\u7B7E"),Q.setFieldsValue({tags:m.slice(0,10)}))}},rules:[{validator:function(){var H=o()(u()().mark(function g(q,ee){return u()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(!(Array.isArray(ee)&&ee.length>10)){_.next=2;break}throw new Error("\u6700\u591A\u53EA\u80FD\u9009\u62E910\u4E2A\u6807\u7B7E");case 2:case"end":return _.stop()}},g)}));function m(g,q){return H.apply(this,arguments)}return m}()}]}),(0,r.jsx)(re.Z,{name:"gate_address",label:"\u533A\u670D\u7F51\u5173\u5730\u5740",mode:"tags",placeholder:"\u8BF7\u8F93\u5165\u533A\u670D\u7F51\u5173\u5730\u5740\uFF0C\u652F\u6301\u591A\u4E2A\u6807\u7B7E",tooltip:W==="edit"&&ne?"\u751F\u4EA7\u73AF\u5883\u4E0D\u5141\u8BB8\u7F16\u8F91\u533A\u670D\u7F51\u7BA1\u5730\u5740\uFF0C\u8BF7\u8054\u7CFB\u8FD0\u7EF4\u4FEE\u6539":void 0,fieldProps:{maxTagCount:5,tokenSeparators:[","],onChange:function(m){Array.isArray(m)&&m.length>20&&(M.ZP.warning("\u6700\u591A\u53EA\u80FD\u9009\u62E920\u4E2A\u6807\u7B7E"),Q.setFieldsValue({gate_address:m.slice(0,20)}))}},disabled:W==="edit"&&ne,rules:[{required:!0},{validator:function(){var H=o()(u()().mark(function g(q,ee){return u()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(!(Array.isArray(ee)&&ee.length>20)){_.next=2;break}throw new Error("\u6700\u591A\u53EA\u80FD\u9009\u62E920\u4E2A\u6807\u7B7E");case 2:case"end":return _.stop()}},g)}));function m(g,q){return H.apply(this,arguments)}return m}()}]}),(0,r.jsx)(re.Z,{name:"state",label:"\u533A\u670D\u72B6\u6001",options:[{label:"\u7EF4\u62A4\u4E2D",value:0},{label:"\u6D41\u7545",value:1},{label:"\u62E5\u6324",value:2},{label:"\u706B\u7206",value:3}],rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u533A\u670D\u72B6\u6001"}]}),(0,r.jsx)(ce.Z.Group,{name:"is_top",label:"\u662F\u5426\u7F6E\u9876",options:[{label:"\u662F",value:!0},{label:"\u5426",value:!1}]}),(0,r.jsx)(ce.Z.Group,{name:"visible",label:"\u73A9\u5BB6\u53EF\u89C1",options:[{label:"\u662F",value:!0},{label:"\u5426",value:!1}]}),(0,r.jsx)(ve.Z,{name:"max_reg_count",label:"\u6700\u5927\u6CE8\u518C\u4EBA\u6570",min:0,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6700\u5927\u6CE8\u518C\u4EBA\u6570"}]}),(0,r.jsx)(ve.Z,{name:"max_alive_count",label:"\u6700\u5927\u5728\u7EBF\u4EBA\u6570",min:0,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6700\u5927\u5728\u7EBF\u4EBA\u6570"}]}),(0,r.jsx)(he.Z,{name:"ext",label:"\u6269\u5C55\u4FE1\u606F",placeholder:"\u8BF7\u8F93\u5165\u6269\u5C55\u4FE1\u606F"}),(0,r.jsx)(Ee.Z,{name:"open_timestamp",label:"\u5F00\u670D\u65F6\u95F4",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5F00\u670D\u65F6\u95F4"}],disabled:W==="edit"&&ne&&oe,tooltip:W==="edit"&&ne&&oe?"\u751F\u4EA7\u73AF\u5883\u4E0B\u5F53\u524D\u65F6\u95F4\u8D85\u8FC7\u5F00\u670D\u65F6\u95F4\u540E\uFF0C\u5F00\u670D\u65F6\u95F4\u4E0D\u5141\u8BB8\u7F16\u8F91":void 0})]})},_e=Fe,be=function(){var k,W=(0,b.useLocation)(),s=new URLSearchParams(W.search).get("env_id"),z=(k=W.pathname.split("/").pop())!==null&&k!==void 0?k:"",J=(0,A.useRef)(),de=(0,A.useState)(""),le=C()(de,2),Q=le[0],ne=le[1],oe=(0,Y.Z)(Q,{wait:300}),H=M.ZP.useMessage(),m=C()(H,2),g=m[0],q=m[1],ee=(0,A.useState)(null),T=C()(ee,2),_=T[0],xe=T[1],Ae=(0,A.useState)(!0),pe=C()(Ae,2),je=pe[0],Oe=pe[1],fe=function(){var h=o()(u()().mark(function n(){var a;return u()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!s){i.next=15;break}return i.prev=1,i.next=4,(0,p.xA)({big_area:z,env_id:Number(s)});case 4:a=i.sent,a&&a.length>0?xe(a[0]):g.error("Failed to fetch region data"),i.next=12;break;case 8:i.prev=8,i.t0=i.catch(1),console.error("Error fetching region data:",i.t0),g.error("An error occurred while fetching region data");case 12:return i.prev=12,Oe(!1),i.finish(12);case 15:case"end":return i.stop()}},n,null,[[1,8,12,15]])}));return function(){return h.apply(this,arguments)}}();(0,A.useEffect)(function(){fe()},[s,g]);var Ce=(0,E.j)(p._q,"/".concat(F.Hg,"/v2/cmdb/big_area/"),"PUT",J,g),Be=Ce.runOpt,ge=(0,E.j)(p._q,"/".concat(F.Hg,"/v2/cmdb/area/"),"DELETE",J,g),ye=ge.runOpt,Me=ge.loading,Te=(0,E.j)(p._q,"/".concat(F.Hg,"/v2/cmdb/area/"),"PUT",J,g),Re=Te.runOpt,Se=(0,E.j)(p._q,"/".concat(F.Hg,"/v2/cmdb/area/"),"POST",J,g),Ie=Se.runOpt,Le=[{title:"\u533A\u670D\u540D",dataIndex:"name",width:150,ellipsis:!0},{title:"\u533A\u670D\u7F16\u53F7",dataIndex:"area",ellipsis:!0,width:200},{title:"\u533A\u670D\u6807\u7B7E",dataIndex:"tags",width:200,render:function(n,a){return(0,r.jsx)(L.Z,{title:(a.tags||[]).join(", "),children:(0,r.jsx)("div",{style:{display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:3,overflow:"hidden",textOverflow:"ellipsis"},children:(a.tags||[]).map(function(l){return(0,r.jsx)(B.Z,{style:{marginTop:"4px",marginBottom:"4px"},children:l},l)})})})}},{title:"\u533A\u670D\u72B6\u6001",dataIndex:"state",width:100,render:function(n){var a="default",l="\u672A\u77E5";switch(n){case 0:a="red",l="\u7EF4\u62A4\u4E2D";break;case 1:a="green",l="\u6D41\u7545";break;case 2:a="orange",l="\u62E5\u6324";break;case 3:a="volcano",l="\u706B\u7206";break}return(0,r.jsx)(B.Z,{color:a,children:l})}},{title:"\u7F6E\u9876",dataIndex:"is_top",width:90,render:function(n){return n?(0,r.jsx)(B.Z,{color:"green",children:"\u662F"}):(0,r.jsx)(B.Z,{color:"red",children:"\u5426"})}},{title:"\u73A9\u5BB6\u53EF\u89C1",dataIndex:"visible",width:90,render:function(n){return n?(0,r.jsx)(B.Z,{color:"green",children:"\u662F"}):(0,r.jsx)(B.Z,{color:"red",children:"\u5426"})}},{title:"\u6700\u5927\u6CE8\u518C\u4EBA\u6570",dataIndex:"max_reg_count",width:100},{title:"\u6700\u5927\u5728\u7EBF\u4EBA\u6570",dataIndex:"max_alive_count",width:200},{title:"\u6269\u5C55\u4FE1\u606F",dataIndex:"ext",width:200},{title:"\u533A\u670D\u7F51\u5173\u5730\u5740",dataIndex:"gate_address",width:200,render:function(n){var a=Array.isArray(n)?n:[n],l=a.slice(0,3),i=a.length>3;return(0,r.jsx)(L.Z,{title:a.join(`
`),children:(0,r.jsxs)("div",{style:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical"},children:[l.map(function(K,S){return(0,r.jsx)("div",{children:K},S)}),i&&(0,r.jsx)("div",{children:"..."})]})})}},{title:"\u5F00\u670D\u65F6\u95F4",dataIndex:"open_timestamp",width:200,render:function(n){return x()(n).format("YYYY-MM-DD HH:mm:ss")}},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",width:120,fixed:"right",render:function(n,a){return[(0,r.jsx)(_e,{mode:"edit",initialValues:a,onFinish:function(){var l=o()(u()().mark(function i(K){var S,me;return u()().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return ae.next=2,Re(t()(t()({},K),{},{env_id:Number(s),big_area:z}));case 2:return S=ae.sent,S&&((me=J.current)===null||me===void 0||me.reload()),ae.abrupt("return",S);case 5:case"end":return ae.stop()}},i)}));return function(i){return l.apply(this,arguments)}}(),trigger:(0,r.jsx)(f.Z.Link,{children:"\u7F16\u8F91"})},"edit"),(0,r.jsx)(te.Z,{title:"\u5220\u9664\u533A\u670D",description:(0,r.jsxs)(r.Fragment,{children:["\u5220\u9664\u533A\u670D ",a.name," \u4E4B\u540E\u65E0\u6CD5\u627E\u56DE\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C\uFF01"]}),onConfirm:function(){ye({area:a.area,env_id:Number(s),big_area:z})},okButtonProps:{loading:Me},children:(0,r.jsx)(f.Z.Link,{type:"danger",children:"\u5220\u9664"})},"delete")]}}];return(0,r.jsxs)(d._z,{title:"\u5927\u533A\uFF1A".concat((_==null?void 0:_.name)||""),ghost:!1,loading:je,extra:(0,r.jsx)(w.Z,{disabled:!0}),onBack:function(){b.history.push("/serverRegionMgt/serverRegionList")},children:[q,(0,r.jsxs)(ue.Z,{direction:"vertical",style:{width:"100%"},children:[_&&(0,r.jsx)(X.Z,{children:(0,r.jsx)(I.vY,{title:"\u5927\u533A\u8BE6\u60C5",dataSource:_,extra:[_&&(0,r.jsx)(j.Z,{mode:"edit",initialValues:_,environmentOptions:[{label:"",value:Number(s)}],onFinish:function(){var h=o()(u()().mark(function n(a){var l;return u()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.next=2,Be(a);case 2:return l=K.sent,l&&fe(),K.abrupt("return",l);case 5:case"end":return K.stop()}},n)}));return function(n){return h.apply(this,arguments)}}(),trigger:(0,r.jsx)(Z.ZP,{type:"primary",children:"\u7F16\u8F91"})},"edit")],columns:[{title:"\u5927\u533A\u540D",dataIndex:"name"},{title:"\u5927\u533A\u7F16\u53F7",dataIndex:"big_area",ellipsis:!0},{title:"\u5927\u533A\u6807\u7B7E",dataIndex:"tags",render:function(n){return(0,r.jsx)(L.Z,{title:n.join(", "),children:(0,r.jsx)("div",{style:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:n.map(function(a){return(0,r.jsx)(B.Z,{style:{marginBottom:"4px"},children:a},a)})})})}},{title:"\u73A9\u5BB6\u53EF\u89C1",dataIndex:"visible",render:function(n){return n?(0,r.jsx)(B.Z,{color:"green",children:"\u662F"}):(0,r.jsx)(B.Z,{color:"red",children:"\u5426"})}},{title:"UTC\u65F6\u95F4\u504F\u79FB",dataIndex:"utc_offset"},{title:"ping\u5730\u5740",dataIndex:"address"},{title:"\u6269\u5C55\u4FE1\u606F",dataIndex:"ext",ellipsis:!0,span:3}]})}),(0,r.jsx)(X.Z,{bodyStyle:{paddingTop:8},children:(0,r.jsx)(V.Z,{actionRef:J,params:{searchValue:oe,env_id:Number(s),big_area:z},rowKey:"area",search:!1,request:s&&z?(0,p.RT)(Number(s),z):void 0,columns:Le,scroll:{x:1200},pagination:{defaultPageSize:10,showSizeChanger:!0},toolbar:{title:(0,r.jsx)(f.Z.Title,{level:5,children:"\u533A\u670D\u5217\u8868"}),search:(0,r.jsx)(U.Z,{prefix:(0,r.jsx)(D.Z,{}),style:{width:400},placeholder:" \u6A21\u7CCA\u641C\u7D22\u533A\u670D\u540D\u3001\u533A\u670D\u7F16\u53F7\u3001\u533A\u670D\u6807\u7B7E\u3001\u6269\u5C55\u4FE1\u606F",allowClear:!0,value:Q,onChange:function(n){return ne(n.target.value)}}),actions:[(0,r.jsx)(_e,{mode:"create",initialValues:{env_id:Number(s),big_area:z,max_reg_count:1e4,max_alive_count:1e4},onFinish:function(){var h=o()(u()().mark(function n(a){var l,i;return u()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,Ie(t()(t()({},a),{},{env_id:Number(s),big_area:z}));case 2:return l=S.sent,l&&((i=J.current)===null||i===void 0||i.reload()),S.abrupt("return",l);case 5:case"end":return S.stop()}},n)}));return function(n){return h.apply(this,arguments)}}(),trigger:(0,r.jsx)(Z.ZP,{type:"primary",icon:(0,r.jsx)(P.Z,{}),children:"\u65B0\u5EFA\u533A\u670D"},"addServer")},"create")]},cardProps:{bodyStyle:{padding:0}}})})]})]})},De=be},12876:function(se,$,e){e.d($,{B9:function(){return O},RT:function(){return C},Rm:function(){return b},_q:function(){return F},xA:function(){return w}});var G=e(90228),t=e.n(G),N=e(87999),u=e.n(N),y=e(58207),o=e(60996);function O(P){return(0,o.Jl)("/".concat(y.Hg,"/v2/cmdb/big_area/"),{env_id:P})}function C(P,d){return(0,o.Jl)("/".concat(y.Hg,"/v2/cmdb/area/"),{env_id:P,big_area:d})}function w(P){return E.apply(this,arguments)}function E(){return E=u()(t()().mark(function P(d){return t()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.abrupt("return",(0,o.dT)("/".concat(y.Hg,"/v2/cmdb/big_area/detail/"),d));case 1:case"end":return V.stop()}},P)})),E.apply(this,arguments)}function p(){return commonGetListForTable2("/api/job/v1/flow/design/draft/")}function F(P,d){return(0,o.S_)(P,d)}function b(){return D.apply(this,arguments)}function D(){return D=u()(t()().mark(function P(){return t()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.abrupt("return",(0,o.dT)("/".concat(y.Hg,"/v2/cmdb/env/list/")));case 1:case"end":return I.stop()}},P)})),D.apply(this,arguments)}}}]);
