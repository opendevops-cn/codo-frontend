"use strict";(self.webpackChunkgamearea=self.webpackChunkgamearea||[]).push([[9080],{93689:function(I,v,e){var g=e(26068),r=e.n(g),j=e(75271),u=e(19667),_=e(99615),a=e(52676),o=function(h){var E=h.tags,d=h.maxLines,i=d===void 0?3:d,P=h.tagStyle,p=h.containerStyle,L=h.showTooltip,O=L===void 0?!0:L,s=(0,a.jsx)("div",{style:r()({display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:i,overflow:"hidden",textOverflow:"ellipsis"},p),children:E.map(function(b){return(0,a.jsx)(u.Z,{style:r()({marginTop:"4px",marginBottom:"4px"},P),children:b},b)})});return O&&E.length>0?(0,a.jsx)(_.Z,{title:E.join(", "),children:s}):s};v.Z=o},13449:function(I,v,e){var g=e(26068),r=e.n(g),j=e(48305),u=e.n(j),_=e(80364),a=e(80590),o=e(33095),S=e(75271),h=e(52676),E=function(i){var P,p,L,O,s,b=i.label,n=i.syncUrlParams,F=n===void 0?!0:n,W=i.disabled,w=W===void 0?!1:W,T=i.display,x=T===void 0?!0:T,y=(0,_.useModel)("@@initialState"),m=y.initialState,U=y.setInitialState,Z=(0,o.Z)("tenantid",{defaultValue:"502",serializer:function(f){return f},deserializer:function(f){return f}}),K=u()(Z,2),R=K[0],D=K[1],t=(0,o.Z)("tenant",{defaultValue:"",serializer:function(f){return f},deserializer:function(f){return f}}),c=u()(t,2),M=c[0],B=c[1],A=(m==null||(P=m.bizListData)===null||P===void 0?void 0:P.data)||[],l=(p=(L=m==null?void 0:m.currentBizId)!==null&&L!==void 0?L:R)!==null&&p!==void 0?p:"502",$=(O=(s=m==null?void 0:m.currentBizName)!==null&&s!==void 0?s:M)!==null&&O!==void 0?O:"",H=(0,_.useSearchParams)(),V=u()(H,2),N=V[0],J=V[1];return(0,S.useEffect)(function(){var C=new URLSearchParams(N.toString());C.set("tenantid",l),C.set("tenant",$),J(C),D(l),B($)},[l,$]),(0,h.jsx)(a.Z,{name:"tenantid",label:b,showSearch:!0,allowClear:!1,fieldProps:{defaultValue:l,disabled:w},valueEnum:A.reduce(function(C,f){return C[f.biz_id]=f.biz_cn_name,C},{}),style:r()({width:200},x?{}:{display:"none"}),placeholder:"\u8BF7\u9009\u62E9\u9879\u76EE",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u9879\u76EE"}],onChange:function(f,Q){if(F){var z=Q.title,G=new URLSearchParams(N.toString());G.set("tenantid",f),G.set("tenant",z),J(G),D(f),B(z),U(r()(r()({},m),{},{currentBizId:f,currentBizName:z}))}}})};v.Z=E},1283:function(I,v,e){e.d(v,{j:function(){return r}});var g=e(80364);function r(j,u,_,a,o){var S=(0,g.useRequest)(j(u,_),{manual:!0,onSuccess:function(i){var P,p;i.code!==-1&&(o==null||o.success(i.msg)),a==null||(P=a.current)===null||P===void 0||(p=P.reloadAndRest)===null||p===void 0||p.call(P)},onError:function(){o==null||o.error("\u64CD\u4F5C\u5931\u8D25")}}),h=S.run,E=S.loading;return{runOpt:h,loading:E}}},15185:function(I,v,e){e.d(v,{t:function(){return g}});var g=function(r){return r[r.Development=0]="Development",r[r.Test=1]="Test",r[r.Production=2]="Production",r[r.All=3]="All",r}({})},29920:function(I,v,e){e.d(v,{Z:function(){return W}});var g=e(90228),r=e.n(g),j=e(87999),u=e.n(j),_=e(26068),a=e.n(_),o=e(48305),S=e.n(o),h=e(4053),E=e(72408),d=e(7418),i=e(80590),P=e(48771),p=e(90614),L=e(16001),O=e(71328),s=e(75271),b=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return{validator:function(y,m){if(!m)return T?Promise.resolve():Promise.reject("\u53C2\u6570\u4E0D\u80FD\u4E3A\u7A7A");try{var U=JSON.parse(m);return Array.isArray(U)?Promise.resolve():Promise.reject("\u8BF7\u8F93\u5165\u6570\u7EC4\u683C\u5F0F\u7684JSON\uFF0C\u6700\u5916\u5C42\u5FC5\u987B\u4E3A[]")}catch(Z){return Promise.reject("\u8BF7\u8F93\u5165\u5408\u6CD5\u7684JSON\u683C\u5F0F")}},validateTrigger:["onChange","onBlur"]}},n=e(52676),F=function(T){var x=T.mode,y=T.initialValues,m=T.onFinish,U=T.trigger,Z=h.A.useForm(),K=S()(Z,1),R=K[0];return(0,n.jsxs)(E.a,{title:x==="create"?"\u65B0\u5EFA\u5927\u533A":"\u7F16\u8F91\u5927\u533A",form:R,drawerProps:{maskClosable:!1},onOpenChange:function(t){t?x==="create"?R.setFieldsValue({visible:!0,auto_sync:!1,is_test:!0,enable:!0}):x==="edit"&&y&&R.setFieldsValue(a()(a()({},y),{},{webhooks:y.webhooks?JSON.stringify(y.webhooks,null,2):void 0})):R.resetFields()},onFinish:function(){var D=u()(r()().mark(function t(c){var M;return r()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,m(a()(a()({},c),{},{webhooks:c.webhooks?JSON.parse(c.webhooks):[]}));case 2:if(M=A.sent,!M){A.next=5;break}return A.abrupt("return",!0);case 5:return A.abrupt("return",!1);case 6:case"end":return A.stop()}},t)}));return function(t){return D.apply(this,arguments)}}(),layout:"horizontal",labelCol:{span:4},trigger:U,children:[(0,n.jsx)(d.Z,{name:"name",label:"\u5927\u533A\u540D",placeholder:"\u8BF7\u8F93\u5165\u5927\u533A\u540D\u79F0",fieldProps:{maxLength:100},rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5927\u533A\u540D\u79F0"}]}),(0,n.jsx)(d.Z,{name:"big_area",label:"\u5927\u533A\u7F16\u53F7",placeholder:"\u8BF7\u8F93\u5165\u5927\u533A\u7F16\u53F7",fieldProps:{maxLength:50,disabled:x==="edit"},rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5927\u533A\u7F16\u53F7"},{validator:function(){var D=u()(r()().mark(function c(M,B){return r()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:case 1:case"end":return l.stop()}},c)}));function t(c,M){return D.apply(this,arguments)}return t}()}]}),(0,n.jsx)(i.Z,{name:"tags",label:"\u5927\u533A\u6807\u7B7E",mode:"tags",placeholder:"\u8BF7\u8F93\u5165/\u9009\u62E9\u5927\u533A\u6807\u7B7E\uFF0C\u652F\u6301\u591A\u4E2A\u6807\u7B7E",fieldProps:{maxTagCount:5,tokenSeparators:[","],onChange:function(t){Array.isArray(t)&&t.length>20&&(O.ZP.warning("\u6700\u591A\u53EA\u80FD\u9009\u62E920\u4E2A\u6807\u7B7E"),R.setFieldsValue({tags:t.slice(0,20)}))}},rules:[{validator:function(){var D=u()(r()().mark(function c(M,B){return r()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!(Array.isArray(B)&&B.length>20)){l.next=2;break}throw new Error("\u6700\u591A\u53EA\u80FD\u9009\u62E920\u4E2A\u6807\u7B7E");case 2:case"end":return l.stop()}},c)}));function t(c,M){return D.apply(this,arguments)}return t}()}]}),(0,n.jsx)(d.Z,{name:"idip",label:"IDIP\u5730\u5740",placeholder:"\u8BF7\u8F93\u5165IDIP\u5730\u5740"}),(0,n.jsx)(d.Z,{name:"app_secret",label:"AppSecret",placeholder:"\u8BF7\u8F93\u5165AppSecret"}),(0,n.jsx)(i.Z,{name:"gate_address",label:"\u5FAE\u670D\u52A1\u7F51\u5173\u5730\u5740",mode:"tags",placeholder:"\u8BF7\u8F93\u5165\u5FAE\u670D\u52A1\u7F51\u5173\u5730\u5740\uFF0C\u652F\u6301\u591A\u4E2A\u6807\u7B7E",fieldProps:{maxTagCount:5,tokenSeparators:[","],onChange:function(t){Array.isArray(t)&&t.length>20&&(O.ZP.warning("\u6700\u591A\u53EA\u80FD\u9009\u62E920\u4E2A\u6807\u7B7E"),R.setFieldsValue({gate_address:t.slice(0,20)}))}},rules:[{required:!0},{validator:function(){var D=u()(r()().mark(function c(M,B){return r()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!(Array.isArray(B)&&B.length>20)){l.next=2;break}throw new Error("\u6700\u591A\u53EA\u80FD\u9009\u62E920\u4E2A\u6807\u7B7E");case 2:case"end":return l.stop()}},c)}));function t(c,M){return D.apply(this,arguments)}return t}()}]}),(0,n.jsx)(d.Z,{name:"address",label:"ping\u5730\u5740",placeholder:"\u8BF7\u8F93\u5165\u5927\u533A\u5730\u5740\uFF0C\u53EF\u7528\u4E8Eping\u5927\u533A\u5EF6\u8FDF",fieldProps:{maxLength:50}}),(0,n.jsx)(P.Z,{name:"utc_offset",label:"UTC\u65F6\u95F4\u504F\u79FB",min:-12,max:14,fieldProps:{precision:0},rules:[{required:!0,message:"\u8BF7\u8F93\u5165UTC\u65F6\u95F4\u504F\u79FB"}]}),(0,n.jsx)(p.Z.Group,{name:"visible",label:"\u73A9\u5BB6\u53EF\u89C1",options:[{label:"\u662F",value:!0},{label:"\u5426",value:!1}],required:!0}),(0,n.jsx)(p.Z.Group,{name:"auto_sync",label:"\u81EA\u52A8\u540C\u6B65",options:[{label:"\u662F",value:!0},{label:"\u5426",value:!1}],required:!0}),(0,n.jsx)(d.Z,{name:"protocol_converter_host",label:"GM\u56DE\u8C03\u5730\u5740",placeholder:"\u8BF7\u8F93\u5165GM\u56DE\u8C03\u5730\u5740",fieldProps:{maxLength:1e3}}),(0,n.jsx)(L.Z,{name:"webhooks",label:"Webhooks",placeholder:"\u8BF7\u8F93\u5165Webhook\u914D\u7F6E\uFF0C\u9700\u8981JSON\u683C\u5F0F\uFF0C\u4E14\u5FC5\u987B\u4E3A\u6570\u7EC4",tooltip:(0,n.jsxs)("div",{children:["\u683C\u5F0F\u4E3A",(0,n.jsx)("br",{}),(0,n.jsx)("pre",{style:{margin:0,fontSize:"12px"},children:`[
    {
        "url": "www.baidu.com",
        "headers": "",
        "method": "POST",
        "data": {}
    }
]`}),"\u5176\u4E2D url\u5B57\u6BB5\u5FC5\u586B"]}),fieldProps:{maxLength:2e3,rows:4},rules:[b(!0)]}),(0,n.jsx)(d.Z,{name:"server_list_address",label:"\u533A\u670D\u5217\u8868\u5730\u5740",placeholder:"\u8BF7\u8F93\u5165\u533A\u670D\u5217\u8868\u5730\u5740",fieldProps:{maxLength:1e3}}),(0,n.jsx)(L.Z,{name:"ext",label:"\u6269\u5C55\u4FE1\u606F",placeholder:"\u8BF7\u8F93\u5165\u6269\u5C55\u4FE1\u606F",fieldProps:{maxLength:500}})]})},W=F},61531:function(I,v,e){e.d(v,{B9:function(){return o},RT:function(){return S},_q:function(){return p},eA:function(){return d},xA:function(){return h}});var g=e(90228),r=e.n(g),j=e(87999),u=e.n(j),_=e(41624),a=e(43883);function o(){return(0,a.nZ)("/".concat(_.Hg,"/v1/game_area/big_area/"))}function S(){return(0,a.nZ)("/".concat(_.Hg,"/v1/game_area/area/"))}function h(s){return E.apply(this,arguments)}function E(){return E=u()(r()().mark(function s(b){return r()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.abrupt("return",(0,a.B2)("/".concat(_.Hg,"/v1/game_area/big_area/detail/"),b));case 1:case"end":return F.stop()}},s)})),E.apply(this,arguments)}function d(s){return i.apply(this,arguments)}function i(){return i=u()(r()().mark(function s(b){return r()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.abrupt("return",(0,a.B2)("/".concat(_.Hg,"/v1/game_area/diff/"),b));case 1:case"end":return F.stop()}},s)})),i.apply(this,arguments)}function P(){return commonGetListForTable2("/api/job/v1/flow/design/draft/")}function p(s,b){return(0,a.S_)(s,b)}function L(){return O.apply(this,arguments)}function O(){return O=_asyncToGenerator(_regeneratorRuntime().mark(function s(){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",commonGetList("/".concat(apiPrefix1,"/cmdb/cbb_area/env/list/")));case 1:case"end":return n.stop()}},s)})),O.apply(this,arguments)}},76851:function(I,v,e){e.d(v,{f:function(){return _}});var g=e(53649),r=e.n(g),j=e(74788),u,_=(0,j.kc)(function(a){var o=a.css;return{pageContainer:{"& .ant-page-header-heading-extra":o(u||(u=r()([`
      position: absolute;
      top: 17px;
      right: 20px;
    `])))}}})}}]);
